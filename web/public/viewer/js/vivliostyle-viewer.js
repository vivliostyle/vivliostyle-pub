/**
 * @vivliostyle/viewer v2.0.0-pre.8
 * Vivliostyle Viewer UI component, for rich paged viewing and printing in browser.
 *
 * @author Vivliostyle Foundation
 * @license AGPL-3.0
 * @preserve
 */
!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}var t,n,i=e((function(e,t){
/*!
	   * Knockout JavaScript library v3.5.1
	   * (c) The Knockout.js team - http://knockoutjs.com/
	   * License: MIT (http://www.opensource.org/licenses/mit-license.php)
	   */
!function(n){var i=this||(0,eval)("this"),o=i.document,s=i.navigator,r=i.jQuery,a=i.JSON;r||"undefined"==typeof jQuery||(r=jQuery),function(n){n(e.exports||t)}((function(e,t){function l(e,t){return(null===e||typeof e in S)&&e===t}function h(e,t){var i;return function(){i||(i=y.a.setTimeout((function(){i=n,e()}),t))}}function c(e,t){var n;return function(){clearTimeout(n),n=y.a.setTimeout(e,t)}}function u(e,t){t&&"change"!==t?"beforeChange"===t?this.pc(e):this.gb(e,t):this.qc(e)}function d(e,t){null!==t&&t.s&&t.s()}function p(e,t){var n=this.qd,i=n[x];i.ra||(this.Qb&&this.mb[t]?(n.uc(t,e,this.mb[t]),this.mb[t]=null,--this.Qb):i.I[t]||n.uc(t,e,i.J?{da:e}:n.$c(e)),e.Ja&&e.gd())}var f,g,m,b,w,E,y=void 0!==e?e:{};y.b=function(e,t){for(var n=e.split("."),i=y,o=0;o<n.length-1;o++)i=i[n[o]];i[n[n.length-1]]=t},y.L=function(e,t,n){e[t]=n},y.version="3.5.1",y.b("version",y.version),y.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1},y.a=function(){function e(e,t){for(var n in e)c.call(e,n)&&t(n,e[n])}function t(e,t){if(t)for(var n in t)c.call(t,n)&&(e[n]=t[n]);return e}function l(e,t){return e.__proto__=t,e}function h(e,t,n,i){var o=e[t].match(w)||[];y.a.D(n.match(w),(function(e){y.a.Na(o,e,i)})),e[t]=o.join(" ")}var c=Object.prototype.hasOwnProperty,u={__proto__:[]}instanceof Array,d="function"==typeof Symbol,p={},f={};p[s&&/Firefox\/2/i.test(s.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],p.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),e(p,(function(e,t){if(t.length)for(var n=0,i=t.length;n<i;n++)f[t[n]]=e}));var g,m={propertychange:!0},b=o&&function(){for(var e=3,t=o.createElement("div"),i=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",i[0];);return 4<e?e:n}(),w=/\S+/g;return{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],D:function(e,t,n){for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e)},A:"function"==typeof Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t)}:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},Lb:function(e,t,i){for(var o=0,s=e.length;o<s;o++)if(t.call(i,e[o],o,e))return e[o];return n},Pa:function(e,t){var n=y.a.A(e,t);0<n?e.splice(n,1):0===n&&e.shift()},wc:function(e){var t=[];return e&&y.a.D(e,(function(e){0>y.a.A(t,e)&&t.push(e)})),t},Mb:function(e,t,n){var i=[];if(e)for(var o=0,s=e.length;o<s;o++)i.push(t.call(n,e[o],o));return i},jb:function(e,t,n){var i=[];if(e)for(var o=0,s=e.length;o<s;o++)t.call(n,e[o],o)&&i.push(e[o]);return i},Nb:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,i=t.length;n<i;n++)e.push(t[n]);return e},Na:function(e,t,n){var i=y.a.A(y.a.bc(e),t);0>i?n&&e.push(t):n||e.splice(i,1)},Ba:u,extend:t,setPrototypeOf:l,Ab:u?l:t,P:e,Ga:function(e,t,n){if(!e)return e;var i,o={};for(i in e)c.call(e,i)&&(o[i]=t.call(n,e[i],i,e));return o},Tb:function(e){for(;e.firstChild;)y.removeNode(e.firstChild)},Yb:function(e){for(var t=((e=y.a.la(e))[0]&&e[0].ownerDocument||o).createElement("div"),n=0,i=e.length;n<i;n++)t.appendChild(y.oa(e[n]));return t},Ca:function(e,t){for(var n=0,i=e.length,o=[];n<i;n++){var s=e[n].cloneNode(!0);o.push(t?y.oa(s):s)}return o},va:function(e,t){if(y.a.Tb(e),t)for(var n=0,i=t.length;n<i;n++)e.appendChild(t[n])},Xc:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var i=n[0],o=i.parentNode,s=0,r=t.length;s<r;s++)o.insertBefore(t[s],i);for(s=0,r=n.length;s<r;s++)y.removeNode(n[s])}},Ua:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){var n=e[0],i=e[e.length-1];for(e.length=0;n!==i;)e.push(n),n=n.nextSibling;e.push(i)}}return e},Zc:function(e,t){7>b?e.setAttribute("selected",t):e.selected=t},Db:function(e){return null===e||e===n?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ud:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},vd:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(1!==e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},Sb:function(e){return y.a.vd(e,e.ownerDocument.documentElement)},kd:function(e){return!!y.a.Lb(e,y.a.Sb)},R:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},Ac:function(e){return y.onError?function(){try{return e.apply(this,arguments)}catch(e){throw y.onError&&y.onError(e),e}}:e},setTimeout:function(e,t){return setTimeout(y.a.Ac(e),t)},Gc:function(e){setTimeout((function(){throw y.onError&&y.onError(e),e}),0)},B:function(e,t,n){var i=y.a.Ac(n);if(n=m[t],y.options.useOnlyNativeEvents||n||!r)if(n||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var o=function(t){i.call(e,t)},s="on"+t;e.attachEvent(s,o),y.a.K.za(e,(function(){e.detachEvent(s,o)}))}else e.addEventListener(t,i,!1);else g||(g="function"==typeof r(e).on?"on":"bind"),r(e)[g](t,i)},Fb:function(e,t){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var n;if(n=!("input"!==y.a.R(e)||!e.type||"click"!=t.toLowerCase())&&("checkbox"==(n=e.type)||"radio"==n),y.options.useOnlyNativeEvents||!r||n)if("function"==typeof o.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(n=o.createEvent(f[t]||"HTMLEvents")).initEvent(t,!0,!0,i,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(n)}else if(n&&e.click)e.click();else{if(void 0===e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}else r(e).trigger(t)},f:function(e){return y.O(e)?e():e},bc:function(e){return y.O(e)?e.v():e},Eb:function(e,t,n){var i;t&&("object"==typeof e.classList?(i=e.classList[n?"add":"remove"],y.a.D(t.match(w),(function(t){i.call(e.classList,t)}))):"string"==typeof e.className.baseVal?h(e.className,"baseVal",t,n):h(e,"className",t,n))},Bb:function(e,t){var i=y.a.f(t);null!==i&&i!==n||(i="");var o=y.h.firstChild(e);!o||3!=o.nodeType||y.h.nextSibling(o)?y.h.va(e,[e.ownerDocument.createTextNode(i)]):o.data=i,y.a.Ad(e)},Yc:function(e,t){if(e.name=t,7>=b)try{var n=e.name.replace(/[&<>'"]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}));e.mergeAttributes(o.createElement("<input name='"+n+"'/>"),!1)}catch(e){}},Ad:function(e){9<=b&&(e=1==e.nodeType?e:e.parentNode).style&&(e.style.zoom=e.style.zoom)},wd:function(e){if(b){var t=e.style.width;e.style.width=0,e.style.width=t}},Pd:function(e,t){e=y.a.f(e),t=y.a.f(t);for(var n=[],i=e;i<=t;i++)n.push(i);return n},la:function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t},Da:function(e){return d?Symbol(e):e},Zd:6===b,$d:7===b,W:b,Lc:function(e,t){for(var n=y.a.la(e.getElementsByTagName("input")).concat(y.a.la(e.getElementsByTagName("textarea"))),i="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},o=[],s=n.length-1;0<=s;s--)i(n[s])&&o.push(n[s]);return o},Nd:function(e){return"string"==typeof e&&(e=y.a.Db(e))?a&&a.parse?a.parse(e):new Function("return "+e)():null},hc:function(e,t,n){if(!a||!a.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return a.stringify(y.a.f(e),t,n)},Od:function(t,n,i){var s=(i=i||{}).params||{},r=i.includeFields||this.Jc,a=t;if("object"==typeof t&&"form"===y.a.R(t)){a=t.action;for(var l=r.length-1;0<=l;l--)for(var h=y.a.Lc(t,r[l]),c=h.length-1;0<=c;c--)s[h[c].name]=h[c].value}n=y.a.f(n);var u=o.createElement("form");for(var d in u.style.display="none",u.action=a,u.method="post",n)(t=o.createElement("input")).type="hidden",t.name=d,t.value=y.a.hc(y.a.f(n[d])),u.appendChild(t);e(s,(function(e,t){var n=o.createElement("input");n.type="hidden",n.name=e,n.value=t,u.appendChild(n)})),o.body.appendChild(u),i.submitter?i.submitter(u):u.submit(),setTimeout((function(){u.parentNode.removeChild(u)}),0)}}}(),y.b("utils",y.a),y.b("utils.arrayForEach",y.a.D),y.b("utils.arrayFirst",y.a.Lb),y.b("utils.arrayFilter",y.a.jb),y.b("utils.arrayGetDistinctValues",y.a.wc),y.b("utils.arrayIndexOf",y.a.A),y.b("utils.arrayMap",y.a.Mb),y.b("utils.arrayPushAll",y.a.Nb),y.b("utils.arrayRemoveItem",y.a.Pa),y.b("utils.cloneNodes",y.a.Ca),y.b("utils.createSymbolOrString",y.a.Da),y.b("utils.extend",y.a.extend),y.b("utils.fieldsIncludedWithJsonPost",y.a.Jc),y.b("utils.getFormFields",y.a.Lc),y.b("utils.objectMap",y.a.Ga),y.b("utils.peekObservable",y.a.bc),y.b("utils.postJson",y.a.Od),y.b("utils.parseJson",y.a.Nd),y.b("utils.registerEventHandler",y.a.B),y.b("utils.stringifyJson",y.a.hc),y.b("utils.range",y.a.Pd),y.b("utils.toggleDomNodeCssClass",y.a.Eb),y.b("utils.triggerEvent",y.a.Fb),y.b("utils.unwrapObservable",y.a.f),y.b("utils.objectForEach",y.a.P),y.b("utils.addOrRemoveItem",y.a.Na),y.b("utils.setTextContent",y.a.Bb),y.b("unwrap",y.a.f),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(1===arguments.length)return function(){return t.apply(e,arguments)};var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice(0);return i.push.apply(i,arguments),t.apply(e,i)}}),y.a.g=new function(){var e,t,i=0,o="__ko__"+(new Date).getTime(),s={};return y.a.W?(e=function(e,t){var r=e[o];if(!r||"null"===r||!s[r]){if(!t)return n;r=e[o]="ko"+i++,s[r]={}}return s[r]},t=function(e){var t=e[o];return!!t&&(delete s[t],e[o]=null,!0)}):(e=function(e,t){var n=e[o];return!n&&t&&(n=e[o]={}),n},t=function(e){return!!e[o]&&(delete e[o],!0)}),{get:function(t,n){var i=e(t,!1);return i&&i[n]},set:function(t,i,o){(t=e(t,o!==n))&&(t[i]=o)},Ub:function(t,n,i){return(t=e(t,!0))[n]||(t[n]=i)},clear:t,Z:function(){return i+++o}}},y.b("utils.domData",y.a.g),y.b("utils.domData.clear",y.a.g.clear),y.a.K=new function(){function e(e,t){var i=y.a.g.get(e,o);return i===n&&t&&(i=[],y.a.g.set(e,o,i)),i}function t(t){if(n=e(t,!1))for(var n=n.slice(0),o=0;o<n.length;o++)n[o](t);y.a.g.clear(t),y.a.K.cleanExternalData(t),a[t.nodeType]&&i(t.childNodes,!0)}function i(e,n){for(var i,o=[],s=0;s<e.length;s++)if((!n||8===e[s].nodeType)&&(t(o[o.length]=i=e[s]),e[s]!==i))for(;s--&&-1==y.a.A(o,e[s]););}var o=y.a.g.Z(),s={1:!0,8:!0,9:!0},a={1:!0,9:!0};return{za:function(t,n){if("function"!=typeof n)throw Error("Callback must be a function");e(t,!0).push(n)},yb:function(t,i){var s=e(t,!1);s&&(y.a.Pa(s,i),0==s.length&&y.a.g.set(t,o,n))},oa:function(e){return y.u.G((function(){s[e.nodeType]&&(t(e),a[e.nodeType]&&i(e.getElementsByTagName("*")))})),e},removeNode:function(e){y.oa(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){r&&"function"==typeof r.cleanData&&r.cleanData([e])}}},y.oa=y.a.K.oa,y.removeNode=y.a.K.removeNode,y.b("cleanNode",y.oa),y.b("removeNode",y.removeNode),y.b("utils.domNodeDisposal",y.a.K),y.b("utils.domNodeDisposal.addDisposeCallback",y.a.K.za),y.b("utils.domNodeDisposal.removeDisposeCallback",y.a.K.yb),f=[0,"",""],w={thead:g=[1,"<table>","</table>"],tbody:g,tfoot:g,tr:[2,"<table><tbody>","</tbody></table>"],td:m=[3,"<table><tbody><tr>","</tr></tbody></table>"],th:m,option:b=[1,"<select multiple='multiple'>","</select>"],optgroup:b},E=8>=y.a.W,y.a.ua=function(e,t){var n;if(r){if(r.parseHTML)n=r.parseHTML(e,t)||[];else if((n=r.clean([e],t))&&n[0]){for(var s=n[0];s.parentNode&&11!==s.parentNode.nodeType;)s=s.parentNode;s.parentNode&&s.parentNode.removeChild(s)}}else{(n=t)||(n=o),s=n.parentWindow||n.defaultView||i;var a,l=y.a.Db(e).toLowerCase(),h=n.createElement("div");for(a=(l=l.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&w[l[1]]||f,l=a[0],a="ignored<div>"+a[1]+e+a[2]+"</div>","function"==typeof s.innerShiv?h.appendChild(s.innerShiv(a)):(E&&n.body.appendChild(h),h.innerHTML=a,E&&h.parentNode.removeChild(h));l--;)h=h.lastChild;n=y.a.la(h.lastChild.childNodes)}return n},y.a.Md=function(e,t){var n=y.a.ua(e,t);return n.length&&n[0].parentElement||y.a.Yb(n)},y.a.fc=function(e,t){if(y.a.Tb(e),null!==(t=y.a.f(t))&&t!==n)if("string"!=typeof t&&(t=t.toString()),r)r(e).html(t);else for(var i=y.a.ua(t,e.ownerDocument),o=0;o<i.length;o++)e.appendChild(i[o])},y.b("utils.parseHtmlFragment",y.a.ua),y.b("utils.setHtml",y.a.fc),y.aa=function(){var e={};return{Xb:function(t){if("function"!=typeof t)throw Error("You can only pass a function to ko.memoization.memoize()");var n=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return e[n]=t,"\x3c!--[ko_memo:"+n+"]--\x3e"},bd:function(t,i){var o=e[t];if(o===n)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return o.apply(null,i||[]),!0}finally{delete e[t]}},cd:function(e,t){var n=[];!function e(t,n){if(t)if(8==t.nodeType)null!=(i=y.aa.Uc(t.nodeValue))&&n.push({ud:t,Kd:i});else if(1==t.nodeType)for(var i=0,o=t.childNodes,s=o.length;i<s;i++)e(o[i],n)}(e,n);for(var i=0,o=n.length;i<o;i++){var s=n[i].ud,r=[s];t&&y.a.Nb(r,t),y.aa.bd(n[i].Kd,r),s.nodeValue="",s.parentNode&&s.parentNode.removeChild(s)}},Uc:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),y.b("memoization",y.aa),y.b("memoization.memoize",y.aa.Xb),y.b("memoization.unmemoize",y.aa.bd),y.b("memoization.parseMemoText",y.aa.Uc),y.b("memoization.unmemoizeDomNodeAndDescendants",y.aa.cd),y.na=function(){function e(){if(s)for(var e,t=s,i=0;a<s;)if(e=n[a++]){if(a>t){if(5e3<=++i){a=s,y.a.Gc(Error("'Too much recursion' after processing "+i+" task groups."));break}t=s}try{e()}catch(e){y.a.Gc(e)}}}function t(){e(),a=s=n.length=0}var n=[],s=0,r=1,a=0;return{scheduler:i.MutationObserver?function(e){var t=o.createElement("div");return new MutationObserver(e).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}(t):o&&"onreadystatechange"in o.createElement("script")?function(e){var t=o.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,o.documentElement.removeChild(t),t=null,e()},o.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},zb:function(e){return s||y.na.scheduler(t),n[s++]=e,r++},cancel:function(e){(e-=r-s)>=a&&e<s&&(n[e]=null)},resetForTesting:function(){var e=s-a;return a=s=n.length=0,e},Sd:e}}(),y.b("tasks",y.na),y.b("tasks.schedule",y.na.zb),y.b("tasks.runEarly",y.na.Sd),y.Ta={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return y.$({read:e,write:function(i){clearTimeout(n),n=y.a.setTimeout((function(){e(i)}),t)}})},rateLimit:function(e,t){var n,i,o;"number"==typeof t?n=t:(n=t.timeout,i=t.method),e.Hb=!1,o="function"==typeof i?i:"notifyWhenChangesStop"==i?c:h,e.ub((function(e){return o(e,n,t)}))},deferred:function(e,t){if(!0!==t)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");e.Hb||(e.Hb=!0,e.ub((function(t){var i,o=!1;return function(){if(!o){y.na.cancel(i),i=y.na.zb(t);try{o=!0,e.notifySubscribers(n,"dirty")}finally{o=!1}}}})))},notify:function(e,t){e.equalityComparer="always"==t?null:l}};var S={undefined:1,boolean:1,number:1,string:1};y.b("extenders",y.Ta),y.ic=function(e,t,n){this.da=e,this.lc=t,this.mc=n,this.Ib=!1,this.fb=this.Jb=null,y.L(this,"dispose",this.s),y.L(this,"disposeWhenNodeIsRemoved",this.l)},y.ic.prototype.s=function(){this.Ib||(this.fb&&y.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)},y.ic.prototype.l=function(e){this.Jb=e,y.a.K.za(e,this.fb=this.s.bind(this))},y.T=function(){y.a.Ab(this,N),N.qb(this)};var N={qb:function(e){e.U={change:[]},e.sc=1},subscribe:function(e,t,n){var i=this;n=n||"change";var o=new y.ic(i,t?e.bind(t):e,(function(){y.a.Pa(i.U[n],o),i.hb&&i.hb(n)}));return i.Qa&&i.Qa(n),i.U[n]||(i.U[n]=[]),i.U[n].push(o),o},notifySubscribers:function(e,t){if("change"===(t=t||"change")&&this.Gb(),this.Wa(t)){var n="change"===t&&this.ed||this.U[t].slice(0);try{y.u.xc();for(var i,o=0;i=n[o];++o)i.Ib||i.lc(e)}finally{y.u.end()}}},ob:function(){return this.sc},Dd:function(e){return this.ob()!==e},Gb:function(){++this.sc},ub:function(e){var t,n,i,o,s,r=this,a=y.O(r);r.gb||(r.gb=r.notifySubscribers,r.notifySubscribers=u);var l=e((function(){r.Ja=!1,a&&o===r&&(o=r.nc?r.nc():r());var e=n||s&&r.sb(i,o);s=n=t=!1,e&&r.gb(i=o)}));r.qc=function(e,n){n&&r.Ja||(s=!n),r.ed=r.U.change.slice(0),r.Ja=t=!0,o=e,l()},r.pc=function(e){t||(i=e,r.gb(e,"beforeChange"))},r.rc=function(){s=!0},r.gd=function(){r.sb(i,r.v(!0))&&(n=!0)}},Wa:function(e){return this.U[e]&&this.U[e].length},Bd:function(e){if(e)return this.U[e]&&this.U[e].length||0;var t=0;return y.a.P(this.U,(function(e,n){"dirty"!==e&&(t+=n.length)})),t},sb:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},toString:function(){return"[object Object]"},extend:function(e){var t=this;return e&&y.a.P(e,(function(e,n){var i=y.Ta[e];"function"==typeof i&&(t=i(t,n)||t)})),t}};y.L(N,"init",N.qb),y.L(N,"subscribe",N.subscribe),y.L(N,"extend",N.extend),y.L(N,"getSubscriptionsCount",N.Bd),y.a.Ba&&y.a.setPrototypeOf(N,Function.prototype),y.T.fn=N,y.Qc=function(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},y.b("subscribable",y.T),y.b("isSubscribable",y.Qc),y.S=y.u=function(){function e(e){i.push(n),n=e}function t(){n=i.pop()}var n,i=[],o=0;return{xc:e,end:t,cc:function(e){if(n){if(!y.Qc(e))throw Error("Only subscribable things can act as dependencies");n.od.call(n.pd,e,e.fd||(e.fd=++o))}},G:function(n,i,o){try{return e(),n.apply(i,o||[])}finally{t()}},qa:function(){if(n)return n.o.qa()},Va:function(){if(n)return n.o.Va()},Ya:function(){if(n)return n.Ya},o:function(){if(n)return n.o}}}(),y.b("computedContext",y.S),y.b("computedContext.getDependenciesCount",y.S.qa),y.b("computedContext.getDependencies",y.S.Va),y.b("computedContext.isInitial",y.S.Ya),y.b("computedContext.registerDependency",y.S.cc),y.b("ignoreDependencies",y.Yd=y.u.G);var v=y.a.Da("_latestValue");y.ta=function(e){function t(){return 0<arguments.length?(t.sb(t[v],arguments[0])&&(t.ya(),t[v]=arguments[0],t.xa()),this):(y.u.cc(t),t[v])}return t[v]=e,y.a.Ba||y.a.extend(t,y.T.fn),y.T.fn.qb(t),y.a.Ab(t,C),y.options.deferUpdates&&y.Ta.deferred(t,!0),t};var C={equalityComparer:l,v:function(){return this[v]},xa:function(){this.notifySubscribers(this[v],"spectate"),this.notifySubscribers(this[v])},ya:function(){this.notifySubscribers(this[v],"beforeChange")}};y.a.Ba&&y.a.setPrototypeOf(C,y.T.fn);var T=y.ta.Ma="__ko_proto__";C[T]=y.ta,y.O=function(e){if((e="function"==typeof e&&e[T])&&e!==C[T]&&e!==y.o.fn[T])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");return!!e},y.Za=function(e){return"function"==typeof e&&(e[T]===C[T]||e[T]===y.o.fn[T]&&e.Nc)},y.b("observable",y.ta),y.b("isObservable",y.O),y.b("isWriteableObservable",y.Za),y.b("isWritableObservable",y.Za),y.b("observable.fn",C),y.L(C,"peek",C.v),y.L(C,"valueHasMutated",C.xa),y.L(C,"valueWillMutate",C.ya),y.Ha=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=y.ta(e),y.a.Ab(e,y.Ha.fn),e.extend({trackArrayChanges:!0})},y.Ha.fn={remove:function(e){for(var t=this.v(),n=[],i="function"!=typeof e||y.O(e)?function(t){return t===e}:e,o=0;o<t.length;o++){var s=t[o];if(i(s)){if(0===n.length&&this.ya(),t[o]!==s)throw Error("Array modified during remove; cannot remove item");n.push(s),t.splice(o,1),o--}}return n.length&&this.xa(),n},removeAll:function(e){if(e===n){var t=this.v(),i=t.slice(0);return this.ya(),t.splice(0,t.length),this.xa(),i}return e?this.remove((function(t){return 0<=y.a.A(e,t)})):[]},destroy:function(e){var t=this.v(),n="function"!=typeof e||y.O(e)?function(t){return t===e}:e;this.ya();for(var i=t.length-1;0<=i;i--){var o=t[i];n(o)&&(o._destroy=!0)}this.xa()},destroyAll:function(e){return e===n?this.destroy((function(){return!0})):e?this.destroy((function(t){return 0<=y.a.A(e,t)})):[]},indexOf:function(e){var t=this();return y.a.A(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.ya(),this.v()[n]=t,this.xa())},sorted:function(e){var t=this().slice(0);return e?t.sort(e):t.sort()},reversed:function(){return this().slice(0).reverse()}},y.a.Ba&&y.a.setPrototypeOf(y.Ha.fn,y.ta.fn),y.a.D("pop push reverse shift sort splice unshift".split(" "),(function(e){y.Ha.fn[e]=function(){var t=this.v();this.ya(),this.zc(t,e,arguments);var n=t[e].apply(t,arguments);return this.xa(),n===t?this:n}})),y.a.D(["slice"],(function(e){y.Ha.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}})),y.Pc=function(e){return y.O(e)&&"function"==typeof e.remove&&"function"==typeof e.push},y.b("observableArray",y.Ha),y.b("isObservableArray",y.Pc),y.Ta.trackArrayChanges=function(e,t){function i(){function t(){if(h){var t,n=[].concat(e.v()||[]);e.Wa("arrayChange")&&((!l||1<h)&&(l=y.a.Pb(r,n,e.Ob)),t=l),r=n,l=null,h=0,t&&t.length&&e.notifySubscribers(t,"arrayChange")}}a?t():(a=!0,s=e.subscribe((function(){++h}),null,"spectate"),r=[].concat(e.v()||[]),l=null,o=e.subscribe(t))}if(e.Ob={},t&&"object"==typeof t&&y.a.extend(e.Ob,t),e.Ob.sparse=!0,!e.zc){var o,s,r,a=!1,l=null,h=0,c=e.Qa,u=e.hb;e.Qa=function(t){c&&c.call(e,t),"arrayChange"===t&&i()},e.hb=function(t){u&&u.call(e,t),"arrayChange"!==t||e.Wa("arrayChange")||(o&&o.s(),s&&s.s(),s=o=null,a=!1,r=n)},e.zc=function(e,t,n){function i(e,t,n){return o[o.length]={status:e,value:t,index:n}}if(a&&!h){var o=[],s=e.length,r=n.length,c=0;switch(t){case"push":c=s;case"unshift":for(t=0;t<r;t++)i("added",n[t],c+t);break;case"pop":c=s-1;case"shift":s&&i("deleted",e[c],c);break;case"splice":t=Math.min(Math.max(0,0>n[0]?s+n[0]:n[0]),s),s=1===r?s:Math.min(t+(n[1]||0),s),r=t+r-2,c=Math.max(s,r);for(var u=[],d=[],p=2;t<c;++t,++p)t<s&&d.push(i("deleted",e[t],t)),t<r&&u.push(i("added",n[p],t));y.a.Kc(d,u);break;default:return}l=o}}}};var x=y.a.Da("_state");y.o=y.$=function(e,t,i){function o(){if(0<arguments.length){if("function"!=typeof s)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return s.apply(r.nb,arguments),this}return r.ra||y.u.cc(o),(r.ka||r.J&&o.Xa())&&o.ha(),r.X}if("object"==typeof e?i=e:(i=i||{},e&&(i.read=e)),"function"!=typeof i.read)throw Error("Pass a function that returns the value of the ko.computed");var s=i.write,r={X:n,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:i.read,nb:t||i.owner,l:i.disposeWhenNodeIsRemoved||i.l||null,Sa:i.disposeWhen||i.Sa,Rb:null,I:{},V:0,Ic:null};return o[x]=r,o.Nc="function"==typeof s,y.a.Ba||y.a.extend(o,y.T.fn),y.T.fn.qb(o),y.a.Ab(o,I),i.pure?(r.wb=!0,r.J=!0,y.a.extend(o,P)):i.deferEvaluation&&y.a.extend(o,A),y.options.deferUpdates&&y.Ta.deferred(o,!0),r.l&&(r.jc=!0,r.l.nodeType||(r.l=null)),r.J||i.deferEvaluation||o.ha(),r.l&&o.ja()&&y.a.K.za(r.l,r.Rb=function(){o.s()}),o};var I={equalityComparer:l,qa:function(){return this[x].V},Va:function(){var e=[];return y.a.P(this[x].I,(function(t,n){e[n.Ka]=n.da})),e},Vb:function(e){if(!this[x].V)return!1;var t=this.Va();return-1!==y.a.A(t,e)||!!y.a.Lb(t,(function(t){return t.Vb&&t.Vb(e)}))},uc:function(e,t,n){if(this[x].wb&&t===this)throw Error("A 'pure' computed must not be called recursively");this[x].I[e]=n,n.Ka=this[x].V++,n.La=t.ob()},Xa:function(){var e,t,n=this[x].I;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&(t=n[e],this.Ia&&t.da.Ja||t.da.Dd(t.La)))return!0},Jd:function(){this.Ia&&!this[x].rb&&this.Ia(!1)},ja:function(){var e=this[x];return e.ka||0<e.V},Rd:function(){this.Ja?this[x].ka&&(this[x].sa=!0):this.Hc()},$c:function(e){if(e.Hb){var t=e.subscribe(this.Jd,this,"dirty"),n=e.subscribe(this.Rd,this);return{da:e,s:function(){t.s(),n.s()}}}return e.subscribe(this.Hc,this)},Hc:function(){var e=this,t=e.throttleEvaluation;t&&0<=t?(clearTimeout(this[x].Ic),this[x].Ic=y.a.setTimeout((function(){e.ha(!0)}),t)):e.Ia?e.Ia(!0):e.ha(!0)},ha:function(e){var t=this[x],n=t.Sa,i=!1;if(!t.rb&&!t.ra){if(t.l&&!y.a.Sb(t.l)||n&&n()){if(!t.jc)return void this.s()}else t.jc=!1;t.rb=!0;try{i=this.zd(e)}finally{t.rb=!1}return i}},zd:function(e){var t=this[x],i=!1,o=t.wb?n:!t.V;i={qd:this,mb:t.I,Qb:t.V},y.u.xc({pd:i,od:p,o:this,Ya:o}),t.I={},t.V=0;var s=this.yd(t,i);return t.V?i=this.sb(t.X,s):(this.s(),i=!0),i&&(t.J?this.Gb():this.notifySubscribers(t.X,"beforeChange"),t.X=s,this.notifySubscribers(t.X,"spectate"),!t.J&&e&&this.notifySubscribers(t.X),this.rc&&this.rc()),o&&this.notifySubscribers(t.X,"awake"),i},yd:function(e,t){try{var n=e.Wc;return e.nb?n.call(e.nb):n()}finally{y.u.end(),t.Qb&&!e.J&&y.a.P(t.mb,d),e.sa=e.ka=!1}},v:function(e){var t=this[x];return(t.ka&&(e||!t.V)||t.J&&this.Xa())&&this.ha(),t.X},ub:function(e){y.T.fn.ub.call(this,e),this.nc=function(){return this[x].J||(this[x].sa?this.ha():this[x].ka=!1),this[x].X},this.Ia=function(e){this.pc(this[x].X),this[x].ka=!0,e&&(this[x].sa=!0),this.qc(this,!e)}},s:function(){var e=this[x];!e.J&&e.I&&y.a.P(e.I,(function(e,t){t.s&&t.s()})),e.l&&e.Rb&&y.a.K.yb(e.l,e.Rb),e.I=n,e.V=0,e.ra=!0,e.sa=!1,e.ka=!1,e.J=!1,e.l=n,e.Sa=n,e.Wc=n,this.Nc||(e.nb=n)}},P={Qa:function(e){var t=this,n=t[x];if(!n.ra&&n.J&&"change"==e){if(n.J=!1,n.sa||t.Xa())n.I=null,n.V=0,t.ha()&&t.Gb();else{var i=[];y.a.P(n.I,(function(e,t){i[t.Ka]=e})),y.a.D(i,(function(e,i){var o=n.I[e],s=t.$c(o.da);s.Ka=i,s.La=o.La,n.I[e]=s})),t.Xa()&&t.ha()&&t.Gb()}n.ra||t.notifySubscribers(n.X,"awake")}},hb:function(e){var t=this[x];t.ra||"change"!=e||this.Wa("change")||(y.a.P(t.I,(function(e,n){n.s&&(t.I[e]={da:n.da,Ka:n.Ka,La:n.La},n.s())})),t.J=!0,this.notifySubscribers(n,"asleep"))},ob:function(){var e=this[x];return e.J&&(e.sa||this.Xa())&&this.ha(),y.T.fn.ob.call(this)}},A={Qa:function(e){"change"!=e&&"beforeChange"!=e||this.v()}};y.a.Ba&&y.a.setPrototypeOf(I,y.T.fn);var O=y.ta.Ma;I[O]=y.o,y.Oc=function(e){return"function"==typeof e&&e[O]===I[O]},y.Fd=function(e){return y.Oc(e)&&e[x]&&e[x].wb},y.b("computed",y.o),y.b("dependentObservable",y.o),y.b("isComputed",y.Oc),y.b("isPureComputed",y.Fd),y.b("computed.fn",I),y.L(I,"peek",I.v),y.L(I,"dispose",I.s),y.L(I,"isActive",I.ja),y.L(I,"getDependenciesCount",I.qa),y.L(I,"getDependencies",I.Va),y.xb=function(e,t){return"function"==typeof e?y.o(e,t,{pure:!0}):((e=y.a.extend({},e)).pure=!0,y.o(e,t))},y.b("pureComputed",y.xb),function(){function e(i,o,s){if(s=s||new t,"object"!=typeof(i=o(i))||null===i||i===n||i instanceof RegExp||i instanceof Date||i instanceof String||i instanceof Number||i instanceof Boolean)return i;var r=i instanceof Array?[]:{};return s.save(i,r),function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}(i,(function(t){var a=o(i[t]);switch(typeof a){case"boolean":case"number":case"string":case"function":r[t]=a;break;case"object":case"undefined":var l=s.get(a);r[t]=l!==n?l:e(a,o,s)}})),r}function t(){this.keys=[],this.values=[]}y.ad=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return e(t,(function(e){for(var t=0;y.O(e)&&10>t;t++)e=e();return e}))},y.toJSON=function(e,t,n){return e=y.ad(e),y.a.hc(e,t,n)},t.prototype={constructor:t,save:function(e,t){var n=y.a.A(this.keys,e);0<=n?this.values[n]=t:(this.keys.push(e),this.values.push(t))},get:function(e){return 0<=(e=y.a.A(this.keys,e))?this.values[e]:n}}}(),y.b("toJS",y.ad),y.b("toJSON",y.toJSON),y.Wd=function(e,t,n){function i(t){var i=y.xb(e,n).extend({ma:"always"}),o=i.subscribe((function(e){e&&(o.s(),t(e))}));return i.notifySubscribers(i.v()),o}return"function"!=typeof Promise||t?i(t.bind(n)):new Promise(i)},y.b("when",y.Wd),y.w={M:function(e){switch(y.a.R(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?y.a.g.get(e,y.c.options.$b):7>=y.a.W?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?y.w.M(e.options[e.selectedIndex]):n;default:return e.value}},cb:function(e,t,i){switch(y.a.R(e)){case"option":"string"==typeof t?(y.a.g.set(e,y.c.options.$b,n),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t):(y.a.g.set(e,y.c.options.$b,t),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof t?t:"");break;case"select":""!==t&&null!==t||(t=n);for(var o,s=-1,r=0,a=e.options.length;r<a;++r)if((o=y.w.M(e.options[r]))==t||""===o&&t===n){s=r;break}(i||0<=s||t===n&&1<e.size)&&(e.selectedIndex=s,6===y.a.W&&y.a.setTimeout((function(){e.selectedIndex=s}),0));break;default:null!==t&&t!==n||(t=""),e.value=t}}},y.b("selectExtensions",y.w),y.b("selectExtensions.readValue",y.w.M),y.b("selectExtensions.writeValue",y.w.cb),y.m=function(){function e(e){123===(e=y.a.Db(e)).charCodeAt(0)&&(e=e.slice(1,-1));var t,n=[],r=(e+="\n,").match(i),a=[],l=0;if(1<r.length){for(var h,c=0;h=r[c];++c){var u=h.charCodeAt(0);if(44===u){if(0>=l){n.push(t&&a.length?{key:t,value:a.join("")}:{unknown:t||a.join("")}),t=l=0,a=[];continue}}else if(58===u){if(!l&&!t&&1===a.length){t=a.pop();continue}}else{if(47===u&&1<h.length&&(47===h.charCodeAt(1)||42===h.charCodeAt(1)))continue;47===u&&c&&1<h.length?(u=r[c-1].match(o))&&!s[u[0]]&&(r=(e=e.substr(e.indexOf(h)+1)).match(i),c=-1,h="/"):40===u||123===u||91===u?++l:41===u||125===u||93===u?--l:t||a.length||34!==u&&39!==u||(h=h.slice(1,-1))}a.push(h)}if(0<l)throw Error("Unbalanced parentheses, braces, or brackets")}return n}var t=["true","false","null","undefined"],n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,i=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),o=/[\])"'A-Za-z0-9_$]+$/,s={in:1,return:1,typeof:1},r={};return{Ra:[],wa:r,ac:e,vb:function(i,o){function s(e,i){var o;if(!c){var u=y.getBindingHandler(e);if(u&&u.preprocess&&!(i=u.preprocess(i,e,s)))return;(u=r[e])&&(o=i,0<=y.a.A(t,o)?o=!1:(u=o.match(n),o=null!==u&&(u[1]?"Object("+u[1]+")"+u[2]:o)),u=o),u&&l.push("'"+("string"==typeof r[e]?r[e]:e)+"':function(_z){"+o+"=_z}")}h&&(i="function(){return "+i+" }"),a.push("'"+e+"':"+i)}var a=[],l=[],h=(o=o||{}).valueAccessors,c=o.bindingParams,u="string"==typeof i?e(i):i;return y.a.D(u,(function(e){s(e.key||e.unknown,e.value)})),l.length&&s("_ko_property_writers","{"+l.join(",")+" }"),a.join(",")},Id:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},eb:function(e,t,n,i,o){e&&y.O(e)?!y.Za(e)||o&&e.v()===i||e(i):(e=t.get("_ko_property_writers"))&&e[n]&&e[n](i)}}}(),y.b("expressionRewriting",y.m),y.b("expressionRewriting.bindingRewriteValidators",y.m.Ra),y.b("expressionRewriting.parseObjectLiteral",y.m.ac),y.b("expressionRewriting.preProcessBindings",y.m.vb),y.b("expressionRewriting._twoWayBindings",y.m.wa),y.b("jsonExpressionRewriting",y.m),y.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",y.m.vb),function(){function e(e){return 8==e.nodeType&&r.test(s?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&a.test(s?e.text:e.nodeValue)}function n(n,i){for(var o=n,s=1,r=[];o=o.nextSibling;){if(t(o)&&(y.a.g.set(o,h,!0),0==--s))return r;r.push(o),e(o)&&s++}if(!i)throw Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function i(e,t){var i=n(e,t);return i?0<i.length?i[i.length-1].nextSibling:e.nextSibling:null}var s=o&&"\x3c!--test--\x3e"===o.createComment("test").text,r=s?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,a=s?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0},h="__ko_matchedEndComment__";y.h={ea:{},childNodes:function(t){return e(t)?n(t):t.childNodes},Ea:function(t){if(e(t))for(var n=0,i=(t=y.h.childNodes(t)).length;n<i;n++)y.removeNode(t[n]);else y.a.Tb(t)},va:function(t,n){if(e(t)){y.h.Ea(t);for(var i=t.nextSibling,o=0,s=n.length;o<s;o++)i.parentNode.insertBefore(n[o],i)}else y.a.va(t,n)},Vc:function(t,n){var i;e(t)?(i=t.nextSibling,t=t.parentNode):i=t.firstChild,i?n!==i&&t.insertBefore(n,i):t.appendChild(n)},Wb:function(t,n,i){i?(i=i.nextSibling,e(t)&&(t=t.parentNode),i?n!==i&&t.insertBefore(n,i):t.appendChild(n)):y.h.Vc(t,n)},firstChild:function(n){if(e(n))return!n.nextSibling||t(n.nextSibling)?null:n.nextSibling;if(n.firstChild&&t(n.firstChild))throw Error("Found invalid end comment, as the first child of "+n);return n.firstChild},nextSibling:function(n){if(e(n)&&(n=i(n)),n.nextSibling&&t(n.nextSibling)){var o=n.nextSibling;if(t(o)&&!y.a.g.get(o,h))throw Error("Found end comment without a matching opening comment, as child of "+n);return null}return n.nextSibling},Cd:e,Vd:function(e){return(e=(s?e.text:e.nodeValue).match(r))?e[1]:null},Sc:function(n){if(l[y.a.R(n)]){var o=n.firstChild;if(o)do{if(1===o.nodeType){var s,r=null;if(s=o.firstChild)do{if(r)r.push(s);else if(e(s)){var a=i(s,!0);a?s=a:r=[s]}else t(s)&&(r=[s])}while(s=s.nextSibling);if(s=r)for(r=o.nextSibling,a=0;a<s.length;a++)r?n.insertBefore(s[a],r):n.appendChild(s[a])}}while(o=o.nextSibling)}}}}(),y.b("virtualElements",y.h),y.b("virtualElements.allowedBindings",y.h.ea),y.b("virtualElements.emptyNode",y.h.Ea),y.b("virtualElements.insertAfter",y.h.Wb),y.b("virtualElements.prepend",y.h.Vc),y.b("virtualElements.setDomNodeChildren",y.h.va),y.ga=function(){this.nd={}},y.a.extend(y.ga.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||y.j.getComponentNameForNode(e);case 8:return y.h.Cd(e);default:return!1}},getBindings:function(e,t){var n=(n=this.getBindingsString(e,t))?this.parseBindingsString(n,t,e):null;return y.j.tc(n,e,t,!1)},getBindingAccessors:function(e,t){var n=(n=this.getBindingsString(e,t))?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return y.j.tc(n,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return y.h.Vd(e);default:return null}},parseBindingsString:function(e,t,n,i){try{var o,s=this.nd,r=e+(i&&i.valueAccessors||"");if(!(o=s[r])){var a,l="with($context){with($data||{}){return{"+y.m.vb(e,i)+"}}}";a=new Function("$context","$element",l),o=s[r]=a}return o(t,n)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+t.message,t}}}),y.ga.instance=new y.ga,y.b("bindingProvider",y.ga),function(){function e(e){var t=(e=y.a.g.get(e,S))&&e.N;t&&(e.N=null,t.Tc())}function t(t,n,i){this.node=t,this.yc=n,this.kb=[],this.H=!1,n.N||y.a.K.za(t,e),i&&i.N&&(i.N.kb.push(t),this.Kb=i)}function s(e){return function(){return e}}function a(e){return e()}function l(e){return y.a.Ga(y.u.G(e),(function(t,n){return function(){return e()[n]}}))}function h(e,t,n){return"function"==typeof e?l(e.bind(null,t,n)):y.a.Ga(e,s)}function c(e,t){return l(this.getBindings.bind(this,e,t))}function u(e,t){var n=y.h.firstChild(t);if(n){var i,o=y.ga.instance,s=o.preprocessNode;if(s){for(;i=n;)n=y.h.nextSibling(i),s.call(o,i);n=y.h.firstChild(t)}for(;i=n;)n=y.h.nextSibling(i),d(e,i)}y.i.ma(t,y.i.H)}function d(e,t){var n=e,i=1===t.nodeType;i&&y.h.Sc(t),(i||y.ga.instance.nodeHasBindings(t))&&(n=p(t,null,e).bindingContextForDescendants),n&&!w[y.a.R(t)]&&u(n,t)}function p(e,t,i){var o,s=y.a.g.Ub(e,S,{}),r=s.hd;if(!t){if(r)throw Error("You cannot apply bindings multiple times to the same element.");s.hd=!0}if(r||(s.context=i),s.Zb||(s.Zb={}),t&&"function"!=typeof t)o=t;else{var l=y.ga.instance,h=l.getBindingAccessors||c,u=y.$((function(){return(o=t?t(i,e):h.call(l,e,i))&&(i[g]&&i[g](),i[b]&&i[b]()),o}),null,{l:e});o&&u.ja()||(u=null)}var d,p=i;if(o){var f=function(){return y.a.Ga(u?u():o,a)},m=u?function(e){return function(){return a(u()[e])}}:function(e){return o[e]};f.get=function(e){return o[e]&&a(m(e))},f.has=function(e){return e in o},y.i.H in o&&y.i.subscribe(e,y.i.H,(function(){var t=(0,o[y.i.H])();if(t){var n=y.h.childNodes(e);n.length&&t(n,y.Ec(n[0]))}})),y.i.pa in o&&(p=y.i.Cb(e,i),y.i.subscribe(e,y.i.pa,(function(){var t=(0,o[y.i.pa])();t&&y.h.firstChild(e)&&t(e)}))),s=function(e){var t=[],n={},i=[];return y.a.P(e,(function o(s){if(!n[s]){var r=y.getBindingHandler(s);r&&(r.after&&(i.push(s),y.a.D(r.after,(function(t){if(e[t]){if(-1!==y.a.A(i,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+i.join(", "));o(t)}})),i.length--),t.push({key:s,Mc:r})),n[s]=!0}})),t}(o),y.a.D(s,(function(t){var i=t.Mc.init,s=t.Mc.update,r=t.key;if(8===e.nodeType&&!y.h.ea[r])throw Error("The binding '"+r+"' cannot be used with virtual elements");try{"function"==typeof i&&y.u.G((function(){var t=i(e,m(r),f,p.$data,p);if(t&&t.controlsDescendantBindings){if(d!==n)throw Error("Multiple bindings ("+d+" and "+r+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");d=r}})),"function"==typeof s&&y.$((function(){s(e,m(r),f,p.$data,p)}),null,{l:e})}catch(e){throw e.message='Unable to process binding "'+r+": "+o[r]+'"\nMessage: '+e.message,e}}))}return{shouldBindDescendants:s=d===n,bindingContextForDescendants:s&&p}}function f(e,t){return e&&e instanceof y.fa?e:new y.fa(e,n,n,t)}var g=y.a.Da("_subscribable"),m=y.a.Da("_ancestorBindingInfo"),b=y.a.Da("_dataDependency");y.c={};var w={script:!0,textarea:!0,template:!0};y.getBindingHandler=function(e){return y.c[e]};var E={};y.fa=function(e,t,i,o,s){function r(){var e=u?c():c,n=y.a.f(e);return t?(y.a.extend(l,t),m in t&&(l[m]=t[m])):(l.$parents=[],l.$root=n,l.ko=y),l[g]=a,h?n=l.$data:(l.$rawData=e,l.$data=n),i&&(l[i]=n),o&&o(l,t,n),t&&t[g]&&!y.S.o().Vb(t[g])&&t[g](),d&&(l[b]=d),l.$data}var a,l=this,h=e===E,c=h?n:e,u="function"==typeof c&&!y.O(c),d=s&&s.dataDependency;s&&s.exportDependencies?r():((a=y.xb(r)).v(),a.ja()?a.equalityComparer=null:l[g]=n)},y.fa.prototype.createChildContext=function(e,t,n,i){if(!i&&t&&"object"==typeof t&&(t=(i=t).as,n=i.extend),t&&i&&i.noChildContext){var o="function"==typeof e&&!y.O(e);return new y.fa(E,this,null,(function(i){n&&n(i),i[t]=o?e():e}),i)}return new y.fa(e,this,t,(function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)}),i)},y.fa.prototype.extend=function(e,t){return new y.fa(E,this,null,(function(t){y.a.extend(t,"function"==typeof e?e(t):e)}),t)};var S=y.a.g.Z();t.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)},t.prototype.sd=function(e){y.a.Pa(this.kb,e),!this.kb.length&&this.H&&this.Cc()},t.prototype.Cc=function(){this.H=!0,this.yc.N&&!this.kb.length&&(this.yc.N=null,y.a.K.yb(this.node,e),y.i.ma(this.node,y.i.pa),this.Tc())},y.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function(e,t,n,i,o){var s=y.a.g.Ub(e,S,{});return s.Fa||(s.Fa=new y.T),o&&o.notifyImmediately&&s.Zb[t]&&y.u.G(n,i,[e]),s.Fa.subscribe(n,i,t)},ma:function(e,t){var i=y.a.g.get(e,S);if(i&&(i.Zb[t]=!0,i.Fa&&i.Fa.notifySubscribers(e,t),t==y.i.H))if(i.N)i.N.Cc();else if(i.N===n&&i.Fa&&i.Fa.Wa(y.i.pa))throw Error("descendantsComplete event not supported for bindings on this node")},Cb:function(e,n){var i=y.a.g.Ub(e,S,{});return i.N||(i.N=new t(e,i,n[m])),n[m]==i?n:n.extend((function(e){e[m]=i}))}},y.Td=function(e){return(e=y.a.g.get(e,S))&&e.context},y.ib=function(e,t,n){return 1===e.nodeType&&y.h.Sc(e),p(e,t,f(n))},y.ld=function(e,t,n){return n=f(n),y.ib(e,h(t,n,e),n)},y.Oa=function(e,t){1!==t.nodeType&&8!==t.nodeType||u(f(e),t)},y.vc=function(e,t,n){if(!r&&i.jQuery&&(r=i.jQuery),2>arguments.length){if(!(t=o.body))throw Error("ko.applyBindings: could not find document.body; has the document been loaded?")}else if(!t||1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");d(f(e,n),t)},y.Dc=function(e){return!e||1!==e.nodeType&&8!==e.nodeType?n:y.Td(e)},y.Ec=function(e){return(e=y.Dc(e))?e.$data:n},y.b("bindingHandlers",y.c),y.b("bindingEvent",y.i),y.b("bindingEvent.subscribe",y.i.subscribe),y.b("bindingEvent.startPossiblyAsyncContentBinding",y.i.Cb),y.b("applyBindings",y.vc),y.b("applyBindingsToDescendants",y.Oa),y.b("applyBindingAccessorsToNode",y.ib),y.b("applyBindingsToNode",y.ld),y.b("contextFor",y.Dc),y.b("dataFor",y.Ec)}(),function(e){function t(t,i){var r,a=Object.prototype.hasOwnProperty.call(o,t)?o[t]:e;a?a.subscribe(i):((a=o[t]=new y.T).subscribe(i),n(t,(function(e,n){var i=!(!n||!n.synchronous);s[t]={definition:e,Gd:i},delete o[t],r||i?a.notifySubscribers(e):y.na.zb((function(){a.notifySubscribers(e)}))})),r=!0)}function n(e,t){i("getConfig",[e],(function(n){n?i("loadComponent",[e,n],(function(e){t(e,n)})):t(null,null)}))}function i(t,n,o,s){s||(s=y.j.loaders.slice(0));var r=s.shift();if(r){var a=r[t];if(a){var l=!1;if(a.apply(r,n.concat((function(e){l?o(null):null!==e?o(e):i(t,n,o,s)})))!==e&&(l=!0,!r.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else i(t,n,o,s)}else o(null)}var o={},s={};y.j={get:function(n,i){var o=Object.prototype.hasOwnProperty.call(s,n)?s[n]:e;o?o.Gd?y.u.G((function(){i(o.definition)})):y.na.zb((function(){i(o.definition)})):t(n,i)},Bc:function(e){delete s[e]},oc:i},y.j.loaders=[],y.b("components",y.j),y.b("components.get",y.j.get),y.b("components.clearCachedDefinition",y.j.Bc)}(),function(){function e(e,t,n,i){function o(){0==--a&&i(s)}var s={},a=2,l=n.template;n=n.viewModel,l?r(t,l,(function(t){y.j.oc("loadTemplate",[e,t],(function(e){s.template=e,o()}))})):o(),n?r(t,n,(function(t){y.j.oc("loadViewModel",[e,t],(function(e){s[h]=e,o()}))})):o()}function n(e){switch(y.a.R(e)){case"script":return y.a.ua(e.text);case"textarea":return y.a.ua(e.value);case"template":if(s(e.content))return y.a.Ca(e.content.childNodes)}return y.a.Ca(e.childNodes)}function s(e){return i.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function r(e,n,o){"string"==typeof n.require?t||i.require?(t||i.require)([n.require],(function(e){e&&"object"==typeof e&&e.Xd&&e.default&&(e=e.default),o(e)})):e("Uses require, but no AMD loader is present"):o(n)}function a(e){return function(t){throw Error("Component '"+e+"': "+t)}}var l={};y.j.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(y.j.tb(e))throw Error("Component "+e+" is already registered");l[e]=t},y.j.tb=function(e){return Object.prototype.hasOwnProperty.call(l,e)},y.j.unregister=function(e){delete l[e],y.j.Bc(e)},y.j.Fc={getConfig:function(e,t){t(y.j.tb(e)?l[e]:null)},loadComponent:function(t,n,i){var o=a(t);r(o,n,(function(n){e(t,o,n,i)}))},loadTemplate:function(e,t,r){if(e=a(e),"string"==typeof t)r(y.a.ua(t));else if(t instanceof Array)r(t);else if(s(t))r(y.a.la(t.childNodes));else if(t.element)if(t=t.element,i.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType)r(n(t));else if("string"==typeof t){var l=o.getElementById(t);l?r(n(l)):e("Cannot find element with ID "+t)}else e("Unknown element type: "+t);else e("Unknown template value: "+t)},loadViewModel:function(e,t,n){!function e(t,n,i){if("function"==typeof n)i((function(e){return new n(e)}));else if("function"==typeof n[h])i(n[h]);else if("instance"in n){var o=n.instance;i((function(){return o}))}else"viewModel"in n?e(t,n.viewModel,i):t("Unknown viewModel value: "+n)}(a(e),t,n)}};var h="createViewModel";y.b("components.register",y.j.register),y.b("components.isRegistered",y.j.tb),y.b("components.unregister",y.j.unregister),y.b("components.defaultLoader",y.j.Fc),y.j.loaders.push(y.j.Fc),y.j.dd=l}(),function(){function e(e,n){if(i=e.getAttribute("params")){var i=t.parseBindingsString(i,n,e,{valueAccessors:!0,bindingParams:!0}),o=(i=y.a.Ga(i,(function(t){return y.o(t,null,{l:e})})),y.a.Ga(i,(function(t){var n=t.v();return t.ja()?y.o({read:function(){return y.a.f(t())},write:y.Za(n)&&function(e){t()(e)},l:e}):n})));return Object.prototype.hasOwnProperty.call(o,"$raw")||(o.$raw=i),o}return{$raw:{}}}y.j.getComponentNameForNode=function(e){var t=y.a.R(e);if(y.j.tb(t)&&(-1!=t.indexOf("-")||"[object HTMLUnknownElement]"==""+e||8>=y.a.W&&e.tagName===t))return t},y.j.tc=function(t,n,i,o){if(1===n.nodeType){var s=y.j.getComponentNameForNode(n);if(s){if((t=t||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var r={name:s,params:e(n,i)};t.component=o?function(){return r}:r}}return t};var t=new y.ga;9>y.a.W&&(y.j.register=function(e){return function(t){return e.apply(this,arguments)}}(y.j.register),o.createDocumentFragment=function(e){return function(){var t=e();return y.j.dd,t}}(o.createDocumentFragment))}(),function(){var e=0;y.c.component={init:function(t,n,i,o,s){function r(){var e=a&&a.dispose;"function"==typeof e&&e.call(a),h&&h.s(),l=a=h=null}var a,l,h,c=y.a.la(y.h.childNodes(t));return y.h.Ea(t),y.a.K.za(t,r),y.o((function(){var i,o,u=y.a.f(n());if("string"==typeof u?i=u:(i=y.a.f(u.name),o=y.a.f(u.params)),!i)throw Error("No component name specified");var d=y.i.Cb(t,s),p=l=++e;y.j.get(i,(function(e){if(l===p){if(r(),!e)throw Error("Unknown component '"+i+"'");!function(e,t,n){if(!(t=t.template))throw Error("Component '"+e+"' has no template");e=y.a.Ca(t),y.h.va(n,e)}(i,e,t);var n=function(e,t,n){var i=e.createViewModel;return i?i.call(e,t,n):t}(e,o,{element:t,templateNodes:c});e=d.createChildContext(n,{extend:function(e){e.$component=n,e.$componentTemplateNodes=c}}),n&&n.koDescendantsComplete&&(h=y.i.subscribe(t,y.i.pa,n.koDescendantsComplete,n)),a=n,y.Oa(e,t)}}))}),null,{l:t}),{controlsDescendantBindings:!0}}},y.h.ea.component=!0}();var R={class:"className",for:"htmlFor"};y.c.attr={update:function(e,t){var i=y.a.f(t())||{};y.a.P(i,(function(t,i){i=y.a.f(i);var o=t.indexOf(":"),s=(o="lookupNamespaceURI"in e&&0<o&&e.lookupNamespaceURI(t.substr(0,o)),!1===i||null===i||i===n);s?o?e.removeAttributeNS(o,t):e.removeAttribute(t):i=i.toString(),8>=y.a.W&&t in R?(t=R[t],s?e.removeAttribute(t):e[t]=i):s||(o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)),"name"===t&&y.a.Yc(e,s?"":i)}))}},y.c.checked={after:["value","attr"],init:function(e,t,i){function o(){var o=e.checked,l=s();if(!y.S.Ya()&&(o||!a&&!y.S.qa())){var u=y.u.G(t);if(h){var p=c?u.v():u,f=d;d=l,f!==l?o&&(y.a.Na(p,l,!0),y.a.Na(p,f,!1)):y.a.Na(p,l,o),c&&y.Za(u)&&u(p)}else r&&(l===n?l=o:o||(l=n)),y.m.eb(u,i,"checked",l,!0)}}var s=y.xb((function(){return i.has("checkedValue")?y.a.f(i.get("checkedValue")):u?i.has("value")?y.a.f(i.get("value")):e.value:void 0})),r="checkbox"==e.type,a="radio"==e.type;if(r||a){var l=t(),h=r&&y.a.f(l)instanceof Array,c=!(h&&l.push&&l.splice),u=a||h,d=h?s():n;a&&!e.name&&y.c.uniqueName.init(e,(function(){return!0})),y.o(o,null,{l:e}),y.a.B(e,"click",o),y.o((function(){var i=y.a.f(t()),o=s();h?(e.checked=0<=y.a.A(i,o),d=o):e.checked=r&&o===n?!!i:s()===i}),null,{l:e}),l=n}}},y.m.wa.checked=!0,y.c.checkedValue={update:function(e,t){e.value=y.a.f(t())}},y.c.class={update:function(e,t){var n=y.a.Db(y.a.f(t()));y.a.Eb(e,e.__ko__cssValue,!1),e.__ko__cssValue=n,y.a.Eb(e,n,!0)}},y.c.css={update:function(e,t){var n=y.a.f(t());null!==n&&"object"==typeof n?y.a.P(n,(function(t,n){n=y.a.f(n),y.a.Eb(e,t,n)})):y.c.class.update(e,t)}},y.c.enable={update:function(e,t){var n=y.a.f(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},y.c.disable={update:function(e,t){y.c.enable.update(e,(function(){return!y.a.f(t())}))}},y.c.event={init:function(e,t,n,i,o){var s=t()||{};y.a.P(s,(function(s){"string"==typeof s&&y.a.B(e,s,(function(e){var r,a=t()[s];if(a){try{var l=y.a.la(arguments);i=o.$data,l.unshift(i),r=a.apply(i,l)}finally{!0!==r&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===n.get(s+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}}))}))}},y.c.foreach={Rc:function(e){return function(){var t=e(),n=y.a.bc(t);return n&&"number"!=typeof n.length?(y.a.f(t),{foreach:n.data,as:n.as,noChildContext:n.noChildContext,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:y.ba.Ma}):{foreach:t,templateEngine:y.ba.Ma}}},init:function(e,t){return y.c.template.init(e,y.c.foreach.Rc(t))},update:function(e,t,n,i,o){return y.c.template.update(e,y.c.foreach.Rc(t),n,i,o)}},y.m.Ra.foreach=!1,y.h.ea.foreach=!0,y.c.hasfocus={init:function(e,t,n){function i(i){e.__ko_hasfocusUpdating=!0;var o=e.ownerDocument;if("activeElement"in o){var s;try{s=o.activeElement}catch(e){s=o.body}i=s===e}o=t(),y.m.eb(o,n,"hasfocus",i,!0),e.__ko_hasfocusLastValue=i,e.__ko_hasfocusUpdating=!1}var o=i.bind(null,!0),s=i.bind(null,!1);y.a.B(e,"focus",o),y.a.B(e,"focusin",o),y.a.B(e,"blur",s),y.a.B(e,"focusout",s),e.__ko_hasfocusLastValue=!1},update:function(e,t){var n=!!y.a.f(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===n||(n?e.focus():e.blur(),!n&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),y.u.G(y.a.Fb,null,[e,n?"focusin":"focusout"]))}},y.m.wa.hasfocus=!0,y.c.hasFocus=y.c.hasfocus,y.m.wa.hasFocus="hasfocus",y.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){y.a.fc(e,t())}},function(){function e(e,t,n){y.c[e]={init:function(e,i,o,s,r){var a,l,h,c,u,d={};if(t){s=o.get("as");var p=o.get("noChildContext");d={as:s,noChildContext:p,exportDependencies:u=!(s&&p)}}return c=(h="render"==o.get("completeOn"))||o.has(y.i.pa),y.o((function(){var o,s=y.a.f(i()),p=!n!=!s,f=!l;(u||p!==a)&&(c&&(r=y.i.Cb(e,r)),p&&(t&&!u||(d.dataDependency=y.S.o()),o=t?r.createChildContext("function"==typeof s?s:i,d):y.S.qa()?r.extend(null,d):r),f&&y.S.qa()&&(l=y.a.Ca(y.h.childNodes(e),!0)),p?(f||y.h.va(e,y.a.Ca(l)),y.Oa(o,e)):(y.h.Ea(e),h||y.i.ma(e,y.i.H)),a=p)}),null,{l:e}),{controlsDescendantBindings:!0}}},y.m.Ra[e]=!1,y.h.ea[e]=!0}e("if"),e("ifnot",!1,!0),e("with",!0)}(),y.c.let={init:function(e,t,n,i,o){return t=o.extend(t),y.Oa(t,e),{controlsDescendantBindings:!0}}},y.h.ea.let=!0;var k={};y.c.options={init:function(e){if("select"!==y.a.R(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,t,i){function o(){return y.a.jb(e.options,(function(e){return e.selected}))}function s(e,t,n){var i=typeof t;return"function"==i?t(e):"string"==i?e[t]:n}function r(t,n){if(f&&c)y.i.ma(e,y.i.H);else if(p.length){var i=0<=y.a.A(p,y.w.M(n[0]));y.a.Zc(n[0],i),f&&!i&&y.u.G(y.a.Fb,null,[e,"change"])}}var a=e.multiple,l=0!=e.length&&a?e.scrollTop:null,h=y.a.f(t()),c=i.get("valueAllowUnset")&&i.has("value"),u=i.get("optionsIncludeDestroyed");t={};var d,p=[];c||(a?p=y.a.Mb(o(),y.w.M):0<=e.selectedIndex&&p.push(y.w.M(e.options[e.selectedIndex]))),h&&(void 0===h.length&&(h=[h]),d=y.a.jb(h,(function(e){return u||e===n||null===e||!y.a.f(e._destroy)})),i.has("optionsCaption")&&null!==(h=y.a.f(i.get("optionsCaption")))&&h!==n&&d.unshift(k));var f=!1;t.beforeRemove=function(t){e.removeChild(t)},h=r,i.has("optionsAfterRender")&&"function"==typeof i.get("optionsAfterRender")&&(h=function(e,t){r(0,t),y.u.G(i.get("optionsAfterRender"),null,[t[0],e!==k?e:n])}),y.a.ec(e,d,(function(t,o,r){return r.length&&(p=!c&&r[0].selected?[y.w.M(r[0])]:[],f=!0),o=e.ownerDocument.createElement("option"),t===k?(y.a.Bb(o,i.get("optionsCaption")),y.w.cb(o,n)):(r=s(t,i.get("optionsValue"),t),y.w.cb(o,y.a.f(r)),t=s(t,i.get("optionsText"),r),y.a.Bb(o,t)),[o]}),t,h),c||(a?p.length&&o().length<p.length:p.length&&0<=e.selectedIndex?y.w.M(e.options[e.selectedIndex])!==p[0]:p.length||0<=e.selectedIndex)&&y.u.G(y.a.Fb,null,[e,"change"]),(c||y.S.Ya())&&y.i.ma(e,y.i.H),y.a.wd(e),l&&20<Math.abs(l-e.scrollTop)&&(e.scrollTop=l)}},y.c.options.$b=y.a.g.Z(),y.c.selectedOptions={init:function(e,t,n){function i(){var i=t(),o=[];y.a.D(e.getElementsByTagName("option"),(function(e){e.selected&&o.push(y.w.M(e))})),y.m.eb(i,n,"selectedOptions",o)}function o(){var n=y.a.f(t()),i=e.scrollTop;n&&"number"==typeof n.length&&y.a.D(e.getElementsByTagName("option"),(function(e){var t=0<=y.a.A(n,y.w.M(e));e.selected!=t&&y.a.Zc(e,t)})),e.scrollTop=i}if("select"!=y.a.R(e))throw Error("selectedOptions binding applies only to SELECT elements");var s;y.i.subscribe(e,y.i.H,(function(){s?i():(y.a.B(e,"change",i),s=y.o(o,null,{l:e}))}),null,{notifyImmediately:!0})},update:function(){}},y.m.wa.selectedOptions=!0,y.c.style={update:function(e,t){var i=y.a.f(t()||{});y.a.P(i,(function(t,i){if(null!==(i=y.a.f(i))&&i!==n&&!1!==i||(i=""),r)r(e).css(t,i);else if(/^--/.test(t))e.style.setProperty(t,i);else{t=t.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}));var o=e.style[t];e.style[t]=i,i===o||e.style[t]!=o||isNaN(i)||(e.style[t]=i+"px")}}))}},y.c.submit={init:function(e,t,n,i,o){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");y.a.B(e,"submit",(function(n){var i,s=t();try{i=s.call(o.$data,e)}finally{!0!==i&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}}))}},y.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){y.a.Bb(e,t())}},y.h.ea.text=!0,function(){if(i&&i.navigator){var e,t,o,s,r,a=function(e){if(e)return parseFloat(e[1])},l=i.navigator.userAgent;(e=i.opera&&i.opera.version&&parseInt(i.opera.version()))||(r=a(l.match(/Edge\/([^ ]+)$/)))||a(l.match(/Chrome\/([^ ]+)/))||(t=a(l.match(/Version\/([^ ]+) Safari/)))||(o=a(l.match(/Firefox\/([^ ]+)/)))||(s=y.a.W||a(l.match(/MSIE ([^ ]+)/)))||(s=a(l.match(/rv:([^ )]+)/)))}if(8<=s&&10>s)var h=y.a.g.Z(),c=y.a.g.Z(),u=function(e){var t=this.activeElement;(t=t&&y.a.g.get(t,c))&&t(e)},d=function(e,t){var n=e.ownerDocument;y.a.g.get(n,h)||(y.a.g.set(n,h,!0),y.a.B(n,"selectionchange",u)),y.a.g.set(e,c,t)};y.c.textInput={init:function(i,a,l){function h(e,t){y.a.B(i,e,t)}function c(){p||(f=i.value,p=y.a.setTimeout(u,4))}function u(){clearTimeout(p),f=p=n;var e=i.value;g!==e&&(g=e,y.m.eb(a(),l,"textInput",e))}var p,f,g=i.value,m=9==y.a.W?c:u,b=!1;s&&h("keypress",u),11>s&&h("propertychange",(function(e){b||"value"!==e.propertyName||m(e)})),8==s&&(h("keyup",u),h("keydown",u)),d&&(d(i,m),h("dragend",c)),(!s||9<=s)&&h("input",m),5>t&&"textarea"===y.a.R(i)?(h("keydown",c),h("paste",c),h("cut",c)):11>e?h("keydown",c):4>o?(h("DOMAutoComplete",u),h("dragdrop",u),h("drop",u)):r&&"number"===i.type&&h("keydown",c),h("change",u),h("blur",u),y.o((function e(){var t=y.a.f(a());null!==t&&t!==n||(t=""),f!==n&&t===f?y.a.setTimeout(e,4):i.value!==t&&(b=!0,i.value=t,b=!1,g=i.value)}),null,{l:i})}},y.m.wa.textInput=!0,y.c.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),y.c.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++y.c.uniqueName.rd;y.a.Yc(e,n)}}},y.c.uniqueName.rd=0,y.c.using={init:function(e,t,n,i,o){var s;return n.has("as")&&(s={as:n.get("as"),noChildContext:n.get("noChildContext")}),t=o.createChildContext(t,s),y.Oa(t,e),{controlsDescendantBindings:!0}}},y.h.ea.using=!0,y.c.value={init:function(e,t,i){var o=y.a.R(e),s="input"==o;if(!s||"checkbox"!=e.type&&"radio"!=e.type){var r=[],a=i.get("valueUpdate"),l=!1,h=null;a&&(r="string"==typeof a?[a]:y.a.wc(a),y.a.Pa(r,"change"));var c,u,d=function(){h=null,l=!1;var n=t(),o=y.w.M(e);y.m.eb(n,i,"value",o)};!y.a.W||!s||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=y.a.A(r,"propertychange")||(y.a.B(e,"propertychange",(function(){l=!0})),y.a.B(e,"focus",(function(){l=!1})),y.a.B(e,"blur",(function(){l&&d()}))),y.a.D(r,(function(t){var n=d;y.a.Ud(t,"after")&&(n=function(){h=y.w.M(e),y.a.setTimeout(d,0)},t=t.substring(5)),y.a.B(e,t,n)})),c=s&&"file"==e.type?function(){var i=y.a.f(t());null===i||i===n||""===i?e.value="":y.u.G(d)}:function(){var s=y.a.f(t()),r=y.w.M(e);null!==h&&s===h?y.a.setTimeout(c,0):s===r&&r!==n||("select"===o?(r=i.get("valueAllowUnset"),y.w.cb(e,s,r),r||s===y.w.M(e)||y.u.G(d)):y.w.cb(e,s))},"select"===o?y.i.subscribe(e,y.i.H,(function(){u?i.get("valueAllowUnset")?c():d():(y.a.B(e,"change",d),u=y.o(c,null,{l:e}))}),null,{notifyImmediately:!0}):(y.a.B(e,"change",d),y.o(c,null,{l:e}))}else y.ib(e,{checkedValue:t})},update:function(){}},y.m.wa.value=!0,y.c.visible={update:function(e,t){var n=y.a.f(t()),i="none"!=e.style.display;n&&!i?e.style.display="":!n&&i&&(e.style.display="none")}},y.c.hidden={update:function(e,t){y.c.visible.update(e,(function(){return!y.a.f(t())}))}},function(e){y.c[e]={init:function(t,n,i,o,s){return y.c.event.init.call(this,t,(function(){var t={};return t[e]=n(),t}),i,o,s)}}}("click"),y.ca=function(){},y.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},y.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},y.ca.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){var n=(t=t||o).getElementById(e);if(!n)throw Error("Cannot find template with ID "+e);return new y.C.F(n)}if(1==e.nodeType||8==e.nodeType)return new y.C.ia(e);throw Error("Unknown template type: "+e)},y.ca.prototype.renderTemplate=function(e,t,n,i){return e=this.makeTemplateSource(e,i),this.renderTemplateSource(e,t,n,i)},y.ca.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},y.ca.prototype.rewriteTemplate=function(e,t,n){t=t((e=this.makeTemplateSource(e,n)).text()),e.text(t),e.data("isRewritten",!0)},y.b("templateEngine",y.ca),y.kc=function(){function e(e,t,n,i){e=y.m.ac(e);for(var o=y.m.Ra,s=0;s<e.length;s++){var r=e[s].key;if(Object.prototype.hasOwnProperty.call(o,r)){var a=o[r];if("function"==typeof a){if(r=a(e[s].value))throw Error(r)}else if(!a)throw Error("This template engine does not support the '"+r+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+y.m.vb(e,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",i.createJavaScriptEvaluatorBlock(n)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{xd:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,(function(e){return y.kc.Ld(e,t)}),n)},Ld:function(i,o){return i.replace(t,(function(t,n,i,s,r){return e(r,n,i,o)})).replace(n,(function(t,n){return e(n,"\x3c!-- ko --\x3e","#comment",o)}))},md:function(e,t){return y.aa.Xb((function(n,i){var o=n.nextSibling;o&&o.nodeName.toLowerCase()===t&&y.ib(o,e,i)}))}}}(),y.b("__tr_ambtns",y.kc.md),function(){y.C={},y.C.F=function(e){if(this.F=e){var t=y.a.R(e);this.ab="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4}},y.C.F.prototype.text=function(){var e=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.F[e];var t=arguments[0];"innerHTML"===e?y.a.fc(this.F,t):this.F[e]=t};var e=y.a.g.Z()+"_";y.C.F.prototype.data=function(t){if(1===arguments.length)return y.a.g.get(this.F,e+t);y.a.g.set(this.F,e+t,arguments[1])};var t=y.a.g.Z();y.C.F.prototype.nodes=function(){var e=this.F;if(0==arguments.length){var i=y.a.g.get(e,t)||{},o=i.lb||(3===this.ab?e.content:4===this.ab?e:n);if(!o||i.jd){var s=this.text();s&&s!==i.bb&&(o=y.a.Md(s,e.ownerDocument),y.a.g.set(e,t,{lb:o,bb:s,jd:!0}))}return o}i=arguments[0],this.ab!==n&&this.text(""),y.a.g.set(e,t,{lb:i})},y.C.ia=function(e){this.F=e},y.C.ia.prototype=new y.C.F,y.C.ia.prototype.constructor=y.C.ia,y.C.ia.prototype.text=function(){if(0==arguments.length){var e=y.a.g.get(this.F,t)||{};return e.bb===n&&e.lb&&(e.bb=e.lb.innerHTML),e.bb}y.a.g.set(this.F,t,{bb:arguments[0]})},y.b("templateSources",y.C),y.b("templateSources.domElement",y.C.F),y.b("templateSources.anonymousTemplate",y.C.ia)}(),function(){function e(e,t,n){var i;for(t=y.h.nextSibling(t);e&&(i=e)!==t;)n(i,e=y.h.nextSibling(i))}function t(t,n){if(t.length){var i=t[0],o=t[t.length-1],s=i.parentNode,r=y.ga.instance,a=r.preprocessNode;if(a){if(e(i,o,(function(e,t){var n=e.previousSibling,s=a.call(r,e);s&&(e===i&&(i=s[0]||t),e===o&&(o=s[s.length-1]||n))})),t.length=0,!i)return;i===o?t.push(i):(t.push(i,o),y.a.Ua(t,s))}e(i,o,(function(e){1!==e.nodeType&&8!==e.nodeType||y.vc(n,e)})),e(i,o,(function(e){1!==e.nodeType&&8!==e.nodeType||y.aa.cd(e,[n])})),y.a.Ua(t,s)}}function i(e){return e.nodeType?e:0<e.length?e[0]:null}function o(e,n,o,s,a){a=a||{};var l=(e&&i(e)||o||{}).ownerDocument,h=a.templateEngine||r;if(y.kc.xd(o,h,l),"number"!=typeof(o=h.renderTemplate(o,s,a,l)).length||0<o.length&&"number"!=typeof o[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(l=!1,n){case"replaceChildren":y.h.va(e,o),l=!0;break;case"replaceNode":y.a.Xc(e,o),l=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+n)}return l&&(t(o,s),a.afterRender&&y.u.G(a.afterRender,null,[o,s[a.as||"$data"]]),"replaceChildren"==n&&y.i.ma(e,y.i.H)),o}function s(e,t,n){return y.O(e)?e():"function"==typeof e?e(t,n):e}var r;y.gc=function(e){if(e!=n&&!(e instanceof y.ca))throw Error("templateEngine must inherit from ko.templateEngine");r=e},y.dc=function(e,t,a,l,h){if(((a=a||{}).templateEngine||r)==n)throw Error("Set a template engine before calling renderTemplate");if(h=h||"replaceChildren",l){var c=i(l);return y.$((function(){var n=t&&t instanceof y.fa?t:new y.fa(t,null,null,null,{exportDependencies:!0}),r=s(e,n.$data,n);n=o(l,h,r,n,a),"replaceNode"==h&&(c=i(l=n))}),null,{Sa:function(){return!c||!y.a.Sb(c)},l:c&&"replaceNode"==h?c.parentNode:c})}return y.aa.Xb((function(n){y.dc(e,t,a,n,"replaceNode")}))},y.Qd=function(e,i,r,a,l){function h(e,t){y.u.G(y.a.ec,null,[a,e,u,r,c,t]),y.i.ma(a,y.i.H)}function c(e,n){t(n,d),r.afterRender&&r.afterRender(n,e),d=null}function u(t,n){d=l.createChildContext(t,{as:p,noChildContext:r.noChildContext,extend:function(e){e.$index=n,p&&(e[p+"Index"]=n)}});var i=s(e,t,d);return o(a,"ignoreTargetNode",i,d,r)}var d,p=r.as,f=!1===r.includeDestroyed||y.options.foreachHidesDestroyed&&!r.includeDestroyed;if(f||r.beforeRemove||!y.Pc(i))return y.$((function(){var e=y.a.f(i)||[];void 0===e.length&&(e=[e]),f&&(e=y.a.jb(e,(function(e){return e===n||null===e||!y.a.f(e._destroy)}))),h(e)}),null,{l:a});h(i.v());var g=i.subscribe((function(e){h(i(),e)}),null,"arrayChange");return g.l(a),g};var a=y.a.g.Z(),l=y.a.g.Z();y.c.template={init:function(e,t){var n=y.a.f(t());if("string"==typeof n||"name"in n)y.h.Ea(e);else if("nodes"in n){if(n=n.nodes||[],y.O(n))throw Error('The "nodes" option must be a plain, non-observable array.');var i=n[0]&&n[0].parentNode;i&&y.a.g.get(i,l)||(i=y.a.Yb(n),y.a.g.set(i,l,!0)),new y.C.ia(e).nodes(i)}else{if(!(0<(n=y.h.childNodes(e)).length))throw Error("Anonymous template defined, but no template content was provided");i=y.a.Yb(n),new y.C.ia(e).nodes(i)}return{controlsDescendantBindings:!0}},update:function(e,t,i,o,s){var r=t();i=!0,o=null,"string"==typeof(t=y.a.f(r))?t={}:(r="name"in t?t.name:e,"if"in t&&(i=y.a.f(t.if)),i&&"ifnot"in t&&(i=!y.a.f(t.ifnot)),i&&!r&&(i=!1)),"foreach"in t?o=y.Qd(r,i&&t.foreach||[],t,e,s):i?(i=s,"data"in t&&(i=s.createChildContext(t.data,{as:t.as,noChildContext:t.noChildContext,exportDependencies:!0})),o=y.dc(r,i,t,e)):y.h.Ea(e),s=o,(t=y.a.g.get(e,a))&&"function"==typeof t.s&&t.s(),y.a.g.set(e,a,!s||s.ja&&!s.ja()?n:s)}},y.m.Ra.template=function(e){return 1==(e=y.m.ac(e)).length&&e[0].unknown||y.m.Id(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},y.h.ea.template=!0}(),y.b("setTemplateEngine",y.gc),y.b("renderTemplate",y.dc),y.a.Kc=function(e,t,n){var i,o,s,r,a;if(e.length&&t.length)for(i=o=0;(!n||i<n)&&(r=e[o]);++o){for(s=0;a=t[s];++s)if(r.value===a.value){r.moved=a.index,a.moved=r.index,t.splice(s,1),i=s=0;break}i+=s}},y.a.Pb=function(){function e(e,t,n,i,o){var s,r,a,l,h,c=Math.min,u=Math.max,d=[],p=e.length,f=t.length,g=f-p||1,m=p+f+1;for(s=0;s<=p;s++)for(l=a,d.push(a=[]),h=c(f,s+g),r=u(0,s-1);r<=h;r++)a[r]=r?s?e[s-1]===t[r-1]?l[r-1]:c(l[r]||m,a[r-1]||m)+1:r+1:s+1;for(c=[],u=[],g=[],s=p,r=f;s||r;)f=d[s][r]-1,r&&f===d[s][r-1]?u.push(c[c.length]={status:n,value:t[--r],index:r}):s&&f===d[s-1][r]?g.push(c[c.length]={status:i,value:e[--s],index:s}):(--r,--s,o.sparse||c.push({status:"retained",value:t[r]}));return y.a.Kc(g,u,!o.dontLimitMoves&&10*p),c.reverse()}return function(t,n,i){return i="boolean"==typeof i?{dontLimitMoves:i}:i||{},n=n||[],(t=t||[]).length<n.length?e(t,n,"added","deleted",i):e(n,t,"deleted","added",i)}}(),y.b("utils.compareArrays",y.a.Pb),function(){function e(e,t,i,o,s){var r=[],a=y.$((function(){var n=t(i,s,y.a.Ua(r,e))||[];0<r.length&&(y.a.Xc(r,n),o&&y.u.G(o,null,[i,n,s])),r.length=0,y.a.Nb(r,n)}),null,{l:e,Sa:function(){return!y.a.kd(r)}});return{Y:r,$:a.ja()?a:n}}var t=y.a.g.Z(),i=y.a.g.Z();y.a.ec=function(o,s,r,a,l,h){function c(e){p={Aa:e,pb:y.ta(N++)},E.push(p),w||I.push(p)}function u(e){p=b[e],N!==p.pb.v()&&x.push(p),p.pb(N++),y.a.Ua(p.Y,o),E.push(p)}function d(e,t){if(e)for(var n=0,i=t.length;n<i;n++)y.a.D(t[n].Y,(function(i){e(i,n,t[n].Aa)}))}void 0===(s=s||[]).length&&(s=[s]),a=a||{};var p,f,g,m,b=y.a.g.get(o,t),w=!b,E=[],S=0,N=0,v=[],C=[],T=[],x=[],I=[],P=0;if(w)y.a.D(s,c);else{if(!h||b&&b._countWaitingForRemove){var A=y.a.Mb(b,(function(e){return e.Aa}));h=y.a.Pb(A,s,{dontLimitMoves:a.dontLimitMoves,sparse:!0})}var O,R,k;for(A=0;O=h[A];A++)switch(R=O.moved,k=O.index,O.status){case"deleted":for(;S<k;)u(S++);R===n&&((p=b[S]).$&&(p.$.s(),p.$=n),y.a.Ua(p.Y,o).length&&(a.beforeRemove&&(E.push(p),P++,p.Aa===i?p=null:T.push(p)),p&&v.push.apply(v,p.Y))),S++;break;case"added":for(;N<k;)u(S++);R!==n?(C.push(E.length),u(R)):c(O.value)}for(;N<s.length;)u(S++);E._countWaitingForRemove=P}y.a.g.set(o,t,E),d(a.beforeMove,x),y.a.D(v,a.beforeRemove?y.oa:y.removeNode);try{m=o.ownerDocument.activeElement}catch(e){}if(C.length)for(;(A=C.shift())!=n;){for(p=E[A],f=n;A;)if((g=E[--A].Y)&&g.length){f=g[g.length-1];break}for(s=0;S=p.Y[s];f=S,s++)y.h.Wb(o,S,f)}for(A=0;p=E[A];A++){for(p.Y||y.a.extend(p,e(o,r,p.Aa,l,p.pb)),s=0;S=p.Y[s];f=S,s++)y.h.Wb(o,S,f);!p.Ed&&l&&(l(p.Aa,p.Y,p.pb),p.Ed=!0,f=p.Y[p.Y.length-1])}for(m&&o.ownerDocument.activeElement!=m&&m.focus(),d(a.beforeRemove,T),A=0;A<T.length;++A)T[A].Aa=i;d(a.afterMove,x),d(a.afterAdd,I)}}(),y.b("utils.setDomNodeChildrenFromArrayMapping",y.a.ec),y.ba=function(){this.allowTemplateRewriting=!1},y.ba.prototype=new y.ca,y.ba.prototype.constructor=y.ba,y.ba.prototype.renderTemplateSource=function(e,t,n,i){return(t=9>y.a.W||!e.nodes?null:e.nodes())?y.a.la(t.cloneNode(!0).childNodes):(e=e.text(),y.a.ua(e,i))},y.ba.Ma=new y.ba,y.gc(y.ba.Ma),y.b("nativeTemplateEngine",y.ba),function(){y.$a=function(){var e=this.Hd=function(){if(!r||!r.tmpl)return 0;try{if(0<=r.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,n,i,s){if(s=s||o,i=i||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var a=t.data("precompiled");return a||(a=t.text()||"",a=r.template(null,"{{ko_with $item.koBindingContext}}"+a+"{{/ko_with}}"),t.data("precompiled",a)),t=[n.$data],n=r.extend({koBindingContext:n},i.templateOptions),(n=r.tmpl(a,t,n)).appendTo(s.createElement("div")),r.fragments={},n},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){o.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<e&&(r.tmpl.tag.ko_code={open:"__.push($1 || '');"},r.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},y.$a.prototype=new y.ca,y.$a.prototype.constructor=y.$a;var e=new y.$a;0<e.Hd&&y.gc(e),y.b("jqueryTmplTemplateEngine",y.$a)}()}))}()})),o=e((function(e,t){function n(e){t.isDebug=e}function i(e){switch(e){case"ltr":return t.PageProgression.LTR;case"rtl":return t.PageProgression.RTL;default:throw new Error(`unknown PageProgression: ${e}`)}}var o;Object.defineProperty(t,"__esModule",{value:!0}),t.isDebug=!1,(o=t.PageProgression||(t.PageProgression={})).LTR="ltr",o.RTL="rtl",function(e){e.LEFT="left",e.RIGHT="right"}(t.PageSide||(t.PageSide={})),function(e){e.LOADING="loading",e.INTERACTIVE="interactive",e.COMPLETE="complete"}(t.ReadyState||(t.ReadyState={}));const s={PageProgression:t.PageProgression,PageSide:t.PageSide,ReadyState:t.ReadyState};var r;!function(e){e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR"}(r||(r={}));function a(e){const t=Array.from(e);let n=null;return t[0]instanceof Error&&(n=t.shift()),{error:n,messages:t}}function l(e){const t=e.error,n=t&&(t.frameTrace||t.stack);let i=[].concat(e.messages);return t&&(i.length>0&&(i=i.concat(["\n"])),i=i.concat([t.toString()]),n&&(i=i.concat(["\n"]).concat(n))),i}const h=new class{constructor(e){this.opt_console=e,this.listeners={}}consoleDebug(e){this.opt_console?this.opt_console.debug?this.opt_console.debug(...e):this.opt_console.log(...e):console.debug(...e)}consoleInfo(e){this.opt_console?this.opt_console.info?this.opt_console.info(...e):this.opt_console.log(...e):console.info(...e)}consoleWarn(e){this.opt_console?this.opt_console.warn?this.opt_console.warn(...e):this.opt_console.log(...e):console.warn(...e)}consoleError(e){this.opt_console?this.opt_console.error?this.opt_console.error(...e):this.opt_console.log(...e):console.error(...e)}triggerListeners(e,t){const n=this.listeners[e];n&&n.forEach(e=>{e(t)})}addListener(e,t){let n=this.listeners[e];n||(n=this.listeners[e]=[]),n.push(t)}debug(...e){const t=a(arguments);this.consoleDebug(l(t)),this.triggerListeners(r.DEBUG,t)}info(...e){const t=a(arguments);this.consoleInfo(l(t)),this.triggerListeners(r.INFO,t)}warn(...e){const t=a(arguments);this.consoleWarn(l(t)),this.triggerListeners(r.WARN,t)}error(...e){const t=a(arguments);this.consoleError(l(t)),this.triggerListeners(r.ERROR,t)}};!function(e){e.SIMPLE_PROPERTY="SIMPLE_PROPERTY",e.PREPROCESS_SINGLE_DOCUMENT="PREPROCESS_SINGLE_DOCUMENT",e.PREPROCESS_TEXT_CONTENT="PREPROCESS_TEXT_CONTENT",e.PREPROCESS_ELEMENT_STYLE="PREPROCESS_ELEMENT_STYLE",e.POLYFILLED_INHERITED_PROPS="POLYFILLED_INHERITED_PROPS",e.CONFIGURATION="CONFIGURATION",e.RESOLVE_TEXT_NODE_BREAKER="RESOLVE_TEXT_NODE_BREAKER",e.RESOLVE_FORMATTING_CONTEXT="RESOLVE_FORMATTING_CONTEXT",e.RESOLVE_LAYOUT_PROCESSOR="RESOLVE_LAYOUT_PROCESSOR",e.POST_LAYOUT_BLOCK="POST_LAYOUT_BLOCK"}(t.HOOKS||(t.HOOKS={}));const c={};function u(e,n){if(t.HOOKS[e]){let t=c[e];t||(t=c[e]=[]),t.push(n)}else h.warn(new Error(`Skipping unknown plugin hook '${e}'.`))}function d(e,n){if(t.HOOKS[e]){const t=c[e];if(t){const e=t.indexOf(n);e>=0&&t.splice(e,1)}}else h.warn(new Error(`Ignoring unknown plugin hook '${e}'.`))}function p(e){return c[e]||[]}const f={registerHook:u,removeHook:d};class g{constructor(e){this.performanceInstance=e,this.timestamps={},this.registerTiming=m,this.registerStartTiming=this.registerStartTiming=m,this.registerEndTiming=this.registerEndTiming=m}forceRegisterStartTiming(e,t){b.call(this,e,"start",t)}forceRegisterEndTiming(e,t){b.call(this,e,"end",t)}printTimings(){const e=this.timestamps;let t="";Object.keys(e).forEach(n=>{const i=e[n],o=i.length;for(let e=0;e<o;e++){const s=i[e];t+=n,o>1&&(t+=`(${e})`),t+=` => start: ${s.start}, end: ${s.end}, duration: ${s.end-s.start}\n`}}),h.info(t)}disable(){this.registerTiming=m,this.registerStartTiming=this.registerStartTiming=m,this.registerEndTiming=this.registerEndTiming=m}enable(){this.registerTiming=b,this.registerStartTiming=this.registerStartTiming=w,this.registerEndTiming=this.registerEndTiming=E}isEnabled(){return this.registerStartTiming===w}}function m(){}function b(e,t,n){n||(n=this.performanceInstance.now());let i,o=this.timestamps[e];o||(o=this.timestamps[e]=[]);for(let e=o.length-1;e>=0&&(i=o[e],!i||i[t]);e--)i=null;i||(i={},o.push(i)),i[t]=n}function w(e,t){this.registerTiming(e,"start",t)}function E(e,t){this.registerTiming(e,"end",t)}const y={now:Date.now},S=new g(window&&window.performance||y);S.forceRegisterStartTiming("load_vivliostyle");const N={profiler:{registerStartTiming:S.registerStartTiming,registerEndTiming:S.registerEndTiming,printTimings:S.printTimings,disable:S.disable,enable:S.enable}};let v={};function C(e){return JSON.parse(e)}function T(e){const t=e.match(/^([^#]*)/);return t?t[1]:e}let x=window.location.href;function I(e){x=e}let P=window.location.href;function A(e){P=e}function O(e,t){if(/^data:/i.test(t))return e||t;if(!t||e.match(/^\w{2,}:/))return e.toLowerCase().match("^javascript:")?"#":(e.match(/^\w{2,}:\/\/[^\/]+$/)&&(e=`${e}/`),e);let n;if(t.match(/^\w{2,}:\/\/[^\/]+$/)&&(t=`${t}/`),e.match(/^\/\//))return n=t.match(/^(\w{2,}:)\/\//),n?n[1]+e:e;if(e.match(/^\//))return n=t.match(/^(\w{2,}:\/\/[^\/]+)\//),n?n[1]+e:e;if(e.match(/^\.(\/|$)/)&&(e=e.substr(2)),t=function(e){const t=e.match(/^([^#?]*)/);return t?t[1]:e}(t),e.match(/^#/))return t+e;let i=t.lastIndexOf("/");if(i<0)return e;if(i<t.length-1&&t.lastIndexOf(".")<i){if(""==e)return t;i=(t+="/").length-1}let o=t.substr(0,i+1)+e,s="";for(n=o.match(/^([^?#]*)([?#].*)$/),n&&(o=n[1],s=n[2]);i=o.indexOf("/../"),!(i<=0);){const e=o.lastIndexOf("/",i-1);if(e<=0)break;o=o.substr(0,e)+o.substr(i+3)}return o.replace(/\/(\.\/)+/g,"/")+s}function R(e){let t;return(t=/^(https?:)\/\/github\.com\/([^/]+\/[^/]+)\/(blob\/|tree\/|raw\/)?(.*)$/.exec(e))?e=`${t[1]}//raw.githubusercontent.com/${t[2]}/${t[3]?"":"master/"}${t[4]}`:(t=/^(https?:)\/\/www\.aozora\.gr\.jp\/(cards\/[^/]+\/files\/[^/.]+\.html)$/.exec(e))?e=`${t[1]}//raw.githubusercontent.com/aozorabunko/aozorabunko/master/${t[2]}`:(t=/^(https?:)\/\/gist\.github\.com\/([^/]+\/\w+)(\/|$)(raw(\/|$))?(.*)$/.exec(e))?e=`${t[1]}//gist.githubusercontent.com/${t[2]}/raw/${t[6]}`:(t=/^(https?:)\/\/(?:[^/.]+\.)?jsbin\.com\/(?!(?:blog|help)\b)(\w+)((\/\d+)?).*$/.exec(e))&&(e=`${t[1]}//output.jsbin.com/${t[2]}${t[3]}/`),e}var k;function L(e){return null==e?e:e.toString()}!function(e){e.FB2="http://www.gribuser.ru/xml/fictionbook/2.0",e.epub="http://www.idpf.org/2007/ops",e.EV="http://www.w3.org/2001/xml-events",e.MATHML="http://www.w3.org/1998/Math/MathML",e.XML="http://www.w3.org/XML/1998/namespace",e.XHTML="http://www.w3.org/1999/xhtml",e.XLINK="http://www.w3.org/1999/xlink",e.SHADOW="http://www.pyroxy.com/ns/shadow",e.SVG="http://www.w3.org/2000/svg",e.DC="http://purl.org/dc/elements/1.1/",e.NCX="http://www.daisy.org/z3986/2005/ncx/",e.SSE="http://example.com/sse"}(k||(k={}));class F{constructor(){this.queue=[null]}length(){return this.queue.length-1}add(e){let t=this.queue.length;for(;t>1;){const n=Math.floor(t/2),i=this.queue[n];if(i.compare(e)>0)return void(this.queue[t]=e);this.queue[t]=i,t=n}this.queue[1]=e}peek(){return this.queue[1]}remove(){const e=this.queue[1],t=this.queue.pop(),n=this.queue.length;if(n>1){let e=1;for(;;){let i=2*e;if(i>=n)break;if(this.queue[i].compare(t)>0)i+1<n&&this.queue[i+1].compare(this.queue[i])>0&&i++;else{if(!(i+1<n&&this.queue[i+1].compare(t)>0))break;i++}this.queue[e]=this.queue[i],e=i}this.queue[e]=t}return e}}const D=["","-webkit-","-moz-","-ms-","-o-","-epub-"],_={};function B(e,t){if("writing-mode"===t){const n=document.createElement("span");return"-ms-"===e?(n.style.setProperty(e+t,"tb-rl"),"tb-rl"===n.style["writing-mode"]):(n.style.setProperty(e+t,"vertical-rl"),"vertical-rl"===n.style[e+t])}return"string"==typeof document.documentElement.style[function(e,t){return e&&(t=`-${t}`,"moz"===(e=e.replace(/-/g,""))&&(e="Moz")),e+t.replace(/-[a-z]/g,e=>e.substr(1).toUpperCase())}(e,t)]}function M(e){let t=_[e];if(t||null===t)return t;switch(e){case"text-combine-upright":if(B("-webkit-","text-combine")&&!B("","text-combine-upright"))return _[e]=["-webkit-text-combine"],["-webkit-text-combine"];break;case"writing-mode":if(B("-ms-","writing-mode"))return _[e]=["-ms-writing-mode"],["-ms-writing-mode"];break;case"filter":if(B("-webkit-","filter"))return _[e]=["-webkit-filter"],["-webkit-filter"];break;case"clip-path":if(B("-webkit-","clip-path"))return _[e]=["-webkit-clip-path","clip-path"];break;case"margin-inline-start":if(B("-webkit-","margin-start"))return _[e]=["-webkit-margin-start"],["-webkit-margin-start"];break;case"margin-inline-end":if(B("-webkit-","margin-end"))return _[e]=["-webkit-margin-end"],["-webkit-margin-end"];break;case"padding-inline-start":if(B("-webkit-","padding-start"))return _[e]=["-webkit-padding-start"],["-webkit-padding-start"];break;case"padding-inline-end":if(B("-webkit-","padding-end"))return _[e]=["-webkit-padding-end"],["-webkit-padding-end"]}for(const n of D)if(B(n,e))return t=n+e,_[e]=[t],[t];return h.warn("Property not supported by the browser: ",e),_[e]=null,null}function U(e,t,n){try{const i=M(t);if(!i)return;i.forEach(t=>{if("-ms-writing-mode"===t)switch(n){case"horizontal-tb":n="lr-tb";break;case"vertical-rl":n="tb-rl";break;case"vertical-lr":n="tb-lr"}else if("-webkit-text-combine"===t)switch(n){case"all":n="horizontal"}e&&e.style&&e.style.setProperty(t,n)})}catch(e){h.warn(e)}}function z(e,t,n){try{const n=_[t];return e.style.getPropertyValue(n?n[0]:t)}catch(e){}return n||""}function V(e){let t=e.getAttributeNS(k.XML,"lang");return t||e.namespaceURI!=k.XHTML||(t=e.getAttribute("lang")),t}class H{constructor(){this.list=[]}append(e){return this.list.push(e),this}clear(){this.list=[]}toString(){const e=this.list.join("");return this.list=[e],e}}function G(e){return`\\${e.charCodeAt(0).toString(16)} `}function $(e){return e.replace(/[^-_a-zA-Z0-9\u0080-\uFFFF]/g,G)}function W(e){return e.replace(/[\u0000-\u001F"\\]/g,G)}function X(e){return e.replace(/[\s+&?=#\u007F-\uFFFF]+/g,encodeURIComponent)}function j(e){return!!e.match(/^[a-zA-Z\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u024F\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]$/)}function K(e,t){return e.replace(/[^-a-zA-Z0-9_]/g,(function(e){return function(e,t){return(t="string"==typeof t?t:"\\u")+(65536|e.charCodeAt(0)).toString(16).substr(1)}(e,t)}))}function Y(e){return K(e)}function q(e,t){t="string"==typeof t?t:"\\u";const n=new RegExp(`${Y(t)}[0-9a-fA-F]{4}`,"g");return e.replace(n,(function(e){return function(e,t){return t="string"==typeof t?t:"\\u",0===e.indexOf(t)?String.fromCharCode(parseInt(e.substring(t.length),16)):e}(e,t)}))}function Z(e,t){let n=0,i=e;for(;;){if(0==n||t(n-1),i==e||t(i),n==i)return n;const o=n+i>>1;t(o)?i=o:n=o+1}}function Q(e,t){return e-t}function J(e,t){const n={};for(const i of e){const e=t(i);e&&!n[e]&&(n[e]=i)}return n}function ee(e,t){const n={};for(const i of e){const e=t(i);e&&(n[e]?n[e].push(i):n[e]=[i])}return n}class te{constructor(){this.listeners={}}dispatchEvent(e){const t=this.listeners[e.type];if(t){e.target=this,e.currentTarget=this;for(let n=0;n<t.length;n++)t[n](e)}}addEventListener(e,t,n){if(n)return;const i=this.listeners[e];i?i.push(t):this.listeners[e]=[t]}removeEventListener(e,t,n){if(n)return;const i=this.listeners[e];if(i){const e=i.indexOf(t);e>=0&&i.splice(e,1)}}}let ne=null;let ie=null;let oe=null;let se=null;function re(e){if(1==e.nodeType){const t=e.getAttribute("id");if(t&&t.match(/^[-a-zA-Z_0-9.\u007F-\uFFFF]+$/))return t}return null}function ae(e){return`^${e}`}function le(e){return e.replace(/[\[\]\(\),=;^]/g,ae)}function he(e){return e.substr(1)}function ce(e){return e?e.replace(/\^[\[\]\(\),=;^]/g,he):e}function ue(e){const t=[];do{const n=e.match(/^(\^,|[^,])*/),i=ce(n[0]);if(!(e=e.substr(n[0].length+1))&&!t.length)return i;t.push(i)}while(e);return t}function de(e){const t={};for(;e;){const n=e.match(/^;([^;=]+)=(([^;]|\^;)*)/);if(!n)return t;t[n[1]]=ue(n[2]),e=e.substr(n[0].length)}return t}class pe{appendTo(e){e.append("!")}applyTo(e){return!1}}class fe{constructor(e,t,n){this.index=e,this.id=t,this.sideBias=n}appendTo(e){e.append("/"),e.append(this.index.toString()),(this.id||this.sideBias)&&(e.append("["),this.id&&e.append(this.id),this.sideBias&&(e.append(";s="),e.append(this.sideBias)),e.append("]"))}applyTo(e){if(1!=e.node.nodeType)throw new Error("E_CFI_NOT_ELEMENT");const t=e.node,n=t.children,i=n.length;let o;const s=Math.floor(this.index/2)-1;if(s<0||0==i)o=t.firstChild,e.node=o||t;else{if(o=n[Math.min(s,i-1)],1&this.index){const t=o.nextSibling;t&&1!=t.nodeType?o=t:e.after=!0}e.node=o}if(this.id&&(e.after||this.id!=re(e.node)))throw new Error("E_CFI_ID_MISMATCH");return e.sideBias=this.sideBias,!0}}class ge{constructor(e,t,n,i){this.offset=e,this.textBefore=t,this.textAfter=n,this.sideBias=i}applyTo(e){if(this.offset>0&&!e.after){let t=this.offset,n=e.node;for(;;){const e=n.nodeType;if(1==e)break;const i=n.nextSibling;if(3<=e&&e<=5){const e=n.textContent.length;if(t<=e)break;if(!i){t=e;break}t-=e}if(!i){t=0;break}n=i}e.node=n,e.offset=t}return e.sideBias=this.sideBias,!0}appendTo(e){e.append(":"),e.append(this.offset.toString()),(this.textBefore||this.textAfter||this.sideBias)&&(e.append("["),(this.textBefore||this.textAfter)&&(this.textBefore&&e.append(le(this.textBefore)),e.append(","),this.textAfter&&e.append(le(this.textAfter))),this.sideBias&&(e.append(";s="),e.append(this.sideBias)),e.append("]"))}}class me{constructor(){this.steps=null}fromString(e){let t=e.match(/^#?epubcfi\((.*)\)$/);if(!t)throw new Error("E_CFI_NOT_CFI");const n=t[1];let i=0;const o=[];for(;;){let e;switch(n.charAt(i)){case"/":{if(i++,t=n.substr(i).match(/^(0|[1-9][0-9]*)(\[([-a-zA-Z_0-9.\u007F-\uFFFF]+)(;([^\]]|\^\])*)?\])?/),!t)throw new Error("E_CFI_NUMBER_EXPECTED");i+=t[0].length;const s=parseInt(t[1],10),r=t[3];e=de(t[4]),o.push(new fe(s,r,L(e.s)));break}case":":{if(i++,t=n.substr(i).match(/^(0|[1-9][0-9]*)(\[((([^\];,]|\^[\];,])*)(,(([^\];,]|\^[\];,])*))?)(;([^]]|\^\])*)?\])?/),!t)throw new Error("E_CFI_NUMBER_EXPECTED");i+=t[0].length;const s=parseInt(t[1],10);let r=t[4];r&&(r=ce(r));let a=t[7];a&&(a=ce(a)),e=de(t[10]),o.push(new ge(s,r,a,L(e.s)));break}case"!":i++,o.push(new pe);break;case"~":case"@":case"":return void(this.steps=o);default:throw new Error("E_CFI_PARSE_ERROR")}}}navigate(e){const t={node:e.documentElement,offset:0,after:!1,sideBias:null,ref:null};for(let e=0;e<this.steps.length;e++)if(!this.steps[e].applyTo(t)){t.ref=new me,t.ref.steps=this.steps.slice(e+1);break}return t}trim(e,t){return e.replace(/\s+/g," ").match(t?/^[ -\uD7FF\uE000-\uFFFF]{0,8}/:/[ -\uD7FF\uE000-\uFFFF]{0,8}$/)[0].replace(/^\s/,"").replace(/\s$/,"")}prependPathFromNode(e,t,n,i){const o=[];let s=e.parentNode,r="",a="";for(;e;){switch(e.nodeType){case 3:case 4:case 5:{const i=e.textContent,o=i.length;n?(t+=o,r||(r=i)):(t>o&&(t=o),n=!0,r=i.substr(0,t),a=i.substr(t)),e=e.previousSibling;continue}case 8:e=e.previousSibling;continue}break}for((t>0||r||a)&&(r=this.trim(r,!1),a=this.trim(a,!0),o.push(new ge(t,r,a,i)),i=null);s&&s&&9!=s.nodeType;){const t=n?null:re(e);let r=n?1:0;for(;e;)1==e.nodeType&&(r+=2),e=e.previousSibling;o.push(new fe(r,t,i)),i=null,e=s,s=s.parentNode,n=!1}o.reverse(),this.steps?(o.push(new pe),this.steps=o.concat(this.steps)):this.steps=o}toString(){if(!this.steps)return"";const e=new H;e.append("epubcfi(");for(let t=0;t<this.steps.length;t++)this.steps[t].appendTo(e);return e.append(")"),e.toString()}}function be(e){return{fontFamily:e.fontFamily,lineHeight:e.lineHeight,margin:e.margin,hyphenate:e.hyphenate,columnWidth:e.columnWidth,horizontal:e.horizontal,nightMode:e.nightMode,spreadView:e.spreadView,pageBorder:e.pageBorder,enabledMediaTypes:Object.assign({},e.enabledMediaTypes),defaultPaperSize:e.defaultPaperSize?Object.assign({},e.defaultPaperSize):void 0}}const we={fontFamily:"serif",lineHeight:1.25,margin:8,hyphenate:!1,columnWidth:25,horizontal:!1,nightMode:!1,spreadView:!1,pageBorder:1,enabledMediaTypes:{vivliostyle:!0,print:!0},defaultPaperSize:void 0},Ee={PENDING:{}};function ye(e,t,n,i){const o=Math.min((e-0)/n,(t-0)/i);return`matrix(${o},0,0,${o},0,0)`}function Se(e){return`"${W(`${e}`)}"`}function Ne(e){return $(`${e}`)}function ve(e,t){return e?`${$(e)}.${$(t)}`:$(t)}let Ce=0;class Te{constructor(e,t){if(this.parent=e,this.resolver=t,this.children=[],this.values={},this.funcs={},this.builtIns={},this.scopeKey=`S${Ce++}`,this.zero=new rt(this,0),this.one=new rt(this,1),this._true=new rt(this,!0),this._false=new rt(this,!1),e&&e.children.push(this),!e){const e=this.builtIns;e.floor=Math.floor,e.ceil=Math.ceil,e.round=Math.round,e.sqrt=Math.sqrt,e.min=Math.min,e.max=Math.max,e.letterbox=ye,e["css-string"]=Se,e["css-name"]=Ne,e.typeof=e=>typeof e,this.defineBuiltInName("page-width",(function(){return this.pageWidth()})),this.defineBuiltInName("page-height",(function(){return this.pageHeight()})),this.defineBuiltInName("pref-font-family",(function(){return this.pref.fontFamily})),this.defineBuiltInName("pref-night-mode",(function(){return this.pref.nightMode})),this.defineBuiltInName("pref-hyphenate",(function(){return this.pref.hyphenate})),this.defineBuiltInName("pref-margin",(function(){return this.pref.margin})),this.defineBuiltInName("pref-line-height",(function(){return this.pref.lineHeight})),this.defineBuiltInName("pref-column-width",(function(){return this.pref.columnWidth*this.fontSize})),this.defineBuiltInName("pref-horizontal",(function(){return this.pref.horizontal})),this.defineBuiltInName("pref-spread-view",(function(){return this.pref.spreadView})),this.defineBuiltInName("pub-title",(function(){return Se(this.pubTitle?this.pubTitle:"")})),this.defineBuiltInName("doc-title",(function(){return Se(this.docTitle?this.docTitle:"")}))}}defineBuiltInName(e,t){this.values[e]=new it(this,t,e)}defineName(e,t){this.values[e]=t}defineFunc(e,t){this.funcs[e]=t}defineBuiltIn(e,t){this.builtIns[e]=t}}function xe(e){switch(e.toLowerCase()){case"vw":case"vh":case"vi":case"vb":case"vmin":case"vmax":case"pvw":case"pvh":case"pvi":case"pvb":case"pvmin":case"pvmax":return!0;default:return!1}}const Ie={px:1,in:96,pt:4/3,pc:16,cm:96/2.54,mm:96/25.4,q:96/2.54/40,em:16,rem:16,ex:8,dppx:1,dpi:1/96,dpcm:2.54/96};function Pe(e){switch(e){case"q":case"rem":return!0;default:return!1}}class Ae{constructor(e,t,n,i){this.rootScope=e,this.viewportWidth=t,this.viewportHeight=n,this.actualPageWidth=null,this.actualPageHeight=null,this.rootFontSize=null,this.scopes={},this.pageAreaWidth=null,this.pageAreaHeight=null,this.pageVertical=null,this.pubTitle=null,this.docTitle=null,this.pageWidth=function(){return this.actualPageWidth?this.actualPageWidth:this.pref.spreadView?Math.floor(t/2)-this.pref.pageBorder:t},this.pageHeight=function(){return this.actualPageHeight?this.actualPageHeight:n},this.initialFontSize=i,this.fontSize=function(){return this.rootFontSize?this.rootFontSize:i},this.pref=we}getScopeContext(e){let t=this.scopes[e.scopeKey];return t||(t={},this.scopes[e.scopeKey]=t),t}clearScope(e){this.scopes[e.scopeKey]={};for(let t=0;t<e.children.length;t++)this.clearScope(e.children[t])}queryUnitSize(e,t){if(xe(e)){const t=this.pageWidth()/100,n=this.pageHeight()/100,i=null!=this.pageAreaWidth?this.pageAreaWidth/100:t,o=null!=this.pageAreaHeight?this.pageAreaHeight/100:n;switch(e){case"vw":return i;case"vh":return o;case"vi":return this.pageVertical?o:i;case"vb":return this.pageVertical?i:o;case"vmin":return i<o?i:o;case"vmax":return i>o?i:o;case"pvw":return t;case"pvh":return n;case"pvi":return this.pageVertical?n:t;case"pvb":return this.pageVertical?t:n;case"pvmin":return t<n?t:n;case"pvmax":return t>n?t:n}}return"em"==e||"rem"==e?t?this.initialFontSize:this.fontSize():"ex"==e?Ie.ex*(t?this.initialFontSize:this.fontSize())/Ie.em:Ie[e]}evalName(e,t){do{let n=e.values[t];if(n)return n;if(e.resolver&&(n=e.resolver.call(this,t,!1),n))return n;e=e.parent}while(e);throw new Error(`Name '${t}' is undefined`)}evalCall(e,t,n,i){do{let o=e.funcs[t];if(o)return o;if(e.resolver&&(o=e.resolver.call(this,t,!0),o))return o;const s=e.builtIns[t];if(s){if(i)return e.zero;const t=Array(n.length);for(let e=0;e<n.length;e++)t[e]=n[e].evaluate(this);return new rt(e,s.apply(this,t))}e=e.parent}while(e);throw new Error(`Function '${t}' is undefined`)}evalMediaName(e,t){const n="all"===e||!!this.pref.enabledMediaTypes[e];return t?!n:n}evalMediaTest(e,t){let n="";const i=e.match(/^(min|max)-(.*)$/);i&&(n=i[1],e=i[2]);let o=null,s=null;switch(e){case"width":case"height":case"device-width":case"device-height":case"color":t&&(o=t.evaluate(this))}switch(e){case"width":s=this.pageWidth();break;case"height":s=this.pageHeight();break;case"device-width":s=window.screen.availWidth;break;case"device-height":s=window.screen.availHeight;break;case"color":s=window.screen.pixelDepth}if(null!=s&&null!=o)switch(n){case"min":return s>=o;case"max":return s<=o;default:return s==o}else if(null!=s&&null==t)return 0!==s;return!1}queryVal(e,t){const n=this.scopes[e.scopeKey];return n?n[t]:void 0}storeVal(e,t,n){this.getScopeContext(e)[t]=n}}class Oe{constructor(e){this.scope=e,this.scope=e,this.key=`_${Ce++}`}toString(){const e=new H;return this.appendTo(e,0),e.toString()}appendTo(e,t){throw new Error("F_ABSTRACT")}evaluateCore(e){throw new Error("F_ABSTRACT")}expand(e,t){return this}dependCore(e,t,n){return e===this}dependOuter(e,t,n){const i=n[this.key];if(null!=i)return i!==Ee.PENDING&&i;{n[this.key]=Ee.PENDING;const i=this.dependCore(e,t,n);return n[this.key]=i,i}}depend(e,t){return this.dependOuter(e,t,{})}evaluate(e){let t=e.queryVal(this.scope,this.key);return void 0!==t?t:(t=this.evaluateCore(e),e.storeVal(this.scope,this.key,t),t)}isMediaName(){return!1}}class Re extends Oe{constructor(e,t){super(e),this.val=t}getOp(){throw new Error("F_ABSTRACT")}evalPrefix(e){throw new Error("F_ABSTRACT")}evaluateCore(e){const t=this.val.evaluate(e);return this.evalPrefix(t)}dependCore(e,t,n){return e===this||this.val.dependOuter(e,t,n)}appendTo(e,t){10<t&&e.append("("),e.append(this.getOp()),this.val.appendTo(e,10),10<t&&e.append(")")}expand(e,t){const n=this.val.expand(e,t);return n===this.val?this:new this.constructor(this.scope,n)}}class ke extends Oe{constructor(e,t,n){super(e),this.lhs=t,this.rhs=n}getPriority(){throw new Error("F_ABSTRACT")}getOp(){throw new Error("F_ABSTRACT")}evalInfix(e,t){throw new Error("F_ABSTRACT")}evaluateCore(e){const t=this.lhs.evaluate(e),n=this.rhs.evaluate(e);return this.evalInfix(t,n)}dependCore(e,t,n){return e===this||this.lhs.dependOuter(e,t,n)||this.rhs.dependOuter(e,t,n)}appendTo(e,t){const n=this.getPriority();n<=t&&e.append("("),this.lhs.appendTo(e,n),e.append(this.getOp()),this.rhs.appendTo(e,n),n<=t&&e.append(")")}expand(e,t){const n=this.lhs.expand(e,t),i=this.rhs.expand(e,t);return n===this.lhs&&i===this.rhs?this:new this.constructor(this.scope,n,i)}}class Le extends ke{constructor(e,t,n){super(e,t,n)}getPriority(){return 1}}class Fe extends ke{constructor(e,t,n){super(e,t,n)}getPriority(){return 2}}class De extends ke{constructor(e,t,n){super(e,t,n)}getPriority(){return 3}}class _e extends ke{constructor(e,t,n){super(e,t,n)}getPriority(){return 4}}class Be extends Re{constructor(e,t){super(e,t)}getOp(){return"!"}evalPrefix(e){return!e}}class Me extends Re{constructor(e,t){super(e,t)}getOp(){return"-"}evalPrefix(e){return-e}}class Ue extends Le{constructor(e,t,n){super(e,t,n)}getOp(){return"&&"}evaluateCore(e){return this.lhs.evaluate(e)&&this.rhs.evaluate(e)}}class ze extends Ue{constructor(e,t,n){super(e,t,n)}getOp(){return" and "}}class Ve extends Le{constructor(e,t,n){super(e,t,n)}getOp(){return"||"}evaluateCore(e){return this.lhs.evaluate(e)||this.rhs.evaluate(e)}}class He extends Ve{constructor(e,t,n){super(e,t,n)}getOp(){return", "}}class Ge extends Fe{constructor(e,t,n){super(e,t,n)}getOp(){return"<"}evalInfix(e,t){return e<t}}class $e extends Fe{constructor(e,t,n){super(e,t,n)}getOp(){return"<="}evalInfix(e,t){return e<=t}}class We extends Fe{constructor(e,t,n){super(e,t,n)}getOp(){return">"}evalInfix(e,t){return e>t}}class Xe extends Fe{constructor(e,t,n){super(e,t,n)}getOp(){return">="}evalInfix(e,t){return e>=t}}class je extends Fe{constructor(e,t,n){super(e,t,n)}getOp(){return"=="}evalInfix(e,t){return e==t}}class Ke extends Fe{constructor(e,t,n){super(e,t,n)}getOp(){return"!="}evalInfix(e,t){return e!=t}}class Ye extends De{constructor(e,t,n){super(e,t,n)}getOp(){return"+"}evalInfix(e,t){return e+t}}class qe extends De{constructor(e,t,n){super(e,t,n)}getOp(){return" - "}evalInfix(e,t){return e-t}}class Ze extends _e{constructor(e,t,n){super(e,t,n)}getOp(){return"*"}evalInfix(e,t){return e*t}}class Qe extends _e{constructor(e,t,n){super(e,t,n)}getOp(){return"/"}evalInfix(e,t){return e/t}}class Je extends _e{constructor(e,t,n){super(e,t,n)}getOp(){return"%"}evalInfix(e,t){return e%t}}class et extends Oe{constructor(e,t,n){super(e),this.num=t,this.unit=n.toLowerCase()}appendTo(e,t){e.append(this.num.toString()),e.append($(this.unit))}evaluateCore(e){return this.num*e.queryUnitSize(this.unit,!1)}}class tt extends Oe{constructor(e,t){super(e),this.qualifiedName=t}appendTo(e,t){e.append(this.qualifiedName)}evaluateCore(e){return e.evalName(this.scope,this.qualifiedName).evaluate(e)}dependCore(e,t,n){return e===this||t.evalName(this.scope,this.qualifiedName).dependOuter(e,t,n)}}class nt extends Oe{constructor(e,t,n){super(e),this.not=t,this.name=n}appendTo(e,t){this.not&&e.append("not "),e.append($(this.name))}evaluateCore(e){return e.evalMediaName(this.name,this.not)}dependCore(e,t,n){return e===this||this.value.dependOuter(e,t,n)}isMediaName(){return!0}}class it extends Oe{constructor(e,t,n){super(e),this.fn=t,this.str=n}appendTo(e,t){e.append(this.str)}evaluateCore(e){return this.fn.call(e)}}class ot extends Oe{constructor(e,t,n){super(e),this.qualifiedName=t,this.params=n}appendTo(e,t){e.append(this.qualifiedName),function(e,t){e.append("(");for(let n=0;n<t.length;n++)n&&e.append(","),t[n].appendTo(e,0);e.append(")")}(e,this.params)}evaluateCore(e){return e.evalCall(this.scope,this.qualifiedName,this.params,!1).expand(e,this.params).evaluate(e)}dependCore(e,t,n){if(e===this)return!0;for(let i=0;i<this.params.length;i++)if(this.params[i].dependOuter(e,t,n))return!0;return t.evalCall(this.scope,this.qualifiedName,this.params,!0).dependOuter(e,t,n)}expand(e,t){const n=function(e,t,n){let i=t;for(let o=0;o<t.length;o++){const s=t[o].expand(e,n);if(t!==i)i[o]=s;else if(s!==t[o]){i=Array(t.length);for(let e=0;e<o;e++)i[e]=t[e];i[o]=s}}return i}(e,this.params,t);return n===this.params?this:new ot(this.scope,this.qualifiedName,n)}}class st extends Oe{constructor(e,t,n,i){super(e),this.cond=t,this.ifTrue=n,this.ifFalse=i}appendTo(e,t){t>0&&e.append("("),this.cond.appendTo(e,0),e.append("?"),this.ifTrue.appendTo(e,0),e.append(":"),this.ifFalse.appendTo(e,0),t>0&&e.append(")")}evaluateCore(e){return this.cond.evaluate(e)?this.ifTrue.evaluate(e):this.ifFalse.evaluate(e)}dependCore(e,t,n){return e===this||this.cond.dependOuter(e,t,n)||this.ifTrue.dependOuter(e,t,n)||this.ifFalse.dependOuter(e,t,n)}expand(e,t){const n=this.cond.expand(e,t),i=this.ifTrue.expand(e,t),o=this.ifFalse.expand(e,t);return n===this.cond&&i===this.ifTrue&&o===this.ifFalse?this:new st(this.scope,n,i,o)}}class rt extends Oe{constructor(e,t){super(e),this.val=t}appendTo(e,t){switch(typeof this.val){case"number":case"boolean":e.append(this.val.toString());break;case"string":e.append('"'),e.append(W(this.val)),e.append('"');break;default:throw new Error("F_UNEXPECTED_STATE")}}evaluateCore(e){return this.val}}class at extends Oe{constructor(e,t,n){super(e),this.name=t,this.value=n}appendTo(e,t){e.append("("),e.append(W(this.name.name)),e.append(":"),this.value.appendTo(e,0),e.append(")")}evaluateCore(e){return e.evalMediaTest(this.name.name,this.value)}dependCore(e,t,n){return e===this||this.value.dependOuter(e,t,n)}expand(e,t){const n=this.value.expand(e,t);return n===this.value?this:new at(this.scope,this.name,n)}}class lt extends Oe{constructor(e,t){super(e),this.index=t}appendTo(e,t){e.append("$"),e.append(this.index.toString())}expand(e,t){const n=t[this.index];if(!n)throw new Error(`Parameter missing: ${this.index}`);return n}}function ht(e,t,n){return t===e._false||t===e.zero||n==e._false||n==e.zero?e._false:t===e._true||t===e.one?n:n===e._true||n===e.one?t:new Ue(e,t,n)}function ct(e,t,n){return t===e.zero?n:n===e.zero?t:new Ye(e,t,n)}function ut(e,t,n){return t===e.zero?new Me(e,n):n===e.zero?t:new qe(e,t,n)}function dt(e,t,n){return t===e.zero||n===e.zero?e.zero:t===e.one?n:n===e.one?t:new Ze(e,t,n)}function pt(e,t,n){return t===e.zero?e.zero:n===e.one?t:new Qe(e,t,n)}class ft{visitValues(e){for(let t=0;t<e.length;t++)e[t].visit(this)}visitEmpty(e){throw new Error("E_CSS_EMPTY_NOT_ALLOWED")}visitSlash(e){throw new Error("E_CSS_SLASH_NOT_ALLOWED")}visitStr(e){throw new Error("E_CSS_STR_NOT_ALLOWED")}visitIdent(e){throw new Error("E_CSS_IDENT_NOT_ALLOWED")}visitNumeric(e){throw new Error("E_CSS_NUMERIC_NOT_ALLOWED")}visitNum(e){throw new Error("E_CSS_NUM_NOT_ALLOWED")}visitInt(e){return this.visitNum(e)}visitColor(e){throw new Error("E_CSS_COLOR_NOT_ALLOWED")}visitURL(e){throw new Error("E_CSS_URL_NOT_ALLOWED")}visitSpaceList(e){throw new Error("E_CSS_LIST_NOT_ALLOWED")}visitCommaList(e){throw new Error("E_CSS_COMMA_NOT_ALLOWED")}visitFunc(e){throw new Error("E_CSS_FUNC_NOT_ALLOWED")}visitExpr(e){throw new Error("E_CSS_EXPR_NOT_ALLOWED")}}class gt extends ft{constructor(){super()}visitValues(e){let t=null;for(let n=0;n<e.length;n++){const i=e[n],o=i.visit(this);if(t)t[n]=o;else if(i!==o){t=new Array(e.length);for(let i=0;i<n;i++)t[i]=e[i];t[n]=o}}return t||e}visitStr(e){return e}visitIdent(e){return e}visitSlash(e){return e}visitNumeric(e){return e}visitNum(e){return e}visitInt(e){return e}visitColor(e){return e}visitURL(e){return e}visitSpaceList(e){const t=this.visitValues(e.values);return t===e.values?e:new Rt(t)}visitCommaList(e){const t=this.visitValues(e.values);return t===e.values?e:new kt(t)}visitFunc(e){const t=this.visitValues(e.values);return t===e.values?e:new Lt(e.name,t)}visitExpr(e){return e}}class mt{toString(){const e=new H;return this.appendTo(e,!0),e.toString()}stringValue(){const e=new H;return this.appendTo(e,!1),e.toString()}toExpr(e,t){throw new Error("F_ABSTRACT")}appendTo(e,t){e.append("[error]")}isExpr(){return!1}isNumeric(){return!1}isNum(){return!1}isIdent(){return!1}isSpaceList(){return!1}visit(e){throw new Error("F_ABSTRACT")}}class bt extends mt{constructor(){super()}static get instance(){return this.empty||(this.empty=new bt),this.empty}toExpr(e,t){return new rt(e,"")}appendTo(e,t){}visit(e){return e.visitEmpty(this)}}const wt=bt.instance;class Et extends mt{constructor(){super()}static get instance(){return this.slash||(this.slash=new Et),this.slash}toExpr(e,t){return new rt(e,"/")}appendTo(e,t){e.append("/")}visit(e){return e.visitSlash(this)}}const yt=Et.instance;class St extends mt{constructor(e){super(),this.str=e}toExpr(e,t){return new rt(e,this.str)}appendTo(e,t){t?(e.append('"'),e.append(W(this.str)),e.append('"')):e.append(this.str)}visit(e){return e.visitStr(this)}}const Nt={};class vt extends mt{constructor(e){if(super(),this.name=e,Nt[e])throw new Error("E_INVALID_CALL");Nt[e]=this}toExpr(e,t){return new rt(e,this.name)}appendTo(e,t){t?e.append($(this.name)):e.append(this.name)}visit(e){return e.visitIdent(this)}isIdent(){return!0}}function Ct(e){let t=Nt[e];return t||(t=new vt(e)),t}class Tt extends mt{constructor(e,t){super(),this.num=e,this.unit=t.toLowerCase()}toExpr(e,t){return 0==this.num?e.zero:t&&"%"==this.unit?100==this.num?t:new Ze(e,t,new rt(e,this.num/100)):new et(e,this.num,this.unit)}appendTo(e,t){e.append(this.num.toString()),e.append(this.unit)}visit(e){return e.visitNumeric(this)}isNumeric(){return!0}}class xt extends mt{constructor(e){super(),this.num=e}toExpr(e,t){return 0==this.num?e.zero:1==this.num?e.one:new rt(e,this.num)}appendTo(e,t){e.append(this.num.toString())}visit(e){return e.visitNum(this)}isNum(){return!0}}class It extends xt{constructor(e){super(e)}visit(e){return e.visitInt(this)}}class Pt extends mt{constructor(e){super(),this.rgb=e}appendTo(e,t){e.append("#");const n=this.rgb.toString(16);e.append("000000".substr(n.length)),e.append(n)}visit(e){return e.visitColor(this)}}class At extends mt{constructor(e){super(),this.url=e}appendTo(e,t){e.append('url("'),e.append(W(this.url)),e.append('")')}visit(e){return e.visitURL(this)}}function Ot(e,t,n,i){const o=t.length;t[0].appendTo(e,i);for(let s=1;s<o;s++)e.append(n),t[s].appendTo(e,i)}class Rt extends mt{constructor(e){super(),this.values=e}appendTo(e,t){Ot(e,this.values," ",t)}visit(e){return e.visitSpaceList(this)}isSpaceList(){return!0}}class kt extends mt{constructor(e){super(),this.values=e}appendTo(e,t){Ot(e,this.values,",",t)}visit(e){return e.visitCommaList(this)}}class Lt extends mt{constructor(e,t){super(),this.name=e,this.values=t}appendTo(e,t){e.append($(this.name)),e.append("("),Ot(e,this.values,",",t),e.append(")")}visit(e){return e.visitFunc(this)}}class Ft extends mt{constructor(e){super(),this.expr=e}toExpr(){return this.expr}appendTo(e,t){e.append("-epubx-expr("),this.expr.appendTo(e,0),e.append(")")}visit(e){return e.visitExpr(this)}isExpr(){return!0}}function Dt(e,t){if(e){if(e.isNumeric()){const n=e;return t.queryUnitSize(n.unit,!1)*n.num}if(e.isNum())return e.num}return 0}function _t(e,t){return new Tt(Dt(e,t),"px")}const Bt={absolute:Ct("absolute"),all:Ct("all"),always:Ct("always"),auto:Ct("auto"),avoid:Ct("avoid"),balance:Ct("balance"),balance_all:Ct("balance-all"),block:Ct("block"),block_end:Ct("block-end"),block_start:Ct("block-start"),both:Ct("both"),bottom:Ct("bottom"),border_box:Ct("border-box"),break_all:Ct("break-all"),break_word:Ct("break-word"),crop:Ct("crop"),cross:Ct("cross"),column:Ct("column"),exclusive:Ct("exclusive"),_false:Ct("false"),fixed:Ct("fixed"),flex:Ct("flex"),footnote:Ct("footnote"),footer:Ct("footer"),header:Ct("header"),hidden:Ct("hidden"),horizontal_tb:Ct("horizontal-tb"),inherit:Ct("inherit"),inline:Ct("inline"),inline_block:Ct("inline-block"),inline_end:Ct("inline-end"),inline_start:Ct("inline-start"),landscape:Ct("landscape"),left:Ct("left"),line:Ct("line"),list_item:Ct("list-item"),ltr:Ct("ltr"),manual:Ct("manual"),none:Ct("none"),normal:Ct("normal"),oeb_page_foot:Ct("oeb-page-foot"),oeb_page_head:Ct("oeb-page-head"),page:Ct("page"),relative:Ct("relative"),right:Ct("right"),same:Ct("same"),scale:Ct("scale"),snap_block:Ct("snap-block"),spread:Ct("spread"),_static:Ct("static"),rtl:Ct("rtl"),table:Ct("table"),table_caption:Ct("table-caption"),table_cell:Ct("table-cell"),table_footer_group:Ct("table-footer-group"),table_header_group:Ct("table-header-group"),table_row:Ct("table-row"),top:Ct("top"),transparent:Ct("transparent"),vertical_lr:Ct("vertical-lr"),vertical_rl:Ct("vertical-rl"),visible:Ct("visible"),_true:Ct("true")},Mt=new Tt(100,"%"),Ut=new Tt(100,"pvw"),zt=new Tt(100,"pvh"),Vt=new Tt(0,"px"),Ht={"font-size":1,color:2};function Gt(e,t){return(Ht[e]||Number.MAX_VALUE)-(Ht[t]||Number.MAX_VALUE)}class $t{constructor(e,t,n,i){this.x1=e,this.y1=t,this.x2=n,this.y2=i}}class Wt{constructor(e,t){this.x=e,this.y=t}}class Xt{constructor(e,t,n,i){this.left=e,this.top=t,this.right=n,this.bottom=i}}class jt{constructor(e,t,n,i){this.low=e,this.high=t,this.winding=n,this.shapeId=i}}class Kt{constructor(e,t,n,i){this.y1=e,this.y2=t,this.x1=n,this.x2=i,this.left=null,this.right=null}}function Yt(e,t){return e.low.y-t.low.y||e.low.x-t.low.x}class qt{constructor(e){this.points=e}addSegments(e,t){const n=this.points,i=n.length;let o=n[i-1];for(let s=0;s<i;s++){const i=n[s];let r;r=o.y<i.y?new jt(o,i,1,t):new jt(i,o,-1,t),e.push(r),o=i}}withOffset(e,t){const n=[];for(const i of this.points)n.push(new Wt(i.x+e,i.y+t));return new qt(n)}}function Zt(e,t,n,i){const o=[];for(let s=0;s<20;s++){const r=2*s*Math.PI/20;o.push(new Wt(e+n*Math.sin(r),t+i*Math.cos(r)))}return new qt(o)}function Qt(e,t,n,i){return new qt([new Wt(e,t),new Wt(n,t),new Wt(n,i),new Wt(e,i)])}class Jt{constructor(e,t,n,i){this.x=e,this.winding=t,this.shapeId=n,this.lowOrHigh=i}}function en(e,t){const n=e.low.x+(e.high.x-e.low.x)*(t-e.low.y)/(e.high.y-e.low.y);if(isNaN(n))throw new Error("Bad intersection");return n}function tn(e,t,n,i){let o,s,r,a;t.high.y<n&&h.warn("Error: inconsistent segment (1)"),t.low.y<=n?(o=en(t,n),s=t.winding):(o=t.low.x,s=0),t.high.y>=i?(r=en(t,i),a=t.winding):(r=t.high.x,a=0),o<r?(e.push(new Jt(o,s,t.shapeId,-1)),e.push(new Jt(r,a,t.shapeId,1))):(e.push(new Jt(r,a,t.shapeId,-1)),e.push(new Jt(o,s,t.shapeId,1)))}function nn(e,t,n){const i=t+n,o=Array(i),s=Array(i);let r;for(r=0;r<=i;r++)o[r]=0,s[r]=0;const a=[];let l=!1;const h=e.length;for(let n=0;n<h;n++){const h=e[n];o[h.shapeId]+=h.winding,s[h.shapeId]+=h.lowOrHigh;let c=!1;for(r=0;r<t;r++)if(o[r]&&!s[r]){c=!0;break}if(c)for(r=t;r<=i;r++)if(o[r]||s[r]){c=!1;break}l!=c&&(a.push(h.x),l=c)}return a}function on(e,t){return t?Math.ceil(e/t)*t:e}function sn(e,t){return t?Math.floor(e/t)*t:e}function rn(e){return new $t(e.y1,-e.x2,e.y2,-e.x1)}function an(e){return new $t(-e.y2,e.x1,-e.y1,e.x2)}function ln(e){return new qt(e.points.map(e=>(function(e){return new Wt(e.y,-e.x)})(e)))}function hn(e,t){let n=t.length-1,i=new Kt(e.y2,e.y2,e.x1,e.x2);for(;n>=0;){const e=i;i=t[n],(i.y2-i.y1<1||i.x1==e.x1&&i.x2==e.x2)&&(e.y1=i.y1,t.splice(n,1),i=e),n--}}function cn(e,t){let n=0,i=e.length;for(;n<i;){const o=Math.floor((n+i)/2);t>=e[o].y2?n=o+1:i=o}return n}function un(e,t){if(!e.length)return t;let n,i,o=t.y1;for(i=0;i<e.length&&(n=e[i],!(n.y2>t.y1&&n.x1-.1<=t.x1&&n.x2+.1>=t.x2));i++)o=Math.max(o,n.y2);let s=o;for(;i<e.length&&(n=e[i],!(n.y1>=t.y2||n.x1-.1>t.x1||n.x2+.1<t.x2));i++)s=n.y2;return s=i===e.length?t.y2:Math.min(s,t.y2),s<=o?null:new $t(t.x1,o,t.x2,s)}function dn(e,t){if(!e.length)return t;let n,i,o=t.y2;for(i=e.length-1;i>=0&&(n=e[i],!(i===e.length-1&&n.y2<t.y2))&&!(n.y1<t.y2&&n.x1-.1<=t.x1&&n.x2+.1>=t.x2);i--)o=Math.min(o,n.y1);let s=Math.min(o,n.y2);for(;i>=0&&(n=e[i],!(n.y2<=t.y1||n.x1-.1>t.x1||n.x2+.1<t.x2));i--)s=n.y1;return s=Math.max(s,t.y1),o<=s?null:new $t(t.x1,s,t.x2,o)}class pn extends ft{constructor(){super(),this.propSet={}}visitIdent(e){return this.propSet[e.name]=!0,e}visitSpaceList(e){return this.visitValues(e.values),e}}class fn extends ft{constructor(e){super(),this.value=e}visitInt(e){return this.value=e.num,e}}function gn(e,t){if(e){const n=new fn(t);try{return e.visit(n),n.value}catch(e){h.warn(e,"toInt: ")}}return t}class mn extends ft{constructor(){super(),this.collect=!1,this.coords=[],this.name=null}visitNumeric(e){return this.collect&&this.coords.push(e),null}visitNum(e){return this.collect&&0==e.num&&this.coords.push(new Tt(0,"px")),null}visitSpaceList(e){return this.visitValues(e.values),null}visitFunc(e){return this.collect||(this.collect=!0,this.visitValues(e.values),this.collect=!1,this.name=e.name.toLowerCase()),null}getShape(e,t,n,i,o){if(this.coords.length>0){const s=[];switch(this.coords.forEach((e,t)=>{if("%"==e.unit){let o=t%2==0?n:i;3==t&&"circle"==this.name&&(o=Math.sqrt((n*n+i*i)/2)),s.push(e.num*o/100)}else s.push(e.num*o.queryUnitSize(e.unit,!1))}),this.name){case"polygon":if(s.length%2==0){const n=[];for(let i=0;i<s.length;i+=2)n.push(new Wt(e+s[i],t+s[i+1]));return new qt(n)}break;case"rectangle":if(4==s.length)return Qt(e+s[0],t+s[1],e+s[0]+s[2],t+s[1]+s[3]);break;case"ellipse":if(4==s.length)return Zt(e+s[0],t+s[1],s[2],s[3]);break;case"circle":if(3==s.length)return Zt(e+s[0],t+s[1],s[2],s[2])}}return null}}function bn(e,t,n,i,o,s){if(e){const r=new mn;try{return e.visit(r),r.getShape(t,n,i,o,s)}catch(e){h.warn(e,"toShape:")}}return Qt(t,n,t+i,n+o)}class wn extends ft{constructor(e){super(),this.reset=e,this.counters={},this.name=null}visitIdent(e){return this.name=e.toString(),this.reset?this.counters[this.name]=0:this.counters[this.name]=(this.counters[this.name]||0)+1,e}visitInt(e){return this.name&&(this.counters[this.name]+=e.num-(this.reset?0:1)),e}visitSpaceList(e){return this.visitValues(e.values),e}}function En(e,t){const n=new wn(t);try{e.visit(n)}catch(e){h.warn(e,"toCounters:")}return n.counters}class yn extends gt{constructor(e,t){super(),this.baseUrl=e,this.transformer=t}visitURL(e){return new At(this.transformer.transformURL(e.url,this.baseUrl))}}function Sn(e){const t={};return Object.keys(e).forEach(n=>{t[n]=Array.from(e[n])}),t}class Nn{constructor(e,t){this.targetId=e,this.resolved=t,this.pageCounters=null,this.spineIndex=-1,this.pageIndex=-1}equals(e){return this===e||!!e&&this.targetId===e.targetId&&this.resolved===e.resolved&&this.spineIndex===e.spineIndex&&this.pageIndex===e.pageIndex}isResolved(){return this.resolved}resolve(){this.resolved=!0}unresolve(){this.resolved=!1}}class vn{constructor(e,t){this.counterStore=e,this.baseURL=t}countersOfId(e,t){e=this.counterStore.documentURLTransformer.transformFragment(e,this.baseURL),this.counterStore.countersById[e]=t}getExprContentListener(){return this.counterStore.getExprContentListener()}}class Cn{constructor(e,t,n,i){this.counterStore=e,this.baseURL=t,this.rootScope=n,this.pageScope=i,this.styler=null}setStyler(e){this.styler=e}getFragment(e){const t=e.match(/^[^#]*#(.*)$/);return t?t[1]:null}getTransformedId(e){let t=this.counterStore.documentURLTransformer.transformURL(O(e,this.baseURL),this.baseURL);return"#"===t.charAt(0)&&(t=t.substring(1)),t}getPageCounterVal(e,t){const n=this,i=new it(this.pageScope,()=>t(function(){const t=n.counterStore.currentPageCounters[e];return t&&t.length?t[t.length-1]:null}()),`page-counter-${e}`);return this.counterStore.registerPageCounterExpr(e,(function(e){return t(e[0])}),i),i}getPageCountersVal(e,t){const n=this,i=new it(this.pageScope,()=>t(n.counterStore.currentPageCounters[e]||[]),`page-counters-${e}`);return this.counterStore.registerPageCounterExpr(e,t,i),i}getTargetCounters(e,t,n){let i=this.counterStore.countersById[t];return!i&&n&&e&&(this.styler.styleUntilIdIsReached(e),i=this.counterStore.countersById[t]),i||null}getTargetPageCounters(e){return this.counterStore.currentPage.elementsById[e]?this.counterStore.currentPageCounters:this.counterStore.pageCountersById[e]||null}getTargetCounterVal(e,t,n){const i=this.getFragment(e),o=this.getTransformedId(e);let s=this.getTargetCounters(i,o,!1);if(s&&s[t]){const e=s[t];return new rt(this.rootScope,n(e[e.length-1]||null))}const r=this;return new it(this.pageScope,()=>{if(s=r.getTargetCounters(i,o,!0),s){if(s[t]){const e=s[t];return n(e[e.length-1]||null)}{const e=r.getTargetPageCounters(o);if(e){if(r.counterStore.resolveReference(o),e[t]){const i=e[t];return n(i[i.length-1]||null)}return n(0)}return r.counterStore.saveReferenceOfCurrentPage(o,!1),"??"}}return r.counterStore.saveReferenceOfCurrentPage(o,!1),"??"},`target-counter-${t}-of-${e}`)}getTargetCountersVal(e,t,n){const i=this.getFragment(e),o=this.getTransformedId(e),s=this;return new it(this.pageScope,()=>{const e=s.getTargetPageCounters(o);if(e){s.counterStore.resolveReference(o);const r=e[t]||[],a=s.getTargetCounters(i,o,!0)[t]||[];return n(r.concat(a))}return s.counterStore.saveReferenceOfCurrentPage(o,!1),"??"},`target-counters-${t}-of-${e}`)}}class Tn{constructor(e){this.documentURLTransformer=e,this.countersById={},this.pageCountersById={},this.currentPageCounters={},this.previousPageCounters={},this.currentPageCountersStack=[],this.pageIndicesById={},this.currentPage=null,this.newReferencesOfCurrentPage=[],this.referencesToSolve=[],this.referencesToSolveStack=[],this.unresolvedReferences={},this.resolvedReferences={},this.pagesCounterExprs=[],this.currentPageCounters.page=[0]}createCounterListener(e){return new vn(this,e)}createCounterResolver(e,t,n){return new Cn(this,e,t,n)}setCurrentPage(e){this.currentPage=e}definePageCounter(e,t){this.currentPageCounters[e]?this.currentPageCounters[e].push(t):this.currentPageCounters[e]=[t]}forceSetPageCounter(e){const t=this.currentPageCounters.page;t&&t.length?t[t.length-1]=e:this.currentPageCounters.page=[e]}updatePageCounters(e,t){let n;this.previousPageCounters=Sn(this.currentPageCounters);const i=e["counter-reset"];if(i){const e=i.evaluate(t);e&&(n=En(e,!0))}if(n)for(const e in n)this.definePageCounter(e,n[e]);let o;const s=e["counter-increment"];if(s){const e=s.evaluate(t);e&&(o=En(e,!1))}o?"page"in o||(o.page=1):(o={},o.page=1);for(const e in o){this.currentPageCounters[e]||this.definePageCounter(e,0);const t=this.currentPageCounters[e];t[t.length-1]+=o[e]}}pushPageCounters(e){this.currentPageCountersStack.push(this.currentPageCounters),this.currentPageCounters=Sn(e)}popPageCounters(){this.currentPageCounters=this.currentPageCountersStack.pop()}resolveReference(e){const t=this.unresolvedReferences[e];let n=this.resolvedReferences[e];n||(n=this.resolvedReferences[e]=[]);let i=!1;for(let o=0;o<this.referencesToSolve.length;){const s=this.referencesToSolve[o];if(s.targetId===e){if(s.resolve(),this.referencesToSolve.splice(o,1),t){const e=t.indexOf(s);e>=0&&t.splice(e,1)}n.push(s),i=!0}else o++}i||this.saveReferenceOfCurrentPage(e,!0)}saveReferenceOfCurrentPage(e,t){if(!this.newReferencesOfCurrentPage.some(t=>t.targetId===e)){const n=new Nn(e,t);this.newReferencesOfCurrentPage.push(n)}}finishPage(e,t){const n=Object.keys(this.currentPage.elementsById);if(n.length>0){const i=Sn(this.currentPageCounters);n.forEach(n=>{this.pageCountersById[n]=i;const o=this.pageIndicesById[n];if(o&&o.pageIndex<t){const e=this.resolvedReferences[n];if(e){let t,i=this.unresolvedReferences[n];for(i||(i=this.unresolvedReferences[n]=[]);t=e.shift();)t.unresolve(),i.push(t)}}this.pageIndicesById[n]={spineIndex:e,pageIndex:t}})}const i=this.previousPageCounters;let o;for(;o=this.newReferencesOfCurrentPage.shift();){let n;o.pageCounters=i,o.spineIndex=e,o.pageIndex=t,o.isResolved()?(n=this.resolvedReferences[o.targetId],n||(n=this.resolvedReferences[o.targetId]=[])):(n=this.unresolvedReferences[o.targetId],n||(n=this.unresolvedReferences[o.targetId]=[])),n.every(e=>!o.equals(e))&&n.push(o)}this.currentPage=null}getUnresolvedRefsToPage(e){let t=[];Object.keys(e.elementsById).forEach(e=>{const n=this.unresolvedReferences[e];n&&(t=t.concat(n))}),t.sort((e,t)=>e.spineIndex-t.spineIndex||e.pageIndex-t.pageIndex);const n=[];let i=null;return t.forEach(e=>{i&&i.spineIndex===e.spineIndex&&i.pageIndex===e.pageIndex?i.refs.push(e):(i={spineIndex:e.spineIndex,pageIndex:e.pageIndex,pageCounters:e.pageCounters,refs:[e]},n.push(i))}),n}pushReferencesToSolve(e){this.referencesToSolveStack.push(this.referencesToSolve),this.referencesToSolve=e}popReferencesToSolve(){this.referencesToSolve=this.referencesToSolveStack.pop()}registerPageCounterExpr(e,t,n){"pages"===e&&this.pagesCounterExprs.push({expr:n,format:t})}getExprContentListener(){return this.exprContentListener.bind(this)}exprContentListener(e,t,n){if(this.pagesCounterExprs.findIndex(t=>t.expr===e)>=0){const i=n.createElement("span");return i.textContent=t,i.setAttribute(xn,e.key),i}return null}finishLastPage(e){const t=e.root.querySelectorAll(`[${xn}]`),n=this.currentPageCounters.page[0];Array.from(t).forEach(e=>{const t=e.getAttribute(xn),i=this.pagesCounterExprs.findIndex(e=>e.expr.key===t);e.textContent=this.pagesCounterExprs[i].format([n])})}createLayoutConstraint(e){return new In(this,e)}}const xn="data-vivliostyle-pages-counter";class In{constructor(e,t){this.counterStore=e,this.pageIndex=t}allowLayout(e){if(!e||e.after)return!0;const t=e.viewNode;if(!t||1!==t.nodeType)return!0;const n=t.getAttribute("id")||t.getAttribute("name");if(!n)return!0;if(!this.counterStore.resolvedReferences[n]&&!this.counterStore.unresolvedReferences[n])return!0;const i=this.counterStore.pageIndicesById[n];return!i||this.pageIndex>=i.pageIndex}}function Pn(e){if((e=e.substr(1)).match(/^[^0-9a-fA-F\n\r]$/))return e;const t=parseInt(e,16);return isNaN(t)?"":t<=65535?String.fromCharCode(t):t<=1114111?String.fromCharCode(55296|t>>10&1023,56320|1023&t):"�"}function An(e){return e.replace(/\\([0-9a-fA-F]{0,6}(\r\n|[ \n\r\t\f])?|[^0-9a-fA-F\n\r])/g,Pn)}var On,Rn;!function(e){e[e.EOF=0]="EOF",e[e.IDENT=1]="IDENT",e[e.STR=2]="STR",e[e.NUMERIC=3]="NUMERIC",e[e.NUM=4]="NUM",e[e.INT=5]="INT",e[e.FUNC=6]="FUNC",e[e.HASH=7]="HASH",e[e.URL=8]="URL",e[e.CLASS=9]="CLASS",e[e.O_PAR=10]="O_PAR",e[e.C_PAR=11]="C_PAR",e[e.O_BRC=12]="O_BRC",e[e.C_BRC=13]="C_BRC",e[e.O_BRK=14]="O_BRK",e[e.C_BRK=15]="C_BRK",e[e.COMMA=16]="COMMA",e[e.SEMICOL=17]="SEMICOL",e[e.COLON=18]="COLON",e[e.SLASH=19]="SLASH",e[e.AT=20]="AT",e[e.PERCENT=21]="PERCENT",e[e.QMARK=22]="QMARK",e[e.PLUS=23]="PLUS",e[e.MINUS=24]="MINUS",e[e.BAR_BAR=25]="BAR_BAR",e[e.AMP_AMP=26]="AMP_AMP",e[e.BANG=31]="BANG",e[e.DOLLAR=32]="DOLLAR",e[e.HAT=33]="HAT",e[e.BAR=34]="BAR",e[e.TILDE=35]="TILDE",e[e.STAR=36]="STAR",e[e.GT=37]="GT",e[e.LT=38]="LT",e[e.EQ=39]="EQ",e[e.BANG_EQ=41]="BANG_EQ",e[e.DOLLAR_EQ=42]="DOLLAR_EQ",e[e.HAT_EQ=43]="HAT_EQ",e[e.BAR_EQ=44]="BAR_EQ",e[e.TILDE_EQ=45]="TILDE_EQ",e[e.STAR_EQ=46]="STAR_EQ",e[e.GT_EQ=47]="GT_EQ",e[e.LT_EQ=48]="LT_EQ",e[e.EQ_EQ=49]="EQ_EQ",e[e.COL_COL=50]="COL_COL",e[e.INVALID=51]="INVALID",e[e.LAST=51]="LAST"}(On||(On={}));class kn{constructor(){this.precededBySpace=!1,this.num=0,this.text="",this.position=0,this.type=On.EOF}}function Ln(e,t){const n=Array(128);let i;for(i=0;i<128;i++)n[i]=e;for(n.NaN=e==Rn.END?Rn.END:Rn.INVALID,i=0;i<t.length;i+=2)n[t[i]]=t[i+1];return n}!function(e){e[e.SPACE=1]="SPACE",e[e.INT=2]="INT",e[e.IDENT=3]="IDENT",e[e.BANG=4]="BANG",e[e.HASH=6]="HASH",e[e.DOLLAR=7]="DOLLAR",e[e.PERCENT=8]="PERCENT",e[e.AMP=9]="AMP",e[e.O_PAR=10]="O_PAR",e[e.C_PAR=11]="C_PAR",e[e.STAR=12]="STAR",e[e.PLUS=13]="PLUS",e[e.COMMA=14]="COMMA",e[e.MINUS=15]="MINUS",e[e.DOT=16]="DOT",e[e.SLASH=17]="SLASH",e[e.COLON=18]="COLON",e[e.SEMICOL=19]="SEMICOL",e[e.LT=20]="LT",e[e.EQ=21]="EQ",e[e.GT=22]="GT",e[e.QMARK=23]="QMARK",e[e.AT=24]="AT",e[e.O_BRK=25]="O_BRK",e[e.C_BRK=26]="C_BRK",e[e.O_BRC=27]="O_BRC",e[e.C_BRC=28]="C_BRC",e[e.BSLASH=29]="BSLASH",e[e.HAT=30]="HAT",e[e.BAR=31]="BAR",e[e.TILDE=32]="TILDE",e[e.STR1=33]="STR1",e[e.STR2=34]="STR2",e[e.END=35]="END",e[e.EQTAIL=36]="EQTAIL",e[e.ENDINT=37]="ENDINT",e[e.ENDNUM=38]="ENDNUM",e[e.CONT=39]="CONT",e[e.UNIT=40]="UNIT",e[e.PCUNIT=41]="PCUNIT",e[e.NUMBER=42]="NUMBER",e[e.ENDIDNT=43]="ENDIDNT",e[e.IDNTESC=44]="IDNTESC",e[e.ENDIDES=45]="ENDIDES",e[e.ENDSTR=46]="ENDSTR",e[e.ENDESTR=47]="ENDESTR",e[e.STR1ESC=48]="STR1ESC",e[e.STR2ESC=49]="STR2ESC",e[e.BAR_BAR=50]="BAR_BAR",e[e.AMP_AMP=51]="AMP_AMP",e[e.FUNC=52]="FUNC",e[e.FUNCES=53]="FUNCES",e[e.COMMENT=54]="COMMENT",e[e.COMMST=55]="COMMST",e[e.ENDNOTK=56]="ENDNOTK",e[e.MINMIN=57]="MINMIN",e[e.TOINT=58]="TOINT",e[e.TONUM=59]="TONUM",e[e.TOIDENT=60]="TOIDENT",e[e.TOIDES=61]="TOIDES",e[e.KILL1=62]="KILL1",e[e.KILL2=63]="KILL2",e[e.URL=64]="URL",e[e.URL1=65]="URL1",e[e.URL2=66]="URL2",e[e.ENDURL=67]="ENDURL",e[e.TERMURL=68]="TERMURL",e[e.FINURL=69]="FINURL",e[e.LT_BG=70]="LT_BG",e[e.LT_BG_M=71]="LT_BG_M",e[e.INVALID=72]="INVALID",e[e.CHKPOSS=73]="CHKPOSS",e[e.CHKPOSN=74]="CHKPOSN",e[e.URLESC=75]="URLESC",e[e.IDESCH=76]="IDESCH",e[e.COL_COL=77]="COL_COL",e[e.TOCLASS=78]="TOCLASS",e[e.CHKSP=79]="CHKSP",e[e.EOF=80]="EOF"}(Rn||(Rn={}));const Fn=[Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.SPACE,Rn.SPACE,Rn.INVALID,Rn.SPACE,Rn.SPACE,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.SPACE,Rn.BANG,Rn.STR2,Rn.HASH,Rn.DOLLAR,Rn.PERCENT,Rn.AMP,Rn.STR1,Rn.O_PAR,Rn.C_PAR,Rn.STAR,Rn.PLUS,Rn.COMMA,Rn.MINUS,Rn.DOT,Rn.SLASH,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.COLON,Rn.SEMICOL,Rn.LT,Rn.EQ,Rn.GT,Rn.QMARK,Rn.AT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.O_BRK,Rn.BSLASH,Rn.C_BRK,Rn.HAT,Rn.IDENT,Rn.INVALID,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.O_BRC,Rn.BAR,Rn.C_BRC,Rn.TILDE,Rn.INVALID];Fn.NaN=Rn.EOF;const Dn=[Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.FUNC,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.CONT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDNT,Rn.IDNTESC,Rn.ENDIDNT,Rn.ENDIDNT,Rn.CONT,Rn.ENDIDNT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT];Dn.NaN=Rn.ENDIDNT;const _n=[Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.TOCLASS,Rn.TONUM,Rn.INVALID,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.INVALID,Rn.TOIDES,Rn.INVALID,Rn.INVALID,Rn.TOCLASS,Rn.INVALID,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID];Dn.NaN=Rn.ENDIDNT;const Bn=[Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.MINMIN,Rn.TONUM,Rn.END,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.END,Rn.TOIDES,Rn.END,Rn.END,Rn.TOIDENT,Rn.END,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END];Bn.NaN=Rn.END;const Mn=[Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.CHKPOSS,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.CHKPOSS,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.FUNCES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDES,Rn.IDNTESC,Rn.ENDIDES,Rn.ENDIDES,Rn.CONT,Rn.ENDIDES,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES];Mn.NaN=Rn.ENDIDES;const Un=[Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.PCUNIT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.NUMBER,Rn.ENDINT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.UNIT,Rn.ENDINT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT];Un.NaN=Rn.ENDINT;const zn=[Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.PCUNIT,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.UNIT,Rn.ENDNUM,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM];zn.NaN=Rn.ENDNUM;const Vn=Ln(Rn.END,[61,Rn.EQTAIL]),Hn=Ln(Rn.END,[58,Rn.COL_COL]),Gn=Ln(Rn.END,[61,Rn.EQTAIL,124,Rn.BAR_BAR]),$n=Ln(Rn.END,[38,Rn.AMP_AMP]),Wn=Ln(Rn.END,[42,Rn.COMMENT]),Xn=Ln(Rn.CONT,[42,Rn.COMMST]),jn=Ln(Rn.COMMENT,[42,Rn.COMMST,47,Rn.ENDNOTK]),Kn=Ln(Rn.KILL1,[62,Rn.ENDNOTK]),Yn=Ln(Rn.END,[61,Rn.EQTAIL,33/*!*/,Rn.LT_BG]),qn=Ln(Rn.KILL1,[45,Rn.LT_BG_M]),Zn=Ln(Rn.KILL2,[45,Rn.ENDNOTK]),Qn=Ln(Rn.IDESCH,[9,Rn.INVALID,10,Rn.INVALID,13,Rn.INVALID,32,Rn.INVALID]),Jn=Ln(Rn.CONT,[39,Rn.ENDSTR,10,Rn.INVALID,13,Rn.INVALID,92,Rn.STR1ESC]),ei=Ln(Rn.CONT,[34,Rn.ENDSTR,10,Rn.INVALID,13,Rn.INVALID,92,Rn.STR2ESC]),ti=Ln(Rn.CONT,[39,Rn.ENDESTR,10,Rn.CHKPOSN,13,Rn.CHKPOSN,92,Rn.STR1ESC]),ni=Ln(Rn.CONT,[34,Rn.ENDESTR,10,Rn.CHKPOSN,13,Rn.CHKPOSN,92,Rn.STR2ESC]),ii=Ln(Rn.URL,[9,Rn.CONT,32,Rn.CONT,34,Rn.URL2,39,Rn.URL1,41,Rn.INVALID,10,Rn.CONT,13,Rn.CONT]),oi=Ln(Rn.CONT,[41,Rn.ENDURL,9,Rn.CHKSP,10,Rn.CHKSP,13,Rn.CHKSP,32,Rn.CHKSP,92,Rn.URLESC,40,Rn.INVALID,91,Rn.INVALID,93,Rn.INVALID,123,Rn.INVALID,125,Rn.INVALID,NaN,Rn.ENDURL]),si=Ln(Rn.CONT,[39,Rn.TERMURL,10,Rn.CHKPOSN,13,Rn.CHKPOSN,92,Rn.URLESC,NaN,Rn.ENDURL]),ri=Ln(Rn.CONT,[34,Rn.TERMURL,10,Rn.CHKPOSN,13,Rn.CHKPOSN,92,Rn.URLESC,NaN,Rn.ENDURL]),ai=Ln(Rn.INVALID,[9,Rn.CONT,10,Rn.CONT,13,Rn.CONT,32,Rn.CONT,41,Rn.FINURL]),li=15;class hi{constructor(e,t){this.input=e,this.handler=t,this.head=-1,this.tail=0,this.curr=0,this.position=0,this.indexMask=li,this.buffer=Array(this.indexMask+1);for(let e=0;e<=this.indexMask;e++)this.buffer[e]=new kn}token(){return this.tail==this.curr&&this.fillBuffer(),this.buffer[this.curr]}nthToken(e){return(this.tail-this.curr&this.indexMask)<=e&&this.fillBuffer(),this.buffer[this.curr+e&this.indexMask]}consume(){this.curr=this.curr+1&this.indexMask}mark(){if(this.head>=0)throw new Error("F_CSSTOK_BAD_CALL mark");this.head=this.curr}reset(){if(this.head<0)throw new Error("F_CSSTOK_BAD_CALL reset");this.curr=this.head,this.head=-1}unmark(){this.head=-1}hasMark(){return this.head>=0}reallocate(){const e=2*(this.indexMask+1)-1,t=Array(e+1);let n=this.head,i=0;for(;n!=this.tail;)t[i]=this.buffer[n],n==this.curr&&(this.curr=i),n=n+1&this.indexMask,i++;for(this.head=0,this.tail=i,this.indexMask=e,this.buffer=t;i<=e;)t[i++]=new kn}error(e,t,n){this.handler&&this.handler.error(n,t)}fillBuffer(){let e=this.tail,t=this.head>=0?this.head:this.curr,n=this.indexMask;if(e>=t?t+=n:t--,t==e){if(this.head<0)throw new Error("F_CSSTOK_INTERNAL");this.reallocate(),e=this.tail,n=this.indexMask,t=n}let i=Fn;const o=this.input;let s=this.position;const r=this.buffer;let a=On.EOF,l=0,h="",c=0,u=!1,d=r[e],p=-9;for(;;){const f=o.charCodeAt(s);switch(i[f]||i[65]){case Rn.INVALID:a=On.INVALID,h=isNaN(f)?"E_CSS_UNEXPECTED_EOF":"E_CSS_UNEXPECTED_CHAR",i=Fn,s++;break;case Rn.SPACE:s++,u=!0;continue;case Rn.INT:l=s++,i=Un;continue;case Rn.IDENT:a=On.IDENT,l=s++,i=Dn;continue;case Rn.BANG:l=s++,a=On.BANG,i=Vn;continue;case Rn.STR1:a=On.STR,l=++s,i=Jn;continue;case Rn.STR2:a=On.STR,l=++s,i=ei;continue;case Rn.HASH:l=++s,a=On.HASH,i=Dn;continue;case Rn.DOLLAR:l=s++,a=On.DOLLAR,i=Vn;continue;case Rn.PERCENT:l=s++,a=On.PERCENT;break;case Rn.AMP:l=s++,a=On.DOLLAR,i=$n;continue;case Rn.O_PAR:l=s++,a=On.O_PAR;break;case Rn.C_PAR:l=s++,a=On.C_PAR;break;case Rn.STAR:l=s++,a=On.STAR,i=Vn;continue;case Rn.PLUS:l=s++,a=On.PLUS;break;case Rn.COMMA:l=s++,a=On.COMMA;break;case Rn.MINUS:a=On.MINUS,l=s++,i=Bn;continue;case Rn.DOT:l=s++,i=_n;continue;case Rn.TOCLASS:l=s++,a=On.CLASS,i=Dn;continue;case Rn.SLASH:l=s++,a=On.SLASH,i=Wn;continue;case Rn.COLON:l=s++,a=On.COLON,i=Hn;continue;case Rn.COL_COL:s++,a=On.COL_COL;break;case Rn.SEMICOL:l=s++,a=On.SEMICOL;break;case Rn.LT:l=s++,a=On.LT,i=Yn;continue;case Rn.EQ:l=s++,a=On.EQ,i=Vn;continue;case Rn.GT:l=s++,a=On.GT,i=Vn;continue;case Rn.QMARK:l=s++,a=On.QMARK;break;case Rn.AT:l=++s,a=On.AT,i=Dn;continue;case Rn.O_BRK:l=s++,a=On.O_BRK;break;case Rn.C_BRK:l=s++,a=On.C_BRK;break;case Rn.O_BRC:l=s++,a=On.O_BRC;break;case Rn.C_BRC:l=s++,a=On.C_BRC;break;case Rn.BSLASH:l=s++,p=l,a=On.IDENT,i=Qn;continue;case Rn.HAT:l=s++,a=On.HAT,i=Vn;continue;case Rn.BAR:l=s++,a=On.BAR,i=Gn;continue;case Rn.TILDE:l=s++,a=On.TILDE,i=Vn;continue;case Rn.END:break;case Rn.EQTAIL:s++,a=a+On.BANG_EQ-On.BANG;break;case Rn.ENDINT:a=On.INT,c=parseInt(o.substring(l,s),10);break;case Rn.ENDNUM:a=On.NUM,c=parseFloat(o.substring(l,s));break;case Rn.CONT:s++;continue;case Rn.UNIT:a=On.NUMERIC,c=parseFloat(o.substring(l,s)),l=s++,i=Dn;continue;case Rn.PCUNIT:a=On.NUMERIC,c=parseFloat(o.substring(l,s)),h="%",l=s++;break;case Rn.NUMBER:s++,i=zn;continue;case Rn.ENDIDNT:h=o.substring(l,s);break;case Rn.IDNTESC:p=s++,i=Qn;continue;case Rn.ENDIDES:h=An(o.substring(l,s));break;case Rn.ENDSTR:h=o.substring(l,s),s++;break;case Rn.ENDESTR:h=An(o.substring(l,s)),s++;break;case Rn.STR1ESC:p=s,s+=2,i=ti;continue;case Rn.STR2ESC:p=s,s+=2,i=ni;continue;case Rn.BAR_BAR:s++,a=On.BAR_BAR;break;case Rn.AMP_AMP:s++,a=On.AMP_AMP;break;case Rn.FUNC:if(h=o.substring(l,s),a==On.IDENT){if(s++,"url"==h.toLowerCase()){i=ii;continue}a=On.FUNC}break;case Rn.FUNCES:if(h=An(o.substring(l,s)),a==On.IDENT){if(s++,"url"==h.toLowerCase()){i=ii;continue}a=On.FUNC}break;case Rn.COMMENT:i=Xn,s++;continue;case Rn.COMMST:i=jn,s++;continue;case Rn.ENDNOTK:i=Fn,s++;continue;case Rn.MINMIN:i=Kn,s++;continue;case Rn.TOINT:a=On.INT,i=Un,s++;continue;case Rn.TONUM:a=On.NUM,i=zn,s++;continue;case Rn.TOIDENT:a=On.IDENT,i=Dn,s++;continue;case Rn.TOIDES:a=On.IDENT,i=Qn,p=s++;continue;case Rn.KILL1:s--;break;case Rn.KILL2:s-=2;break;case Rn.URL:l=s++,i=oi;continue;case Rn.URL1:l=++s,i=si;continue;case Rn.URL2:l=++s,i=ri;continue;case Rn.ENDURL:a=On.URL,h=An(o.substring(l,s)),s++;break;case Rn.FINURL:s++;break;case Rn.LT_BG:i=qn,s++;continue;case Rn.LT_BG_M:i=Zn,s++;continue;case Rn.CHKSP:if(s-p<8&&o.substring(p+1,s+1).match(/^[0-9a-fA-F]{0,6}(\r\n|[\n\r])|[ \t]$/)){s++;continue}case Rn.TERMURL:a=On.URL,h=An(o.substring(l,s)),s++,i=ai;continue;case Rn.CHKPOSN:if(s++,s-p<9&&o.substring(p+1,s).match(/^[0-9a-fA-F]{0,6}(\r\n|[\n\r])$/))continue;a=On.INVALID,h="E_CSS_UNEXPECTED_NEWLINE",i=Fn;break;case Rn.CHKPOSS:if(s-p<9&&o.substring(p+1,s+1).match(/^[0-9a-fA-F]{0,6}[ \t]$/)){s++;continue}h=An(o.substring(l,s));break;case Rn.URLESC:p=s++;continue;case Rn.IDESCH:s++,i=Mn;continue;default:if(i!==Fn){a=On.INVALID,h="E_CSS_UNEXPECTED_STATE";break}l=s,a=On.EOF}if(d.type=a,d.precededBySpace=u,d.num=c,d.text=h,d.position=l,e++,e>=t)break;i=Fn,u=!1,d=r[e&n]}this.position=s,this.tail=e&n}}let ci=null,ui=null;function di(){return ci}function pi(e){if(!ci)throw new Error("E_TASK_NO_CONTEXT");ci.name||(ci.name=e);const t=ci,n=new Ci(t,t.top,e);return t.top=n,n.state=bi.ACTIVE,n}function fi(e){return new Ni(e)}function gi(e,t,n){const i=pi(e);i.handler=n;try{t(i)}catch(e){i.task.raise(e,i)}return i.result()}function mi(e,t){return(ci?ci.getScheduler():ui||function(e){return new Ei(e||new wi)}()).run(e,t)}var bi;!function(e){e[e.INIT=0]="INIT",e[e.ACTIVE=1]="ACTIVE",e[e.FINISHED=2]="FINISHED",e[e.DEAD=3]="DEAD"}(bi||(bi={}));class wi{currentTime(){return(new Date).valueOf()}setTimeout(e,t){return setTimeout(e,t)}clearTimeout(e){clearTimeout(e)}}class Ei{constructor(e){this.timer=e,this.timeout=1,this.slice=25,this.sliceOverTime=0,this.wakeupTime=null,this.timeoutToken=null,this.inTimeSlice=!1,this.order=0,this.queue=new F,ui||(ui=this)}setSlice(e){this.slice=e}setTimeout(e){this.timeout=e}isTimeSliceOver(){return this.timer.currentTime()>=this.sliceOverTime}arm(){if(this.inTimeSlice)return;const e=this.queue.peek().scheduledTime,t=this.timer.currentTime();if(null!=this.timeoutToken){if(t+this.timeout>this.wakeupTime)return;this.timer.clearTimeout(this.timeoutToken)}let n=e-t;n<=this.timeout&&(n=this.timeout),this.wakeupTime=t+n;const i=this;this.timeoutToken=this.timer.setTimeout(()=>{i.timeoutToken=null,i.doTimeSlice()},n)}schedule(e,t){const n=e,i=this.timer.currentTime();n.order=this.order++,n.scheduledTime=i+(t||0),this.queue.add(n),this.arm()}doTimeSlice(){null!=this.timeoutToken&&(this.timer.clearTimeout(this.timeoutToken),this.timeoutToken=null),this.inTimeSlice=!0;try{let e=this.timer.currentTime();for(this.sliceOverTime=e+this.slice;this.queue.length();){const t=this.queue.peek();if(t.scheduledTime>e)break;if(this.queue.remove(),t.canceled||t.resumeInternal(),e=this.timer.currentTime(),e>=this.sliceOverTime)break}}catch(e){h.error(e)}this.inTimeSlice=!1,this.queue.length()&&this.arm()}run(e,t){const n=new Si(this,t||"");n.top=new Ci(n,null,"bootstrap"),n.top.state=bi.ACTIVE,n.top.then(()=>{const t=()=>{n.running=!1;for(const e of n.callbacks)try{e()}catch(e){h.error(e)}};try{e().then(e=>{n.result=e,t()})}catch(e){n.raise(e),t()}});const i=ci;return ci=n,this.schedule(n.top.suspend("bootstrap")),ci=i,n}}class yi{constructor(e){this.task=e,this.scheduledTime=0,this.order=0,this.result=null,this.canceled=!1}compare(e){const t=e;return t.scheduledTime-this.scheduledTime||t.order-this.order}getTask(){return this.task}schedule(e,t){this.result=e,this.task.scheduler.schedule(this,t)}resumeInternal(){const e=this.task;if(this.task=null,e&&e.continuation==this){e.continuation=null;const t=ci;return ci=e,e.top.finish(this.result),ci=t,!0}return!1}cancel(){this.canceled=!0}}class Si{constructor(e,t){this.scheduler=e,this.name=t,this.callbacks=[],this.exception=null,this.running=!0,this.result=null,this.waitTarget=null,this.top=null,this.continuation=null}getName(){return this.name}interrupt(e){if(this.raise(e||new Error("E_TASK_INTERRUPT")),this!==ci&&this.continuation){this.continuation.cancel();const e=new yi(this);this.waitTarget="interrupt",this.continuation=e,this.scheduler.schedule(e)}}getScheduler(){return this.scheduler}isRunning(){return this.running}whenDone(e){this.callbacks.push(e)}join(){const e=pi("Task.join");if(this.running){const t=e.suspend(this),n=this;this.whenDone(()=>{t.schedule(n.result)})}else e.finish(this.result);return e.result()}unwind(){for(;this.top&&!this.top.handler;)this.top=this.top.parent;if(this.top&&this.top.handler&&this.exception){const e=this.exception;this.exception=null,this.top.handler(this.top,e)}else this.exception&&h.error(this.exception,"Unhandled exception in task",this.name)}raise(e,t){if(this.fillStack(e),t){let e=this.top;for(;e&&e!=t;)e=e.parent;e==t&&(this.top=e)}this.exception=e,this.unwind()}fillStack(e){let t=e.frameTrace;if(!t){t=e.stack?`${e.stack}\n\t---- async ---\n`:"";for(let e=this.top;e;e=e.parent)t+="\t",t+=e.getName(),t+="\n";e.frameTrace=t}}}class Ni{constructor(e){this.value=e}then(e){e(this.value)}thenAsync(e){return e(this.value)}thenReturn(e){return new Ni(e)}thenFinish(e){e.finish(this.value)}isPending(){return!1}get(){return this.value}}class vi{constructor(e){this.frame=e}then(e){this.frame.then(e)}thenAsync(e){if(this.isPending()){const t=new Ci(this.frame.task,this.frame.parent,"AsyncResult.thenAsync");return t.state=bi.ACTIVE,this.frame.parent=t,this.frame.then(n=>{e(n).then(e=>{t.finish(e)})}),t.result()}return e(this.frame.res)}thenReturn(e){return this.isPending()?this.thenAsync(()=>new Ni(e)):new Ni(e)}thenFinish(e){this.isPending()?this.then(t=>{e.finish(t)}):e.finish(this.frame.res)}isPending(){return this.frame.state==bi.ACTIVE}get(){if(this.isPending())throw new Error("Result is pending");return this.frame.res}}class Ci{constructor(e,t,n){this.task=e,this.parent=t,this.name=n,this.res=null,this.callback=null,this.handler=null,this.state=bi.INIT}checkEnvironment(){if(!ci)throw new Error("F_TASK_NO_CONTEXT");if(this!==ci.top)throw new Error("F_TASK_NOT_TOP_FRAME")}result(){return new vi(this)}finish(e){this.checkEnvironment(),ci&&!ci.exception&&(this.res=e),this.state=bi.FINISHED;const t=this.parent;if(ci&&(ci.top=t),this.callback){try{this.callback(e)}catch(e){this.task.raise(e,t)}this.state=bi.DEAD}}getTask(){return this.task}getName(){return this.name}getScheduler(){return this.task.scheduler}then(e){switch(this.state){case bi.ACTIVE:if(this.callback)throw new Error("F_TASK_FRAME_ALREADY_HAS_CALLBACK");this.callback=e;break;case bi.FINISHED:{const t=this.task,n=this.parent;try{e(this.res),this.state=bi.DEAD}catch(e){this.state=bi.DEAD,t.raise(e,n)}break}case bi.DEAD:throw new Error("F_TASK_DEAD_FRAME");default:throw new Error(`F_TASK_UNEXPECTED_FRAME_STATE ${this.state}`)}}timeSlice(){const e=pi("Frame.timeSlice");return e.getScheduler().isTimeSliceOver()?(h.debug("-- time slice --"),e.suspend().schedule(!0)):e.finish(!0),e.result()}sleep(e){const t=pi("Frame.sleep");return t.suspend().schedule(!0,e),t.result()}loop(e){const t=pi("Frame.loop"),n=i=>{try{for(;i;){const t=e();if(t.isPending())return void t.then(n);t.then(e=>{i=e})}t.finish(!0)}catch(e){t.task.raise(e,t)}};return n(!0),t.result()}loopWithFrame(e){const t=ci;if(!t)throw new Error("E_TASK_NO_CONTEXT");return this.loop(()=>{let n;do{const i=new Ti(t,t.top);t.top=i,i.state=bi.ACTIVE,e(i),n=i.result()}while(!n.isPending()&&n.get());return n})}suspend(e){if(this.checkEnvironment(),this.task.continuation)throw new Error("E_TASK_ALREADY_SUSPENDED");const t=new yi(this.task);return this.task.continuation=t,ci=null,this.task.waitTarget=e||null,t}}class Ti extends Ci{constructor(e,t){super(e,t,"loop")}continueLoop(){this.finish(!0)}breakLoop(){this.finish(!1)}}class xi{constructor(e,t){this.fetch=e,this.arrived=!1,this.resource=null,this.task=null,this.piggybacks=[],this.name=t}start(){if(!this.task){const e=this;this.task=di().getScheduler().run(()=>{const t=pi("Fetcher.run");return e.fetch().then(n=>{const i=e.piggybacks;if(e.arrived=!0,e.resource=n,e.task=null,e.piggybacks=[],i)for(let e=0;e<i.length;e++)try{i[e](n)}catch(e){h.error(e,"Error:")}t.finish(n)}),t.result()},this.name)}}piggyback(e){this.arrived?e(this.resource):this.piggybacks.push(e)}get(){return this.arrived?fi(this.resource):(this.start(),this.task.join())}hasArrived(){return this.arrived}}const Ii=e=>{if(0==e.length)return fi(!0);if(1==e.length)return e[0].get().thenReturn(!0);const t=pi("waitForFetches");let n=0;return t.loop(()=>{for(;n<e.length;){const t=e[n++];if(!t.hasArrived())return t.get().thenReturn(!0)}return fi(!1)}).then(()=>{t.finish(!0)}),t.result()};function Pi(e,t){let n=null,i=null;"img"==e.localName&&(n=e.getAttribute("width"),i=e.getAttribute("height"));const o=new xi(()=>{const o=pi("loadImage"),s=o.suspend(e);let r=!1;const a=t=>{r||(r=!0,"img"==e.localName&&(n||e.removeAttribute("width"),i||e.removeAttribute("height")),s.schedule(t?t.type:"timeout"))};return e.addEventListener("load",a,!1),e.addEventListener("error",a,!1),e.addEventListener("abort",a,!1),e.namespaceURI==k.SVG?(e.setAttributeNS(k.XLINK,"xlink:href",t),setTimeout(a,300)):e.src=t,o.result()},`loadElement ${t}`);return o.start(),o}var Ai,Oi='<!DOCTYPE html>\n<html xmlns="http://www.w3.org/1999/xhtml" xmlns:s="http://www.pyroxy.com/ns/shadow">\n<head>\n<style><![CDATA[\n\n.footnote-content {\n  float: footnote;\n}\n\n.table-cell-container {\n  display: block;\n}\n\n]]></style>\n</head>\n<body>\n\n<s:template id="footnote"><s:content/><s:include class="footnote-content"/></s:template>\n\n<s:template id="table-cell"><div data-vivliostyle-flow-root="true" class="table-cell-container"><s:content/></div></s:template>\n\n</body>\n</html>\n';function Ri(e,t,n,i,o){const s=pi("ajax"),r=new XMLHttpRequest,a=s.suspend(r),l={status:0,statusText:"",url:e,contentType:null,responseText:null,responseXML:null,responseBlob:null};r.open(n||"GET",e,!0),t&&(r.responseType=t),r.onreadystatechange=()=>{if(4===r.readyState){if(l.status=r.status,l.statusText=r.statusText||404==r.status&&"Not Found"||"",200==l.status||0==l.status)if(t&&t!==Ai.DOCUMENT||!r.responseXML||"parsererror"==r.responseXML.documentElement.localName)if((!t||t===Ai.DOCUMENT)&&r.response instanceof HTMLDocument)l.responseXML=r.response,l.contentType=r.response.contentType;else{const n=r.response;t&&t!==Ai.TEXT||"string"!=typeof n?n?l.responseBlob="string"==typeof n?ki([n]):n:h.warn("Unexpected empty success response for",e):l.responseText=n;const i=r.getResponseHeader("Content-Type");i&&(l.contentType=i.replace(/(.*);.*$/,"$1"))}else l.responseXML=r.responseXML,l.contentType=r.responseXML.contentType;a.schedule(l)}};try{i?(r.setRequestHeader("Content-Type",o||"text/plain; charset=UTF-8"),r.send(i)):(/^file:|^https?:\/\/[^/]+\.githubusercontent\.com|\.(xhtml|xht|opf)$/i.test(e)?/\/aozorabunko\/[^/]+\/cards\/[^/]+\/files\/[^/.]+\.html$/.test(e)?r.overrideMimeType("text/html; charset=Shift_JIS"):/\.(html|htm)$/i.test(e)?r.overrideMimeType("text/html; charset=UTF-8"):/\.(xhtml|xht|xml|opf)$/i.test(e)?r.overrideMimeType("application/xml; charset=UTF-8"):/\.(txt|css)$/i.test(e)?r.overrideMimeType("text/plain; charset=UTF-8"):r.overrideMimeType("text/html; charset=UTF-8"):/^data:,(<|%3c)/i.test(e)?r.overrideMimeType("text/html; charset=UTF-8"):/^data:,/i.test(e)&&r.overrideMimeType("text/plain; charset=UTF-8"),r.send(null))}catch(t){h.warn(t,`Error fetching ${e}`),a.schedule(l)}return s.result()}function ki(e,t){const n=t||"application/octet-stream",i=window.WebKitBlobBuilder||window.MSBlobBuilder;if(i){const t=new i;for(let n=0;n<e.length;n++)t.append(e[n]);return t.getBlob(n)}return new Blob(e,{type:n})}!function(e){e.DEFAULT="",e.ARRAYBUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(Ai||(Ai={}));class Li{constructor(e,t){this.parser=e,this.type=t,this.resources={},this.fetchers={}}load(e,t,n){e=T(e);const i=this.resources[e];return void 0!==i?fi(i):this.fetch(e,t,n).get()}fetchInner(e,t,n){const i=this,o=pi("fetch"),s=e.endsWith("?viv-toc-box");s&&(e=e.replace("?viv-toc-box",""));const r=O("user-agent.xml",P),a=!s&&e===r;return a&&(e=`data:application/xml,${encodeURIComponent(Oi)}`),Ri(e,i.type).then(l=>{if(l.status>=400&&t)throw new Error((n||`Failed to fetch required resource: ${e}`)+` (${l.status}${l.statusText?" "+l.statusText:""})`);s?(e+="?viv-toc-box",l.url+="?viv-toc-box"):a&&(l.url=e=r),i.parser(l,i).then(t=>{delete i.fetchers[e],i.resources[e]=t,o.finish(t)})}),o.result()}fetch(e,t,n){if(e=T(e),this.resources[e])return null;let i=this.fetchers[e];if(!i){const o=this;i=new xi(()=>o.fetchInner(e,t,n),`Fetch ${e}`),o.fetchers[e]=i,i.start()}return i}get(e){return this.resources[T(e)]}delete(e){delete this.resources[T(e)]}}function Fi(e,t){const n=e.responseText;return fi(n?C(n):null)}const Di=0,_i=16777216,Bi=33554432,Mi=50331648,Ui=67108864,zi=83886080,Vi=100663296;var Hi;function Gi(e){let t=parseInt(e,16);if(isNaN(t))throw new Error("E_CSS_COLOR");if(6==e.length)return new Pt(t);if(3==e.length)return t=15&t|(15&t)<<4|(240&t)<<4|(240&t)<<8|(3840&t)<<8|(3840&t)<<12,new Pt(t);throw new Error("E_CSS_COLOR")}!function(e){e.USER_AGENT="UA",e.USER="User",e.AUTHOR="Author"}(Hi||(Hi={}));class $i{constructor(e){this.scope=e,this.flavor=Hi.AUTHOR}getCurrentToken(){return null}getScope(){return this.scope}error(e,t){}startStylesheet(e){this.flavor=e}tagSelector(e,t){}classSelector(e){}pseudoclassSelector(e,t){}pseudoelementSelector(e,t){}idSelector(e){}attributeSelector(e,t,n,i){}descendantSelector(){}childSelector(){}adjacentSiblingSelector(){}followingSiblingSelector(){}nextSelector(){}startSelectorRule(){}startFontFaceRule(){}startFootnoteRule(e){}startViewportRule(){}startDefineRule(){}startRegionRule(){}startPageRule(){}startPageMarginBoxRule(e){}startWhenRule(e){}startMediaRule(e){this.startWhenRule(e)}startFlowRule(e){}startPageTemplateRule(){}startPageMasterRule(e,t,n){}startPartitionRule(e,t,n){}startPartitionGroupRule(e,t,n){}startRuleBody(){}property(e,t,n){}endRule(){}startFuncWithSelector(e){}endFuncWithSelector(){}getImportantSpecificity(){switch(this.flavor){case Hi.USER_AGENT:return Di;case Hi.USER:return Vi;default:return zi}}getBaseSpecificity(){switch(this.flavor){case Hi.USER_AGENT:return Di;case Hi.USER:return _i;default:return Bi}}}class Wi extends $i{constructor(){super(null),this.stack=[],this.tokenizer=null,this.slave=null}pushHandler(e){this.stack.push(this.slave),this.slave=e}popHandler(){this.slave=this.stack.pop()}getCurrentToken(){return this.tokenizer?this.tokenizer.token():null}getScope(){return this.slave.getScope()}error(e,t){this.slave.error(e,t)}errorMsg(e,t){h.warn(e)}startStylesheet(e){super.startStylesheet(e),this.stack.length>0&&(this.slave=this.stack[0],this.stack=[]),this.slave.startStylesheet(e)}tagSelector(e,t){this.slave.tagSelector(e,t)}classSelector(e){this.slave.classSelector(e)}pseudoclassSelector(e,t){this.slave.pseudoclassSelector(e,t)}pseudoelementSelector(e,t){this.slave.pseudoelementSelector(e,t)}idSelector(e){this.slave.idSelector(e)}attributeSelector(e,t,n,i){this.slave.attributeSelector(e,t,n,i)}descendantSelector(){this.slave.descendantSelector()}childSelector(){this.slave.childSelector()}adjacentSiblingSelector(){this.slave.adjacentSiblingSelector()}followingSiblingSelector(){this.slave.followingSiblingSelector()}nextSelector(){this.slave.nextSelector()}startSelectorRule(){this.slave.startSelectorRule()}startFontFaceRule(){this.slave.startFontFaceRule()}startFootnoteRule(e){this.slave.startFootnoteRule(e)}startViewportRule(){this.slave.startViewportRule()}startDefineRule(){this.slave.startDefineRule()}startRegionRule(){this.slave.startRegionRule()}startPageRule(){this.slave.startPageRule()}startPageMarginBoxRule(e){this.slave.startPageMarginBoxRule(e)}startWhenRule(e){this.slave.startWhenRule(e)}startFlowRule(e){this.slave.startFlowRule(e)}startPageTemplateRule(){this.slave.startPageTemplateRule()}startPageMasterRule(e,t,n){this.slave.startPageMasterRule(e,t,n)}startPartitionRule(e,t,n){this.slave.startPartitionRule(e,t,n)}startPartitionGroupRule(e,t,n){this.slave.startPartitionGroupRule(e,t,n)}startRuleBody(){this.slave.startRuleBody()}property(e,t,n){this.slave.property(e,t,n)}endRule(){this.slave.endRule()}startFuncWithSelector(e){this.slave.startFuncWithSelector(e)}endFuncWithSelector(){this.slave.endFuncWithSelector()}}class Xi extends $i{constructor(e,t,n){super(e),this.owner=t,this.topLevel=n,this.depth=0,t&&(this.flavor=t.flavor)}getCurrentToken(){return this.owner.getCurrentToken()}error(e,t){this.owner.errorMsg(e,t)}startRuleBody(){this.depth++}endRule(){0!=--this.depth||this.topLevel||this.owner.popHandler()}}class ji extends Xi{constructor(e,t,n){super(e,t,n)}report(e){this.error(e,this.getCurrentToken())}reportAndSkip(e){this.report(e),this.owner.pushHandler(new Xi(this.scope,this.owner,!1))}startSelectorRule(){this.reportAndSkip("E_CSS_UNEXPECTED_SELECTOR")}startFontFaceRule(){this.reportAndSkip("E_CSS_UNEXPECTED_FONT_FACE")}startFootnoteRule(e){this.reportAndSkip("E_CSS_UNEXPECTED_FOOTNOTE")}startViewportRule(){this.reportAndSkip("E_CSS_UNEXPECTED_VIEWPORT")}startDefineRule(){this.reportAndSkip("E_CSS_UNEXPECTED_DEFINE")}startRegionRule(){this.reportAndSkip("E_CSS_UNEXPECTED_REGION")}startPageRule(){this.reportAndSkip("E_CSS_UNEXPECTED_PAGE")}startWhenRule(e){this.reportAndSkip("E_CSS_UNEXPECTED_WHEN")}startFlowRule(e){this.reportAndSkip("E_CSS_UNEXPECTED_FLOW")}startPageTemplateRule(){this.reportAndSkip("E_CSS_UNEXPECTED_PAGE_TEMPLATE")}startPageMasterRule(e,t,n){this.reportAndSkip("E_CSS_UNEXPECTED_PAGE_MASTER")}startPartitionRule(e,t,n){this.reportAndSkip("E_CSS_UNEXPECTED_PARTITION")}startPartitionGroupRule(e,t,n){this.reportAndSkip("E_CSS_UNEXPECTED_PARTITION_GROUP")}startFuncWithSelector(e){this.reportAndSkip("E_CSS_UNEXPECTED_SELECTOR_FUNC")}endFuncWithSelector(){this.reportAndSkip("E_CSS_UNEXPECTED_END_SELECTOR_FUNC")}property(e,t,n){this.error("E_CSS_UNEXPECTED_PROPERTY",this.getCurrentToken())}}const Ki=[],Yi=[],qi=[],Zi=[],Qi=[],Ji=[],eo=[],to=[],no=[],io=[],oo=[],so=[],ro=[];var ao;!function(e){e[e.SELECTOR_NAME_1=1]="SELECTOR_NAME_1",e[e.SELECTOR_NAME=2]="SELECTOR_NAME",e[e.SELECTOR_ANY_1=3]="SELECTOR_ANY_1",e[e.SELECTOR_ANY=4]="SELECTOR_ANY",e[e.SELECTOR_ID_1=5]="SELECTOR_ID_1",e[e.SELECTOR_ID=6]="SELECTOR_ID",e[e.SELECTOR_CLASS_1=7]="SELECTOR_CLASS_1",e[e.SELECTOR_CLASS=8]="SELECTOR_CLASS",e[e.SELECTOR_ATTR_1=9]="SELECTOR_ATTR_1",e[e.SELECTOR_ATTR=10]="SELECTOR_ATTR",e[e.SELECTOR_CHILD=11]="SELECTOR_CHILD",e[e.SELECTOR_SIBLING=12]="SELECTOR_SIBLING",e[e.SELECTOR_BODY=13]="SELECTOR_BODY",e[e.SELECTOR_PSEUDOCLASS=14]="SELECTOR_PSEUDOCLASS",e[e.VAL_IDENT=15]="VAL_IDENT",e[e.VAL_HASH=16]="VAL_HASH",e[e.VAL_NUM=17]="VAL_NUM",e[e.VAL_INT=18]="VAL_INT",e[e.VAL_NUMERIC=19]="VAL_NUMERIC",e[e.VAL_STR=20]="VAL_STR",e[e.VAL_URL=21]="VAL_URL",e[e.VAL_COMMA=22]="VAL_COMMA",e[e.VAL_SLASH=23]="VAL_SLASH",e[e.VAL_FUNC=24]="VAL_FUNC",e[e.VAL_C_PAR=25]="VAL_C_PAR",e[e.VAL_END=26]="VAL_END",e[e.RULE_END=27]="RULE_END",e[e.IDENT=28]="IDENT",e[e.SELECTOR_START=29]="SELECTOR_START",e[e.AT=30]="AT",e[e.EXPR_IDENT=31]="EXPR_IDENT",e[e.EXPR_NUM=32]="EXPR_NUM",e[e.EXPR_NUMERIC=33]="EXPR_NUMERIC",e[e.EXPR_STR=34]="EXPR_STR",e[e.EXPR_PARAM=35]="EXPR_PARAM",e[e.EXPR_PREFIX=36]="EXPR_PREFIX",e[e.EXPR_INFIX=37]="EXPR_INFIX",e[e.EXPR_FUNC=38]="EXPR_FUNC",e[e.EXPR_C_PAR=39]="EXPR_C_PAR",e[e.EXPR_O_PAR=40]="EXPR_O_PAR",e[e.SELECTOR_NEXT=41]="SELECTOR_NEXT",e[e.SELECTOR_PSEUDOELEM=42]="SELECTOR_PSEUDOELEM",e[e.EXPR_O_BRC=43]="EXPR_O_BRC",e[e.VAL_FINISH=44]="VAL_FINISH",e[e.EXPR_INFIX_NAME=45]="EXPR_INFIX_NAME",e[e.PROP=46]="PROP",e[e.VAL_BANG=47]="VAL_BANG",e[e.VAL_BRC=48]="VAL_BRC",e[e.EXPR_SEMICOL=49]="EXPR_SEMICOL",e[e.ERROR_PUSH=50]="ERROR_PUSH",e[e.ERROR_POP=51]="ERROR_POP",e[e.ERROR_POP_DECL=52]="ERROR_POP_DECL",e[e.ERROR_SEMICOL=53]="ERROR_SEMICOL",e[e.VAL_PLUS=54]="VAL_PLUS",e[e.SELECTOR_PSEUDOCLASS_1=55]="SELECTOR_PSEUDOCLASS_1",e[e.SELECTOR_FOLLOWING_SIBLING=56]="SELECTOR_FOLLOWING_SIBLING",e[e.DONE=200]="DONE"}(ao||(ao={}));const lo=On.LAST+1;var ho;Ki[On.IDENT]=ao.IDENT,Ki[On.STAR]=ao.SELECTOR_START,Ki[On.HASH]=ao.SELECTOR_START,Ki[On.CLASS]=ao.SELECTOR_START,Ki[On.O_BRK]=ao.SELECTOR_START,Ki[On.COLON]=ao.SELECTOR_START,Ki[On.AT]=ao.AT,Ki[On.C_BRC]=ao.RULE_END,Ki[On.EOF]=ao.DONE,Yi[On.IDENT]=ao.PROP,Yi[On.EOF]=ao.DONE,Ji[On.IDENT]=ao.SELECTOR_NAME,Ji[On.STAR]=ao.SELECTOR_ANY,Ji[On.HASH]=ao.SELECTOR_ID,Ji[On.CLASS]=ao.SELECTOR_CLASS,Ji[On.O_BRK]=ao.SELECTOR_ATTR,Ji[On.COLON]=ao.SELECTOR_PSEUDOCLASS,qi[On.GT]=ao.SELECTOR_CHILD,qi[On.PLUS]=ao.SELECTOR_SIBLING,qi[On.TILDE]=ao.SELECTOR_FOLLOWING_SIBLING,qi[On.IDENT]=ao.SELECTOR_NAME_1,qi[On.STAR]=ao.SELECTOR_ANY_1,qi[On.HASH]=ao.SELECTOR_ID_1,qi[On.CLASS]=ao.SELECTOR_CLASS_1,qi[On.O_BRK]=ao.SELECTOR_ATTR_1,qi[On.O_BRC]=ao.SELECTOR_BODY,qi[On.COLON]=ao.SELECTOR_PSEUDOCLASS_1,qi[On.COL_COL]=ao.SELECTOR_PSEUDOELEM,qi[On.COMMA]=ao.SELECTOR_NEXT,Zi[On.IDENT]=ao.SELECTOR_NAME_1,Zi[On.STAR]=ao.SELECTOR_ANY_1,Zi[On.HASH]=ao.SELECTOR_ID_1,Zi[On.CLASS]=ao.SELECTOR_CLASS_1,Zi[On.O_BRK]=ao.SELECTOR_ATTR_1,Zi[On.C_PAR]=ao.DONE,Zi[On.COLON]=ao.SELECTOR_PSEUDOCLASS_1,Qi[On.IDENT]=ao.SELECTOR_NAME,Qi[On.STAR]=ao.SELECTOR_ANY,Qi[On.HASH]=ao.SELECTOR_ID,Qi[On.CLASS]=ao.SELECTOR_CLASS,Qi[On.COLON]=ao.SELECTOR_PSEUDOCLASS,Qi[On.COL_COL]=ao.SELECTOR_PSEUDOELEM,Qi[On.O_BRK]=ao.SELECTOR_ATTR,Qi[On.O_BRC]=ao.SELECTOR_BODY,eo[On.IDENT]=ao.VAL_IDENT,eo[On.HASH]=ao.VAL_HASH,eo[On.NUM]=ao.VAL_NUM,eo[On.INT]=ao.VAL_INT,eo[On.NUMERIC]=ao.VAL_NUMERIC,eo[On.STR]=ao.VAL_STR,eo[On.URL]=ao.VAL_URL,eo[On.COMMA]=ao.VAL_COMMA,eo[On.SLASH]=ao.VAL_SLASH,eo[On.FUNC]=ao.VAL_FUNC,eo[On.C_PAR]=ao.VAL_C_PAR,eo[On.SEMICOL]=ao.VAL_END,eo[On.C_BRC]=ao.VAL_BRC,eo[On.BANG]=ao.VAL_BANG,eo[On.PLUS]=ao.VAL_PLUS,eo[On.EOF]=ao.VAL_FINISH,to[On.IDENT]=ao.EXPR_IDENT,to[On.NUM]=ao.EXPR_NUM,to[On.INT]=ao.EXPR_NUM,to[On.NUMERIC]=ao.EXPR_NUMERIC,to[On.STR]=ao.EXPR_STR,to[On.O_PAR]=ao.EXPR_O_PAR,to[On.FUNC]=ao.EXPR_FUNC,to[On.BANG]=ao.EXPR_PREFIX,to[On.MINUS]=ao.EXPR_PREFIX,to[On.DOLLAR]=ao.EXPR_PARAM,no[On.IDENT]=ao.EXPR_INFIX_NAME,no[On.COMMA]=ao.EXPR_INFIX,no[On.GT]=ao.EXPR_INFIX,no[On.LT]=ao.EXPR_INFIX,no[On.GT_EQ]=ao.EXPR_INFIX,no[On.LT_EQ]=ao.EXPR_INFIX,no[On.EQ]=ao.EXPR_INFIX,no[On.EQ_EQ]=ao.EXPR_INFIX,no[On.BANG_EQ]=ao.EXPR_INFIX,no[On.AMP_AMP]=ao.EXPR_INFIX,no[On.BAR_BAR]=ao.EXPR_INFIX,no[On.PLUS]=ao.EXPR_INFIX,no[On.MINUS]=ao.EXPR_INFIX,no[On.SLASH]=ao.EXPR_INFIX,no[On.PERCENT]=ao.EXPR_INFIX,no[On.STAR]=ao.EXPR_INFIX,no[On.COLON]=ao.EXPR_INFIX,no[On.QMARK]=ao.EXPR_INFIX,no[On.C_PAR]=ao.EXPR_C_PAR,no[On.O_BRC]=ao.EXPR_O_BRC,no[On.SEMICOL]=ao.EXPR_SEMICOL,io[On.EOF]=ao.DONE,io[On.O_BRC]=ao.ERROR_PUSH,io[On.C_BRC]=ao.ERROR_POP,io[On.O_BRK]=ao.ERROR_PUSH,io[On.C_BRK]=ao.ERROR_POP,io[On.O_PAR]=ao.ERROR_PUSH,io[On.C_PAR]=ao.ERROR_POP,io[On.SEMICOL]=ao.ERROR_SEMICOL,oo[On.EOF]=ao.DONE,oo[On.O_BRC]=ao.ERROR_PUSH,oo[On.C_BRC]=ao.ERROR_POP_DECL,oo[On.O_BRK]=ao.ERROR_PUSH,oo[On.C_BRK]=ao.ERROR_POP,oo[On.O_PAR]=ao.ERROR_PUSH,oo[On.C_PAR]=ao.ERROR_POP,oo[On.SEMICOL]=ao.ERROR_SEMICOL,so[On.EOF]=ao.DONE,so[On.O_BRC]=ao.ERROR_PUSH,so[On.C_BRC]=ao.ERROR_POP,so[On.O_BRK]=ao.ERROR_PUSH,so[On.C_BRK]=ao.ERROR_POP,so[On.O_PAR]=ao.ERROR_PUSH,so[On.C_PAR]=ao.ERROR_POP,ro[On.C_PAR]=0,ro[On.COMMA]=0,ro[On.QMARK]=1,ro[On.COLON]=1,ro[On.AMP_AMP]=2,ro[On.BAR_BAR]=2,ro[On.LT]=3,ro[On.GT]=3,ro[On.LT_EQ]=3,ro[On.GT_EQ]=3,ro[On.EQ]=3,ro[On.EQ_EQ]=3,ro[On.BANG_EQ]=3,ro[On.PLUS]=4,ro[On.MINUS]=4,ro[On.STAR]=5,ro[On.SLASH]=5,ro[On.PERCENT]=5,ro[On.EOF]=6,ro[lo]=2,function(e){e[e.PROP=0]="PROP",e[e.WHEN=1]="WHEN",e[e.MEDIA=2]="MEDIA",e[e.IMPORT=3]="IMPORT"}(ho||(ho={}));class co{constructor(e,t,n,i){this.actions=e,this.tokenizer=t,this.handler=n,this.baseURL=i,this.valStack=[],this.namespacePrefixToURI={},this.defaultNamespaceURI=null,this.propName=null,this.propImportant=!1,this.result=null,this.importReady=!1,this.importURL=null,this.importCondition=null,this.errorBrackets=[],this.ruleStack=[],this.regionRule=!1,this.pageRule=!1,this.exprContext=ho.MEDIA}extractVals(e,t){const n=[],i=this.valStack;for(;n.push(i[t++]),t!=i.length;)if(i[t++]!=e)throw new Error("Unexpected state");return n}valStackReduce(e,t){const n=this.valStack;let i,o=n.length;do{i=n[--o]}while(void 0!==i&&"string"!=typeof i);let s=n.length-(o+1);if(s>1&&n.splice(o+1,s,new Rt(n.slice(o+1,n.length))),","==e)return null;o++;do{i=n[--o]}while(void 0!==i&&("string"!=typeof i||","==i));if(s=n.length-(o+1),"("==i){if(")"!=e)return this.handler.error("E_CSS_MISMATCHED_C_PAR",t),this.actions=oo,null;const i=new Lt(n[o-1],this.extractVals(",",o+1));return n.splice(o-1,s+2,i),null}return";"!=e||o>=0?(this.handler.error("E_CSS_UNEXPECTED_VAL_END",t),this.actions=oo,null):s>1?new kt(this.extractVals(",",o+1)):n[0]}exprError(e,t){this.actions=this.propName?oo:io,this.handler.error(e,t)}exprStackReduce(e,t){const n=this.valStack,i=this.handler;let o,s=n.pop();for(;;){let r=n.pop();if(e==On.C_PAR){const t=[s];for(;r==On.COMMA;)t.unshift(n.pop()),r=n.pop();if("string"==typeof r){if("{"==r){for(;t.length>=2;){const e=t.shift(),n=t.shift(),o=new He(i.getScope(),e,n);t.unshift(o)}return n.push(new Ft(t[0])),!0}if("("==r){const o=n.pop(),r=n.pop();s=new ot(i.getScope(),ve(r,o),t),e=On.EOF;continue}}if(r==On.O_PAR){s.isMediaName()&&(s=new at(i.getScope(),s,null)),e=On.EOF;continue}}else if("string"==typeof r){n.push(r);break}if(r<0)if(r==-On.BANG)s=new Be(i.getScope(),s);else{if(r!=-On.MINUS)return this.exprError("F_UNEXPECTED_STATE",t),!1;s=new Me(i.getScope(),s)}else{if(ro[e]>ro[r]){n.push(r);break}switch(o=n.pop(),r){case On.AMP_AMP:s=new Ue(i.getScope(),o,s);break;case lo:s=new ze(i.getScope(),o,s);break;case On.BAR_BAR:s=new Ve(i.getScope(),o,s);break;case On.LT:s=new Ge(i.getScope(),o,s);break;case On.GT:s=new We(i.getScope(),o,s);break;case On.LT_EQ:s=new $e(i.getScope(),o,s);break;case On.GT_EQ:s=new Xe(i.getScope(),o,s);break;case On.EQ:case On.EQ_EQ:s=new je(i.getScope(),o,s);break;case On.BANG_EQ:s=new Ke(i.getScope(),o,s);break;case On.PLUS:s=new Ye(i.getScope(),o,s);break;case On.MINUS:s=new qe(i.getScope(),o,s);break;case On.STAR:s=new Ze(i.getScope(),o,s);break;case On.SLASH:s=new Qe(i.getScope(),o,s);break;case On.PERCENT:s=new Je(i.getScope(),o,s);break;case On.COLON:if(!(n.length>1))return this.exprError("E_CSS_EXPR_COND",t),!1;switch(n[n.length-1]){case On.QMARK:n.pop(),s=new st(i.getScope(),n.pop(),o,s);break;case On.O_PAR:if(!o.isMediaName())return this.exprError("E_CSS_MEDIA_TEST",t),!1;s=new at(i.getScope(),o,s)}break;case On.QMARK:if(e!=On.COLON)return this.exprError("E_CSS_EXPR_COND",t),!1;case On.O_PAR:return n.push(o),n.push(r),n.push(s),!1;default:return this.exprError("F_UNEXPECTED_STATE",t),!1}}}return n.push(s),!1}readPseudoParams(){const e=[];for(;;){const t=this.tokenizer.token();switch(t.type){case On.IDENT:e.push(t.text);break;case On.PLUS:e.push("+");break;case On.NUM:case On.INT:e.push(t.num);break;default:return e}this.tokenizer.consume()}}readNthPseudoParams(){let e=!1,t=this.tokenizer.token();if(t.type===On.PLUS)e=!0,this.tokenizer.consume(),t=this.tokenizer.token();else if(t.type===On.IDENT&&("even"===t.text||"odd"===t.text))return this.tokenizer.consume(),[2,"odd"===t.text?1:0];switch(t.type){case On.NUMERIC:if(e&&t.num<0)return null;case On.IDENT:if(e&&"-"===t.text.charAt(0))return null;if("n"===t.text||"-n"===t.text){if(e&&t.precededBySpace)return null;let n="-n"===t.text?-1:1;t.type===On.NUMERIC&&(n=t.num);let i=0;this.tokenizer.consume(),t=this.tokenizer.token();const o=t.type===On.MINUS,s=t.type===On.PLUS||o;if(s&&(this.tokenizer.consume(),t=this.tokenizer.token()),t.type===On.INT){if(i=t.num,1/i==-1/0){if(i=0,s)return null}else if(i<0){if(s)return null}else if(i>=0&&!s)return null;this.tokenizer.consume()}else if(s)return null;return[n,o&&i>0?-i:i]}if("n-"===t.text||"-n-"===t.text){if(e&&t.precededBySpace)return null;let n="-n-"===t.text?-1:1;if(t.type===On.NUMERIC&&(n=t.num),this.tokenizer.consume(),t=this.tokenizer.token(),t.type===On.INT)return t.num<0||1/t.num==-1/0?null:(this.tokenizer.consume(),[n,t.num])}else{let n=t.text.match(/^n(-[0-9]+)$/);if(n)return e&&t.precededBySpace?null:(this.tokenizer.consume(),[t.type===On.NUMERIC?t.num:1,parseInt(n[1],10)]);if(n=t.text.match(/^-n(-[0-9]+)$/),n)return this.tokenizer.consume(),[-1,parseInt(n[1],10)]}return null;case On.INT:return e&&(t.precededBySpace||t.num<0)?null:(this.tokenizer.consume(),[0,t.num])}return null}makeCondition(e,t){const n=this.handler.getScope();if(!n)return null;if(t=t||n._true,e){const i=e.split(/\s+/);for(const e of i)switch(e){case"vertical":t=ht(n,t,new Be(n,new tt(n,"pref-horizontal")));break;case"horizontal":t=ht(n,t,new tt(n,"pref-horizontal"));break;case"day":t=ht(n,t,new Be(n,new tt(n,"pref-night-mode")));break;case"night":t=ht(n,t,new tt(n,"pref-night-mode"));break;default:t=n._false}}return t===n._true?null:new Ft(t)}isInsidePropertyOnlyRule(){switch(this.ruleStack[this.ruleStack.length-1]){case"[selector]":case"font-face":case"-epubx-flow":case"-epubx-viewport":case"-epubx-define":case"-adapt-footnote-area":return!0}return!1}runParser(e,t,n,i,o){const s=this.handler,r=this.tokenizer,a=this.valStack;let l,h,c,u,d,p,f;i&&(this.exprContext=ho.MEDIA,this.valStack.push("{"));e:for(;e>0;--e)switch(l=r.token(),this.actions[l.type]){case ao.IDENT:if(r.nthToken(1).type!=On.COLON){this.isInsidePropertyOnlyRule()?(s.error("E_CSS_COLON_EXPECTED",r.nthToken(1)),this.actions=oo):(this.actions=Ji,s.startSelectorRule());continue}h=r.nthToken(2),h.precededBySpace||h.type!=On.IDENT&&h.type!=On.FUNC||r.mark(),this.propName=l.text,this.propImportant=!1,r.consume(),r.consume(),this.actions=eo,a.splice(0,a.length);continue;case ao.PROP:if(r.nthToken(1).type!=On.COLON){this.actions=oo,s.error("E_CSS_COLON_EXPECTED",r.nthToken(1));continue}this.propName=l.text,this.propImportant=!1,r.consume(),r.consume(),this.actions=eo,a.splice(0,a.length);continue;case ao.SELECTOR_START:this.actions=Ji,s.startSelectorRule();continue;case ao.SELECTOR_NAME_1:if(!l.precededBySpace){this.actions=so,s.error("E_CSS_SPACE_EXPECTED",l);continue}s.descendantSelector();case ao.SELECTOR_NAME:if(r.nthToken(1).type==On.BAR)if(r.consume(),r.consume(),c=this.namespacePrefixToURI[l.text],null!=c)switch(l=r.token(),l.type){case On.IDENT:s.tagSelector(c,l.text),this.actions=o?Zi:qi,r.consume();break;case On.STAR:s.tagSelector(c,null),this.actions=o?Zi:qi,r.consume();break;default:this.actions=io,s.error("E_CSS_NAMESPACE",l)}else this.actions=io,s.error("E_CSS_UNDECLARED_PREFIX",l);else s.tagSelector(this.defaultNamespaceURI,l.text),this.actions=o?Zi:qi,r.consume();continue;case ao.SELECTOR_ANY_1:if(!l.precededBySpace){this.actions=so,s.error("E_CSS_SPACE_EXPECTED",l);continue}s.descendantSelector();case ao.SELECTOR_ANY:if(r.nthToken(1).type==On.BAR)switch(r.consume(),r.consume(),l=r.token(),l.type){case On.IDENT:s.tagSelector(null,l.text),this.actions=o?Zi:qi,r.consume();break;case On.STAR:s.tagSelector(null,null),this.actions=o?Zi:qi,r.consume();break;default:this.actions=io,s.error("E_CSS_NAMESPACE",l)}else s.tagSelector(this.defaultNamespaceURI,null),this.actions=o?Zi:qi,r.consume();continue;case ao.SELECTOR_ID_1:l.precededBySpace&&s.descendantSelector();case ao.SELECTOR_ID:s.idSelector(l.text),this.actions=o?Zi:qi,r.consume();continue;case ao.SELECTOR_CLASS_1:l.precededBySpace&&s.descendantSelector();case ao.SELECTOR_CLASS:s.classSelector(l.text),this.actions=o?Zi:qi,r.consume();continue;case ao.SELECTOR_PSEUDOCLASS_1:l.precededBySpace&&s.descendantSelector();case ao.SELECTOR_PSEUDOCLASS:r.consume(),l=r.token();t:switch(l.type){case On.IDENT:s.pseudoclassSelector(l.text,null),r.consume(),this.actions=o?Zi:qi;continue;case On.FUNC:switch(u=l.text,r.consume(),u){case"not":this.actions=Ji,s.startFuncWithSelector("not"),this.runParser(Number.POSITIVE_INFINITY,!1,!1,!1,!0)?this.actions=qi:this.actions=so;break e;case"lang":case"href-epub-type":if(l=r.token(),l.type===On.IDENT){f=[l.text],r.consume();break}break t;case"nth-child":case"nth-of-type":case"nth-last-child":case"nth-last-of-type":if(f=this.readNthPseudoParams(),f)break;break t;default:f=this.readPseudoParams()}if(l=r.token(),l.type==On.C_PAR){s.pseudoclassSelector(u,f),r.consume(),this.actions=o?Zi:qi;continue}}s.error("E_CSS_PSEUDOCLASS_SYNTAX",l),this.actions=io;continue;case ao.SELECTOR_PSEUDOELEM:switch(r.consume(),l=r.token(),l.type){case On.IDENT:s.pseudoelementSelector(l.text,null),this.actions=o?Zi:qi,r.consume();continue;case On.FUNC:if(u=l.text,r.consume(),"nth-fragment"==u){if(f=this.readNthPseudoParams(),null===f)break}else f=this.readPseudoParams();if(l=r.token(),l.type==On.C_PAR){s.pseudoelementSelector(u,f),this.actions=o?Zi:qi,r.consume();continue}}s.error("E_CSS_PSEUDOELEM_SYNTAX",l),this.actions=io;continue;case ao.SELECTOR_ATTR_1:l.precededBySpace&&s.descendantSelector();case ao.SELECTOR_ATTR:if(r.consume(),l=r.token(),l.type==On.IDENT)u=l.text,r.consume();else if(l.type==On.STAR)u=null,r.consume();else{if(l.type!=On.BAR){this.actions=so,s.error("E_CSS_ATTR",l),r.consume();continue}u=""}if(l=r.token(),l.type==On.BAR){if(c=u?this.namespacePrefixToURI[u]:u,null==c){this.actions=so,s.error("E_CSS_UNDECLARED_PREFIX",l),r.consume();continue}if(r.consume(),l=r.token(),l.type!=On.IDENT){this.actions=so,s.error("E_CSS_ATTR_NAME_EXPECTED",l);continue}u=l.text,r.consume(),l=r.token()}else c="";switch(l.type){case On.EQ:case On.TILDE_EQ:case On.BAR_EQ:case On.HAT_EQ:case On.DOLLAR_EQ:case On.STAR_EQ:case On.COL_COL:d=l.type,r.consume(),l=r.token();break;case On.C_BRK:s.attributeSelector(c,u,On.EOF,null),this.actions=o?Zi:qi,r.consume();continue;default:this.actions=so,s.error("E_CSS_ATTR_OP_EXPECTED",l);continue}switch(l.type){case On.IDENT:case On.STR:s.attributeSelector(c,u,d,l.text),r.consume(),l=r.token();break;default:this.actions=so,s.error("E_CSS_ATTR_VAL_EXPECTED",l);continue}if(l.type!=On.C_BRK){this.actions=so,s.error("E_CSS_ATTR",l);continue}this.actions=o?Zi:qi,r.consume();continue;case ao.SELECTOR_CHILD:s.childSelector(),this.actions=Qi,r.consume();continue;case ao.SELECTOR_SIBLING:s.adjacentSiblingSelector(),this.actions=Qi,r.consume();continue;case ao.SELECTOR_FOLLOWING_SIBLING:s.followingSiblingSelector(),this.actions=Qi,r.consume();continue;case ao.SELECTOR_BODY:this.regionRule?(this.ruleStack.push("-epubx-region"),this.regionRule=!1):this.pageRule?(this.ruleStack.push("page"),this.pageRule=!1):this.ruleStack.push("[selector]"),s.startRuleBody(),this.actions=Ki,r.consume();continue;case ao.SELECTOR_NEXT:s.nextSelector(),this.actions=Ji,r.consume();continue;case ao.VAL_IDENT:a.push(Ct(l.text)),r.consume();continue;case ao.VAL_HASH:d=parseInt(l.text,16);try{a.push(Gi(l.text))}catch(e){s.error("E_CSS_COLOR",l),this.actions=io}r.consume();continue;case ao.VAL_NUM:a.push(new xt(l.num)),r.consume();continue;case ao.VAL_INT:a.push(new It(l.num)),r.consume();continue;case ao.VAL_NUMERIC:xe(l.text)?a.push(new Ft(new et(s.getScope(),l.num,l.text))):a.push(new Tt(l.num,l.text)),r.consume();continue;case ao.VAL_STR:a.push(new St(l.text)),r.consume();continue;case ao.VAL_URL:a.push(new At(O(l.text,this.baseURL))),r.consume();continue;case ao.VAL_COMMA:this.valStackReduce(",",l),a.push(","),r.consume();continue;case ao.VAL_SLASH:a.push(yt),r.consume();continue;case ao.VAL_FUNC:u=l.text.toLowerCase(),"-epubx-expr"==u||"calc"==u||"env"==u?(this.actions=to,this.exprContext=ho.PROP,a.push("{")):(a.push(u),a.push("(")),r.consume();continue;case ao.VAL_C_PAR:this.valStackReduce(")",l),r.consume();continue;case ao.VAL_BANG:if(r.consume(),l=r.token(),h=r.nthToken(1),l.type==On.IDENT&&"important"==l.text.toLowerCase()&&(h.type==On.SEMICOL||h.type==On.EOF||h.type==On.C_BRC)){r.consume(),this.propImportant=!0;continue}this.exprError("E_CSS_SYNTAX",l);continue;case ao.VAL_PLUS:switch(h=r.nthToken(1),h.type){case On.NUM:case On.NUMERIC:case On.INT:if(!h.precededBySpace){r.consume();continue}}if(this.actions===eo&&r.hasMark()){r.reset(),this.actions=Ji,s.startSelectorRule();continue}this.exprError("E_CSS_UNEXPECTED_PLUS",l);continue;case ao.VAL_END:r.consume();case ao.VAL_BRC:r.unmark(),p=this.valStackReduce(";",l),p&&this.propName&&s.property(this.propName,p,this.propImportant),this.actions=n?Yi:Ki;continue;case ao.VAL_FINISH:if(r.consume(),r.unmark(),p=this.valStackReduce(";",l),t)return this.result=p,!0;if(this.propName&&p&&s.property(this.propName,p,this.propImportant),n)return!0;this.exprError("E_CSS_SYNTAX",l);continue;case ao.EXPR_IDENT:h=r.nthToken(1),h.type==On.CLASS?(r.nthToken(2).type!=On.O_PAR||r.nthToken(2).precededBySpace?(a.push(new tt(s.getScope(),ve(l.text,h.text))),this.actions=no):(a.push(l.text,h.text,"("),r.consume()),r.consume()):(this.exprContext==ho.MEDIA||this.exprContext==ho.IMPORT?"not"==l.text.toLowerCase()?(r.consume(),a.push(new nt(s.getScope(),!0,h.text))):("only"==l.text.toLowerCase()&&(r.consume(),l=h),a.push(new nt(s.getScope(),!1,l.text))):a.push(new tt(s.getScope(),l.text)),this.actions=no),r.consume();continue;case ao.EXPR_FUNC:a.push(null,l.text,"("),r.consume();continue;case ao.EXPR_NUM:a.push(new rt(s.getScope(),l.num)),r.consume(),this.actions=no;continue;case ao.EXPR_NUMERIC:u=l.text,"%"==u&&(u=this.propName&&this.propName.match(/height|^(top|bottom)$/)?"vh":"vw"),a.push(new et(s.getScope(),l.num,u)),r.consume(),this.actions=no;continue;case ao.EXPR_STR:a.push(new rt(s.getScope(),l.text)),r.consume(),this.actions=no;continue;case ao.EXPR_PARAM:r.consume(),l=r.token(),l.type!=On.INT||l.precededBySpace?this.exprError("E_CSS_SYNTAX",l):(a.push(new lt(s.getScope(),l.num)),r.consume(),this.actions=no);continue;case ao.EXPR_PREFIX:a.push(-l.type),r.consume();continue;case ao.EXPR_INFIX:this.actions=to,this.exprStackReduce(l.type,l),a.push(l.type),r.consume();continue;case ao.EXPR_INFIX_NAME:"and"==l.text.toLowerCase()?(this.actions=to,this.exprStackReduce(lo,l),a.push(lo),r.consume()):this.exprError("E_CSS_SYNTAX",l);continue;case ao.EXPR_C_PAR:this.exprStackReduce(l.type,l)&&(this.propName?this.actions=eo:this.exprError("E_CSS_UNBALANCED_PAR",l)),r.consume();continue;case ao.EXPR_O_BRC:this.exprStackReduce(On.C_PAR,l)&&(this.propName||this.exprContext==ho.IMPORT?this.exprError("E_CSS_UNEXPECTED_BRC",l):(this.exprContext==ho.WHEN?s.startWhenRule(a.pop()):s.startMediaRule(a.pop()),this.ruleStack.push("media"),s.startRuleBody(),this.actions=Ki)),r.consume();continue;case ao.EXPR_SEMICOL:if(this.exprStackReduce(On.C_PAR,l)){if(!this.propName&&this.exprContext==ho.IMPORT)return this.importCondition=a.pop(),this.importReady=!0,this.actions=Ki,r.consume(),!1;this.exprError("E_CSS_UNEXPECTED_SEMICOL",l)}r.consume();continue;case ao.EXPR_O_PAR:a.push(l.type),r.consume();continue;case ao.RULE_END:this.actions=Ki,r.consume(),s.endRule(),this.ruleStack.length&&this.ruleStack.pop();continue;case ao.AT:switch(u=l.text.toLowerCase(),u){case"import":if(r.consume(),l=r.token(),l.type==On.STR||l.type==On.URL){if(this.importURL=l.text,r.consume(),l=r.token(),l.type==On.SEMICOL||l.type==On.EOF)return this.importReady=!0,r.consume(),!1;this.propName=null,this.exprContext=ho.IMPORT,this.actions=to,a.push("{");continue}s.error("E_CSS_IMPORT_SYNTAX",l),this.actions=io;continue;case"namespace":switch(r.consume(),l=r.token(),l.type){case On.IDENT:if(u=l.text,r.consume(),l=r.token(),(l.type==On.STR||l.type==On.URL)&&r.nthToken(1).type==On.SEMICOL){this.namespacePrefixToURI[u]=l.text,r.consume(),r.consume();continue}break;case On.STR:case On.URL:if(r.nthToken(1).type==On.SEMICOL){this.defaultNamespaceURI=l.text,r.consume(),r.consume();continue}}s.error("E_CSS_NAMESPACE_SYNTAX",l),this.actions=io;continue;case"charset":if(r.consume(),l=r.token(),l.type==On.STR&&r.nthToken(1).type==On.SEMICOL){u=l.text.toLowerCase(),"utf-8"!=u&&"utf-16"!=u&&s.error(`E_CSS_UNEXPECTED_CHARSET ${u}`,l),r.consume(),r.consume();continue}s.error("E_CSS_CHARSET_SYNTAX",l),this.actions=io;continue;case"font-face":case"-epubx-page-template":case"-epubx-define":case"-epubx-viewport":if(r.nthToken(1).type==On.O_BRC){switch(r.consume(),r.consume(),u){case"font-face":s.startFontFaceRule();break;case"-epubx-page-template":s.startPageTemplateRule();break;case"-epubx-define":s.startDefineRule();break;case"-epubx-viewport":s.startViewportRule()}this.ruleStack.push(u),s.startRuleBody();continue}break;case"-adapt-footnote-area":switch(r.consume(),l=r.token(),l.type){case On.O_BRC:r.consume(),s.startFootnoteRule(null),this.ruleStack.push(u),s.startRuleBody();continue;case On.COL_COL:if(r.consume(),l=r.token(),l.type==On.IDENT&&r.nthToken(1).type==On.O_BRC){u=l.text,r.consume(),r.consume(),s.startFootnoteRule(u),this.ruleStack.push("-adapt-footnote-area"),s.startRuleBody();continue}}break;case"-epubx-region":r.consume(),s.startRegionRule(),this.regionRule=!0,this.actions=Ji;continue;case"page":r.consume(),s.startPageRule(),this.pageRule=!0,this.actions=Qi;continue;case"top-left-corner":case"top-left":case"top-center":case"top-right":case"top-right-corner":case"right-top":case"right-middle":case"right-bottom":case"bottom-right-corner":case"bottom-right":case"bottom-center":case"bottom-left":case"bottom-left-corner":case"left-bottom":case"left-middle":case"left-top":if(r.consume(),l=r.token(),l.type==On.O_BRC){r.consume(),s.startPageMarginBoxRule(u),this.ruleStack.push(u),s.startRuleBody();continue}break;case"-epubx-when":r.consume(),this.propName=null,this.exprContext=ho.WHEN,this.actions=to,a.push("{");continue;case"media":r.consume(),this.propName=null,this.exprContext=ho.MEDIA,this.actions=to,a.push("{");continue;case"-epubx-flow":if(r.nthToken(1).type==On.IDENT&&r.nthToken(2).type==On.O_BRC){s.startFlowRule(r.nthToken(1).text),r.consume(),r.consume(),r.consume(),this.ruleStack.push(u),s.startRuleBody();continue}break;case"-epubx-page-master":case"-epubx-partition":case"-epubx-partition-group":{r.consume(),l=r.token();let e=null,t=null;const n=[];for(l.type==On.IDENT&&(e=l.text,r.consume(),l=r.token()),l.type==On.COLON&&r.nthToken(1).type==On.IDENT&&(t=r.nthToken(1).text,r.consume(),r.consume(),l=r.token());l.type==On.FUNC&&"class"==l.text.toLowerCase()&&r.nthToken(1).type==On.IDENT&&r.nthToken(2).type==On.C_PAR;)n.push(r.nthToken(1).text),r.consume(),r.consume(),r.consume(),l=r.token();if(l.type==On.O_BRC){switch(r.consume(),u){case"-epubx-page-master":s.startPageMasterRule(e,t,n);break;case"-epubx-partition":s.startPartitionRule(e,t,n);break;case"-epubx-partition-group":s.startPartitionGroupRule(e,t,n)}this.ruleStack.push(u),s.startRuleBody();continue}break}case"":s.error(`E_CSS_UNEXPECTED_AT${u}`,l),this.actions=so;continue;default:s.error(`E_CSS_AT_UNKNOWN ${u}`,l),this.actions=io;continue}s.error(`E_CSS_AT_SYNTAX ${u}`,l),this.actions=io;continue;case ao.ERROR_PUSH:if(t||n)return!0;this.errorBrackets.push(l.type+1),r.consume();continue;case ao.ERROR_POP_DECL:if(t||n)return!0;if(0==this.errorBrackets.length){this.actions=Ki;continue}case ao.ERROR_POP:this.errorBrackets.length>0&&this.errorBrackets[this.errorBrackets.length-1]==l.type&&this.errorBrackets.pop(),0==this.errorBrackets.length&&l.type==On.C_BRC&&(this.actions=Ki),r.consume();continue;case ao.ERROR_SEMICOL:if(t||n)return!0;0==this.errorBrackets.length&&(this.actions=Ki),r.consume();continue;case ao.DONE:return o&&(r.consume(),s.endFuncWithSelector()),!0;default:if(t||n)return!0;if(i)return!!this.exprStackReduce(On.C_PAR,l)&&(this.result=a.pop(),!0);if(o)return l.type==On.INVALID?s.error(l.text,l):s.error("E_CSS_SYNTAX",l),!1;if(this.actions===eo&&r.hasMark()){r.reset(),this.actions=Ji,s.startSelectorRule();continue}if(this.actions!==io&&this.actions!==so&&this.actions!==oo){l.type==On.INVALID?s.error(l.text,l):s.error("E_CSS_SYNTAX",l),this.isInsidePropertyOnlyRule()?this.actions=oo:this.actions=so;continue}r.consume();continue}return!1}}class uo extends $i{constructor(e){super(null),this.scope=e}error(e,t){throw new Error(e)}getScope(){return this.scope}}function po(e,t,n,i,o){const s=pi("parseStylesheet"),r=new co(Ki,e,t,n);let a=null;return o&&(a=function(e,t,n){const i=new co(to,e,t,n);return i.runParser(Number.POSITIVE_INFINITY,!1,!1,!0,!1),i.result}(new hi(o,t),t,n)),a=r.makeCondition(i,a&&a.toExpr()),a&&(t.startMediaRule(a),t.startRuleBody()),s.loop(()=>{for(;!r.runParser(100,!1,!1,!1,!1);){if(r.importReady){const e=O(r.importURL,n);r.importCondition&&(t.startMediaRule(r.importCondition),t.startRuleBody());const i=pi("parseStylesheet.import");return go(e,t,null,null).then(()=>{r.importCondition&&t.endRule(),r.importReady=!1,r.importURL=null,r.importCondition=null,i.finish(!0)}),i.result()}const e=s.timeSlice();if(e.isPending)return e}return fi(!1)}).then(()=>{a&&t.endRule(),s.finish(!0)}),s.result()}function fo(e,t,n,i,o){return gi("parseStylesheetFromText",s=>{po(new hi(e,t),t,n,i,o).thenFinish(s)},(t,n)=>{h.warn(n,`Failed to parse stylesheet text: ${e}`),t.finish(!1)})}function go(e,t,n,i){return gi("parseStylesheetFromURL",o=>{Ri(e).then(s=>{s.responseText?fo(s.responseText,t,e,n,i).then(t=>{t||h.warn(`Failed to parse stylesheet from ${e}`),o.finish(!0)}):o.finish(!0)})},(t,n)=>{h.warn(n,"Exception while fetching and parsing:",e),t.finish(!0)})}function mo(e,t,n){const i=new co(eo,t,new uo(e),n);return i.runParser(Number.POSITIVE_INFINITY,!0,!1,!1,!1),i.result}const bo={"z-index":!0,"column-count":!0,"flow-linger":!0,opacity:!0,page:!0,"flow-priority":!0,utilization:!0};function wo(e,t,n){const i=t.evaluate(e);switch(typeof i){case"number":return function(e){return!!bo[e]}(n)?i==Math.round(i)?new It(i):new xt(i):new Tt(i,"px");case"string":return i?mo(t.scope,new hi(i,null),""):wt;case"boolean":return i?Bt._true:Bt._false;case"undefined":return wt}throw new Error("E_UNEXPECTED")}function Eo(e,t,n){return t.isExpr()?wo(e,t.expr,n):t}function yo(e,t,n){return e-=n,0===t?0===e:e%t==0&&e/t>=0}class So{constructor(e){this.matchers=e}matches(){return this.matchers.some(e=>e.matches())}}class No{constructor(e){this.matchers=e}matches(){return this.matchers.every(e=>e.matches())}}class vo{constructor(e,t,n){this.elementOffset=e,this.a=t,this.b=n}static registerFragmentIndex(e,t,n){const i=vo.fragmentIndices;(!i[e]||i[e].priority<=n)&&(i[e]={fragmentIndex:t,priority:n})}static clearFragmentIndices(){vo.fragmentIndices={}}matches(){const e=vo.fragmentIndices[this.elementOffset];return null!=e&&null!=e.fragmentIndex&&yo(e.fragmentIndex,this.a,this.b)}}vo.fragmentIndices={};class Co{static buildViewConditionMatcher(e,t){const n=t.split("_");return"NFS"==n[0]?new vo(e,parseInt(n[1],10),parseInt(n[2],10)):null}static buildAllMatcher(e){return new No(e)}static buildAnyMatcher(e){return new So(e)}}const To={azimuth:!0,"border-collapse":!0,"border-spacing":!0,"caption-side":!0,"clip-rule":!0,color:!0,"color-interpolation":!0,"color-rendering":!0,cursor:!0,direction:!0,elevation:!0,"empty-cells":!0,fill:!0,"fill-opacity":!0,"fill-rule":!0,"font-kerning":!0,"font-size":!0,"font-size-adjust":!0,"font-family":!0,"font-feature-settings":!0,"font-style":!0,"font-stretch":!0,"font-variant":!0,"font-weight":!0,"glyph-orientation-vertical":!0,hyphens:!0,"hyphenate-character":!0,"hyphenate-limit-chars":!0,"hyphenate-limit-last":!0,"image-rendering":!0,"image-resolution":!0,"letter-spacing":!0,"line-break":!0,"line-height":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,marker:!0,"marker-end":!0,"marker-mid":!0,"marker-start":!0,orphans:!0,"overflow-wrap":!0,"paint-order":!0,"pointer-events":!0,"pitch-range":!0,quotes:!0,richness:!0,"ruby-align":!0,"ruby-position":!0,"speak-header":!0,"speak-numeral":!0,"speak-punctuation":!0,"speech-rate":!0,"shape-rendering":!0,stress:!0,stroke:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0,"tab-size":!0,"text-align":!0,"text-align-last":!0,"text-anchor":!0,"text-decoration-skip":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-combine-upright":!0,"text-indent":!0,"text-justify":!0,"text-rendering":!0,"text-size-adjust":!0,"text-transform":!0,"text-underline-position":!0,visibility:!0,"voice-family":!0,volume:!0,"white-space":!0,widows:!0,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"writing-mode":!0},xo=["box-decoration-break","image-resolution","orphans","widows"];const Io={"http://www.idpf.org/2007/ops":!0,"http://www.w3.org/1999/xhtml":!0,"http://www.w3.org/2000/svg":!0},Po=["margin-%","padding-%","border-%-width","border-%-style","border-%-color","%"],Ao=["max-%","min-%","%"],Oo=(()=>{const e=["left","right","top","bottom"],t={width:!0,height:!0,"max-width":!0,"max-height":!0,"min-width":!0,"min-height":!0};for(let n=0;n<Po.length;n++)for(let i=0;i<e.length;i++)t[Po[n].replace("%",e[i])]=!0;return t})();function Ro(e,t){const n={};for(const t of Po)for(const i in e){const o=t.replace("%",i),s=t.replace("%",e[i]);n[o]=s,n[s]=o}for(const e of Ao)for(const i in t){const o=e.replace("%",i),s=e.replace("%",t[i]);n[o]=s,n[s]=o}return n}const ko=Ro({"block-start":"right","block-end":"left","inline-start":"top","inline-end":"bottom"},{"block-size":"width","inline-size":"height"}),Lo=Ro({"block-start":"top","block-end":"bottom","inline-start":"left","inline-end":"right"},{"block-size":"height","inline-size":"width"}),Fo=Ro({"block-start":"right","block-end":"left","inline-start":"bottom","inline-end":"top"},{"block-size":"width","inline-size":"height"}),Do=Ro({"block-start":"top","block-end":"bottom","inline-start":"right","inline-end":"left"},{"block-size":"height","inline-size":"width"});class _o{constructor(e,t){this.value=e,this.priority=t}getBaseValue(){return this}filterValue(e){const t=this.value.visit(e);return t===this.value?this:new _o(t,this.priority)}increaseSpecificity(e){return 0==e?this:new _o(this.value,this.priority+e)}evaluate(e,t){return Eo(e,this.value,t)}isEnabled(e){return!0}}class Bo extends _o{constructor(e,t,n){super(e,t),this.condition=n}getBaseValue(){return new _o(this.value,this.priority)}filterValue(e){const t=this.value.visit(e);return t===this.value?this:new Bo(t,this.priority,this.condition)}increaseSpecificity(e){return 0==e?this:new Bo(this.value,this.priority+e,this.condition)}isEnabled(e){return!!this.condition.evaluate(e)}}function Mo(e,t,n){return(null==t||n.priority>t.priority)&&n.isEnabled(e)?n.getBaseValue():t}const Uo={"region-id":!0,"fragment-selector-id":!0};function zo(e){return!!Uo[e]}function Vo(e){return"_"==e.charAt(0)}function Ho(e){return"_"!=e.charAt(0)&&!Uo[e]}function Go(e){return!!To[e]}function $o(e,t){return e[t]}function Wo(e,t,n){n?e[t]=n:delete e[t]}function Xo(e,t){return e[t]}function jo(e,t){let n=e[t];return n||(n={},e[t]=n),n}const Ko=e=>{let t=e._viewConditionalStyles;return t||(t=[],e._viewConditionalStyles=t),t};function Yo(e,t){return e[t]}function qo(e,t){let n=e[t];return n||(n=[],e[t]=n),n}function Zo(e,t,n,i,o,s,r){if([{id:o,styleKey:"_pseudos"},{id:s,styleKey:"_regions"}].forEach(e=>{if(e.id){const n=jo(t,e.styleKey);(t=n[e.id])||(t={},n[e.id]=t)}}),r){const e=Ko(t);t={},e.push({styles:t,matcher:r})}for(const o in n)if(!Vo(o))if(zo(o)){const e=Yo(n,o),i=qo(t,o);Array.prototype.push.apply(i,e)}else{const s=$o(n,o).increaseSpecificity(i),r=$o(t,o);Wo(t,o,Mo(e,r,s))}}function Qo(e,t){if(e.length>0){e.sort((e,t)=>t.getPriority()-e.getPriority());let n=null;for(let i=e.length-1;i>=0;i--)n=e[i],n.chained=t,t=n;return n}return t}class Jo extends gt{constructor(e,t){super(),this.props=e,this.context=t,this.propName=""}setPropName(e){this.propName=e}getFontSize(){const e=$o(this.props,"font-size").value;if(!function(e){switch(e.toLowerCase()){case"px":case"in":case"pt":case"pc":case"cm":case"mm":case"q":return!0;default:return!1}}(e.unit))throw new Error("Unexpected state");return e.num*Ie[e.unit]}visitNumeric(e){if(this.context,"font-size"===this.propName)return function(e,t,n){const i=(e=es(e,t,n)).unit,o=e.num;return"px"===i?e:new Tt("%"===i?o/100*t:o*n.queryUnitSize(i,!1),"px")}(e,this.getFontSize(),this.context);if("em"==e.unit||"ex"==e.unit||"rem"==e.unit)return es(e,this.getFontSize(),this.context);if("%"==e.unit){if("line-height"===this.propName)return e;const t=this.propName.match(/height|^(top|bottom)$/)?"vh":"vw";return new Tt(e.num,t)}return e}visitExpr(e){return"font-size"==this.propName?Eo(this.context,e,this.propName).visit(this):e}}function es(e,t,n){const i=e.unit,o=e.num;if("em"===i||"ex"===i){const e=Ie[i]/Ie.em;return new Tt(o*e*t,"px")}return"rem"===i?new Tt(o*n.fontSize(),"px"):e}class ts{apply(e){}mergeWith(e){return new is([this,e])}clone(){return this}}class ns extends ts{constructor(e){super(),this.conditionItem=e}apply(e){e.pushConditionItem(this.conditionItem.fresh(e))}}class is extends ts{constructor(e){super(),this.list=e}apply(e){for(let t=0;t<this.list.length;t++)this.list[t].apply(e)}mergeWith(e){return this.list.push(e),this}clone(){return new is([].concat(this.list))}}class os extends ts{constructor(e,t,n,i,o){super(),this.style=e,this.specificity=t,this.pseudoelement=n,this.regionId=i,this.viewConditionId=o}apply(e){Zo(e.context,e.currentStyle,this.style,this.specificity,this.pseudoelement,this.regionId,e.buildViewConditionMatcher(this.viewConditionId))}}class ss extends ts{constructor(){super(),this.chained=null}apply(e){this.chained.apply(e)}getPriority(){return 0}makePrimary(e){return!1}}class rs extends ss{constructor(e){super(),this.className=e}apply(e){e.currentClassNames.includes(this.className)&&this.chained.apply(e)}getPriority(){return 10}makePrimary(e){return this.chained&&e.insertInTable(e.classes,this.className,this.chained),!0}}class as extends ss{constructor(e){super(),this.id=e}apply(e){e.currentId!=this.id&&e.currentXmlId!=this.id||this.chained.apply(e)}getPriority(){return 11}makePrimary(e){return this.chained&&e.insertInTable(e.ids,this.id,this.chained),!0}}class ls extends ss{constructor(e){super(),this.localName=e}apply(e){e.currentLocalName==this.localName&&this.chained.apply(e)}getPriority(){return 8}makePrimary(e){return this.chained&&e.insertInTable(e.tags,this.localName,this.chained),!0}}class hs extends ss{constructor(e,t){super(),this.ns=e,this.localName=t}apply(e){e.currentLocalName==this.localName&&e.currentNamespace==this.ns&&this.chained.apply(e)}getPriority(){return 8}makePrimary(e){if(this.chained){let t=e.nsPrefix[this.ns];t||(t=`ns${e.nsCount++}:`,e.nsPrefix[this.ns]=t);const n=t+this.localName;e.insertInTable(e.nstags,n,this.chained)}return!0}}class cs extends ss{constructor(e){super(),this.epubTypePatt=e}apply(e){const t=e.currentElement;if(t&&"a"==e.currentLocalName){const n=t.getAttribute("href");if(n&&n.match(/^#/)){const i=n.substring(1),o=t.ownerDocument.getElementById(i);if(o){const t=o.getAttributeNS(k.epub,"type");t&&t.match(this.epubTypePatt)&&this.chained.apply(e)}}}}}class us extends ss{constructor(e){super(),this.ns=e}apply(e){e.currentNamespace==this.ns&&this.chained.apply(e)}}class ds extends ss{constructor(e,t){super(),this.ns=e,this.name=t}apply(e){e.currentElement&&e.currentElement.hasAttributeNS(this.ns,this.name)&&this.chained.apply(e)}}class ps extends ss{constructor(e,t,n){super(),this.ns=e,this.name=t,this.value=n}apply(e){e.currentElement&&e.currentElement.getAttributeNS(this.ns,this.name)==this.value&&this.chained.apply(e)}getPriority(){return"type"==this.name&&this.ns==k.epub?9:0}makePrimary(e){return"type"==this.name&&this.ns==k.epub&&(this.chained&&e.insertInTable(e.epubtypes,this.value,this.chained),!0)}}class fs extends ss{constructor(e,t){super(),this.ns=e,this.name=t}apply(e){if(e.currentElement){const t=e.currentElement.getAttributeNS(this.ns,this.name);t&&Io[t]&&this.chained.apply(e)}}getPriority(){return 0}makePrimary(e){return!1}}class gs extends ss{constructor(e,t,n){super(),this.ns=e,this.name=t,this.regexp=n}apply(e){if(e.currentElement){const t=e.currentElement.getAttributeNS(this.ns,this.name);t&&t.match(this.regexp)&&this.chained.apply(e)}}}class ms extends ss{constructor(e){super(),this.langRegExp=e}apply(e){e.lang.match(this.langRegExp)&&this.chained.apply(e)}}class bs extends ss{constructor(){super()}apply(e){e.isFirst&&this.chained.apply(e)}getPriority(){return 6}}class ws extends ss{constructor(){super()}apply(e){e.isRoot&&this.chained.apply(e)}getPriority(){return 12}}class Es extends ss{constructor(e,t){super(),this.a=e,this.b=t}matchANPlusB(e){return yo(e,this.a,this.b)}}class ys extends Es{constructor(e,t){super(e,t)}apply(e){const t=e.currentSiblingTypeCounts[e.currentNamespace][e.currentLocalName];this.matchANPlusB(t)&&this.chained.apply(e)}getPriority(){return 5}}class Ss extends Es{constructor(e,t){super(e,t)}apply(e){let t=e.currentFollowingSiblingOrder;null===t&&(t=e.currentFollowingSiblingOrder=e.currentElement.parentNode.childElementCount-e.currentSiblingOrder+1),this.matchANPlusB(t)&&this.chained.apply(e)}getPriority(){return 4}}class Ns extends Es{constructor(e,t){super(e,t)}apply(e){const t=e.currentFollowingSiblingTypeCounts;if(!t[e.currentNamespace]){let n=e.currentElement;do{const e=n.namespaceURI,i=n.localName;let o=t[e];o||(o=t[e]={}),o[i]=(o[i]||0)+1}while(n=n.nextElementSibling)}this.matchANPlusB(t[e.currentNamespace][e.currentLocalName])&&this.chained.apply(e)}getPriority(){return 4}}class vs extends ss{constructor(){super()}apply(e){let t=e.currentElement.firstChild;for(;t;){switch(t.nodeType){case Node.ELEMENT_NODE:return;case Node.TEXT_NODE:if(t.length>0)return}t=t.nextSibling}this.chained.apply(e)}getPriority(){return 4}}class Cs extends ss{constructor(){super()}apply(e){!1===e.currentElement.disabled&&this.chained.apply(e)}getPriority(){return 5}}class Ts extends ss{constructor(){super()}apply(e){!0===e.currentElement.disabled&&this.chained.apply(e)}getPriority(){return 5}}class xs extends ss{constructor(){super()}apply(e){const t=e.currentElement;!0!==t.selected&&!0!==t.checked||this.chained.apply(e)}getPriority(){return 5}}class Is extends ss{constructor(e){super(),this.condition=e}apply(e){if(e.conditions[this.condition])try{e.dependentConditions.push(this.condition),this.chained.apply(e)}finally{e.dependentConditions.pop()}}getPriority(){return 5}}class Ps extends ts{constructor(){super(),this.applied=!1}apply(e){this.applied=!0}clone(){const e=new Ps;return e.applied=this.applied,e}}class As extends ss{constructor(e){super(),this.checkAppliedAction=new Ps,this.firstAction=Qo(e,this.checkAppliedAction)}apply(e){this.firstAction.apply(e),this.checkAppliedAction.applied||this.chained.apply(e),this.checkAppliedAction.applied=!1}getPriority(){return this.firstAction.getPriority()}}class Os{constructor(e,t,n){this.condition=e,this.viewConditionId=t,this.viewCondition=n}increment(e){e.increment(this.condition,this.viewCondition)}decrement(e){e.decrement(this.condition,this.viewCondition)}buildViewConditionMatcher(e){return e.buildViewConditionMatcher(this.viewConditionId)}}class Rs extends Os{constructor(e,t,n){super(e,t,n)}fresh(e){return new Rs(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))}push(e,t){return 0==t&&this.increment(e),!1}pop(e,t){return 0==t&&(this.decrement(e),!0)}}class ks extends Os{constructor(e,t,n){super(e,t,n)}fresh(e){return new ks(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))}push(e,t){return 0==t?this.increment(e):1==t&&this.decrement(e),!1}pop(e,t){return 0==t?(this.decrement(e),!0):(1==t&&this.increment(e),!1)}}class Ls extends Os{constructor(e,t,n){super(e,t,n),this.fired=!1}fresh(e){return new Ls(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))}push(e,t){return!!this.fired&&(this.decrement(e),!0)}pop(e,t){return this.fired?(this.decrement(e),!0):(0==t&&(this.fired=!0,this.increment(e)),!1)}}class Fs extends Os{constructor(e,t,n){super(e,t,n),this.fired=!1}fresh(e){return new Fs(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))}push(e,t){return this.fired&&(-1==t?this.increment(e):0==t&&this.decrement(e)),!1}pop(e,t){if(this.fired){if(-1==t)return this.decrement(e),!0;0==t&&this.increment(e)}else 0==t&&(this.fired=!0,this.increment(e));return!1}}class Ds{constructor(e,t){this.afterprop=e,this.element=t}fresh(e){return this}push(e,t){return!1}pop(e,t){return 0==t&&(e.processPseudoelementProps(this.afterprop,this.element),!0)}}class _s{constructor(e){this.lang=e}fresh(e){return this}push(e,t){return!1}pop(e,t){return 0==t&&(e.lang=this.lang,!0)}}class Bs{constructor(e){this.oldQuotes=e}fresh(e){return this}push(e,t){return!1}pop(e,t){return 0==t&&(e.quotes=this.oldQuotes,!0)}}class Ms extends gt{constructor(e){super(),this.element=e}createValueFromString(e,t){switch(t){case"url":return new At(e||"about:invalid");case"string":default:return new St(e||"")}}visitFunc(e){if("attr"!==e.name)return super.visitFunc(e);let t="string",n=null,i=null;if(e.values[0]instanceof Rt){const i=e.values[0].values;i.length>=2&&(t=i[1].stringValue()),n=i[0].stringValue()}else n=e.values[0].stringValue();return i=e.values.length>1?this.createValueFromString(e.values[1].stringValue(),t):this.createValueFromString(null,t),this.element&&this.element.hasAttribute(n)?this.createValueFromString(this.element.getAttribute(n),t):i}}class Us extends gt{constructor(e,t,n){super(),this.cascade=e,this.element=t,this.counterResolver=n}visitIdent(e){const t=this.cascade,n=t.quotes,i=Math.floor(n.length/2)-1;switch(e.name){case"open-quote":{const e=n[2*Math.min(i,t.quoteDepth)];return t.quoteDepth++,e}case"close-quote":return t.quoteDepth>0&&t.quoteDepth--,n[2*Math.min(i,t.quoteDepth)+1];case"no-open-quote":return t.quoteDepth++,new St("");case"no-close-quote":return t.quoteDepth>0&&t.quoteDepth--,new St("")}return e}format(e,t){let n,i=!1,o=!1;null!=(n=t.match(/^upper-(.*)/))?(i=!0,t=n[1]):null!=(n=t.match(/^lower-(.*)/))&&(o=!0,t=n[1]);let s="";return zs[t]?s=function(e,t){if(t>e[0]||t<=0||t!=Math.round(t))return"";let n="";for(let i=1;i<e.length;i+=2){const o=e[i];let s=Math.floor(t/o);if(s>20)return"";for(t-=s*o;s>0;)n+=e[i+1],s--}return n}(zs[t],e):Vs[t]?s=function(e,t){if(t<=0||t!=Math.round(t))return"";const n=function(e){const t=[];let n=0;for(;n<e.length;)if("-"==e.substr(n+1,1)){const i=e.charCodeAt(n),o=e.charCodeAt(n+2);n+=3;for(let e=i;e<=o;e++)t.push(String.fromCharCode(e))}else t.push(e.substr(n++,1));return t}(e);let i="";do{const e=--t%n.length;i=n[e]+i,t=(t-e)/n.length}while(t>0);return i}(Vs[t],e):null!=Hs[t]?s=Hs[t]:"decimal-leading-zero"==t?(s=`${e}`,1==s.length&&(s=`0${s}`)):s="cjk-ideographic"==t||"trad-chinese-informal"==t?function(e,t){if(e>9999||e<-9999)return`${e}`;if(0==e)return t.digits.charAt(0);const n=new H;if(e<0&&(n.append(t.negative),e=-e),e<10)n.append(t.digits.charAt(e));else if(!t.formal&&e<=19)n.append(t.markers.charAt(0)),0!=e&&n.append(t.digits.charAt(e-10));else{const i=Math.floor(e/1e3);i&&(n.append(t.digits.charAt(i)),n.append(t.markers.charAt(2)));const o=Math.floor(e/100)%10;o&&(n.append(t.digits.charAt(o)),n.append(t.markers.charAt(1)));const s=Math.floor(e/10)%10;s&&(n.append(t.digits.charAt(s)),n.append(t.markers.charAt(0)));const r=e%10;r&&n.append(t.digits.charAt(r))}return n.toString()}(e,Gs):`${e}`,i?s.toUpperCase():o?s.toLowerCase():s}visitFuncCounter(e){const t=e[0].toString(),n=e.length>1?e[1].stringValue():"decimal",i=this.cascade.counters[t];if(i&&i.length){const e=i&&i.length&&i[i.length-1]||0;return new St(this.format(e,n))}{const e=this,i=new Ft(this.counterResolver.getPageCounterVal(t,t=>e.format(t||0,n)));return new Rt([i])}}visitFuncCounters(e){const t=e[0].toString(),n=e[1].stringValue(),i=e.length>2?e[2].stringValue():"decimal",o=this.cascade.counters[t],s=new H;if(o&&o.length)for(let e=0;e<o.length;e++)e>0&&s.append(n),s.append(this.format(o[e],i));const r=this,a=new Ft(this.counterResolver.getPageCountersVal(t,e=>{const t=[];if(e.length)for(let n=0;n<e.length;n++)t.push(r.format(e[n],i));const o=s.toString();return o.length&&t.push(o),t.length?t.join(n):r.format(0,i)}));return new Rt([a])}visitFuncTargetCounter(e){const t=e[0];let n;n=t instanceof At?t.url:t.stringValue();const i=e[1].toString(),o=e.length>2?e[2].stringValue():"decimal",s=this,r=new Ft(this.counterResolver.getTargetCounterVal(n,i,e=>s.format(e||0,o)));return new Rt([r])}visitFuncTargetCounters(e){const t=e[0];let n;n=t instanceof At?t.url:t.stringValue();const i=e[1].toString(),o=e[2].stringValue(),s=e.length>3?e[3].stringValue():"decimal",r=this,a=new Ft(this.counterResolver.getTargetCountersVal(n,i,e=>{const t=e.map(e=>r.format(e,s));return t.length?t.join(o):r.format(0,s)}));return new Rt([a])}visitFunc(e){switch(e.name){case"counter":if(e.values.length<=2)return this.visitFuncCounter(e.values);break;case"counters":if(e.values.length<=3)return this.visitFuncCounters(e.values);break;case"target-counter":if(e.values.length<=3)return this.visitFuncTargetCounter(e.values);break;case"target-counters":if(e.values.length<=4)return this.visitFuncTargetCounters(e.values)}return h.warn("E_CSS_CONTENT_PROP:",e.toString()),new St("")}}const zs={roman:[4999,1e3,"M",900,"CM",500,"D",400,"CD",100,"C",90,"XC",50,"L",40,"XL",10,"X",9,"IX",5,"V",4,"IV",1,"I"],armenian:[9999,9e3,"ք",8e3,"փ",7e3,"ւ",6e3,"ց",5e3,"ր",4e3,"տ",3e3,"վ",2e3,"ս",1e3,"ռ",900,"ջ",800,"պ",700,"չ",600,"ո",500,"շ",400,"ն",300,"յ",200,"մ",100,"ճ",90,"ղ",80,"ձ",70,"հ",60,"կ",50,"ծ",40,"խ",30,"լ",20,"ի",10,"ժ",9,"թ",8,"ը",7,"է",6,"զ",5,"ե",4,"դ",3,"գ",2,"բ",1,"ա"],georgian:[19999,1e4,"ჵ",9e3,"ჰ",8e3,"ჯ",7e3,"ჴ",6e3,"ხ",5e3,"ჭ",4e3,"წ",3e3,"ძ",2e3,"ც",1e3,"ჩ",900,"შ",800,"ყ",700,"ღ",600,"ქ",500,"ფ",400,"ჳ",300,"ტ",200,"ს",100,"რ",90,"ჟ",80,"პ",70,"ო",60,"ჲ",50,"ნ",40,"მ",30,"ლ",20,"კ",10,"ი",9,"თ",8,"ჱ",7,"ზ",6,"ვ",5,"ე",4,"დ",3,"გ",2,"ბ",1,"ა"],hebrew:[999,400,"ת",300,"ש",200,"ר",100,"ק",90,"צ",80,"פ",70,"ע",60,"ס",50,"נ",40,"מ",30,"ל",20,"כ",19,"יט",18,"יח",17,"יז",16,"טז",15,"טו",10,"י",9,"ט",8,"ח",7,"ז",6,"ו",5,"ה",4,"ד",3,"ג",2,"ב",1,"א"]},Vs={latin:"a-z",alpha:"a-z",greek:"α-ρσ-ω",russian:"а-ик-щэ-я"},Hs={square:"■",disc:"•",circle:"◦",none:""};const Gs={formal:!1,digits:"零一二三四五六七八九",markers:"十百千",negative:"負"};const $s=1/1048576;function Ws(e,t){for(const n in e)t[n]=e[n].clone()}class Xs{constructor(){this.nsCount=0,this.nsPrefix={},this.tags={},this.nstags={},this.epubtypes={},this.classes={},this.ids={},this.pagetypes={},this.order=0}clone(){const e=new Xs;e.nsCount=this.nsCount;for(const t in this.nsPrefix)e.nsPrefix[t]=this.nsPrefix[t];return Ws(this.tags,e.tags),Ws(this.nstags,e.nstags),Ws(this.epubtypes,e.epubtypes),Ws(this.classes,e.classes),Ws(this.ids,e.ids),Ws(this.pagetypes,e.pagetypes),e.order=this.order,e}insertInTable(e,t,n){const i=e[t];i&&(n=i.mergeWith(n)),e[t]=n}createInstance(e,t,n,i){return new js(this,e,t,n,i)}nextOrder(){return this.order+=$s}}class js{constructor(e,t,n,i,o){this.context=t,this.counterListener=n,this.counterResolver=i,this.stack=[[],[]],this.conditions={},this.currentElement=null,this.currentElementOffset=null,this.currentStyle=null,this.currentClassNames=null,this.currentLocalName="",this.currentNamespace="",this.currentId="",this.currentXmlId="",this.currentNSTag="",this.currentEpubTypes=null,this.currentPageType=null,this.isFirst=!0,this.isRoot=!0,this.counters={},this.counterScoping=[{}],this.quoteDepth=0,this.lang="",this.siblingOrderStack=[0],this.currentSiblingOrder=0,this.siblingTypeCountsStack=[{}],this.currentFollowingSiblingOrder=null,this.followingSiblingTypeCountsStack=[{}],this.viewConditions={},this.dependentConditions=[],this.code=e,this.quotes=[new St("“"),new St("”"),new St("‘"),new St("’")],this.currentSiblingTypeCounts=this.siblingTypeCountsStack[0],this.followingSiblingOrderStack=[this.currentFollowingSiblingOrder],this.currentFollowingSiblingTypeCounts=this.siblingTypeCountsStack[0]}pushConditionItem(e){this.stack[this.stack.length-1].push(e)}increment(e,t){this.conditions[e]=(this.conditions[e]||0)+1,t&&(this.viewConditions[e]?this.viewConditions[e].push(t):this.viewConditions[e]=[t])}decrement(e,t){this.conditions[e]--,this.viewConditions[e]&&(this.viewConditions[e]=this.viewConditions[e].filter(e=>e!==t),0===this.viewConditions[e].length&&delete this.viewConditions[e])}buildViewConditionMatcher(e){let t=null;e&&(this.currentElementOffset,t=Co.buildViewConditionMatcher(this.currentElementOffset,e));const n=this.dependentConditions.map(e=>{const t=this.viewConditions[e];return t&&t.length>0?1===t.length?t[0]:Co.buildAnyMatcher([].concat(t)):null}).filter(e=>e);return n.length<=0?t:null===t?1===n.length?n[0]:Co.buildAllMatcher(n):Co.buildAllMatcher([t].concat(n))}applyAction(e,t){const n=e[t];n&&n.apply(this)}pushRule(e,t,n){this.currentElement=null,this.currentElementOffset=null,this.currentStyle=n,this.currentNamespace="",this.currentLocalName="",this.currentId="",this.currentXmlId="",this.currentClassNames=e,this.currentNSTag="",this.currentEpubTypes=Ks,this.currentPageType=t,this.applyActions()}defineCounter(e,t){this.counters[e]?this.counters[e].push(t):this.counters[e]=[t];let n=this.counterScoping[this.counterScoping.length-1];n||(n={},this.counterScoping[this.counterScoping.length-1]=n),n[e]=!0}pushCounters(e){let t=Bt.inline;const n=e.display;n&&(t=n.evaluate(this.context));let i=null,o=null,s=null;const r=e["counter-reset"];if(r){const e=r.evaluate(this.context);e&&(i=En(e,!0))}const a=e["counter-set"];if(a){const e=a.evaluate(this.context);e&&(s=En(e,!1))}const l=e["counter-increment"];if(l){const e=l.evaluate(this.context);e&&(o=En(e,!1))}if("ol"!=this.currentLocalName&&"ul"!=this.currentLocalName||this.currentNamespace!=k.XHTML||(i||(i={}),i["ua-list-item"]=0),t===Bt.list_item&&(o||(o={}),o["ua-list-item"]=1),i)for(const e in i)this.defineCounter(e,i[e]);if(s)for(const e in s)if(this.counters[e]){const t=this.counters[e];t[t.length-1]=s[e]}else this.defineCounter(e,s[e]);if(o)for(const e in o){this.counters[e]||this.defineCounter(e,0);const t=this.counters[e];t[t.length-1]+=o[e]}if(t===Bt.list_item){const t=this.counters["ua-list-item"],n=t[t.length-1];e["ua-list-item-count"]=new _o(new xt(n),0)}this.counterScoping.push(null)}popCounters(){const e=this.counterScoping.pop();if(e)for(const t in e){const e=this.counters[t];e&&(1==e.length?delete this.counters[t]:e.pop())}}processPseudoelementProps(e,t){this.pushCounters(e),e.content&&(e.content=e.content.filterValue(new Us(this,t,this.counterResolver))),this.popCounters()}pushElement(e,t,n){this.currentPageType=null,this.currentElement=e,this.currentElementOffset=n,this.currentStyle=t,this.currentNamespace=e.namespaceURI,this.currentLocalName=e.localName;const i=this.code.nsPrefix[this.currentNamespace];this.currentNSTag=i?i+this.currentLocalName:"",this.currentId=e.getAttribute("id"),this.currentXmlId=e.getAttributeNS(k.XML,"id");const o=e.getAttribute("class");this.currentClassNames=o?o.split(/\s+/):Ks;const s=e.getAttributeNS(k.epub,"type");if(this.currentEpubTypes=s?s.split(/\s+/):Ks,"style"==this.currentLocalName&&this.currentNamespace==k.FB2){const t=e.getAttribute("name")||"";this.currentClassNames=[t]}const r=V(e);r&&(this.stack[this.stack.length-1].push(new _s(this.lang)),this.lang=r.toLowerCase());const a=this.isRoot,l=this.siblingOrderStack;this.currentSiblingOrder=++l[l.length-1],l.push(0);const h=this.siblingTypeCountsStack,c=this.currentSiblingTypeCounts=h[h.length-1];let u=c[this.currentNamespace];u||(u=c[this.currentNamespace]={}),u[this.currentLocalName]=(u[this.currentLocalName]||0)+1,h.push({});const d=this.followingSiblingOrderStack;null!==d[d.length-1]?this.currentFollowingSiblingOrder=--d[d.length-1]:this.currentFollowingSiblingOrder=null,d.push(null);const p=this.followingSiblingTypeCountsStack,f=this.currentFollowingSiblingTypeCounts=p[p.length-1];f&&f[this.currentNamespace]&&f[this.currentNamespace][this.currentLocalName]--,p.push({}),this.applyActions(),this.applyAttrFilter(e);const g=t.quotes;let m=null;if(g){const e=g.evaluate(this.context);e&&(m=new Bs(this.quotes),e===Bt.none?this.quotes=[new St(""),new St("")]:e instanceof Rt&&(this.quotes=e.values))}this.pushCounters(this.currentStyle);const b=this.currentId||this.currentXmlId||e.getAttribute("name")||"";if(a||b){const e={};Object.keys(this.counters).forEach(t=>{e[t]=Array.from(this.counters[t])}),this.counterListener.countersOfId(b,e)}const w=Xo(this.currentStyle,"_pseudos");if(w){let t=!0;for(const n of Ys){n||(t=!1);const i=w[n];i&&(t?this.processPseudoelementProps(i,e):this.stack[this.stack.length-2].push(new Ds(i,e)))}}m&&this.stack[this.stack.length-2].push(m)}applyAttrFilterInner(e,t){for(const n in t)Ho(n)&&(t[n]=t[n].filterValue(e))}applyAttrFilter(e){const t=new Ms(e),n=this.currentStyle,i=Xo(n,"_pseudos");for(const e in i)this.applyAttrFilterInner(t,i[e]);this.applyAttrFilterInner(t,n)}applyActions(){let e;for(e=0;e<this.currentClassNames.length;e++)this.applyAction(this.code.classes,this.currentClassNames[e]);for(e=0;e<this.currentEpubTypes.length;e++)this.applyAction(this.code.epubtypes,this.currentEpubTypes[e]);this.applyAction(this.code.ids,this.currentId),this.applyAction(this.code.tags,this.currentLocalName),""!=this.currentLocalName&&this.applyAction(this.code.tags,"*"),this.applyAction(this.code.nstags,this.currentNSTag),null!==this.currentPageType&&(this.applyAction(this.code.pagetypes,this.currentPageType),this.applyAction(this.code.pagetypes,"*")),this.currentElement=null,this.currentDoc=null,this.stack.push([]);for(let t=1;t>=-1;--t){const n=this.stack[this.stack.length-t-2];for(e=0;e<n.length;)n[e].push(this,t)?n.splice(e,1):e++}this.isFirst=!0,this.isRoot=!1}pop(){for(let e=1;e>=-1;--e){const t=this.stack[this.stack.length-e-2];let n=0;for(;n<t.length;)t[n].pop(this,e)?t.splice(n,1):n++}this.stack.pop(),this.isFirst=!1}popRule(){this.pop()}popElement(e){this.siblingOrderStack.pop(),this.siblingTypeCountsStack.pop(),this.followingSiblingOrderStack.pop(),this.followingSiblingTypeCountsStack.pop(),this.pop(),this.popCounters()}}const Ks=[],Ys=["before","transclusion-before","footnote-call","footnote-marker","inner","first-letter","first-line","","transclusion-after","after"];var qs;!function(e){e[e.TOP=0]="TOP",e[e.SELECTOR=1]="SELECTOR",e[e.RULE=2]="RULE"}(qs||(qs={}));let Zs=null;class Qs extends ji{constructor(e,t,n,i,o,s,r){super(e,t,r),this.condition=n,this.regionId=o,this.validatorSet=s,this.chain=null,this.specificity=0,this.elementStyle=null,this.conditionCount=0,this.pseudoelement=null,this.footnoteContent=!1,this.viewConditionId=null,this.cascade=i?i.cascade:Zs?Zs.clone():new Xs,this.state=qs.TOP}insertNonPrimary(e){this.cascade.insertInTable(this.cascade.tags,"*",e)}processChain(e){const t=Qo(this.chain,e);t!==e&&t.makePrimary(this.cascade)||this.insertNonPrimary(t)}isInsideSelectorRule(e){return this.state!=qs.TOP&&(this.reportAndSkip(e),!0)}tagSelector(e,t){(t||e)&&(this.specificity+=1,t&&e?this.chain.push(new hs(e,t.toLowerCase())):t?this.chain.push(new ls(t.toLowerCase())):this.chain.push(new us(e)))}classSelector(e){if(this.pseudoelement)return h.warn(`::${this.pseudoelement}`,`followed by .${e}`),void this.chain.push(new Is(""));this.specificity+=256,this.chain.push(new rs(e))}pseudoclassSelector(e,t){if(this.pseudoelement)return h.warn(`::${this.pseudoelement}`,`followed by :${e}`),void this.chain.push(new Is(""));switch(e.toLowerCase()){case"enabled":this.chain.push(new Cs);break;case"disabled":this.chain.push(new Ts);break;case"checked":this.chain.push(new xs);break;case"root":this.chain.push(new ws);break;case"link":this.chain.push(new ls("a")),this.chain.push(new ds("","href"));break;case"-adapt-href-epub-type":case"href-epub-type":if(t&&1==t.length&&"string"==typeof t[0]){const e=t[0],n=new RegExp(`(^|s)${Y(e)}($|s)`);this.chain.push(new cs(n))}else this.chain.push(new Is(""));break;case"-adapt-footnote-content":case"footnote-content":this.footnoteContent=!0;break;case"visited":case"active":case"hover":case"focus":this.chain.push(new Is(""));break;case"lang":if(t&&1==t.length&&"string"==typeof t[0]){const e=t[0];this.chain.push(new ms(new RegExp(`^${Y(e.toLowerCase())}($|-)`)))}else this.chain.push(new Is(""));break;case"nth-child":case"nth-last-child":case"nth-of-type":case"nth-last-of-type":{const n=Js[e.toLowerCase()];t&&2==t.length?this.chain.push(new n(t[0],t[1])):this.chain.push(new Is(""));break}case"first-child":this.chain.push(new bs);break;case"last-child":this.chain.push(new Ss(0,1));break;case"first-of-type":this.chain.push(new ys(0,1));break;case"last-of-type":this.chain.push(new Ns(0,1));break;case"only-child":this.chain.push(new bs),this.chain.push(new Ss(0,1));break;case"only-of-type":this.chain.push(new ys(0,1)),this.chain.push(new Ns(0,1));break;case"empty":this.chain.push(new vs);break;case"before":case"after":case"first-line":case"first-letter":return void this.pseudoelementSelector(e,t);default:h.warn(`unknown pseudo-class selector: ${e}`),this.chain.push(new Is(""))}this.specificity+=256}pseudoelementSelector(e,t){switch(e){case"before":case"after":case"first-line":case"first-letter":case"footnote-call":case"footnote-marker":case"inner":case"after-if-continues":this.pseudoelement?(h.warn(`Double pseudoelement ::${this.pseudoelement}::${e}`),this.chain.push(new Is(""))):this.pseudoelement=e;break;case"first-n-lines":if(t&&1==t.length&&"number"==typeof t[0]){const n=Math.round(t[0]);if(n>0&&n==t[0]){this.pseudoelement?(h.warn(`Double pseudoelement ::${this.pseudoelement}::${e}`),this.chain.push(new Is(""))):this.pseudoelement=`first-${n}-lines`;break}}this.chain.push(new Is(""));break;case"nth-fragment":t&&2==t.length?this.viewConditionId=`NFS_${t[0]}_${t[1]}`:this.chain.push(new Is(""));break;default:h.warn(`Unrecognized pseudoelement: ::${e}`),this.chain.push(new Is(""))}this.specificity+=1}idSelector(e){this.specificity+=65536,this.chain.push(new as(e))}attributeSelector(e,t,n,i){let o;switch(this.specificity+=256,t=t.toLowerCase(),i=i||"",n){case On.EOF:o=new ds(e,t);break;case On.EQ:o=new ps(e,t,i);break;case On.TILDE_EQ:o=!i||i.match(/\s/)?new Is(""):new gs(e,t,new RegExp(`(^|\\s)${Y(i)}($|\\s)`));break;case On.BAR_EQ:o=new gs(e,t,new RegExp(`^${Y(i)}($|-)`));break;case On.HAT_EQ:o=i?new gs(e,t,new RegExp(`^${Y(i)}`)):new Is("");break;case On.DOLLAR_EQ:o=i?new gs(e,t,new RegExp(`${Y(i)}$`)):new Is("");break;case On.STAR_EQ:o=i?new gs(e,t,new RegExp(Y(i))):new Is("");break;case On.COL_COL:"supported"==i?o=new fs(e,t):(h.warn("Unsupported :: attr selector op:",i),o=new Is(""));break;default:h.warn("Unsupported attr selector:",n),o=new Is("")}this.chain.push(o)}descendantSelector(){const e=`d${er++}`;this.processChain(new ns(new Rs(e,this.viewConditionId,null))),this.chain=[new Is(e)],this.viewConditionId=null}childSelector(){const e=`c${er++}`;this.processChain(new ns(new ks(e,this.viewConditionId,null))),this.chain=[new Is(e)],this.viewConditionId=null}adjacentSiblingSelector(){const e=`a${er++}`;this.processChain(new ns(new Ls(e,this.viewConditionId,null))),this.chain=[new Is(e)],this.viewConditionId=null}followingSiblingSelector(){const e=`f${er++}`;this.processChain(new ns(new Fs(e,this.viewConditionId,null))),this.chain=[new Is(e)],this.viewConditionId=null}nextSelector(){this.finishChain(),this.pseudoelement=null,this.footnoteContent=!1,this.specificity=0,this.chain=[]}startSelectorRule(){this.isInsideSelectorRule("E_CSS_UNEXPECTED_SELECTOR")||(this.state=qs.SELECTOR,this.elementStyle={},this.pseudoelement=null,this.specificity=0,this.footnoteContent=!1,this.chain=[])}error(e,t){super.error(e,t),this.state==qs.SELECTOR&&(this.state=qs.TOP)}startStylesheet(e){super.startStylesheet(e),this.state=qs.TOP}startRuleBody(){this.finishChain(),super.startRuleBody(),this.state==qs.SELECTOR&&(this.state=qs.TOP)}endRule(){super.endRule(),this.insideSelectorRule=qs.TOP}finishChain(){if(this.chain){const e=this.specificity+this.cascade.nextOrder();this.processChain(this.makeApplyRuleAction(e)),this.chain=null,this.pseudoelement=null,this.viewConditionId=null,this.footnoteContent=!1,this.specificity=0}}makeApplyRuleAction(e){let t=this.regionId;return this.footnoteContent&&(t=t?"xxx-bogus-xxx":"footnote"),new os(this.elementStyle,e,this.pseudoelement,t,this.viewConditionId)}special(e,t){let n;n=this.condition?new Bo(t,0,this.condition):new _o(t,0),qo(this.elementStyle,e).push(n)}property(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}invalidPropertyValue(e,t){this.report(`E_INVALID_PROPERTY_VALUE ${e}: ${t.toString()}`)}unknownProperty(e,t){this.report(`E_INVALID_PROPERTY ${e}: ${t.toString()}`)}simpleProperty(e,t,n){"display"!=e||t!==Bt.oeb_page_head&&t!==Bt.oeb_page_foot||(this.simpleProperty("flow-options",new Rt([Bt.exclusive,Bt._static]),n),this.simpleProperty("flow-into",t,n),t=Bt.block),p("SIMPLE_PROPERTY").forEach(i=>{const o=i({name:e,value:t,important:n});e=o.name,t=o.value,n=o.important});const i=n?this.getImportantSpecificity():this.getBaseSpecificity(),o=this.condition?new Bo(t,i,this.condition):new _o(t,i);Wo(this.elementStyle,e,o)}finish(){return this.cascade}startFuncWithSelector(e){switch(e){case"not":{const e=new tr(this);e.startSelectorRule(),this.owner.pushHandler(e);break}}}}const Js={"nth-child":class extends Es{constructor(e,t){super(e,t)}apply(e){this.matchANPlusB(e.currentSiblingOrder)&&this.chained.apply(e)}getPriority(){return 5}},"nth-of-type":ys,"nth-last-child":Ss,"nth-last-of-type":Ns};let er=0;class tr extends Qs{constructor(e){super(e.scope,e.owner,e.condition,e,e.regionId,e.validatorSet,!1),this.parent=e,this.parentChain=e.chain}startFuncWithSelector(e){"not"==e&&this.reportAndSkip("E_CSS_UNEXPECTED_NOT")}startRuleBody(){this.reportAndSkip("E_CSS_UNEXPECTED_RULE_BODY")}nextSelector(){this.reportAndSkip("E_CSS_UNEXPECTED_NEXT_SELECTOR")}endFuncWithSelector(){this.chain&&this.chain.length>0&&this.parentChain.push(new As(this.chain)),this.parent.specificity+=this.specificity,this.owner.popHandler()}error(e,t){super.error(e,t),this.owner.popHandler()}}class nr extends ji{constructor(e,t){super(e,t,!1)}property(e,t,n){if(this.scope.values[e])this.error(`E_CSS_NAME_REDEFINED ${e}`,this.getCurrentToken());else{const n=e.match(/height|^(top|bottom)$/)?"vh":"vw",i=new et(this.scope,100,n);this.scope.defineName(e,t.toExpr(this.scope,i))}}}class ir extends ji{constructor(e,t,n,i,o){super(e,t,!1),this.condition=n,this.elementStyle=i,this.validatorSet=o,this.order=0}property(e,t,n){n?h.warn("E_IMPORTANT_NOT_ALLOWED"):this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}invalidPropertyValue(e,t){h.warn("E_INVALID_PROPERTY_VALUE",`${e}:`,t.toString())}unknownProperty(e,t){h.warn("E_INVALID_PROPERTY",`${e}:`,t.toString())}simpleProperty(e,t,n){let i=n?this.getImportantSpecificity():this.getBaseSpecificity();i+=this.order,this.order+=$s;const o=this.condition?new Bo(t,i,this.condition):new _o(t,i);Wo(this.elementStyle,e,o)}}class or extends uo{constructor(e,t){super(e),this.validatorSet=t,this.elementStyle={},this.order=0}property(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}invalidPropertyValue(e,t){h.warn("E_INVALID_PROPERTY_VALUE",`${e}:`,t.toString())}unknownProperty(e,t){h.warn("E_INVALID_PROPERTY",`${e}:`,t.toString())}simpleProperty(e,t,n){let i=n?Ui:Mi;i+=this.order,this.order+=$s;const o=new _o(t,i);Wo(this.elementStyle,e,o)}}function sr(e,t){const n=Ko(e);n&&n.forEach(e=>{e.matcher.matches()&&t(e.styles)})}function rr(e,t,n){sr(n,n=>{dr(e,n,t)})}function ar(e,t,n,i){const o=new or(e,t),s=new hi(i,o);try{!function(e,t,n){new co(Yi,e,t,n).runParser(Number.POSITIVE_INFINITY,!1,!0,!1,!1)}(s,o,n)}catch(e){h.warn(e,"Style attribute parse error:")}return o.elementStyle}function lr(e,t,n){const i=e["writing-mode"];if(i){const e=i.evaluate(t,"writing-mode");if(e&&e!==Bt.inherit)return e===Bt.vertical_rl}return n}function hr(e,t,n){const i=e.direction;if(i){const e=i.evaluate(t,"direction");if(e&&e!==Bt.inherit)return e===Bt.rtl}return n}function cr(e,t,n,i,o){const s={};for(const t in e)Ho(t)&&(s[t]=$o(e,t));return rr(s,t,e),ur(e,n,i,(e,n)=>{dr(s,n,t),rr(s,t,n)}),s}function ur(e,t,n,i){const o=Xo(e,"_regions");if((t||n)&&o){if(n){const e=["footnote"];t=t?t.concat(e):e}for(const e of t){const t=o[e];t&&i(e,t)}}}function dr(e,t,n){for(const i in t)if(Ho(i)){const o=$o(t,i),s=e[i];e[i]=Mo(n,s,o)}}const pr=(e,t,n,i,o)=>{const s=n?i?Fo:ko:i?Do:Lo;for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];if(!i)continue;const r=s[n];let a;if(r){const t=e[r];if(t&&t.priority>i.priority)continue;a=Oo[r]?r:n}else a=n;t[a]=o(n,i)}};function fr(e,t){const n={};return Object.keys(e).forEach(i=>{const o=n[i]={},s=e[i];Object.keys(s).forEach(e=>{o[e]=s[e].map(e=>{const n=t?e.logical:e.physical,i=t?e.physical:e.logical;return{regexp:new RegExp(`(-?)${n}(-?)`),to:`$1${i}$2`}})})}),n}function gr(e,t,n,i){const o=i[t];if(!o)throw new Error(`unknown writing-mode: ${t}`);const s=o[n||"ltr"];if(!s)throw new Error(`unknown direction: ${n}`);for(const t of s){const n=e.replace(t.regexp,t.to);if(n!==e)return n}return e}const mr={"horizontal-tb":{ltr:[{logical:"inline-start",physical:"left"},{logical:"inline-end",physical:"right"},{logical:"block-start",physical:"top"},{logical:"block-end",physical:"bottom"},{logical:"inline-size",physical:"width"},{logical:"block-size",physical:"height"}],rtl:[{logical:"inline-start",physical:"right"},{logical:"inline-end",physical:"left"},{logical:"block-start",physical:"top"},{logical:"block-end",physical:"bottom"},{logical:"inline-size",physical:"width"},{logical:"block-size",physical:"height"}]},"vertical-rl":{ltr:[{logical:"inline-start",physical:"top"},{logical:"inline-end",physical:"bottom"},{logical:"block-start",physical:"right"},{logical:"block-end",physical:"left"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}],rtl:[{logical:"inline-start",physical:"bottom"},{logical:"inline-end",physical:"top"},{logical:"block-start",physical:"right"},{logical:"block-end",physical:"left"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}]},"vertical-lr":{ltr:[{logical:"inline-start",physical:"top"},{logical:"inline-end",physical:"bottom"},{logical:"block-start",physical:"left"},{logical:"block-end",physical:"right"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}],rtl:[{logical:"inline-start",physical:"bottom"},{logical:"inline-end",physical:"top"},{logical:"block-start",physical:"left"},{logical:"block-end",physical:"right"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}]}},br=fr(mr,!0);const wr=fr(mr,!1);var Er;function yr(e,t,n){const i={display:t.style.display,position:t.style.position,width:t.style.width,maxWidth:t.style.maxWidth,minWidth:t.style.minWidth,height:t.style.height,maxHeight:t.style.maxHeight,minHeight:t.style.minHeight},o=t.ownerDocument,s=t.parentNode,r=o.createElement("div");function a(n){return e.getElementComputedStyle(t).getPropertyValue(n)}U(r,"position",i.position),s.insertBefore(r,t),r.appendChild(t),U(t,"width","auto"),U(t,"max-width","none"),U(t,"min-width","0"),U(t,"height","auto"),U(t,"max-height","none"),U(t,"min-height","0");const l=M("writing-mode"),h=(l?a(l[0]):null)||a("writing-mode"),c="vertical-rl"===h||"tb-rl"===h||"vertical-lr"===h||"tb-lr"===h,u=c?"height":"width",d=c?"width":"height";function p(){return U(t,"display","block"),U(t,"position","static"),a(u)}function f(){U(t,"display","inline-block"),U(r,u,"99999999px");const e=a(u);return U(r,u,""),e}function g(){U(t,"display","inline-block"),U(r,u,"0");const e=a(u);return U(r,u,""),e}function m(){const e=p(),t=g(),n=parseFloat(e);if(n<=parseFloat(t))return t;{const t=f();return n<=parseFloat(t)?e:t}}function b(){return a(d)}function w(){throw new Error("Getting fill-available block size is not implemented")}const E={};return n.forEach(e=>{let n;switch(e){case Er.FILL_AVAILABLE_INLINE_SIZE:n=p();break;case Er.MAX_CONTENT_INLINE_SIZE:n=f();break;case Er.MIN_CONTENT_INLINE_SIZE:n=g();break;case Er.FIT_CONTENT_INLINE_SIZE:n=m();break;case Er.FILL_AVAILABLE_BLOCK_SIZE:n=w();break;case Er.MAX_CONTENT_BLOCK_SIZE:case Er.MIN_CONTENT_BLOCK_SIZE:case Er.FIT_CONTENT_BLOCK_SIZE:n=b();break;case Er.FILL_AVAILABLE_WIDTH:n=c?w():p();break;case Er.FILL_AVAILABLE_HEIGHT:n=c?p():w();break;case Er.MAX_CONTENT_WIDTH:n=c?b():f();break;case Er.MAX_CONTENT_HEIGHT:n=c?f():b();break;case Er.MIN_CONTENT_WIDTH:n=c?b():g();break;case Er.MIN_CONTENT_HEIGHT:n=c?g():b();break;case Er.FIT_CONTENT_WIDTH:n=c?b():m();break;case Er.FIT_CONTENT_HEIGHT:n=c?m():b()}E[e]=parseFloat(n),U(t,"position",i.position),U(t,"display",i.display)}),U(t,"width",i.width),U(t,"max-width",i.maxWidth),U(t,"min-width",i.minWidth),U(t,"height",i.height),U(t,"max-height",i.maxHeight),U(t,"min-height",i.minHeight),s.insertBefore(t,r),s.removeChild(r),E}!function(e){e.FILL_AVAILABLE_INLINE_SIZE="fill-available inline size",e.FILL_AVAILABLE_BLOCK_SIZE="fill-available block size",e.FILL_AVAILABLE_WIDTH="fill-available width",e.FILL_AVAILABLE_HEIGHT="fill-available height",e.MAX_CONTENT_INLINE_SIZE="max-content inline size",e.MAX_CONTENT_BLOCK_SIZE="max-content block size",e.MAX_CONTENT_WIDTH="max-content width",e.MAX_CONTENT_HEIGHT="max-content height",e.MIN_CONTENT_INLINE_SIZE="min-content inline size",e.MIN_CONTENT_BLOCK_SIZE="min-content block size",e.MIN_CONTENT_WIDTH="min-content width",e.MIN_CONTENT_HEIGHT="min-content height",e.FIT_CONTENT_INLINE_SIZE="fit-content inline size",e.FIT_CONTENT_BLOCK_SIZE="fit-content block size",e.FIT_CONTENT_WIDTH="fit-content width",e.FIT_CONTENT_HEIGHT="fit-content height"}(Er||(Er={}));var Sr=-1,Nr=1,vr=0;function Cr(e,t,n,i){if(e===t)return e?[[vr,e]]:[];if(null!=n){var o=function(e,t,n){var i="number"==typeof n?{index:n,length:0}:n.oldRange,o="number"==typeof n?null:n.newRange,s=e.length,r=t.length;if(0===i.length&&(null===o||0===o.length)){var a=i.index,l=e.slice(0,a),h=e.slice(a),c=o?o.index:null,u=a+r-s;if((null===c||c===u)&&!(u<0||u>r)){var d=t.slice(0,u);if((g=t.slice(u))===h){var p=Math.min(a,u);if((b=l.slice(0,p))===(E=d.slice(0,p)))return kr(b,l.slice(p),d.slice(p),h)}}if(null===c||c===a){var f=a,g=(d=t.slice(0,f),t.slice(f));if(d===l){var m=Math.min(s-f,r-f);if((w=h.slice(h.length-m))===(y=g.slice(g.length-m)))return kr(l,h.slice(0,h.length-m),g.slice(0,g.length-m),w)}}}if(i.length>0&&o&&0===o.length){var b=e.slice(0,i.index),w=e.slice(i.index+i.length);if(!(r<(p=b.length)+(m=w.length))){var E=t.slice(0,p),y=t.slice(r-m);if(b===E&&w===y)return kr(b,e.slice(p,s-m),t.slice(p,r-m),w)}}return null}(e,t,n);if(o)return o}var s=xr(e,t),r=e.substring(0,s);s=Ir(e=e.substring(s),t=t.substring(s));var a=e.substring(e.length-s),l=function(e,t){var n;if(!e)return[[Nr,t]];if(!t)return[[Sr,e]];var i=e.length>t.length?e:t,o=e.length>t.length?t:e,s=i.indexOf(o);if(-1!==s)return n=[[Nr,i.substring(0,s)],[vr,o],[Nr,i.substring(s+o.length)]],e.length>t.length&&(n[0][0]=n[2][0]=Sr),n;if(1===o.length)return[[Sr,e],[Nr,t]];var r=function(e,t){var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;function o(e,t,n){for(var i,o,s,r,a=e.substring(n,n+Math.floor(e.length/4)),l=-1,h="";-1!==(l=t.indexOf(a,l+1));){var c=xr(e.substring(n),t.substring(l)),u=Ir(e.substring(0,n),t.substring(0,l));h.length<u+c&&(h=t.substring(l-u,l)+t.substring(l,l+c),i=e.substring(0,n-u),o=e.substring(n+c),s=t.substring(0,l-u),r=t.substring(l+c))}return 2*h.length>=e.length?[i,o,s,r,h]:null}var s,r,a,l,h,c=o(n,i,Math.ceil(n.length/4)),u=o(n,i,Math.ceil(n.length/2));return c||u?(s=u?c&&c[4].length>u[4].length?c:u:c,e.length>t.length?(r=s[0],a=s[1],l=s[2],h=s[3]):(l=s[0],h=s[1],r=s[2],a=s[3]),[r,a,l,h,s[4]]):null}(e,t);if(r){var a=r[0],l=r[1],h=r[2],c=r[3],u=r[4],d=Cr(a,h),p=Cr(l,c);return d.concat([[vr,u]],p)}return function(e,t){for(var n=e.length,i=t.length,o=Math.ceil((n+i)/2),s=o,r=2*o,a=new Array(r),l=new Array(r),h=0;h<r;h++)a[h]=-1,l[h]=-1;a[s+1]=0,l[s+1]=0;for(var c=n-i,u=c%2!=0,d=0,p=0,f=0,g=0,m=0;m<o;m++){for(var b=-m+d;b<=m-p;b+=2){for(var w=s+b,E=(C=b===-m||b!==m&&a[w-1]<a[w+1]?a[w+1]:a[w-1]+1)-b;C<n&&E<i&&e.charAt(C)===t.charAt(E);)C++,E++;if(a[w]=C,C>n)p+=2;else if(E>i)d+=2;else if(u&&(N=s+c-b)>=0&&N<r&&-1!==l[N]&&C>=(S=n-l[N]))return Tr(e,t,C,E)}for(var y=-m+f;y<=m-g;y+=2){for(var S,N=s+y,v=(S=y===-m||y!==m&&l[N-1]<l[N+1]?l[N+1]:l[N-1]+1)-y;S<n&&v<i&&e.charAt(n-S-1)===t.charAt(i-v-1);)S++,v++;if(l[N]=S,S>n)g+=2;else if(v>i)f+=2;else if(!u){var C;if((w=s+c-y)>=0&&w<r&&-1!==a[w])if(E=s+(C=a[w])-w,C>=(S=n-S))return Tr(e,t,C,E)}}}return[[Sr,e],[Nr,t]]}(e,t)}(e=e.substring(0,e.length-s),t=t.substring(0,t.length-s));return r&&l.unshift([vr,r]),a&&l.push([vr,a]),function e(t,n){t.push([vr,""]);for(var i,o=0,s=0,r=0,a="",l="";o<t.length;)if(o<t.length-1&&!t[o][1])t.splice(o,1);else switch(t[o][0]){case Nr:r++,l+=t[o][1],o++;break;case Sr:s++,a+=t[o][1],o++;break;case vr:var h=o-r-s-1;if(n){if(h>=0&&Rr(t[h][1])){var c=t[h][1].slice(-1);if(t[h][1]=t[h][1].slice(0,-1),a=c+a,l=c+l,!t[h][1]){t.splice(h,1),o--;var u=h-1;t[u]&&t[u][0]===Nr&&(r++,l=t[u][1]+l,u--),t[u]&&t[u][0]===Sr&&(s++,a=t[u][1]+a,u--),h=u}}Or(t[o][1])&&(c=t[o][1].charAt(0),t[o][1]=t[o][1].slice(1),a+=c,l+=c)}if(o<t.length-1&&!t[o][1]){t.splice(o,1);break}if(a.length>0||l.length>0){a.length>0&&l.length>0&&(0!==(i=xr(l,a))&&(h>=0?t[h][1]+=l.substring(0,i):(t.splice(0,0,[vr,l.substring(0,i)]),o++),l=l.substring(i),a=a.substring(i)),0!==(i=Ir(l,a))&&(t[o][1]=l.substring(l.length-i)+t[o][1],l=l.substring(0,l.length-i),a=a.substring(0,a.length-i)));var d=r+s;0===a.length&&0===l.length?(t.splice(o-d,d),o-=d):0===a.length?(t.splice(o-d,d,[Nr,l]),o=o-d+1):0===l.length?(t.splice(o-d,d,[Sr,a]),o=o-d+1):(t.splice(o-d,d,[Sr,a],[Nr,l]),o=o-d+2)}0!==o&&t[o-1][0]===vr?(t[o-1][1]+=t[o][1],t.splice(o,1)):o++,r=0,s=0,a="",l=""}""===t[t.length-1][1]&&t.pop();var p=!1;for(o=1;o<t.length-1;)t[o-1][0]===vr&&t[o+1][0]===vr&&(t[o][1].substring(t[o][1].length-t[o-1][1].length)===t[o-1][1]?(t[o][1]=t[o-1][1]+t[o][1].substring(0,t[o][1].length-t[o-1][1].length),t[o+1][1]=t[o-1][1]+t[o+1][1],t.splice(o-1,1),p=!0):t[o][1].substring(0,t[o+1][1].length)==t[o+1][1]&&(t[o-1][1]+=t[o+1][1],t[o][1]=t[o][1].substring(t[o+1][1].length)+t[o+1][1],t.splice(o+1,1),p=!0)),o++;p&&e(t,n)}(l,i),l}function Tr(e,t,n,i){var o=e.substring(0,n),s=t.substring(0,i),r=e.substring(n),a=t.substring(i),l=Cr(o,s),h=Cr(r,a);return l.concat(h)}function xr(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),o=i,s=0;n<o;)e.substring(s,o)==t.substring(s,o)?s=n=o:i=o,o=Math.floor((i-n)/2+n);return Pr(e.charCodeAt(o-1))&&o--,o}function Ir(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,i=Math.min(e.length,t.length),o=i,s=0;n<o;)e.substring(e.length-o,e.length-s)==t.substring(t.length-o,t.length-s)?s=n=o:i=o,o=Math.floor((i-n)/2+n);return Ar(e.charCodeAt(e.length-o))&&o--,o}function Pr(e){return e>=55296&&e<=56319}function Ar(e){return e>=56320&&e<=57343}function Or(e){return Ar(e.charCodeAt(0))}function Rr(e){return Pr(e.charCodeAt(e.length-1))}function kr(e,t,n,i){return Rr(e)||Or(i)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[vr,e],[Sr,t],[Nr,n],[vr,i]])}function Lr(e,t,n){return Cr(e,t,n,!0)}Lr.INSERT=Nr,Lr.DELETE=Sr,Lr.EQUAL=vr;var Fr,Dr,_r,Br,Mr,Ur,zr=Lr;function Vr(e){return e.reduce((e,t)=>t[0]===zr.DELETE?e:e+t[1],"")}function Hr(e,t){return Gr(e,t,-1)}function Gr(e,t,n){let i=0,o=0;return e.some(e=>{for(let s=0;s<e[1].length;s++){switch(e[0]*n){case zr.INSERT:i++;break;case zr.DELETE:i--,o++;break;case zr.EQUAL:o++}if(o>t)return!0}return!1}),Math.max(Math.min(t,o-1)+i,0)}!function(e){e.isInstanceOfBlockFormattingContext=function(e){return e&&"Block"===e.formattingContextType}}(Fr||(Fr={})),function(e){let t;!function(e){e.INLINE="inline",e.COLUMN="column",e.REGION="region",e.PAGE="page"}(t=e.FloatReference||(e.FloatReference={}))}(Dr||(Dr={})),function(e){e.isInstanceOfAfterIfContinuesLayoutConstraint=function(e){return e&&"AfterIfContinue"==e.flagmentLayoutConstraintType}}(_r||(_r={})),function(e){e.isInstanceOfRepetitiveElementsOwnerFormattingContext=function(e){return!!e&&("RepetitiveElementsOwner"===e.formattingContextType||Mr.isInstanceOfTableFormattingContext(e))},e.isInstanceOfRepetitiveElementsOwnerLayoutConstraint=function(e){return!!e&&("RepetitiveElementsOwner"===e.flagmentLayoutConstraintType||Mr.isInstanceOfTableRowLayoutConstraint(e))}}(Br||(Br={})),function(e){e.isInstanceOfTableFormattingContext=function(e){return e&&"Table"===e.formattingContextType},e.isInstanceOfTableRowLayoutConstraint=function(e){return e&&"TableRow"===e.flagmentLayoutConstraintType}}(Mr||(Mr={})),function(e){let t,n;!function(e){e[e.IGNORE=0]="IGNORE",e[e.NEWLINE=1]="NEWLINE",e[e.PRESERVE=2]="PRESERVE"}(t=e.Whitespace||(e.Whitespace={})),function(e){e[e.NONE=0]="NONE",e[e.CONTENT=1]="CONTENT",e[e.ROOTLESS=2]="ROOTLESS",e[e.ROOTED=3]="ROOTED"}(n=e.ShadowType||(e.ShadowType={}))}(Ur||(Ur={}));const $r={transform:!0,"transform-origin":!0},Wr={top:!0,bottom:!0,left:!0,right:!0};class Xr{constructor(e,t,n){this.target=e,this.name=t,this.value=n}}const jr={show:function(e){e.style.visibility="visible"},hide:function(e){e.style.visibility="hidden"},play:function(e){e.currentTime=0,e.play()},pause:function(e){e.pause()},resume:function(e){e.play()},mute:function(e){e.muted=!0},unmute:function(e){e.muted=!1}};function Kr(e,t){const n=jr[t];return n?()=>{for(let t=0;t<e.length;t++)try{n(e[t])}catch(e){}}:null}class Yr extends te{constructor(e,t){super(),this.container=e,this.bleedBox=t,this.pageAreaElement=null,this.delayedItems=[],this.elementsById={},this.dimensions={width:0,height:0},this.isFirstPage=!1,this.isLastPage=!1,this.isAutoPageWidth=!0,this.isAutoPageHeight=!0,this.spineIndex=0,this.position=null,this.offset=-1,this.side=null,this.fetchers=[],this.marginBoxes={top:{},bottom:{},left:{},right:{}};const n=this;this.hrefHandler=e=>{const t=e.currentTarget,i=t.getAttribute("href")||t.getAttributeNS(k.XLINK,"href");if(i){const o={type:"hyperlink",target:null,currentTarget:null,anchorElement:t,href:i,preventDefault(){e.preventDefault()}};n.dispatchEvent(o)}}}setAutoPageWidth(e){this.isAutoPageWidth=e,e?this.container.setAttribute(Yr.AUTO_PAGE_WIDTH_ATTRIBUTE,"true"):this.container.removeAttribute(Yr.AUTO_PAGE_WIDTH_ATTRIBUTE)}setAutoPageHeight(e){this.isAutoPageHeight=e,e?this.container.setAttribute(Yr.AUTO_PAGE_HEIGHT_ATTRIBUTE,"true"):this.container.removeAttribute(Yr.AUTO_PAGE_HEIGHT_ATTRIBUTE)}registerElementWithId(e,t){const n=this.elementsById[t];n?n.push(e):this.elementsById[t]=[e]}finish(e,t){Object.keys(this.elementsById).forEach(e=>{const t=this.elementsById[e];for(let e=0;e<t.length;)this.container.contains(t[e])?e++:t.splice(e,1);0===t.length&&delete this.elementsById[e]});const n=this.delayedItems;for(let e=0;e<n.length;e++){const t=n[e];(t.target!==this.container||"transform"!==t.name||this.isAutoPageWidth||this.isAutoPageHeight)&&U(t.target,t.name,t.value.toString())}const i=t.getElementClientRect(this.container);this.dimensions.width=i.width,this.dimensions.height=i.height;for(let t=0;t<e.length;t++){const n=e[t],i=this.elementsById[n.ref],o=this.elementsById[n.observer];if(i&&o){const e=Kr(i,n.action);if(e)for(let t=0;t<o.length;t++)o[t].addEventListener(n.event,e,!1)}}}zoom(e){U(this.container,"transform",`scale(${e})`)}getPageAreaElement(){return this.pageAreaElement||this.container}}Yr.AUTO_PAGE_WIDTH_ATTRIBUTE="data-vivliostyle-auto-page-width",Yr.AUTO_PAGE_HEIGHT_ATTRIBUTE="data-vivliostyle-auto-page-height";const qr="data-adapt-spec",Zr=Ur.Whitespace;function Qr(e){switch(e){case"normal":case"nowrap":return Zr.IGNORE;case"pre-line":return Zr.NEWLINE;case"pre":case"pre-wrap":return Zr.PRESERVE;default:return null}}function Jr(e,t){if(1==e.nodeType)return!1;const n=e.textContent;switch(t){case Zr.IGNORE:return!!n.match(/^\s*$/);case Zr.NEWLINE:return!!n.match(/^[ \t\f]*$/);case Zr.PRESERVE:return 0==n.length}throw new Error(`Unexpected whitespace: ${t}`)}class ea{constructor(e,t){this.flowName=e,this.parentFlowName=t,this.forcedBreakOffsets=[],this.formattingContext=null}}class ta{constructor(e,t,n,i,o,s,r,a,l){this.flowName=e,this.element=t,this.startOffset=n,this.priority=i,this.linger=o,this.exclusive=s,this.repeated=r,this.last=a,this.breakBefore=l,this.startPage=-1}isBetter(e){return!!this.exclusive&&(!e.exclusive||this.priority>e.priority||this.last)}}function na(e,t){return e.top-t.top}function ia(e,t){return t.right-e.right}function oa(e,t){return e===t||!(!e||!t)&&e.node===t.node&&e.shadowType===t.shadowType&&ca(e.shadowContext,t.shadowContext)&&ca(e.nodeShadow,t.nodeShadow)&&oa(e.shadowSibling,t.shadowSibling)}function sa(e,t){if(e===t)return!0;if(!e||!t)return!1;if(e.offsetInNode!==t.offsetInNode||e.after!==t.after||e.steps.length!==t.steps.length)return!1;for(let n=0;n<e.steps.length;n++)if(!oa(e.steps[n],t.steps[n]))return!1;return!0}function ra(e,t){return{steps:[{node:e.sourceNode,shadowType:la.NONE,shadowContext:e.shadowContext,nodeShadow:null,shadowSibling:null,formattingContext:null,fragmentIndex:null!=t?t:e.fragmentIndex}],offsetInNode:0,after:!1,preprocessedTextContent:e.preprocessedTextContent}}function aa(e,t){const n=new da(e.node,t,0);return n.shadowType=e.shadowType,n.shadowContext=e.shadowContext,n.nodeShadow=e.nodeShadow,n.shadowSibling=e.shadowSibling?aa(e.shadowSibling,t.copy()):null,n.formattingContext=e.formattingContext,n.fragmentIndex=e.fragmentIndex+1,n}const la=Ur.ShadowType;class ha{constructor(e,t,n,i,o,s,r){this.owner=e,this.root=t,this.xmldoc=n,this.parentShadow=i,this.type=s,this.styler=r,this.subShadow=null,o&&(o.subShadow=this)}equals(e){return!!e&&this.owner===e.owner&&this.xmldoc===e.xmldoc&&this.type===e.type&&ca(this.parentShadow,e.parentShadow)}}function ca(e,t){return e===t||!!e&&!!t&&e.equals(t)}class ua{constructor(e,t){this.outer=e,this.count=t}}class da{constructor(e,t,n){this.sourceNode=e,this.parent=t,this.boxOffset=n,this.offsetInNode=0,this.after=!1,this.nodeShadow=null,this.shadowSibling=null,this.shared=!1,this.inline=!0,this.overflow=!1,this.display=null,this.floatSide=null,this.clearSide=null,this.floatMinWrapBlock=null,this.columnSpan=null,this.verticalAlign="baseline",this.captionSide="top",this.inlineBorderSpacing=0,this.blockBorderSpacing=0,this.flexContainer=!1,this.establishesBFC=!1,this.containingBlockForAbsolute=!1,this.breakBefore=null,this.breakAfter=null,this.viewNode=null,this.clearSpacer=null,this.lang=null,this.preprocessedTextContent=null,this.repeatOnBreak=null,this.pluginProps={},this.fragmentIndex=1,this.afterIfContinues=null,this.footnotePolicy=null,this.shadowType=la.NONE,this.shadowContext=t?t.shadowContext:null,this.breakPenalty=t?t.breakPenalty:0,this.floatReference=Dr.FloatReference.INLINE,this.whitespace=t?t.whitespace:Zr.IGNORE,this.hyphenateCharacter=t?t.hyphenateCharacter:null,this.breakWord=!!t&&t.breakWord,this.inheritedProps=t?t.inheritedProps:{},this.vertical=!!t&&t.vertical,this.direction=t?t.direction:"ltr",this.firstPseudo=t?t.firstPseudo:null,this.formattingContext=t?t.formattingContext:null}resetView(){this.inline=!0,this.breakPenalty=this.parent?this.parent.breakPenalty:0,this.viewNode=null,this.clearSpacer=null,this.offsetInNode=0,this.after=!1,this.display=null,this.floatReference=Dr.FloatReference.INLINE,this.floatSide=null,this.clearSide=null,this.floatMinWrapBlock=null,this.columnSpan=null,this.verticalAlign="baseline",this.flexContainer=!1,this.whitespace=this.parent?this.parent.whitespace:Zr.IGNORE,this.hyphenateCharacter=this.parent?this.parent.hyphenateCharacter:null,this.breakWord=!!this.parent&&this.parent.breakWord,this.breakBefore=null,this.breakAfter=null,this.nodeShadow=null,this.establishesBFC=!1,this.containingBlockForAbsolute=!1,this.vertical=!!this.parent&&this.parent.vertical,this.nodeShadow=null,this.preprocessedTextContent=null,this.formattingContext=this.parent?this.parent.formattingContext:null,this.repeatOnBreak=null,this.pluginProps={},this.fragmentIndex=1,this.afterIfContinues=null,this.footnotePolicy=null}cloneItem(){const e=new da(this.sourceNode,this.parent,this.boxOffset);return e.offsetInNode=this.offsetInNode,e.after=this.after,e.nodeShadow=this.nodeShadow,e.shadowType=this.shadowType,e.shadowContext=this.shadowContext,e.shadowSibling=this.shadowSibling,e.inline=this.inline,e.breakPenalty=this.breakPenalty,e.display=this.display,e.floatReference=this.floatReference,e.floatSide=this.floatSide,e.clearSide=this.clearSide,e.floatMinWrapBlock=this.floatMinWrapBlock,e.columnSpan=this.columnSpan,e.verticalAlign=this.verticalAlign,e.captionSide=this.captionSide,e.inlineBorderSpacing=this.inlineBorderSpacing,e.blockBorderSpacing=this.blockBorderSpacing,e.establishesBFC=this.establishesBFC,e.containingBlockForAbsolute=this.containingBlockForAbsolute,e.flexContainer=this.flexContainer,e.whitespace=this.whitespace,e.hyphenateCharacter=this.hyphenateCharacter,e.breakWord=this.breakWord,e.breakBefore=this.breakBefore,e.breakAfter=this.breakAfter,e.viewNode=this.viewNode,e.clearSpacer=this.clearSpacer,e.firstPseudo=this.firstPseudo,e.vertical=this.vertical,e.overflow=this.overflow,e.preprocessedTextContent=this.preprocessedTextContent,e.formattingContext=this.formattingContext,e.repeatOnBreak=this.repeatOnBreak,e.pluginProps=Object.create(this.pluginProps),e.fragmentIndex=this.fragmentIndex,e.afterIfContinues=this.afterIfContinues,e.footnotePolicy=this.footnotePolicy,e}modify(){return this.shared?this.cloneItem():this}copy(){let e=this;do{if(e.shared)break;e.shared=!0,e=e.parent}while(e);return this}clone(){const e=this.cloneItem();let t,n=e;for(;null!=(t=n.parent);)t=t.cloneItem(),n.parent=t,n=t;return e}toNodePositionStep(){return{node:this.sourceNode,shadowType:this.shadowType,shadowContext:this.shadowContext,nodeShadow:this.nodeShadow,shadowSibling:this.shadowSibling?this.shadowSibling.toNodePositionStep():null,formattingContext:this.formattingContext,fragmentIndex:this.fragmentIndex}}toNodePosition(){let e=this;const t=[];do{e.firstPseudo&&e.parent&&e.parent.firstPseudo!==e.firstPseudo||t.push(e.toNodePositionStep()),e=e.parent}while(e);return{steps:t,offsetInNode:this.preprocessedTextContent?Hr(this.preprocessedTextContent,this.offsetInNode):this.offsetInNode,after:this.after,preprocessedTextContent:this.preprocessedTextContent}}isInsideBFC(){let e=this.parent;for(;e;){if(e.establishesBFC)return!0;e=e.parent}return!1}getContainingBlockForAbsolute(){let e=this.parent;for(;e;){if(e.containingBlockForAbsolute)return e;e=e.parent}return null}walkUpBlocks(e){let t=this;for(;t;)t.inline||e(t),t=t.parent}belongsTo(e){return this.formattingContext===e&&!!this.parent&&this.parent.formattingContext===e}}class pa{constructor(e){this.primary=e,this.floats=null}clone(){const e=new pa(this.primary);if(this.floats){e.floats=[];for(let t=0;t<this.floats.length;++t)e.floats[t]=this.floats[t]}return e}isSamePosition(e){if(!e)return!1;if(this===e)return!0;if(!sa(this.primary,e.primary))return!1;if(this.floats){if(!e.floats||this.floats.length!==e.floats.length)return!1;for(let t=0;t<this.floats.length;t++)if(!sa(this.floats[t],e.floats[t]))return!1}else if(e.floats)return!1;return!0}}class fa{constructor(e,t){this.chunkPosition=e,this.flowChunk=t}clone(){return new fa(this.chunkPosition.clone(),this.flowChunk)}isSamePosition(e){return!!e&&(this===e||this.chunkPosition.isSamePosition(e.chunkPosition))}}class ga{constructor(){this.positions=[],this.startSide="any",this.breakAfter=null}clone(){const e=new ga,t=this.positions,n=e.positions;for(let e=0;e<t.length;e++)n[e]=t[e].clone();return e.startSide=this.startSide,e.breakAfter=this.breakAfter,e}isSamePosition(e){if(this===e)return!0;if(!e||this.positions.length!==e.positions.length)return!1;for(let t=0;t<this.positions.length;t++)if(!this.positions[t].isSamePosition(e.positions[t]))return!1;return!0}hasContent(e){return this.positions.length>0&&this.positions[0].flowChunk.startOffset<=e}}class ma{constructor(){this.page=0,this.flows={},this.flowPositions={},this.highestSeenOffset=0}clone(){const e=new ma;e.page=this.page,e.highestSeenNode=this.highestSeenNode,e.highestSeenOffset=this.highestSeenOffset,e.lookupPositionOffset=this.lookupPositionOffset,e.flows=this.flows;for(const t in this.flowPositions)e.flowPositions[t]=this.flowPositions[t].clone();return e}isSamePosition(e){if(this===e)return!0;if(!e||this.page!==e.page||this.highestSeenOffset!==e.highestSeenOffset)return!1;const t=Object.keys(this.flowPositions),n=Object.keys(e.flowPositions);if(t.length!==n.length)return!1;for(const n of t)if(!this.flowPositions[n].isSamePosition(e.flowPositions[n]))return!1;return!0}hasContent(e,t){const n=this.flowPositions[e];return!!n&&n.hasContent(t)}startSideOfFlow(e){const t=this.flowPositions[e];return t?t.startSide:"any"}firstFlowChunkOfFlow(e){const t=this.flowPositions[e];if(!t)return null;const n=t.positions[0];return n?n.flowChunk:null}}class ba{constructor(e){this.element=e,this.left=0,this.top=0,this.marginLeft=0,this.marginRight=0,this.marginTop=0,this.marginBottom=0,this.borderLeft=0,this.borderRight=0,this.borderTop=0,this.borderBottom=0,this.paddingLeft=0,this.paddingRight=0,this.paddingTop=0,this.paddingBottom=0,this.width=0,this.height=0,this.originX=0,this.originY=0,this.exclusions=null,this.innerShape=null,this.computedBlockSize=0,this.snapWidth=0,this.snapHeight=0,this.snapOffsetX=0,this.snapOffsetY=0,this.vertical=!1}getInsetTop(){return this.marginTop+this.borderTop+this.paddingTop}getInsetBottom(){return this.marginBottom+this.borderBottom+this.paddingBottom}getInsetLeft(){return this.marginLeft+this.borderLeft+this.paddingLeft}getInsetRight(){return this.marginRight+this.borderRight+this.paddingRight}getInsetBefore(){return this.vertical?this.getInsetRight():this.getInsetTop()}getInsetAfter(){return this.vertical?this.getInsetLeft():this.getInsetBottom()}getInsetStart(){return this.vertical?this.getInsetTop():this.getInsetLeft()}getInsetEnd(){return this.vertical?this.getInsetBottom():this.getInsetRight()}getBeforeEdge(e){return this.vertical?e.right:e.top}getAfterEdge(e){return this.vertical?e.left:e.bottom}getStartEdge(e){return this.vertical?e.top:e.left}getEndEdge(e){return this.vertical?e.bottom:e.right}getInlineSize(e){return this.vertical?e.bottom-e.top:e.right-e.left}getBoxSize(e){return this.vertical?e.right-e.left:e.bottom-e.top}getBoxDir(){return this.vertical?-1:1}getInlineDir(){return 1}copyFrom(e){this.element=e.element,this.left=e.left,this.top=e.top,this.marginLeft=e.marginLeft,this.marginRight=e.marginRight,this.marginTop=e.marginTop,this.marginBottom=e.marginBottom,this.borderLeft=e.borderLeft,this.borderRight=e.borderRight,this.borderTop=e.borderTop,this.borderBottom=e.borderBottom,this.paddingLeft=e.paddingLeft,this.paddingRight=e.paddingRight,this.paddingTop=e.paddingTop,this.paddingBottom=e.paddingBottom,this.width=e.width,this.height=e.height,this.originX=e.originX,this.originY=e.originY,this.innerShape=e.innerShape,this.exclusions=e.exclusions,this.computedBlockSize=e.computedBlockSize,this.snapWidth=e.snapWidth,this.snapHeight=e.snapHeight,this.vertical=e.vertical}setVerticalPosition(e,t){this.top=e,this.height=t,U(this.element,"top",`${e}px`),U(this.element,"height",`${t}px`)}setHorizontalPosition(e,t){this.left=e,this.width=t,U(this.element,"left",`${e}px`),U(this.element,"width",`${t}px`)}setBlockPosition(e,t){this.vertical?this.setHorizontalPosition(e+t*this.getBoxDir(),t):this.setVerticalPosition(e,t)}setInlinePosition(e,t){this.vertical?this.setVerticalPosition(e,t):this.setHorizontalPosition(e,t)}clear(){const e=this.element;let t;for(;t=e.lastChild;)e.removeChild(t)}getInnerShape(){const e=this.getInnerRect();return this.innerShape?this.innerShape.withOffset(e.x1,e.y1):Qt(e.x1,e.y1,e.x2,e.y2)}getInnerRect(){const e=this.originX+this.left+this.getInsetLeft(),t=this.originY+this.top+this.getInsetTop();return new $t(e,t,e+this.width,t+this.height)}getPaddingRect(){const e=this.originX+this.left+this.marginLeft+this.borderLeft,t=this.originY+this.top+this.marginTop+this.borderTop,n=this.paddingLeft+this.width+this.paddingRight,i=this.paddingTop+this.height+this.paddingBottom;return new $t(e,t,e+n,t+i)}getOuterShape(e,t){const n=this.getOuterRect();return bn(e,n.x1,n.y1,n.x2-n.x1,n.y2-n.y1,t)}getOuterRect(){const e=this.originX+this.left,t=this.originY+this.top,n=this.getInsetLeft()+this.width+this.getInsetRight(),i=this.getInsetTop()+this.height+this.getInsetBottom();return new $t(e,t,e+n,t+i)}}class wa extends ft{constructor(e,t,n,i){super(),this.elem=e,this.context=t,this.rootContentValue=n,this.exprContentListener=i}visitStrInner(e,t){t||(t=this.elem.ownerDocument.createTextNode(e)),this.elem.appendChild(t)}visitStr(e){return this.visitStrInner(e.str),null}visitURL(e){if(this.rootContentValue.url)this.elem.setAttribute("src",e.url);else{const t=this.elem.ownerDocument.createElementNS(k.XHTML,"img");t.setAttribute("src",e.url),this.elem.appendChild(t)}return null}visitSpaceList(e){return this.visitValues(e.values),null}visitExpr(e){const t=e.toExpr();let n=t.evaluate(this.context);if("string"==typeof n){t instanceof tt&&(n=mo(t.scope,new hi(n,null),"").stringValue()),this.elem.ownerDocument;const e=this.exprContentListener(t,n,this.elem.ownerDocument);this.visitStrInner(n,e)}return null}}function Ea(e){return null!=e&&e!==Bt.normal&&e!==Bt.none&&e!==Bt.inherit}const ya=Dr.FloatReference;function Sa(e){switch(e){case ya.INLINE:return!1;case ya.COLUMN:case ya.REGION:case ya.PAGE:return!0;default:throw new Error(`Unknown float-reference: ${e}`)}}class Na{constructor(e,t,n,i,o,s){this.nodePosition=e,this.floatReference=t,this.floatSide=n,this.clearSide=i,this.flowName=o,this.floatMinWrapBlock=s,this.order=null,this.id=null}getOrder(){if(null===this.order)throw new Error("The page float is not yet added");return this.order}getId(){if(!this.id)throw new Error("The page float is not yet added");return this.id}isAllowedOnContext(e){return e.isAnchorAlreadyAppeared(this.getId())}isAllowedToPrecede(e){return!1}}class va{constructor(){this.floats=[],this.nextPageFloatIndex=0}nextOrder(){return this.nextPageFloatIndex++}createPageFloatId(e){return`pf${e}`}addPageFloat(e){if(this.floats.findIndex(t=>sa(t.nodePosition,e.nodePosition))>=0)throw new Error("A page float with the same source node is already registered");{const t=e.order=this.nextOrder();e.id=this.createPageFloatId(t),this.floats.push(e)}}findPageFloatByNodePosition(e){const t=this.floats.findIndex(t=>sa(t.nodePosition,e));return t>=0?this.floats[t]:null}findPageFloatById(e){const t=this.floats.findIndex(t=>t.id===e);return t>=0?this.floats[t]:null}}class Ca{constructor(e,t,n,i,o){this.floatReference=e,this.floatSide=t,this.continuations=n,this.area=i,this.continues=o}hasFloat(e){return this.continuations.some(t=>t.float===e)}findNotAllowedFloat(e){for(let t=this.continuations.length-1;t>=0;t--){const n=this.continuations[t].float;if(!n.isAllowedOnContext(e))return n}return null}getOuterShape(){return this.area.getOuterShape(null,null)}getOuterRect(){return this.area.getOuterRect()}getOrder(){const e=this.continuations.map(e=>e.float);return Math.min.apply(null,e.map(e=>e.getOrder()))}shouldBeStashedBefore(e){return this.getOrder()<e.getOrder()}addContinuations(e){e.forEach(e=>{this.continuations.push(e)})}getFlowName(){const e=this.continuations[0].float.flowName;return this.continuations.every(t=>t.float.flowName===e),e}}class Ta{constructor(e,t){this.float=e,this.nodePosition=t}equals(e){return!!e&&(this===e||this.float===e.float&&sa(this.nodePosition,e.nodePosition))}}class xa{constructor(e,t,n,i,o,s,r){this.parent=e,this.floatReference=t,this.container=n,this.flowName=i,this.generatingNodePosition=o,this.children=[],this.invalidated=!1,this.forbiddenFloats=[],this.floatFragments=[],this.stashedFloatFragments=[],this.floatAnchors={},this.floatsDeferredToNext=[],this.layoutConstraints=[],this.locked=!1,e&&e.children.push(this),this.writingMode=s||e&&e.writingMode||Bt.horizontal_tb,this.direction=r||e&&e.direction||Bt.ltr,this.floatStore=e?e.floatStore:new va;const a=this.getPreviousSibling();this.floatsDeferredFromPrevious=a?[].concat(a.floatsDeferredToNext):[]}getParent(e){if(!this.parent)throw new Error(`No PageFloatLayoutContext for ${e}`);return this.parent}getPreviousSiblingOf(e,t,n,i){let o=this.children.indexOf(e);o<0&&(o=this.children.length);for(let e=o-1;e>=0;e--){let o=this.children[e];if(o.floatReference===t&&o.flowName===n&&sa(o.generatingNodePosition,i))return o;if(o=o.getPreviousSiblingOf(null,t,n,i),o)return o}return null}getPreviousSibling(){let e,t=this,n=this.parent;for(;n;){if(e=n.getPreviousSiblingOf(t,this.floatReference,this.flowName,this.generatingNodePosition),e)return e;t=n,n=n.parent}return null}getContainer(e){return e&&e!==this.floatReference?this.getParent(e).getContainer(e):this.container}setContainer(e){this.container=e,this.reattachFloatFragments()}addPageFloat(e){this.floatStore.addPageFloat(e)}getPageFloatLayoutContext(e){return e===this.floatReference?this:this.getParent(e).getPageFloatLayoutContext(e)}findPageFloatByNodePosition(e){return this.floatStore.findPageFloatByNodePosition(e)}forbid(e){const t=e.getId(),n=e.floatReference;n===this.floatReference?this.forbiddenFloats.includes(t)||(this.forbiddenFloats.push(t),(new Pa).findByFloat(e).forbid(e,this)):this.getParent(n).forbid(e)}isForbidden(e){const t=e.getId(),n=e.floatReference;return n===this.floatReference?this.forbiddenFloats.includes(t):this.getParent(n).isForbidden(e)}addPageFloatFragment(e,t){const n=e.floatReference;n!==this.floatReference?this.getParent(n).addPageFloatFragment(e,t):this.floatFragments.includes(e)||(this.floatFragments.push(e),this.floatFragments.sort((e,t)=>e.getOrder()-t.getOrder())),t||this.invalidate()}removePageFloatFragment(e,t){const n=e.floatReference;if(n!==this.floatReference)this.getParent(n).removePageFloatFragment(e,t);else{const n=this.floatFragments.indexOf(e);if(n>=0){const e=this.floatFragments.splice(n,1)[0],i=e.area&&e.area.element;i&&i.parentNode&&i.parentNode.removeChild(i),t||this.invalidate()}}}findPageFloatFragment(e){if(e.floatReference!==this.floatReference)return this.getParent(e.floatReference).findPageFloatFragment(e);const t=this.floatFragments.findIndex(t=>t.hasFloat(e));return t>=0?this.floatFragments[t]:null}hasFloatFragments(e){return!(!(this.floatFragments.length>0)||e&&!this.floatFragments.some(e))||!!this.parent&&this.parent.hasFloatFragments(e)}hasContinuingFloatFragmentsInFlow(e){return this.hasFloatFragments(t=>t.continues&&t.getFlowName()===e)}registerPageFloatAnchor(e,t){this.floatAnchors[e.getId()]=t}collectPageFloatAnchors(){const e=Object.assign({},this.floatAnchors);return this.children.reduce((e,t)=>Object.assign(e,t.collectPageFloatAnchors()),e)}isAnchorAlreadyAppeared(e){if(this.getDeferredPageFloatContinuations().some(t=>t.float.getId()===e))return!0;const t=this.collectPageFloatAnchors()[e];return!!t&&!(!this.container||!this.container.element)&&this.container.element.contains(t)}deferPageFloat(e){const t=e.float;if(t.floatReference===this.floatReference){const n=this.floatsDeferredToNext.findIndex(e=>e.float===t);n>=0?this.floatsDeferredToNext.splice(n,1,e):this.floatsDeferredToNext.push(e)}else this.getParent(t.floatReference).deferPageFloat(e)}hasPrecedingFloatsDeferredToNext(e,t){if(!t&&e.floatReference!==this.floatReference)return this.getParent(e.floatReference).hasPrecedingFloatsDeferredToNext(e,!1);const n=e.getOrder();return!!this.floatsDeferredToNext.some(t=>t.float.getOrder()<n&&!e.isAllowedToPrecede(t.float))||!!this.parent&&this.parent.hasPrecedingFloatsDeferredToNext(e,!0)}getLastFollowingFloatInFragments(e){const t=e.getOrder();let n=null;if(this.floatFragments.forEach(e=>{e.continuations.forEach(e=>{const i=e.float,o=i.getOrder();o>t&&(!n||o>n.getOrder())&&(n=i)})}),this.parent){const t=this.parent.getLastFollowingFloatInFragments(e);t&&(!n||t.getOrder()>n.getOrder())&&(n=t)}return n}getDeferredPageFloatContinuations(e){e=e||this.flowName;let t=this.floatsDeferredFromPrevious.filter(t=>!e||t.float.flowName===e);return this.parent&&(t=this.parent.getDeferredPageFloatContinuations(e).concat(t)),t.sort((e,t)=>e.float.getOrder()-t.float.getOrder())}getPageFloatContinuationsDeferredToNext(e){e=e||this.flowName;const t=this.floatsDeferredToNext.filter(t=>!e||t.float.flowName===e);return this.parent?this.parent.getPageFloatContinuationsDeferredToNext(e).concat(t):t}getFloatsDeferredToNextInChildContexts(){let e=[];const t=[];for(let n=this.children.length-1;n>=0;n--){const i=this.children[n];t.includes(i.flowName)||(t.push(i.flowName),e=e.concat(i.floatsDeferredToNext.map(e=>e.float)),e=e.concat(i.getFloatsDeferredToNextInChildContexts()))}return e}checkAndForbidNotAllowedFloat(){if(this.checkAndForbidFloatFollowingDeferredFloat())return!0;for(let e=this.floatFragments.length-1;e>=0;e--){const t=this.floatFragments[e],n=t.findNotAllowedFloat(this);if(n)return this.locked?this.invalidate():(this.removePageFloatFragment(t),this.forbid(n),this.removeEndFloatFragments(t.floatSide)),!0}return!(this.floatReference!==ya.REGION||!this.parent.locked)&&this.parent.checkAndForbidNotAllowedFloat()}checkAndForbidFloatFollowingDeferredFloat(){const e=this.getFloatsDeferredToNextInChildContexts(),t=this.floatFragments.reduce((e,t)=>e.concat(t.continuations.map(e=>e.float)),[]);t.sort((e,t)=>t.getOrder()-e.getOrder());for(const n of t){const t=n.getOrder();if(e.some(e=>!n.isAllowedToPrecede(e)&&t>e.getOrder())){if(this.locked)this.invalidate();else{this.forbid(n);const e=this.findPageFloatFragment(n);this.removePageFloatFragment(e)}return!0}}return!1}finish(){if(!this.checkAndForbidNotAllowedFloat()){for(let e=this.floatsDeferredToNext.length-1;e>=0;e--)if(!this.floatsDeferredToNext[e].float.isAllowedOnContext(this)){if(this.locked)return void this.invalidate();this.floatsDeferredToNext.splice(e,1)}this.floatsDeferredFromPrevious.forEach(e=>{this.floatsDeferredToNext.findIndex(t=>e.equals(t))>=0||this.floatFragments.some(t=>t.hasFloat(e.float))||this.floatsDeferredToNext.push(e)})}}hasSameContainerAs(e){return!!this.container&&!!e.container&&this.container.element===e.container.element}invalidate(){this.invalidated=!0,this.locked||(this.container&&(this.children.forEach(e=>{this.hasSameContainerAs(e)&&e.floatFragments.forEach(e=>{const t=e.area.element;t&&t.parentNode&&t.parentNode.removeChild(t)})}),this.container.clear()),this.children.forEach(e=>{e.layoutConstraints.splice(0)}),this.children.splice(0),Object.keys(this.floatAnchors).forEach(e=>{delete this.floatAnchors[e]}))}detachChildren(){const e=this.children.splice(0);return e.forEach(e=>{e.floatFragments.forEach(e=>{const t=e.area.element;t&&t.parentNode&&t.parentNode.removeChild(t)})}),e}attachChildren(e){e.forEach(e=>{this.children.push(e),e.reattachFloatFragments()})}isInvalidated(){return this.invalidated||!!this.parent&&this.parent.isInvalidated()}validate(){this.invalidated=!1}toLogical(e){return function(e,t,n){return gr(e,t,n||null,wr)}(e,this.writingMode.toString(),this.direction.toString())}toPhysical(e){return function(e,t,n){return gr(e,t,n||null,br)}(e,this.writingMode.toString(),this.direction.toString())}removeEndFloatFragments(e){const t=this.toLogical(e);if("block-end"===t||"inline-end"===t){let e=0;for(;e<this.floatFragments.length;){const n=this.floatFragments[e];this.toLogical(n.floatSide)===t?this.removePageFloatFragment(n):e++}}}stashEndFloatFragments(e){const t=e.floatReference;if(t!==this.floatReference)return void this.getParent(t).stashEndFloatFragments(e);const n=this.toLogical(e.floatSide);if("block-end"===n||"snap-block"===n||"inline-end"===n){let t=0;for(;t<this.floatFragments.length;){const i=this.floatFragments[t],o=this.toLogical(i.floatSide);(o===n||"snap-block"===n&&"block-end"===o)&&i.shouldBeStashedBefore(e)?(this.stashedFloatFragments.push(i),this.floatFragments.splice(t,1)):t++}}}restoreStashedFragments(e){e===this.floatReference?(this.stashedFloatFragments.forEach(e=>{this.addPageFloatFragment(e,!0)}),this.stashedFloatFragments.splice(0)):this.getParent(e).restoreStashedFragments(e)}discardStashedFragments(e){e===this.floatReference?this.stashedFloatFragments.splice(0):this.getParent(e).discardStashedFragments(e)}getStashedFloatFragments(e){return e===this.floatReference?this.stashedFloatFragments.concat().sort((e,t)=>t.getOrder()-e.getOrder()):this.getParent(e).getStashedFloatFragments(e)}getLimitValue(e,t,n,i){this.container;const o=this.toLogical(e),s=this.toPhysical(e),r=this.getLimitValueInner(o,t,n,i);if(this.parent&&this.parent.container){const e=this.parent.getLimitValue(s,t,n,i);switch(s){case"top":case"left":return Math.max(r,e);case"bottom":case"right":return Math.min(r,e)}}return r}getLimitValueInner(e,t,n,i){this.container;const o=this.getLimitValuesInner(t,n,i);switch(e){case"block-start":return this.container.vertical?o.right:o.top;case"block-end":return this.container.vertical?o.left:o.bottom;case"inline-start":return this.container.vertical?o.top:o.left;case"inline-end":return this.container.vertical?o.bottom:o.right;default:throw new Error(`Unknown logical side: ${e}`)}}getLimitValuesInner(e,t,n){this.container;const i=this.container.originX,o=this.container.originY,s=this.container.getPaddingRect();let r={top:s.y1-o,left:s.x1-i,bottom:s.y2-o,right:s.x2-i,floatMinWrapBlockStart:0,floatMinWrapBlockEnd:0};function a(n,i,o){return"%"===n.unit?o*n.num/100:e.convertLengthToPx(n,i,t)}const l=this.floatFragments;return l.length>0&&(r=l.reduce((e,t)=>{if(n&&!n(t,this))return e;const i=this.toLogical(t.floatSide),o=t.area,r=t.continuations[0].float.floatMinWrapBlock;let l=e.top,h=e.left,c=e.bottom,u=e.right,d=e.floatMinWrapBlockStart,p=e.floatMinWrapBlockEnd;switch(i){case"inline-start":o.vertical?l=Math.max(l,o.top+o.height):h=Math.max(h,o.left+o.width);break;case"block-start":o.vertical?(r&&o.left<u&&(d=a(r,o.rootViewNodes[0],s.x2-s.x1)),u=Math.min(u,o.left)):(r&&o.top+o.height>l&&(d=a(r,o.rootViewNodes[0],s.y2-s.y1)),l=Math.max(l,o.top+o.height));break;case"inline-end":o.vertical?c=Math.min(c,o.top):u=Math.min(u,o.left);break;case"block-end":o.vertical?(r&&o.left+o.width>h&&(p=a(r,o.rootViewNodes[0],s.x2-s.x1)),h=Math.max(h,o.left+o.width)):(r&&o.top<c&&(p=a(r,o.rootViewNodes[0],s.y2-s.y1)),c=Math.min(c,o.top));break;default:throw new Error(`Unknown logical float side: ${i}`)}return{top:l,left:h,bottom:c,right:u,floatMinWrapBlockStart:d,floatMinWrapBlockEnd:p}},r)),r.left+=i,r.right+=i,r.top+=o,r.bottom+=o,r}setFloatAreaDimensions(e,t,n,i,o,s,r){if(t!==this.floatReference)return this.getParent(t).setFloatAreaDimensions(e,t,n,i,o,s,r);let a=this.toLogical(n);if("snap-block"===a){if(!r["block-start"]&&!r["block-end"])return null}else if(!r[a])return null;e.clientLayout;let l=this.getLimitValue("block-start",e.layoutContext,e.clientLayout),h=this.getLimitValue("block-end",e.layoutContext,e.clientLayout),c=this.getLimitValue("inline-start",e.layoutContext,e.clientLayout),u=this.getLimitValue("inline-end",e.layoutContext,e.clientLayout);const d=e.vertical?e.originX:e.originY,p=e.vertical?e.originY:e.originX;function f(t,n){let i=t(e.bands,n);return i?(e.vertical&&(i=an(i)),l=e.vertical?Math.min(l,i.x2):Math.max(l,i.y1),h=e.vertical?Math.max(h,i.x1):Math.min(h,i.y2),!0):s}let g,m,b,w;if(l=e.vertical?Math.min(l,e.left+e.getInsetLeft()+e.width+e.getInsetRight()+d):Math.max(l,e.top+d),h=e.vertical?Math.max(h,e.left+d):Math.min(h,e.top+e.getInsetTop()+e.height+e.getInsetBottom()+d),o){const t=e.vertical?rn(new $t(h,c,l,u)):new $t(c,l,u,h);if(("block-start"===a||"snap-block"===a||"inline-start"===a)&&!f(un,t))return null;if(("block-end"===a||"snap-block"===a||"inline-end"===a)&&!f(dn,t))return null;if(b=(h-l)*e.getBoxDir(),g=b-e.getInsetBefore()-e.getInsetAfter(),w=u-c,m=w-e.getInsetStart()-e.getInsetEnd(),!s&&(g<=0||m<=0))return null}else{g=e.computedBlockSize,b=g+e.getInsetBefore()+e.getInsetAfter();const t=(h-l)*e.getBoxDir();if("snap-block"===a){if(null===i)a="block-start";else{const e=this.container.getPaddingRect();a=this.container.getBoxDir()*(i-(this.container.vertical?e.x2:e.y1))<=this.container.getBoxDir()*((this.container.vertical?e.x1:e.y2)-i-b)?"block-start":"block-end"}if(!r[a]){if(!r["block-end"])return null;a="block-end"}}if(!s&&t<b)return null;m="inline-start"===a||"inline-end"===a?yr(e.clientLayout,e.element,[Er.FIT_CONTENT_INLINE_SIZE])[Er.FIT_CONTENT_INLINE_SIZE]:e.adjustContentRelativeSize?e.getContentInlineSize():e.vertical?e.height:e.width,w=m+e.getInsetStart()+e.getInsetEnd();const n=u-c;if(!s&&n<w)return null}switch(l-=d,h-=d,c-=p,u-=p,a){case"inline-start":case"block-start":case"snap-block":e.setInlinePosition(c,m),e.setBlockPosition(l,g);break;case"inline-end":case"block-end":e.setInlinePosition(u-w,m),e.setBlockPosition(h-b*e.getBoxDir(),g);break;default:throw new Error(`unknown float direction: ${n}`)}return a}getFloatFragmentExclusions(){const e=this.floatFragments.map(e=>e.getOuterShape());return this.parent?this.parent.getFloatFragmentExclusions().concat(e):e}reattachFloatFragments(){const e=this.container.element&&this.container.element.parentNode;e&&this.floatFragments.forEach(t=>{e.appendChild(t.area.element)})}getMaxReachedAfterEdge(){const e=this.getContainer().vertical;return this.floatFragments.reduce((t,n)=>{const i=n.getOuterRect();return e?Math.min(t,i.x1):Math.max(t,i.y2)},e?1/0:0)}getBlockStartEdgeOfBlockEndFloats(){const e=this.getContainer().vertical;return this.floatFragments.filter(e=>"block-end"===e.floatSide).reduce((t,n)=>{const i=n.getOuterRect();return e?Math.max(t,i.x2):Math.min(t,i.y1)},e?0:1/0)}getPageFloatClearEdge(e,t){function n(e){return t=>e.isAnchorAlreadyAppeared(t.float.getId())}function i(e,t){return e.continuations.some(n(t))}const o=t.getPaddingRect(),s=t.vertical?o.x1:o.y2;let r=this;for(;r;){if(r.floatsDeferredToNext.some(n(r)))return s;r=r.parent}t.clientLayout;const a=this.getLimitValue("block-start",t.layoutContext,t.clientLayout,i);return this.getLimitValue("block-end",t.layoutContext,t.clientLayout,i)*t.getBoxDir()<s*t.getBoxDir()?s:a}getPageFloatPlacementCondition(e,t,n){if(e.floatReference!==this.floatReference)return this.getParent(e.floatReference).getPageFloatPlacementCondition(e,t,n);const i={"block-start":!0,"block-end":!0,"inline-start":!0,"inline-end":!0};if(!n)return i;const o=this.toLogical(t),s=this.toLogical(n);let r;r="all"===s?["block-start","block-end","inline-start","inline-end"]:"both"===s?["inline-start","inline-end"]:"same"===s?"snap-block"===o?["block-start","block-end"]:[o]:[s];const a=e.getOrder();function l(e){return t=>t.floatSide===e&&t.getOrder()<a}return r.forEach(e=>{switch(e){case"block-start":case"inline-start":i[e]=!function e(t,n){return t.children.some(t=>t.floatFragments.some(l(n))||e(t,n))}(this,e);break;case"block-end":case"inline-end":i[e]=!function e(t,n){const i=t.parent;return!!i&&(i.floatFragments.some(l(n))||e(i,n))}(this,e);break;default:throw new Error(`Unexpected side: ${e}`)}}),i}getLayoutConstraints(){return(this.parent?this.parent.getLayoutConstraints():[]).concat(this.layoutConstraints)}addLayoutConstraint(e,t){t===this.floatReference?this.layoutConstraints.push(e):this.getParent(t).addLayoutConstraint(e,t)}isColumnFullWithPageFloats(e){const t=e.layoutContext,n=e.clientLayout;let i=this,o=null;for(;i&&i.container;){const s=i.getLimitValuesInner(t,n);o?e.vertical?(s.right<o.right&&(o.right=s.right,o.floatMinWrapBlockStart=s.floatMinWrapBlockStart),s.left>o.left&&(o.left=s.left,o.floatMinWrapBlockEnd=s.floatMinWrapBlockEnd)):(s.top>o.top&&(o.top=s.top,o.floatMinWrapBlockStart=s.floatMinWrapBlockStart),s.bottom<o.bottom&&(o.bottom=s.bottom,o.floatMinWrapBlockEnd=s.floatMinWrapBlockEnd)):o=s,i=i.parent}const s=Math.max(o.floatMinWrapBlockStart,o.floatMinWrapBlockEnd);return(e.vertical?o.right-o.left:o.bottom-o.top)<=s}getMaxBlockSizeOfPageFloats(){const e=this.getContainer().vertical;return this.floatFragments.length?Math.max.apply(null,this.floatFragments.map(t=>{const n=t.area;return e?n.width:n.height})):0}lock(){this.locked=!0}unlock(){this.locked=!1}isLocked(){return this.locked}}const Ia=[];class Pa{static register(e){Ia.push(e)}findByNodeContext(e){for(let t=Ia.length-1;t>=0;t--){const n=Ia[t];if(n.appliesToNodeContext(e))return n}throw new Error(`No PageFloatLayoutStrategy found for ${e}`)}findByFloat(e){for(let t=Ia.length-1;t>=0;t--){const n=Ia[t];if(n.appliesToFloat(e))return n}throw new Error(`No PageFloatLayoutStrategy found for ${e}`)}}Pa.register(new class{appliesToNodeContext(e){return Sa(e.floatReference)}appliesToFloat(e){return!0}createPageFloat(e,t,n){let i=e.floatReference;e.floatSide;const o=e.floatSide,s=e.toNodePosition();return n.resolveFloatReferenceFromColumnSpan(i,e.columnSpan,e).thenAsync(n=>{i=n,t.flowName;const r=new Na(s,i,o,e.clearSide,t.flowName,e.floatMinWrapBlock);return t.addPageFloat(r),fi(r)})}createPageFloatFragment(e,t,n,i){const o=e[0].float;return new Ca(o.floatReference,t,e,n,i)}findPageFloatFragment(e,t){return t.findPageFloatFragment(e)}adjustPageFloatArea(e,t,n){}forbid(e,t){}});const Aa=Ca;class Oa extends Na{constructor(e,t,n,i,o){super(e,t,"block-end",null,n,o),this.footnotePolicy=i}isAllowedToPrecede(e){return!(e instanceof Oa)}}class Ra extends Aa{constructor(e,t,n,i){super(e,"block-end",t,n,i)}getOrder(){return 1/0}shouldBeStashedBefore(e){return e instanceof Oa||this.getOrder()<e.getOrder()}}class ka{constructor(e){this.footnote=e}allowLayout(e){return!sa(e.toNodePosition(),this.footnote.nodePosition)}}Pa.register(new class{appliesToNodeContext(e){return"footnote"===e.floatSide}appliesToFloat(e){return e instanceof Oa}createPageFloat(e,t,n){let i=ya.REGION;const o=t.getPageFloatLayoutContext(i);t.getPageFloatLayoutContext(ya.PAGE).hasSameContainerAs(o)&&(i=ya.PAGE);const s=e.toNodePosition();t.flowName;const r=new Oa(s,i,t.flowName,e.footnotePolicy,e.floatMinWrapBlock);return t.addPageFloat(r),fi(r)}createPageFloatFragment(e,t,n,i){const o=e[0].float;return new Ra(o.floatReference,e,n,i)}findPageFloatFragment(e,t){const n=t.getPageFloatLayoutContext(e.floatReference).floatFragments.filter(e=>e instanceof Ra);return n.length,n[0]||null}adjustPageFloatArea(e,t,n){e.isFootnote=!0,e.adjustContentRelativeSize=!1;const i=e.element;e.vertical=n.layoutContext.applyFootnoteStyle(t.vertical,n.layoutContext.nodeContext&&"rtl"===n.layoutContext.nodeContext.direction,i),e.convertPercentageSizesToPx(i),n.setComputedInsets(i,e),n.setComputedWidthAndHeight(i,e)}forbid(e,t){const n=e;switch(n.footnotePolicy){case Bt.line:{const e=new ka(n);t.addLayoutConstraint(e,n.floatReference);break}}}});const La={page:!0,left:!0,right:!0,recto:!0,verso:!0,column:!0,region:!0};function Fa(e){return!!La[e]}const Da={avoid:!0,"avoid-page":!0,"avoid-column":!0,"avoid-region":!0};function _a(e){return!!Da[e]}function Ba(e,t){if(!e)return t;if(!t)return e;{const n=Fa(e),i=Fa(t);if(!n||!i)return i?t:n?e:_a(t)?t:_a(e)?e:t;switch(t){case"column":return e;case"region":return"column"===e?t:e;default:return t}}}function Ma(e){switch(e){case"left":case"right":case"recto":case"verso":return e;default:return"any"}}function Ua(e){switch(e){case"left":case"right":case"recto":case"verso":return e;default:return null}}function za(e,t,n,i){const o=e.viewNode;if(!o)return NaN;if(1==o.nodeType){if(e.after||!e.inline){const n=t.getElementClientRect(o);if(n.right>=n.left&&n.bottom>=n.top)return e.after?i?n.left:n.bottom:i?n.right:n.top}return NaN}{let s=NaN;const r=o.ownerDocument.createRange(),a=o.textContent.length;if(!a)return NaN;e.after&&(n+=a),n>=a&&(n=a-1),r.setStart(o,n),r.setEnd(o,n+1);let l=t.getRangeClientRects(r);i&&function(e){if(null==ne){const t=e.ownerDocument,n=t.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="100px",n.style.height="100px",n.style.overflow="hidden",n.style.lineHeight="16px",n.style.fontSize="16px",U(n,"writing-mode","vertical-rl"),e.appendChild(n);const i=t.createTextNode("a a a a a a a a a a a a a a a a");n.appendChild(i);const o=t.createRange();o.setStart(i,0),o.setEnd(i,1);const s=o.getBoundingClientRect();ne=s.right-s.left<10,e.removeChild(n)}return ne}(document.body)&&(l=function(e,t,n){const i=n.ownerDocument.createRange();i.setStart(n,0),i.setEnd(n,n.textContent.length);const o=e.getRangeClientRects(i),s=[];for(const e of t){let t;for(t=0;t<o.length;t++){const n=o[t];if(e.top>=n.top&&e.bottom<=n.bottom&&Math.abs(e.left-n.left)<1){s.push({top:e.top,left:n.left,bottom:e.bottom,right:n.right});break}}t==o.length&&(h.warn("Could not fix character box"),s.push(e))}return s}(t,l,o));let c=0;for(const e of l){const t=i?e.bottom-e.top:e.right-e.left;e.right>e.left&&e.bottom>e.top&&(isNaN(s)||t>c)&&(s=i?e.left:e.bottom,c=t)}return s}}function Va(e,t,n){const i=t.clientLayout.getElementClientRect(e),o=t.getComputedMargin(e);return n?i.width+o.left+o.right:i.height+o.top+o.bottom}function Ha(e){for(;e;){if(e.parentNode===e.ownerDocument)return!1;e=e.parentNode}return!0}function Ga(e,t){if(!e)return;let n;for(;(n=e.lastChild)!=t;)e.removeChild(n)}function $a(e){return!!e.getAttribute(qr)}function Wa(e){if(!e)return!1;const t=e.viewNode;return!(!t||1!==t.nodeType)&&$a(t)}u("SIMPLE_PROPERTY",(function(e){const t=e.name,n=e.value;switch(t){case"page-break-before":case"page-break-after":case"page-break-inside":return{name:t.replace(/^page-/,""),value:n===Bt.always?Bt.page:n,important:e.important};default:return e}}));class Xa{calculateOffset(e){return ja(this.getNodeContext(),e.collectElementsOffset())}breakPositionChosen(e){}getNodeContext(){return null}}function ja(e,t){return{current:t.reduce((t,n)=>t+n.calculateOffset(e),0),minimum:t.reduce((t,n)=>t+n.calculateMinimumOffset(e),0)}}class Ka extends Xa{constructor(e,t,n,i){super(),this.position=e,this.breakOnEdge=t,this.overflows=n,this.computedBlockSize=i,this.isEdgeUpdated=!1,this.edge=0,this.overflowIfRepetitiveElementsDropped=n}findAcceptableBreak(e,t){return this.updateOverflows(e),t<this.getMinBreakPenalty()?null:e.findEdgeBreakPosition(this)}getMinBreakPenalty(){if(!this.isEdgeUpdated)throw new Error("EdgeBreakPosition.prototype.updateEdge not called");const e=this.isFirstContentOfRepetitiveElementsOwner()&&!this.overflowIfRepetitiveElementsDropped;return(_a(this.breakOnEdge)?1:0)+(this.overflows&&!e?3:0)+(this.position.parent?this.position.parent.breakPenalty:0)}updateEdge(e){const t=e.calculateClonedPaddingBorder(this.position);this.edge=za(this.position,e.clientLayout,0,e.vertical)+t,this.isEdgeUpdated=!0}updateOverflows(e){this.isEdgeUpdated||this.updateEdge(e);const t=this.edge,n=this.calculateOffset(e);this.overflowIfRepetitiveElementsDropped=e.isOverflown(t+(e.vertical?-1:1)*n.minimum),this.overflows=this.position.overflow=e.isOverflown(t+(e.vertical?-1:1)*n.current)}getNodeContext(){return this.position}isFirstContentOfRepetitiveElementsOwner(){const e=this.getNodeContext();if(!e||!e.parent)return!1;const{formattingContext:t}=e.parent;if(!Br.isInstanceOfRepetitiveElementsOwnerFormattingContext(t))return!1;const n=t.getRepetitiveElements();return!!n&&n.isFirstContentNode(e)}}const Ya="data-vivliostyle-flow-root";function qa(e){const t=e.toString();let n;switch(t){case"inline-flex":n="flex";break;case"inline-grid":n="grid";break;case"inline-table":n="table";break;case"inline":case"table-row-group":case"table-column":case"table-column-group":case"table-header-group":case"table-footer-group":case"table-row":case"table-cell":case"table-caption":case"inline-block":n="block";break;default:n=t}return Ct(n)}function Za(e){return e===Bt.absolute||e===Bt.fixed}function Qa(e,t,n,i){return e===Bt.none||(Za(t)?(n=Bt.none,e=qa(e)):(n&&n!==Bt.none||i)&&(e=qa(e))),{display:e,position:t,float:n}}function Ja(e,t,n,i){return Qa(e,t,n,i).display===Bt.block}function el(e){switch(e.toString()){case"inline":case"inline-block":case"inline-list-item":case"inline-flex":case"inline-grid":case"ruby":case"inline-table":return!0;default:return!1}}class tl{find(e){const n=p(t.HOOKS.RESOLVE_LAYOUT_PROCESSOR);for(let t=0;t<n.length;t++){const i=n[t](e);if(i)return i}throw new Error(`No processor found for a formatting context: ${e.getName()}`)}}class nl{layout(e,t,n){return t.isFloatNodeContext(e)?t.layoutFloatOrFootnote(e):t.isBreakable(e)?t.layoutBreakableBlock(e):t.layoutUnbreakable(e)}createEdgeBreakPosition(e,t,n,i){return new Ka(e.copy(),t,n,i)}startNonInlineElementNode(e){return!1}afterNonInlineElementNode(e,t){return!1}clearOverflownViewNodes(e,t,n,i){if(!n.viewNode)return;if(!n.viewNode.parentNode)return;const o=n.viewNode.parentNode;Ga(o,n.viewNode),i&&o.removeChild(n.viewNode)}finishBreak(e,t,n,i){const o=n||null!=t.viewNode&&1==t.viewNode.nodeType&&!t.after;return e.clearOverflownViewNodes(t,o),i&&(e.fixJustificationIfNeeded(t,!0),e.layoutContext.processFragmentedBlockEdge(o?t:t.parent)),fi(!0)}}class il{constructor(e){this.parent=e,this.formattingContextType="Block"}getName(){return"Block formatting context (BlockFormattingContext)"}isFirstTime(e,t){return t}getParent(){return this.parent}saveState(){}restoreState(e){}}const ol=new nl,sl=Fr.isInstanceOfBlockFormattingContext;u(t.HOOKS.RESOLVE_FORMATTING_CONTEXT,(e,t,n,i,o,s)=>{const r=e.parent;return!r&&e.formattingContext?null:r&&e.formattingContext!==r.formattingContext?null:e.establishesBFC||!e.formattingContext&&Ja(n,i,o,s)?new il(r?r.formattingContext:null):null}),u(t.HOOKS.RESOLVE_LAYOUT_PROCESSOR,e=>e instanceof il?ol:null);class rl{constructor(){this.initialBreakPositions=null,this.initialStateOfFormattingContext=null}layout(e,t){return this.prepareLayout(e,t),this.tryLayout(e,t)}tryLayout(e,t){const n=pi("AbstractLayoutRetryer.tryLayout");this.saveState(e,t);const i=this.resolveLayoutMode(e);return i.doLayout(e,t).then(o=>{let s=i.accept(o,t);s=i.postLayout(o,this.initialPosition,t,s),s?n.finish(o):(this.initialPosition,this.clearNodes(this.initialPosition),this.restoreState(e,t),this.tryLayout(this.initialPosition,t).thenFinish(n))}),n.result()}prepareLayout(e,t){}clearNodes(e){const t=e.viewNode||e.parent.viewNode;let n,i;for(;n=t.lastChild;)t.removeChild(n);for(;i=t.nextSibling;)i.parentNode.removeChild(i)}saveState(e,t){this.initialPosition=e.copy(),this.initialBreakPositions=[].concat(t.breakPositions),this.initialFragmentLayoutConstraints=[].concat(t.fragmentLayoutConstraints),e.formattingContext&&(this.initialStateOfFormattingContext=e.formattingContext.saveState())}restoreState(e,t){t.breakPositions=this.initialBreakPositions,t.fragmentLayoutConstraints=this.initialFragmentLayoutConstraints,e.formattingContext&&e.formattingContext.restoreState(this.initialStateOfFormattingContext)}}class al{initialState(e){return{nodeContext:e,atUnforcedBreak:!1,break:!1}}startNonDisplayableNode(e){}afterNonDisplayableNode(e){}startIgnoredTextNode(e){}afterIgnoredTextNode(e){}startNonElementNode(e){}afterNonElementNode(e){}startInlineElementNode(e){}afterInlineElementNode(e){}startNonInlineElementNode(e){}afterNonInlineElementNode(e){}finish(e){}}class ll{constructor(e,t){this.strategy=e,this.layoutContext=t}iterate(e){const t=this.strategy,n=t.initialState(e),i=pi("LayoutIterator");return i.loopWithFrame(e=>{let i;for(;n.nodeContext;){i=n.nodeContext.viewNode?1!==n.nodeContext.viewNode.nodeType?Jr(n.nodeContext.viewNode,n.nodeContext.whitespace)?n.nodeContext.after?t.afterIgnoredTextNode(n):t.startIgnoredTextNode(n):n.nodeContext.after?t.afterNonElementNode(n):t.startNonElementNode(n):n.nodeContext.inline?n.nodeContext.after?t.afterInlineElementNode(n):t.startInlineElementNode(n):n.nodeContext.after?t.afterNonInlineElementNode(n):t.startNonInlineElementNode(n):n.nodeContext.after?t.afterNonDisplayableNode(n):t.startNonDisplayableNode(n);const o=(i&&i.isPending()?i:fi(!0)).thenAsync(()=>n.break?fi(null):this.layoutContext.nextInTree(n.nodeContext,n.atUnforcedBreak));if(o.isPending())return void o.then(t=>{n.break?e.breakLoop():(n.nodeContext=t,e.continueLoop())});if(n.break)return void e.breakLoop();n.nodeContext=o.get()}t.finish(n),e.breakLoop()}).then(()=>{i.finish(n.nodeContext)}),i.result()}}class hl extends al{constructor(e){super(),this.leadingEdge=e}startNonInlineBox(e){}endEmptyNonInlineBox(e){}endNonInlineBox(e){}initialState(e){return{nodeContext:e,atUnforcedBreak:!!this.leadingEdge&&e.after,break:!1,leadingEdge:this.leadingEdge,breakAtTheEdge:null,onStartEdges:!1,leadingEdgeContexts:[],lastAfterNodeContext:null}}processForcedBreak(e,t){const n=!e.leadingEdge&&Fa(e.breakAtTheEdge);if(n){const n=e.nodeContext=e.leadingEdgeContexts[0]||e.nodeContext;n.viewNode.parentNode.removeChild(n.viewNode),t.pageBreakType=e.breakAtTheEdge}return n}saveEdgeAndProcessOverflow(e,t){const n=t.checkOverflowAndSaveEdgeAndBreakPosition(e.lastAfterNodeContext,null,!0,e.breakAtTheEdge);return n&&(e.nodeContext=(e.lastAfterNodeContext||e.nodeContext).modify(),e.nodeContext.overflow=!0),n}processLayoutConstraint(e,t,n){let i=e.nodeContext;const o=!t.allowLayout(i);return o&&(n.checkOverflowAndSaveEdgeAndBreakPosition(e.lastAfterNodeContext,null,!1,e.breakAtTheEdge),i=e.nodeContext=i.modify(),i.overflow=!0),o}startNonElementNode(e){e.onStartEdges=!1}startNonInlineElementNode(e){return e.leadingEdgeContexts.push(e.nodeContext.copy()),e.breakAtTheEdge=Ba(e.breakAtTheEdge,e.nodeContext.breakBefore),e.onStartEdges=!0,this.startNonInlineBox(e)}afterNonInlineElementNode(e){let t,n;return e.onStartEdges?(t=this.endEmptyNonInlineBox(e),n=t&&t.isPending()?t:fi(!0),n=n.thenAsync(()=>(e.break||(e.leadingEdgeContexts=[],e.leadingEdge=!1,e.atUnforcedBreak=!1,e.breakAtTheEdge=null),fi(!0)))):(t=this.endNonInlineBox(e),n=t&&t.isPending()?t:fi(!0)),n.thenAsync(()=>(e.break||(e.onStartEdges=!1,e.lastAfterNodeContext=e.nodeContext.copy(),e.breakAtTheEdge=Ba(e.breakAtTheEdge,e.nodeContext.breakAfter)),fi(!0)))}}let cl=[];const ul=(new DOMParser).parseFromString(`<root xmlns="${k.SHADOW}"/>`,"text/xml"),dl=["footnote-marker","first-5-lines","first-4-lines","first-3-lines","first-2-lines","first-line","first-letter","before","","after"],pl="data-adapt-pseudo";function fl(e){return e.getAttribute(pl)||""}function gl(e,t){e.setAttribute(pl,t)}class ml{constructor(e,t,n,i,o){this.element=e,this.style=t,this.styler=n,this.context=i,this.exprContentListener=o,this.contentProcessed={}}getStyle(e,t){const n=fl(e);this.styler&&n&&n.match(/after$/)&&(this.style=this.styler.getStyle(this.element,!0),this.styler=null);const i=Xo(this.style,"_pseudos")[n]||{};if(n.match(/^first-/)&&!i["x-first-pseudo"]){let e,t=1;"first-letter"==n?t=0:null!=(e=n.match(/^first-([0-9]+)-lines$/))&&(t=e[1]-0),i["x-first-pseudo"]=new _o(new It(t),0)}return i}processContent(e,t){const n=fl(e);if(!this.contentProcessed[n]){this.contentProcessed[n]=!0;const i=t.content;i&&Ea(i)&&i.visit(new wa(e,this.context,i,this.exprContentListener))}}}_r.isInstanceOfAfterIfContinuesLayoutConstraint;const bl=vo.registerFragmentIndex;class wl{constructor(e,t){this.sourceNode=e,this.styler=t}createElement(e,t){const n=t.viewNode.ownerDocument.createElement("div"),i=new Pl(e,n,t),o=i.getColumn().pageBreakType;return i.getColumn().pageBreakType=null,i.layout(this.createNodePositionForPseudoElement(),!0).thenAsync(()=>{this.styler.contentProcessed["after-if-continues"]=!1,i.getColumn().pageBreakType=o;const e=n.firstChild;return U(e,"display","block"),fi(e)})}createNodePositionForPseudoElement(){const e=ul.createElementNS(k.XHTML,"div");gl(e,"after-if-continues");const t=this.createShadowContext(e),n={node:e,shadowType:t.type,shadowContext:t,nodeShadow:null,shadowSibling:null};return new pa({steps:[n],offsetInNode:0,after:!1,preprocessedTextContent:null})}createShadowContext(e){return new ha(this.sourceNode,e,null,null,null,Ur.ShadowType.ROOTED,this.styler)}}class El{constructor(e,t,n){this.nodeContext=e,this.afterIfContinues=t,this.pseudoElementHeight=n,this.flagmentLayoutConstraintType="AfterIfContinue"}allowLayout(e,t,n){return!(t&&!e||e&&e.overflow)}nextCandidate(e){return!1}postLayout(e,t,n,i){}finishBreak(e,t){return this.getRepetitiveElements().affectTo(e)?this.afterIfContinues.createElement(t,this.nodeContext).thenAsync(e=>(this.nodeContext.viewNode.appendChild(e),fi(!0))):fi(!0)}getRepetitiveElements(){return new yl(this.nodeContext,this.pseudoElementHeight)}equalsTo(e){return e instanceof El&&this.afterIfContinues==e.afterIfContinues}getPriorityOfFinishBreak(){return 9}}class yl{constructor(e,t){this.nodeContext=e,this.pseudoElementHeight=t}calculateOffset(e){return this.affectTo(e)?this.pseudoElementHeight:0}calculateMinimumOffset(e){return this.calculateOffset(e)}affectTo(e){if(!e)return!1;const t=e.shadowContext?e.shadowContext.owner:e.sourceNode;if(t===this.nodeContext.sourceNode)return!!e.after;for(let e=t.parentNode;e;e=e.parentNode)if(e===this.nodeContext.sourceNode)return!0;return!1}}function Sl(e,t){if(!e||!e.afterIfContinues||e.after||t.isFloatNodeContext(e))return fi(e);const n=e.afterIfContinues;return n.createElement(t,e).thenAsync(i=>{const o=function(e,t,n){const i=e.viewNode;i.appendChild(n);const o=Va(n,t,e.vertical);return i.removeChild(n),o}(e,t,i);return t.fragmentLayoutConstraints.push(new El(e,n,o)),fi(e)})}function Nl(e,t){return e.thenAsync(e=>Sl(e,t))}const vl={img:!0,svg:!0,audio:!0,video:!0};class Cl{constructor(e){this.constraints=e}allowLayout(e){return this.constraints.every(t=>t.allowLayout(e))}}class Tl extends Xa{constructor(e,t){super(),this.checkPoints=e,this.penalty=t,this.alreadyEvaluated=!1,this.breakNodeContext=null}findAcceptableBreak(e,t){return t<this.getMinBreakPenalty()?null:(this.alreadyEvaluated||(this.breakNodeContext=e.findBoxBreakPosition(this,t>0),this.alreadyEvaluated=!0),this.breakNodeContext)}getMinBreakPenalty(){return this.penalty}getNodeContext(){return this.alreadyEvaluated?this.breakNodeContext:this.checkPoints[this.checkPoints.length-1]}}function xl(e){switch(e){case"ruby":case"inline-block":case"inline-flex":case"inline-grid":case"inline-list-item":case"inline-table":return!0}return!1}class Il extends ba{constructor(e,t,n,i,o){super(e),this.layoutContext=t,this.clientLayout=n,this.layoutConstraint=i,this.pageFloatLayoutContext=o,this.flowRootFormattingContext=null,this.isFloat=!1,this.isFootnote=!1,this.startEdge=0,this.endEdge=0,this.beforeEdge=0,this.afterEdge=0,this.footnoteEdge=0,this.box=null,this.chunkPositions=null,this.bands=null,this.overflown=!1,this.breakPositions=null,this.pageBreakType=null,this.forceNonfitting=!0,this.leftFloatEdge=0,this.rightFloatEdge=0,this.bottommostFloatTop=0,this.stopAtOverflow=!0,this.lastAfterPosition=null,this.fragmentLayoutConstraints=[],this.pseudoParent=null,this.nodeContextOverflowingDueToRepetitiveElements=null,this.blockDistanceToBlockEndFloats=NaN,this.last=e.lastChild,this.viewDocument=e.ownerDocument,o.setContainer(this)}getTopEdge(){return this.vertical?this.startEdge:this.beforeEdge}getBottomEdge(){return this.vertical?this.endEdge:this.afterEdge}getLeftEdge(){return this.vertical?this.afterEdge:this.startEdge}getRightEdge(){return this.vertical?this.beforeEdge:this.endEdge}isFloatNodeContext(e){return!(!e.floatSide||this.isFloat&&!e.parent)}stopByOverflow(e){return this.stopAtOverflow&&!!e&&e.overflow}isOverflown(e){return this.vertical?e<this.footnoteEdge:e>this.footnoteEdge}getExclusions(){const e=this.pageFloatLayoutContext.getFloatFragmentExclusions();return this.exclusions.concat(e)}openAllViews(e){const t=this,n=pi("openAllViews"),i=e.steps;t.layoutContext.setViewRoot(t.element,t.isFootnote);let o=i.length-1,s=null;return n.loop(()=>{for(;o>=0;){const n=s,r=i[o];if(s=aa(r,n),o!==i.length-1||s.formattingContext||(s.formattingContext=t.flowRootFormattingContext),0==o&&(s.offsetInNode=t.calculateOffsetInNodeForNodeContext(e),s.after=e.after,s.preprocessedTextContent=e.preprocessedTextContent,s.after))break;const a=t.layoutContext.setCurrent(s,0==o&&0==s.offsetInNode);if(o--,a.isPending())return a}return fi(!1)}).then(()=>{n.finish(s)}),n.result()}calculateOffsetInNodeForNodeContext(e){return e.preprocessedTextContent?function(e,t){return Gr(e,t,1)}(e.preprocessedTextContent,e.offsetInNode):e.offsetInNode}maybePeelOff(e,t){if(e.firstPseudo&&e.inline&&!e.after&&0==e.firstPseudo.count&&1!=e.viewNode.nodeType){const t=e.viewNode.textContent.match(Al);return this.layoutContext.peelOff(e,t[0].length)}return fi(e)}buildViewToNextBlockEdge(e,t){const n=this;let i=!1;const o=pi("buildViewToNextBlockEdge");return o.loopWithFrame(o=>{e.viewNode&&!Wa(e)&&t.push(e.copy()),n.maybePeelOff(e,0).then(s=>{s!==e&&(Wa(e=s)||t.push(e.copy())),n.nextInTree(e).then(t=>{(e=t)?(!i&&n.layoutConstraint.allowLayout(e)||(i=!0,(e=e.modify()).overflow=!0),n.isFloatNodeContext(e)&&!n.vertical?n.layoutFloatOrFootnote(e).then(t=>{e=t,n.pageFloatLayoutContext.isInvalidated()&&(e=null),e?o.continueLoop():o.breakLoop()}):e.inline?o.continueLoop():o.breakLoop()):o.breakLoop()})})}).then(()=>{o.finish(e)}),o.result()}nextInTree(e,t){return Nl(this.layoutContext.nextInTree(e,t),this)}buildDeepElementView(e){if(!e.viewNode)return fi(e);let t=[];const n=e.sourceNode,i=this,o=pi("buildDeepElementView");return o.loopWithFrame(o=>{e.viewNode&&e.inline&&!Wa(e)?t.push(e.copy()):(t.length>0&&i.postLayoutBlock(e,t),t=[]),i.maybePeelOff(e,0).then(s=>{const r=s;if(r!==e){let i=r;for(;i&&i.sourceNode!=n;)i=i.parent;if(null==i)return e=r,void o.breakLoop();Wa(r)||t.push(r.copy())}i.nextInTree(r).then(t=>{(e=t)&&e.sourceNode!=n?i.layoutConstraint.allowLayout(e)?o.continueLoop():((e=e.modify()).overflow=!0,i.stopAtOverflow?o.breakLoop():o.continueLoop()):o.breakLoop()})})}).then(()=>{t.length>0&&i.postLayoutBlock(e,t),o.finish(e)}),o.result()}createFloat(e,t,n,i){const o=this.viewDocument.createElement("div");return this.vertical?(i>=this.height&&(i-=.1),U(o,"height",`${n}px`),U(o,"width",`${i}px`)):(n>=this.width&&(n-=.1),U(o,"width",`${n}px`),U(o,"height",`${i}px`)),U(o,"float",t),U(o,"clear",t),this.element.insertBefore(o,e),o}killFloats(){let e=this.element.firstChild;for(;e;){const t=e.nextSibling;if(1==e.nodeType){const t=e,n=t.style.cssFloat;if("left"!=n&&"right"!=n)break;this.element.removeChild(t)}e=t}}createFloats(){const e=this.element.firstChild,t=this.bands,n=this.vertical?this.getTopEdge():this.getLeftEdge(),i=this.vertical?this.getBottomEdge():this.getRightEdge();for(const o of t){const t=o.y2-o.y1;o.left=this.createFloat(e,"left",o.x1-n,t),o.right=this.createFloat(e,"right",i-o.x2,t)}}calculateEdge(e,t,n,i){let o;if(e&&Ha(e.viewNode))return NaN;if(e&&e.after&&!e.inline&&(o=za(e,this.clientLayout,0,this.vertical),!isNaN(o)))return o;let s=i-(e=t[n]).boxOffset;for(;;){if(o=za(e,this.clientLayout,s,this.vertical),!isNaN(o))return o;if(s>0)s--;else{if(--n<0)return this.beforeEdge;1!=(e=t[n]).viewNode.nodeType&&(s=e.viewNode.textContent.length)}}}parseComputedLength(e){if("number"==typeof e)return e;const t=e.match(/^(-?[0-9]*(\.[0-9]*)?)px$/);return t?parseFloat(t[0]):0}getComputedMargin(e){const t=this.clientLayout.getElementComputedStyle(e),n=new Xt(0,0,0,0);return t&&(n.left=this.parseComputedLength(t.marginLeft),n.top=this.parseComputedLength(t.marginTop),n.right=this.parseComputedLength(t.marginRight),n.bottom=this.parseComputedLength(t.marginBottom)),n}getComputedPaddingBorder(e){const t=this.clientLayout.getElementComputedStyle(e),n=new Xt(0,0,0,0);return t&&(n.left=this.parseComputedLength(t.borderLeftWidth)+this.parseComputedLength(t.paddingLeft),n.top=this.parseComputedLength(t.borderTopWidth)+this.parseComputedLength(t.paddingTop),n.right=this.parseComputedLength(t.borderRightWidth)+this.parseComputedLength(t.paddingRight),n.bottom=this.parseComputedLength(t.borderBottomWidth)+this.parseComputedLength(t.paddingBottom)),n}getComputedInsets(e){const t=this.clientLayout.getElementComputedStyle(e),n=new Xt(0,0,0,0);if(t){if("border-box"==t.boxSizing)return this.getComputedMargin(e);n.left=this.parseComputedLength(t.marginLeft)+this.parseComputedLength(t.borderLeftWidth)+this.parseComputedLength(t.paddingLeft),n.top=this.parseComputedLength(t.marginTop)+this.parseComputedLength(t.borderTopWidth)+this.parseComputedLength(t.paddingTop),n.right=this.parseComputedLength(t.marginRight)+this.parseComputedLength(t.borderRightWidth)+this.parseComputedLength(t.paddingRight),n.bottom=this.parseComputedLength(t.marginBottom)+this.parseComputedLength(t.borderBottomWidth)+this.parseComputedLength(t.paddingBottom)}return n}setComputedInsets(e,t){const n=this.clientLayout.getElementComputedStyle(e);n&&(t.marginLeft=this.parseComputedLength(n.marginLeft),t.borderLeft=this.parseComputedLength(n.borderLeftWidth),t.paddingLeft=this.parseComputedLength(n.paddingLeft),t.marginTop=this.parseComputedLength(n.marginTop),t.borderTop=this.parseComputedLength(n.borderTopWidth),t.paddingTop=this.parseComputedLength(n.paddingTop),t.marginRight=this.parseComputedLength(n.marginRight),t.borderRight=this.parseComputedLength(n.borderRightWidth),t.paddingRight=this.parseComputedLength(n.paddingRight),t.marginBottom=this.parseComputedLength(n.marginBottom),t.borderBottom=this.parseComputedLength(n.borderBottomWidth),t.paddingBottom=this.parseComputedLength(n.paddingBottom))}setComputedWidthAndHeight(e,t){const n=this.clientLayout.getElementComputedStyle(e);n&&(t.width=this.parseComputedLength(n.width),t.height=this.parseComputedLength(n.height))}layoutUnbreakable(e){return this.buildDeepElementView(e)}layoutFloat(e){const t=this,n=pi("layoutFloat"),i=e.viewNode,o=e.floatSide;return U(i,"float","none"),U(i,"display","inline-block"),U(i,"vertical-align","top"),t.buildDeepElementView(e).then(s=>{const r=t.clientLayout.getElementClientRect(i),a=t.getComputedMargin(i);let l=new $t(r.left-a.left,r.top-a.top,r.right+a.right,r.bottom+a.bottom),h=t.startEdge,c=t.endEdge,u=e.parent;for(;u&&u.inline;)u=u.parent;if(u){const n=u.viewNode.ownerDocument.createElement("div");n.style.left="0px",n.style.top="0px",t.vertical?(n.style.bottom="0px",n.style.width="1px"):(n.style.right="0px",n.style.height="1px"),u.viewNode.appendChild(n);const i=t.clientLayout.getElementClientRect(n);h=Math.max(t.getStartEdge(i),h),c=Math.min(t.getEndEdge(i),c),u.viewNode.removeChild(n);const s=t.vertical?l.y2-l.y1:l.x2-l.x1;"left"==o?c=Math.max(c,h+s):h=Math.min(h,c-s),u.viewNode.appendChild(e.viewNode)}let d=new $t(h,t.getBoxDir()*t.beforeEdge,c,t.getBoxDir()*t.afterEdge),p=l;t.vertical&&(p=rn(l));const f=t.getBoxDir();if(p.y1<t.bottommostFloatTop*f){const e=p.y2-p.y1;p.y1=t.bottommostFloatTop*f,p.y2=p.y1+e}(function(e,t,n,i){let o=n.y1;const s=n.x2-n.x1,r=n.y2-n.y1;let a=cn(t,o);for(;;){const l=o+r;if(l>e.y2)return!1;let h=e.x1,c=e.x2;for(let e=a;e<t.length&&t[e].y1<l;e++){const n=t[e];n.x1>h&&(h=n.x1),n.x2<c&&(c=n.x2)}if(h+s<=c||a>=t.length)return"left"==i?(n.x1=h,n.x2=h+s):(n.x1=c-s,n.x2=c),n.y2+=o-n.y1,n.y1=o,!0;o=t[a].y2,a++}})(d,t.bands,p,o),t.vertical&&(l=an(p));const g=t.getComputedInsets(i);let m;U(i,"width",`${l.x2-l.x1-g.left-g.right}px`),U(i,"height",`${l.y2-l.y1-g.top-g.bottom}px`),U(i,"position","absolute"),e.display,U(i,"display",e.display);let b=null;if(u&&(b=u.containingBlockForAbsolute?u:u.getContainingBlockForAbsolute()),b){const e=b.viewNode.ownerDocument.createElement("div");e.style.position="absolute",b.vertical?e.style.right="0":e.style.left="0",e.style.top="0",b.viewNode.appendChild(e),m=t.clientLayout.getElementClientRect(e),b.viewNode.removeChild(e)}else m={left:t.getLeftEdge()-t.paddingLeft,right:t.getRightEdge()+t.paddingRight,top:t.getTopEdge()-t.paddingTop};(b?b.vertical:t.vertical)?U(i,"right",`${m.right-l.x2}px`):U(i,"left",`${l.x1-m.left}px`),U(i,"top",`${l.y1-m.top}px`),e.clearSpacer&&(e.clearSpacer.parentNode.removeChild(e.clearSpacer),e.clearSpacer=null);const w=t.vertical?l.x1:l.y2,E=t.vertical?l.x2:l.y1;t.isOverflown(w)&&0!=t.breakPositions.length?((e=e.modify()).overflow=!0,n.finish(e)):(t.killFloats(),d=new $t(t.getLeftEdge(),t.getTopEdge(),t.getRightEdge(),t.getBottomEdge()),t.vertical&&(d=rn(d)),function(e,t,n,i,o){for(i||(i=[new Kt(n.y1,n.y2,n.x1,n.x2)]);i.length>0&&i[0].y2<=e.y1;)i.shift();if(0==i.length)return;let s;i[0].y1<e.y1&&(i[0].y1=e.y1);const r=0==t.length?e.y1:t[t.length-1].y2;r<e.y2&&t.push(new Kt(r,e.y2,e.x1,e.x2));let a=cn(t,i[0].y1);for(const n of i){if(a==t.length)break;for(t[a].y1<n.y1&&(s=t[a],a++,t.splice(a,0,new Kt(n.y1,s.y2,s.x1,s.x2)),s.y2=n.y1);a<t.length&&(s=t[a++],s.y2>n.y2&&(t.splice(a,0,new Kt(n.y2,s.y2,s.x1,s.x2)),s.y2=n.y2),n.x1!=n.x2&&("left"==o?s.x1=Math.min(n.x2,e.x2):s.x2=Math.max(n.x1,e.x1)),s.y2!=n.y2););}hn(e,t)}(d,t.bands,p,null,o),t.createFloats(),"left"==o?t.leftFloatEdge=w:t.rightFloatEdge=w,t.bottommostFloatTop=E,t.updateMaxReachedAfterEdge(w),n.finish(s))}),n.result()}setupFloatArea(e,t,n,i,o,s){const r=this.pageFloatLayoutContext,a=r.getContainer(t),l=e.element;a.element.parentNode.appendChild(l),e.isFloat=!0,e.originX=a.originX,e.originY=a.originY,e.vertical=a.vertical,e.marginLeft=e.marginRight=e.marginTop=e.marginBottom=0,e.borderLeft=e.borderRight=e.borderTop=e.borderBottom=0,e.paddingLeft=e.paddingRight=e.paddingTop=e.paddingBottom=0,e.exclusions=(a.exclusions||[]).concat(),e.forceNonfitting=!r.hasFloatFragments(),e.innerShape=null;const h=a.getPaddingRect();e.setHorizontalPosition(h.x1-a.originX,h.x2-h.x1),e.setVerticalPosition(h.y1-a.originY,h.y2-h.y1),o.adjustPageFloatArea(e,a,this),e.init();const c=!!r.setFloatAreaDimensions(e,t,n,i,!0,!r.hasFloatFragments(),s);return c?(e.killFloats(),e.init()):a.element.parentNode.removeChild(l),c}createPageFloatArea(e,t,n,i,o){const s=this.element.ownerDocument.createElement("div");U(s,"position","absolute");const r=this.pageFloatLayoutContext.getPageFloatLayoutContext(e.floatReference),a=new xa(null,ya.COLUMN,null,this.pageFloatLayoutContext.flowName,e.nodePosition,null,null),l=r.getContainer(),h=new Fl(t,s,this.layoutContext.clone(),this.clientLayout,this.layoutConstraint,a,l);return a.setContainer(h),this.setupFloatArea(h,e.floatReference,t,n,i,o)?h:null}layoutSinglePageFloatFragment(e,t,n,i,o,s,r){const a=this.pageFloatLayoutContext,l=r?r.continuations:[],h=(e=l.concat(e))[0].float,c=a.getPageFloatPlacementCondition(h,t,n),u=this.createPageFloatArea(h,t,s,o,c),d={floatArea:u,pageFloatFragment:null,newPosition:null};if(!u)return fi(d);const p=pi("layoutSinglePageFloatFragment");let f=!1,g=0;return p.loopWithFrame(t=>{if(g>=e.length)return void t.breakLoop();const n=e[g],o=new pa(n.nodePosition);u.layout(o,!0).then(e=>{d.newPosition=e,!e||i?(g++,t.continueLoop()):(f=!0,t.breakLoop())})}).then(()=>{if(!f){const n=a.setFloatAreaDimensions(u,h.floatReference,t,s,!1,i,c);if(n){const t=o.createPageFloatFragment(e,n,u,!!d.newPosition);a.addPageFloatFragment(t,!0),d.pageFloatFragment=t}else f=!0}p.finish(d)}),p.result()}layoutPageFloatInner(e,t,n,i){const o=this.pageFloatLayoutContext,s=e.float;function r(t,n){n?o.removePageFloatFragment(n,!0):t&&t.element.parentNode.removeChild(t.element),o.restoreStashedFragments(s.floatReference),o.deferPageFloat(e)}o.stashEndFloatFragments(s);const a=pi("layoutPageFloatInner"),l=this;return this.layoutSinglePageFloatFragment([e],s.floatSide,s.clearSide,!o.hasFloatFragments(),t,n,i).then(e=>{const t=e.floatArea,n=e.pageFloatFragment,h=e.newPosition;n?l.layoutStashedPageFloats(s.floatReference,[i]).then(e=>{if(e){if(o.addPageFloatFragment(n),o.discardStashedFragments(s.floatReference),h){const e=new Ta(s,h.primary);o.deferPageFloat(e)}a.finish(!0)}else r(t,n),a.finish(!1)}):(r(t,n),a.finish(!1))}),a.result()}layoutStashedPageFloats(e,t){const n=this.pageFloatLayoutContext,i=n.getStashedFloatFragments(e),o=[],s=[];let r=!1;const a=pi("layoutStashedPageFloats"),l=this;let h=0;return a.loopWithFrame(e=>{if(h>=i.length)return void e.breakLoop();const n=i[h];if(t.includes(n))return h++,void e.continueLoop();const a=(new Pa).findByFloat(n.continuations[0].float);l.layoutSinglePageFloatFragment(n.continuations,n.floatSide,null,!1,a,null).then(t=>{const n=t.floatArea;n&&o.push(n);const i=t.pageFloatFragment;i?(s.push(i),h++,e.continueLoop()):(r=!0,e.breakLoop())})}).then(()=>{r?(s.forEach(e=>{n.removePageFloatFragment(e,!0)}),o.forEach(e=>{const t=e.element;t&&t.parentNode&&t.parentNode.removeChild(t)})):i.forEach(e=>{const t=e.area.element;t&&t.parentNode&&t.parentNode.removeChild(t)}),a.finish(!r)}),a.result()}setFloatAnchorViewNode(e){const t=e.viewNode.parentNode,n=t.ownerDocument.createElement("span");n.setAttribute(qr,"1"),"footnote"===e.floatSide&&this.layoutContext.applyPseudoelementStyle(e,"footnote-call",n),t.appendChild(n),t.removeChild(e.viewNode);const i=e.modify();return i.after=!0,i.viewNode=n,i}resolveFloatReferenceFromColumnSpan(e,t,n){const i=this,o=pi("resolveFloatReferenceFromColumnSpan"),s=this.pageFloatLayoutContext,r=s.getPageFloatLayoutContext(ya.REGION);return s.getContainer().width<r.getContainer().width&&e===ya.COLUMN?t===Bt.auto?this.buildDeepElementView(n.copy()).then(t=>{const n=t.viewNode;let s=yr(i.clientLayout,n,[Er.MIN_CONTENT_INLINE_SIZE])[Er.MIN_CONTENT_INLINE_SIZE];const r=i.getComputedMargin(n);i.vertical?s+=r.top+r.bottom:s+=r.left+r.right,s>i.width?o.finish(ya.REGION):o.finish(e)}):t===Bt.all?o.finish(ya.REGION):o.finish(e):o.finish(e),o.result()}layoutPageFloat(e){const t=this,n=this.pageFloatLayoutContext,i=(new Pa).findByNodeContext(e);let o;const s=n.findPageFloatByNodePosition(e.toNodePosition());return o=s?fi(s):i.createPageFloat(e,n,this),o.thenAsync(o=>{const s=ra(e,0),r=t.setFloatAnchorViewNode(e),a=i.findPageFloatFragment(o,n),l=new Ta(o,s);if(a&&a.hasFloat(o))return n.registerPageFloatAnchor(o,r.viewNode),fi(r);if(n.isForbidden(o)||n.hasPrecedingFloatsDeferredToNext(o))return n.deferPageFloat(l),n.registerPageFloatAnchor(o,r.viewNode),fi(r);if(t.nodeContextOverflowingDueToRepetitiveElements)return fi(null);{const e=za(r,t.clientLayout,0,t.vertical);return t.isOverflown(e)?fi(r):t.layoutPageFloatInner(l,i,e,a).thenAsync(e=>e?fi(null):(n.registerPageFloatAnchor(o,r.viewNode),fi(r)))}})}createJustificationAdjustmentElement(e,t,n,i){const o=t.createElement("span");o.style.visibility="hidden",o.style.verticalAlign="top",o.setAttribute(qr,"1");const s=t.createElement("span");s.style.fontSize="0",s.style.lineHeight="0",s.textContent=" #",o.appendChild(s),o.style.display="block",o.style.textIndent="0",o.style.textAlign="left",n.insertBefore(o,e);const r=this.clientLayout.getElementClientRect(s);o.style.textAlign="right";const a=this.clientLayout.getElementClientRect(s);o.style.textAlign="",function(e){if(null===ie){const t=e.ownerDocument,n=t.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="30px",n.style.height="100px",n.style.lineHeight="16px",n.style.fontSize="16px",n.style.textAlign="justify",e.appendChild(n);const i=t.createTextNode("a | ");n.appendChild(i);const o=t.createElement("span");o.style.display="inline-block",o.style.width="30px",n.appendChild(o);const s=t.createRange();s.setStart(i,0),s.setEnd(i,3);const r=s.getBoundingClientRect();ie=r.right<27,e.removeChild(n)}return ie}(document.body)?o.style.display="inline":o.style.display="inline-block";const l=i?a.top-r.top:a.left-r.left,h=l>=1?`${l-1}px`:"100%";return i?o.style.paddingTop=h:o.style.paddingLeft=h,o}addAndAdjustJustificationElement(e,t,n,i,o,s){return function(e,t,n,i){if(function(e){if(null===oe){const t=e.ownerDocument,n=t.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="40px",n.style.height="100px",n.style.lineHeight="16px",n.style.fontSize="16px",n.style.textAlign="justify",e.appendChild(n);const i=t.createTextNode("a a-");n.appendChild(i);const o=t.createElement("span");o.style.display="inline-block",o.style.width="40px",n.appendChild(o);const s=t.createRange();s.setStart(i,2),s.setEnd(i,4);const r=s.getBoundingClientRect();oe=r.right<37,e.removeChild(n)}return oe}(document.body)){const o=Rl(e),s=t?n:n.previousSibling,r=s?s.textContent:"";if(r.charAt(r.length-1)===o){const e=n.ownerDocument,t=n.parentNode;!function(e){if(null===se){const t=e.ownerDocument,n=t.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="40px",n.style.height="100px",n.style.lineHeight="16px",n.style.fontSize="16px",n.style.textAlign="justify",e.appendChild(n);const i=t.createTextNode("a a-");n.appendChild(i),n.appendChild(t.createElement("wbr"));const o=t.createElement("span");o.style.display="inline-block",o.style.width="40px",n.appendChild(o);const s=t.createRange();s.setStart(i,2),s.setEnd(i,4);const r=s.getBoundingClientRect();se=r.right<37,e.removeChild(n)}return se}(document.body)?t.insertBefore(e.createElement("wbr"),i):t.insertBefore(e.createTextNode(" "),i)}}}(e,t,n,i),this.createJustificationAdjustmentElement(i,o,s,e.vertical)}compensateJustificationLineHeight(e,t,n){const i=this.clientLayout.getElementClientRect(e),o=this.clientLayout.getElementClientRect(t);n.vertical?(t.style.marginRight=`${o.right-i.right}px`,t.style.width="0px"):(t.style.marginTop=`${i.top-o.top}px`,t.style.height="0px"),t.setAttribute(qr,"1")}fixJustificationIfNeeded(e,t){if(e.after&&!e.inline)return;if(t){let t="";for(let n=e.parent;n&&!t;n=n.parent)!n.inline&&n.viewNode&&(t=n.viewNode.style.textAlign);if("justify"!==t)return}const n=e.viewNode,i=n.ownerDocument,o=t&&(e.after||1!=n.nodeType);let s=o?n.nextSibling:n;s&&!s.parentNode&&(s=null);const r=n.parentNode||e.parent&&e.parent.viewNode;if(!r)return;const a=this.addAndAdjustJustificationElement(e,o,n,s,i,r);if(!t){const t=i.createElement("div");r.insertBefore(t,s),this.compensateJustificationLineHeight(a,t,e)}}processLineStyling(e,t,n){const i=this,o=pi("processLineStyling");let s=n.concat([]);n.splice(0,n.length);let r=0,a=e.firstPseudo;return 0==a.count&&(a=a.outer),o.loopWithFrame(n=>{if(!a)return void n.breakLoop();const o=i.findLinePositions(s),l=a.count-r;if(o.length<=l)return void n.breakLoop();const h=i.findAcceptableBreakInside(s,o[l-1],!0);null!=h?i.finishBreak(h,!1,!1).then(()=>{r+=l,i.layoutContext.peelOff(h,0).then(o=>{e=o,i.fixJustificationIfNeeded(e,!1),a=e.firstPseudo,s=[],i.buildViewToNextBlockEdge(e,s).then(e=>{t=e,n.continueLoop()})})}):n.breakLoop()}).then(()=>{Array.prototype.push.apply(n,s),o.finish(t)}),o.result()}isLoneImage(e){return!(2!=e.length&&this.breakPositions.length>0)&&e[0].sourceNode==e[1].sourceNode&&vl[e[0].sourceNode.localName]}getTrailingMarginEdgeAdjustment(e){let t=0,n=0;for(let i=e.length-1;i>=0;i--){const o=e[i];if(!o.after||!o.viewNode||1!=o.viewNode.nodeType)break;const s=this.getComputedMargin(o.viewNode),r=this.vertical?-s.left:s.bottom;r>0?t=Math.max(t,r):n=Math.min(n,r)}return t-n}layoutBreakableBlock(e){const t=this,n=pi("layoutBreakableBlock"),i=[];return t.buildViewToNextBlockEdge(e,i).then(o=>{const s=i.length-1;if(s<0)return void n.finish(o);let r,a=t.calculateEdge(o,i,s,i[s].boxOffset),l=!1;if(!o||!Ha(o.viewNode)){const e=ja(o,t.collectElementsOffset());l=t.isOverflown(a+(t.vertical?-1:1)*e.minimum),t.isOverflown(a+(t.vertical?-1:1)*e.current)&&!t.nodeContextOverflowingDueToRepetitiveElements&&(t.nodeContextOverflowingDueToRepetitiveElements=o)}null==o&&(a+=t.getTrailingMarginEdgeAdjustment(i)),t.updateMaxReachedAfterEdge(a),r=e.firstPseudo?t.processLineStyling(e,o,i):fi(o),r.then(e=>{t.postLayoutBlock(e,i),i.length>0&&(t.saveBoxBreakPosition(i),l&&!t.isLoneImage(i)&&e&&((e=e.modify()).overflow=!0)),n.finish(e)})}),n.result()}postLayoutBlock(e,n){p(t.HOOKS.POST_LAYOUT_BLOCK).forEach(t=>{t(e,n,this)})}findEndOfLine(e,t,n){const i=this.vertical?e-1:e+1;let o,s=0,r=t[0].boxOffset,a=s,l=t.length-1,h=t[l].boxOffset;for(;r<h;){o=r+Math.ceil((h-r)/2),a=s;let e=l;for(;a<e;){const n=a+Math.ceil((e-a)/2);t[n].boxOffset>o?e=n-1:a=n}const c=this.calculateEdge(null,t,a,o);if(this.vertical?c<=i:c>=i){for(h=o-1;t[a].boxOffset==o;)a--;l=a}else n&&this.updateMaxReachedAfterEdge(c),r=o,s=a}return{nodeContext:t[a],index:r,checkPointIndex:a}}findAcceptableBreakInside(e,t,n){const i=this.findEndOfLine(t,e,!0);let o=i.nodeContext;const s=o.viewNode;if(1!=s.nodeType){const t=s;o=this.resolveTextNodeBreaker(o).breakTextNode(t,o,i.index,e,i.checkPointIndex,n)}return this.clearOverflownViewNodes(o,!1),o}resolveTextNodeBreaker(e){return p(t.HOOKS.RESOLVE_TEXT_NODE_BREAKER).reduce((t,n)=>n(e)||t,Ol.instance)}getRangeBoxes(e,t){const n=[],i=e.ownerDocument.createRange();let o=!1,s=e,r=null,a=!1,l=!0;for(;l;){let e=!0;do{let n=null;s==t&&(l=1===t.nodeType&&!(!t.firstChild||o)),1!=s.nodeType?(a||(i.setStartBefore(s),a=!0),r=s):o?o=!1:$a(s)?e=!a:"ruby"==s.localName||xl(this.clientLayout.getElementComputedStyle(s).display)?(e=!a,e&&(i.setStartBefore(s),a=!0,r=s),s.contains(t)&&(l=!1)):n=s.firstChild,n||(n=s.nextSibling,n||(o=!0,n=s.parentNode)),s=n}while(e&&l);if(a){i.setEndAfter(r);const e=this.clientLayout.getRangeClientRects(i);for(let t=0;t<e.length;t++)n.push(e[t]);a=!1}}return n}findLinePositions(e){const t=[],n=this.getRangeBoxes(e[0].viewNode,e[e.length-1].viewNode);n.sort(this.vertical?ia:na);let i=0,o=0,s=0,r=0,a=0;const l=this.getBoxDir();for(;;){if(a<n.length){const e=n[a];let t=1;if(r>0){const n=Math.max(this.getBoxSize(e),1);t=l*this.getBeforeEdge(e)<l*i?l*(this.getAfterEdge(e)-i)/n:l*this.getAfterEdge(e)>l*o?l*(o-this.getBeforeEdge(e))/n:1}if(0==r||t>=.6||t>=.2&&this.getStartEdge(e)>=s-1){s=this.getEndEdge(e),this.vertical?(i=0==r?e.right:Math.max(i,e.right),o=0==r?e.left:Math.min(o,e.left)):(i=0==r?e.top:Math.min(i,e.top),o=0==r?e.bottom:Math.max(o,e.bottom)),r++,a++;continue}}if(r>0&&(t.push(o),r=0),a>=n.length)break}return t.sort(Q),this.vertical&&t.reverse(),t}calculateClonedPaddingBorder(e){let t=0;return e.walkUpBlocks(e=>{if("clone"===e.inheritedProps["box-decoration-break"]){e.viewNode,Element;const n=this.getComputedPaddingBorder(e.viewNode);t+=e.vertical?-n.left:n.bottom,"table"===e.display&&(t+=e.blockBorderSpacing)}}),t}getOffsetByRepetitiveElements(e){let t;return t=e?e.calculateOffset(this):ja(null,this.collectElementsOffset()),t.current}findBoxBreakPosition(e,t){const n=this,i=e.checkPoints;let o,s,r=i[0];for(;r.parent&&r.inline;)r=r.parent;t?(o=1,s=1):(o=Math.max((r.inheritedProps.widows||2)-0,1),s=Math.max((r.inheritedProps.orphans||2)-0,1));const a=n.calculateClonedPaddingBorder(r),l=this.findLinePositions(i);let h=this.footnoteEdge-a;const c=this.getBoxDir(),u=this.getOffsetByRepetitiveElements(e);h-=c*u;const d=this.findFirstOverflowingEdgeAndCheckPoint(i);isNaN(d.edge)&&(d.edge=c*(1/0));let p=Z(l.length,e=>{const t=l[e];return n.vertical?t<h||t<=d.edge:t>h||t>=d.edge});const f=p<=0;if(f&&(p=Z(l.length,e=>n.vertical?l[e]<h:l[e]>h)),p=Math.min(l.length-o,p),p<s)return null;let g;if(h=l[p-1],g=f?d.checkPoint:this.findAcceptableBreakInside(e.checkPoints,h,t),g){const e=this.getAfterEdgeOfBlockContainer(g);!isNaN(e)&&e<h&&(h=e),this.computedBlockSize=c*(h-this.beforeEdge)+u}return g}getAfterEdgeOfBlockContainer(e){let t=e;do{t=t.parent}while(t&&t.inline);return t?(t=t.copy().modify(),t.after=!0,za(t,this.clientLayout,0,this.vertical)):NaN}findFirstOverflowingEdgeAndCheckPoint(e){const t=e.findIndex(e=>e.overflow);if(t<0)return{edge:NaN,checkPoint:null};const n=e[t];return{edge:this.calculateEdge(null,e,t,n.boxOffset),checkPoint:n}}findEdgeBreakPosition(e){return this.computedBlockSize=e.computedBlockSize+this.getOffsetByRepetitiveElements(e),e.position}finishBreak(e,t,n){e.formattingContext;let i=(new tl).find(e.formattingContext).finishBreak(this,e,t,n);return i||(i=ol.finishBreak(this,e,t,n)),i}findAcceptableBreakPosition(){let e=null,t=null,n=0,i=0;do{n=i,i=Number.MAX_VALUE;for(let o=this.breakPositions.length-1;o>=0&&!t;--o){e=this.breakPositions[o],t=e.findAcceptableBreak(this,n);const s=e.getMinBreakPenalty();s>n&&(i=Math.min(i,s))}}while(i>n&&!t&&this.forceNonfitting);return{breakPosition:t?e:null,nodeContext:t}}doFinishBreak(e,t,n,i){if(this.pageFloatLayoutContext.isInvalidated()||this.pageBreakType||!t)return fi(e);const o=this,s=pi("doFinishBreak");let r=!1;if(!e){if(this.forceNonfitting)return h.warn("Could not find any page breaks?!!"),o.skipTailEdges(t).then(e=>{e?((e=e.modify()).overflow=!1,o.finishBreak(e,r,!0).then(()=>{s.finish(e)})):s.finish(e)}),s.result();e=n,r=!0,o.computedBlockSize=i}return this.finishBreak(e,r,!0).then(()=>{s.finish(e)}),s.result()}isBreakable(e){if(e.after)return!0;switch(e.sourceNode.namespaceURI){case k.SVG:return!1}return!e.flexContainer}zeroIndent(e){const t=e.toString();return""==t||"auto"==t||!!t.match(/^0+(.0*)?[^0-9]/)}checkOverflowAndSaveEdge(e,t){if(!e)return!1;if(Ha(e.viewNode))return!1;let n=za(e,this.clientLayout,0,this.vertical);const i=ja(e,this.collectElementsOffset()),o=this.isOverflown(n+(this.vertical?-1:1)*i.minimum);if(this.isOverflown(n+(this.vertical?-1:1)*i.current)&&!this.nodeContextOverflowingDueToRepetitiveElements)this.nodeContextOverflowingDueToRepetitiveElements=e;else if(t){const e=n+this.getTrailingMarginEdgeAdjustment(t),o=this.footnoteEdge-this.getBoxDir()*i.current;n=this.vertical?Math.min(n,Math.max(e,o)):Math.max(n,Math.min(e,o))}return this.updateMaxReachedAfterEdge(n),o}checkOverflowAndSaveEdgeAndBreakPosition(e,t,n,i){if(!e)return!1;if(Ha(e.viewNode))return!1;const o=this.checkOverflowAndSaveEdge(e,t);return!n&&o||this.saveEdgeBreakPosition(e,i,o),o}applyClearance(e){if(!e.viewNode.parentNode)return!1;const t=this.getComputedMargin(e.viewNode),n=e.viewNode.ownerDocument.createElement("div");this.vertical?(n.style.bottom="0px",n.style.width="1px",n.style.marginRight=`${t.right}px`):(n.style.right="0px",n.style.height="1px",n.style.marginTop=`${t.top}px`),e.viewNode.parentNode.insertBefore(n,e.viewNode);let i=this.clientLayout.getElementClientRect(n);const o=this.getBeforeEdge(i),s=this.getBoxDir(),r=e.clearSide;let a=-this.getBoxDir()*(1/0);switch("all"===r&&(a=this.pageFloatLayoutContext.getPageFloatClearEdge(r,this)),r){case"left":a=s*Math.max(a*s,this.leftFloatEdge*s);break;case"right":a=s*Math.max(a*s,this.rightFloatEdge*s);break;default:a=s*Math.max(a*s,Math.max(this.rightFloatEdge*s,this.leftFloatEdge*s))}if(o*s>=a*s)return e.viewNode.parentNode.removeChild(n),!1;{const r=Math.max(1,(a-o)*s);this.vertical?n.style.width=`${r}px`:n.style.height=`${r}px`,i=this.clientLayout.getElementClientRect(n);const l=this.getAfterEdge(i);if(this.vertical){let e=l+t.right-a;e>0==t.right>=0&&(e+=t.right),n.style.marginLeft=`${e}px`}else{let e=a-(l+t.top);e>0==t.top>=0&&(e+=t.top),n.style.marginBottom=`${e}px`}return e.clearSpacer=n,!0}}isBFC(e){return!!sl(e)||!!Br.isInstanceOfRepetitiveElementsOwnerFormattingContext(e)}skipEdges(e,t,n){const i=e.after?e.parent&&e.parent.formattingContext:e.formattingContext;if(i&&!this.isBFC(i))return fi(e);const o=this,s=pi("skipEdges");let r=!n&&t&&e&&e.after,a=n,l=null,h=[],c=[],u=!1;function d(){return!!n||!t&&Fa(a)}function p(){(e=h[0]||e).viewNode.parentNode.removeChild(e.viewNode),o.pageBreakType=a}return s.loopWithFrame(n=>{for(;e;){e.formattingContext;const i=(new tl).find(e.formattingContext);do{if(!e.viewNode)break;if(e.inline&&1!=e.viewNode.nodeType){if(Jr(e.viewNode,e.whitespace))break;if(!e.after)return d()?p():o.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!0,a)?(e=(o.stopAtOverflow&&l||e).modify()).overflow=!0:(e=e.modify()).breakBefore=a,void n.breakLoop()}if(!e.after){if(i&&i.startNonInlineElementNode(e))break;if(e.clearSide&&o.applyClearance(e)&&t&&0===o.breakPositions.length&&o.saveEdgeBreakPosition(e.copy(),a,!1),!o.isBFC(e.formattingContext)||Br.isInstanceOfRepetitiveElementsOwnerFormattingContext(e.formattingContext)||o.isFloatNodeContext(e)||e.flexContainer)return h.push(e.copy()),a=Ba(a,e.breakBefore),d()?p():!o.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!0,a)&&o.layoutConstraint.allowLayout(e)||((e=(o.stopAtOverflow&&l||e).modify()).overflow=!0),void n.breakLoop()}if(1!=e.viewNode.nodeType)break;const s=e.viewNode.style;if(e.after){if(e.inline)break;if(i&&i.afterNonInlineElementNode(e,o.stopAtOverflow))break;if(u){if(d())return p(),void n.breakLoop();h=[],t=!1,r=!1,a=null}u=!1,l=e.copy(),c.push(l),a=Ba(a,e.breakAfter),!s||o.zeroIndent(s.paddingBottom)&&o.zeroIndent(s.borderBottomWidth)||(c=[l])}else{if(h.push(e.copy()),a=Ba(a,e.breakBefore),!o.layoutConstraint.allowLayout(e)&&(o.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!o.stopAtOverflow,a),(e=e.modify()).overflow=!0,o.stopAtOverflow))return void n.breakLoop();const t=e.viewNode.localName;if(vl[t])return d()?p():o.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!0,a)&&((e=(o.stopAtOverflow&&l||e).modify()).overflow=!0),void n.breakLoop();!s||o.zeroIndent(s.paddingTop)&&o.zeroIndent(s.borderTopWidth)||(r=!1,c=[]),u=!0}}while(0);const s=o.nextInTree(e,r);if(s.isPending())return void s.then(t=>{e=t,n.continueLoop()});e=s.get()}o.checkOverflowAndSaveEdgeAndBreakPosition(l,c,!o.stopAtOverflow,a)?l&&o.stopAtOverflow&&((e=l.modify()).overflow=!0):Fa(a)&&(o.pageBreakType=a),n.breakLoop()}).then(()=>{l&&(o.lastAfterPosition=l.toNodePosition()),s.finish(e)}),s.result()}skipTailEdges(e){let t=e.copy();const n=this,i=pi("skipEdges");let o=null,s=!1;return i.loopWithFrame(i=>{for(;e;){do{if(!e.viewNode)break;if(e.inline&&1!=e.viewNode.nodeType){if(Jr(e.viewNode,e.whitespace))break;if(!e.after)return Fa(o)&&(n.pageBreakType=o),void i.breakLoop()}if(!e.after&&(n.isFloatNodeContext(e)||e.flexContainer))return o=Ba(o,e.breakBefore),Fa(o)&&(n.pageBreakType=o),void i.breakLoop();if(1!=e.viewNode.nodeType)break;const t=e.viewNode.style;if(e.after){if(s){if(Fa(o))return n.pageBreakType=o,void i.breakLoop();o=null}s=!1,o=Ba(o,e.breakAfter)}else{o=Ba(o,e.breakBefore);const s=e.viewNode.localName;if(vl[s])return Fa(o)&&(n.pageBreakType=o),void i.breakLoop();if(t&&(!n.zeroIndent(t.paddingTop)||!n.zeroIndent(t.borderTopWidth)))return void i.breakLoop()}s=!0}while(0);const t=n.layoutContext.nextInTree(e);if(t.isPending())return void t.then(t=>{e=t,i.continueLoop()});e=t.get()}t=null,i.breakLoop()}).then(()=>{i.finish(t)}),i.result()}layoutFloatOrFootnote(e){return Sa(e.floatReference)||"footnote"===e.floatSide?this.layoutPageFloat(e):this.layoutFloat(e)}layoutNext(e,t,n){const i=this,o=pi("layoutNext");return this.skipEdges(e,t,n||null).then(n=>{if(!(e=n)||i.pageBreakType||i.stopByOverflow(e))o.finish(e);else{const n=e.formattingContext;(new tl).find(n).layout(e,i,t).thenFinish(o)}}),o.result()}clearOverflownViewNodes(e,t){if(e)for(let n=e.parent;e;e=n,n=n?n.parent:null){const i=(n||e).formattingContext;(new tl).find(i).clearOverflownViewNodes(this,n,e,t),t=!1}}initGeom(){const e=this.element.ownerDocument.createElement("div");e.style.position="absolute",e.style.top=`${this.paddingTop}px`,e.style.right=`${this.paddingRight}px`,e.style.bottom=`${this.paddingBottom}px`,e.style.left=`${this.paddingLeft}px`,this.element.appendChild(e);const t=this.clientLayout.getElementClientRect(e);this.element.removeChild(e);const n=this.originX+this.left+this.getInsetLeft(),i=this.originY+this.top+this.getInsetTop();this.box=new $t(n,i,n+this.width,i+this.height),this.startEdge=t?this.vertical?t.top:t.left:0,this.endEdge=t?this.vertical?t.bottom:t.right:0,this.beforeEdge=t?this.vertical?t.right:t.top:0,this.afterEdge=t?this.vertical?t.left:t.bottom:0,this.leftFloatEdge=this.beforeEdge,this.rightFloatEdge=this.beforeEdge,this.bottommostFloatTop=this.beforeEdge,this.footnoteEdge=this.afterEdge,this.bands=function(e,t,n,i,o,s){s&&(e=rn(e),t=t.map(e=>ln(e)),n=n.map(e=>ln(e)));const r=t.length,a=n?n.length:0,l=[],h=[];let c,u,d;for(c=0;c<r;c++)t[c].addSegments(h,c);for(c=0;c<a;c++)n[c].addSegments(h,c+r);const p=h.length;h.sort(Yt);let f=0;for(;h[f].shapeId>=r;)f++;let g=h[f].low.y;g>e.y1&&l.push(new Kt(e.y1,g,e.x2,e.x2));let m=0;const b=[];for(;m<p&&(d=h[m]).low.y<g;)d.high.y>g&&b.push(d),m++;for(;m<p||b.length>0;){let t=e.y2;const n=Math.min(on(Math.ceil(g+i),o),e.y2);for(u=0;u<b.length&&t>n;u++)d=b[u],d.low.x==d.high.x?d.high.y<t&&(t=Math.max(sn(d.high.y,o),n)):d.low.x!=d.high.x&&(t=n);for(t>e.y2&&(t=e.y2);m<p&&(d=h[m]).low.y<t;)if(d.high.y<g)m++;else{if(!(d.low.y<n)){const e=sn(d.low.y,o);e<t&&(t=e);break}d.low.y==d.high.y&&d.low.y==g||(b.push(d),t=n),m++}const s=[];for(u=0;u<b.length;u++)tn(s,b[u],g,t);s.sort((e,t)=>e.x-t.x||e.lowOrHigh-t.lowOrHigh);const c=nn(s,r,a);if(0==c.length)l.push(new Kt(g,t,e.x2,e.x2));else{let n=0,i=e.x1;for(u=0;u<c.length;u+=2){const t=Math.max(e.x1,c[u]),o=Math.min(e.x2,c[u+1])-t;o>n&&(n=o,i=t)}0==n?l.push(new Kt(g,t,e.x2,e.x2)):l.push(new Kt(g,t,Math.max(i,e.x1),Math.min(i+n,e.x2)))}if(t==e.y2)break;for(g=t,u=b.length-1;u>=0;u--)b[u].high.y<=t&&b.splice(u,1)}return hn(e,l),l}(this.box,[this.getInnerShape()],this.getExclusions(),8,this.snapHeight,this.vertical),this.createFloats()}init(){this.chunkPositions=[],U(this.element,"width",`${this.width}px`),U(this.element,"height",`${this.height}px`),this.initGeom(),this.computedBlockSize=0,this.overflown=!1,this.pageBreakType=null,this.lastAfterPosition=null}saveEdgeBreakPosition(e,t,n){e.formattingContext;const i=e.copy(),o=(new tl).find(e.formattingContext),s=this.calculateClonedPaddingBorder(i),r=o.createEdgeBreakPosition(i,t,n,this.computedBlockSize+s);this.breakPositions.push(r)}saveBoxBreakPosition(e){const t=e[0].breakPenalty,n=new Tl(e,t);this.breakPositions.push(n)}updateMaxReachedAfterEdge(e){if(!isNaN(e)){const t=this.getBoxDir()*(e-this.beforeEdge);this.computedBlockSize=Math.max(t,this.computedBlockSize)}}layout(e,t,n){if(this.chunkPositions.push(e),e.primary.after&&(this.lastAfterPosition=e.primary),this.stopAtOverflow&&this.overflown)return fi(e);if(this.isFullWithPageFloats())return e.primary.after&&1===e.primary.steps.length?fi(null):fi(e);const i=this,o=pi("layout");return i.openAllViews(e.primary).then(e=>{let s=null;if(e.viewNode)s=e.copy();else{const e=t=>{t.nodeContext.viewNode&&(s=t.nodeContext,i.layoutContext.removeEventListener("nextInTree",e))};i.layoutContext.addEventListener("nextInTree",e)}const r=new kl(t,n);r.layout(e,i).then(e=>{i.doFinishBreak(e,r.context.overflownNodeContext,s,r.initialComputedBlockSize).then(e=>{let t=null;t=i.pseudoParent?fi(null):i.doFinishBreakOfFragmentLayoutConstraints(e),t.then(()=>{if(i.pageFloatLayoutContext.isInvalidated())o.finish(null);else if(e){i.overflown=!0;const t=new pa(e.toNodePosition());o.finish(t)}else o.finish(null)})})})}),o.result()}isFullWithPageFloats(){return this.pageFloatLayoutContext.isColumnFullWithPageFloats(this)}getMaxBlockSizeOfPageFloats(){return this.pageFloatLayoutContext.getMaxBlockSizeOfPageFloats()}doFinishBreakOfFragmentLayoutConstraints(e){const t=pi("doFinishBreakOfFragmentLayoutConstraints"),n=[].concat(this.fragmentLayoutConstraints);n.sort((e,t)=>e.getPriorityOfFinishBreak()-t.getPriorityOfFinishBreak());let i=0;return t.loop(()=>i<n.length?n[i++].finishBreak(e,this).thenReturn(!0):fi(!1)).then(()=>{t.finish(!0)}),t.result()}doLayout(e,t,n){const i=this,o=pi("doLayout");let s=null;return i.breakPositions=[],i.nodeContextOverflowingDueToRepetitiveElements=null,o.loopWithFrame(o=>{for(;e;){let r=!0;if(i.layoutNext(e,t,n||null).then(a=>{if(t=!1,n=null,i.nodeContextOverflowingDueToRepetitiveElements&&i.stopAtOverflow?(i.pageBreakType=null,(e=i.nodeContextOverflowingDueToRepetitiveElements).overflow=!0):e=a,i.pageFloatLayoutContext.isInvalidated())o.breakLoop();else if(i.pageBreakType)o.breakLoop();else if(e&&i.stopByOverflow(e)){s=e;const t=i.findAcceptableBreakPosition();e=t.nodeContext,t.breakPosition&&t.breakPosition.breakPositionChosen(i),o.breakLoop()}else r?r=!1:o.continueLoop()}),r)return void(r=!1)}i.computedBlockSize+=i.getOffsetByRepetitiveElements(),o.breakLoop()}).then(()=>{o.finish({nodeContext:e,overflownNodeContext:s})}),o.result()}redoLayout(){const e=this.chunkPositions;let t=this.element.lastChild;for(;t!=this.last;){const e=t.previousSibling;this.element===t.parentNode&&this.layoutContext.isPseudoelement(t)||this.element.removeChild(t),t=e}this.killFloats(),this.init();const n=this,i=pi("redoLayout");let o=0,s=null,r=!0;return i.loopWithFrame(t=>{if(o<e.length){const i=e[o++];n.layout(i,r).then(e=>{r=!1,e?(s=e,t.breakLoop()):t.continueLoop()})}else t.breakLoop()}).then(()=>{i.finish(s)}),i.result()}saveDistanceToBlockEndFloats(){const e=this.pageFloatLayoutContext.getBlockStartEdgeOfBlockEndFloats();e>0&&isFinite(e)&&(this.blockDistanceToBlockEndFloats=this.getBoxDir()*(e-this.beforeEdge-this.computedBlockSize))}collectElementsOffset(){const e=[];for(let t=this;t;t=t.pseudoParent)t.fragmentLayoutConstraints.forEach(t=>{if(Br.isInstanceOfRepetitiveElementsOwnerLayoutConstraint(t)){const n=t.getRepetitiveElements();e.push(n)}if(_r.isInstanceOfAfterIfContinuesLayoutConstraint(t)){const n=t.getRepetitiveElements();e.push(n)}Mr.isInstanceOfTableRowLayoutConstraint(t)&&t.getElementsOffsetsForTableCell(this).forEach(t=>{e.push(t)})});return e}}class Pl{constructor(e,t,n){this.startNodeContexts=[],this.column=Object.create(e),this.column.element=t,this.column.layoutContext=e.layoutContext.clone(),this.column.stopAtOverflow=!1,this.column.flowRootFormattingContext=n.formattingContext,this.column.pseudoParent=e;const i=this.column.calculateClonedPaddingBorder(n);this.column.footnoteEdge=this.column.footnoteEdge-i;const o=this;this.column.openAllViews=function(e){return Il.prototype.openAllViews.call(this,e).thenAsync(e=>(o.startNodeContexts.push(e.copy()),fi(e)))}}layout(e,t){return this.column.layout(e,t)}findAcceptableBreakPosition(e){const t=this.column.findAcceptableBreakPosition();if(e){const e=this.startNodeContexts[0].copy(),n=new Ka(e,null,e.overflow,0);if(n.findAcceptableBreak(this.column,0),!t.nodeContext)return{breakPosition:n,nodeContext:e}}return t}finishBreak(e,t,n){return this.column.finishBreak(e,t,n)}doFinishBreakOfFragmentLayoutConstraints(e){this.column.doFinishBreakOfFragmentLayoutConstraints(e)}isStartNodeContext(e){const t=this.startNodeContexts[0];return t.viewNode===e.viewNode&&t.after===e.after&&t.offsetInNode===e.offsetInNode}isLastAfterNodeContext(e){return sa(e.toNodePosition(),this.column.lastAfterPosition)}getColumnElement(){return this.column.element}getColumn(){return this.column}}const Al=/^[^A-Za-z0-9_\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AF\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]*([A-Za-z0-9_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AF\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527][^A-Za-z0-9_\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AF\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]*)?/;class Ol{breakTextNode(e,t,n,i,o,s){if(t.after)t.offsetInNode=e.length;else{let i=n-t.boxOffset;const o=e.data;i=173==o.charCodeAt(i)?this.breakAfterSoftHyphen(e,o,i,t):this.breakAfterOtherCharacter(e,o,i,t),i>0&&(t=this.updateNodeContext(t,i,e))}return t}breakAfterSoftHyphen(e,t,n,i){return e.replaceData(n,t.length-n,i.breakWord?"":Rl(i)),n+1}breakAfterOtherCharacter(e,t,n,i){const o=t.charAt(n);n++;const s=t.charAt(n);return e.replaceData(n,t.length-n,!i.breakWord&&j(o)&&j(s)?Rl(i):""),n}updateNodeContext(e,t,n){return(e=e.modify()).offsetInNode+=t,e.breakBefore=null,e}}function Rl(e){return e.hyphenateCharacter||e.parent&&e.parent.hyphenateCharacter||"-"}Ol.instance=new Ol;class kl extends rl{constructor(e,t){super(),this.leadingEdge=e,this.initialPageBreakType=null,this.initialComputedBlockSize=0,this.initialOverflown=!1,this.context={overflownNodeContext:null},this.breakAfter=t||null}resolveLayoutMode(e){return new Ll(this.leadingEdge,this.breakAfter,this.context)}prepareLayout(e,t){t.fragmentLayoutConstraints=[],t.pseudoParent||(cl=[])}clearNodes(e){super.clearNodes(e);let t=e;for(;t;){const e=t.viewNode;e&&Ga(e.parentNode,e),t=t.parent}}saveState(e,t){super.saveState(e,t),this.initialPageBreakType=t.pageBreakType,this.initialComputedBlockSize=t.computedBlockSize,this.initialOverflown=t.overflown}restoreState(e,t){super.restoreState(e,t),t.pageBreakType=this.initialPageBreakType,t.computedBlockSize=this.initialComputedBlockSize,t.overflown=this.initialOverflown}}class Ll{constructor(e,t,n){this.leadingEdge=e,this.breakAfter=t,this.context=n}doLayout(e,t){const n=pi("DefaultLayoutMode.doLayout");return function(e,t){const n=pi("processAfterIfContinuesOfAncestors");let i=e;return n.loop(()=>{if(null!==i){const e=Sl(i,t);return i=i.parent,e.thenReturn(!0)}return fi(!1)}).then(()=>{n.finish(!0)}),n.result()}(e,t).then(()=>{t.doLayout(e,this.leadingEdge,this.breakAfter).then(e=>{this.context.overflownNodeContext=e.overflownNodeContext,n.finish(e.nodeContext)})}),n.result()}accept(e,t){return!(!t.pageFloatLayoutContext.isInvalidated()&&!t.pageBreakType)||t.fragmentLayoutConstraints.length<=0||t.fragmentLayoutConstraints.every(n=>n.allowLayout(e,this.context.overflownNodeContext,t))}postLayout(e,t,n,i){if(!i){const t=n.fragmentLayoutConstraints.some(t=>t.nextCandidate(e));i=!t}return n.fragmentLayoutConstraints.forEach(o=>{o.postLayout(i,e,t,n)}),i}}class Fl extends Il{constructor(e,t,n,i,o,s,r){super(t,n,i,o,s),this.floatSide=e,this.parentContainer=r,this.rootViewNodes=[],this.floatMargins=[],this.adjustContentRelativeSize=!0}openAllViews(e){return super.openAllViews(e).thenAsync(e=>(e&&this.fixFloatSizeAndPosition(e),fi(e)))}convertPercentageSizesToPx(e){const t=this.parentContainer.getPaddingRect(),n=t.x2-t.x1,i=t.y2-t.y1;function o(t,n){t.forEach(t=>{const i=z(e,t);if(i&&"%"===i.charAt(i.length-1)){const o=parseFloat(i);U(e,t,`${n*o/100}px`)}})}o(["width","max-width","min-width"],n),o(["height","max-height","min-height"],i),o(["margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left"],this.vertical?i:n),["margin-top","margin-right","margin-bottom","margin-left"].forEach(t=>{"auto"===z(e,t)&&U(e,t,"0")})}fixFloatSizeAndPosition(e){for(;e.parent;)e=e.parent;e.viewNode.nodeType;const t=e.viewNode;if(this.rootViewNodes.push(t),this.adjustContentRelativeSize&&this.convertPercentageSizesToPx(t),this.floatMargins.push(this.getComputedMargin(t)),this.adjustContentRelativeSize){const e=this.floatSide;if(this.parentContainer.vertical){if("block-end"===e||"left"===e){const e=z(t,"height");""!==e&&"auto"!==e&&U(t,"margin-top","auto")}}else if("block-end"===e||"bottom"===e){const e=z(t,"width");""!==e&&"auto"!==e&&U(t,"margin-left","auto")}}}getContentInlineSize(){return Math.max.apply(null,this.rootViewNodes.map((e,t)=>{const n=this.clientLayout.getElementClientRect(e),i=this.floatMargins[t];return this.vertical?i.top+n.height+i.bottom:i.left+n.width+i.right}))}}class Dl{constructor(e,t){this.parent=e,this.rootSourceNode=t,this.formattingContextType="RepetitiveElementsOwner",this.isRoot=!1,this.repetitiveElements=null}getName(){return"Repetitive elements owner formatting context (RepetitiveElementsOwnerFormattingContext)"}isFirstTime(e,t){return t}getParent(){return this.parent}getRepetitiveElements(){return this.repetitiveElements}getRootViewNode(e){const t=this.getRootNodeContext(e);return t?t.viewNode:null}getRootNodeContext(e){do{if(!e.belongsTo(this)&&e.sourceNode===this.rootSourceNode)return e}while(e=e.parent);return null}initializeRepetitiveElements(e){this.repetitiveElements||cl.some(e=>e.root===this.rootSourceNode&&(this.repetitiveElements=e.elements,!0))||(this.repetitiveElements=new _l(e,this.rootSourceNode),cl.push({root:this.rootSourceNode,elements:this.repetitiveElements}))}saveState(){}restoreState(e){}}class _l{constructor(e,t){this.vertical=e,this.ownerSourceNode=t,this.headerSourceNode=null,this.footerSourceNode=null,this.headerViewNode=null,this.footerViewNode=null,this.headerNodePosition=null,this.footerNodePosition=null,this.headerHeight=0,this.footerHeight=0,this.isSkipHeader=!1,this.isSkipFooter=!1,this.enableSkippingFooter=!0,this.enableSkippingHeader=!0,this.doneInitialLayout=!1,this.firstContentSourceNode=null,this.lastContentSourceNode=null,this.affectedNodeCache=[],this.afterLastContentNodeCache=[],this.allowInsert=!1}setHeaderNodeContext(e){this.headerNodePosition||(this.headerNodePosition=ra(e,0),this.headerSourceNode=e.sourceNode,this.headerViewNode=e.viewNode)}setFooterNodeContext(e){this.footerNodePosition||(this.footerNodePosition=ra(e,0),this.footerSourceNode=e.sourceNode,this.footerViewNode=e.viewNode)}updateHeight(e){this.headerViewNode&&(this.headerHeight=Va(this.headerViewNode,e,this.vertical),this.headerViewNode=null),this.footerViewNode&&(this.footerHeight=Va(this.footerViewNode,e,this.vertical),this.footerViewNode=null)}prepareLayoutFragment(){this.isSkipHeader=this.isSkipFooter=!1,this.enableSkippingFooter=!0,this.enableSkippingHeader=!0}appendHeaderToFragment(e,t,n){return!this.headerNodePosition||this.isSkipHeader?fi(!0):this.appendElementToFragment(this.headerNodePosition,e,t,n)}appendFooterToFragment(e,t,n){return!this.footerNodePosition||this.isSkipFooter?fi(!0):this.appendElementToFragment(this.footerNodePosition,e,t,n)}appendElementToFragment(e,t,n,i){const o=t.viewNode.ownerDocument,s=t.viewNode,r=o.createElement("div");s.appendChild(r);const a=new Pl(i,r,t),l=a.getColumn().pageBreakType;return a.getColumn().pageBreakType=null,this.allowInsertRepeatitiveElements=!0,a.layout(new pa(e),!0).thenAsync(()=>(this.allowInsertRepeatitiveElements=!1,s.removeChild(r),this.moveChildren(r,s,n),a.getColumn().pageBreakType=l,fi(!0)))}moveChildren(e,t,n){if(t)for(;e.firstChild;){const i=e.firstChild;e.removeChild(i),i.setAttribute(qr,"1"),n?t.insertBefore(i,n):t.appendChild(i)}}calculateOffset(e){let t=0;return e&&!this.affectTo(e)?t:((!this.isSkipFooter||e&&this.isAfterLastContent(e))&&(t+=this.footerHeight),this.isSkipHeader||(t+=this.headerHeight),t)}calculateMinimumOffset(e){let t=0;return e&&!this.affectTo(e)?t:(e&&this.isAfterLastContent(e)&&(t+=this.footerHeight),this.enableSkippingHeader||(t+=this.headerHeight),t)}isAfterLastContent(e){return this.findResultFromCache(e,this.afterLastContentNodeCache,t=>this.isAfterNodeContextOf(this.lastContentSourceNode,e,!1))}affectTo(e){return this.findResultFromCache(e,this.affectedNodeCache,t=>this.isAfterNodeContextOf(this.ownerSourceNode,e,!0))}findResultFromCache(e,t,n){const i=t.filter(t=>t.nodeContext.sourceNode===e.sourceNode&&t.nodeContext.after===e.after);if(i.length>0)return i[0].result;{const i=n(e);return t.push({nodeContext:e,result:i}),i}}isAfterNodeContextOf(e,t,n){const i=[];for(let n=e;n;n=n.parentNode){if(t.sourceNode===n)return t.after;i.push(n)}for(let e=t.sourceNode;e;e=e.parentNode){const t=i.indexOf(e);if(t>=0)return!!n&&0===t;for(let t=e;t;t=t.previousElementSibling)if(i.includes(t))return!0}return t.after}isFirstContentNode(e){return e&&this.firstContentSourceNode===e.sourceNode}isEnableToUpdateState(){return!!(!this.isSkipFooter&&this.enableSkippingFooter&&this.footerNodePosition||!this.isSkipHeader&&this.enableSkippingHeader&&this.headerNodePosition)}updateState(){!this.isSkipFooter&&this.enableSkippingFooter&&this.footerNodePosition?this.isSkipFooter=!0:!this.isSkipHeader&&this.enableSkippingHeader&&this.headerNodePosition&&(this.isSkipHeader=!0)}preventSkippingHeader(){this.isSkipHeader=!1,this.enableSkippingHeader=!1}preventSkippingFooter(){this.isSkipFooter=!1,this.enableSkippingFooter=!1}isHeaderRegistered(){return!!this.headerNodePosition}isFooterRegistered(){return!!this.footerNodePosition}isHeaderSourceNode(e){return this.headerSourceNode===e}isFooterSourceNode(e){return this.footerSourceNode===e}}class Bl{constructor(e){this.formattingContext=e}accept(e,t){return!!e}postLayout(e,t,n,i){const o=this.formattingContext.getRepetitiveElements();return o&&(n.clientLayout,o.doneInitialLayout||(o.updateHeight(n),o.doneInitialLayout=!0)),i}}class Ml{constructor(e){this.formattingContext=e}accept(e,t){return!0}postLayout(e,t,n,i){return i}}class Ul extends Bl{constructor(e,t){super(e),this.processor=t}doLayout(e,t){return this.processor.doInitialLayout(e,t)}accept(e,t){return!1}}class zl extends Ml{constructor(e,t){super(e),this.processor=t}doLayout(e,t){return e.belongsTo(this.formattingContext)||e.after||t.fragmentLayoutConstraints.unshift(new Vl(e)),this.processor.doLayout(e,t)}}class Vl{constructor(e){this.flagmentLayoutConstraintType="RepetitiveElementsOwner";const t=e.formattingContext;this.nodeContext=t.getRootNodeContext(e)}allowLayout(e,t,n){const i=this.getRepetitiveElements();return!(i&&!Ha(this.nodeContext.viewNode)&&i.isEnableToUpdateState()&&(t&&!e||e&&e.overflow))}nextCandidate(e){const t=this.getRepetitiveElements();return!!t&&!!t.isEnableToUpdateState()&&(t.updateState(),!0)}postLayout(e,t,n,i){const o=this.getRepetitiveElements();o&&e&&i.stopAtOverflow&&(null==t||o.isAfterLastContent(t))&&o.preventSkippingFooter()}finishBreak(e,t){const n=this.nodeContext.formattingContext,i=this.getRepetitiveElements();if(!i)return fi(!0);const o=this.nodeContext;return function(e,t,n){const i=e.getRepetitiveElements();if(i){const o=e.getRootNodeContext(t);if(o.viewNode){const e=o.viewNode.firstChild;return i.appendHeaderToFragment(o,e,n)}}return fi(!0)}(n,o,t).thenAsync(()=>(function(e,t,n){const i=e.getRepetitiveElements();if(i&&!i.isSkipFooter){const o=e.getRootNodeContext(t);if(o.viewNode)return i.appendFooterToFragment(o,null,n)}return fi(!0)})(n,o,t).thenAsync(()=>(i.prepareLayoutFragment(),fi(!0))))}getRepetitiveElements(){return this.nodeContext.formattingContext.getRepetitiveElements()}equalsTo(e){return e instanceof Vl&&this.nodeContext.formattingContext===e.nodeContext.formattingContext}getPriorityOfFinishBreak(){return 10}}class Hl extends rl{constructor(e,t){super(),this.formattingContext=e,this.processor=t}resolveLayoutMode(e){const t=this.formattingContext.getRepetitiveElements();return e.belongsTo(this.formattingContext)||t.doneInitialLayout?(e.belongsTo(this.formattingContext)||e.after||t&&t.preventSkippingHeader(),new zl(this.formattingContext,this.processor)):new Ul(this.formattingContext,this.processor)}}class Gl extends hl{constructor(e,t){super(),this.formattingContext=e,this.column=t}startNonInlineElementNode(e){const t=this.formattingContext,n=e.nodeContext,i=t.getRepetitiveElements();if(n.parent&&t.rootSourceNode===n.parent.sourceNode){switch(n.repeatOnBreak){case"header":if(!i.isHeaderRegistered())return i.setHeaderNodeContext(n),fi(!0);n.repeatOnBreak="none";break;case"footer":if(!i.isFooterRegistered())return i.setFooterNodeContext(n),fi(!0);n.repeatOnBreak="none"}i.firstContentSourceNode||(i.firstContentSourceNode=n.sourceNode)}return hl.prototype.startNonInlineElementNode.call(this,e)}afterNonInlineElementNode(e){const t=this.formattingContext,n=e.nodeContext;return n.sourceNode===t.rootSourceNode&&(t.getRepetitiveElements().lastContentSourceNode=e.lastAfterNodeContext&&e.lastAfterNodeContext.sourceNode,e.break=!0),"header"===n.repeatOnBreak||"footer"===n.repeatOnBreak?fi(!0):hl.prototype.afterNonInlineElementNode.call(this,e)}}function $l(e,t){e&&function(e,t){for(let n=e;n;n=n.parent){const e=n.formattingContext;e&&e instanceof Dl&&!n.belongsTo(e)&&t(e,n)}}(e.after?e.parent:e,(e,n)=>{Mr.isInstanceOfTableFormattingContext(e)||t.fragmentLayoutConstraints.push(new Vl(n))})}const Wl=new class extends nl{layout(e,t,n){if(t.isFloatNodeContext(e))return t.layoutFloatOrFootnote(e);const i=e.formattingContext;return i.getRootViewNode(e)?(n&&$l(e.parent,t),e.belongsTo(i)?nl.prototype.layout.call(this,e,t,n):new Hl(i,this).layout(e,t)):t.buildDeepElementView(e)}startNonInlineElementNode(e){const t=function(e){const t=e.formattingContext;return t&&t instanceof Dl?t:null}(e).getRepetitiveElements();return!!t&&(t.allowInsertRepeatitiveElements||!t.isHeaderSourceNode(e.sourceNode)&&!t.isFooterSourceNode(e.sourceNode)||e.viewNode.parentNode.removeChild(e.viewNode),!1)}doInitialLayout(e,t){e.formattingContext;const n=pi("BlockLayoutProcessor.doInitialLayout");return this.layoutEntireBlock(e,t).thenFinish(n),n.result()}layoutEntireBlock(e,t){const n=e.formattingContext,i=new Gl(n,t);return new ll(i,t.layoutContext).iterate(e)}doLayout(e,t){const n=e.formattingContext,i=pi("doLayout");return Nl(t.layoutContext.nextInTree(e,!1),t).then(e=>{let o=e;i.loopWithFrame(e=>{for(;o;){let i=!0;if(t.layoutNext(o,!1).then(s=>{o=s,t.pageFloatLayoutContext.isInvalidated()?e.breakLoop():t.pageBreakType?e.breakLoop():o&&t.stopByOverflow(o)?e.breakLoop():o&&o.after&&o.sourceNode==n.rootSourceNode?e.breakLoop():i?i=!1:e.continueLoop()}),i)return void(i=!1)}e.breakLoop()}).then(()=>{i.finish(o)})}),i.result()}finishBreak(e,t,n,i){return nl.prototype.finishBreak.call(this,e,t,n,i)}clearOverflownViewNodes(e,t,n,i){nl.prototype.clearOverflownViewNodes(e,t,n,i)}};u(t.HOOKS.RESOLVE_LAYOUT_PROCESSOR,e=>e instanceof Dl&&!Mr.isInstanceOfTableFormattingContext(e)?Wl:null);class Xl{constructor(e,t){this.rowIndex=e,this.sourceNode=t,this.cells=[]}addCell(e){this.cells.push(e)}getMinimumHeight(){return Math.min.apply(null,this.cells.map(e=>e.height))}}class jl{constructor(e,t,n){this.rowIndex=e,this.columnIndex=t,this.height=0,this.anchorSlot=null,this.viewElement=n,this.colSpan=n.colSpan||1,this.rowSpan=n.rowSpan||1}setHeight(e){this.height=e}setAnchorSlot(e){this.anchorSlot=e}}class Kl{constructor(e,t,n){this.rowIndex=e,this.columnIndex=t,this.cell=n}}class Yl{constructor(e,t,n){this.column=e,this.cellNodeContext=n,this.empty=!1,this.pseudoColumn=new Pl(e,t,n)}findAcceptableBreakPosition(){const e=this.cellNodeContext.viewNode,t=this.cellNodeContext.verticalAlign;"middle"!==t&&"bottom"!==t||U(e,"vertical-align","top");const n=this.pseudoColumn.findAcceptableBreakPosition(!0);return U(e,"vertical-align",t),n}}class ql{constructor(e,t){this.viewNode=e,this.side=t}}class Zl extends Ka{constructor(e,t,n,i){super(e,t,n,i),this.acceptableCellBreakPositions=null,this.rowIndex=null,this.formattingContext=e.formattingContext}findAcceptableBreak(e,t){const n=super.findAcceptableBreak(e,t);return t<this.getMinBreakPenalty()?null:this.getAcceptableCellBreakPositions().every(e=>!!e.nodeContext)?n:null}getMinBreakPenalty(){let e=super.getMinBreakPenalty();return this.getAcceptableCellBreakPositions().forEach(t=>{e+=t.breakPosition.getMinBreakPenalty()}),e}getAcceptableCellBreakPositions(){if(!this.acceptableCellBreakPositions){this.formattingContext;const e=this.getCellFragments();this.acceptableCellBreakPositions=e.map(e=>e.findAcceptableBreakPosition())}return this.acceptableCellBreakPositions}getRowIndex(){return null!=this.rowIndex?this.rowIndex:this.rowIndex=this.formattingContext.findRowIndexBySourceNode(this.position.sourceNode)}getCellFragments(){return this.formattingContext.getRowSpanningCellsOverflowingTheRow(this.getRowIndex()).map(this.formattingContext.getCellFragmentOfCell,this.formattingContext)}}class Ql extends Xa{constructor(e,t,n){super(),this.rowIndex=e,this.beforeNodeContext=t,this.formattingContext=n,this.acceptableCellBreakPositions=null}findAcceptableBreak(e,t){if(t<this.getMinBreakPenalty())return null;const n=this.getCellFragments(),i=this.getAcceptableCellBreakPositions(),o=i.every(e=>!!e.nodeContext)&&i.some((e,t)=>{const i=n[t].pseudoColumn,o=e.nodeContext;return!i.isStartNodeContext(o)&&!i.isLastAfterNodeContext(o)});return this.beforeNodeContext.overflow=i.some(e=>e.nodeContext&&e.nodeContext.overflow),o?this.beforeNodeContext:null}getMinBreakPenalty(){const e=this.formattingContext,t=e.getRowByIndex(this.rowIndex);let n=0;return e.isFreelyFragmentableRow(t)||(n+=10),this.getAcceptableCellBreakPositions().forEach(e=>{n+=e.breakPosition.getMinBreakPenalty()}),n}getAcceptableCellBreakPositions(){if(!this.acceptableCellBreakPositions){const e=this.getCellFragments();this.acceptableCellBreakPositions=e.map(e=>e.findAcceptableBreakPosition())}return this.acceptableCellBreakPositions}getCellFragments(){return this.formattingContext.getCellsFallingOnRow(this.rowIndex).map(this.formattingContext.getCellFragmentOfCell,this.formattingContext)}}class Jl extends Dl{constructor(e,t){super(e,t),this.tableSourceNode=t,this.formattingContextType="Table",this.vertical=!1,this.columnCount=-1,this.tableWidth=0,this.captions=[],this.colGroups=null,this.colWidths=null,this.inlineBorderSpacing=0,this.rows=[],this.slots=[],this.cellFragments=[],this.lastRowViewNode=null,this.cellBreakPositions=[],this.repetitiveElements=null}getName(){return"Table formatting context (Table.TableFormattingContext)"}isFirstTime(e,t){if(!t)return t;switch(e.display){case"table-row":return 0===this.cellBreakPositions.length;case"table-cell":return!this.cellBreakPositions.some(t=>t.cellNodePosition.steps[0].node===e.sourceNode);default:return t}}getParent(){return this.parent}finishFragment(){this.cellFragments=[]}addRow(e,t){this.rows[e]=t}getRowSlots(e){let t=this.slots[e];return t||(t=this.slots[e]=[]),t}addCell(e,t){let n=this.rows[e];n||(this.addRow(e,new Xl(e,null)),n=this.rows[e]),n.addCell(t);const i=e+t.rowSpan;let o=this.getRowSlots(e),s=0;for(;o[s];)s++;for(;e<i;e++){o=this.getRowSlots(e);for(let n=s;n<s+t.colSpan;n++){const i=o[n]=new Kl(e,n,t);t.anchorSlot||t.setAnchorSlot(i)}}}getRowByIndex(e){return this.rows[e]}findRowIndexBySourceNode(e){return this.rows.findIndex(t=>e===t.sourceNode)}addCellFragment(e,t,n){let i=this.cellFragments[e];i||(i=this.cellFragments[e]=[]),i[t]=n}getCellsFallingOnRow(e){return this.getRowSlots(e).reduce((e,t)=>t.cell!==e[e.length-1]?e.concat(t.cell):e,[])}getRowSpanningCellsOverflowingTheRow(e){return this.getCellsFallingOnRow(e).filter(t=>t.rowIndex+t.rowSpan-1>e)}getCellFragmentOfCell(e){return this.cellFragments[e.rowIndex]&&this.cellFragments[e.rowIndex][e.columnIndex]}isFreelyFragmentableRow(e){return e.getMinimumHeight()>this.tableWidth/2}getColumnCount(){return this.columnCount<0&&(this.columnCount=Math.max.apply(null,this.rows.map(e=>e.cells.reduce((e,t)=>e+t.colSpan,0)))),this.columnCount}updateCellSizes(e){this.rows.forEach(t=>{t.cells.forEach(t=>{const n=e.getElementClientRect(t.viewElement);t.viewElement=null,t.setHeight(this.vertical?n.width:n.height)})})}findCellFromColumn(e){if(!e)return null;let t=null,n=0,i=0;e:for(n=0;n<this.cellFragments.length;n++)if(this.cellFragments[n])for(i=0;i<this.cellFragments[n].length;i++)if(this.cellFragments[n][i]&&e===this.cellFragments[n][i].pseudoColumn.getColumn()){t=this.rows[n].cells[i];break e}if(!t)return null;for(;n<this.slots.length;n++)for(;i<this.slots[n].length;i++){const e=this.slots[n][i];if(e.cell===t)return{rowIndex:e.rowIndex,columnIndex:e.columnIndex}}return null}collectElementsOffsetOfUpperCells(e){const t=[];return this.slots.reduce((n,i,o)=>{if(o>=e.rowIndex)return n;const s=i[e.columnIndex]&&this.getCellFragmentOfCell(i[e.columnIndex].cell);return!s||t.includes(s)?n:(this.collectElementsOffsetFromColumn(s.pseudoColumn.getColumn(),n),t.push(s),n)},[])}collectElementsOffsetOfHighestColumn(){const e=[];return this.rows.forEach(t=>{t.cells.forEach((t,n)=>{e[n]||(e[n]={collected:[],elements:[]});const i=e[n],o=this.getCellFragmentOfCell(t);o&&!i.collected.includes(o)&&(this.collectElementsOffsetFromColumn(o.pseudoColumn.getColumn(),i.elements),i.collected.push(o))})}),[new eh(e.map(e=>e.elements))]}collectElementsOffsetFromColumn(e,t){e.fragmentLayoutConstraints.forEach(e=>{if(Br.isInstanceOfRepetitiveElementsOwnerLayoutConstraint(e)){const n=e.getRepetitiveElements();t.push(n)}Mr.isInstanceOfTableRowLayoutConstraint(e)&&e.getElementsOffsetsForTableCell(null).forEach(e=>{t.push(e)})})}saveState(){return[].concat(this.cellBreakPositions)}restoreState(e){this.cellBreakPositions=e}}class eh{constructor(e){this.repeatitiveElementsInColumns=e}calculateOffset(e){return this.calculateMaxOffsetOfColumn(e,e=>e.current)}calculateMinimumOffset(e){return this.calculateMaxOffsetOfColumn(e,e=>e.minimum)}calculateMaxOffsetOfColumn(e,t){let n=0;return this.repeatitiveElementsInColumns.forEach(i=>{const o=ja(e,i);n=Math.max(n,t(o))}),n}}function th(e){return function(e){return"table-row-group"===e||"table-header-group"===e||"table-footer-group"===e}(e)||function(e){return"table"===e||"inline-table"===e}(e)}function nh(e,t,n){const i=e.nodeContext,o=i.display,s=i.parent?i.parent.display:null;let r=!1;if("inline-table"===s&&!(i.formattingContext instanceof Jl))for(let e=i.parent;e;e=e.parent)if(e.formattingContext instanceof Jl){r=e.formattingContext===t;break}return r||"table-row"===o&&!th(s)||"table-cell"===o&&"table-row"!==s&&!th(s)||i.formattingContext instanceof Jl&&i.formattingContext!==t?n.buildDeepElementView(i).thenAsync(t=>(e.nodeContext=t,fi(!0))):null}class ih extends hl{constructor(e,t){super(),this.formattingContext=e,this.column=t,this.rowIndex=-1,this.columnIndex=0,this.inRow=!1,this.checkPoints=[],this.inHeaderOrFooter=!1}startNonInlineElementNode(e){const t=this.formattingContext,n=nh(e,t,this.column);if(n)return n;this.postLayoutBlockContents(e);const i=e.nodeContext,o=i.display,s=t.getRepetitiveElements();switch(o){case"table":t.inlineBorderSpacing=i.inlineBorderSpacing;break;case"table-caption":{const e=new ql(i.viewNode,i.captionSide);t.captions.push(e);break}case"table-header-group":return s.isHeaderRegistered()||(this.inHeaderOrFooter=!0,s.setHeaderNodeContext(i)),fi(!0);case"table-footer-group":return s.isFooterRegistered()||(this.inHeaderOrFooter=!0,s.setFooterNodeContext(i)),fi(!0);case"table-row":this.inHeaderOrFooter||(this.inRow=!0,this.rowIndex++,i.sourceNode,this.columnIndex=0,t.addRow(this.rowIndex,new Xl(this.rowIndex,i.sourceNode)),s.firstContentSourceNode||(s.firstContentSourceNode=i.sourceNode))}return super.startNonInlineElementNode(e)}afterNonInlineElementNode(e){const t=this.formattingContext,n=e.nodeContext,i=n.display,o=this.column.clientLayout;if(this.postLayoutBlockContents(e),n.sourceNode===t.tableSourceNode){const i=o.getElementComputedStyle(t.getRootViewNode(n));t.tableWidth=parseFloat(i[t.vertical?"height":"width"]),t.getRepetitiveElements().lastContentSourceNode=e.lastAfterNodeContext&&e.lastAfterNodeContext.sourceNode,e.break=!0}else switch(i){case"table-header-group":case"table-footer-group":if(this.inHeaderOrFooter)return this.inHeaderOrFooter=!1,fi(!0);break;case"table-row":this.inHeaderOrFooter||(t.lastRowViewNode=n.viewNode,this.inRow=!1);break;case"table-cell":if(!this.inHeaderOrFooter){this.inRow||(this.rowIndex++,this.columnIndex=0,this.inRow=!0);const e=n.viewNode;t.addCell(this.rowIndex,new jl(this.rowIndex,this.columnIndex,e)),this.columnIndex++}}return super.afterNonInlineElementNode(e)}startNonElementNode(e){this.registerCheckPoint(e)}afterNonElementNode(e){this.registerCheckPoint(e)}startInlineElementNode(e){this.registerCheckPoint(e)}afterInlineElementNode(e){this.registerCheckPoint(e)}registerCheckPoint(e){const t=e.nodeContext;t&&t.viewNode&&!Wa(t)&&this.checkPoints.push(t.clone())}postLayoutBlockContents(e){this.checkPoints.length>0&&this.column.postLayoutBlock(e.nodeContext,this.checkPoints),this.checkPoints=[]}}class oh extends hl{constructor(e,t){super(!0),this.formattingContext=e,this.column=t,this.inRow=!1,this.currentRowIndex=-1,this.currentColumnIndex=0,this.originalStopAtOverflow=t.stopAtOverflow,t.stopAtOverflow=!1}resetColumn(){this.column.stopAtOverflow=this.originalStopAtOverflow}getColSpanningCellWidth(e){const t=this.formattingContext.colWidths;let n=0;for(let i=0;i<e.colSpan;i++)n+=t[e.anchorSlot.columnIndex+i];return n+=this.formattingContext.inlineBorderSpacing*(e.colSpan-1),n}layoutCell(e,t,n){const i=e.rowIndex,o=e.columnIndex,s=e.colSpan,r=t.viewNode;t.verticalAlign,s>1&&(U(r,"box-sizing","border-box"),U(r,this.formattingContext.vertical?"height":"width",`${this.getColSpanningCellWidth(e)}px`));const a=r.ownerDocument.createElement("div");r.appendChild(a);const l=new Yl(this.column,a,t);return this.formattingContext.addCellFragment(i,o,l),1===n.primary.steps.length&&n.primary.after&&(l.empty=!0),l.pseudoColumn.layout(n,!0).thenReturn(!0)}hasBrokenCellAtSlot(e){const t=this.formattingContext.cellBreakPositions[0];return!!t&&t.cell.anchorSlot.columnIndex===e}extractRowSpanningCellBreakPositions(){const e=this.formattingContext.cellBreakPositions;if(0===e.length)return[];const t=[];let n=0;do{const i=e[n],o=i.cell.rowIndex;if(o<this.currentRowIndex){let s=t[o];s||(s=t[o]=[]),s.push(i),e.splice(n,1)}else n++}while(n<e.length);return t}layoutRowSpanningCellsFromPreviousFragment(e){const t=this.formattingContext,n=this.extractRowSpanningCellBreakPositions(),i=n.reduce(e=>e+1,0);if(0===i)return fi(!0);const o=this.column.layoutContext,s=e.nodeContext;s.viewNode.parentNode.removeChild(s.viewNode);const r=pi("layoutRowSpanningCellsFromPreviousFragment");let a=fi(!0),l=0;const h=[];return n.forEach(e=>{a=a.thenAsync(()=>{const n=aa(e[0].cellNodePosition.steps[1],s.parent);return o.setCurrent(n,!1).thenAsync(()=>{let s=fi(!0),r=0;function a(e){for(;r<e;){if(!h.includes(r)){const e=n.viewNode.ownerDocument.createElement("td");U(e,"padding","0"),n.viewNode.appendChild(e)}r++}}return e.forEach(e=>{s=s.thenAsync(()=>{const t=e.cell;a(t.anchorSlot.columnIndex);const s=e.cellNodePosition,c=aa(s.steps[0],n);return c.offsetInNode=s.offsetInNode,c.after=s.after,c.fragmentIndex=s.steps[0].fragmentIndex+1,o.setCurrent(c,!1).thenAsync(()=>{const n=e.breakChunkPosition;for(let e=0;e<t.colSpan;e++)h.push(r+e);return r+=t.colSpan,this.layoutCell(t,c,n).thenAsync(()=>(c.viewNode.rowSpan=t.rowIndex+t.rowSpan-this.currentRowIndex+i-l,fi(!0)))})})}),s.thenAsync(()=>(a(t.getColumnCount()),l++,fi(!0)))})})}),a.then(()=>{o.setCurrent(s,!0,e.atUnforcedBreak).then(()=>{r.finish(!0)})}),r.result()}startTableRow(e){if(this.inHeader||this.inFooter)return fi(!0);const t=e.nodeContext,n=this.formattingContext;return this.currentRowIndex<0?(t.sourceNode,this.currentRowIndex=n.findRowIndexBySourceNode(t.sourceNode)):this.currentRowIndex++,this.currentColumnIndex=0,this.inRow=!0,this.layoutRowSpanningCellsFromPreviousFragment(e).thenAsync(()=>(this.registerCellFragmentIndex(),this.column.checkOverflowAndSaveEdgeAndBreakPosition(e.lastAfterNodeContext,null,!0,e.breakAtTheEdge)&&0===n.getRowSpanningCellsOverflowingTheRow(this.currentRowIndex-1).length&&(this.resetColumn(),t.overflow=!0,e.break=!0),fi(!0)))}registerCellFragmentIndex(){this.formattingContext.getRowByIndex(this.currentRowIndex).cells.forEach(e=>{const t=this.formattingContext.cellBreakPositions[e.columnIndex];if(t&&t.cell.anchorSlot.columnIndex==e.anchorSlot.columnIndex){const e=t.cellNodePosition.steps[0],n=this.column.layoutContext.xmldoc.getElementOffset(e.node);bl(n,e.fragmentIndex+1,1)}})}startTableCell(e){if(this.inHeader||this.inFooter)return fi(!0);const t=e.nodeContext;this.inRow||(this.currentRowIndex<0?this.currentRowIndex=0:this.currentRowIndex++,this.currentColumnIndex=0,this.inRow=!0);const n=this.formattingContext.getRowByIndex(this.currentRowIndex).cells[this.currentColumnIndex],i=t.copy().modify();i.after=!0,e.nodeContext=i;const o=pi("startTableCell");let s;if(this.hasBrokenCellAtSlot(n.anchorSlot.columnIndex)){const e=this.formattingContext.cellBreakPositions.shift();t.fragmentIndex=e.cellNodePosition.steps[0].fragmentIndex+1,s=fi(e.breakChunkPosition)}else s=this.column.nextInTree(t,e.atUnforcedBreak).thenAsync(e=>{e.viewNode&&t.viewNode.removeChild(e.viewNode);const n=ra(e,0);return fi(new pa(n))});return s.then(i=>{this.layoutCell(n,t,i).then(()=>{this.afterNonInlineElementNode(e),this.currentColumnIndex++,o.finish(!0)})}),o.result()}startNonInlineBox(e){const t=nh(e,this.formattingContext,this.column);if(t)return t;const n=e.nodeContext,i=this.formattingContext.getRepetitiveElements(),o=n.display;return"table-header-group"===o&&i&&i.isHeaderSourceNode(n.sourceNode)?(this.inHeader=!0,fi(!0)):"table-footer-group"===o&&i&&i.isFooterSourceNode(n.sourceNode)?(this.inFooter=!0,fi(!0)):"table-row"===o?this.startTableRow(e):"table-cell"===o?this.startTableCell(e):fi(!0)}endNonInlineBox(e){const t=e.nodeContext;if("table-row"===t.display&&(this.inRow=!1,!this.inHeader&&!this.inFooter)){const e=t.copy().modify();e.after=!1;const n=new Ql(this.currentRowIndex,e,this.formattingContext);this.column.breakPositions.push(n)}return fi(!0)}afterNonInlineElementNode(e){const t=e.nodeContext,n=this.formattingContext.getRepetitiveElements(),i=t.display;if("table-header-group"===i?n&&!n.allowInsertRepeatitiveElements&&n.isHeaderSourceNode(t.sourceNode)?(this.inHeader=!1,t.viewNode.parentNode.removeChild(t.viewNode)):U(t.viewNode,"display","table-row-group"):"table-footer-group"===i&&(n&&!n.allowInsertRepeatitiveElements&&n.isFooterSourceNode(t.sourceNode)?(this.inFooter=!1,t.viewNode.parentNode.removeChild(t.viewNode)):U(t.viewNode,"display","table-row-group")),i&&oh.ignoreList[i])t.viewNode.parentNode.removeChild(t.viewNode);else{if(t.sourceNode!==this.formattingContext.tableSourceNode)return super.afterNonInlineElementNode(e);t.overflow=this.column.checkOverflowAndSaveEdge(t,null),this.resetColumn(),e.break=!0}return fi(!0)}}oh.ignoreList={"table-caption":!0,"table-column-group":!0,"table-column":!0};const sh=[];class rh{layoutEntireTable(e,t){const n=e.formattingContext,i=new ih(n,t);return new ll(i,t.layoutContext).iterate(e)}getColumnWidths(e,t,n,i){const o=e.ownerDocument,s=o.createElement("tr"),r=[];for(let e=0;e<t;e++){const e=o.createElement("td");s.appendChild(e),r.push(e)}e.parentNode.insertBefore(s,e.nextSibling);const a=r.map(e=>{const t=i.getElementClientRect(e);return n?t.height:t.width});return e.parentNode.removeChild(s),a}getColGroupElements(e){const t=[];let n=e.firstElementChild;for(;n;)"colgroup"===n.localName&&t.push(n),n=n.nextElementSibling;return t}normalizeAndGetColElements(e){const t=[];return e.forEach(e=>{let n=e.span;e.removeAttribute("span");let i=e.firstElementChild;for(;i;){if("col"===i.localName){let o=i.span;for(i.removeAttribute("span"),n-=o;o-- >1;){const n=i.cloneNode(!0);e.insertBefore(n,i),t.push(n)}t.push(i)}i=i.nextElementSibling}for(;n-- >0;)i=e.ownerDocument.createElement("col"),e.appendChild(i),t.push(i)}),t}addMissingColElements(e,t,n,i){if(e.length<n){const o=i.ownerDocument.createElement("colgroup");t.push(o);for(let t=e.length;t<n;t++){const t=i.ownerDocument.createElement("col");o.appendChild(t),e.push(t)}}}normalizeColGroups(e,t,n){const i=e.vertical,o=e.lastRowViewNode;if(!o)return;e.lastRowViewNode=null;const s=o.ownerDocument.createDocumentFragment(),r=e.getColumnCount();if(!(r>0))return void(e.colGroups=s);const a=e.colWidths=this.getColumnWidths(o,r,i,n.clientLayout),l=this.getColGroupElements(t),h=this.normalizeAndGetColElements(l);this.addMissingColElements(h,l,r,t),h.forEach((e,t)=>{U(e,i?"height":"width",`${a[t]}px`)}),l.forEach(e=>{s.appendChild(e.cloneNode(!0))}),e.colGroups=s}doInitialLayout(e,t){const n=e.formattingContext;n.vertical=e.vertical,n.initializeRepetitiveElements(e.vertical),e.sourceNode;const i=function(e){const t=sh.findIndex(t=>t.root===e),n=sh[t];return n?n.tableLayoutOption:null}(e.sourceNode);!function(e){const t=sh.findIndex(t=>t.root===e);t>=0&&sh.splice(t,1)}(e.sourceNode);const o=pi("TableLayoutProcessor.doInitialLayout"),s=e.copy();return this.layoutEntireTable(e,t).then(r=>{const a=r.viewNode,l=t.clientLayout.getElementClientRect(a);let h=t.vertical?l.left:l.bottom;if(h+=(t.vertical?-1:1)*ja(e,t.collectElementsOffset()).current,!(t.isOverflown(h)||i&&i.calculateBreakPositionsInside))return t.breakPositions.push(new hh(s)),void o.finish(r);this.normalizeColGroups(n,a,t),n.updateCellSizes(t.clientLayout),o.finish(null)}),o.result()}addCaptions(e,t,n){const i=e.captions;i.forEach((e,o)=>{e&&(t.insertBefore(e.viewNode,n),"top"===e.side&&(i[o]=null))})}addColGroups(e,t,n){e.colGroups&&0===this.getColGroupElements(t).length&&t.insertBefore(e.colGroups.cloneNode(!0),n)}removeColGroups(e,t){if(e.colGroups&&t){const e=this.getColGroupElements(t);e&&e.forEach(e=>{t.removeChild(e)})}}doLayout(e,t){const n=e.formattingContext,i=n.getRootViewNode(e),o=i.firstChild;this.addCaptions(n,i,o),this.addColGroups(n,i,o);const s=new oh(n,t),r=new ll(s,t.layoutContext),a=pi("TableFormattingContext.doLayout");return r.iterate(e).thenFinish(a),a.result()}layout(e,t,n){const i=e.formattingContext;return i.getRootViewNode(e)?(n&&$l(e.parent,t),new ah(i,this).layout(e,t)):t.buildDeepElementView(e)}createEdgeBreakPosition(e,t,n,i){return new Zl(e,t,n,i)}startNonInlineElementNode(e){return!1}afterNonInlineElementNode(e,t){return!1}finishBreak(e,t,n,i){const o=t.formattingContext;if("table-row"===t.display){t.sourceNode;const n=o.findRowIndexBySourceNode(t.sourceNode);let i;if(o.cellBreakPositions=[],i=t.after?o.getRowSpanningCellsOverflowingTheRow(n):o.getCellsFallingOnRow(n),i.length){const s=pi("TableLayoutProcessor.finishBreak");let r=0;return s.loopWithFrame(e=>{if(r===i.length)return void e.breakLoop();const t=i[r++],s=o.getCellFragmentOfCell(t),a=s.findAcceptableBreakPosition().nodeContext,l=s.cellNodeContext,h=l.toNodePosition(),c=new pa(a.toNodePosition());o.cellBreakPositions.push({cellNodePosition:h,breakChunkPosition:c,cell:t});const u=l.viewNode;s.column.layoutContext.processFragmentedBlockEdge(s.cellNodeContext),n<t.rowIndex+t.rowSpan-1&&(u.rowSpan=n-t.rowIndex+1),s.empty?e.continueLoop():s.pseudoColumn.finishBreak(a,!1,!0).then(()=>{(function(e,t,n){const i=t.getRepetitiveElements();if(!i)return;const o=t.vertical,s=e.column,r=e.pseudoColumn.getColumnElement(),a=e.cellNodeContext.viewNode,l=s.clientLayout.getElementClientRect(a),h=s.getComputedPaddingBorder(a);o?U(r,"max-width",`${l.right-s.footnoteEdge-i.calculateOffset(n)-h.right}px`):U(r,"max-height",`${s.footnoteEdge-i.calculateOffset(n)-l.top-h.top}px`);U(r,"overflow","hidden")})(s,o,a),e.continueLoop()})}).then(()=>{e.clearOverflownViewNodes(t,!1),e.layoutContext.processFragmentedBlockEdge(t),o.finishFragment(),s.finish(!0)}),s.result()}}return o.finishFragment(),ol.finishBreak(e,t,n,i)}clearOverflownViewNodes(e,t,n,i){nl.prototype.clearOverflownViewNodes(e,t,n,i)}}class ah extends rl{constructor(e,t){super(),this.tableFormattingContext=e,this.processor=t}resolveLayoutMode(e){const t=this.tableFormattingContext.getRepetitiveElements();return t&&t.doneInitialLayout?(e.sourceNode!==this.tableFormattingContext.tableSourceNode||e.after||t&&t.preventSkippingHeader(),new uh(this.tableFormattingContext,this.processor)):new lh(this.tableFormattingContext,this.processor)}clearNodes(e){super.clearNodes(e);const t=this.tableFormattingContext.getRootViewNode(e);this.processor.removeColGroups(this.tableFormattingContext,t)}restoreState(e,t){super.restoreState(e,t),this.tableFormattingContext.finishFragment()}}class lh extends Bl{constructor(e,t){super(e),this.processor=t}doLayout(e,t){return this.processor.doInitialLayout(e,t)}}class hh extends Ka{constructor(e){super(e,null,e.overflow,0)}getMinBreakPenalty(){if(!this.isEdgeUpdated)throw new Error("EdgeBreakPosition.prototype.updateEdge not called");return(this.overflows?3:0)+(this.position.parent?this.position.parent.breakPenalty:0)}breakPositionChosen(e){e.fragmentLayoutConstraints.push(new ch(this.position.sourceNode))}}class ch{constructor(e){this.tableRootNode=e,this.flagmentLayoutConstraintType="EntireTable"}allowLayout(e,t,n){return e.overflow,!1}nextCandidate(e){return!0}postLayout(e,t,n,i){t.sourceNode,sh.push({root:t.sourceNode,tableLayoutOption:{calculateBreakPositionsInside:!0}})}finishBreak(e,t){return fi(!0)}equalsTo(e){return e instanceof ch&&e.tableRootNode===this.tableRootNode}getPriorityOfFinishBreak(){return 0}}class uh extends Ml{constructor(e,t){super(e),this.processor=t}doLayout(e,t){const n=this.formattingContext.getRepetitiveElements();if(n&&!n.isAfterLastContent(e)){const n=new dh(e);t.fragmentLayoutConstraints.some(e=>n.equalsTo(e))||t.fragmentLayoutConstraints.unshift(n)}return this.processor.doLayout(e,t)}}class dh extends Vl{constructor(e){super(e),this.flagmentLayoutConstraintType="TableRow",this.cellFragmentLayoutConstraints=[]}allowLayout(e,t,n){const i=this.getRepetitiveElements();return!(i&&!n.pseudoParent&&!Ha(this.nodeContext.viewNode)&&i.isEnableToUpdateState()&&(t&&!e||e&&e.overflow))}nextCandidate(e){const t=this.nodeContext.formattingContext;return!!this.collectCellFragmentLayoutConstraints(e,t).some(t=>t.constraints.some(t=>t.nextCandidate(e)))||super.nextCandidate(e)}postLayout(e,t,n,i){const o=this.nodeContext.formattingContext;if(this.cellFragmentLayoutConstraints=this.collectCellFragmentLayoutConstraints(t,o),this.cellFragmentLayoutConstraints.forEach(t=>{t.constraints.forEach(o=>{o.postLayout(e,t.breakPosition,n,i)})}),!e){const e=o.getRootViewNode(this.nodeContext);(new rh).removeColGroups(o,e),this.removeDummyRowNodes(n)}super.postLayout(e,t,n,i)}finishBreak(e,t){this.nodeContext.formattingContext;const n=pi("finishBreak"),i=this.cellFragmentLayoutConstraints.reduce((e,t)=>e.concat(t.constraints.map(e=>({constraint:e,breakPosition:t.breakPosition}))),[]);let o=0;return n.loop(()=>{if(o<i.length){const e=i[o++];return e.constraint.finishBreak(e.breakPosition,t).thenReturn(!0)}return fi(!1)}).then(()=>{n.finish(!0)}),n.result().thenAsync(()=>super.finishBreak(e,t))}removeDummyRowNodes(e){if(e&&"table-row"===e.display&&e.viewNode)for(;e.viewNode.previousElementSibling;){const t=e.viewNode.previousElementSibling;t.parentNode&&t.parentNode.removeChild(t)}}collectCellFragmentLayoutConstraints(e,t){return this.getCellFragemnts(e,t).map(e=>({constraints:e.fragment.pseudoColumn.getColumn().fragmentLayoutConstraints,breakPosition:e.breakPosition}))}getCellFragemnts(e,t){let n=Number.MAX_VALUE;e&&"table-row"===e.display&&(e.sourceNode,n=t.findRowIndexBySourceNode(e.sourceNode)+1),n=Math.min(t.cellFragments.length,n);const i=[];for(let e=0;e<n;e++)t.cellFragments[e]&&t.cellFragments[e].forEach(e=>{e&&i.push({fragment:e,breakPosition:e.findAcceptableBreakPosition().nodeContext})});return i}getElementsOffsetsForTableCell(e){const t=this.nodeContext.formattingContext,n=t.findCellFromColumn(e);return n?t.collectElementsOffsetOfUpperCells(n):t.collectElementsOffsetOfHighestColumn()}equalsTo(e){return e instanceof dh&&this.nodeContext.formattingContext===e.nodeContext.formattingContext}}const ph=new rh;function fh(e){return e.reduce((e,t)=>e+t,0)/e.length}u(t.HOOKS.RESOLVE_FORMATTING_CONTEXT,(function(e,t,n,i,o,s){if(!t)return null;if(n===Bt.table){const t=e.parent;return new Jl(t?t.formattingContext:null,e.sourceNode)}return null})),u(t.HOOKS.RESOLVE_LAYOUT_PROCESSOR,(function(e){return e instanceof Jl?ph:null}));class gh{constructor(e,t){this.layoutResult=e,this.penalty=t}}function mh(e){return e.vertical?e.width:e.height}function bh(e,t){e.vertical?e.width=t:e.height=t}class wh{constructor(e,t,n){this.layoutContainer=e,this.columnGenerator=t,this.regionPageFloatLayoutContext=n,this.originalContainerBlockSize=mh(e)}balanceColumns(e){const t=this,n=pi("ColumnBalancer#balanceColumns");t.preBalance(e),t.savePageFloatLayoutContexts(e),t.layoutContainer.clear();const i=[t.createTrialResult(e)];return n.loopWithFrame(e=>{t.hasNextCandidate(i)?(t.updateCondition(i),t.columnGenerator().then(n=>{t.savePageFloatLayoutContexts(n),t.layoutContainer.clear(),n?(i.push(t.createTrialResult(n)),e.continueLoop()):e.breakLoop()})):e.breakLoop()}).then(()=>{const e=i.reduce((e,t)=>t.penalty<e.penalty?t:e,i[0]);t.restoreContents(e.layoutResult),t.postBalance(),n.finish(e.layoutResult)}),n.result()}createTrialResult(e){const t=this.calculatePenalty(e);return new gh(e,t)}preBalance(e){}postBalance(){bh(this.layoutContainer,this.originalContainerBlockSize)}savePageFloatLayoutContexts(e){const t=this.regionPageFloatLayoutContext.detachChildren();e&&(e.columnPageFloatLayoutContexts=t)}restoreContents(e){const t=this.layoutContainer.element;e.columns.forEach(e=>{t.appendChild(e.element)}),e.columnPageFloatLayoutContexts,this.regionPageFloatLayoutContext.attachChildren(e.columnPageFloatLayoutContexts)}}const Eh=1;function yh(e){const t=e[e.length-1];if(0===t.penalty)return!1;const n=e[e.length-2];if(n&&t.penalty>=n.penalty)return!1;const i=t.layoutResult.columns;return Math.max.apply(null,i.map(e=>e.computedBlockSize))>Math.max.apply(null,i.map(e=>e.getMaxBlockSizeOfPageFloats()))+Eh}function Sh(e,t){const n=e[e.length-1].layoutResult.columns,i=Math.max.apply(null,n.map(e=>isNaN(e.blockDistanceToBlockEndFloats)?e.computedBlockSize:e.computedBlockSize-e.blockDistanceToBlockEndFloats+Eh))-Eh;i<mh(t)?bh(t,i):bh(t,mh(t)-1)}class Nh extends wh{constructor(e,t,n,i){super(n,e,t),this.columnCount=i,this.originalPosition=null,this.foundUpperBound=!1}preBalance(e){const t=e.columns.reduce((e,t)=>e+t.computedBlockSize,0);bh(this.layoutContainer,t/this.columnCount),this.originalPosition=e.position}checkPosition(e){return this.originalPosition?this.originalPosition.isSamePosition(e):null===e}calculatePenalty(e){if(!this.checkPosition(e.position))return 1/0;const t=e.columns;return vh(t)?1/0:Math.max.apply(null,t.map(e=>e.computedBlockSize))}hasNextCandidate(e){if(1===e.length)return!0;if(this.foundUpperBound)return yh(e);{const t=e[e.length-1];return this.checkPosition(t.layoutResult.position)&&!vh(t.layoutResult.columns)?(this.foundUpperBound=!0,!0):mh(this.layoutContainer)<this.originalContainerBlockSize}}updateCondition(e){if(this.foundUpperBound)Sh(e,this.layoutContainer);else{const e=Math.min(this.originalContainerBlockSize,mh(this.layoutContainer)+.1*this.originalContainerBlockSize);bh(this.layoutContainer,e)}}}function vh(e){if(e.length<=1)return!1;const t=e[e.length-1].computedBlockSize;return e.slice(0,e.length-1).every(e=>t>e.computedBlockSize)}class Ch extends wh{constructor(e,t,n){super(n,e,t)}calculatePenalty(e){return e.columns.every(e=>0===e.computedBlockSize)?1/0:function(e){const t=fh(e);return fh(e.map(e=>{const n=e-t;return n*n}))}(e.columns.filter(e=>!e.pageBreakType).map(e=>e.computedBlockSize))}hasNextCandidate(e){return yh(e)}updateCondition(e){Sh(e,this.layoutContainer)}}class Th{constructor(e,t,n){this.endStuckFixed=e,this.endFixed=t,this.endSlipped=n}}class xh{constructor(){this.map=[]}getMaxFixed(){return 0==this.map.length?0:this.map[this.map.length-1].endFixed}getMaxSlipped(){return 0==this.map.length?0:this.map[this.map.length-1].endSlipped}addStuckRange(e){if(0==this.map.length)this.map.push(new Th(e,e,e));else{const t=this.map[this.map.length-1],n=t.endSlipped+e-t.endFixed;t.endFixed==t.endStuckFixed?(t.endFixed=e,t.endStuckFixed=e,t.endSlipped=n):this.map.push(new Th(e,e,n))}}addSlippedRange(e){0==this.map.length?this.map.push(new Th(e,0,0)):this.map[this.map.length-1].endFixed=e}slippedByFixed(e){const t=this,n=Z(this.map.length,n=>e<=t.map[n].endFixed),i=this.map[n];return i.endSlipped-Math.max(0,i.endStuckFixed-e)}fixedBySlipped(e){const t=this,n=Z(this.map.length,n=>e<=t.map[n].endSlipped),i=this.map[n];return i.endStuckFixed-(i.endSlipped-e)}}class Ih{constructor(e,t,n,i,o,s,r,a){if(this.context=e,this.style=t,this.offset=n,this.isRoot=i,this.flowChunk=o,this.atBlockStart=s,this.atFlowStart=r,this.isParentBoxDisplayed=a,this.isBlockValue=null,this.hasBoxValue=null,this.styleValues={},this.beforeBox=null,this.afterBox=null,this.breakBefore=null,this.flowName=o.flowName,this.hasBox()){const i=t._pseudos;if(i&&i.before){const t=new Ih(e,i.before,n,!1,o,this.isBlock(),r,!0);Ea(t.styleValue("content"))&&(this.beforeBox=t,this.breakBefore=t.breakBefore)}}this.breakBefore=Ba(this.getBreakValue("before"),this.breakBefore),this.atFlowStart&&Fa(this.breakBefore)&&(o.breakBefore=Ba(o.breakBefore,this.breakBefore))}buildAfterPseudoElementBox(e,t,n){if(this.hasBox()){const i=this.style._pseudos;if(i&&i.after){const o=new Ih(this.context,i.after,e,!1,this.flowChunk,t,n,!0);Ea(o.styleValue("content"))&&(this.afterBox=o)}}}styleValue(e,t){if(!(e in this.styleValues)){const n=this.style[e];this.styleValues[e]=n?n.evaluate(this.context,e):t||null}return this.styleValues[e]}displayValue(){return this.styleValue("display",Bt.inline)}isBlock(){if(null===this.isBlockValue){const e=this.displayValue(),t=this.styleValue("position"),n=this.styleValue("float");this.isBlockValue=Ja(e,t,n,this.isRoot)}return this.isBlockValue}hasBox(){return null===this.hasBoxValue&&(this.hasBoxValue=this.isParentBoxDisplayed&&this.displayValue()!==Bt.none),this.hasBoxValue}getBreakValue(e){let t=null;if(this.isBlock()){const n=this.styleValue(`break-${e}`);n&&(t=n.toString())}return t}}class Ph{constructor(e){this.context=e,this.stack=[],this.atBlockStart=!0,this.atFlowStart=!0,this.atStartStack=[]}empty(){return 0===this.stack.length}lastBox(){return this.stack[this.stack.length-1]}lastFlowName(){const e=this.lastBox();return e?e.flowChunk.flowName:null}isCurrentBoxDisplayed(){return this.stack.every(e=>e.displayValue()!==Bt.none)}push(e,t,n,i){const o=this.lastBox();i&&o&&i.flowName!==o.flowName&&this.atStartStack.push({atBlockStart:this.atBlockStart,atFlowStart:this.atFlowStart});const s=i||o.flowChunk,r=this.atFlowStart||!!i,a=this.isCurrentBoxDisplayed(),l=new Ih(this.context,e,t,n,s,r||this.atBlockStart,r,a);return this.stack.push(l),this.atBlockStart=l.hasBox()?!l.beforeBox&&l.isBlock():this.atBlockStart,this.atFlowStart=l.hasBox()?!l.beforeBox&&r:this.atFlowStart,l}encounteredTextNode(e){const t=this.lastBox();(this.atBlockStart||this.atFlowStart)&&t.hasBox()&&(Jr(e,Qr(t.styleValue("white-space",Bt.normal).toString()))||(this.atBlockStart=!1,this.atFlowStart=!1))}pop(e){const t=this.stack.pop();if(t.buildAfterPseudoElementBox(e,this.atBlockStart,this.atFlowStart),this.atFlowStart&&t.afterBox){const e=t.afterBox.getBreakValue("before");t.flowChunk.breakBefore=Ba(t.flowChunk.breakBefore,e)}const n=this.lastBox();if(n)if(n.flowName===t.flowName)t.hasBox()&&(this.atBlockStart=this.atFlowStart=!1);else{const e=this.atStartStack.pop();this.atBlockStart=e.atBlockStart,this.atFlowStart=e.atFlowStart}return t}nearestBlockStartOffset(e){if(!e.atBlockStart)return e.offset;let t=this.stack.length-1,n=this.stack[t];for(n===e&&(t--,n=this.stack[t]);t>=0;){if(n.flowName!==e.flowName)return e.offset;if(!n.atBlockStart)return n.offset;if(n.isRoot)return n.offset;e=n,n=this.stack[--t]}throw new Error("No block start offset found!")}}class Ah{constructor(e,t,n,i,o,s,r,a){this.xmldoc=e,this.scope=n,this.context=i,this.primaryFlows=o,this.validatorSet=s,this.counterListener=r,this.rootStyle={},this.styleMap={},this.flows={},this.flowChunks=[],this.flowListener=null,this.flowToReach=null,this.idToReach=null,this.primary=!0,this.primaryStack=[],this.rootBackgroundAssigned=!1,this.rootLayoutAssigned=!1,this.breakBeforeValues={},this.bodyReached=!0,this.root=e.root,this.cascadeHolder=t,this.last=this.root,this.cascade=t.createInstance(i,r,a,e.lang),this.offsetMap=new xh;const l=e.getElementOffset(this.root);this.lastOffset=l,this.boxStack=new Ph(i),this.offsetMap.addStuckRange(l);const h=this.getAttrStyle(this.root);switch(this.cascade.pushElement(this.root,h,l),this.postprocessTopStyle(h,!1),this.root.namespaceURI){case k.XHTML:case k.FB2:this.bodyReached=!1}this.primaryStack.push(!0),this.styleMap={},this.styleMap[`e${l}`]=h,this.lastOffset++,this.replayFlowElementsFromOffset(-1)}hasProp(e,t,n){const i=e[n];return i&&i.evaluate(this.context)!==t[n]}transferPropsToRoot(e,t){for(const n in t){const i=e[n];if(i)this.rootStyle[n]=i,delete e[n];else{const e=t[n];e&&(this.rootStyle[n]=new _o(e,Bi))}}}postprocessTopStyle(e,t){if(["writing-mode","direction"].forEach(n=>{!e[n]||t&&this.rootStyle[n]||(this.rootStyle[n]=e[n])}),!this.rootBackgroundAssigned){const t=this.hasProp(e,this.validatorSet.backgroundProps,"background-color")?e["background-color"].evaluate(this.context):null,n=this.hasProp(e,this.validatorSet.backgroundProps,"background-image")?e["background-image"].evaluate(this.context):null;(t&&t!==Bt.inherit||n&&n!==Bt.inherit)&&(this.transferPropsToRoot(e,this.validatorSet.backgroundProps),this.rootBackgroundAssigned=!0)}if(!this.rootLayoutAssigned)for(let t=0;t<Oh.length;t++)if(this.hasProp(e,this.validatorSet.layoutProps,Oh[t])){this.transferPropsToRoot(e,this.validatorSet.layoutProps),this.rootLayoutAssigned=!0;break}if(!t){const t=e["font-size"];if(t){const e=t.evaluate(this.context);let n=e.num;switch(e.unit){case"em":case"rem":n*=this.context.initialFontSize;break;case"ex":n*=this.context.initialFontSize*Ie.ex/Ie.em;break;case"%":n*=this.context.initialFontSize/100;break;default:{const t=Ie[e.unit];t&&(n*=t)}}this.context.rootFontSize=n}}}getTopContainerStyle(){let e=0;for(;!this.bodyReached&&(e+=5e3,this.styleUntil(e,0)!=Number.POSITIVE_INFINITY););return this.rootStyle}getAttrStyle(e){if(e.style instanceof CSSStyleDeclaration){const t=e.getAttribute("style");if(t)return ar(this.scope,this.validatorSet,this.xmldoc.url,t)}return{}}getReachedOffset(){return this.lastOffset}replayFlowElementsFromOffset(e){if(e>=this.lastOffset)return;const t=this.context,n=this.xmldoc.getElementOffset(this.root);if(e<n){const e=this.getStyle(this.root,!1),i=$o(e,"flow-into"),o=i?i.evaluate(t,"flow-into").toString():"body",s=this.encounteredFlowElement(o,e,this.root,n);this.boxStack.empty()&&this.boxStack.push(e,n,!0,s)}let i=this.xmldoc.getNodeByOffset(e),o=this.xmldoc.getNodeOffset(i,0,!1);if(!(o>=this.lastOffset))for(;;){if(1!=i.nodeType)o+=i.textContent.length;else{const e=i,n=this.getStyle(e,!1),s=n["flow-into"];if(s){const i=s.evaluate(t,"flow-into").toString();this.encounteredFlowElement(i,n,e,o)}o++}if(o>=this.lastOffset)break;let e=i.firstChild;if(null==e)for(;e=i.nextSibling,!e;)if(i=i.parentNode,i===this.root)return;i=e}}resetFlowChunkStream(e){this.flowListener=e;for(let e=0;e<this.flowChunks.length;e++)this.flowListener.encounteredFlowChunk(this.flowChunks[e],this.flows[this.flowChunks[e].flowName])}styleUntilFlowIsReached(e){this.flowToReach=e;let t=0;for(;null!=this.flowToReach&&(t+=5e3,this.styleUntil(t,0)!=Number.POSITIVE_INFINITY););}styleUntilIdIsReached(e){if(!e)return;this.idToReach=e;let t=0;for(;this.idToReach&&(t+=5e3,this.styleUntil(t,0)!==Number.POSITIVE_INFINITY););this.idToReach=null}encounteredFlowElement(e,t,n,i){let o=0,s=Number.POSITIVE_INFINITY,r=!1,a=!1,l=!1;const c=t["flow-options"];if(c){const e=function(e){if(e){const t=new pn;try{return e.visit(t),t.propSet}catch(e){h.warn(e,"toSet:")}}return{}}(c.evaluate(this.context,"flow-options"));r=!!e.exclusive,a=!!e.static,l=!!e.last}const u=t["flow-linger"];u&&(s=gn(u.evaluate(this.context,"flow-linger"),Number.POSITIVE_INFINITY));const d=t["flow-priority"];d&&(o=gn(d.evaluate(this.context,"flow-priority"),0));const p=this.breakBeforeValues[i]||null;let f=this.flows[e];if(!f){const t=this.boxStack.lastFlowName();f=this.flows[e]=new ea(e,t)}const g=new ta(e,n,i,o,s,r,a,l,p);return this.flowChunks.push(g),this.flowToReach==e&&(this.flowToReach=null),this.flowListener&&this.flowListener.encounteredFlowChunk(g,f),g}registerForcedBreakOffset(e,t,n){if(Fa(e)){const e=this.flows[n].forcedBreakOffsets;(0===e.length||e[e.length-1]<t)&&e.push(t)}const i=this.breakBeforeValues[t];this.breakBeforeValues[t]=Ba(i,e)}styleUntil(e,t){let n,i=-1;if(e<=this.lastOffset&&(n=this.offsetMap.slippedByFixed(e),i=n+t,i<this.offsetMap.getMaxSlipped()))return this.offsetMap.fixedBySlipped(i);if(null==this.last)return Number.POSITIVE_INFINITY;const o=this.context;for(;;){let s=this.last.firstChild;if(null==s)for(;;){if(1==this.last.nodeType){this.cascade.popElement(this.last),this.primary=this.primaryStack.pop();const e=this.boxStack.pop(this.lastOffset);let t=null;if(e.afterBox){const n=e.afterBox.getBreakValue("before");this.registerForcedBreakOffset(n,e.afterBox.atBlockStart?this.boxStack.nearestBlockStartOffset(e):e.afterBox.offset,e.flowName),t=e.afterBox.getBreakValue("after")}t=Ba(t,e.getBreakValue("after")),this.registerForcedBreakOffset(t,this.lastOffset,e.flowName)}if(s=this.last.nextSibling,s)break;if(this.last=this.last.parentNode,this.last===this.root)return this.last=null,e<this.lastOffset&&(i<0&&(n=this.offsetMap.slippedByFixed(e),i=n+t),i<=this.offsetMap.getMaxSlipped())?this.offsetMap.fixedBySlipped(i):Number.POSITIVE_INFINITY}if(this.last=s,1!=this.last.nodeType)this.lastOffset+=this.last.textContent.length,this.boxStack.encounteredTextNode(this.last),this.primary?this.offsetMap.addStuckRange(this.lastOffset):this.offsetMap.addSlippedRange(this.lastOffset);else{const s=this.last,r=this.getAttrStyle(s);this.primaryStack.push(this.primary),this.cascade.pushElement(s,r,this.lastOffset);const a=s.getAttribute("id")||s.getAttributeNS(k.XML,"id");let l;a&&a===this.idToReach&&(this.idToReach=null),this.bodyReached||"body"!=s.localName||s.parentNode!=this.root||(this.postprocessTopStyle(r,!0),this.bodyReached=!0);const h=r["flow-into"];if(h){const e=h.evaluate(o,"flow-into").toString(),t=this.encounteredFlowElement(e,r,s,this.lastOffset);this.primary=!!this.primaryFlows[e],l=this.boxStack.push(r,this.lastOffset,s===this.root,t)}else l=this.boxStack.push(r,this.lastOffset,s===this.root);const c=this.boxStack.nearestBlockStartOffset(l);if(this.registerForcedBreakOffset(l.breakBefore,c,l.flowName),l.beforeBox){const e=l.beforeBox.getBreakValue("after");this.registerForcedBreakOffset(e,l.beforeBox.atBlockStart?c:l.offset,l.flowName)}if(this.primary&&l.displayValue()===Bt.none&&(this.primary=!1),this.styleMap[`e${this.lastOffset}`]=r,this.lastOffset++,this.primary?this.offsetMap.addStuckRange(this.lastOffset):this.offsetMap.addSlippedRange(this.lastOffset),e<this.lastOffset&&(i<0&&(n=this.offsetMap.slippedByFixed(e),i=n+t),i<=this.offsetMap.getMaxSlipped()))return this.offsetMap.fixedBySlipped(i)}}}getStyle(e,t){let n=this.xmldoc.getElementOffset(e);const i=`e${n}`;return t&&(n=this.xmldoc.getNodeOffset(e,0,!0)),this.lastOffset<=n&&this.styleUntil(n,0),this.styleMap[i]}processContent(e,t){}}const Oh=["column-count","column-width","column-fill"];var Rh,kh="/*\n * Copyright 2013 Google, Inc.\n * Copyright 2015 Trim-marks Inc.\n * Copyright 2019 Vivliostyle Foundation\n *\n * CSS property validation.\n */\nNUM = POS_NUM | ZERO | NEGATIVE;\nNNEG_NUM = POS_NUM | ZERO;\nINT = POS_INT | ZERO | NEGATIVE;\nNNEG_INT = POS_INT | ZERO;\nPERCENTAGE = POS_PERCENTAGE | ZERO | NEGATIVE;\nSTRICT_PERCENTAGE = POS_PERCENTAGE | ZERO_PERCENTAGE | NEGATIVE;\nNNEG_PERCENTAGE = POS_PERCENTAGE | ZERO;\nLENGTH = POS_LENGTH | ZERO | NEGATIVE;\nNNEG_LENGTH = POS_LENGTH | ZERO | NEGATIVE;\nPLENGTH = LENGTH | PERCENTAGE;\nPPLENGTH = POS_LENGTH | ZERO | POS_PERCENTAGE;\nALENGTH = LENGTH | auto;\nAPLENGTH = PLENGTH | auto;\nPAPLENGTH = PPLENGTH | auto;\nANGLE = POS_ANGLE | ZERO | NEGATIVE;\nLENGTH_OR_NUM = LENGTH | NUM;\nANGLE_OR_NUM = ANGLE | NUM;\nSCOLOR = HASHCOLOR | aliceblue: #F0F8FF | antiquewhite: #FAEBD7 | aqua: #00FFFF | aquamarine: #7FFFD4 | azure: #F0FFFF |\n    beige: #F5F5DC | bisque: #FFE4C4 | black: #000000 | blanchedalmond: #FFEBCD | blue: #0000FF | blueviolet: #8A2BE2 | brown: #A52A2A |\n    burlywood: #DEB887 | cadetblue: #5F9EA0 | chartreuse: #7FFF00 | chocolate: #D2691E | coral: #FF7F50 | cornflowerblue: #6495ED |\n    cornsilk: #FFF8DC | crimson: #DC143C | cyan: #00FFFF | darkblue: #00008B | darkcyan: #008B8B | darkgoldenrod: #B8860B |\n    darkgray: #A9A9A9 | darkgreen: #006400 | darkgrey: #A9A9A9 | darkkhaki: #BDB76B | darkmagenta: #8B008B | darkolivegreen: #556B2F |\n    darkorange: #FF8C00 | darkorchid: #9932CC | darkred: #8B0000 | darksalmon: #E9967A | darkseagreen: #8FBC8F | darkslateblue: #483D8B |\n    darkslategray: #2F4F4F | darkslategrey: #2F4F4F | darkturquoise: #00CED1 | darkviolet: #9400D3 | deeppink: #FF1493 |\n    deepskyblue: #00BFFF | dimgray: #696969 | dimgrey: #696969 | dodgerblue: #1E90FF | firebrick: #B22222 | floralwhite: #FFFAF0 |\n    forestgreen: #228B22 | fuchsia: #FF00FF | gainsboro: #DCDCDC | ghostwhite: #F8F8FF | gold: #FFD700 | goldenrod: #DAA520 |\n    gray: #808080 | green: #008000 | greenyellow: #ADFF2F | grey: #808080 | honeydew: #F0FFF0 | hotpink: #FF69B4 | indianred: #CD5C5C |\n    indigo: #4B0082 | ivory: #FFFFF0 | khaki: #F0E68C | lavender: #E6E6FA | lavenderblush: #FFF0F5 | lawngreen: #7CFC00 |\n    lemonchiffon: #FFFACD | lightblue: #ADD8E6 | lightcoral: #F08080 | lightcyan: #E0FFFF | lightgoldenrodyellow: #FAFAD2 |\n    lightgray: #D3D3D3 | lightgreen: #90EE90 | lightgrey: #D3D3D3 | lightpink: #FFB6C1 | lightsalmon: #FFA07A | lightseagreen: #20B2AA |\n    lightskyblue: #87CEFA | lightslategray: #778899 | lightslategrey: #778899 | lightsteelblue: #B0C4DE | lightyellow: #FFFFE0 |\n    lime: #00FF00 | limegreen: #32CD32 | linen: #FAF0E6 | magenta: #FF00FF | maroon: #800000 | mediumaquamarine: #66CDAA |\n    mediumblue: #0000CD | mediumorchid: #BA55D3 | mediumpurple: #9370DB | mediumseagreen: #3CB371 | mediumslateblue: #7B68EE |\n    mediumspringgreen: #00FA9A | mediumturquoise: #48D1CC | mediumvioletred: #C71585 | midnightblue: #191970 | mintcream: #F5FFFA |\n    mistyrose: #FFE4E1 | moccasin: #FFE4B5 | navajowhite: #FFDEAD | navy: #000080 | oldlace: #FDF5E6 | olive: #808000 |\n    olivedrab: #6B8E23 | orange: #FFA500 | orangered: #FF4500 | orchid: #DA70D6 | palegoldenrod: #EEE8AA | palegreen: #98FB98 |\n    paleturquoise: #AFEEEE | palevioletred: #DB7093 | papayawhip: #FFEFD5 | peachpuff: #FFDAB9 | peru: #CD853F | pink: #FFC0CB |\n    plum: #DDA0DD | powderblue: #B0E0E6 | purple: #800080 | rebeccapurple: #663399 | red: #FF0000 | rosybrown: #BC8F8F | royalblue: #4169E1 |\n    saddlebrown: #8B4513 | salmon: #FA8072 | sandybrown: #F4A460 | seagreen: #2E8B57 | seashell: #FFF5EE | sienna: #A0522D |\n    silver: #C0C0C0 | skyblue: #87CEEB | slateblue: #6A5ACD | slategray: #708090 | slategrey: #708090 | snow: #FFFAFA |\n    springgreen: #00FF7F | steelblue: #4682B4 | tan: #D2B48C | teal: #008080 | thistle: #D8BFD8 | tomato: #FF6347 |\n    turquoise: #40E0D0 | violet: #EE82EE | wheat: #F5DEB3 | white: #FFFFFF | whitesmoke: #F5F5F5 | yellow: #FFFF00 |\n    yellowgreen: #9ACD32 | transparent | currentcolor;\nRGBCOLOR = rgb(INT{3}) | rgb(STRICT_PERCENTAGE{3});\nRGBACOLOR = rgba(NUM{4}) | rgba(STRICT_PERCENTAGE{3} NUM);\nHSLCOLOR = hsl(NUM PERCENTAGE{2});\nHSLACOLOR = hsl(NUM PERCENTAGE{2} NUM);\nCOLOR = SCOLOR | RGBCOLOR | RGBACOLOR | HSLCOLOR | HSLACOLOR;\nBG_POSITION_TERM = PLENGTH | left | center | right | top | bottom;\nSIDE_OR_CORNER =  [left | right] || [top | bottom];\nCOLOR_STOP = SPACE(COLOR [PERCENTAGE | LENGTH]?);\nLINEAR_GRADIENT = linear-gradient([ANGLE | SPACE(to SIDE_OR_CORNER)]? COLOR_STOP+) |\n                  repeating-linear-gradient([ANGLE | SPACE(to SIDE_OR_CORNER)]? COLOR_STOP+) |;\nGRADIENT_EXTENT = closest-corner | closest-side | farthest-corner | farthest-side;\nGRADIENT_POSITION = at BG_POSITION_TERM{1,4};\nGRADIENT_SHAPE = SPACE(circle LENGTH? GRADIENT_POSITION?) | SPACE(ellipse PLENGTH{2}? GRADIENT_POSITION?)| SPACE([circle | ellipse] GRADIENT_EXTENT? GRADIENT_POSITION?);\nRADIAL_GRADIENT = radial-gradient([GRADIENT_SHAPE | SPACE(GRADIENT_POSITION)]? COLOR_STOP+) |\n                  repeating-radial-gradient([GRADIENT_SHAPE | SPACE(GRADIENT_POSITION)]? COLOR_STOP+);\nURI_OR_NONE = URI | none;\nIMAGE =  URI | LINEAR_GRADIENT | RADIAL_GRADIENT | none;\nazimuth = ANGLE | [[ left-side | far-left | left | center-left | center | center-right | right | far-right | right-side ] || behind ] | leftwards | rightwards;\nbackground-attachment = COMMA( [scroll | fixed | local]+ );\nbackground-color = COLOR;\nbackground-image = COMMA( IMAGE+ );\nbackground-position = COMMA( SPACE(BG_POSITION_TERM{1,4})+ ); /* relaxed */\nbackground-repeat = COMMA( [repeat | repeat-x | repeat-y | no-repeat]+ );\nborder-collapse = collapse | separate;\nBORDER_SIDE_COLOR = COLOR;\nBORDER_SIDE_STYLE = none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset;\nBORDER_SIDE_WIDTH = thin: 1px | medium: 3px | thick: 5px | NNEG_LENGTH;\nborder-spacing = LENGTH LENGTH?;\nborder-top-color = BORDER_SIDE_COLOR;\nborder-right-color = BORDER_SIDE_COLOR;\nborder-bottom-color = BORDER_SIDE_COLOR;\nborder-left-color = BORDER_SIDE_COLOR;\nborder-top-style = BORDER_SIDE_STYLE;\nborder-right-style = BORDER_SIDE_STYLE;\nborder-bottom-style = BORDER_SIDE_STYLE;\nborder-left-style = BORDER_SIDE_STYLE;\nborder-top-width = BORDER_SIDE_WIDTH;\nborder-right-width = BORDER_SIDE_WIDTH;\nborder-bottom-width = BORDER_SIDE_WIDTH;\nborder-left-width = BORDER_SIDE_WIDTH;\nBORDER_RADIUS = PLENGTH{1,2};\nborder-top-left-radius = BORDER_RADIUS;\nborder-top-right-radius = BORDER_RADIUS;\nborder-bottom-right-radius = BORDER_RADIUS;\nborder-bottom-left-radius = BORDER_RADIUS;\nborder-image-source = IMAGE;\nborder-image-slice = [NUM | PERCENTAGE]{1,4} || fill; /* relaxed */\nborder-image-width = [NUM | PLENGTH | auto]{1,4};\nborder-image-outset = [NUM | LENGTH]{1,4};\nborder-image-repeat = [ stretch | repeat | round | space ]{1,2};\nbottom = APLENGTH;\ncaption-side = top | bottom;\nclear = none | left | right | top | bottom | both | all | same;\nclip = rect(ALENGTH{4}) | rect(SPACE(ALENGTH{4})) | auto;\ncolor = COLOR;\nLIST_STYLE_TYPE = disc | circle | square | decimal | decimal-leading-zero | lower-roman |\n    upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha |\n    upper-alpha | russian | upper-russian | lower-russian | cjk-ideographic | trad-chinese-informal |\n    hebrew | none;\nTYPE_OR_UNIT_IN_ATTR = string | color | url | integer | number | length | angle | time | frequency;\nATTR = attr(SPACE(IDENT TYPE_OR_UNIT_IN_ATTR?) [ STRING | IDENT | COLOR | INT | NUM | PLENGTH | ANGLE | POS_TIME | FREQUENCY]?);\nCONTENT = normal | none |\n    [ STRING | URI | counter(IDENT LIST_STYLE_TYPE?) |\n    counters(IDENT STRING LIST_STYLE_TYPE?) | ATTR |\n    target-counter([ STRING | URI ] IDENT LIST_STYLE_TYPE?) |\n    target-counter(ATTR IDENT LIST_STYLE_TYPE?) |\n    target-counters([ STRING | URI ] IDENT STRING LIST_STYLE_TYPE?) |\n    target-counters(ATTR IDENT STRING LIST_STYLE_TYPE?) |\n    open-quote | close-quote | no-open-quote | no-close-quote ]+;\ncontent = CONTENT;\nCOUNTER = [ IDENT INT? ]+ | none;\ncounter-increment = COUNTER;\ncounter-reset = COUNTER;\ncounter-set = COUNTER;\ncue-after = URI_OR_NONE;\ncue-before = URI_OR_NONE;\ncursor = COMMA(URI* [ auto | crosshair | default | pointer | move | e-resize | ne-resize | nw-resize |\n    n-resize | se-resize | sw-resize | s-resize | w-resize | text | wait | help | progress ]);\ndirection = ltr | rtl;\ndisplay = inline | block | list-item | inline-block | table | inline-table | table-row-group |\n    table-header-group | table-footer-group | table-row | table-column-group | table-column |\n    table-cell | table-caption | none | oeb-page-head | oeb-page-foot | flex | inline-flex |\n    ruby | ruby-base | ruby-text | ruby-base-container | ruby-text-container | run-in | compact | marker;\nelevation = ANGLE | below | level | above | higher | lower;\nempty-cells = show | hide;\nFAMILY = SPACE(IDENT+) | STRING;\nFAMILY_LIST = COMMA( FAMILY+ );\nfont-family = FAMILY_LIST;\nfont-size = xx-small | x-small | small | medium | large | x-large | xx-large | larger | smaller | PPLENGTH | POS_NUM;\nfont-style = normal | italic | oblique;\nfont-variant = normal | small-caps;\nfont-weight = normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900;\nheight = PAPLENGTH | POS_NUM ;\nleft = APLENGTH;\nletter-spacing = normal | LENGTH_OR_NUM;\nline-height = normal | POS_NUM | PPLENGTH;\nlist-style-image = IMAGE;\nlist-style-position = inside | outside;\nlist-style-type = LIST_STYLE_TYPE;\nmargin-right = APLENGTH;\nmargin-left = APLENGTH;\nmargin-top = APLENGTH;\nmargin-bottom = APLENGTH;\nNPLENGTH = none | PLENGTH;\nmax-height = NPLENGTH;\nmax-width = NPLENGTH;\nmin-height = auto | PLENGTH;\nmin-width = auto | PLENGTH;\norphans = POS_INT;\noutline-offset = LENGTH;\noutline-color = COLOR | invert;\noutline-style = BORDER_SIDE_STYLE;\noutline-width = BORDER_SIDE_WIDTH;\noverflow = visible | hidden | scroll | auto;\npadding-right = PPLENGTH;\npadding-left = PPLENGTH;\npadding-top = PPLENGTH;\npadding-bottom = PPLENGTH;\nPAGE_BREAK = auto | always | avoid | left | right | recto | verso;\npage-break-after = PAGE_BREAK;\npage-break-before = PAGE_BREAK;\npage-break-inside = avoid | auto;\nPAUSE = POS_TIME | ZERO | POS_PERCENTAGE;\npause-after = PAUSE;\npause-before = PAUSE;\npitch-range = NUM;\npitch = FREQUENCY | x-low | low | medium | high | x-high;\nplay-during = [URI [ mix || repeat ]?] | auto | none;\nposition = static | relative | absolute | fixed;\nquotes = [STRING STRING]+ | none;\nrichness = NUM;\nright = APLENGTH;\nspeak-header = once | always;\nspeak-numeral = digits | continuous;\nspeak-punctuation = code | none;\nspeech-rate = NUM | x-slow | slow | medium | fast | x-fast | faster | slower;\nstress = NUM;\ntable-layout = auto | fixed;\ntext-align = left | right | center | justify | start | end;\ntext-decoration = none | [ underline || overline || line-through || blink ];\ntext-indent = PLENGTH;\ntext-transform = capitalize | uppercase | lowercase | none;\ntop = APLENGTH;\nvertical-align = baseline | sub | super | top | text-top | middle | bottom | text-bottom | PLENGTH;\nvisibility = visible | hidden | collapse;\nvoice-family = FAMILY_LIST;\nvolume = NUM | PERCENTAGE | silent | x-soft | soft | medium | loud | x-loud;\nwhite-space = normal | pre | nowrap | pre-wrap | pre-line;\nwidows = POS_INT;\nwidth = PAPLENGTH | POS_NUM ;\nword-spacing = normal | LENGTH_OR_NUM;\nz-index = auto | INT;\n\n[epub,moz,ms,webkit]hyphens = auto | manual | none;\n[webkit]hyphenate-character = auto | STRING;\n\n/* css-logical */\nmargin-block-start = APLENGTH;\nmargin-block-end = APLENGTH;\nmargin-inline-start = APLENGTH;\nmargin-inline-end = APLENGTH;\npadding-block-start = APLENGTH;\npadding-block-end = APLENGTH;\npadding-inline-start = APLENGTH;\npadding-inline-end = APLENGTH;\nborder-block-start-color = BORDER_SIDE_COLOR;\nborder-block-end-color = BORDER_SIDE_COLOR;\nborder-inline-start-color = BORDER_SIDE_COLOR;\nborder-inline-end-color = BORDER_SIDE_COLOR;\nborder-block-start-style = BORDER_SIDE_STYLE;\nborder-block-end-style = BORDER_SIDE_STYLE;\nborder-inline-start-style = BORDER_SIDE_STYLE;\nborder-inline-end-style = BORDER_SIDE_STYLE;\nborder-block-start-width = BORDER_SIDE_WIDTH;\nborder-block-end-width = BORDER_SIDE_WIDTH;\nborder-inline-start-width = BORDER_SIDE_WIDTH;\nborder-inline-end-width = BORDER_SIDE_WIDTH;\nblock-start = APLENGTH;\nblock-end = APLENGTH;\ninline-start = APLENGTH;\ninline-end = APLENGTH;\nblock-size = PAPLENGTH | POS_NUM;\ninline-size = PAPLENGTH | POS_NUM;\nmax-block-size = NPLENGTH;\nmax-inline-size = NPLENGTH;\nmin-block-size = auto | PLENGTH;\nmin-inline-size = auto | PLENGTH;\n\nSHAPE = auto | rectangle( PLENGTH{4} ) |  ellipse( PLENGTH{4} ) |  circle( PLENGTH{3} ) |\n    polygon( SPACE(PLENGTH+)+ );\n[epubx]shape-inside = SHAPE;\n[epubx,webkit]shape-outside = SHAPE;\n[epubx,ms]wrap-flow = auto | both | start | end | maximum | clear | around /* epub al */;\n\nTRANSFORM_FUNCTION = matrix(NUM{6}) | translate(PLENGTH{1,2}) | translateX(PLENGTH) | translateY(PLENGTH) |\n scale(NUM{1,2}) | scaleX(NUM) | scaleY(NUM) | rotate(ANGLE) | skewX(ANGLE) | skewY(ANGLE);\n[epub,ms]transform = none | TRANSFORM_FUNCTION+;\n[epub,ms]transform-origin = [[[ top | bottom | left | right] PLENGTH?] | center | PLENGTH]{1,2}; /* relaxed */\n\nBOX = border-box | padding-box | content-box;\nSHADOW = SPACE(inset || LENGTH{2,4} || COLOR); /* relaxed */\n[webkit]background-size = COMMA( SPACE( [PLENGTH | auto ]{1,2} | cover | contain)+ );\n[webkit]background-origin = COMMA( BOX+ );\n[webkit]background-clip = COMMA( BOX+ );\n[webkit]box-shadow = none | COMMA( SHADOW+ );\ntext-shadow = none |  COMMA( SHADOW+ );\n[webkit]box-decoration-break = slice | clone;\nFILTER_FUNCTION = blur(LENGTH) | brightness(NUM | PERCENTAGE) | contrast(NUM | PERCENTAGE) | drop-shadow(SPACE(LENGTH{2,3} COLOR?))\n                | grayscale(NUM | PERCENTAGE) | hue-rotate(ANGLE) | invert(NUM | PERCENTAGE) | opacity(NUM | PERCENTAGE)\n                | saturate(NUM | PERCENTAGE) | sepia(NUM | PERCENTAGE);\nFILTER_FUNCTION_LIST = FILTER_FUNCTION+;\n[webkit]filter = none | FILTER_FUNCTION_LIST;\n\nopacity = NUM;\n\n[moz,webkit]column-width = LENGTH | auto;\n[moz,webkit]column-count = INT | auto;\n[moz,webkit]column-gap = LENGTH | normal;\n[moz,webkit]column-rule-color = COLOR;\n[moz,webkit]column-rule-style = BORDER_SIDE_STYLE;\n[moz,webkit]column-rule-width = BORDER_SIDE_WIDTH;\nBREAK = auto | avoid | avoid-page | page | left | right | recto | verso | avoid-column | column | avoid-region | region;\nbreak-before = BREAK;\nbreak-after = BREAK;\nbreak-inside = auto | avoid | avoid-page | avoid-column | avoid-region;\n[webkit]column-span = none | auto | all;\n[moz]column-fill = auto | balance | balance-all;\n\nsrc = COMMA([SPACE(URI format(STRING+)?) | local(FAMILY)]+); /* for font-face */\n\n[epubx,webkit]flow-from = IDENT;\n[epubx,webkit]flow-into = IDENT;\n[epubx]flow-linger = INT | none;\n[epubx]flow-priority = INT;\n[epubx]flow-options = none | [ exclusive || last || static ];\n[epubx]page = INT | auto;\n[epubx]min-page-width = LENGTH;\n[epubx]min-page-height = LENGTH;\n[epubx]required = true | false;\n[epubx]enabled = true | false;\n[epubx]conflicting-partitions = COMMA(IDENT+);\n[epubx]required-partitions = COMMA(IDENT+);\n[epubx]snap-height = LENGTH | none;\n[epubx]snap-width = LENGTH | none;\n[epubx]flow-consume = all | some;\n[epubx]utilization = NUM;\n[epubx]text-zoom = font-size | scale;\n\n[adapt]template = URI_OR_NONE;\n[adapt]behavior = IDENT;\n\n/* CSS Fonts */\nfont-size-adjust = none | NNEG_NUM;\n[webkit]font-kerning = auto | normal | none;\nfont-variant-east-asian = normal | [[ jis78 | jis83 | jis90 | jis04 | simplified | traditional ] || [ full-width | proportional-width ] || ruby];\nfont-feature-settings = COMMA( SPACE( STRING [ on | off | INT ]? )+ );\nfont-stretch = normal | wider | narrower | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded;\n\n/* CSS Images */\nimage-resolution = RESOLUTION;\nobject-fit = fill | contain | cover | none | scale-down;\nobject-position = COMMA( SPACE(BG_POSITION_TERM{1,4})+ ); /* relaxed */\n\n/* CSS Paged Media */\nPAGE_SIZE = a5 | a4 | a3 | b5 | b4 | jis-b5 | jis-b4 | letter | legal | ledger;\nbleed = auto | LENGTH;\nmarks = none | [ crop || cross ];\nsize = POS_LENGTH{1,2} | auto | [ PAGE_SIZE || [ portrait | landscape ] ];\n\n/* CSS Page Floats */\nfloat-reference = inline | column | region | page;\nfloat = block-start | block-end | inline-start | inline-end | snap-block | snap-inline | left | right | top | bottom | none | footnote;\nfloat-min-wrap-block = PPLENGTH;\n\n/* CSS Ruby */\nruby-align = start | center | space-between | space-around;\nruby-position = over | under | inter-character;\n\n/* CSS Size Adjust */\n[moz,ms]text-size-adjust = auto | none | POS_PERCENTAGE;\n\n/* CSS Text */\n[ms,webkit]line-break = auto | loose | normal | strict;\noverflow-wrap = normal | break-word;\n[moz]tab-size = NNEG_INT | NNEG_LENGTH;\n[moz,ms]text-align-last = auto | start | end | left | right | center | justify;\n[ms]text-justify = auto | none | inter-word | inter-character | inter-ideograph /* specified in UA stylesheet for IE */;\n[ms]word-break = normal | keep-all | break-all | break-word;\n[ms]word-wrap = normal | break-word;\n\n/* CSS Text Decoration */\n[webkit]text-decoration-color = COLOR;\n[webkit]text-decoration-line = none | [ underline || overline || line-through || blink ];\n[webkit]text-decoration-skip = none | [ objects || spaces || ink || edges || box-decoration ];\n[webkit]text-decoration-style = solid | double | dotted | dashed | wavy;\n[epub,webkit]text-emphasis-color = COLOR;\n[webkit]text-emphasis-position = [ over | under ] [ right | left ];\n[epub,webkit]text-emphasis-style = none | [[ filled | open ] || [ dot | circle | double-circle | triangle | sesame ]] | STRING;\n[ms,webkit]text-underline-position = auto | [ under || [ left | right ]];\n\n/* CSS Transforms */\n[ms,webkit]backface-visibility = visible | hidden;\n\n/* CSS UI */\nbox-sizing = content-box | padding-box | border-box;\n[ms]text-overflow = [clip | ellipsis | STRING]{1,2};\n\n/* CSS Writing Modes */\n[webkit]text-combine = none | horizontal;\n[epub,ms]text-combine-horizontal = none | all | [ digits POS_INT? ]; /* relaxed */\ntext-combine-upright = none | all | [ digits POS_INT? ]; /* relaxed */\n[epub,webkit]text-orientation = mixed | upright | sideways-right | sideways-left | sideways | use-glyph-orientation /* the following values are kept for backward-compatibility */ | vertical-right | rotate-right | rotate-left | rotate-normal | auto;\nunicode-bidi = normal | embed | isolate | bidi-override | isolate-override | plaintext;\n[epub,webkit]writing-mode = horizontal-tb | vertical-rl | lr-tb | rl-tb | tb-rl | lr | rl | tb;\n\n/* CSS Flex box */\nFLEX_BASIS = content | PAPLENGTH;\nflex-direction = row | row-reverse | column | column-reverse;\nflex-wrap = nowrap | wrap | wrap-reverse;\norder = INT;\nflex-grow = NNEG_NUM;\nflex-shrink = NNEG_NUM;\nflex-basis = FLEX_BASIS;\nflex = none | [ [ NNEG_NUM NNEG_NUM? ] || FLEX_BASIS ];\njustify-content = flex-start | flex-end | center | space-between | space-around;\nalign-items = flex-start | flex-end | center | baseline | stretch;\nalign-self = auto | flex-start | flex-end | center | baseline | stretch;\nalign-content = flex-start | flex-end | center | space-between | space-around | stretch;\n\n/* Pointer Events */\n[ms]touch-action = auto | none | [ pan-x || pan-y ] | manipulation;\n\n/* SVG 2 */\nOPACITY_VALUE = NUM | PERCENTAGE;\nDASH_ARRAY = COMMA( SPACE( [ LENGTH | PERCENTAGE | NUM ]+ )+ );\nPAINT = none | child | child(INT) | COLOR | SPACE( URI [none | COLOR]? ) | context-fill | context-stroke;\ncolor-interpolation = auto | sRGB | linearRGB;\ncolor-rendering = auto | optimizeSpeed | optimizeQuality;\nfill = PAINT;\nfill-opacity = OPACITY_VALUE;\nfill-rule = nonzero | evenodd;\nglyph-orientation-vertical = auto | NUM | ANGLE;\nimage-rendering = auto | optimizeSpeed | optimizeQuality | crisp-edges | pixelated;\nmarker-start = none | URI;\nmarker-mid = none | URI;\nmarker-end = none | URI;\npointer-events = bounding-box | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all | none;\npaint-order = normal | [ fill || stroke || markers ];\nshape-rendering = auto | optimizeSpeed | crispEdges | geometricPrecision;\nstop-color = COLOR;\nstop-opacity = OPACITY_VALUE;\nstroke = PAINT;\nstroke-dasharray = none | DASH_ARRAY;\nstroke-dashoffset = PERCENTAGE | LENGTH_OR_NUM;\nstroke-linecap = butt | round | square;\nstroke-linejoin = miter | round | bevel;\nstroke-miterlimit = NUM;\nstroke-opacity = OPACITY_VALUE;\nstroke-width = PERCENTAGE | LENGTH_OR_NUM;\ntext-anchor = start | middle | end;\ntext-rendering = auto | optimizeSpeed | optimizeLegibility | geometricPrecision;\nvector-effect = none | SPACE( [ non-scaling-stroke | non-scaling-size | non-rotation | fixed-position ]+ [ viewport | screen ]? );\n\n/* SVG 1.1 */\nalignment-baseline = auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical;\nbaseline-shift = baseline | sub | super | PERCENTAGE | LENGTH_OR_NUM;\ndominant-baseline = auto | use-script | no-change | reset-size | ideographic | alphabetic | hanging | mathematical | central | middle | text-after-edge | text-before-edge;\nmask = none | URI;\n\n/* css-masking-1 */\nSHAPE_RADIUS = PLENGTH | closest-side | farthest-side;\nFILL_RULE = nonzero | evenodd;\nSHAPE_BOX = BOX | margin-box;\nGEOMETRY_BOX = SHAPE_BOX | fill-box | stroke-box | view-box;\nBASIC_SHAPE =\n    inset( SPACE( PLENGTH{1,4} [ round PLENGTH{1,4} [ SLASH PLENGTH{1,4} ]? ]? ) )\n  | circle(  SPACE( [SHAPE_RADIUS]?    [at BG_POSITION_TERM{1,4}]? ) )\n  | ellipse( SPACE( SHAPE_RADIUS{2}? [at BG_POSITION_TERM{1,4}]? ) )\n  | polygon( FILL_RULE? COMMA( SPACE( PLENGTH{2} )+ )+ );\n[webkit]clip-path = none | URI | [ BASIC_SHAPE || GEOMETRY_BOX ];\nclip-rule = nonzero | evenodd;\n\n/* filters */\nflood-color = COLOR;\nflood-opacity = OPACITY_VALUE;\nlighting-color = COLOR;\n\n/* compositing-1 */\nBLEND_MODE = normal | multiply | screen | overlay | darken | lighten | color-dodge | color-burn | hard-light | soft-light | difference | exclusion | hue | saturation | color | luminosity;\nmix-blend-mode = BLEND_MODE;\nisolation = auto | isolate;\nbackground-blend-mode = COMMA( BLEND_MODE+ );\n\n/* CSS GCPM */\nfootnote-policy = auto | line;\n\n[viv]repeat-on-break = auto | none | header | footer;\n\nDEFAULTS\n\nbackground-attachment: scroll;\nbackground-color: transparent;\nbackground-image: none;\nbackground-repeat: repeat;\nbackground-position: 0% 0%;\nbackground-clip: border-box;\nbackground-origin: padding-box;\nbackground-size: auto;\nborder-top-color: currentColor;\nborder-right-color: currentColor;\nborder-bottom-color: currentColor;\nborder-left-color: currentColor;\nborder-top-style: none;\nborder-right-style: none;\nborder-bottom-style: none;\nborder-left-style: none;\nborder-top-width: 3px;\nborder-right-width: 3px;\nborder-bottom-width: 3px;\nborder-left-width: 3px;\nborder-top-left-radius: 0;\nborder-top-right-radius: 0;\nborder-bottom-right-radius: 0;\nborder-bottom-left-radius: 0;\nborder-image-source: none;\nborder-image-slice: 100%;\nborder-image-width: 1;\nborder-image-outset: 0;\nborder-image-repeat: stretch;\ncolumn-count: auto;\ncolumn-gap: normal;\ncolumn-width: auto;\ncolumn-rule-color: currentColor;\ncolumn-rule-style: none;\ncolumn-rule-width: 3px;\ncolumn-fill: balance;\noutline-color: currentColor;\noutline-style: none;\noutline-width: 3px;\nflex-direction: row;\nflex-wrap: nowrap;\nfont-family: serif;\nfont-style: normal;\nfont-size: medium;\nfont-variant: normal;\nfont-weight: normal;\nfont-stretch: normal;\nline-height: normal;\nlist-style-image: none;\nlist-style-position: outside;\nlist-style-type: disc;\nmargin-bottom: auto;\nmargin-left: auto;\nmargin-right: auto;\nmargin-top: auto;\npadding-bottom: auto;\npadding-left: auto;\npadding-right: auto;\npadding-top: auto;\ntext-emphasis-color: currentColor;\ntext-emphasis-style: none;\nmarker-start: none;\nmarker-mid: none;\nmarker-end: none;\n\n/* css-logical */\nborder-block-start-color: currentColor;\nborder-block-end-color: currentColor;\nborder-inline-start-color: currentColor;\nborder-inline-end-color: currentColor;\nborder-block-start-style: none;\nborder-block-end-style: none;\nborder-inline-start-style: none;\nborder-inline-end-style: none;\nborder-block-start-width: 3px;\nborder-block-end-width: 3px;\nborder-inline-start-width: 3px;\nborder-inline-end-width: 3px;\n\nSHORTHANDS\n\nbackground = COMMA background-image [background-position [ / background-size ]] background-repeat\n     background-attachment [background-origin background-clip] background-color; /* background-color is a special case, see the code */\nborder-top = border-top-width border-top-style border-top-color;\nborder-right = border-right-width border-right-style border-right-color;\nborder-bottom = border-bottom-width border-bottom-style border-bottom-color;\nborder-left = border-left-width border-left-style border-left-color;\nborder-width = INSETS border-top-width border-right-width border-bottom-width border-left-width;\nborder-style = INSETS border-top-style border-right-style border-bottom-style border-left-style;\nborder-color = INSETS border-top-color border-right-color border-bottom-color border-left-color;\nborder = border-width border-style border-color;\nborder-image = border-image-source border-image-slice [ / border-image-width [ / border-image-outset ] ]\n     border-image-repeat;\nborder-radius = INSETS_SLASH border-top-left-radius border-top-right-radius\n     border-bottom-right-radius border-bottom-left-radius;\n[moz,webkit]columns = column-width column-count;\n[moz,webkit]column-rule = column-rule-width column-rule-style column-rule-color;\nflex-flow = flex-direction flex-wrap;\noeb-column-number = column-count;\noutline = outline-width outline-style outline-color;\nlist-style = list-style-type list-style-position list-style-image;\nmargin = INSETS margin-top margin-right margin-bottom margin-left;\npadding = INSETS padding-top padding-right padding-bottom padding-left;\npause = INSETS pause-before pause-after;\nfont = FONT font-style font-variant font-weight font-stretch /* font-size line-height font-family are special-cased */;\n[epub,webkit]text-emphasis = text-emphasis-style text-emphasis-color;\nmarker = INSETS marker-start marker-mid marker-end;\n\n/* css-logical */\nmargin-block = INSETS margin-block-start margin-block-end;\nmargin-inline = INSETS margin-inline-start margin-inline-end;\npadding-block = INSETS padding-block-start padding-block-end;\npadding-inline = INSETS padding-inline-start padding-inline-end;\nborder-block-width = INSETS border-block-start-width border-block-end-width;\nborder-block-style = INSETS border-block-start-style border-block-end-style;\nborder-block-color = INSETS border-block-start-color border-block-end-color;\nborder-inline-width = INSETS border-inline-start-width border-inline-end-width;\nborder-inline-style = INSETS border-inline-start-style border-inline-end-style;\nborder-inline-color = INSETS border-inline-start-color border-inline-end-color;\nborder-block = border-block-width border-block-style border-block-color;\nborder-inline = border-inline-width border-inline-style border-inline-color;\nborder-block-start = border-block-start-width border-block-start-style border-block-start-color;\nborder-block-end = border-block-end-width border-block-end-style border-block-end-color;\nborder-inline-start = border-inline-start-width border-inline-start-style border-inline-start-color;\nborder-inline-end = border-inline-end-width border-inline-end-style border-inline-end-color;\ninset-block-start = block-start;\ninset-block-end = block-end;\ninset-inline-start = inline-start;\ninset-inline-end = inline-end;\ninset-block = INSETS block-start block-end;\ninset-inline = INSETS inline-start inline-end;\n\n/* old names  */\n[adapt,webkit]margin-before = margin-block-start;\n[adapt,webkit]margin-after = margin-block-end;\n[adapt,webkit]margin-start = margin-inline-start;\n[adapt,webkit]margin-end = margin-inline-end;\n[adapt,webkit]padding-before = padding-block-start;\n[adapt,webkit]padding-after = padding-block-end;\n[adapt,webkit]padding-start = padding-inline-start;\n[adapt,webkit]padding-end = padding-inline-end;\n[adapt,webkit]border-before-color = border-block-start-color;\n[adapt,webkit]border-after-color = border-block-end-color;\n[adapt,webkit]border-start-color = border-inline-start-color;\n[adapt,webkit]border-end-color = border-inline-end-color;\n[adapt,webkit]border-before-style = border-block-start-style;\n[adapt,webkit]border-after-style = border-block-end-style;\n[adapt,webkit]border-start-style = border-inline-start-style;\n[adapt,webkit]border-end-style = border-inline-end-style;\n[adapt,webkit]border-before-width = border-block-start-width;\n[adapt,webkit]border-after-width = border-block-end-width;\n[adapt,webkit]border-start-width = border-inline-start-width;\n[adapt,webkit]border-end-width = border-inline-end-width;\n[adapt,webkit]before = block-start;\n[adapt,webkit]after = block-end;\n[adapt,webkit]start = inline-start;\n[adapt,webkit]end = inline-end;\n";class Lh{constructor(e){this.validator=e,this.success=null,this.failure=null,this.code=0}isSpecial(){return 0!=this.code}markAsStartGroup(){this.code=-1}isStartGroup(){return-1==this.code}markAsEndGroup(){this.code=-2}isEndGroup(){return-2==this.code}markAsStartAlternate(e){this.code=2*e+1}isStartAlternate(){return this.code>0&&this.code%2!=0}markAsEndAlternate(e){this.code=2*e+2}isEndAlternate(){return this.code>0&&this.code%2==0}getAlternate(){return Math.floor((this.code-1)/2)}}class Fh{constructor(e,t){this.where=e,this.success=t,this.what=-1}}!function(e){e[e.FOLLOW=1]="FOLLOW",e[e.OPTIONAL=2]="OPTIONAL",e[e.REPEATED=3]="REPEATED",e[e.ALTERNATE=4]="ALTERNATE"}(Rh||(Rh={}));class Dh{constructor(){this.nodes=[],this.connections=[],this.match=[],this.nomatch=[],this.error=[],this.emptyHead=!0}connect(e,t){for(let n=0;n<e.length;n++)this.connections[e[n]].what=t;e.splice(0,e.length)}clone(){const e=new Dh;for(let t=0;t<this.nodes.length;t++){const n=this.nodes[t],i=new Lh(n.validator);i.code=n.code,e.nodes.push(i)}for(let t=0;t<this.connections.length;t++){const n=this.connections[t],i=new Fh(n.where,n.success);i.what=n.what,e.connections.push(i)}return e.match.push(...this.match),e.nomatch.push(...this.nomatch),e.error.push(...this.error),e}addSpecialToArr(e,t,n){const i=this.nodes.length,o=new Lh(Zh);n>=0?t?o.markAsStartAlternate(n):o.markAsEndAlternate(n):t?o.markAsStartGroup():o.markAsEndGroup(),this.nodes.push(o),this.connect(e,i);const s=new Fh(i,!0),r=new Fh(i,!1);e.push(this.connections.length),this.connections.push(r),e.push(this.connections.length),this.connections.push(s)}endSpecialGroup(){const e=[this.match,this.nomatch,this.error];for(let t=0;t<e.length;t++)this.addSpecialToArr(e[t],!1,-1)}startSpecialGroup(){if(this.nodes.length)throw new Error("invalid call");this.addSpecialToArr(this.match,!0,-1)}endClause(e){this.addSpecialToArr(this.match,!1,e)}startClause(e){if(this.nodes.length)throw new Error("invalid call");const t=new Lh(Zh);t.markAsStartAlternate(e),this.nodes.push(t);const n=new Fh(0,!0),i=new Fh(0,!1);this.nomatch.push(this.connections.length),this.connections.push(i),this.match.push(this.connections.length),this.connections.push(n)}addPrimitive(e){const t=this.nodes.length;this.nodes.push(new Lh(e));const n=new Fh(t,!0),i=new Fh(t,!1);this.connect(this.match,t),this.emptyHead?(this.nomatch.push(this.connections.length),this.emptyHead=!1):this.error.push(this.connections.length),this.connections.push(i),this.match.push(this.connections.length),this.connections.push(n)}isSimple(){return 1==this.nodes.length&&!this.nodes[0].isSpecial()}isPrimitive(){return this.isSimple()&&this.nodes[0].validator instanceof Yh}addGroup(e,t){if(0==e.nodes.length)return;const n=this.nodes.length;if(t==Rh.ALTERNATE&&1==n&&e.isPrimitive()&&this.isPrimitive())return void(this.nodes[0].validator=this.nodes[0].validator.combine(e.nodes[0].validator));for(let t=0;t<e.nodes.length;t++)this.nodes.push(e.nodes[t]);t==Rh.ALTERNATE?(this.emptyHead=!0,this.connect(this.nomatch,n)):this.connect(this.match,n);const i=this.connections.length;for(let t=0;t<e.connections.length;t++){const i=e.connections[t];i.where+=n,i.what>=0&&(i.what+=n),this.connections.push(i)}for(let t=0;t<e.match.length;t++)this.match.push(e.match[t]+i);if(t==Rh.REPEATED&&this.connect(this.match,n),t==Rh.OPTIONAL||t==Rh.REPEATED)for(let t=0;t<e.nomatch.length;t++)this.match.push(e.nomatch[t]+i);else if(this.emptyHead){for(let t=0;t<e.nomatch.length;t++)this.nomatch.push(e.nomatch[t]+i);this.emptyHead=e.emptyHead}else for(let t=0;t<e.nomatch.length;t++)this.error.push(e.nomatch[t]+i);for(let t=0;t<e.error.length;t++)this.error.push(e.error[t]+i);e.nodes=null,e.connections=null}finish(e,t){const n=this.nodes.length;this.nodes.push(e),this.nodes.push(t),this.connect(this.match,n),this.connect(this.nomatch,n+1),this.connect(this.error,n+1);for(const e of this.connections)e.success?this.nodes[e.where].success=this.nodes[e.what]:this.nodes[e.where].failure=this.nodes[e.what];for(let e=0;e<n;e++)if(null==this.nodes[e].failure||null==this.nodes[e].success)throw new Error("Invalid validator state");return this.nodes[0]}}const _h=1,Bh=2,Mh=4,Uh=8,zh=16,Vh=32,Hh=64,Gh=128,$h=256,Wh=512,Xh=1024,jh=2048;class Kh extends ft{constructor(){super()}validateForShorthand(e,t){const n=e[t].visit(this);return n?[n]:null}}class Yh extends Kh{constructor(e,t,n){super(),this.allowed=e,this.idents=t,this.units=n}visitEmpty(e){return this.allowed&_h?e:null}visitSlash(e){return this.allowed&jh?e:null}visitStr(e){return this.allowed&Bh?e:null}visitIdent(e){return this.idents[e.name.toLowerCase()]||(this.allowed&Mh?e:null)}visitNumeric(e){return 0!=e.num||this.allowed&Wh?e.num<0&&!(this.allowed&$h)?null:this.units[e.unit]?e:null:"%"==e.unit&&this.allowed&Xh?e:null}visitNum(e){return 0==e.num?this.allowed&Wh?e:null:e.num<=0&&!(this.allowed&$h)?null:this.allowed&zh?e:null}visitInt(e){if(0==e.num)return this.allowed&Wh?e:null;if(e.num<=0&&!(this.allowed&$h))return null;if(this.allowed&(Vh|zh))return e;return this.idents[`${e.num}`]||null}visitColor(e){return this.allowed&Hh?e:null}visitURL(e){return this.allowed&Gh?e:null}visitSpaceList(e){return null}visitCommaList(e){return null}visitFunc(e){return null}visitExpr(e){return 2046&this.allowed?e:null}combine(e){const t={},n={};for(const e in this.idents)t[e]=this.idents[e];for(const n in e.idents)t[n]=e.idents[n];for(const e in this.units)n[e]=this.units[e];for(const t in e.units)n[t]=e.units[t];return new Yh(this.allowed|e.allowed,t,n)}}const qh={},Zh=new Yh(0,qh,qh);class Qh extends Kh{constructor(e){super(),this.successTerminal=new Lh(null),this.failureTerminal=new Lh(null),this.first=e.finish(this.successTerminal,this.failureTerminal)}validateList(e,t,n){let i=t?[]:e,o=this.first,s=n,r=null,a=null;for(;o!==this.successTerminal&&o!==this.failureTerminal;){if(s>=e.length){o=o.failure;continue}const l=e[s];let h=l;if(o.isSpecial()){let e=!0;o.isStartGroup()?(r?r.push(a):r=[a],a=[]):o.isEndGroup()?a=r.length>0?r.pop():null:o.isEndAlternate()?a[o.getAlternate()]="taken":e=null==a[o.getAlternate()],o=e?o.success:o.failure}else{if(0==s&&!t&&o.validator instanceof Jh&&this instanceof Jh){if(h=new Rt(e).visit(o.validator),h){s=e.length,o=o.success;continue}}else if(0==s&&!t&&o.validator instanceof ec&&this instanceof Jh){if(h=new kt(e).visit(o.validator),h){s=e.length,o=o.success;continue}}else h=l.visit(o.validator);if(!h){o=o.failure;continue}if(h!==l&&e===i){i=[];for(let t=0;t<s;t++)i[t]=e[t]}e!==i&&(i[s-n]=h),s++,o=o.success}}return o===this.successTerminal&&(t?i.length>0:s==e.length)?i:null}validateSingle(e){let t=null,n=this.first;for(;n!==this.successTerminal&&n!==this.failureTerminal;)e?n.isSpecial()?n=n.success:(t=e.visit(n.validator),t?(e=null,n=n.success):n=n.failure):n=n.failure;return n===this.successTerminal?t:null}visitEmpty(e){return this.validateSingle(e)}visitSlash(e){return this.validateSingle(e)}visitStr(e){return this.validateSingle(e)}visitIdent(e){return this.validateSingle(e)}visitNumeric(e){return this.validateSingle(e)}visitNum(e){return this.validateSingle(e)}visitInt(e){return this.validateSingle(e)}visitColor(e){return this.validateSingle(e)}visitURL(e){return this.validateSingle(e)}visitSpaceList(e){return null}visitCommaList(e){return null}visitFunc(e){return this.validateSingle(e)}visitExpr(e){return null}}class Jh extends Qh{constructor(e){super(e)}visitSpaceList(e){const t=this.validateList(e.values,!1,0);return t===e.values?e:t?new Rt(t):null}visitCommaList(e){let t=this.first,n=!1;for(;t;){if(t.validator instanceof ec){n=!0;break}t=t.failure}if(n){const t=this.validateList(e.values,!1,0);return t===e.values?e:t?new kt(t):null}return null}validateForShorthand(e,t){return this.validateList(e,!0,t)}}class ec extends Qh{constructor(e){super(e)}visitSpaceList(e){return this.validateSingle(e)}visitCommaList(e){const t=this.validateList(e.values,!1,0);return t===e.values?e:t?new kt(t):null}validateForShorthand(e,t){let n,i=this.first;for(;i!==this.failureTerminal;){if(n=i.validator.validateForShorthand(e,t),n)return n;i=i.failure}return null}}class tc extends Qh{constructor(e,t){super(t),this.name=e}validateSingle(e){return null}visitFunc(e){if(e.name.toLowerCase()!=this.name)return null;const t=this.validateList(e.values,!1,0);return t===e.values?e:t?new Lt(e.name,t):null}}class nc{tryParse(e,t,n){return t}success(e,t){}}class ic extends nc{constructor(e,t){super(),this.name=t,this.validator=e.validators[this.name]}tryParse(e,t,n){if(n.values[this.name])return t;const i=this.validator.validateForShorthand(e,t);if(i){const e=i.length,o=e>1?new Rt(i):i[0];return this.success(o,n),t+e}return t}success(e,t){t.values[this.name]=e}}class oc extends ic{constructor(e,t){super(e,t[0]),this.names=t}success(e,t){for(let n=0;n<this.names.length;n++)t.values[this.names[n]]=e}}class sc extends nc{constructor(e,t){super(),this.nodes=e,this.slash=t}tryParse(e,t,n){const i=t;if(this.slash){if(e[t]!=yt)return i;if(++t==e.length)return i}let o=this.nodes[0].tryParse(e,t,n);if(o==t)return i;t=o;for(let i=1;i<this.nodes.length&&t<e.length&&(o=this.nodes[i].tryParse(e,t,n),o!=t);i++)t=o;return t}}class rc extends ft{constructor(){super(...arguments),this.syntax=null,this.propList=null,this.error=!1,this.values={},this.validatorSet=null}setOwner(e){this.validatorSet=e}syntaxNodeForProperty(e){return new ic(this.validatorSet,e)}clone(){const e=new this.constructor;return e.syntax=this.syntax,e.propList=this.propList,e.validatorSet=this.validatorSet,e}init(e,t){this.syntax=e,this.propList=t}finish(e,t){if(!this.error){for(const n of this.propList)t.simpleProperty(n,this.values[n]||this.validatorSet.defaultValues[n],e);return!0}return!1}propagateInherit(e,t){for(const n of this.propList)t.simpleProperty(n,Bt.inherit,e)}validateList(e){return this.error=!0,0}validateSingle(e){return this.validateList([e]),null}visitEmpty(e){return this.validateSingle(e)}visitStr(e){return this.validateSingle(e)}visitIdent(e){return this.validateSingle(e)}visitNumeric(e){return this.validateSingle(e)}visitNum(e){return this.validateSingle(e)}visitInt(e){return this.validateSingle(e)}visitColor(e){return this.validateSingle(e)}visitURL(e){return this.validateSingle(e)}visitSpaceList(e){return this.validateList(e.values),null}visitCommaList(e){return this.error=!0,null}visitFunc(e){return this.validateSingle(e)}visitExpr(e){return this.error=!0,null}}class ac extends rc{constructor(){super()}validateList(e){let t=0,n=0;for(;t<e.length;){const i=this.syntax[n].tryParse(e,t,this);if(i>t)t=i,n=0;else if(++n==this.syntax.length){this.error=!0;break}}return t}}class lc extends rc{constructor(){super()}validateList(e){if(e.length>this.syntax.length||0==e.length)return this.error=!0,0;for(let t=0;t<this.syntax.length;t++){let n=t;for(;n>=e.length;)n=1==n?0:n-2;if(this.syntax[t].tryParse(e,n,this)!=n+1)return this.error=!0,0}return e.length}createSyntaxNode(){return new oc(this.validatorSet,this.propList)}}const hc={SIMPLE:ac,INSETS:lc,INSETS_SLASH:class extends rc{constructor(){super()}validateList(e){let t=e.length;for(let n=0;n<e.length;n++)if(e[n]===yt){t=n;break}if(t>this.syntax.length||0==e.length)return this.error=!0,0;for(let n=0;n<this.syntax.length;n++){let i,o=n;for(;o>=t;)o=1==o?0:o-2;if(t+1<e.length)for(i=t+n+1;i>=e.length;)i-=i==t+2?1:2;else i=o;const s=[e[o],e[i]];if(2!=this.syntax[n].tryParse(s,0,this))return this.error=!0,0}return e.length}},COMMA:class extends ac{constructor(){super()}mergeIn(e,t){for(const n of this.propList){const i=t[n]||this.validatorSet.defaultValues[n];let o=e[n];o||(o=[],e[n]=o),o.push(i)}}visitCommaList(e){const t={};for(let n=0;n<e.values.length;n++)if(this.values={},e.values[n]instanceof kt?this.error=!0:(e.values[n].visit(this),this.mergeIn(t,this.values),this.values["background-color"]&&n!=e.values.length-1&&(this.error=!0)),this.error)return null;this.values={};for(const e in t)this.values[e]="background-color"==e?t[e].pop():new kt(t[e]);return null}},FONT:class extends ac{constructor(){super()}init(e,t){super.init(e,t),this.propList.push("font-family","line-height","font-size")}validateList(e){let t=super.validateList(e);if(t+2>e.length)return this.error=!0,t;this.error=!1;const n=this.validatorSet.validators;if(!e[t].visit(n["font-size"]))return this.error=!0,t;if(this.values["font-size"]=e[t++],e[t]===yt){if(t++,t+2>e.length)return this.error=!0,t;if(!e[t].visit(n["line-height"]))return this.error=!0,t;this.values["line-height"]=e[t++]}const i=t==e.length-1?e[t]:new Rt(e.slice(t,e.length));return i.visit(n["font-family"])?(this.values["font-family"]=i,e.length):(this.error=!0,t)}visitCommaList(e){if(e.values[0].visit(this),this.error)return null;const t=[this.values["font-family"]];for(let n=1;n<e.values.length;n++)t.push(e.values[n]);const n=new kt(t);return n.visit(this.validatorSet.validators["font-family"])?this.values["font-family"]=n:this.error=!0,null}visitIdent(e){const t=this.validatorSet.systemFonts[e.name];if(t)for(const e in t)this.values[e]=t[e];else this.error=!0;return null}}};class cc{constructor(){this.validators={},this.prefixes={},this.defaultValues={},this.namedValidators={},this.systemFonts={},this.shorthands={},this.layoutProps={},this.backgroundProps={}}addReplacement(e,t){let n;if(t.type==On.NUMERIC)n=new Tt(t.num,t.text);else if(t.type==On.HASH)n=Gi(t.text);else{if(t.type!=On.IDENT)throw new Error("unexpected replacement");n=Ct(t.text)}if(e.isPrimitive()){const t=e.nodes[0].validator.idents;for(const e in t)t[e]=n;return e}throw new Error("unexpected replacement")}newGroup(e,t){const n=new Dh;if("||"==e){for(let e=0;e<t.length;e++){const i=new Dh;i.startClause(e),i.addGroup(t[e],Rh.FOLLOW),i.endClause(e),n.addGroup(i,0==e?Rh.FOLLOW:Rh.ALTERNATE)}const e=new Dh;return e.startSpecialGroup(),e.addGroup(n,Rh.REPEATED),e.endSpecialGroup(),e}{let i;switch(e){case" ":i=Rh.FOLLOW;break;case"|":case"||":i=Rh.ALTERNATE;break;default:throw new Error("unexpected op")}for(let e=0;e<t.length;e++)n.addGroup(t[e],0==e?Rh.FOLLOW:i);return n}}addCounts(e,t,n){const i=new Dh;for(let n=0;n<t;n++)i.addGroup(e.clone(),Rh.FOLLOW);if(n==Number.POSITIVE_INFINITY)i.addGroup(e,Rh.REPEATED);else for(let o=t;o<n;o++)i.addGroup(e.clone(),Rh.OPTIONAL);return i}primitive(e){const t=new Dh;return t.addPrimitive(e),t}newFunc(e,t){let n;switch(e){case"COMMA":n=new ec(t);break;case"SPACE":n=new Jh(t);break;default:n=new tc(e.toLowerCase(),t)}return this.primitive(n)}initBuiltInValidators(){this.namedValidators.HASHCOLOR=this.primitive(new Yh(Hh,qh,qh)),this.namedValidators.POS_INT=this.primitive(new Yh(Vh,qh,qh)),this.namedValidators.POS_NUM=this.primitive(new Yh(zh,qh,qh)),this.namedValidators.POS_PERCENTAGE=this.primitive(new Yh(Uh,qh,{"%":wt})),this.namedValidators.NEGATIVE=this.primitive(new Yh($h,qh,qh)),this.namedValidators.ZERO=this.primitive(new Yh(Wh,qh,qh)),this.namedValidators.ZERO_PERCENTAGE=this.primitive(new Yh(Xh,qh,qh)),this.namedValidators.POS_LENGTH=this.primitive(new Yh(Uh,qh,{em:wt,ex:wt,ch:wt,rem:wt,vw:wt,vh:wt,vi:wt,vb:wt,vmin:wt,vmax:wt,pvw:wt,pvh:wt,pvi:wt,pvb:wt,pvmin:wt,pvmax:wt,cm:wt,mm:wt,in:wt,px:wt,pt:wt,pc:wt,q:wt})),this.namedValidators.POS_ANGLE=this.primitive(new Yh(Uh,qh,{deg:wt,grad:wt,rad:wt,turn:wt})),this.namedValidators.POS_TIME=this.primitive(new Yh(Uh,qh,{s:wt,ms:wt})),this.namedValidators.FREQUENCY=this.primitive(new Yh(Uh,qh,{Hz:wt,kHz:wt})),this.namedValidators.RESOLUTION=this.primitive(new Yh(Uh,qh,{dpi:wt,dpcm:wt,dppx:wt})),this.namedValidators.URI=this.primitive(new Yh(Gh,qh,qh)),this.namedValidators.IDENT=this.primitive(new Yh(Mh,qh,qh)),this.namedValidators.STRING=this.primitive(new Yh(Bh,qh,qh)),this.namedValidators.SLASH=this.primitive(new Yh(jh,qh,qh));const e={"font-family":Ct("sans-serif")};this.systemFonts.caption=e,this.systemFonts.icon=e,this.systemFonts.menu=e,this.systemFonts["message-box"]=e,this.systemFonts["small-caption"]=e,this.systemFonts["status-bar"]=e}isBuiltIn(e){return!!e.match(/^[A-Z_0-9]+$/)}readNameAndPrefixes(e,t){let n=e.token();if(n.type==On.EOF)return null;const i={"":!0};if(n.type==On.O_BRK){do{if(e.consume(),n=e.token(),n.type!=On.IDENT)throw new Error("Prefix name expected");i[n.text]=!0,e.consume(),n=e.token()}while(n.type==On.COMMA);if(n.type!=On.C_BRK)throw new Error("']' expected");e.consume(),n=e.token()}if(n.type!=On.IDENT)throw new Error("Property name expected");if(2==t?"SHORTHANDS"==n.text:"DEFAULTS"==n.text)return e.consume(),null;const o=n.text;if(e.consume(),2!=t){if(e.token().type!=On.EQ)throw new Error("'=' expected");this.isBuiltIn(o)||(this.prefixes[o]=i)}else if(e.token().type!=On.COLON)throw new Error("':' expected");return o}parseValidators(e){for(;;){const t=this.readNameAndPrefixes(e,1);if(!t)return;let n=[];const i=[];let o,s="",r=!0;const a=this,l=()=>{if(0==n.length)throw new Error("No values");return 1==n.length?n[0]:a.newGroup(s,n)},h=e=>{if(r)throw new Error(`'${e}': unexpected`);if(s&&s!=e)throw new Error(`mixed operators: '${e}' and '${s}'`);s=e,r=!0};let c=null;for(;!c;){e.consume();let t=e.token();switch(t.type){case On.IDENT:if(r||h(" "),this.isBuiltIn(t.text)){const e=this.namedValidators[t.text];if(!e)throw new Error(`'${t.text}' unexpected`);n.push(e.clone())}else{const e={};e[t.text.toLowerCase()]=Ct(t.text),n.push(this.primitive(new Yh(0,e,qh)))}r=!1;break;case On.INT:{const e={};e[`${t.num}`]=new It(t.num),n.push(this.primitive(new Yh(0,e,qh))),r=!1;break}case On.BAR:h("|");break;case On.BAR_BAR:h("||");break;case On.O_BRK:r||h(" "),i.push({vals:n,op:s,b:"["}),s="",n=[],r=!0;break;case On.FUNC:r||h(" "),i.push({vals:n,op:s,b:"(",fn:t.text}),s="",n=[],r=!0;break;case On.C_BRK:{o=l();const e=i.pop();if("["!=e.b)throw new Error("']' unexpected");n=e.vals,n.push(o),s=e.op,r=!1;break}case On.C_PAR:{o=l();const e=i.pop();if("("!=e.b)throw new Error("')' unexpected");n=e.vals,n.push(this.newFunc(e.fn,o)),s=e.op,r=!1;break}case On.COLON:if(r)throw new Error("':' unexpected");e.consume(),n.push(this.addReplacement(n.pop(),e.token()));break;case On.QMARK:if(r)throw new Error("'?' unexpected");n.push(this.addCounts(n.pop(),0,1));break;case On.STAR:if(r)throw new Error("'*' unexpected");n.push(this.addCounts(n.pop(),0,Number.POSITIVE_INFINITY));break;case On.PLUS:if(r)throw new Error("'+' unexpected");n.push(this.addCounts(n.pop(),1,Number.POSITIVE_INFINITY));break;case On.O_BRC:{if(e.consume(),t=e.token(),t.type!=On.INT)throw new Error("<int> expected");const i=t.num;let o=i;if(e.consume(),t=e.token(),t.type==On.COMMA){if(e.consume(),t=e.token(),t.type!=On.INT)throw new Error("<int> expected");o=t.num,e.consume(),t=e.token()}if(t.type!=On.C_BRC)throw new Error("'}' expected");n.push(this.addCounts(n.pop(),i,o));break}case On.SEMICOL:if(c=l(),i.length>0)throw new Error(`unclosed '${i.pop().b}'`);break;default:throw new Error("unexpected token")}}e.consume(),this.isBuiltIn(t)?this.namedValidators[t]=c:c.isSimple()?this.validators[t]=c.nodes[0].validator:this.validators[t]=new Jh(c)}}parseDefaults(e){for(;;){const t=this.readNameAndPrefixes(e,2);if(!t)return;const n=[];for(;;){e.consume();const t=e.token();if(t.type==On.SEMICOL){e.consume();break}switch(t.type){case On.IDENT:n.push(Ct(t.text));break;case On.NUM:n.push(new xt(t.num));break;case On.INT:n.push(new It(t.num));break;case On.NUMERIC:n.push(new Tt(t.num,t.text));break;default:throw new Error("unexpected token")}}this.defaultValues[t]=n.length>1?new Rt(n):n[0]}}parseShorthands(e){for(;;){const t=this.readNameAndPrefixes(e,3);if(!t)return;let n,i=e.nthToken(1);i.type==On.IDENT&&hc[i.text]?(n=new hc[i.text],e.consume()):n=new ac,n.setOwner(this);let o=!1,s=[],r=!1;const a=[],l=[];for(;!o;)switch(e.consume(),i=e.token(),i.type){case On.IDENT:if(this.validators[i.text])s.push(n.syntaxNodeForProperty(i.text)),l.push(i.text);else{if(!(this.shorthands[i.text]instanceof lc))throw new Error(`'${i.text}' is neither a simple property nor an inset shorthand`);{const e=this.shorthands[i.text];s.push(e.createSyntaxNode()),l.push(...e.propList)}}break;case On.SLASH:if(s.length>0||r)throw new Error("unexpected slash");r=!0;break;case On.O_BRK:a.push({slash:r,syntax:s}),s=[],r=!1;break;case On.C_BRK:{const e=new sc(s,r),t=a.pop();s=t.syntax,r=t.slash,s.push(e);break}case On.SEMICOL:o=!0,e.consume();break;default:throw new Error("unexpected token")}n.init(s,l),this.shorthands[t]=n}}parse(e){const t=new hi(e,null);this.parseValidators(t),this.parseDefaults(t),this.parseShorthands(t),this.backgroundProps=this.makePropSet(["background"]),this.layoutProps=this.makePropSet(["margin","border","padding","columns","column-gap","column-rule","column-fill"])}makePropSet(e){const t={};for(const n of e){const e=this.shorthands[n],i=e?e.propList:[n];for(const e of i){const n=this.defaultValues[e];n?t[e]=n:h.warn("Unknown property in makePropSet:",e)}}return t}validatePropertyAndHandleShorthand(e,t,n,i){let o="";const s=e,r=(e=e.toLowerCase()).match(/^-([a-z]+)-([-a-z0-9]+)$/);r&&(o=r[1],e=r[2]);const a=this.prefixes[e];if(!a||!a[o])return void i.unknownProperty(s,t);const l=this.validators[e];if(l){const o=t===Bt.inherit||t.isExpr()?t:t.visit(l);o?i.simpleProperty(e,o,n):i.invalidPropertyValue(s,t)}else{const o=this.shorthands[e].clone();t===Bt.inherit?o.propagateInherit(n,i):(t.visit(o),o.finish(n,i)||i.invalidPropertyValue(s,t))}}}function uc(){const e=new cc;return e.initBuiltInValidators(),e.parse(kh),e}const dc={"font-style":Bt.normal,"font-variant":Bt.normal,"font-weight":Bt.normal},pc=`OTTO${(new Date).valueOf()}`;let fc=1;function gc(e,t){const n={};for(const i in e)n[i]=$o(e,i).evaluate(t,i);return function(e){for(const t in dc)e[t]||(e[t]=dc[t])}(n),n}class mc{constructor(e){this.properties=e,this.blobURLs=[],this.blobs=[],this.fontTraitKey=function(e){const t=new H;for(const n in dc)t.append(" "),t.append(e[n].toString());return t.toString()}(this.properties),this.src=this.properties.src?this.properties.src.toString():null;const t=this.properties["font-family"];this.family=t?t.stringValue():null}traitsEqual(e){return this.fontTraitKey==e.fontTraitKey}makeAtRule(e,t){const n=new H;n.append("@font-face {\n  font-family: "),n.append(this.family),n.append(";\n  ");for(const e in dc)n.append(e),n.append(": "),this.properties[e].appendTo(n,!0),n.append(";\n  ");if(t){n.append('src: url("');const e=function(e){return(window.URL||window.webkitURL).createObjectURL(e)}(t);n.append(e),this.blobURLs.push(e),this.blobs.push(t),n.append('")')}else n.append("src: "),n.append(e);return n.append(";\n}\n"),n.toString()}}class bc{constructor(e){this.deobfuscator=e,this.familyMap={}}registerFamily(e,t){const n=e.family,i=this.familyMap[n],o=t.family;if(i){if(i!=o)throw new Error(`E_FONT_FAMILY_INCONSISTENT ${e.family}`)}else this.familyMap[n]=o}filterFontFamily(e){if(e instanceof kt){const t=e.values,n=[];for(const e of t){const t=this.familyMap[e.stringValue()];t&&n.push(Ct(t)),n.push(e)}return new kt(n)}{const t=this.familyMap[e.stringValue()];return t?new kt([Ct(t),e]):e}}}class wc{constructor(e,t,n){this.head=e,this.body=t,this.srcURLMap={},this.familyCounter=0,this.familyPrefix=n||"Fnt_"}getViewFontFamily(e,t){const n=e.family;let i=t.familyMap[n];return i||(i=this.familyPrefix+ ++this.familyCounter,t.familyMap[n]=i,i)}initFont(e,t,n){const i=pi("initFont"),o=this,s=e.src,r={};for(const t in dc)r[t]=e.properties[t];const a=o.getViewFontFamily(e,n);r["font-family"]=Ct(a);const l=new mc(r),c=o.body.ownerDocument.createElement("span");c.textContent="M";const u=(new Date).valueOf()+1e3,d=o.head.ownerDocument.createElement("style"),p=pc+fc++;d.textContent=l.makeAtRule("",ki([p])),o.head.appendChild(d),o.body.appendChild(c),c.style.visibility="hidden",c.style.fontFamily=a;for(const e in dc)U(c,e,r[e].toString());const f=c.getBoundingClientRect(),g=f.right-f.left,m=f.bottom-f.top;d.textContent=l.makeAtRule(s,t),h.info("Starting to load font:",s);let b=!1;return i.loop(()=>{const e=c.getBoundingClientRect(),t=e.right-e.left,n=e.bottom-e.top;return g!=t||m!=n?(b=!0,fi(!1)):(new Date).valueOf()>u?fi(!1):i.sleep(10)}).then(()=>{b?h.info("Loaded font:",s):h.warn("Failed to load font:",s),o.body.removeChild(c),i.finish(l)}),i.result()}loadFont(e,t){const n=e.src;let i=this.srcURLMap[n];const o=this;return i?i.piggyback(i=>{const o=i;o.traitsEqual(e)?(t.registerFamily(e,o),h.warn("Found already-loaded font:",n)):h.warn("E_FONT_FACE_INCOMPATIBLE",e.src)}):(i=new xi(()=>{const i=pi("loadFont"),s=t.deobfuscator?t.deobfuscator(n):null;return s?Ri(n,Ai.BLOB).then(n=>{n.responseBlob?s(n.responseBlob).then(n=>{o.initFont(e,n,t).thenFinish(i)}):i.finish(null)}):o.initFont(e,null,t).thenFinish(i),i.result()},`loadFont ${n}`),this.srcURLMap[n]=i,i.start()),i}findOrLoadFonts(e,t){const n=[];for(const i of e)i.src&&i.family?n.push(this.loadFont(i,t)):h.warn("E_FONT_FACE_INVALID");return Ii(n)}}let Ec=1;class yc{constructor(e,t,n,i,o){this.name=t,this.pseudoName=n,this.classes=i,this.parent=o,this.specified={},this.children=[],this.pageMaster=null,this.index=0,this._scope=e,this.key=`p${Ec++}`,o&&(this.index=o.children.length,o.children.push(this))}get scope(){return this._scope}createInstance(e){throw new Error("E_UNEXPECTED_CALL")}clone(e){throw new Error("E_UNEXPECTED_CALL")}copySpecified(e){const t=this.specified,n=e.specified;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}cloneChildren(e){for(let t=0;t<this.children.length;t++)this.children[t].clone({parent:e})}}class Sc extends yc{constructor(e){super(e,null,null,[],null),this.specified.width=new _o(Ut,0),this.specified.height=new _o(zt,0)}}class Nc extends Te{constructor(e,t){super(e,(function(e,t){const i=e.match(/^([^.]+)\.([^.]+)$/);if(i){const e=n.pageMaster.keyMap[i[1]];if(e){const n=this.lookupInstance(e);if(n)return t?n.resolveFunc(i[2]):n.resolveName(i[2])}}return null})),this.pageMaster=t;const n=this}}class vc extends yc{constructor(e,t,n,i,o,s,r){super(e,t,n,i,o),this.condition=s,this.specificity=r,this.keyMap={},e instanceof Nc||(this._scope=new Nc(e,this)),this.pageMaster=this,this.specified.width=new _o(Ut,0),this.specified.height=new _o(zt,0),this.specified["wrap-flow"]=new _o(Bt.auto,0),this.specified.position=new _o(Bt.relative,0),this.specified.overflow=new _o(Bt.visible,0)}createInstance(e){return new Uc(e,this)}clone(e){const t=new vc(this.scope,this.name,e.pseudoName||this.pseudoName,this.classes,this.parent,this.condition,this.specificity);return this.copySpecified(t),this.cloneChildren(t),t}resetScope(){this.scope.pageMaster=this}}class Cc extends yc{constructor(e,t,n,i,o){super(e,t,n,i,o),this.pageMaster=o.pageMaster,t&&(this.pageMaster.keyMap[t]=this.key),this.specified["wrap-flow"]=new _o(Bt.auto,0)}createInstance(e){return new zc(e,this)}clone(e){const t=new Cc(e.parent.scope,this.name,this.pseudoName,this.classes,e.parent);return this.copySpecified(t),this.cloneChildren(t),t}}class Tc extends yc{constructor(e,t,n,i,o){super(e,t,n,i,o),this.pageMaster=o.pageMaster,t&&(this.pageMaster.keyMap[t]=this.key)}createInstance(e){return new Vc(e,this)}clone(e){const t=new Tc(e.parent.scope,this.name,this.pseudoName,this.classes,e.parent);return this.copySpecified(t),this.cloneChildren(t),t}}function xc(e,t,n){return t&&t!==Bt.auto?t.toExpr(e,n):null}function Ic(e,t,n){return t&&t!==Bt.auto?t.toExpr(e,n):e.zero}function Pc(e,t,n){return t?t===Bt.auto?null:t.toExpr(e,n):e.zero}function Ac(e,t,n,i){return t&&n!==Bt.none?t.toExpr(e,i):e.zero}function Oc(e,t,n){return t?t===Bt._true?e._true:t===Bt._false?e._false:t.toExpr(e,e.zero):n}class Rc{constructor(e,t){this.parentInstance=e,this.pageBox=t,this.cascaded={},this.style={},this.autoWidth=null,this.autoHeight=null,this.children=[],this.isAutoWidth=!1,this.isAutoHeight=!1,this.isTopDependentOnAutoHeight=!1,this.isRightDependentOnAutoWidth=!1,this.calculatedWidth=0,this.calculatedHeight=0,this.pageMasterInstance=null,this.namedValues={},this.namedFuncs={},this.vertical=!1,this.rtl=!1,this.suppressEmptyBoxGeneration=!1,e&&e.children.push(this)}reset(){this.calculatedWidth=0,this.calculatedHeight=0}addNamedValues(e,t){const n=this.resolveName(e),i=this.resolveName(t);if(!n||!i)throw new Error("E_INTERNAL");return ct(this.pageBox.scope,n,i)}resolveName(e){let t=this.namedValues[e];if(t)return t;const n=this.style[e];switch(n&&(t=n.toExpr(this.pageBox.scope,this.pageBox.scope.zero)),e){case"margin-left-edge":t=this.resolveName("left");break;case"margin-top-edge":t=this.resolveName("top");break;case"margin-right-edge":t=this.addNamedValues("border-right-edge","margin-right");break;case"margin-bottom-edge":t=this.addNamedValues("border-bottom-edge","margin-bottom");break;case"border-left-edge":t=this.addNamedValues("margin-left-edge","margin-left");break;case"border-top-edge":t=this.addNamedValues("margin-top-edge","margin-top");break;case"border-right-edge":t=this.addNamedValues("padding-right-edge","border-right-width");break;case"border-bottom-edge":t=this.addNamedValues("padding-bottom-edge","border-bottom-width");break;case"padding-left-edge":t=this.addNamedValues("border-left-edge","border-left-width");break;case"padding-top-edge":t=this.addNamedValues("border-top-edge","border-top-width");break;case"padding-right-edge":t=this.addNamedValues("right-edge","padding-right");break;case"padding-bottom-edge":t=this.addNamedValues("bottom-edge","padding-bottom");break;case"left-edge":t=this.addNamedValues("padding-left-edge","padding-left");break;case"top-edge":t=this.addNamedValues("padding-top-edge","padding-top");break;case"right-edge":t=this.addNamedValues("left-edge","width");break;case"bottom-edge":t=this.addNamedValues("top-edge","height")}if(!t){let n;if("extent"==e)n=this.vertical?"width":"height";else if("measure"==e)n=this.vertical?"height":"width";else{const t=this.vertical?ko:Lo;n=e;for(const e in t)n=n.replace(e,t[e])}n!=e&&(t=this.resolveName(n))}return t&&(this.namedValues[e]=t),t}resolveFunc(e){let t=this.namedFuncs[e];if(t)return t;switch(e){case"columns":{const e=this.pageBox.scope,n=new lt(e,0),i=this.resolveName("column-count"),o=this.resolveName("column-width"),s=this.resolveName("column-gap");t=ut(e,dt(e,new ot(e,"min",[n,i]),ct(e,o,s)),s);break}}return t&&(this.namedFuncs[e]=t),t}initEnabled(){const e=this.pageBox.scope,t=this.style;let n=Oc(e,t.enabled,e._true);const i=xc(e,t.page,e.zero);if(i){const t=new tt(e,"page-number");n=ht(e,n,new je(e,i,t))}const o=xc(e,t["min-page-width"],e.zero);o&&(n=ht(e,n,new Xe(e,new tt(e,"page-width"),o)));const s=xc(e,t["min-page-height"],e.zero);s&&(n=ht(e,n,new Xe(e,new tt(e,"page-height"),s))),n=this.boxSpecificEnabled(n),t.enabled=new Ft(n)}boxSpecificEnabled(e){return e}initHorizontal(){const e=this.pageBox.scope,t=this.style,n=this.parentInstance?this.parentInstance.style.width.toExpr(e,null):null;let i=xc(e,t.left,n),o=xc(e,t["margin-left"],n);const s=Ac(e,t["border-left-width"],t["border-left-style"],n),r=Ic(e,t["padding-left"],n);let a=xc(e,t.width,n),l=xc(e,t["max-width"],n);const h=Ic(e,t["padding-right"],n),c=Ac(e,t["border-right-width"],t["border-right-style"],n);let u=xc(e,t["margin-right"],n),d=xc(e,t.right,n);const p=ct(e,s,r),f=ct(e,s,h);if(i&&d&&a){let t=ut(e,n,ct(e,a,ct(e,ct(e,i,p),f)));o?u?d=ut(e,t,u):u=ut(e,t,ct(e,d,o)):(t=ut(e,t,d),u?o=ut(e,t,u):(o=dt(e,t,new rt(e,.5)),u=o))}else{o||(o=e.zero),u||(u=e.zero),i||d||a||(i=e.zero),i||a?i||d?a||d||(a=this.autoWidth,this.isAutoWidth=!0):i=e.zero:(a=this.autoWidth,this.isAutoWidth=!0);const s=ut(e,n,ct(e,ct(e,o,p),ct(e,u,f)));this.isAutoWidth&&(l||(l=ut(e,s,i||d)),this.vertical||!xc(e,t["column-width"],null)&&!xc(e,t["column-count"],null)||(a=l,this.isAutoWidth=!1)),i?a?d||(d=ut(e,s,ct(e,i,a))):a=ut(e,s,ct(e,i,d)):i=ut(e,s,ct(e,d,a))}const g=Ic(e,t["snap-width"]||(this.parentInstance?this.parentInstance.style["snap-width"]:null),n);t.left=new Ft(i),t["margin-left"]=new Ft(o),t["border-left-width"]=new Ft(s),t["padding-left"]=new Ft(r),t.width=new Ft(a),t["max-width"]=new Ft(l||a),t["padding-right"]=new Ft(h),t["border-right-width"]=new Ft(c),t["margin-right"]=new Ft(u),t.right=new Ft(d),t["snap-width"]=new Ft(g)}initVertical(){const e=this.pageBox.scope,t=this.style,n=this.parentInstance?this.parentInstance.style.width.toExpr(e,null):null,i=this.parentInstance?this.parentInstance.style.height.toExpr(e,null):null;let o=xc(e,t.top,i),s=xc(e,t["margin-top"],n);const r=Ac(e,t["border-top-width"],t["border-top-style"],n),a=Ic(e,t["padding-top"],n);let l=xc(e,t.height,i),h=xc(e,t["max-height"],i);const c=Ic(e,t["padding-bottom"],n),u=Ac(e,t["border-bottom-width"],t["border-bottom-style"],n);let d=xc(e,t["margin-bottom"],n),p=xc(e,t.bottom,i);const f=ct(e,r,a),g=ct(e,u,c);if(o&&p&&l){let t=ut(e,i,ct(e,l,ct(e,ct(e,o,f),g)));s?d?p=ut(e,t,s):d=ut(e,t,ct(e,p,s)):(t=ut(e,t,p),d?s=ut(e,t,d):(s=dt(e,t,new rt(e,.5)),d=s))}else{s||(s=e.zero),d||(d=e.zero),o||p||l||(o=e.zero),o||l?o||p?l||p||(l=this.autoHeight,this.isAutoHeight=!0):o=e.zero:(l=this.autoHeight,this.isAutoHeight=!0);const n=ut(e,i,ct(e,ct(e,s,f),ct(e,d,g)));this.isAutoHeight&&(h||(h=ut(e,n,o||p)),this.vertical&&(xc(e,t["column-width"],null)||xc(e,t["column-count"],null))&&(l=h,this.isAutoHeight=!1)),o?l?p||(p=ut(e,n,ct(e,o,l))):l=ut(e,n,ct(e,p,o)):o=ut(e,n,ct(e,p,l))}const m=Ic(e,t["snap-height"]||(this.parentInstance?this.parentInstance.style["snap-height"]:null),n);t.top=new Ft(o),t["margin-top"]=new Ft(s),t["border-top-width"]=new Ft(r),t["padding-top"]=new Ft(a),t.height=new Ft(l),t["max-height"]=new Ft(h||l),t["padding-bottom"]=new Ft(c),t["border-bottom-width"]=new Ft(u),t["margin-bottom"]=new Ft(d),t.bottom=new Ft(p),t["snap-height"]=new Ft(m)}initColumns(){const e=this.pageBox.scope,t=this.style,n=xc(e,t[this.vertical?"height":"width"],null);let i=xc(e,t["column-width"],n),o=xc(e,t["column-count"],null),s=function(e,t,n){return t&&t!==Bt.normal?t.toExpr(e,n):null}(e,t["column-gap"],null);s||(s=new et(e,1,"em")),i&&!o&&(o=new ot(e,"floor",[pt(e,ct(e,n,s),ct(e,i,s))]),o=new ot(e,"max",[e.one,o])),o||(o=e.one),i=ut(e,pt(e,ct(e,n,s),o),s),t["column-width"]=new Ft(i),t["column-count"]=new Ft(o),t["column-gap"]=new Ft(s)}depends(e,t,n){return this.style[e].toExpr(this.pageBox.scope,null).depend(t,n)}init(e){e.registerInstance(this.pageBox.key,this);const t=this.pageBox.scope,n=this.style,i=this,o=this.parentInstance?this.parentInstance.getActiveRegions(e):null,s=cr(this.cascaded,e,o,!1);this.vertical=lr(s,e,!!this.parentInstance&&this.parentInstance.vertical),this.rtl=hr(s,e,!!this.parentInstance&&this.parentInstance.rtl),pr(s,n,this.vertical,this.rtl,(e,t)=>t.value),this.autoWidth=new it(t,()=>i.calculatedWidth,"autoWidth"),this.autoHeight=new it(t,()=>i.calculatedHeight,"autoHeight"),this.initHorizontal(),this.initVertical(),this.initColumns(),this.initEnabled()}getProp(e,t){let n=this.style[t];return n&&(n=Eo(e,n,t)),n}getPropAsNumber(e,t){let n=this.style[t];return n&&(n=Eo(e,n,t)),Dt(n,e)}getSpecial(e,t){const n=Yo(this.cascaded,t);if(n){const t=[];for(let i=0;i<n.length;i++){const o=n[i].evaluate(e,"");o&&o!==wt&&t.push(o)}if(t.length)return t}return null}getActiveRegions(e){const t=this.getSpecial(e,"region-id");if(t){const e=[];for(let n=0;n<t.length;n++)e[n]=t[n].toString();return e}return null}propagateProperty(e,t,n,i){this.propagatePropertyToElement(e,t.element,n,i)}propagatePropertyToElement(e,t,n,i){let o=this.getProp(e,n);o&&(o.isNumeric()&&Pe(o.unit)&&(o=_t(o,e)),"font-family"===n&&(o=i.filterFontFamily(o)),U(t,n,o.toString()))}propagateDelayedProperty(e,t,n,i){const o=this.getProp(e,n);o&&i.push(new Xr(t.element,n,o))}assignLeftPosition(e,t){const n=this.getPropAsNumber(e,"left"),i=this.getPropAsNumber(e,"margin-left"),o=this.getPropAsNumber(e,"padding-left"),s=this.getPropAsNumber(e,"border-left-width"),r=this.getPropAsNumber(e,"width");t.setHorizontalPosition(n,r),U(t.element,"margin-left",`${i}px`),U(t.element,"padding-left",`${o}px`),U(t.element,"border-left-width",`${s}px`),t.marginLeft=i,t.borderLeft=s,t.paddingLeft=o}assignRightPosition(e,t){const n=this.getPropAsNumber(e,"right"),i=this.getPropAsNumber(e,"snap-height"),o=this.getPropAsNumber(e,"margin-right");let s=this.getPropAsNumber(e,"padding-right");const r=this.getPropAsNumber(e,"border-right-width");if(U(t.element,"margin-right",`${o}px`),U(t.element,"padding-right",`${s}px`),U(t.element,"border-right-width",`${r}px`),t.marginRight=o,t.borderRight=r,this.vertical&&i>0){const e=n+t.getInsetRight(),o=e-Math.floor(e/i)*i;o>0&&(t.snapOffsetX=i-o,s+=t.snapOffsetX)}t.paddingRight=s,t.snapWidth=i}assignTopPosition(e,t){const n=this.getPropAsNumber(e,"snap-height"),i=this.getPropAsNumber(e,"top"),o=this.getPropAsNumber(e,"margin-top");let s=this.getPropAsNumber(e,"padding-top");const r=this.getPropAsNumber(e,"border-top-width");if(t.top=i,t.marginTop=o,t.borderTop=r,t.snapHeight=n,!this.vertical&&n>0){const e=i+t.getInsetTop(),o=e-Math.floor(e/n)*n;o>0&&(t.snapOffsetY=n-o,s+=t.snapOffsetY)}t.paddingTop=s,U(t.element,"top",`${i}px`),U(t.element,"margin-top",`${o}px`),U(t.element,"padding-top",`${s}px`),U(t.element,"border-top-width",`${r}px`)}assignBottomPosition(e,t){const n=this.getPropAsNumber(e,"margin-bottom"),i=this.getPropAsNumber(e,"padding-bottom"),o=this.getPropAsNumber(e,"border-bottom-width"),s=this.getPropAsNumber(e,"height")-t.snapOffsetY;U(t.element,"height",`${s}px`),U(t.element,"margin-bottom",`${n}px`),U(t.element,"padding-bottom",`${i}px`),U(t.element,"border-bottom-width",`${o}px`),t.height=s-t.snapOffsetY,t.marginBottom=n,t.borderBottom=o,t.paddingBottom=i}assignBeforePosition(e,t){this.vertical?this.assignRightPosition(e,t):this.assignTopPosition(e,t)}assignAfterPosition(e,t){this.vertical?this.assignLeftPosition(e,t):this.assignBottomPosition(e,t)}assignStartEndPosition(e,t){this.vertical?(this.assignTopPosition(e,t),this.assignBottomPosition(e,t)):(this.assignRightPosition(e,t),this.assignLeftPosition(e,t))}sizeWithMaxHeight(e,t){U(t.element,"border-top-width","0px");let n=this.getPropAsNumber(e,"max-height");this.isTopDependentOnAutoHeight?t.setVerticalPosition(0,n):(this.assignTopPosition(e,t),n-=t.snapOffsetY,t.height=n,U(t.element,"height",`${n}px`))}sizeWithMaxWidth(e,t){U(t.element,"border-left-width","0px");let n=this.getPropAsNumber(e,"max-width");if(this.isRightDependentOnAutoWidth)t.setHorizontalPosition(0,n);else{this.assignRightPosition(e,t),n-=t.snapOffsetX,t.width=n;const i=this.getPropAsNumber(e,"right");U(t.element,"right",`${i}px`),U(t.element,"width",`${n}px`)}}prepareContainer(e,t,n,i,o){this.parentInstance&&this.vertical==this.parentInstance.vertical||U(t.element,"writing-mode",this.vertical?"vertical-rl":"horizontal-tb"),(this.vertical?this.isAutoWidth:this.isAutoHeight)?this.vertical?this.sizeWithMaxWidth(e,t):this.sizeWithMaxHeight(e,t):(this.assignBeforePosition(e,t),this.assignAfterPosition(e,t)),(this.vertical?this.isAutoHeight:this.isAutoWidth)?this.vertical?this.sizeWithMaxHeight(e,t):this.sizeWithMaxWidth(e,t):this.assignStartEndPosition(e,t);for(let n=0;n<kc.length;n++)this.propagateProperty(e,t,kc[n],i)}transferContentProps(e,t,n,i){for(let n=0;n<Fc.length;n++)this.propagateProperty(e,t,Fc[n],i)}transferSinglUriContentProps(e,t,n){for(let i=0;i<Dc.length;i++)this.propagatePropertyToElement(e,t,Dc[i],n)}finishContainer(e,t,n,i,o,s,r){this.vertical?this.calculatedWidth=t.computedBlockSize+t.snapOffsetX:this.calculatedHeight=t.computedBlockSize+t.snapOffsetY;const a=(this.vertical||!i)&&this.isAutoHeight,l=(!this.vertical||!i)&&this.isAutoWidth;let h=null;if((l||a)&&(l&&U(t.element,"width","auto"),a&&U(t.element,"height","auto"),h=s.getElementClientRect(i?i.element:t.element),l&&(this.calculatedWidth=Math.ceil(h.right-h.left-t.paddingLeft-t.borderLeft-t.paddingRight-t.borderRight),this.vertical&&(this.calculatedWidth+=t.snapOffsetX)),a&&(this.calculatedHeight=h.bottom-h.top-t.paddingTop-t.borderTop-t.paddingBottom-t.borderBottom,this.vertical||(this.calculatedHeight+=t.snapOffsetY))),(this.vertical?this.isAutoHeight:this.isAutoWidth)&&this.assignStartEndPosition(e,t),(this.vertical?this.isAutoWidth:this.isAutoHeight)&&((this.vertical?this.isRightDependentOnAutoWidth:this.isTopDependentOnAutoHeight)&&this.assignBeforePosition(e,t),this.assignAfterPosition(e,t)),o>1){const n=this.getPropAsNumber(e,"column-rule-width"),i=this.getProp(e,"column-rule-style"),s=this.getProp(e,"column-rule-color");if(n>0&&i&&i!=Bt.none&&s!=Bt.transparent){const r=this.getPropAsNumber(e,"column-gap"),a=this.vertical?t.height:t.width,l=this.vertical?"border-top":"border-left";for(let e=1;e<o;e++){const h=(a+r)*e/o-r/2+t.paddingLeft-n/2,c=t.height+t.paddingTop+t.paddingBottom,u=t.element.ownerDocument.createElement("div");U(u,"position","absolute"),U(u,this.vertical?"left":"top","0px"),U(u,this.vertical?"top":"left",`${h}px`),U(u,this.vertical?"height":"width","0px"),U(u,this.vertical?"width":"height",`${c}px`),U(u,l,`${n}px ${i.toString()}${s?` ${s.toString()}`:""}`),t.element.insertBefore(u,t.element.firstChild)}}}for(let n=0;n<Lc.length;n++)this.propagateProperty(e,t,Lc[n],r);for(let i=0;i<_c.length;i++)this.propagateDelayedProperty(e,t,_c[i],n.delayedItems)}applyCascadeAndInit(e,t){const n=this.cascaded,i=this.pageBox.specified;for(const e in i)Ho(e)&&Wo(n,e,$o(i,e));if(this.pageBox.pseudoName==Bc)for(const e in t)(e.match(/^background-/)||"writing-mode"==e)&&(n[e]=t[e]);if("layout-host"==this.pageBox.pseudoName)for(const e in t)e.match(/^background-/)||"writing-mode"==e||(n[e]=t[e]);e.pushRule(this.pageBox.classes,null,n),n.content&&(n.content=n.content.filterValue(new Us(e,null,e.counterResolver))),this.init(e.context);for(const n of this.pageBox.children)n.createInstance(this).applyCascadeAndInit(e,t);e.popRule()}resolveAutoSizing(e){this.isAutoWidth&&(this.isRightDependentOnAutoWidth=this.depends("right",this.autoWidth,e)||this.depends("margin-right",this.autoWidth,e)||this.depends("border-right-width",this.autoWidth,e)||this.depends("padding-right",this.autoWidth,e)),this.isAutoHeight&&(this.isTopDependentOnAutoHeight=this.depends("top",this.autoHeight,e)||this.depends("margin-top",this.autoHeight,e)||this.depends("border-top-width",this.autoHeight,e)||this.depends("padding-top",this.autoHeight,e));for(const t of this.children)t.resolveAutoSizing(e)}}const kc=["border-left-style","border-right-style","border-top-style","border-bottom-style","border-left-color","border-right-color","border-top-color","border-bottom-color","outline-style","outline-color","outline-width","overflow","visibility"],Lc=["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius","border-image-source","border-image-slice","border-image-width","border-image-outset","border-image-repeat","background-attachment","background-color","background-image","background-repeat","background-position","background-clip","background-origin","background-size","opacity","z-index","background-blend-mode","isolation","mix-blend-mode","filter"],Fc=["color","font-family","font-size","font-style","font-weight","font-variant","line-height","letter-spacing","text-align","text-decoration","text-indent","text-transform","white-space","word-spacing","font-feature-settings","font-kerning","font-size-adjust","font-variant-east-asian","font-stretch","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-shadow","text-underline-position"],Dc=["width","height","image-resolution","object-fit","object-position"],_c=["transform","transform-origin"],Bc="background-host";class Mc extends Rc{constructor(e){super(null,e)}applyCascadeAndInit(e,t){super.applyCascadeAndInit(e,t),this.children.sort((e,t)=>t.pageBox.specificity-e.pageBox.specificity||e.pageBox.index-t.pageBox.index)}}class Uc extends Rc{constructor(e,t){super(e,t),this.pageMasterInstance=this}boxSpecificEnabled(e){const t=this.pageBox.pageMaster;return t.condition&&(e=ht(t.scope,e,t.condition)),e}adjustPageLayout(e,t,n){}}class zc extends Rc{constructor(e,t){super(e,t),this.pageMasterInstance=e.pageMasterInstance}}class Vc extends Rc{constructor(e,t){super(e,t),this.pageMasterInstance=e.pageMasterInstance}processPartitionList(e,t,n){let i=null;if(t instanceof vt&&(i=[t]),t instanceof kt&&(i=t.values),i){const t=this.pageBox.scope;for(let o=0;o<i.length;o++)if(i[o]instanceof vt){const s=ve(i[o].name,"enabled");let r=new tt(t,s);n&&(r=new Be(t,r)),e=ht(t,e,r)}}return e}boxSpecificEnabled(e){const t=this.pageBox.scope,n=this.style,i=Oc(t,n.required,t._false)!==t._false;if(i||this.isAutoHeight){const i=function(e,t,n){return t?t.toExpr(e,e.zero):new rt(e,n)}(t,n["flow-from"],"body");e=ht(t,e,new ot(t,"has-content",[i]))}if(e=this.processPartitionList(e,n["required-partitions"],!1),e=this.processPartitionList(e,n["conflicting-partitions"],!0),i){const n=this.pageMasterInstance.style.enabled;let i=n?n.toExpr(t,null):t._true;i=ht(t,i,e),this.pageMasterInstance.style.enabled=new Ft(i)}return e}prepareContainer(e,t,n,i,o){U(t.element,"overflow","hidden"),super.prepareContainer(e,t,n,i,o)}}class Hc extends ji{constructor(e,t,n,i){super(e,t,!1),this.target=n,this.validatorSet=i}property(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}unknownProperty(e,t){this.report(`E_INVALID_PROPERTY ${e}: ${t.toString()}`)}invalidPropertyValue(e,t){this.report(`E_INVALID_PROPERTY_VALUE ${e}: ${t.toString()}`)}simpleProperty(e,t,n){this.target.specified[e]=new _o(t,n?Mi:Ui)}}class Gc extends Hc{constructor(e,t,n,i){super(e,t,n,i)}}class $c extends Hc{constructor(e,t,n,i){super(e,t,n,i),n.specified.width=new _o(Mt,0),n.specified.height=new _o(Mt,0)}startPartitionRule(e,t,n){const i=new Tc(this.scope,e,t,n,this.target),o=new Gc(this.scope,this.owner,i,this.validatorSet);this.owner.pushHandler(o)}startPartitionGroupRule(e,t,n){const i=new Cc(this.scope,e,t,n,this.target),o=new $c(this.scope,this.owner,i,this.validatorSet);this.owner.pushHandler(o)}}class Wc extends Hc{constructor(e,t,n,i){super(e,t,n,i)}startPartitionRule(e,t,n){const i=new Tc(this.scope,e,t,n,this.target),o=new Gc(this.scope,this.owner,i,this.validatorSet);this.owner.pushHandler(o)}startPartitionGroupRule(e,t,n){const i=new Cc(this.scope,e,t,n,this.target),o=new $c(this.scope,this.owner,i,this.validatorSet);this.owner.pushHandler(o)}}function Xc(e){let n=e["writing-mode"];n=n&&n.value;let i=e.direction;return i=i&&i.value,n===Bt.vertical_lr||n!==Bt.vertical_rl&&i!==Bt.rtl?t.PageProgression.LTR:t.PageProgression.RTL}const jc={a5:{width:new Tt(148,"mm"),height:new Tt(210,"mm")},a4:{width:new Tt(210,"mm"),height:new Tt(297,"mm")},a3:{width:new Tt(297,"mm"),height:new Tt(420,"mm")},b5:{width:new Tt(176,"mm"),height:new Tt(250,"mm")},b4:{width:new Tt(250,"mm"),height:new Tt(353,"mm")},"jis-b5":{width:new Tt(182,"mm"),height:new Tt(257,"mm")},"jis-b4":{width:new Tt(257,"mm"),height:new Tt(364,"mm")},letter:{width:new Tt(8.5,"in"),height:new Tt(11,"in")},legal:{width:new Tt(8.5,"in"),height:new Tt(14,"in")},ledger:{width:new Tt(11,"in"),height:new Tt(17,"in")}},Kc=new Tt(.24,"pt"),Yc=new Tt(3,"mm"),qc=new Tt(10,"mm"),Zc=new Tt(13,"mm");function Qc(e){const t={width:Ut,height:zt,bleed:Vt,bleedOffset:Vt},n=e.size;if(n&&n.value!==Bt.auto){const e=n.value;let i,o;if(e.isSpaceList()?(i=e.values[0],o=e.values[1]):(i=e,o=null),i.isNumeric())t.width=i,t.height=o||i;else{const e=i.name&&jc[i.name.toLowerCase()];e&&(o&&o===Bt.landscape?(t.width=e.height,t.height=e.width):(t.width=e.width,t.height=e.height))}}const i=e.marks;i&&i.value!==Bt.none&&(t.bleedOffset=Zc);const o=e.bleed;if(o&&o.value!==Bt.auto)o.value&&o.value.isNumeric()&&(t.bleed=o.value);else if(i){let e=!1;e=i.value.isSpaceList()?i.value.values.some(e=>e===Bt.crop):i.value===Bt.crop,e&&(t.bleed=new Tt(6,"pt"))}return t}function Jc(e,t){const n={},i=e.bleed.num*t.queryUnitSize(e.bleed.unit,!1),o=e.bleedOffset.num*t.queryUnitSize(e.bleedOffset.unit,!1),s=i+o,r=e.width;r===Ut?t.pref.defaultPaperSize?n.pageWidth=t.pref.defaultPaperSize.width*t.queryUnitSize("px",!1):n.pageWidth=(t.pref.spreadView?Math.floor(t.viewportWidth/2)-t.pref.pageBorder:t.viewportWidth)-2*s:n.pageWidth=r.num*t.queryUnitSize(r.unit,!1);const a=e.height;return a===zt?t.pref.defaultPaperSize?n.pageHeight=t.pref.defaultPaperSize.height*t.queryUnitSize("px",!1):n.pageHeight=t.viewportHeight-2*s:n.pageHeight=a.num*t.queryUnitSize(a.unit,!1),n.bleed=i,n.bleedOffset=o,n.cropOffset=s,n}function eu(e,t,n){const i=e.createElementNS(k.SVG,"svg");return i.setAttribute("width",t),i.setAttribute("height",n),i.style.position="absolute",i}function tu(e,t,n){n=n||"polyline";const i=e.createElementNS(k.SVG,n);return i.setAttribute("stroke","black"),i.setAttribute("stroke-width",t),i.setAttribute("fill","none"),i}var nu,iu;function ou(e,t,n,i){let o=!1,s=!1;const r=e.marks;if(r){const e=r.value;e.isSpaceList()?e.values.forEach(e=>{e===Bt.crop?o=!0:e===Bt.cross&&(s=!0)}):e===Bt.crop?o=!0:e===Bt.cross&&(s=!0)}if(!o&&!s)return;const a=n.container,l=a.ownerDocument,h=t.bleed,c=Dt(Kc,i),u=Dt(Yc,i),d=Dt(qc,i);if(h){const t=e["background-color"];t&&t.value&&(n.bleedBox.style.backgroundColor=t.value.stringValue())}o&&Object.keys(nu).forEach(e=>{const t=nu[e],n=function(e,t,n,i,o,s){let r=i;r<=o+2*Ie.mm&&(r=o+i/2);const a=Math.max(i,r),l=o+a+n/2,h=eu(e,l,l);let c=[[0,o+i],[i,o+i],[i,o+i-r]],u=c.map(e=>[e[1],e[0]]);t!==nu.TOP_RIGHT&&t!==nu.BOTTOM_RIGHT||(c=c.map(e=>[o+a-e[0],e[1]]),u=u.map(e=>[o+a-e[0],e[1]])),t!==nu.BOTTOM_LEFT&&t!==nu.BOTTOM_RIGHT||(c=c.map(e=>[e[0],o+a-e[1]]),u=u.map(e=>[e[0],o+a-e[1]]));const d=tu(e,n);d.setAttribute("points",c.map(e=>e.join(",")).join(" ")),h.appendChild(d);const p=tu(e,n);return p.setAttribute("points",u.map(e=>e.join(",")).join(" ")),h.appendChild(p),t.split(" ").forEach(e=>{h.style[e]=`${s}px`}),h}(l,t,c,d,h,u);a.appendChild(n)}),s&&Object.keys(iu).forEach(e=>{const t=iu[e],n=function(e,t,n,i,o){const s=2*i;let r,a;t===iu.TOP||t===iu.BOTTOM?(r=s,a=i):(r=i,a=s);const l=eu(e,r,a),h=tu(e,n);h.setAttribute("points",`0,${a/2} ${r},${a/2}`),l.appendChild(h);const c=tu(e,n);c.setAttribute("points",`${r/2},0 ${r/2},${a}`),l.appendChild(c);const u=tu(e,n,"circle");let d;switch(u.setAttribute("cx",r/2),u.setAttribute("cy",a/2),u.setAttribute("r",i/4),l.appendChild(u),t){case iu.TOP:d=iu.BOTTOM;break;case iu.BOTTOM:d=iu.TOP;break;case iu.LEFT:d=iu.RIGHT;break;case iu.RIGHT:d=iu.LEFT}return Object.keys(iu).forEach(e=>{const n=iu[e];n===t?l.style[n]=`${o}px`:n!==d&&(l.style[n]="0",l.style[`margin-${n}`]="auto")}),l}(l,t,c,d,u);a.appendChild(n)})}!function(e){e.TOP_LEFT="top left",e.TOP_RIGHT="top right",e.BOTTOM_LEFT="bottom left",e.BOTTOM_RIGHT="bottom right"}(nu||(nu={})),function(e){e.TOP="top",e.BOTTOM="bottom",e.LEFT="left",e.RIGHT="right"}(iu||(iu={}));const su=(()=>{const e={width:!0,height:!0,"block-size":!0,"inline-size":!0,margin:!0,padding:!0,border:!0,outline:!0,"outline-width":!0,"outline-style":!0,"outline-color":!0};return["left","right","top","bottom","before","after","start","end","block-start","block-end","inline-start","inline-end"].forEach(t=>{e[`margin-${t}`]=!0,e[`padding-${t}`]=!0,e[`border-${t}-width`]=!0,e[`border-${t}-style`]=!0,e[`border-${t}-color`]=!0}),e})();var ru;!function(e){e.START="start",e.CENTER="center",e.END="end"}(ru||(ru={}));const au={"top-left-corner":{order:1,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!0,positionAlongVariableDimension:null},"top-left":{order:2,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:ru.START},"top-center":{order:3,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:ru.CENTER},"top-right":{order:4,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:ru.END},"top-right-corner":{order:5,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:null},"right-top":{order:6,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:ru.START},"right-middle":{order:7,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:ru.CENTER},"right-bottom":{order:8,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:ru.END},"bottom-right-corner":{order:9,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:null},"bottom-right":{order:10,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:ru.END},"bottom-center":{order:11,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:ru.CENTER},"bottom-left":{order:12,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:ru.START},"bottom-left-corner":{order:13,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:null},"left-bottom":{order:14,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:ru.END},"left-middle":{order:15,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:ru.CENTER},"left-top":{order:16,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:ru.START}},lu=(()=>{const e=au;return Object.keys(e).sort((t,n)=>e[t].order-e[n].order)})(),hu="vivliostyle-page-rule-master",cu="_marginBoxes";class uu extends vc{constructor(e,t,n){super(e,null,hu,[],t,null,0),this.pageMarginBoxes={};const i=Qc(n),o=new du(this.scope,this,n,i);this.bodyPartitionKey=o.key,this.createPageMarginBoxes(n),this.applySpecified(n,i)}createPageMarginBoxes(e){const t=e[cu];if(t){const n=this;lu.forEach(i=>{t[i]&&(n.pageMarginBoxes[i]=new pu(n.scope,n,i,e))})}}applySpecified(e,t){this.specified.position=new _o(Bt.relative,0),this.specified.width=new _o(t.width,0),this.specified.height=new _o(t.height,0);for(const t in e)su[t]||"background-clip"===t||(this.specified[t]=e[t])}createInstance(e){return new fu(e,this)}}class du extends Tc{constructor(e,t,n,i){super(e,null,null,[],t),this.pageSize=i,this.specified["z-index"]=new _o(new It(0),0),this.applySpecified(n)}applySpecified(e){this.specified["flow-from"]=new _o(Ct("body"),0),this.specified.position=new _o(Bt.absolute,0),this.specified.overflow=new _o(Bt.visible,0);for(const t in su)su.hasOwnProperty(t)&&(this.specified[t]=e[t])}createInstance(e){return new wu(e,this)}}class pu extends Tc{constructor(e,t,n,i){super(e,null,null,[],t),this.marginBoxName=n,this.applySpecified(i)}applySpecified(e){const t=e[cu][this.marginBoxName];for(const n in e){const i=e[n],o=t[n];(To[n]||o&&o.value===Bt.inherit)&&(this.specified[n]=i)}for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];n&&n.value!==Bt.inherit&&(this.specified[e]=n)}}createInstance(e){return new Eu(e,this)}}class fu extends Uc{constructor(e,t){super(e,t),this.pageAreaDimension=null,this.pageMarginBoxInstances={}}applyCascadeAndInit(e,t){const n=this.cascaded;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(e){case"writing-mode":case"direction":n[e]=t[e]}super.applyCascadeAndInit(e,t)}initHorizontal(){const e=this.style;e.left=Vt,e["margin-left"]=Vt,e["border-left-width"]=Vt,e["padding-left"]=Vt,e["padding-right"]=Vt,e["border-right-width"]=Vt,e["margin-right"]=Vt,e.right=Vt}initVertical(){const e=this.style;e.top=Vt,e["margin-top"]=Vt,e["border-top-width"]=Vt,e["padding-top"]=Vt,e["padding-bottom"]=Vt,e["border-bottom-width"]=Vt,e["margin-bottom"]=Vt,e.bottom=Vt}setPageAreaDimension(e){this.pageAreaDimension=e;const t=this.style;t.width=new Ft(e.borderBoxWidth),t.height=new Ft(e.borderBoxHeight),t["padding-left"]=new Ft(e.marginLeft),t["padding-right"]=new Ft(e.marginRight),t["padding-top"]=new Ft(e.marginTop),t["padding-bottom"]=new Ft(e.marginBottom)}adjustPageLayout(e,t,n){const i=t.marginBoxes,o={start:this.pageAreaDimension.marginLeft,end:this.pageAreaDimension.marginRight,extent:this.pageAreaDimension.borderBoxWidth},s={start:this.pageAreaDimension.marginTop,end:this.pageAreaDimension.marginBottom,extent:this.pageAreaDimension.borderBoxHeight};this.sizeMarginBoxesAlongVariableDimension(i.top,!0,o,e,n),this.sizeMarginBoxesAlongVariableDimension(i.bottom,!0,o,e,n),this.sizeMarginBoxesAlongVariableDimension(i.left,!1,s,e,n),this.sizeMarginBoxesAlongVariableDimension(i.right,!1,s,e,n)}sizeMarginBoxesAlongVariableDimension(e,t,n,i,o){const s=ru.START,r=ru.CENTER,a=ru.END,l=this.pageBox.scope,h={},c={},u={};for(const n in e){const i=au[n];if(i){const s=e[n],r=this.pageMarginBoxInstances[n],a=new gu(s,r.style,t,l,o);h[i.positionAlongVariableDimension]=s,c[i.positionAlongVariableDimension]=r,u[i.positionAlongVariableDimension]=a}}const d={start:n.start.evaluate(i),end:n.end.evaluate(i),extent:n.extent.evaluate(i)};let p=this.getSizesOfMarginBoxesAlongVariableDimension(u,d.extent),f=!1;const g={};Object.keys(h).forEach(e=>{const s=e,r=xc(l,c[s].style[t?"max-width":"max-height"],n.extent);if(r){const e=r.evaluate(i);if(p[s]>e){const n=u[s]=new bu(h[s],c[s].style,t,l,o,e);g[s]=n.getOuterSize(),f=!0}}}),f&&(p=this.getSizesOfMarginBoxesAlongVariableDimension(u,d.extent),f=!1,[s,r,a].forEach(e=>{p[e]=g[e]||p[e]}));const m={};Object.keys(h).forEach(e=>{const s=e,r=xc(l,c[s].style[t?"min-width":"min-height"],n.extent);if(r){const e=r.evaluate(i);if(p[s]<e){const n=u[s]=new bu(h[s],c[s].style,t,l,o,e);m[s]=n.getOuterSize(),f=!0}}}),f&&(p=this.getSizesOfMarginBoxesAlongVariableDimension(u,d.extent),[s,r,a].forEach(e=>{p[e]=m[e]||p[e]}));const b=d.start+d.extent,w=d.start+(d.start+d.extent);[s,r,a].forEach(e=>{const n=p[e];if(n){const i=h[e];let o=0;switch(e){case s:o=t?i.left:i.top;break;case r:o=(w-n)/2;break;case a:o=b-n}t?i.setHorizontalPosition(o,n-i.getInsetLeft()-i.getInsetRight()):i.setVerticalPosition(o,n-i.getInsetTop()-i.getInsetBottom())}})}getSizesOfMarginBoxesAlongVariableDimension(e,t){const n=e[ru.START],i=e[ru.CENTER],o=e[ru.END],s={};if(i){const e=[n,o].filter(e=>e),r=e.length?new mu(e):null,a=this.distributeAutoMarginBoxSizes(i,r,t);a.xSize&&(s[ru.CENTER]=a.xSize);const l=(t-(a.xSize||i.getOuterSize()))/2;n&&n.hasAutoSize()&&(s[ru.START]=l),o&&o.hasAutoSize()&&(s[ru.END]=l)}else{const e=this.distributeAutoMarginBoxSizes(n,o,t);e.xSize&&(s[ru.START]=e.xSize),e.ySize&&(s[ru.END]=e.ySize)}return s}distributeAutoMarginBoxSizes(e,t,n){const i={xSize:null,ySize:null};if(e&&t)if(e.hasAutoSize()&&t.hasAutoSize()){const o=e.getOuterMaxContentSize(),s=t.getOuterMaxContentSize();if(o>0&&s>0){const r=o+s;if(r<n)i.xSize=n*o/r;else{const s=e.getOuterMinContentSize(),a=s+t.getOuterMinContentSize();a<n?i.xSize=s+(n-a)*(o-s)/(r-a):a>0&&(i.xSize=n*s/a)}i.xSize>0&&(i.ySize=n-i.xSize)}else o>0?i.xSize=n:s>0&&(i.ySize=n)}else e.hasAutoSize()?i.xSize=Math.max(n-t.getOuterSize(),0):t.hasAutoSize()&&(i.ySize=Math.max(n-e.getOuterSize(),0));else e?e.hasAutoSize()&&(i.xSize=n):t&&t.hasAutoSize()&&(i.ySize=n);return i}prepareContainer(e,t,n,i,o){super.prepareContainer(e,t,n,i,o),t.element.setAttribute("data-vivliostyle-page-box",!0)}}class gu{constructor(e,t,n,i,o){this.container=e,this.isHorizontal=n,this.clientLayout=o,this.size=null,this.hasAutoSize_=!xc(i,t[n?"width":"height"],new et(i,0,"px"))}hasAutoSize(){return this.hasAutoSize_}getSize(){if(!this.size){const e=this.isHorizontal?[Er.MAX_CONTENT_WIDTH,Er.MIN_CONTENT_WIDTH]:[Er.MAX_CONTENT_HEIGHT,Er.MIN_CONTENT_HEIGHT];this.size=yr(this.clientLayout,this.container.element,e)}return this.size}getOuterMaxContentSize(){const e=this.getSize();return this.isHorizontal?this.container.getInsetLeft()+e[Er.MAX_CONTENT_WIDTH]+this.container.getInsetRight():this.container.getInsetTop()+e[Er.MAX_CONTENT_HEIGHT]+this.container.getInsetBottom()}getOuterMinContentSize(){const e=this.getSize();return this.isHorizontal?this.container.getInsetLeft()+e[Er.MIN_CONTENT_WIDTH]+this.container.getInsetRight():this.container.getInsetTop()+e[Er.MIN_CONTENT_HEIGHT]+this.container.getInsetBottom()}getOuterSize(){return this.isHorizontal?this.container.getInsetLeft()+this.container.width+this.container.getInsetRight():this.container.getInsetTop()+this.container.height+this.container.getInsetBottom()}}class mu{constructor(e){this.params=e}hasAutoSize(){return this.params.some(e=>e.hasAutoSize())}getOuterMaxContentSize(){const e=this.params.map(e=>e.getOuterMaxContentSize());return Math.max.apply(null,e)*e.length}getOuterMinContentSize(){const e=this.params.map(e=>e.getOuterMinContentSize());return Math.max.apply(null,e)*e.length}getOuterSize(){const e=this.params.map(e=>e.getOuterSize());return Math.max.apply(null,e)*e.length}}class bu extends gu{constructor(e,t,n,i,o,s){super(e,t,n,i,o),this.fixedSize=s}hasAutoSize(){return!1}getOuterMaxContentSize(){return this.getOuterSize()}getOuterMinContentSize(){return this.getOuterSize()}getOuterSize(){return this.isHorizontal?this.container.getInsetLeft()+this.fixedSize+this.container.getInsetRight():this.container.getInsetTop()+this.fixedSize+this.container.getInsetBottom()}}class wu extends Vc{constructor(e,t){super(e,t),this.borderBoxWidth=null,this.borderBoxHeight=null,this.marginTop=null,this.marginRight=null,this.marginBottom=null,this.marginLeft=null}applyCascadeAndInit(e,t){const n=this.cascaded;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(e.match(/^column.*$/)||e.match(/^background-/))&&(n[e]=t[e]);super.applyCascadeAndInit(e,t),this.parentInstance.setPageAreaDimension({borderBoxWidth:this.borderBoxWidth,borderBoxHeight:this.borderBoxHeight,marginTop:this.marginTop,marginRight:this.marginRight,marginBottom:this.marginBottom,marginLeft:this.marginLeft})}initHorizontal(){const e=this.resolvePageBoxDimensions({start:"left",end:"right",extent:"width"});this.borderBoxWidth=e.borderBoxExtent,this.marginLeft=e.marginStart,this.marginRight=e.marginEnd}initVertical(){const e=this.resolvePageBoxDimensions({start:"top",end:"bottom",extent:"height"});this.borderBoxHeight=e.borderBoxExtent,this.marginTop=e.marginStart,this.marginBottom=e.marginEnd}resolvePageBoxDimensions(e){const t=this.style,n=this.pageBox.pageSize,i=this.pageBox.scope,o=e.start,s=e.end,r=e.extent,a=n[r].toExpr(i,null);let l=xc(i,t[r],a),h=xc(i,t[`margin-${o}`],a),c=xc(i,t[`margin-${s}`],a);const u=Ic(i,t[`padding-${o}`],a),d=Ic(i,t[`padding-${s}`],a),p=Ac(i,t[`border-${o}-width`],t[`border-${o}-style`],a),f=Ac(i,t[`border-${s}-width`],t[`border-${s}-style`],a);let g=ut(i,a,ct(i,ct(i,p,u),ct(i,f,d)));return l?(g=ut(i,g,l),h||c?h?c=ut(i,g,h):h=ut(i,g,c):(h=dt(i,g,new rt(i,.5)),c=h)):(h||(h=i.zero),c||(c=i.zero),l=ut(i,g,ct(i,h,c))),t[o]=new Ft(h),t[s]=new Ft(c),t[`margin-${o}`]=Vt,t[`margin-${s}`]=Vt,t[`padding-${o}`]=new Ft(u),t[`padding-${s}`]=new Ft(d),t[`border-${o}-width`]=new Ft(p),t[`border-${s}-width`]=new Ft(f),t[r]=new Ft(l),t[`max-${r}`]=new Ft(l),{borderBoxExtent:ut(i,a,ct(i,h,c)),marginStart:h,marginEnd:c}}prepareContainer(e,t,n,i,o){super.prepareContainer(e,t,n,i,o),n.pageAreaElement=t.element,e.pageAreaWidth=parseFloat(n.pageAreaElement.style.width),e.pageAreaHeight=parseFloat(n.pageAreaElement.style.height)}}class Eu extends Vc{constructor(e,t){super(e,t),this.suppressEmptyBoxGeneration=!0;const n=t.marginBoxName;this.boxInfo=au[n],e.pageMarginBoxInstances[n]=this}prepareContainer(e,t,n,i,o){this.applyVerticalAlign(e,t.element),super.prepareContainer(e,t,n,i,o)}applyVerticalAlign(e,t){U(t,"display","flex");const n=this.getProp(e,"vertical-align");let i=null;n===Ct("middle")?i="center":n===Ct("top")?i="flex-start":n===Ct("bottom")&&(i="flex-end"),i&&(U(t,"flex-flow",this.vertical?"row":"column"),U(t,"justify-content",i))}positionAlongVariableDimension(e,t){const n=this.style,i=this.pageBox.scope,o=e.start,s=e.end,r=e.extent,a="left"===o,l=a?t.borderBoxWidth:t.borderBoxHeight,h=xc(i,n[r],l),c=a?t.marginLeft:t.marginTop;if(this.boxInfo.positionAlongVariableDimension===ru.START)n[o]=new Ft(c);else if(h){const e=Ic(i,n[`margin-${o}`],l),t=Ic(i,n[`margin-${s}`],l),r=Ic(i,n[`padding-${o}`],l),a=Ic(i,n[`padding-${s}`],l),u=Ac(i,n[`border-${o}-width`],n[`border-${o}-style`],l),d=Ac(i,n[`border-${s}-width`],n[`border-${s}-style`],l),p=ct(i,h,ct(i,ct(i,r,a),ct(i,ct(i,u,d),ct(i,e,t))));switch(this.boxInfo.positionAlongVariableDimension){case ru.CENTER:n[o]=new Ft(ct(i,c,pt(i,ut(i,l,p),new rt(i,2))));break;case ru.END:n[o]=new Ft(ut(i,ct(i,c,l),p))}}}positionAndSizeAlongFixedDimension(e,t){const n=this.style,i=this.pageBox.scope,o=e.inside,s=e.outside,r=e.extent,a=t[`margin${s.charAt(0).toUpperCase()}${s.substring(1)}`],l=Pc(i,n[`margin-${o}`],a),h=Pc(i,n[`margin-${s}`],a),c=Ic(i,n[`padding-${o}`],a),u=Ic(i,n[`padding-${s}`],a),d=Ac(i,n[`border-${o}-width`],n[`border-${o}-style`],a),p=Ac(i,n[`border-${s}-width`],n[`border-${s}-style`],a),f=xc(i,n[r],a);let g=null;function m(e){if(g)return g;g={extent:f?f.evaluate(e):null,marginInside:l?l.evaluate(e):null,marginOutside:h?h.evaluate(e):null};const t=a.evaluate(e);let n=0;return[d,c,u,p].forEach(t=>{t&&(n+=t.evaluate(e))}),(null===g.marginInside||null===g.marginOutside)&&n+g.extent+g.marginInside+g.marginOutside>t&&(null===g.marginInside&&(g.marginInside=0),null===g.marginOutside&&(g.marginOutside=0)),null!==g.extent&&null!==g.marginInside&&null!==g.marginOutside&&(g.marginOutside=null),null===g.extent&&null!==g.marginInside&&null!==g.marginOutside?g.extent=t-n-g.marginInside-g.marginOutside:null!==g.extent&&null===g.marginInside&&null!==g.marginOutside?g.marginInside=t-n-g.extent-g.marginOutside:null!==g.extent&&null!==g.marginInside&&null===g.marginOutside?g.marginOutside=t-n-g.extent-g.marginInside:null===g.extent?(g.marginInside=g.marginOutside=0,g.extent=t-n):g.marginInside=g.marginOutside=(t-n-g.extent)/2,g}n[r]=new Ft(new it(i,(function(){const e=m(this).extent;return null===e?0:e}),r)),n[`margin-${o}`]=new Ft(new it(i,(function(){const e=m(this).marginInside;return null===e?0:e}),`margin-${o}`)),n[`margin-${s}`]=new Ft(new it(i,(function(){const e=m(this).marginOutside;return null===e?0:e}),`margin-${s}`)),"left"===o?n.left=new Ft(ct(i,t.marginLeft,t.borderBoxWidth)):"top"===o&&(n.top=new Ft(ct(i,t.marginTop,t.borderBoxHeight)))}initHorizontal(){const e=this.parentInstance.pageAreaDimension;this.boxInfo.isInLeftColumn?this.positionAndSizeAlongFixedDimension({inside:"right",outside:"left",extent:"width"},e):this.boxInfo.isInRightColumn?this.positionAndSizeAlongFixedDimension({inside:"left",outside:"right",extent:"width"},e):this.positionAlongVariableDimension({start:"left",end:"right",extent:"width"},e)}initVertical(){const e=this.parentInstance.pageAreaDimension;this.boxInfo.isInTopRow?this.positionAndSizeAlongFixedDimension({inside:"bottom",outside:"top",extent:"height"},e):this.boxInfo.isInBottomRow?this.positionAndSizeAlongFixedDimension({inside:"top",outside:"bottom",extent:"height"},e):this.positionAlongVariableDimension({start:"top",end:"bottom",extent:"height"},e)}finishContainer(e,t,n,i,o,s,r){super.finishContainer(e,t,n,i,o,s,r);const a=n.marginBoxes,l=this.pageBox.marginBoxName,h=this.boxInfo;h.isInLeftColumn||h.isInRightColumn?h.isInTopRow||h.isInBottomRow||(h.isInLeftColumn?a.left[l]=t:h.isInRightColumn&&(a.right[l]=t)):h.isInTopRow?a.top[l]=t:h.isInBottomRow&&(a.bottom[l]=t)}}class yu{constructor(e,t,n,i,o){this.cascadeInstance=e,this.pageScope=t,this.rootPageBoxInstance=n,this.context=i,this.docElementStyle=o,this.pageMasterCache={},this.definePageProgression()}definePageProgression(){const e=this.pageScope,n=new tt(e,"page-number"),i=new je(e,new Je(e,n,new rt(e,2)),e.zero);e.defineName("recto-page",new Be(e,i)),e.defineName("verso-page",i),(this.context.pageProgression||Xc(this.docElementStyle))===t.PageProgression.LTR?(e.defineName("left-page",i),e.defineName("right-page",new Be(e,i))):(e.defineName("left-page",new Be(e,i)),e.defineName("right-page",i))}getCascadedPageStyle(){const e={};return this.cascadeInstance.pushRule([],"",e),this.cascadeInstance.popRule(),e}getPageRulePageMaster(e,t){const n=e.pageBox;if(0===Object.keys(t).length)return n.resetScope(),e;const i=this.makeCacheKey(t,n);let o=this.pageMasterCache[i];return o||(o=n.pseudoName===Bc?this.generatePageRuleMaster(t):this.generateCascadedPageMaster(t,n),this.pageMasterCache[i]=o),o.pageBox.resetScope(),o}makeCacheKey(e,t){const n=this.makeCascadeValueObjectKey(e);return`${t.key}^${n}`}makeCascadeValueObjectKey(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];let o;o=i instanceof _o?`${i.value}`:this.makeCascadeValueObjectKey(i),t.push(n+o+(i.priority||""))}return t.sort().join("^")}generatePageRuleMaster(e){const t=new uu(this.pageScope,this.rootPageBoxInstance.pageBox,e).createInstance(this.rootPageBoxInstance);return t.applyCascadeAndInit(this.cascadeInstance,this.docElementStyle),t.resolveAutoSizing(this.context),t}generateCascadedPageMaster(e,t){const n=t.clone({pseudoName:hu}),i=n.specified,o=e.size;if(o){const t=Qc(e),n=o.priority;i.width=Mo(this.context,i.width,new _o(t.width,n)),i.height=Mo(this.context,i.height,new _o(t.height,n))}["counter-reset","counter-increment"].forEach(t=>{i[t]&&(e[t]=i[t])});const s=n.createInstance(this.rootPageBoxInstance);return s.applyCascadeAndInit(this.cascadeInstance,this.docElementStyle),s.resolveAutoSizing(this.context),s}}class Su extends ss{constructor(e){super(),this.pageType=e}apply(e){e.currentPageType===this.pageType&&this.chained.apply(e)}getPriority(){return 3}makePrimary(e){return this.chained&&e.insertInTable(e.pagetypes,this.pageType,this.chained),!0}}class Nu extends ss{constructor(e){super(),this.scope=e}apply(e){1===new tt(this.scope,"page-number").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 2}}class vu extends ss{constructor(e){super(),this.scope=e}apply(e){new tt(this.scope,"left-page").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 1}}class Cu extends ss{constructor(e){super(),this.scope=e}apply(e){new tt(this.scope,"right-page").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 1}}class Tu extends ss{constructor(e){super(),this.scope=e}apply(e){new tt(this.scope,"recto-page").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 1}}class xu extends ss{constructor(e){super(),this.scope=e}apply(e){new tt(this.scope,"verso-page").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 1}}class Iu extends os{constructor(e,t){super(e,t,null,null,null)}apply(e){!function(e,t,n,i,o){Zo(e,t,n,i,null,null,null);const s=n[cu];if(s){const n=jo(t,cu);for(const t in s)if(s.hasOwnProperty(t)){let o=n[t];o||(o={},n[t]=o),Zo(e,o,s[t],i,null,null,null)}}}(e.context,e.currentStyle,this.style,this.specificity)}}class Pu extends Qs{constructor(e,t,n,i,o){super(e,t,null,n,null,i,!1),this.pageProps=o,this.currentPageSelectors=[],this.currentNamedPageSelector="",this.currentPseudoPageClassSelectors=[]}startPageRule(){this.startSelectorRule()}tagSelector(e,t){this.currentNamedPageSelector=t,t&&(this.chain.push(new Su(t)),this.specificity+=65536)}pseudoclassSelector(e,t){switch(t&&this.reportAndSkip(`E_INVALID_PAGE_SELECTOR :${e}(${t.join("")})`),this.currentPseudoPageClassSelectors.push(`:${e}`),e.toLowerCase()){case"first":this.chain.push(new Nu(this.scope)),this.specificity+=256;break;case"left":this.chain.push(new vu(this.scope)),this.specificity+=1;break;case"right":this.chain.push(new Cu(this.scope)),this.specificity+=1;break;case"recto":this.chain.push(new Tu(this.scope)),this.specificity+=1;break;case"verso":this.chain.push(new xu(this.scope)),this.specificity+=1;break;default:this.reportAndSkip(`E_INVALID_PAGE_SELECTOR :${e}`)}}finishSelector(){let e;e=this.currentNamedPageSelector||this.currentPseudoPageClassSelectors.length?[this.currentNamedPageSelector].concat(this.currentPseudoPageClassSelectors.sort()):null,this.currentPageSelectors.push({selectors:e,specificity:this.specificity}),this.currentNamedPageSelector="",this.currentPseudoPageClassSelectors=[]}nextSelector(){this.finishSelector(),super.nextSelector()}startRuleBody(){this.finishSelector(),super.startRuleBody()}simpleProperty(e,t,n){if(("bleed"===e||"marks"===e)&&!this.currentPageSelectors.some(e=>null===e.selectors))return;super.simpleProperty(e,t,n);const i=$o(this.elementStyle,e),o=this.pageProps;if("bleed"===e||"marks"===e)o[""]||(o[""]={}),Object.keys(o).forEach(t=>{Wo(o[t],e,i)});else if("size"===e){const t=o[""];this.currentPageSelectors.forEach(n=>{let s=new _o(i.value,i.priority+n.specificity);const r=n.selectors?n.selectors.join(""):"";let a=o[r];if(a){const t=$o(a,e);s=t?Mo(null,s,t):s,Wo(a,e,s)}else a=o[r]={},Wo(a,e,s),t&&["bleed","marks"].forEach(e=>{t[e]&&Wo(a,e,t[e])},this)})}}insertNonPrimary(e){this.cascade.insertInTable(this.cascade.pagetypes,"*",e)}makeApplyRuleAction(e){return new Iu(this.elementStyle,e)}startPageMarginBoxRule(e){const t=jo(this.elementStyle,cu);let n=t[e];n||(n={},t[e]=n);const i=new Au(this.scope,this.owner,this.validatorSet,n);this.owner.pushHandler(i)}}class Au extends ji{constructor(e,t,n,i){super(e,t,!1),this.validatorSet=n,this.boxStyle=i}property(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}invalidPropertyValue(e,t){this.report(`E_INVALID_PROPERTY_VALUE ${e}: ${t.toString()}`)}unknownProperty(e,t){this.report(`E_INVALID_PROPERTY ${e}: ${t.toString()}`)}simpleProperty(e,t,n){const i=n?this.getImportantSpecificity():this.getBaseSpecificity(),o=new _o(t,i);Wo(this.boxStyle,e,o)}}const Ou=(e,t,n)=>e.replace(/[uU][rR][lL]\(\s*"((\\([^0-9a-fA-F]+|[0-9a-fA-F]+\s*)|[^"\r\n])+)"/gm,(e,i)=>`url("${n.transformURL(i,t)}"`).replace(/[uU][rR][lL]\(\s*'((\\([^0-9a-fA-F]+|[0-9a-fA-F]+\s*)|[^'\r\n])+)'/gm,(e,i)=>`url('${n.transformURL(i,t)}'`).replace(/[uU][rR][lL]\(\s*((\\([^0-9a-fA-F]+|[0-9a-fA-F]+\s*)|[^"'\r\n\)\s])+)/gm,(e,i)=>`url(${n.transformURL(i,t)}`),Ru={},ku={"text-indent":"0px","margin-top":"0px","padding-top":"0px","border-top-width":"0px","border-top-style":"none","border-top-color":"transparent","border-top-left-radius":"0px","border-top-right-radius":"0px"},Lu={"text-indent":"0px","margin-right":"0px","padding-right":"0px","border-right-width":"0px","border-right-style":"none","border-right-color":"transparent","border-top-right-radius":"0px","border-bottom-right-radius":"0px"},Fu={"margin-top":"0px"},Du={"margin-right":"0px"};class _u extends te{constructor(e,t,n,i,o,s,r,a,l,h,c,u,d){super(),this.flowName=e,this.context=t,this.viewport=n,this.styler=i,this.regionIds=o,this.xmldoc=s,this.docFaces=r,this.footnoteStyle=a,this.stylerProducer=l,this.page=h,this.customRenderer=c,this.fallbackMap=u,this.documentURLTransformer=d,this.nodeContext=null,this.viewRoot=null,this.isFootnote=!1,this.sourceNode=null,this.offsetInNode=0,this.viewNode=null,this.document=n.document,this.exprContentListener=i.counterListener.getExprContentListener()}clone(){return new _u(this.flowName,this.context,this.viewport,this.styler,this.regionIds,this.xmldoc,this.docFaces,this.footnoteStyle,this.stylerProducer,this.page,this.customRenderer,this.fallbackMap,this.documentURLTransformer)}createPseudoelementShadow(e,t,n,i,o,s,r,a){const l=this.getPseudoMap(n,this.regionIds,this.isFootnote,this.nodeContext,s);if(!l)return a;const h=[],c=ul.createElementNS(k.SHADOW,"root");let u=c;for(const e of dl){let n;if(e){if(!l[e])continue;if(!("footnote-marker"!=e||t&&this.isFootnote))continue;if(e.match(/^first-/)){const e=i.display;if(!e||e===Bt.inline)continue}if("before"===e||"after"===e){const t=l[e].content;if(!t||t===Bt.normal||t===Bt.none)continue}h.push(e),n=ul.createElementNS(k.XHTML,"span"),gl(n,e)}else n=ul.createElementNS(k.SHADOW,"content");u.appendChild(n),e.match(/^first-/)&&(u=n)}if(!h.length)return a;const d=new ml(e,n,o,s,this.exprContentListener);return new ha(e,c,null,r,a,la.ROOTLESS,d)}getPseudoMap(e,t,n,i,o){const s=Xo(e,"_pseudos");if(!s)return null;const r={};for(const e in s){const i=r[e]={};dr(i,s[e],o),rr(i,o,s[e]),ur(s[e],t,n,(e,t)=>{dr(i,t,o),sr(t,e=>{dr(i,e,o)})})}return r}createRefShadow(e,t,n,i,o){const s=this,r=pi("createRefShadow");return s.xmldoc.store.load(e).then(a=>{const l=a;if(l){const r=l.getElement(e);if(r){const e=s.stylerProducer.getStylerForDoc(l);o=new ha(n,r,l,i,o,t,e)}}r.finish(o)}),r.result()}createShadows(e,t,n,i,o,s,r){const a=this,l=pi("createShadows"),h=i.template;let c;if(h instanceof At){const t=h.url;c=a.createRefShadow(t,la.ROOTLESS,e,r,null)}else c=fi(null);return c.then(h=>{let c=null;if(e.namespaceURI==k.SHADOW&&"include"==e.localName){let t=e.getAttribute("href"),n=null;t?n=r?r.xmldoc:a.xmldoc:r&&(t=r.owner.namespaceURI==k.XHTML?r.owner.getAttribute("href"):r.owner.getAttributeNS(k.XLINK,"href"),n=r.parentShadow?r.parentShadow.xmldoc:a.xmldoc),t&&(t=O(t,n.url),c=a.createRefShadow(t,la.ROOTED,e,r,h))}null==c&&(c=fi(h));let u=null;c.then(t=>{if(i.display===Bt.table_cell){const n=O("user-agent.xml#table-cell",P);u=a.createRefShadow(n,la.ROOTLESS,e,r,t)}else u=fi(t)}),u.then(h=>{h=a.createPseudoelementShadow(e,t,n,i,o,s,r,h),l.finish(h)})}),l.result()}setViewRoot(e,t){this.viewRoot=e,this.isFootnote=t}computeStyle(e,t,n,i){const o=this.context,s=cr(n,o,this.regionIds,this.isFootnote,this.nodeContext);e=lr(s,o,e),t=hr(s,o,t);const r=this;pr(s,i,e,t,(e,t)=>{let n=t.evaluate(o,e);return"font-family"==e&&(n=r.docFaces.filterFontFamily(n)),n});const a=i.position,l=i.float,h=Qa(i.display||Bt.inline,a,l,this.sourceNode===this.xmldoc.root);return["display","position","float"].forEach(e=>{h[e]&&(i[e]=h[e])}),e}inheritFromSourceParent(e){let t=this.nodeContext.sourceNode;const n=[];let i=null,o=this.nodeContext.shadowContext,s=-1;for(;t&&1==t.nodeType;){const e=o&&o.root==t;if(!e||o.type==la.ROOTLESS){const e=(o?o.styler:this.styler).getStyle(t,!1);n.push(e),i=i||V(t)}e?(t=o.owner,o=o.parentShadow):(t=t.parentNode,s++)}const r=0===s,a=this.context.queryUnitSize("em",r),l={"font-size":new _o(new Tt(a,"px"),0)},h=new Jo(l,this.context);for(let e=n.length-1;e>=0;--e){const t=n[e],i=[];for(const e in t)Go(e)&&i.push(e);i.sort(Gt);for(const e of i){h.setPropName(e);const n=$o(t,e);n.value!==Bt.inherit&&(l[e]=n.filterValue(h))}}for(const t in e)Go(t)||(l[t]=e[t]);return{lang:i,elementStyle:l}}resolveURL(e){return e=O(e,this.xmldoc.url),this.fallbackMap[e]||e}inheritLangAttribute(){this.nodeContext.lang=V(this.nodeContext.sourceNode)||this.nodeContext.parent&&this.nodeContext.parent.lang||this.nodeContext.lang}transferPolyfilledInheritedProps(e){const n=p(t.HOOKS.POLYFILLED_INHERITED_PROPS).reduce((e,t)=>e.concat(t()),[].concat(xo)).filter(t=>e[t]);if(n.length){let t=this.nodeContext.inheritedProps;if(this.nodeContext.parent){t=this.nodeContext.inheritedProps={};for(const e in this.nodeContext.parent.inheritedProps)t[e]=this.nodeContext.parent.inheritedProps[e]}n.forEach(n=>{const i=e[n];if(i){if(i instanceof It)t[n]=i.num;else if(i instanceof vt)t[n]=i.name;else if(i instanceof Tt){const e=i;switch(e.unit){case"dpi":case"dpcm":case"dppx":t[n]=e.num*Ie[e.unit]}}else t[n]=i;delete e[n]}})}}resolveFormattingContext(e,n,i,o,s,r){const a=p(t.HOOKS.RESOLVE_FORMATTING_CONTEXT);for(let t=0;t<a.length;t++){const l=a[t](e,n,i,o,s,r);if(l)return void(e.formattingContext=l)}}createElementView(e,t){const n=this;let i=!0;const o=pi("createElementView");let s=n.sourceNode;const r=n.nodeContext.shadowContext?n.nodeContext.shadowContext.styler:n.styler;let a=r.getStyle(s,!1);if(!n.nodeContext.shadowContext){const e=this.xmldoc.getElementOffset(s);vo.registerFragmentIndex(e,n.nodeContext.fragmentIndex,0)}const l={};if(!n.nodeContext.parent){const e=n.inheritFromSourceParent(a);a=e.elementStyle,n.nodeContext.lang=e.lang}const h=a["float-reference"]&&function(e){switch(e){case"inline":return ya.INLINE;case"column":return ya.COLUMN;case"region":return ya.REGION;case"page":return ya.PAGE;default:throw new Error(`Unknown float-reference: ${e}`)}}(a["float-reference"].value.toString());if(n.nodeContext.parent&&h&&Sa(h)){const e=n.inheritFromSourceParent(a);a=e.elementStyle,n.nodeContext.lang=e.lang}n.nodeContext.vertical=n.computeStyle(n.nodeContext.vertical,"rtl"===n.nodeContext.direction,a,l),r.processContent(s,l),this.transferPolyfilledInheritedProps(l),this.inheritLangAttribute(),l.direction&&(n.nodeContext.direction=l.direction.toString());const c=l["flow-into"];if(c&&c.toString()!=n.flowName)return o.finish(!1),o.result();let u=l.display;if(u===Bt.none)return o.finish(!1),o.result();const d=null==n.nodeContext.parent;return n.nodeContext.flexContainer=u===Bt.flex,n.createShadows(s,d,a,l,r,n.context,n.nodeContext.shadowContext).then(c=>{n.nodeContext.nodeShadow=c;const p=l.position;let f=l.float,g=l.clear;const m=n.nodeContext.vertical?Bt.vertical_rl:Bt.horizontal_tb,b=n.nodeContext.parent?n.nodeContext.parent.vertical?Bt.vertical_rl:Bt.horizontal_tb:m,w=function(e){return"true"===e.getAttribute(Ya)}(s);n.nodeContext.establishesBFC=function(e,t,n,i,o,s,r){return o=o||s||Bt.horizontal_tb,!!r||!!n&&n!==Bt.none||Za(t)||e===Bt.inline_block||e===Bt.table_cell||e===Bt.table_caption||e==Bt.flex||(e===Bt.block||e===Bt.list_item)&&!!i&&i!==Bt.visible||!!s&&o!==s}(u,p,f,l.overflow,m,b,w),n.nodeContext.containingBlockForAbsolute=function(e){return e===Bt.relative||e===Bt.absolute||e===Bt.fixed}(p),!n.nodeContext.isInsideBFC()||f===Bt.footnote||h&&Sa(h)||(f=null,g=null);let E=f===Bt.left||f===Bt.right||f===Bt.top||f===Bt.bottom||f===Bt.inline_start||f===Bt.inline_end||f===Bt.block_start||f===Bt.block_end||f===Bt.snap_block||f===Bt.footnote;f&&(delete l.float,f===Bt.footnote&&(n.isFootnote?(E=!1,l.display=Bt.block):l.display=Bt.inline)),g&&(g===Bt.inherit&&n.nodeContext.parent&&n.nodeContext.parent.clearSide&&(g=Ct(n.nodeContext.parent.clearSide)),g!==Bt.left&&g!==Bt.right&&g!==Bt.top&&g!==Bt.bottom&&g!==Bt.both&&g!==Bt.all&&g!==Bt.same||(delete l.clear,l.display&&l.display!=Bt.inline&&(n.nodeContext.clearSide=g.toString())));const y=u===Bt.list_item&&l["ua-list-item-count"];if((E||l["break-inside"]&&l["break-inside"]!==Bt.auto)&&n.nodeContext.breakPenalty++,u&&u!==Bt.inline&&el(u)&&n.nodeContext.breakPenalty++,n.nodeContext.inline=!E&&!u||el(u)||function(e){switch(e.toString()){case"ruby-base":case"ruby-text":case"ruby-base-container":case"ruby-text-container":return!0;default:return!1}}(u),n.nodeContext.display=u?u.toString():"inline",n.nodeContext.floatSide=E?f.toString():null,n.nodeContext.floatReference=h||ya.INLINE,n.nodeContext.floatMinWrapBlock=l["float-min-wrap-block"]||null,n.nodeContext.columnSpan=l["column-span"],!n.nodeContext.inline){const e=l["break-after"];e&&(n.nodeContext.breakAfter=e.toString());const t=l["break-before"];t&&(n.nodeContext.breakBefore=t.toString())}n.nodeContext.verticalAlign=l["vertical-align"]&&l["vertical-align"].toString()||"baseline",n.nodeContext.captionSide=l["caption-side"]&&l["caption-side"].toString()||"top";const S=l["border-collapse"];if(!S||S===Ct("separate")){const e=l["border-spacing"];let t,i;e&&(e.isSpaceList()?(t=e.values[0],i=e.values[1]):t=i=e,t.isNumeric()&&(n.nodeContext.inlineBorderSpacing=Dt(t,n.context)),i.isNumeric()&&(n.nodeContext.blockBorderSpacing=Dt(i,n.context)))}n.nodeContext.footnotePolicy=l["footnote-policy"];const N=l["x-first-pseudo"];if(N){const e=n.nodeContext.parent?n.nodeContext.parent.firstPseudo:null;n.nodeContext.firstPseudo=new ua(e,N.num)}n.nodeContext.inline||n.processAfterIfcontinues(s,a,r,n.context);const v=l["white-space"];if(v){const e=Qr(v.toString());null!==e&&(n.nodeContext.whitespace=e)}const C=l["hyphenate-character"];C&&C!==Bt.auto&&(n.nodeContext.hyphenateCharacter=C.str);const T=l["word-break"],x=l["overflow-wrap"]||["word-wrap"];n.nodeContext.breakWord=T===Bt.break_all||x===Bt.break_word,n.resolveFormattingContext(n.nodeContext,e,u,p,f,d),n.nodeContext.parent&&n.nodeContext.parent.formattingContext&&(e=n.nodeContext.parent.formattingContext.isFirstTime(n.nodeContext,e)),n.nodeContext.inline||(n.nodeContext.repeatOnBreak=n.processRepeatOnBreak(l),n.findAndProcessRepeatingElements(s,r));let I=!1,P=null;const A=[];let O,R=s.namespaceURI,L=s.localName;if(R==k.XHTML)"html"==L||"body"==L||"script"==L||"link"==L||"meta"==L?L="div":"vide_"==L?L="video":"audi_"==L?L="audio":"object"==L&&(I=!!n.customRenderer),s.getAttribute(pl)&&a.content&&a.content.value&&a.content.value.url&&(L="img");else if(R==k.epub)L="span",R=k.XHTML;else if(R==k.FB2){if(R=k.XHTML,"image"==L){L="div";const e=s.getAttributeNS(k.XLINK,"href");if(e&&"#"==e.charAt(0)){const t=n.xmldoc.getElement(e);if(t){P=n.createElement(R,"img");const e=`data:${t.getAttribute("content-type")||"image/jpeg"};base64,${t.textContent.replace(/[ \t\n\t]/g,"")}`;A.push(Pi(P,e))}}}else L=Bu[L];L||(L=n.nodeContext.inline?"span":"div")}else if(R==k.NCX)if(R=k.XHTML,"ncx"==L||"navPoint"==L)L="div";else if("navLabel"==L){L="span";const e=s.parentNode;if(e){let t=null;for(let n=e.firstChild;n;n=n.nextSibling){if(1!=n.nodeType)continue;const e=n;if(e.namespaceURI==k.NCX&&"content"==e.localName){t=e.getAttribute("src");break}}t&&(L="a",s=s.ownerDocument.createElementNS(R,"a"),s.setAttribute("href",t))}}else L="span";else R==k.SHADOW?(R=k.XHTML,L=n.nodeContext.inline?"span":"div"):I=!!n.customRenderer;if(y)e?L="li":(L="div",u=Bt.block,l.display=u);else if("body"==L||"li"==L)L="div";else if("q"==L)L="span";else if("a"==L){const e=l["hyperlink-processing"];e&&"normal"!=e.toString()&&(L="span")}if(l.behavior&&"none"!=l.behavior.toString()&&n.customRenderer&&(I=!0),s.dataset&&"true"===s.getAttribute("data-math-typeset")&&(I=!0),I){const e=n.nodeContext.parent?n.nodeContext.parent.viewNode:null;O=n.customRenderer(s,e,l)}else O=fi(null);O.then(r=>{r?I&&(i="true"==r.getAttribute("data-adapt-process-children")):r=n.createElement(R,L),"a"==L&&r.addEventListener("click",n.page.hrefHandler,!1),P&&(n.applyPseudoelementStyle(n.nodeContext,"inner",P),r.appendChild(P)),"iframe"==r.localName&&r.namespaceURI==k.XHTML&&function(e){e.addEventListener("load",()=>{e.contentWindow.navigator.epubReadingSystem={name:"adapt",version:"0.1",layoutStyle:"paginated",hasFeature:function(e,t){switch(e){case"mouse-events":return!0}return!1}}},!1)}(r);const a=n.nodeContext.inheritedProps["image-resolution"],h=[],c=l.width,u=l.height,d=s.getAttribute("width"),p=s.getAttribute("height"),f=c===Bt.auto||!c&&!d,g=u===Bt.auto||!u&&!p;if(s.namespaceURI!=k.FB2||"td"==L){const t=s.attributes,i=t.length;let o=null;for(let s=0;s<i;s++){const i=t[s],a=i.namespaceURI;let l=i.localName,c=i.nodeValue;if(a){if("http://www.w3.org/2000/xmlns/"==a)continue;a==k.XLINK&&"href"==l&&(c=n.resolveURL(c))}else{if(l.match(/^on/))continue;if("style"==l)continue;if(("id"==l||"name"==l)&&e){c=n.documentURLTransformer.transformFragment(c,n.xmldoc.url),r.setAttribute(l,c),n.page.registerElementWithId(r,c);continue}if("src"==l||"href"==l||"poster"==l?(c=n.resolveURL(c),"href"===l&&(c=n.documentURLTransformer.transformURL(c,n.xmldoc.url))):"srcset"==l&&(c=c.split(",").map(e=>n.resolveURL(e.trim())).join(",")),"poster"===l&&"video"===L&&R===k.XHTML&&f&&g){const e=new Image,t=Pi(e,c);A.push(t),h.push({image:e,element:r,fetcher:t})}}if(R==k.SVG&&/^[A-Z\-]+$/.test(l)&&(l=l.toLowerCase()),n.isSVGUrlAttribute(l)&&(c=Ou(c,n.xmldoc.url,n.documentURLTransformer)),a){const e=Ru[a];e&&(l=`${e}:${l}`)}"src"!=l||a||"img"!=L&&"input"!=L||R!=k.XHTML?"href"==l&&"image"==L&&R==k.SVG&&a==k.XLINK?n.page.fetchers.push(Pi(r,c)):a?r.setAttributeNS(a,l,c):r.setAttribute(l,c):o=c}if(o){const e="input"===L?new Image:r,t=Pi(e,o);e!==r&&(r.src=o),f||g?(f&&g&&a&&1!==a&&h.push({image:e,element:r,fetcher:t}),A.push(t)):n.page.fetchers.push(t)}}delete l.content;const m=l["list-style-image"];if(m&&m instanceof At){const e=m.url;A.push(Pi(new Image,e))}if(n.preprocessElementStyle(l),n.applyComputedStyles(r,l),!n.nodeContext.inline){let i=null;if(e?t&&(i=n.nodeContext.vertical?Du:Fu):i="clone"!==n.nodeContext.inheritedProps["box-decoration-break"]?n.nodeContext.vertical?Lu:ku:n.nodeContext.vertical?Du:Fu,i)for(const e in i)U(r,e,i[e])}y&&r.setAttribute("value",l["ua-list-item-count"].stringValue()),n.viewNode=r,A.length?Ii(A).then(()=>{a>0&&n.modifyElemDimensionWithImageResolution(h,a,l,n.nodeContext.vertical),o.finish(i)}):o.timeSlice().then(()=>{o.finish(i)})})}),o.result()}processAfterIfcontinues(e,t,n,i){const o=this.getPseudoMap(t,this.regionIds,this.isFootnote,this.nodeContext,i);if(o&&o["after-if-continues"]&&o["after-if-continues"].content){const o=new ml(e,t,n,i,this.exprContentListener);this.nodeContext.afterIfContinues=new wl(e,o)}}isSVGUrlAttribute(e){return _u.SVG_URL_ATTRIBUTES.includes(e.toLowerCase())}modifyElemDimensionWithImageResolution(e,t,n,i){const o=this;e.forEach(e=>{if("load"===e.fetcher.get().get()){const s=e.image;let r=s.width/t,a=s.height/t;const l=e.element;if(r>0&&a>0)if(n["box-sizing"]===Bt.border_box&&(n["border-left-style"]!==Bt.none&&(r+=Dt(n["border-left-width"],o.context)),n["border-right-style"]!==Bt.none&&(r+=Dt(n["border-right-width"],o.context)),n["border-top-style"]!==Bt.none&&(a+=Dt(n["border-top-width"],o.context)),n["border-bottom-style"]!==Bt.none&&(a+=Dt(n["border-bottom-width"],o.context))),t>1){const e=n["max-width"]||Bt.none,t=n["max-height"]||Bt.none;if(e===Bt.none&&t===Bt.none)U(l,"max-width",`${r}px`);else if(e!==Bt.none&&t===Bt.none)U(l,"width",`${r}px`);else if(e===Bt.none&&t!==Bt.none)U(l,"height",`${a}px`);else{e.isNumeric(),t.isNumeric();const n=e,s=t;"%"!==n.unit?U(l,"max-width",`${Math.min(r,Dt(n,o.context))}px`):"%"!==s.unit?U(l,"max-height",`${Math.min(a,Dt(s,o.context))}px`):i?U(l,"height",`${a}px`):U(l,"width",`${r}px`)}}else if(t<1){const e=n["min-width"]||Vt,t=n["min-height"]||Vt;e.isNumeric(),e.isNumeric();const s=e,h=t;0===s.num&&0===h.num?U(l,"min-width",`${r}px`):0!==s.num&&0===h.num?U(l,"width",`${r}px`):0===s.num&&0!==h.num?U(l,"height",`${a}px`):"%"!==s.unit?U(l,"min-width",`${Math.max(r,Dt(s,o.context))}px`):"%"!==h.unit?U(l,"min-height",`${Math.max(a,Dt(h,o.context))}px`):i?U(l,"height",`${a}px`):U(l,"width",`${r}px`)}}})}preprocessElementStyle(e){const n=this;p(t.HOOKS.PREPROCESS_ELEMENT_STYLE).forEach(t=>{t(n.nodeContext,e)})}findAndProcessRepeatingElements(e,t){for(let n=e.firstChild;n;n=n.nextSibling){if(1!==n.nodeType)continue;const e={},i=t.getStyle(n,!1);if(this.computeStyle(this.nodeContext.vertical,"rtl"===this.nodeContext.direction,i,e),!this.processRepeatOnBreak(e))continue;if(this.nodeContext.formattingContext instanceof Dl&&!this.nodeContext.belongsTo(this.nodeContext.formattingContext))return;const o=this.nodeContext.parent,s=o&&o.formattingContext;return this.nodeContext.formattingContext=new Dl(s,this.nodeContext.sourceNode),void this.nodeContext.formattingContext.initializeRepetitiveElements(this.nodeContext.vertical)}}processRepeatOnBreak(e){let t=e["repeat-on-break"];return t!==Bt.none&&(t===Bt.auto&&(t=e.display===Bt.table_header_group?Bt.header:e.display===Bt.table_footer_group?Bt.footer:Bt.none),t&&t!==Bt.none)?t.toString():null}createTextNodeView(){const e=this,t=pi("createTextNodeView");return this.preprocessTextContent().then(()=>{const n=e.offsetInNode||0,i=Vr(e.nodeContext.preprocessedTextContent).substr(n);e.viewNode=document.createTextNode(i),t.finish(!0)}),t.result()}preprocessTextContent(){if(null!=this.nodeContext.preprocessedTextContent)return fi(!0);const e=this;let n,i=n=e.sourceNode.textContent;const o=pi("preprocessTextContent"),s=p(t.HOOKS.PREPROCESS_TEXT_CONTENT);let r=0;return o.loop(()=>r>=s.length?fi(!1):s[r++](e.nodeContext,i).thenAsync(e=>(i=e,fi(!0)))).then(()=>{e.nodeContext.preprocessedTextContent=function(e,t){return zr(e,t,0)}(n,i),o.finish(!0)}),o.result()}createNodeView(e,t){const n=this,i=pi("createNodeView");let o,s=!0;return 1==n.sourceNode.nodeType?o=n.createElementView(e,t):8==n.sourceNode.nodeType?(n.viewNode=null,o=fi(!0)):o=n.createTextNodeView(),o.then(e=>{if(s=e,n.nodeContext.viewNode=n.viewNode,n.viewNode){const e=n.nodeContext.parent?n.nodeContext.parent.viewNode:n.viewRoot;e&&e.appendChild(n.viewNode)}i.finish(s)}),i.result()}setCurrent(e,t,n){return this.nodeContext=e,e?(this.sourceNode=e.sourceNode,this.offsetInNode=e.offsetInNode):(this.sourceNode=null,this.offsetInNode=-1),this.viewNode=null,this.nodeContext?this.createNodeView(t,!!n):fi(!0)}processShadowContent(e){if(null==e.shadowContext||"content"!=e.sourceNode.localName||e.sourceNode.namespaceURI!=k.SHADOW)return e;const t=e.boxOffset,n=e.shadowContext,i=e.parent;let o,s,r;n.subShadow?(r=n.subShadow,o=n.root,s=n.type,s==la.ROOTLESS&&(o=o.firstChild)):(r=n.parentShadow,o=n.owner.firstChild,s=la.ROOTLESS);const a=e.sourceNode.nextSibling;if(a?(e.sourceNode=a,e.resetView()):e.shadowSibling?e=e.shadowSibling:o?e=null:(e=e.parent.modify()).after=!0,o){const n=new da(o,i,t);return n.shadowContext=r,n.shadowType=s,n.shadowSibling=e,n}return e.boxOffset=t,e}nextPositionInTree(e){let t=e.boxOffset+1;if(e.after){if(!e.parent)return null;if(e.shadowType!=la.ROOTED){const n=e.sourceNode.nextSibling;if(n)return(e=e.modify()).boxOffset=t,e.sourceNode=n,e.resetView(),this.processShadowContent(e)}return e.shadowSibling?((e=e.shadowSibling.modify()).boxOffset=t,e):((e=e.parent.modify()).boxOffset=t,e.after=!0,e)}{if(e.nodeShadow){let n=e.nodeShadow.root;if(e.nodeShadow.type==la.ROOTLESS&&(n=n.firstChild),n){const i=new da(n,e,t);return i.shadowContext=e.nodeShadow,i.shadowType=e.nodeShadow.type,this.processShadowContent(i)}}const n=e.sourceNode.firstChild;return n?this.processShadowContent(new da(n,e,t)):(1!=e.sourceNode.nodeType&&(t+=Vr(e.preprocessedTextContent).length-1-e.offsetInNode),(e=e.modify()).boxOffset=t,e.after=!0,e)}}isTransclusion(e,t,n){const i=$o(t,"hyperlink-processing");if(!i)return!1;const o=i.evaluate(this.context,"hyperlink-processing");return!!o&&o.toString()==n}nextInTree(e,t){let n=this.nextPositionInTree(e);if(!n||n.after)return fi(n);const i=pi("nextInTree");return this.setCurrent(n,!0,t).then(e=>{n.viewNode&&e||(n=n.modify(),n.after=!0,n.viewNode||(n.inline=!0)),this.dispatchEvent({type:"nextInTree",nodeContext:n}),i.finish(n)}),i.result()}addImageFetchers(e){if(e instanceof kt){const t=e.values;for(let e=0;e<t.length;e++)this.addImageFetchers(t[e])}else if(e instanceof At){const t=e.url;this.page.fetchers.push(Pi(new Image,t))}}applyComputedStyles(e,t){const n=t["background-image"];n&&this.addImageFetchers(n);const i=t.position===Bt.relative;for(const n in t){if(Mu[n])continue;let o=t[n];o=o.visit(new yn(this.xmldoc.url,this.documentURLTransformer)),o.isNumeric()&&Pe(o.unit)&&(o=_t(o,this.context)),$r[n]||i&&Wr[n]?this.page.delayedItems.push(new Xr(e,n,o)):U(e,n,o.toString())}}applyPseudoelementStyle(e,t,n){if(e.after)return;const i=this.sourceNode;let o=(e.shadowContext?e.shadowContext.styler:this.styler).getStyle(i,!1);const s=Xo(o,"_pseudos");if(!s)return;if(o=s[t],!o)return;const r={};e.vertical=this.computeStyle(e.vertical,"rtl"===e.direction,o,r);const a=r.content;Ea(a)&&(a.visit(new wa(n,this.context,a,this.exprContentListener)),delete r.content),this.applyComputedStyles(n,r)}peelOff(e,t){const n=pi("peelOff"),i=e.firstPseudo;let o=e.offsetInNode;const s=e.after;if(t>0){const n=e.viewNode.textContent;e.viewNode.textContent=n.substr(0,t),o+=t}else if(!s&&e.viewNode&&0==o){const t=e.viewNode.parentNode;t&&t.removeChild(e.viewNode)}const r=e.boxOffset+t,a=[];for(;e.firstPseudo===i;)a.push(e),e=e.parent;let l=a.pop(),h=l.shadowSibling;const c=this;return n.loop(()=>{for(;a.length>0;){l=a.pop(),e=new da(l.sourceNode,e,r),0==a.length&&(e.offsetInNode=o,e.after=s),e.shadowType=l.shadowType,e.shadowContext=l.shadowContext,e.nodeShadow=l.nodeShadow,e.shadowSibling=l.shadowSibling?l.shadowSibling:h,h=null;const t=c.setCurrent(e,!1);if(t.isPending())return t}return fi(!1)}).then(()=>{n.finish(e)}),n.result()}createElement(e,t){return e==k.XHTML?this.document.createElement(t):this.document.createElementNS(e,t)}applyFootnoteStyle(e,t,n){const i={},o=Xo(this.footnoteStyle,"_pseudos");if(e=this.computeStyle(e,t,this.footnoteStyle,i),o&&o.before){const i={},s=this.createElement(k.XHTML,"span");gl(s,"before"),n.appendChild(s),this.computeStyle(e,t,o.before,i),delete i.content,this.applyComputedStyles(s,i)}return delete i.content,this.applyComputedStyles(n,i),e}processFragmentedBlockEdge(e){e&&e.walkUpBlocks(e=>{const t=e.inheritedProps["box-decoration-break"];if(!t||"slice"===t){const t=e.viewNode;e.vertical?(U(t,"padding-left","0"),U(t,"border-left","none"),U(t,"border-top-left-radius","0"),U(t,"border-bottom-left-radius","0")):(U(t,"padding-bottom","0"),U(t,"border-bottom","none"),U(t,"border-bottom-left-radius","0"),U(t,"border-bottom-right-radius","0"))}})}convertLengthToPx(e,t,n){const i=e.num,o=e.unit;if(function(e){switch(e.toLowerCase()){case"em":case"ex":case"rem":return!0;default:return!1}}(o)){let i=t;for(;i&&1!==i.nodeType;)i=i.parentNode;const o=parseFloat(n.getElementComputedStyle(i)["font-size"]);return this.context,es(e,o,this.context).num}{const t=this.context.queryUnitSize(o,!1);return t?i*t:e}}isSameNodePositionStep(e,t){if(e.shadowContext){if(!t.shadowContext)return!1;const n=1===e.node.nodeType?e.node:e.node.parentElement,i=1===t.node.nodeType?t.node:t.node.parentElement;return e.shadowContext.owner===t.shadowContext.owner&&fl(n)===fl(i)}return e.node===t.node}isSameNodePosition(e,t){return e.offsetInNode===t.offsetInNode&&e.after==t.after&&e.steps.length===t.steps.length&&e.steps.every((e,n)=>{const i=t.steps[n];return this.isSameNodePositionStep(e,i)})}isPseudoelement(e){return!!fl(e)}}_u.SVG_URL_ATTRIBUTES=["color-profile","clip-path","cursor","filter","marker","marker-start","marker-end","marker-mid","fill","stroke","mask"];const Bu={a:"a",sub:"sub",sup:"sup",table:"table",tr:"tr",td:"td",th:"th",code:"code",body:"div",p:"p",v:"p",date:"p",emphasis:"em",strong:"strong",style:"span",strikethrough:"del"},Mu={"box-decoration-break":!0,"float-min-wrap-block":!0,"float-reference":!0,"flow-into":!0,"flow-linger":!0,"flow-options":!0,"flow-priority":!0,"footnote-policy":!0,page:!0};class Uu{constructor(e){this.layoutBox=e.layoutBox,this.window=e.window}subtractOffsets(e,t){const n=t.left,i=t.top;return{left:e.left-n,top:e.top-i,right:e.right-n,bottom:e.bottom-i,width:e.width,height:e.height}}getRangeClientRects(e){const t=e.getClientRects(),n=this.layoutBox.getBoundingClientRect();return Array.from(t).map(e=>this.subtractOffsets(e,n))}getElementClientRect(e){const t=e.getBoundingClientRect(),n=this.layoutBox.getBoundingClientRect();return this.subtractOffsets(t,n)}getElementComputedStyle(e){return this.window.getComputedStyle(e,null)}}class zu{constructor(e,t,n,i,o){this.window=e,this.fontSize=t,this.document=e.document,this.root=n||this.document.body;let s=this.root.firstElementChild;s||(s=this.document.createElement("div"),s.setAttribute("data-vivliostyle-outer-zoom-box","true"),this.root.appendChild(s));let r=s.firstElementChild;r||(r=this.document.createElement("div"),r.setAttribute("data-vivliostyle-spread-container","true"),s.appendChild(r));let a=s.nextElementSibling;a||(a=this.document.createElement("div"),a.setAttribute("data-vivliostyle-layout-box","true"),this.root.appendChild(a)),this.outerZoomBox=s,this.contentContainer=r,this.layoutBox=a;const l=new Uu(this).getElementComputedStyle(this.root);this.width=i||parseFloat(l.width)||e.innerWidth,this.height=o||parseFloat(l.height)||e.innerHeight}resetZoom(){U(this.outerZoomBox,"width",""),U(this.outerZoomBox,"height",""),U(this.contentContainer,"width",""),U(this.contentContainer,"height",""),U(this.contentContainer,"transform","")}zoom(e,t,n){U(this.outerZoomBox,"width",`${e*n}px`),U(this.outerZoomBox,"height",`${t*n}px`),U(this.contentContainer,"width",`${e}px`),U(this.contentContainer,"height",`${t}px`),U(this.contentContainer,"transform",`scale(${n})`)}clear(){const e=this.root;for(;e.lastChild;)e.removeChild(e.lastChild)}}const Vu="data-adapt-eloff";class Hu{constructor(e,t,n){this.store=e,this.url=t,this.document=n,this.lang=null,this.totalOffset=-1,this.lastOffset=1,this.root=n.documentElement;let i=null,o=null;if(this.root.namespaceURI==k.XHTML){for(let e=this.root.firstChild;e;e=e.nextSibling){if(1!=e.nodeType)continue;const t=e;if(t.namespaceURI==k.XHTML)switch(t.localName){case"head":o=t;break;case"body":i=t}}this.lang=this.root.getAttribute("lang")}else if(this.root.namespaceURI==k.FB2){o=this.root;for(let e=this.root.firstChild;e;e=e.nextSibling){if(1!=e.nodeType)continue;const t=e;t.namespaceURI==k.FB2&&"body"==t.localName&&(i=t)}const e=this.doc().child("FictionBook").child("description").child("title-info").child("lang").textContent();e.length>0&&(this.lang=e[0])}else if(this.root.namespaceURI==k.SSE)for(let e=this.root.firstElementChild;e;e=e.nextElementSibling){const t=e.localName;"meta"===t?o=e:"body"===t&&(i=e)}this.body=i,this.head=o,this.last=this.root,this.last.setAttribute(Vu,"0")}doc(){return new Ku([this.document])}getElementOffset(e){const t=e.getAttribute(Vu);if(t)return parseInt(t,10);let n=this.lastOffset,i=this.last;for(;i!=e;){let e=i.firstChild;if(!e)for(;e=i.nextSibling,!e;)if(i=i.parentNode,null==i)throw new Error("Internal error");i=e,1==e.nodeType?(e.setAttribute(Vu,n.toString()),++n):n+=e.textContent.length}return this.lastOffset=n,this.last=e,n-1}getNodeOffset(e,t,n){let i=0,o=e,s=null;if(1==o.nodeType){if(!n)return this.getElementOffset(o)}else{if(i=t,s=o.previousSibling,!s)return o=o.parentNode,i+=1,this.getElementOffset(o)+i;o=s}for(;;){for(;o.lastChild;)o=o.lastChild;if(1==o.nodeType)break;if(i+=o.textContent.length,s=o.previousSibling,!s){o=o.parentNode;break}o=s}return i+=1,this.getElementOffset(o)+i}getTotalOffset(){return this.totalOffset<0&&(this.totalOffset=this.getNodeOffset(this.root,0,!0)),this.totalOffset}getNodeByOffset(e){let t;const n=this;let i=this.root;for(;;){if(t=this.getElementOffset(i),t>=e)return i;const o=i.children;if(!o)break;const s=Z(o.length,t=>{const i=o[t];return n.getElementOffset(i)>e});if(0==s)break;i=o[s-1]}let o=t+1,s=i,r=s.firstChild||s.nextSibling,a=null;for(;;){if(r){if(1==r.nodeType)break;if(s=r,a=s,o+=r.textContent.length,o>e)break}else if(s=s.parentNode,!s)break;r=s.nextSibling}return a||i}buildIdMap(e){const t=e.getAttribute("id");t&&!this.idMap[t]&&(this.idMap[t]=e);const n=e.getAttributeNS(k.XML,"id");n&&!this.idMap[n]&&(this.idMap[n]=e);for(let t=e.firstElementChild;t;t=t.nextElementSibling)this.buildIdMap(t)}getElement(e){const t=e.match(/([^#]*)#(.+)$/);if(!t||t[1]&&t[1]!=this.url)return null;const n=t[2];let i=this.document.getElementById(n);return!i&&this.document.getElementsByName&&(i=this.document.getElementsByName(n)[0]),i||(this.idMap||(this.idMap={},this.buildIdMap(this.document.documentElement)),i=this.idMap[n]),i}}var Gu;function $u(e,t,n){const i=n||new DOMParser;let o;try{o=i.parseFromString(e,t)}catch(e){}if(!o)return null;{const e=o.documentElement,t="parsererror";if(e.localName===t)return null;for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(n.localName===t)return null}return o}function Wu(e,t){let n=e.responseXML;if(!n){const t=new DOMParser,i=e.responseText;if(i){const o=function(e){const t=e.contentType;if(t){const e=Object.keys(Gu);for(let n=0;n<e.length;n++)if(Gu[e[n]]===t)return t;if(t.match(/\+xml$/))return Gu.APPLICATION_XML}const n=e.url.match(/\.([^./]+)$/);if(n)switch(n[1]){case"html":case"htm":return Gu.TEXT_HTML;case"xhtml":case"xht":return Gu.APPLICATION_XHTML_XML;case"svg":case"svgz":return Gu.IMAGE_SVG_XML;case"opf":case"xml":return Gu.APPLICATION_XML}return null}(e);if(n=$u(i,o||Gu.APPLICATION_XML,t),n&&!o){const e=n.documentElement;"html"!==e.localName.toLowerCase()||e.namespaceURI?"svg"===e.localName.toLowerCase()&&n.contentType!==Gu.IMAGE_SVG_XML&&(n=$u(i,Gu.IMAGE_SVG_XML,t)):n=$u(i,Gu.TEXT_HTML,t)}n||(n=$u(i,Gu.TEXT_HTML,t))}}return fi(n?new Hu(t,e.url,n):null)}!function(e){e.TEXT_HTML="text/html",e.TEXT_XML="text/xml",e.APPLICATION_XML="application/xml",e.APPLICATION_XHTML_XML="application/xhtml_xml",e.IMAGE_SVG_XML="image/svg+xml"}(Gu||(Gu={}));class Xu{constructor(e){this.fn=e}check(e){return this.fn(e)}withAttribute(e,t){const n=this;return new Xu(i=>n.check(i)&&1==i.nodeType&&i.getAttribute(e)==t)}withChild(e,t){const n=this;return new Xu(i=>{if(!n.check(i))return!1;let o=new Ku([i]);return o=o.child(e),t&&(o=o.predicate(t)),o.size()>0})}}const ju=new Xu(e=>!0);class Ku{constructor(e){this.nodes=e}asArray(){return this.nodes}size(){return this.nodes.length}predicate(e){const t=[];for(const n of this.nodes)e.check(n)&&t.push(n);return new Ku(t)}forEachNode(e){const t=[],n=e=>{t.push(e)};for(let t=0;t<this.nodes.length;t++)e(this.nodes[t],n);return new Ku(t)}forEach(e){const t=[];for(let n=0;n<this.nodes.length;n++)t.push(e(this.nodes[n]));return t}forEachNonNull(e){const t=[];for(let n=0;n<this.nodes.length;n++){const i=e(this.nodes[n]);null!=i&&t.push(i)}return t}child(e){return this.forEachNode((t,n)=>{for(let i=t.firstChild;i;i=i.nextSibling)1==i.nodeType&&i.localName==e&&n(i)})}childElements(){return this.forEachNode((e,t)=>{for(let n=e.firstChild;n;n=n.nextSibling)1==n.nodeType&&t(n)})}attribute(e){return this.forEachNonNull(t=>1==t.nodeType?t.getAttribute(e):null)}textContent(){return this.forEach(e=>e.textContent)}}var Yu='@namespace html "http://www.w3.org/1999/xhtml";\n@namespace fb2 "http://www.gribuser.ru/xml/fictionbook/2.0";\n\nhtml|body,\nfb2|body {\n  hyphens: -epubx-expr(pref-hyphenate? "auto": "manual");\n}\n\n@-adapt-footnote-area {\n  display: block;\n  margin-block-start: 0.5em;\n  margin-block-end: 0.5em;\n}\n\n@-adapt-footnote-area ::before {\n  display: block;\n  border-block-start-width: 1px;\n  border-block-start-style: solid;\n  border-block-start-color: black;\n  margin-block-end: 0.4em;\n  margin-inline-start: 0;\n  margin-inline-end: 60%;\n}\n\n/* default page master */\n@-epubx-page-master :background-host {\n  @-epubx-partition :layout-host {\n    -epubx-flow-from: body;\n    top: -epubx-expr(header.margin-bottom-edge);\n    bottom: -epubx-expr(page-height - footer.margin-top-edge);\n    left: 0px;\n    right: 0px;\n    column-width: 25em;\n  }\n  @-epubx-partition footer :oeb-page-foot {\n    writing-mode: horizontal-tb;\n    -epubx-flow-from: oeb-page-foot;\n    bottom: 0px;\n    left: 0px;\n    right: 0px;\n  }\n  @-epubx-partition header :oeb-page-head {\n    writing-mode: horizontal-tb;\n    -epubx-flow-from: oeb-page-head;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n  }\n}\n\n@page {\n  @top-left-corner {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @top-left {\n    text-align: left;\n    vertical-align: middle;\n  }\n  @top-center {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @top-right {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @top-right-corner {\n    text-align: left;\n    vertical-align: middle;\n  }\n  @left-top {\n    text-align: center;\n    vertical-align: top;\n  }\n  @left-middle {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @left-bottom {\n    text-align: center;\n    vertical-align: bottom;\n  }\n  @right-top {\n    text-align: center;\n    vertical-align: top;\n  }\n  @right-middle {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @right-bottom {\n    text-align: center;\n    vertical-align: bottom;\n  }\n  @bottom-left-corner {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @bottom-left {\n    text-align: left;\n    vertical-align: middle;\n  }\n  @bottom-center {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @bottom-right {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @bottom-right-corner {\n    text-align: left;\n    vertical-align: middle;\n  }\n}\n\n@media print {\n  @page {\n    margin: 10%;\n  }\n}\n';const qu=new xi(()=>{const e=pi("uaStylesheetBase"),t=uc(),n=O("user-agent-base.css",P),i=new Qs(null,null,null,null,null,t,!0);return i.startStylesheet(Hi.USER_AGENT),function(e){Zs=e}(i.cascade),fo('@namespace html "http://www.w3.org/1999/xhtml";\n\nhtml|html,\nhtml|address,\nhtml|blockquote,\nhtml|body,\nhtml|dd,\nhtml|div,\nhtml|dl,\nhtml|dt,\nhtml|fieldset,\nhtml|form,\nhtml|frame,\nhtml|frameset,\nhtml|h1,\nhtml|h2,\nhtml|h3,\nhtml|h4,\nhtml|h5,\nhtml|h6,\nhtml|noframes,\nhtml|ol,\nhtml|p,\nhtml|ul,\nhtml|center,\nhtml|dir,\nhtml|hr,\nhtml|menu,\nhtml|pre,\nhtml|article,\nhtml|section,\nhtml|nav,\nhtml|aside,\nhtml|hgroup,\nhtml|footer,\nhtml|header,\nhtml|figure,\nhtml|figcaption,\nhtml|main {\n  display: block;\n  unicode-bidi: normal;\n}\nhtml|li {\n  display: list-item;\n}\nhtml|head {\n  display: none !important;\n}\nhtml|table {\n  display: table;\n}\nhtml|tr {\n  display: table-row;\n}\nhtml|thead {\n  display: table-header-group;\n  break-after: avoid;\n}\nhtml|tbody {\n  display: table-row-group;\n}\nhtml|tfoot {\n  display: table-footer-group;\n  break-before: avoid;\n}\nhtml|col {\n  display: table-column;\n}\nhtml|colgroup {\n  display: table-column-group;\n}\nhtml|td,\nhtml|th {\n  display: table-cell;\n}\nhtml|caption {\n  display: table-caption;\n  text-align: center;\n}\nhtml|th {\n  font-weight: bolder;\n  text-align: center;\n}\nhtml|script {\n  display: none;\n}\nhtml|body {\n  margin: 8px;\n}\nhtml|h1 {\n  font-size: 2em;\n  margin-block-start: 0.67em;\n  margin-block-end: 0.67em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h2 {\n  font-size: 1.5em;\n  margin-block-start: 0.75em;\n  margin-block-end: 0.75em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h3 {\n  font-size: 1.17em;\n  margin-block-start: 0.83em;\n  margin-block-end: 0.83em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h4,\nhtml|p,\nhtml|blockquote,\nhtml|ul,\nhtml|fieldset,\nhtml|form,\nhtml|ol,\nhtml|dl,\nhtml|dir,\nhtml|menu,\nhtml|h5,\nhtml|h6 {\n  margin-block-start: 1em;\n  margin-block-end: 1em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h5 {\n  font-size: 0.83em;\n}\nhtml|h6 {\n  font-size: 0.75em;\n}\nhtml|h1,\nhtml|h2,\nhtml|h3,\nhtml|h4,\nhtml|h5,\nhtml|h6,\nhtml|b,\nhtml|strong {\n  font-weight: bolder;\n}\nhtml|h1,\nhtml|h2,\nhtml|h3,\nhtml|h4,\nhtml|h5,\nhtml|h6 {\n  break-after: avoid;\n}\nhtml|blockquote {\n  margin-block-start: 0px;\n  margin-block-end: 0px;\n  margin-inline-start: 40px;\n  margin-inline-end: 40px;\n}\nhtml|i,\nhtml|cite,\nhtml|em,\nhtml|var,\nhtml|address {\n  font-style: italic;\n}\nhtml|pre,\nhtml|tt,\nhtml|code,\nhtml|kbd,\nhtml|samp {\n  font-family: monospace;\n}\nhtml|pre {\n  white-space: pre;\n}\nhtml|button,\nhtml|textarea,\nhtml|input,\nhtml|select {\n  display: inline-block;\n}\nhtml|big {\n  font-size: 1.17em;\n}\nhtml|small,\nhtml|sub,\nhtml|sup {\n  font-size: 0.83em;\n}\nhtml|sub {\n  vertical-align: sub;\n}\nhtml|sup {\n  vertical-align: super;\n}\nhtml|table {\n  border-spacing: 2px;\n}\nhtml|thead,\nhtml|tbody,\nhtml|tfoot {\n  vertical-align: middle;\n}\n/* for XHTML tables without tbody */\nhtml|table > html|tr {\n  vertical-align: middle;\n}\nhtml|td,\nhtml|th {\n  vertical-align: inherit;\n}\nhtml|s,\nhtml|strike,\nhtml|del {\n  text-decoration: line-through;\n}\nhtml|hr {\n  border: 1px inset;\n}\nhtml|ol,\nhtml|ul,\nhtml|dir,\nhtml|menu,\nhtml|dd {\n  margin: 0px;\n  margin-inline-start: 40px;\n}\nhtml|ol {\n  list-style-type: decimal;\n}\nhtml|ol html|ul,\nhtml|ul html|ol,\nhtml|ul html|ul,\nhtml|ol html|ol {\n  margin-top: 0;\n  margin-bottom: 0;\n}\nhtml|u,\nhtml|ins {\n  text-decoration: underline;\n}\nhtml|center {\n  text-align: center;\n}\nhtml|q:before {\n  content: open-quote;\n}\nhtml|q:after {\n  content: close-quote;\n}\n\nhtml|audio,\nhtml|video {\n  break-inside: avoid;\n}\n\nhtml|ruby {\n  display: ruby;\n}\nhtml|rp {\n  display: none;\n}\nhtml|rbc {\n  display: ruby-base-container;\n}\nhtml|rtc {\n  display: ruby-text-container;\n}\nhtml|rb {\n  display: ruby-base;\n  white-space: nowrap;\n}\nhtml|rt {\n  display: ruby-text;\n}\nhtml|ruby,\nhtml|rb,\nhtml|rt,\nhtml|rbc,\nhtml|rtc {\n  unicode-bidi: isolate;\n}\n\nhtml|rtc,\nhtml|rt {\n  font-variant-east-asian: ruby;\n  text-emphasis: none;\n  white-space: nowrap;\n  line-height: 1;\n}\n\nhtml|rtc:lang(zh),\nhtml|rt:lang(zh) {\n  ruby-align: center;\n}\n\nhtml|rtc,\nhtml|rt {\n  font-size: 50%;\n}\n\nhtml|rtc:lang(zh-TW),\nhtml|rt:lang(zh-TW) {\n  font-size: 30%;\n}\n\nhtml|rtc > html|rt,\nhtml|rtc > html|rt:lang(zh-TW) {\n  font-size: 100%;\n}\n\n/* Bidi settings */\nhtml|bdo[dir="ltr"] {\n  direction: ltr;\n  unicode-bidi: bidi-override;\n}\nhtml|bdo[dir="rtl"] {\n  direction: rtl;\n  unicode-bidi: bidi-override;\n}\nhtml|*[dir="ltr"] {\n  direction: ltr;\n  unicode-bidi: embed;\n}\nhtml|*[dir="rtl"] {\n  direction: rtl;\n  unicode-bidi: embed;\n}\n\n/*------------------ epub-specific ---------------------*/\n\n@namespace epub "http://www.idpf.org/2007/ops";\n\nhtml|a[epub|type="noteref"] {\n  font-size: 0.75em;\n  vertical-align: super;\n  line-height: 0.01;\n}\n\nhtml|a[epub|type="noteref"]:href-epub-type(footnote) {\n  -adapt-template: url(user-agent.xml#footnote);\n  text-decoration: none;\n}\n\nhtml|aside[epub|type="footnote"] {\n  display: none;\n}\n\nhtml|aside[epub|type="footnote"]:footnote-content {\n  display: block;\n  margin: 0.25em;\n  font-size: 1.2em;\n  line-height: 1.2;\n}\n\nepub|trigger {\n  display: none;\n}\n\nepub|switch {\n  display: inline;\n}\n\nepub|default {\n  display: inline;\n}\n\nepub|case {\n  display: none;\n}\n\nepub|case[required-namespace::supported] {\n  display: inline;\n}\n\nepub|case[required-namespace::supported] ~ epub|case {\n  display: none;\n}\n\nepub|case[required-namespace::supported] ~ epub|default {\n  display: none;\n}\n\n/*--------------- ncx and toc ----------------------*/\n\n@namespace ncx "http://www.daisy.org/z3986/2005/ncx/";\n\nncx|ncx {\n  display: block;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n\nncx|content {\n  display: none;\n}\n\nbody > * {\n  -adapt-behavior: body-child;\n}\n\n[role="doc-toc"],\n[role="directory"],\nnav,\n.toc,\n#toc,\n#table-of-contents,\n#contents {\n  -adapt-behavior: toc-root;\n}\n\n[role="doc-toc"] a,\n[role="directory"] a,\nnav a,\n.toc a,\n#toc a,\nncx|navLabel {\n  -adapt-behavior: toc-node-anchor;\n}\n\n[role="doc-toc"] li,\n[role="directory"] li,\nnav li,\n.toc li,\n#toc li,\nncx|navPoint {\n  -adapt-behavior: toc-node;\n}\n\n[role="doc-toc"] li > *:first-child,\n[role="directory"] li > *:first-child,\nnav li > *:first-child,\n.toc li > *:first-child,\n#toc li > *:first-child {\n  -adapt-behavior: toc-node-first-child;\n}\n\n[role="doc-toc"] ol,\n[role="directory"] ol,\nnav ol,\n.toc ol,\n#toc ol,\n[role="doc-toc"] ul,\n[role="directory"] ul,\nnav ul,\n.toc ul,\n#toc ul,\nol[role="doc-toc"],\nol[role="directory"],\nol.toc,\nol#toc,\nul[role="doc-toc"],\nul[role="directory"],\nul.toc,\nul#toc {\n  -adapt-behavior: toc-container;\n}\n\n/*---------------- fb2 ---------------------*/\n\n@namespace fb2 "http://www.gribuser.ru/xml/fictionbook/2.0";\n\nfb2|FictionBook {\n  display: block;\n}\n\nfb2|body {\n  font-family: serif;\n  margin: 8px;\n  column-width: 25em;\n}\n\nfb2|a {\n  line-height: 0.1;\n  vertical-align: super;\n  font-size: 0.7em;\n}\n\nfb2|sub {\n  line-height: 0.1;\n  font-size: 0.7em;\n}\n\nfb2|sup {\n  line-height: 0.1;\n  font-size: 0.7em;\n}\n\nfb2|table {\n  display: table;\n  font-size: 0.8em;\n  font-family: sans-serif;\n  margin: 0.5em;\n  border-collapse: collapse;\n  border: 1px solid black;\n}\n\nfb2|td {\n  border: 1px solid black;\n  padding: 0.3em;\n}\n\nfb2|th {\n  font-weight: bold;\n  text-align: center;\n  border: 1px solid black;\n  background-color: #cee;\n  padding: 0.3em;\n}\n\nfb2|code {\n  font-family: monospace;\n}\n\nfb2|p {\n  display: block;\n  margin: 0px;\n  text-indent: 1.5em;\n  text-align: justify;\n}\n\nfb2|title fb2|p {\n  margin: 0px 0px 0.5em 0px;\n  text-indent: 0px;\n  text-align: inherit;\n}\n\nfb2|title {\n  font-size: 2.2em;\n  font-weight: bold;\n  break-inside: avoid;\n  break-after: avoid;\n  text-align: center;\n  margin: 1em 0px 0.5em 0px;\n  display: block;\n}\n\nfb2|section {\n  display: block;\n}\n\nfb2|section fb2|title {\n  font-size: 1.8em;\n  text-align: center;\n  margin: 1em 0px 0.5em 0px;\n}\n\nfb2|section fb2|section fb2|title {\n  font-size: 1.5em;\n  text-align: left;\n  margin: 1em 0px 0.5em 1.5625em;\n}\n\nfb2|section fb2|section fb2|section fb2|title {\n  font-size: 1.3em;\n  text-align: left;\n  margin: 1em 0px 0.5em 1.923em;\n}\n\nfb2|section fb2|section fb2|section fb2|section fb2|title {\n  font-size: 1.2em;\n  text-align: left;\n  margin: 1em 0px 0.5em 2.083em;\n}\n\nfb2|section fb2|section fb2|section fb2|section fb2|section fb2|title {\n  font-size: 1.1em;\n  text-align: left;\n  margin: 1em 0px 0.5em 2.272em;\n}\n\nfb2|section\n  fb2|section\n  fb2|section\n  fb2|section\n  fb2|section\n  fb2|section\n  fb2|title {\n  text-align: left;\n  margin: 1em 0px 0.5em 2.5em;\n}\n\nfb2|epigraph {\n  text-align: left;\n  font-style: italic;\n  margin: 1em 1em 2em 30%;\n  display: block;\n}\n\nfb2|image {\n  text-align: center;\n  padding: 3px;\n}\n\nfb2|image::inner {\n  max-width: 95%;\n}\n\nfb2|image::after {\n  display: block;\n  content: attr(title);\n}\n\nfb2|v {\n  text-indent: -1em;\n  padding-left: 1em;\n  margin: 0px;\n  display: block;\n}\nfb2|poem {\n  margin: 0.5em 0px 0.5em 2em;\n  display: block;\n}\nfb2|date {\n  margin: 0.5em 0px 0.5em 50%;\n  font-style: italic;\n  display: block;\n}\nfb2|stanza {\n  margin: 0.5em 0px;\n  break-inside: avoid;\n  display: block;\n}\nfb2|empty-line {\n  height: 1em;\n  margin: 0px;\n  display: block;\n}\nfb2|cite {\n  margin: 0.5em 0px 0.5em 1em;\n  font-size: 0.95em;\n  display: block;\n}\nfb2|subtitle {\n  text-indent: 0px;\n  text-align: center;\n  font-style: italic;\n  font-weight: bold;\n  margin: 0.5em 2em;\n  break-inside: avoid;\n  break-after: avoid;\n  display: block;\n}\nfb2|annotation {\n  margin: 1em 0px 1em 2em;\n  text-indent: 0px;\n  font-style: italic;\n  display: block;\n}\nfb2|text-author {\n  text-indent: 0px;\n  margin: 0.2em 0px 0px 3em;\n  display: block;\n}\nfb2|emphasis {\n  font-style: italic;\n}\nfb2|strong {\n  font-weight: bold;\n}\nfb2|strikethrough {\n  text-decoration: line-through;\n}\nfb2|*.italic {\n  font-style: italic;\n}\nfb2|*.bold {\n  font-weight: bold;\n}\n\nfb2|binary,\nfb2|description,\nfb2|stylesheet {\n  display: none;\n}\n\nfb2|a[type="note"] {\n  font-size: 0.75em;\n  vertical-align: super;\n  line-height: 0.01;\n  text-decoration: none;\n  -adapt-template: url(user-agent.xml#footnote);\n}\n\nfb2|body[name="notes"] {\n  display: none;\n}\n\nfb2|body[name="notes"] fb2|title {\n  display: inline;\n  vertical-align: super;\n  line-height: 0.01;\n  text-align: left;\n  font-size: 0.75em;\n  font-weight: bold;\n  margin: 0px;\n}\n\nfb2|body[name="notes"] fb2|p {\n  text-indent: 0px;\n  display: inline; /* for now */\n}\n\nfb2|body[name="notes"] fb2|p + fb2|p {\n  display: block;\n}\n\nfb2|body[name="notes"] fb2|section {\n  text-indent: 0px;\n  line-height: 1.2;\n  font-size: 1.2em;\n}\n',i,n,null,null).thenFinish(e),e.result()},"uaStylesheetBaseFetcher");class Zu{constructor(e,t,n,i,o,s,r,a,l,h){this.store=e,this.rootScope=t,this.pageScope=n,this.cascade=i,this.rootBox=o,this.fontFaces=s,this.footnoteProps=r,this.flowProps=a,this.viewportProps=l,this.pageProps=h,this.fontDeobfuscator=e.fontDeobfuscator,this.validatorSet=e.validatorSet,this.pageScope.defineBuiltIn("has-content",(function(e){e=e;const t=this.currentLayoutPosition,n=t.firstFlowChunkOfFlow(e);return this.matchPageSide(t.startSideOfFlow(e))&&t.hasContent(e,this.lookupOffset)&&!!n&&!this.flowChunkIsAfterParentFlowForcedBreak(n)})),this.pageScope.defineName("page-number",new it(this.pageScope,(function(){return this.pageNumberOffset+this.currentLayoutPosition.page}),"page-number"))}sizeViewport(e,t,n,i){if(this.viewportProps.length){const o=new Ae(this.rootScope,e,t,n),s=function(e,t){const n={};for(let i=0;i<t.length;i++)Zo(e,n,t[i],0,null,null,null);return n}(o,this.viewportProps),r=s.width,a=s.height,l=s["text-zoom"];let h=1;if(r&&a||l){const s=Ie.em;if((l?l.evaluate(o,"text-zoom"):null)===Bt.scale&&(h=s/n,n=s,e*=h,t*=h),r&&a){const e=Dt(r.evaluate(o,"width"),o),t=Dt(a.evaluate(o,"height"),o);if(e>0&&t>0)return{width:i&&i.spreadView?2*(e+i.pageBorder):e,height:t,fontSize:n}}}}return{width:e,height:t,fontSize:n}}}class Qu extends Ae{constructor(e,t,n,i,o,s,r,a,l,h,c,u){super(e.rootScope,i.width,i.height,i.fontSize),this.style=e,this.xmldoc=t,this.viewport=i,this.clientLayout=o,this.fontMapper=s,this.customRenderer=r,this.fallbackMap=a,this.pageNumberOffset=l,this.documentURLTransformer=h,this.counterStore=c,this.primaryFlows={body:!0},this.rootPageBoxInstance=null,this.styler=null,this.stylerMap=null,this.currentLayoutPosition=null,this.layoutPositionAtPageStart=null,this.lookupOffset=0,this.pageBoxInstances={},this.pageManager=null,this.pageBreaks={},this.pageProgression=null,this.pageSheetSize={},this.pageSheetHeight=0,this.pageSheetWidth=0,this.lang=t.lang||n,this.faces=new bc(this.style.fontDeobfuscator),this.rootPageFloatLayoutContext=new xa(null,null,null,null,null,null,null),this.pageProgression=u||null;for(const t in e.flowProps){const n=$o(e.flowProps[t],"flow-consume");n&&(n.evaluate(this,"flow-consume")==Bt.all?this.primaryFlows[t]=!0:delete this.primaryFlows[t])}}init(){const e=this,t=pi("StyleInstance.init"),n=e.counterStore.createCounterListener(e.xmldoc.url),i=e.counterStore.createCounterResolver(e.xmldoc.url,e.style.rootScope,e.style.pageScope);e.styler=new Ah(e.xmldoc,e.style.cascade,e.style.rootScope,e,this.primaryFlows,e.style.validatorSet,n,i),i.setStyler(e.styler),e.styler.resetFlowChunkStream(e),e.stylerMap={},e.stylerMap[e.xmldoc.url]=e.styler;const o=e.styler.getTopContainerStyle();e.pageProgression||(e.pageProgression=Xc(o));const s=this.style.rootBox;this.rootPageBoxInstance=new Mc(s);const r=this.style.cascade.createInstance(e,n,i,this.lang);this.rootPageBoxInstance.applyCascadeAndInit(r,o),this.rootPageBoxInstance.resolveAutoSizing(e),this.pageManager=new yu(r,this.style.pageScope,this.rootPageBoxInstance,e,o);const a=[];for(const t of e.style.fontFaces){if(t.condition&&!t.condition.evaluate(e))continue;const n=gc(t.properties,e),i=new mc(n);a.push(i)}e.fontMapper.findOrLoadFonts(a,e.faces).thenFinish(t);const l=e.style.pageProps;return Object.keys(l).forEach(e=>{const t=Jc(Qc(l[e]),this);this.pageSheetSize[e]={width:t.pageWidth+2*t.cropOffset,height:t.pageHeight+2*t.cropOffset}}),t.result()}getStylerForDoc(e){let t=this.stylerMap[e.url];if(!t){const n=this.style.store.getStyleForDoc(e),i=new Ae(n.rootScope,this.pageWidth(),this.pageHeight(),this.initialFontSize),o=this.counterStore.createCounterListener(e.url),s=this.counterStore.createCounterResolver(e.url,n.rootScope,n.pageScope);t=new Ah(e,n.cascade,n.rootScope,i,this.primaryFlows,n.validatorSet,o,s),this.stylerMap[e.url]=t}return t}registerInstance(e,t){this.pageBoxInstances[e]=t}lookupInstance(e){return this.pageBoxInstances[e]}encounteredFlowChunk(e,t){const n=this.currentLayoutPosition;if(n){n.flows[e.flowName]?t=n.flows[e.flowName]:n.flows[e.flowName]=t;let i=n.flowPositions[e.flowName];i||(i=new ga,n.flowPositions[e.flowName]=i);const o=function(e){return{steps:[{node:e,shadowType:la.NONE,shadowContext:null,nodeShadow:null,shadowSibling:null,formattingContext:null,fragmentIndex:0}],offsetInNode:0,after:!1,preprocessedTextContent:null}}(e.element),s=new pa(o),r=new fa(s,e);i.positions.push(r)}}getConsumedOffset(e){let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.positions.length;n++){const i=e.positions[n].chunkPosition.primary;let o=i.steps[0].node,s=i.offsetInNode,r=i.after,a=0;for(;o.ownerDocument!=this.xmldoc.document;)a++,o=i.steps[a].node,r=!1,s=0;const l=this.xmldoc.getNodeOffset(o,s,r);l<t&&(t=l)}return t}getPosition(e,t){if(!e)return 0;let n=Number.POSITIVE_INFINITY;for(const i in this.primaryFlows){let o=e.flowPositions[i];if(t||o&&0!=o.positions.length||!this.currentLayoutPosition||(this.styler.styleUntilFlowIsReached(i),o=this.currentLayoutPosition.flowPositions[i],e!=this.currentLayoutPosition&&o&&(o=o.clone(),e.flowPositions[i]=o)),o){const e=this.getConsumedOffset(o);e<n&&(n=e)}}return n}dumpLocation(e){h.debug("Location - page",this.currentLayoutPosition.page),h.debug("  current:",e),h.debug("  lookup:",this.lookupOffset);for(const e in this.currentLayoutPosition.flowPositions){const t=this.currentLayoutPosition.flowPositions[e];for(const n of t.positions)h.debug("  Chunk",`${e}:`,n.flowChunk.startOffset)}}matchPageSide(e){switch(e){case"left":case"right":case"recto":case"verso":return new tt(this.style.pageScope,`${e}-page`).evaluate(this);default:return!0}}updateStartSide(e){for(const t in e.flowPositions){const n=e.flowPositions[t];if(n&&n.positions.length>0){const e=n.positions[0].flowChunk;if(this.getConsumedOffset(n)===e.startOffset){const e=n.positions[0].flowChunk.breakBefore,t=Ua(n.startSide);n.startSide=Ma(Ba(t,e))}}}}selectPageMaster(e){const t=this,n=this.currentLayoutPosition,i=this.getPosition(n);if(i==Number.POSITIVE_INFINITY)return null;const o=this.rootPageBoxInstance.children;let s;for(let r=0;r<o.length;r++){if(s=o[r],s.pageBox.pseudoName===hu)continue;let a=1;const l=s.getProp(t,"utilization");l&&l.isNum()&&(a=l.num);const h=t.queryUnitSize("em",!1),c=t.pageWidth()*t.pageHeight(),u=Math.ceil(a*c/(h*h));this.lookupOffset=this.styler.styleUntil(i,u),this.updateStartSide(n),this.layoutPositionAtPageStart=n.clone(),this.initLingering(),t.clearScope(this.style.pageScope);const d=s.getProp(t,"enabled");if(!d||d===Bt._true)return this.pageManager.getPageRulePageMaster(s,e)}throw new Error("No enabled page masters")}flowChunkIsAfterParentFlowForcedBreak(e){const t=this.layoutPositionAtPageStart.flows,n=t[e.flowName].parentFlowName;if(n){const i=e.startOffset,o=t[n].forcedBreakOffsets;if(!o.length||i<o[0])return!1;const s=Z(o.length,e=>o[e]>i)-1,r=o[s],a=this.layoutPositionAtPageStart.flowPositions[n],l=this.getConsumedOffset(a);return!(r<l)&&(l<r||!this.matchPageSide(a.startSide))}return!1}setFormattingContextToColumn(e,t){const n=this.currentLayoutPosition.flows[t];n.formattingContext||(n.formattingContext=new il(null)),e.flowRootFormattingContext=n.formattingContext}layoutDeferredPageFloats(e){const t=e.pageFloatLayoutContext,n=t.getDeferredPageFloatContinuations(),i=pi("layoutDeferredPageFloats");let o=!1,s=0;return i.loopWithFrame(i=>{if(s===n.length)return void i.breakLoop();const r=n[s++],a=r.float,l=(new Pa).findByFloat(a),h=l.findPageFloatFragment(a,t);if(!h||!h.hasFloat(a))return t.isForbidden(a)||t.hasPrecedingFloatsDeferredToNext(a)?(t.deferPageFloat(r),void i.breakLoop()):void e.layoutPageFloatInner(r,l,null,h).then(e=>{if(!e)return void i.breakLoop();const n=t.parent.isInvalidated();n?i.breakLoop():(t.isInvalidated()&&!n&&(o=!0,t.validate()),i.continueLoop())});i.continueLoop()}).then(()=>{o&&t.invalidate(),i.finish(!0)}),i.result()}getLastAfterPositionIfDeferredFloatsExists(e,t){if(e.pageFloatLayoutContext.getPageFloatContinuationsDeferredToNext().length>0){if(e.lastAfterPosition){let n;return t?(n=t.clone(),n.primary=e.lastAfterPosition):n=new pa(e.lastAfterPosition),n}return null}return null}layoutColumn(e,t){const n=this.currentLayoutPosition.flowPositions[t];if(!n||!this.matchPageSide(n.startSide))return fi(!0);n.startSide="any",this.setFormattingContextToColumn(e,t),e.init(),this.primaryFlows[t]&&e.bands.length>0&&(e.forceNonfitting=!1);const i=this,o=pi("layoutColumn");return this.layoutDeferredPageFloats(e).then(()=>{if(e.pageFloatLayoutContext.isInvalidated())return void o.finish(!0);const s=[],r=[];let a=!0;o.loopWithFrame(o=>{if(e.pageFloatLayoutContext.hasContinuingFloatFragmentsInFlow(t))o.breakLoop();else{for(;n.positions.length-r.length>0;){let t=0;for(;r.includes(t);)t++;let l=n.positions[t];if(l.flowChunk.startOffset>i.lookupOffset||i.flowChunkIsAfterParentFlowForcedBreak(l.flowChunk))break;for(let e=t+1;e<n.positions.length;e++){if(r.includes(e))continue;const o=n.positions[e];if(o.flowChunk.startOffset>i.lookupOffset||i.flowChunkIsAfterParentFlowForcedBreak(o.flowChunk))break;o.flowChunk.isBetter(l.flowChunk)&&(l=o,t=e)}const h=l.flowChunk;let c=!0;if(e.layout(l.chunkPosition,a,n.breakAfter).then(u=>{if(e.pageFloatLayoutContext.isInvalidated())o.breakLoop();else{if(a=!1,l.flowChunk.repeated&&(null===u||h.exclusive)&&s.push(t),h.exclusive)return r.push(t),void o.breakLoop();{const a=!!u||!!e.pageBreakType,h=i.getLastAfterPositionIfDeferredFloatsExists(e,u);if(e.pageBreakType&&h?(l.chunkPosition=h,n.breakAfter=e.pageBreakType,e.pageBreakType=null):(r.push(t),(u||h)&&(l.chunkPosition=u||h,s.push(t)),e.pageBreakType&&(n.startSide=Ma(e.pageBreakType))),a)return void o.breakLoop()}e.forceNonfitting=!1,c?c=!1:o.continueLoop()}}),c)return void(c=!1)}o.breakLoop()}}).then(()=>{if(!e.pageFloatLayoutContext.isInvalidated()){n.positions=n.positions.filter((e,t)=>s.includes(t)||!r.includes(t)),"column"===n.breakAfter&&(n.breakAfter=null),e.saveDistanceToBlockEndFloats();const t=e.pageFloatLayoutContext.getMaxReachedAfterEdge();e.updateMaxReachedAfterEdge(t)}o.finish(!0)})}),o.result()}createLayoutConstraint(e){const t=this.currentLayoutPosition.page-1,n=this.counterStore.createLayoutConstraint(t);return new Cl([n].concat(e.getLayoutConstraints()))}createAndLayoutColumn(e,t,n,i,o,s,r,a,l,h,c,u,d,p){const f=this,g=e.vertical?e.isAutoWidth&&e.isRightDependentOnAutoWidth:e.isAutoHeight&&e.isTopDependentOnAutoHeight,m=o.element,b=new xa(a,ya.COLUMN,null,r,null,null,null),w=f.currentLayoutPosition.clone(),E=pi("createAndLayoutColumn");let y;return E.loopWithFrame(e=>{const E=f.createLayoutConstraint(b);if(l>1){const e=f.viewport.document.createElement("div");if(U(e,"position","absolute"),m.appendChild(e),y=new Il(e,d,f.clientLayout,E,b),y.forceNonfitting=p,y.vertical=o.vertical,y.snapHeight=o.snapHeight,y.snapWidth=o.snapWidth,o.vertical){const e=s*(c+h)+o.paddingTop;y.setHorizontalPosition(o.paddingLeft,o.width),y.setVerticalPosition(e,c)}else{const e=s*(c+h)+o.paddingLeft;y.setVerticalPosition(o.paddingTop,o.height),y.setHorizontalPosition(e,c)}y.originX=t,y.originY=n}else y=new Il(m,d,f.clientLayout,E,b),y.copyFrom(o);y.exclusions=g?[]:i.concat(),y.innerShape=u,b.setContainer(y),y.width>=0?f.layoutColumn(y,r).then(()=>{b.isInvalidated()||b.finish(),y.pageFloatLayoutContext.isInvalidated()&&!a.isInvalidated()?(y.pageFloatLayoutContext.validate(),f.currentLayoutPosition=w.clone(),y.element!==m&&m.removeChild(y.element),e.continueLoop()):e.breakLoop()}):(b.finish(),e.breakLoop())}).then(()=>{E.finish(y)}),E.result()}setPagePageFloatLayoutContextContainer(e,t,n){(t instanceof wu||t instanceof Uc&&!(t instanceof fu))&&e.setContainer(n)}getRegionPageFloatLayoutContext(e,t,n,i){const o=t.getProp(this,"writing-mode")||null,s=t.getProp(this,"direction")||null;return new xa(e,ya.REGION,n,i,null,o,s)}layoutFlowColumnsWithBalancing(e,t,n,i,o,s,r,a,l){const h=this,c=h.currentLayoutPosition.clone(),u=h.getRegionPageFloatLayoutContext(s,t,r,a);let d=!0;function p(){return h.currentLayoutPosition=c.clone(),h.layoutFlowColumns(e,t,n,i,o,s,u,r,a,l,d).thenAsync(e=>fi(e?{columns:e,position:h.currentLayoutPosition}:null))}return p().thenAsync(e=>{if(!e)return fi(null);if(l<=1)return fi(e.columns);const n=t.getProp(h,"column-fill")||Bt.balance,i=h.currentLayoutPosition.flowPositions[a],o=function(e,t,n,i,o,s,r){if(t===Bt.auto)return null;{const a=0===r.positions.length,l=s[s.length-1],h=!(!l||!l.pageBreakType);return a||h?new Nh(n,i,o,e):t===Bt.balance_all?new Ch(n,i,o):null}}(l,n,p,u,r,e.columns,i);return o?(d=!1,s.lock(),u.lock(),o.balanceColumns(e).thenAsync(e=>(s.unlock(),s.validate(),u.unlock(),h.currentLayoutPosition=e.position,fi(e.columns)))):fi(e.columns)})}layoutFlowColumns(e,t,n,i,o,s,r,a,l,h,c){const u=this,d=pi("layoutFlowColumns"),p=u.currentLayoutPosition.clone(),f=t.getPropAsNumber(u,"column-gap"),g=h>1?t.getPropAsNumber(u,"column-width"):a.width,m=t.getActiveRegions(u),b=bn(t.getProp(u,"shape-inside"),0,0,a.width,a.height,u),w=new _u(l,u,u.viewport,u.styler,m,u.xmldoc,u.faces,u.style.footnoteProps,u,e,u.customRenderer,u.fallbackMap,this.documentURLTransformer);let E=0,y=null,S=[];return d.loopWithFrame(e=>{u.createAndLayoutColumn(t,n,i,o,a,E++,l,r,h,f,g,b,w,c).then(t=>s.isInvalidated()?(S=null,void e.breakLoop()):(!(t.pageBreakType&&"column"!==t.pageBreakType)&&E!==h||r.isInvalidated()||r.finish(),r.isInvalidated()?(E=0,u.currentLayoutPosition=p.clone(),r.validate(),void(r.isLocked()?(S=null,e.breakLoop()):e.continueLoop())):(y=t,S[E-1]=y,y.pageBreakType&&"column"!=y.pageBreakType&&(E=h,"region"!=y.pageBreakType&&(u.pageBreaks[l]=!0)),void(E<h?e.continueLoop():e.breakLoop()))))}).then(()=>{d.finish(S)}),d.result()}layoutContainer(e,t,n,i,o,s,r){const a=this;t.reset();const l=t.getProp(a,"enabled");if(l&&l!==Bt._true)return fi(!0);const h=pi("layoutContainer"),c=t.getProp(a,"wrap-flow")===Bt.auto,u=t.getProp(a,"flow-from"),d=a.viewport.document.createElement("div"),p=t.getProp(a,"position");U(d,"position",p?p.name:"absolute"),n.insertBefore(d,n.firstChild);let f,g=new ba(d);g.vertical=t.vertical,g.exclusions=s,t.prepareContainer(a,g,e,a.faces,a.clientLayout),g.originX=i,g.originY=o,i+=g.left+g.marginLeft+g.borderLeft,o+=g.top+g.marginTop+g.borderTop,this.setPagePageFloatLayoutContextContainer(r,t,g);let m=!1;if(u&&u.isIdent())if(a.pageBreaks[u.toString()])r.isInvalidated()||t.finishContainer(a,g,e,null,1,a.clientLayout,a.faces),f=fi(!0);else{const n=pi("layoutContainer.inner"),l=u.toString(),h=t.getPropAsNumber(a,"column-count");a.layoutFlowColumnsWithBalancing(e,t,i,o,s,r,g,l,h).then(i=>{if(!r.isInvalidated()){const n=i[0];n.element===d&&(g=n),g.computedBlockSize=Math.max.apply(null,i.map(e=>e.computedBlockSize)),t.finishContainer(a,g,e,n,h,a.clientLayout,a.faces);const o=a.currentLayoutPosition.flowPositions[l];o&&"region"===o.breakAfter&&(o.breakAfter=null)}n.finish(!0)}),f=n.result()}else{const i=t.getProp(a,"content");if(i&&Ea(i)){let n="span";i.url&&(n="img");const o=a.viewport.document.createElement(n);i.visit(new wa(o,a,i,a.counterStore.getExprContentListener())),d.appendChild(o),"img"==n&&t.transferSinglUriContentProps(a,o,a.faces),t.transferContentProps(a,g,e,a.faces)}else t.suppressEmptyBoxGeneration&&(n.removeChild(d),m=!0);m||t.finishContainer(a,g,e,null,1,a.clientLayout,a.faces),f=fi(!0)}return f.then(()=>{if(r.isInvalidated())return void h.finish(!0);if(!t.isAutoHeight||Math.floor(g.computedBlockSize)>0){if(!m&&!c){const e=t.getProp(a,"shape-outside"),n=g.getOuterShape(e,a);s.push(n)}}else if(0==t.children.length)return n.removeChild(d),void h.finish(!0);let l=t.children.length-1;h.loop(()=>{for(;l>=0;){const n=t.children[l--],h=a.layoutContainer(e,n,d,i,o,s,r);if(h.isPending())return h.thenAsync(()=>fi(!r.isInvalidated()));if(r.isInvalidated())break}return fi(!1)}).then(()=>{h.finish(!0)})}),h.result()}processLinger(){const e=this.currentLayoutPosition.page;for(const t in this.currentLayoutPosition.flowPositions){const n=this.currentLayoutPosition.flowPositions[t];for(let t=n.positions.length-1;t>=0;t--){const i=n.positions[t];i.flowChunk.startPage>=0&&i.flowChunk.startPage+i.flowChunk.linger-1<=e&&n.positions.splice(t,1)}}}initLingering(){const e=this.currentLayoutPosition.page;for(const t in this.currentLayoutPosition.flowPositions){const n=this.currentLayoutPosition.flowPositions[t];for(let t=n.positions.length-1;t>=0;t--){const i=n.positions[t];i.flowChunk.startPage<0&&i.flowChunk.startOffset<this.lookupOffset&&(i.flowChunk.startPage=e)}}}noMorePrimaryFlows(e){for(const t in this.primaryFlows){const n=e.flowPositions[t];if(n&&n.positions.length>0)return!1}return!0}layoutNextPage(e,n){const i=this,o=e.container===e.bleedBox;i.pageBreaks={},n?(i.currentLayoutPosition=n.clone(),i.styler.replayFlowElementsFromOffset(n.highestSeenOffset)):(i.currentLayoutPosition=new ma,i.styler.replayFlowElementsFromOffset(-1)),this.lang&&e.bleedBox.setAttribute("lang",this.lang),(n=i.currentLayoutPosition).page++,i.clearScope(i.style.pageScope),i.layoutPositionAtPageStart=n.clone();const s=o?{}:i.pageManager.getCascadedPageStyle(),r=i.selectPageMaster(s);if(!r)return fi(null);let a=0;if(!o){e.setAutoPageWidth(r.pageBox.specified.width.value===Ut),e.setAutoPageHeight(r.pageBox.specified.height.value===zt),i.counterStore.setCurrentPage(e),i.counterStore.updatePageCounters(s,i);const t=Jc(Qc(s),this);i.setPageSizeAndBleed(t,e),ou(s,t,e,this),a=t.bleedOffset+t.bleed}const l=!o&&r.getProp(i,"writing-mode")||Bt.horizontal_tb;this.pageVertical=l!=Bt.horizontal_tb;const h=r.getProp(i,"direction")||Bt.ltr,c=new xa(i.rootPageFloatLayoutContext,ya.PAGE,null,null,null,l,h),u=pi("layoutNextPage");return u.loopWithFrame(t=>{i.layoutContainer(e,r,e.bleedBox,a,a,[],c).then(()=>{c.isInvalidated()||c.finish(),c.isInvalidated()?(i.currentLayoutPosition=i.layoutPositionAtPageStart.clone(),c.validate(),t.continueLoop()):t.breakLoop()})}).then(()=>{if(r.adjustPageLayout(i,e,i.clientLayout),!o){const o=new tt(r.pageBox.scope,"left-page");e.side=o.evaluate(i)?t.PageSide.LEFT:t.PageSide.RIGHT,i.processLinger(),n=i.currentLayoutPosition,Object.keys(n.flowPositions).forEach(e=>{const t=n.flowPositions[e],o=t.breakAfter;!o||"page"!==o&&i.matchPageSide(o)||(t.breakAfter=null)})}i.currentLayoutPosition=i.layoutPositionAtPageStart=null,n.highestSeenOffset=i.styler.getReachedOffset();const s=i.style.store.getTriggersForDoc(i.xmldoc);e.finish(s,i.clientLayout),i.noMorePrimaryFlows(n)&&(n=null),u.finish(n)}),u.result()}setPageSizeAndBleed(e,t){this.actualPageWidth=e.pageWidth,this.actualPageHeight=e.pageHeight,this.pageSheetWidth=e.pageWidth+2*e.cropOffset,this.pageSheetHeight=e.pageHeight+2*e.cropOffset,t.container.style.width=`${this.pageSheetWidth}px`,t.container.style.height=`${this.pageSheetHeight}px`,t.bleedBox.style.left=`${e.bleedOffset}px`,t.bleedBox.style.right=`${e.bleedOffset}px`,t.bleedBox.style.top=`${e.bleedOffset}px`,t.bleedBox.style.bottom=`${e.bleedOffset}px`,t.bleedBox.style.padding=`${e.bleed}px`,t.bleedBox.style.paddingTop=`${e.bleed+.01}px`}}class Ju extends Qs{constructor(e,t,n,i){super(e.rootScope,e,t,n,i,e.validatorSet,!n),this.masterHandler=e,this.insideRegion=!1}startPageTemplateRule(){}startPageMasterRule(e,t,n){const i=new vc(this.masterHandler.pageScope,e,t,n,this.masterHandler.rootBox,this.condition,this.owner.getBaseSpecificity());this.masterHandler.pushHandler(new Wc(i.scope,this.masterHandler,i,this.validatorSet))}startWhenRule(e){let t=e.expr;null!=this.condition&&(t=ht(this.scope,this.condition,t)),this.masterHandler.pushHandler(new Ju(this.masterHandler,t,this,this.regionId))}startDefineRule(){this.masterHandler.pushHandler(new nr(this.scope,this.owner))}startFontFaceRule(){const e={};this.masterHandler.fontFaces.push({properties:e,condition:this.condition}),this.masterHandler.pushHandler(new ir(this.scope,this.owner,null,e,this.masterHandler.validatorSet))}startFlowRule(e){let t=this.masterHandler.flowProps[e];t||(t={},this.masterHandler.flowProps[e]=t),this.masterHandler.pushHandler(new ir(this.scope,this.owner,null,t,this.masterHandler.validatorSet))}startViewportRule(){const e={};this.masterHandler.viewportProps.push(e),this.masterHandler.pushHandler(new ir(this.scope,this.owner,this.condition,e,this.masterHandler.validatorSet))}startFootnoteRule(e){let t=this.masterHandler.footnoteProps;if(e){const n=jo(t,"_pseudos");t=n[e],t||(t={},n[e]=t)}this.masterHandler.pushHandler(new ir(this.scope,this.owner,null,t,this.masterHandler.validatorSet))}startRegionRule(){this.insideRegion=!0,this.startSelectorRule()}startPageRule(){const e=new Pu(this.masterHandler.pageScope,this.masterHandler,this,this.validatorSet,this.masterHandler.pageProps);this.masterHandler.pushHandler(e),e.startPageRule()}startRuleBody(){if(Qs.prototype.startRuleBody.call(this),this.insideRegion){this.insideRegion=!1;const e=`R${this.masterHandler.regionCount++}`;this.special("region-id",Ct(e)),this.endRule();const t=new Ju(this.masterHandler,this.condition,this,e);this.masterHandler.pushHandler(t),t.startRuleBody()}}}function ed(e){let t=e.getAttribute("content");if(!t)return"";const n={};let i;for(;null!=(i=t.match(/^,?\s*([-A-Za-z_.][-A-Za-z_0-9.]*)\s*=\s*([-+A-Za-z_0-9.]*)\s*/));)t=t.substr(i[0].length),n[i[1]]=i[2];const o=n.width-0,s=n.height-0;return o&&s?`@-epubx-viewport{width:${o}px;height:${s}px;}`:""}class td extends Wi{constructor(e){super(),this.validatorSet=e,this.regionCount=0,this.fontFaces=[],this.footnoteProps={},this.flowProps={},this.viewportProps=[],this.pageProps={},this.rootScope=new Te(null),this.pageScope=new Te(this.rootScope),this.rootBox=new Sc(this.rootScope),this.cascadeParserHandler=new Ju(this,null,null,null),this.slave=this.cascadeParserHandler}error(e,t){h.warn("CSS parser:",e)}}function nd(e,t){return t.parseOPSResource(e)}class id extends Li{constructor(e){super(nd,Ai.DOCUMENT),this.fontDeobfuscator=e,this.styleByKey={},this.styleFetcherByKey={},this.styleByDocURL={},this.triggersByDocURL={},this.validatorSet=null,this.styleSheets=[],this.triggerSingleDocumentPreprocessing=!1}init(e,t){this.setStyleSheets(e,t);const n=O("user-agent.xml",P),i=pi("OPSDocStore.init");return this.validatorSet=uc(),qu.get().then(()=>{this.load(n).then(()=>{this.triggerSingleDocumentPreprocessing=!0,i.finish(!0)})}),i.result()}getStyleForDoc(e){return this.styleByDocURL[e.url]}getTriggersForDoc(e){return this.triggersByDocURL[e.url]}setStyleSheets(e,t){this.clearStyleSheets(),e&&e.forEach(this.addAuthorStyleSheet,this),t&&t.forEach(this.addUserStyleSheet,this)}clearStyleSheets(){this.styleSheets.splice(0)}addAuthorStyleSheet(e){let t=e.url;t&&(t=O(R(t),x)),this.styleSheets.push({url:t,text:e.text,flavor:Hi.AUTHOR,classes:null,media:null})}addUserStyleSheet(e){let t=e.url;t&&(t=O(R(t),x)),this.styleSheets.push({url:t,text:e.text,flavor:Hi.USER,classes:null,media:null})}parseOPSResource(e){const n=pi("OPSDocStore.load"),i=this,o=e.url,s=o.endsWith("?viv-toc-box");return Wu(e,i).then(e=>{if(!e)return void n.finish(null);if(i.triggerSingleDocumentPreprocessing){const n=p(t.HOOKS.PREPROCESS_SINGLE_DOCUMENT);for(let t=0;t<n.length;t++)try{n[t](e.document)}catch(e){h.warn("Error during single document preprocessing:",e)}}const r=[],a=e.document.getElementsByTagNameNS(k.epub,"trigger");for(let e=0;e<a.length;e++){const t=a[e],n=t.getAttributeNS(k.EV,"observer"),i=t.getAttributeNS(k.EV,"event"),o=t.getAttribute("action"),s=t.getAttribute("ref");n&&i&&o&&s&&r.push({observer:n,event:i,action:o,ref:s})}i.triggersByDocURL[o]=r;const l=[],c=O("user-agent-page.css",P);l.push({url:c,text:Yu,flavor:Hi.USER_AGENT,classes:null,media:null});const u=e.head;if(!s&&u)for(let e=u.firstChild;e;e=e.nextSibling){if(1!=e.nodeType)continue;const t=e,n=t.namespaceURI,i=t.localName;if(n==k.XHTML)if("style"==i){const e=t.getAttribute("class"),n=t.getAttribute("media"),i=t.getAttribute("title");l.push({url:o,text:t.textContent,flavor:Hi.AUTHOR,classes:i?e:null,media:n})}else if("link"==i){const e=t.getAttribute("rel"),n=t.getAttribute("class"),i=t.getAttribute("media");if("stylesheet"==e||"alternate stylesheet"==e&&n){let e=t.getAttribute("href");e=O(e,o);const s=t.getAttribute("title");l.push({url:e,text:null,classes:s?n:null,media:i,flavor:Hi.AUTHOR})}}else"meta"==i&&"viewport"==t.getAttribute("name")&&l.push({url:o,text:ed(t),flavor:Hi.AUTHOR,classes:null,media:null});else if(n==k.FB2)"stylesheet"==i&&"text/css"==t.getAttribute("type")&&l.push({url:o,text:t.textContent,flavor:Hi.AUTHOR,classes:null,media:null});else if(n==k.SSE&&"property"===i){const e=t.getElementsByTagName("name")[0];if(e&&"stylesheet"===e.textContent){const e=t.getElementsByTagName("value")[0];if(e){const t=O(e.textContent,o);l.push({url:t,text:null,classes:null,media:null,flavor:Hi.AUTHOR})}}}}if(!s)for(let e=0;e<i.styleSheets.length;e++)l.push(i.styleSheets[e]);let d="";for(let e=0;e<l.length;e++)d+=l[e].url,d+="^",l[e].text&&(d+=l[e].text),d+="^";let f=i.styleByKey[d];if(f)return i.styleByDocURL[o]=f,void n.finish(e);let g=i.styleFetcherByKey[d];g||(g=new xi(()=>{const e=pi("fetchStylesheet");let t=0;const n=new td(i.validatorSet);return e.loop(()=>{if(t<l.length){const e=l[t++];return n.startStylesheet(e.flavor),null!==e.text?fo(e.text,n,e.url,e.classes,e.media).thenReturn(!0):go(e.url,n,e.classes,e.media)}return fi(!1)}).then(()=>{const t=n.cascadeParserHandler.finish();f=new Zu(i,n.rootScope,n.pageScope,t,n.rootBox,n.fontFaces,n.footnoteProps,n.flowProps,n.viewportProps,n.pageProps),i.styleByKey[d]=f,delete i.styleFetcherByKey[d],e.finish(f)}),e.result()},`FetchStylesheet ${o}`),i.styleFetcherByKey[d]=g,g.start()),g.get().then(t=>{i.styleByDocURL[o]=t,n.finish(e)})}),n.result()}}function od(e){return String.fromCharCode(e>>>24&255,e>>>16&255,e>>>8&255,255&e)}function sd(e){return(255&e.charCodeAt(0))<<24|(255&e.charCodeAt(1))<<16|(255&e.charCodeAt(2))<<8|255&e.charCodeAt(3)}function rd(e){const t=new H;t.append(e);let n=55-e.length&63;for(t.append("");n>0;)n--,t.append("\0");t.append("\0\0\0\0"),t.append(od(8*e.length)),e=t.toString();const i=[1732584193,4023233417,2562383102,271733878,3285377520],o=[];let s;for(let t=0;t<e.length;t+=64){for(s=0;s<16;s++)o[s]=sd(e.substr(t+4*s,4));for(;s<80;s++){const e=o[s-3]^o[s-8]^o[s-14]^o[s-16];o[s]=e<<1|e>>>31}let n,r=i[0],a=i[1],l=i[2],h=i[3],c=i[4];for(s=0;s<80;s++)n=s<20?1518500249+(a&l|~a&h):s<40?1859775393+(a^l^h):s<60?2400959708+(a&l|a&h|l&h):3395469782+(a^l^h),n+=(r<<5|r>>>27)+c+o[s],c=h,h=l,l=a<<30|a>>>2,a=r,r=n;i[0]=i[0]+r|0,i[1]=i[1]+a|0,i[2]=i[2]+l|0,i[3]=i[3]+h|0,i[4]=i[4]+c|0}return i}function ad(e){const t=function(e){const t=rd(e),n=new H;for(let e=0;e<t.length;e++)n.append(od(t[e]));return n.toString()}(e),n=new H;for(let e=0;e<t.length;e++)n.append((256|t.charCodeAt(e)).toString(16).substr(1));return n.toString()}const ld="▸",hd="▾",cd="▹";class ud{constructor(e,t,n,i,o,s,r,a,l,h){this.store=e,this.url=t,this.lang=n,this.clientLayout=i,this.fontMapper=o,this.rendererFactory=r,this.fallbackMap=a,this.documentURLTransformer=l,this.counterStore=h,this.page=null,this.instance=null,this.pref=be(s),this.pref.spreadView=!1}setAutoHeight(e,t){if(0!=t--)for(let n=e.firstChild;n;n=n.nextSibling)if(1==n.nodeType){const e=n;"auto"!=z(e,"height","auto")&&(U(e,"height","auto"),this.setAutoHeight(e,t)),"absolute"==z(e,"position","static")&&(U(e,"position","relative"),this.setAutoHeight(e,t))}}makeCustomRenderer(e){const t=this.rendererFactory.makeCustomRenderer(e);return(e,n,i)=>{const o=i.behavior;if(o)switch(o.toString()){case"body-child":e.parentElement.getAttribute("data-vivliostyle-primary-entry")&&(e.querySelector("[role=doc-toc], [role=directory], nav li a, .toc, #toc")||(i.display=Bt.none));break;case"toc-node-anchor":i.color=Bt.inherit,i["text-decoration"]=Bt.none;break;case"toc-node":i.display=Bt.block,i.margin=Vt,i.padding=Vt,i["padding-inline-start"]=new Tt(1.25,"em");break;case"toc-node-first-child":i.display=Bt.inline_block,i.margin=new Tt(.2,"em"),i["vertical-align"]=Bt.top,i.color=Bt.inherit,i["text-decoration"]=Bt.none}if(!o||"toc-node"!=o.toString()&&"toc-container"!=o.toString())return t(e,n,i);const s=e.firstChild;s&&1!==s.nodeType&&""===s.textContent.trim()&&e.replaceChild(e.ownerDocument.createComment(s.textContent),s);const r=n.getAttribute("data-adapt-class");if("toc-node"==r){const e=n.firstChild;e.textContent!=ld&&(e.textContent=ld,U(e,"cursor","pointer"),e.addEventListener("click",dd,!1),e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),n.setAttribute("aria-expanded","false"),"0px"!==n.style.height&&(e.tabIndex=0))}const a=n.ownerDocument.createElement("div");if(a.setAttribute("data-adapt-process-children","true"),"toc-node"==o.toString()){const t=n.ownerDocument.createElement("div");if(t.textContent=cd,U(t,"margin","0.2em 0 0 -1em"),U(t,"margin-inline-start","-1em"),U(t,"margin-inline-end","0"),U(t,"display","inline-block"),U(t,"width","1em"),U(t,"text-align","center"),U(t,"vertical-align","top"),U(t,"cursor","default"),U(t,"font-family","Menlo,sans-serif"),a.appendChild(t),U(a,"overflow","hidden"),a.setAttribute("data-adapt-class","toc-node"),a.setAttribute("role","treeitem"),"toc-node"==r||"toc-container"==r){U(a,"height","0px");const t=e.firstElementChild;t&&"a"===t.localName&&(t.tabIndex=-1)}else n.setAttribute("role","tree")}else"toc-node"==r&&(a.setAttribute("data-adapt-class","toc-container"),a.setAttribute("role","group"),a.setAttribute("aria-hidden","true"));return fi(a)}}showTOC(e,t,n,i,o){if(this.page)return fi(this.page);const s=this,r=pi("showTOC"),a=new Yr(e,e);this.page=a;const l=this.url+"?viv-toc-box";return this.store.load(l).then(i=>{const l=this.store.resources[this.url];l&&l.body&&l.body.getAttribute("data-vivliostyle-primary-entry")&&i.body.setAttribute("data-vivliostyle-primary-entry",!0);const h=s.store.getStyleForDoc(i),c=h.sizeViewport(n,1e5,o);t=new zu(t.window,c.fontSize,t.root,c.width,c.height);const u=s.makeCustomRenderer(i),d=new Qu(h,i,s.lang,t,s.clientLayout,s.fontMapper,u,s.fallbackMap,0,s.documentURLTransformer,s.counterStore);s.instance=d,d.pref=s.pref,d.init().then(()=>{d.layoutNextPage(a,null).then(()=>{Array.from(a.container.querySelectorAll("[data-vivliostyle-toc-box]>*>*>*>*>*[style*='display: none']")).forEach(e=>{e.setAttribute("aria-hidden","true"),e.setAttribute("hidden","hidden")}),s.setAutoHeight(e,2),r.finish(a)})})}),r.result()}hideTOC(){this.page&&(this.page.container.style.visibility="hidden",this.page.container.setAttribute("aria-hidden","true"))}isTOCVisible(){return!!this.page&&"visible"===this.page.container.style.visibility}}function dd(e){const t=e.target,n=t.textContent==ld;t.textContent=n?hd:ld;const i=t.parentNode;t.setAttribute("aria-expanded",n?"true":"false"),i.setAttribute("aria-expanded",n?"true":"false");let o=i.firstChild;for(;o;){if(1===o.nodeType){const e=o,t=e.getAttribute("data-adapt-class");if("toc-container"===t){if(e.setAttribute("aria-hidden",n?"false":"true"),e.firstChild){o=e.firstChild;continue}}else if("toc-node"===t&&(e.style.height=n?"auto":"0px",e.children.length>=2&&(e.children[1].tabIndex=n?0:-1),e.children.length>=3&&(e.children[0].tabIndex=n?0:-1,!n))){const t=e.children[0];if(t.textContent==hd){t.textContent=ld,t.setAttribute("aria-expanded","false"),e.setAttribute("aria-expanded","false"),o=e.children[2];continue}}}for(;!o.nextSibling&&o.parentNode!==i;)o=o.parentNode;o=o.nextSibling}e.stopPropagation()}class pd extends id{constructor(){super(null),this.opfByURL={},this.primaryOPFByEPubURL={},this.deobfuscators={},this.documents={},this.fontDeobfuscator=this.makeDeobfuscatorFactory(),this.plainXMLStore=new Li(Wu,Ai.DOCUMENT),this.jsonStore=new Li(Fi,Ai.TEXT)}makeDeobfuscatorFactory(){const e=this;return t=>e.deobfuscators[t]}loadAsPlainXML(e,t,n){return this.plainXMLStore.load(e,t,n)}startLoadingAsPlainXML(e){this.plainXMLStore.fetch(e)}loadAsJSON(e,t,n){return this.jsonStore.load(e,t,n)}startLoadingAsJSON(e){this.jsonStore.fetch(e)}loadPubDoc(e,t){const n=pi("loadPubDoc");return Ri(e,null,"HEAD").then(i=>{if(i.status>=400)this.loadEPUBDoc(e,t).then(t=>{t?n.finish(t):(h.error(`Failed to fetch a source document from ${e} (${i.status}${i.statusText?" "+i.statusText:""})`),n.finish(null))});else if(i.status||i.responseXML||i.responseText||i.responseBlob||i.contentType||/\/[^/.]+(?:[#?]|$)/.test(e)&&(e=e.replace(/([#?]|$)/,"/$1")),"application/oebps-package+xml"==i.contentType||/\.opf(?:[#?]|$)/.test(e)){const[,i,o]=e.match(/^((?:.*\/)?)([^/]*)$/);this.loadOPF(i,o,t).thenFinish(n)}else"application/ld+json"==i.contentType||"application/webpub+json"==i.contentType||"application/audiobook+json"==i.contentType||"application/json"==i.contentType||/\.json(?:ld)?(?:[#?]|$)/.test(e)?this.loadAsJSON(e,!0).then(t=>{if(!t)return h.error(`Received an empty response for ${e}. This may be caused by the server not allowing cross-origin resource sharing (CORS).`),void n.finish(null);const i=new Cd(this,e);i.initWithWebPubManifest(t).then(()=>{n.finish(i)})}):this.loadWebPub(e).then(i=>{i?n.finish(i):this.loadEPUBDoc(e,t).then(t=>{t?n.finish(t):(h.error(`Failed to load ${e}.`),n.finish(null))})})}),n.result()}loadEPUBDoc(e,t){const n=pi("loadEPUBDoc");e.endsWith("/")||(e+="/"),t&&this.startLoadingAsJSON(e+"?r=list"),this.startLoadingAsPlainXML(e+"META-INF/encryption.xml");const i=e+"META-INF/container.xml";return this.loadAsPlainXML(i).then(i=>{if(i){const o=i.doc().child("container").child("rootfiles").child("rootfile").attribute("full-path");for(const i of o)if(i)return void this.loadOPF(e,i,t).thenFinish(n);n.finish(null)}}),n.result()}loadOPF(e,t,n){const i=this,o=e+t;let s=i.opfByURL[o];if(s)return fi(s);const r=pi("loadOPF");return i.loadAsPlainXML(o,!0,`Failed to fetch EPUB OPF ${o}`).then(t=>{t?i.loadAsPlainXML(`${e}META-INF/encryption.xml`).then(a=>{(n?i.loadAsJSON(`${e}?r=list`):fi(null)).then(n=>{s=new Cd(i,e),s.initWithXMLDoc(t,a,n,`${e}?r=manifest`).then(()=>{i.opfByURL[o]=s,i.primaryOPFByEPubURL[e]=s,r.finish(s)})})}):h.error(`Received an empty response for EPUB OPF ${o}. This may be caused by the server not allowing cross-origin resource sharing (CORS).`)}),r.result()}loadWebPub(e){const t=pi("loadWebPub");return this.load(e).then(n=>{if(n)if(n.document.querySelector("a[href='META-INF/'],a[href$='/META-INF/']"))t.finish(null);else{const i=n.document,o=new Cd(this,e);i.body&&i.body.setAttribute("data-vivliostyle-primary-entry",!0);const s=i.querySelector("link[rel='publication'],link[rel='manifest'][type='application/webpub+json']");if(s){const n=s.getAttribute("href");if(/^#/.test(n)){const e=C(i.getElementById(n.substr(1)).textContent);o.initWithWebPubManifest(e,i).then(()=>{t.finish(o)})}else this.loadAsJSON(O(s.getAttribute("href"),e)).then(e=>{o.initWithWebPubManifest(e,i).then(()=>{t.finish(o)})})}else o.initWithWebPubManifest({},i).then(()=>{o.xhtmlToc&&o.xhtmlToc.src===n.url&&(i.querySelector("[role=doc-toc], [role=directory], nav, .toc, #toc")||(o.xhtmlToc=null)),t.finish(o)})}else h.error(`Received an empty response for ${e}. This may be caused by the server not allowing cross-origin resource sharing (CORS).`)}),t.result()}addDocument(e,t){const n=pi("EPUBDocStore.load"),i=T(e);return(this.documents[i]=this.parseOPSResource({status:200,statusText:"",url:i,contentType:t.contentType,responseText:null,responseXML:t,responseBlob:null})).thenFinish(n),n.result()}load(e){const t=T(e);let n=this.documents[t];if(n)return n.isPending()?n:fi(n.get());{const e=pi("EPUBDocStore.load");return n=super.load(t,!0,`Failed to fetch a source document from ${t}`),n.then(n=>{n?e.finish(n):t.startsWith("data:")?h.error(`Failed to load ${t}. Invalid data.`):t.startsWith("http:")&&x.startsWith("https:")?h.error(`Failed to load ${t}. Mixed Content ("http:" content on "https:" context) is not allowed.`):h.error(`Received an empty response for ${t}. This may be caused by the server not allowing cross-origin resource sharing (CORS).`)}),e.result()}}}class fd{constructor(){this.id=null,this.src="",this.mediaType=null,this.title=null,this.itemRefElement=null,this.spineIndex=-1,this.compressedSize=0,this.compressed=null,this.epage=0,this.epageCount=0,this.startPage=null,this.skipPagesBefore=null,this.itemProperties=v}initWithElement(e,t){this.id=e.getAttribute("id"),this.src=O(e.getAttribute("href"),t),this.mediaType=e.getAttribute("media-type");const n=e.getAttribute("properties");n&&(this.itemProperties=function(e){const t={};for(let n=0;n<e.length;n++)t[e[n]]=!0;return t}(n.split(/\s+/)))}initWithParam(e){this.spineIndex=e.index,this.id=`item${e.index+1}`,this.src=e.url,this.startPage=e.startPage,this.skipPagesBefore=e.skipPagesBefore}}function gd(e){return e.id}function md(e){const t=function(e){const t=rd(e),n=[];for(const e of t)n.push(e>>>24&255,e>>>16&255,e>>>8&255,255&e);return n}(e);return e=>{const n=pi("deobfuscator");let i,o;return e.slice?(i=e.slice(0,1040),o=e.slice(1040,e.size)):(i=e.webkitSlice(0,1040),o=e.webkitSlice(1040,e.size-1040)),function(e){const t=pi("readBlob"),n=new FileReader,i=t.suspend(n);return n.addEventListener("load",()=>{i.schedule(n.result)},!1),n.readAsArrayBuffer(e),t.result()}(i).then(e=>{const i=new DataView(e);for(let e=0;e<i.byteLength;e++){let n=i.getUint8(e);n^=t[e%20],i.setUint8(e,n)}n.finish(ki([i,o]))}),n.result()}}const bd={dcterms:"http://purl.org/dc/terms/",marc:"http://id.loc.gov/vocabulary/",media:"http://www.idpf.org/epub/vocab/overlays/#",rendition:"http://www.idpf.org/vocab/rendition/#",onix:"http://www.editeur.org/ONIX/book/codelists/current.html#",xsd:"http://www.w3.org/2001/XMLSchema#"},wd="http://idpf.org/epub/vocab/package/#",Ed={language:`${bd.dcterms}language`,title:`${bd.dcterms}title`,creator:`${bd.dcterms}creator`,layout:`${bd.rendition}layout`,titleType:`${wd}title-type`,displaySeq:`${wd}display-seq`,alternateScript:`${wd}alternate-script`};function yd(e,t){const n={};return(i,o)=>{let s,r;const a=i.r||n,l=o.r||n;if(e==Ed.title&&(s="main"==a[Ed.titleType],r="main"==l[Ed.titleType],s!=r))return s?-1:1;let h=parseInt(a[Ed.displaySeq],10);isNaN(h)&&(h=Number.MAX_VALUE);let c=parseInt(l[Ed.displaySeq],10);return isNaN(c)&&(c=Number.MAX_VALUE),h!=c?h-c:e!=Ed.language&&t&&(s=(a[Ed.language]||a[Ed.alternateScript])==t,r=(l[Ed.language]||l[Ed.alternateScript])==t,s!=r)?s?-1:1:i.o-o.o}}function Sd(){const e=window.MathJax;return e?e.Hub:null}const Nd={"application/xhtml+xml":!0,"image/jpeg":!0,"image/png":!0,"image/svg+xml":!0,"image/gif":!0,"audio/mp3":!0},vd="viv-id-";class Cd{constructor(e,t){this.store=e,this.pubURL=t,this.opfXML=null,this.encXML=null,this.items=null,this.spine=null,this.itemMap=null,this.itemMapByPath=null,this.uid=null,this.bindings={},this.lang=null,this.epageCount=0,this.prePaginated=!1,this.epageIsRenderedPage=!0,this.epageCountCallback=null,this.metadata={},this.ncxToc=null,this.xhtmlToc=null,this.cover=null,this.fallbackMap={},this.pageProgression=null,this.documentURLTransformer=this.createDocumentURLTransformer(),Sd()&&(Io[k.MATHML]=!0)}createDocumentURLTransformer(){const e=this;return new class{transformFragment(e,t){return vd+K(t+(e?`#${e}`:""),":")}transformURL(t,n){const i=t.match(/^([^#]*)#?(.*)$/);if(i){const t=i[1]||n,o=i[2];if(t&&e.items.some(e=>e.src===t))return`#${this.transformFragment(o,t)}`}return t}restoreURL(e){"#"===e.charAt(0)&&(e=e.substring(1)),0===e.indexOf(vd)&&(e=e.substring(vd.length));const t=q(e,":").match(/^([^#]*)#?(.*)$/);return t?[t[1],t[2]]:[]}}}getMetadata(){return this.metadata}getPathFromURL(e){if(e.startsWith("data:"))return e===this.pubURL?"":e;if(this.pubURL){let t=O("",this.pubURL);return e===t||e+"/"===t?"":("/"!=t.charAt(t.length-1)&&(t+="/"),e.substr(0,t.length)==t?decodeURI(e.substr(t.length)):null)}return e}initWithXMLDoc(e,t,n,o){const s=this;this.opfXML=e,this.encXML=t;const r=e.doc().child("package"),a=r.attribute("unique-identifier")[0];if(a){const t=e.getElement(`${e.url}#${a}`);t&&(this.uid=t.textContent.replace(/[ \n\r\t]/g,""))}const l={};this.items=r.child("manifest").child("item").asArray().map(t=>{const n=new fd,i=t;n.initWithElement(i,e.url);const o=i.getAttribute("fallback");return o&&!Nd[n.mediaType]&&(l[n.src]=o),!s.xhtmlToc&&n.itemProperties.nav&&(s.xhtmlToc=n),!s.cover&&n.itemProperties["cover-image"]&&(s.cover=n),n}),this.itemMap=J(this.items,gd),this.itemMapByPath=J(this.items,e=>s.getPathFromURL(e.src));for(const e in l){let t=e;for(;;){const n=this.itemMap[l[t]];if(!n)break;if(Nd[n.mediaType]){this.fallbackMap[e]=n.src;break}t=n.src}}this.spine=r.child("spine").child("itemref").asArray().map((e,t)=>{const n=e,i=n.getAttribute("idref"),o=s.itemMap[i];return o&&(o.itemRefElement=n,o.spineIndex=t),o});const h=r.child("spine").attribute("toc")[0];h&&(this.ncxToc=this.itemMap[h]);const c=r.child("spine").attribute("page-progression-direction")[0];c&&(this.pageProgression=i(c));const u=t?t.doc().child("encryption").child("EncryptedData").predicate(ju.withChild("EncryptionMethod",ju.withAttribute("Algorithm","http://www.idpf.org/2008/embedding"))).child("CipherData").child("CipherReference").attribute("URI"):[],d=r.child("bindings").child("mediaType").asArray();for(let e=0;e<d.length;e++){const t=d[e].getAttribute("handler"),n=d[e].getAttribute("media-type");n&&t&&this.itemMap[t]&&(this.bindings[n]=this.itemMap[t].src)}if(this.metadata=function(e,t){let n;if(t){n={};for(const e in bd)n[e]=bd[e];let e;for(;null!=(e=t.match(/^\s*([A-Z_a-z\u007F-\uFFFF][-.A-Z_a-z0-9\u007F-\uFFFF]*):\s*(\S+)/));)t=t.substr(e[0].length),n[e[1]]=e[2]}else n=bd;const i=e=>{if(e){const t=e.match(/^\s*(([^:]*):)?(\S+)\s*$/);if(t){const e=t[2]?n[t[2]]:wd;if(e)return e+t[3]}}return null};let o=1;const s=e.childElements().forEachNonNull(e=>{if("meta"==e.localName){const t=i(e.getAttribute("property"));if(t)return{name:t,value:e.textContent,id:e.getAttribute("id"),order:o++,refines:e.getAttribute("refines"),lang:null,scheme:i(e.getAttribute("scheme"))}}else if(e.namespaceURI==k.DC)return{name:bd.dcterms+e.localName,order:o++,lang:e.getAttribute("xml:lang"),value:e.textContent,id:e.getAttribute("id"),refines:null,scheme:null};return null}),r=ee(s,e=>e.refines),a=e=>(function(e,t){const n={};for(const i in e)n[i]=t(e[i],i);return n})(e,(e,t)=>e.map(e=>{const t={v:e.value,o:e.order};if(e.schema&&(t.s=e.scheme),e.id||e.lang){let n=r[e.id];if(n||e.lang){if(e.lang){const t={name:Ed.language,value:e.lang,lang:null,id:null,refines:e.id,scheme:null,order:e.order};n?n.push(t):n=[t]}const i=ee(n,e=>e.name);t.r=a(i)}}return t})),l=a(ee(s,e=>e.refines?null:e.name));let h=null;l[Ed.language]&&(h=l[Ed.language][0].v);const c=e=>{for(const t in e){const n=e[t];n.sort(yd(t,h));for(let e=0;e<n.length;e++){const t=n[e].r;t&&c(t)}}};return c(l),l}(r.child("metadata"),r.attribute("prefix")[0]),this.metadata[Ed.language]&&(this.lang=this.metadata[Ed.language][0].v),this.metadata[Ed.layout]&&(this.prePaginated="pre-paginated"===this.metadata[Ed.layout][0].v),!n){if(u.length>0&&this.uid){const e=md(this.uid);for(let t=0;t<u.length;t++)this.store.deobfuscators[this.pubURL+u[t]]=e}return this.prePaginated&&this.assignAutoPages(),fi(!0)}const p=new H,f={};if(u.length>0&&this.uid){const e=function(e){return`1040:${ad(e)}`}(this.uid);for(let t=0;t<u.length;t++)f[u[t]]=e}for(let e=0;e<n.length;e++){const t=n[e],i=t.n;if(i){const e=decodeURI(i),n=this.itemMapByPath[e];let o=null;n&&(n.compressed=0!=t.m,n.compressedSize=t.c,n.mediaType&&(o=n.mediaType.replace(/\s+/g,"")));const s=f[e];(o||s)&&(p.append(i),p.append(" "),p.append(o||"application/octet-stream"),s&&(p.append(" "),p.append(s)),p.append("\n"))}}return s.assignAutoPages(),Ri(o,Ai.DEFAULT,"POST",p.toString(),"text/plain")}assignAutoPages(){let e=0;for(const t of this.spine){const n=this.prePaginated?1:Math.ceil(t.compressedSize/1024);t.epage=e,t.epageCount=n,e+=n}this.epageCount=e,this.epageCountCallback&&this.epageCountCallback(this.epageCount)}setEPageCountMode(e){this.epageIsRenderedPage=e||this.prePaginated}countEPages(e){if(this.epageCountCallback=e,this.epageIsRenderedPage)return this.prePaginated&&0==this.epageCount&&this.assignAutoPages(),fi(!0);let t=0,n=0;const i=pi("countEPages");return i.loopWithFrame(e=>{if(n===this.spine.length)return void e.breakLoop();const i=this.spine[n++];i.epage=t,this.store.load(i.src).then(n=>{let o=1800;const s=n.lang||this.lang;s&&s.match(/^(ja|ko|zh)/)&&(o/=3),i.epageCount=Math.ceil(n.getTotalOffset()/o),t+=i.epageCount,this.epageCount=t,this.epageCountCallback&&this.epageCountCallback(this.epageCount),e.continueLoop()})}).thenFinish(i),i.result()}initWithChapters(e,t){this.itemMap={},this.itemMapByPath={},this.items=[],this.spine=this.items;const n=this.opfXML=new Hu(null,"",(new DOMParser).parseFromString("<spine></spine>","text/xml"));return e.forEach(e=>{const t=new fd;t.initWithParam(e);const i=n.document.createElement("itemref");i.setAttribute("idref",t.id),n.root.appendChild(i),t.itemRefElement=i,this.itemMap[t.id]=t;let o=this.getPathFromURL(e.url);null==o&&(o=e.url),this.itemMapByPath[o]=t,this.items.push(t)}),t?this.store.addDocument(e[0].url,t):fi(null)}initWithWebPubManifest(e,t){e.readingProgression&&(this.pageProgression=e.readingProgression),void 0===this.metadata&&(this.metadata={});const n=t&&t.title||e.name||e.metadata&&e.metadata.title;n&&(this.metadata[Ed.title]=[{v:n}]);const i=this.getPathFromURL(this.pubURL);if(!e.readingOrder&&t&&null!==i){e.readingOrder=[encodeURI(i)];const n="[role=doc-toc] a[href],[role=directory] a[href],nav li a[href],.toc a[href],#toc a[href]";Array.from(t.querySelectorAll(n)).forEach(t=>{const n=T(O(t.getAttribute("href"),this.pubURL)),i=this.getPathFromURL(n),o=null!==i?encodeURI(i):n;-1==e.readingOrder.indexOf(o)&&e.readingOrder.push(o)})}const o=[];let s=0,r=-1;[e.readingOrder,e.resources].forEach(t=>{t instanceof Array&&t.forEach(t=>{const n=e.readingOrder.includes(t),i="string"==typeof t?t:t.url||t.href,a="string"==typeof t?"":t.encodingFormat||t.href&&t.type||"";if(n||"text/html"===a||"application/xhtml+xml"===a||/(^|\/)([^/]+\.(x?html|htm|xht)|[^/.]*)([#?]|$)/.test(i)){const e={url:O(R(i),this.pubURL),index:s++,startPage:null,skipPagesBefore:null};"contents"===t.rel&&-1===r&&(r=e.index),o.push(e)}})});const a=pi("initWithWebPubManifest");return this.initWithChapters(o).then(()=>{-1!==r&&(this.xhtmlToc=this.items[r]),this.xhtmlToc||(this.xhtmlToc=this.itemMapByPath[i]),a.finish(!0)}),a.result()}getCFI(e,t){const n=this.spine[e],i=pi("getCFI");return this.store.load(n.src).then(e=>{const o=e.getNodeByOffset(t);let s=null;if(o){const i=e.getNodeOffset(o,0,!1),r=t-i,a=new me;a.prependPathFromNode(o,r,!1,null),n.itemRefElement&&a.prependPathFromNode(n.itemRefElement,0,!1,null),s=a.toString()}i.finish(s)}),i.result()}resolveFragment(e){const t=this;return gi("resolveFragment",n=>{if(!e)return void n.finish(null);let i,o=new me;if(o.fromString(e),t.opfXML){const e=o.navigate(t.opfXML.document);if(1!=e.node.nodeType||e.after||!e.ref)return void n.finish(null);const s=e.node,r=s.getAttribute("idref");if("itemref"!=s.localName||!r||!t.itemMap[r])return void n.finish(null);i=t.itemMap[r],o=e.ref}else i=t.spine[0];t.store.load(i.src).then(e=>{const t=o.navigate(e.document),s=e.getNodeOffset(t.node,t.offset,t.after);n.finish({spineIndex:i.spineIndex,offsetInItem:s,pageIndex:-1})})},(t,n)=>{h.warn(n,"Cannot resolve fragment:",e),t.finish(null)})}resolveEPage(e){const t=this;return gi("resolveEPage",n=>{if(e<=0)return void n.finish({spineIndex:0,offsetInItem:0,pageIndex:-1});if(t.epageIsRenderedPage){let i=t.spine.findIndex(t=>0==t.epage&&0==t.epageCount||t.epage<=e&&t.epage+t.epageCount>e);-1==i&&(i=t.spine.length-1);let o=t.spine[i];o&&0!=o.epageCount||(o=t.spine[--i]);const s=Math.floor(e-o.epage);return void n.finish({spineIndex:i,offsetInItem:-1,pageIndex:s})}let i=Z(t.spine.length,n=>{const i=t.spine[n];return i.epage+i.epageCount>e});i==t.spine.length&&i--;const o=t.spine[i];t.store.load(o.src).then(t=>{(e-=o.epage)>o.epageCount&&(e=o.epageCount);let s=0;if(e>0){const n=t.getTotalOffset();s=Math.round(n*e/o.epageCount),s==n&&s--}n.finish({spineIndex:i,offsetInItem:s,pageIndex:-1})})},(t,n)=>{h.warn(n,"Cannot resolve epage:",e),t.finish(null)})}getEPageFromPosition(e){const t=this.spine[e.spineIndex];if(this.epageIsRenderedPage)return fi(t.epage+e.pageIndex);if(e.offsetInItem<=0)return fi(t.epage);const n=pi("getEPage");return this.store.load(t.src).then(i=>{const o=i.getTotalOffset(),s=Math.min(o,e.offsetInItem);n.finish(t.epage+s*t.epageCount/o)}),n.result()}}const Td=(e,t)=>({page:e,position:{spineIndex:e.spineIndex,pageIndex:t,offsetInItem:e.offset}});class xd{constructor(e,t,n,i,o){this.opf=e,this.viewport=t,this.fontMapper=n,this.pageSheetSizeReporter=o,this.spineItems=[],this.spineItemLoadingContinuations=[],this.tocAutohide=!1,this.pref=be(i),this.clientLayout=new Uu(t),this.counterStore=new Tn(e.documentURLTransformer)}getPage(e){const t=this.spineItems[e.spineIndex];return t?t.pages[e.pageIndex]:null}getCurrentPageProgression(e){if(this.opf.pageProgression)return this.opf.pageProgression;{const t=this.spineItems[e?e.spineIndex:0];return t?t.instance.pageProgression:null}}finishPageContainer(e,t,n){t.container.style.display="none",t.container.style.visibility="visible",t.container.style.position="",t.container.style.top="",t.container.style.left="",t.container.setAttribute("data-vivliostyle-page-side",t.side);const i=e.pages[n];if(t.isFirstPage=0==e.item.spineIndex&&0==n,e.pages[n]=t,this.opf.epageIsRenderedPage){if(0==n&&e.item.spineIndex>0){const t=this.opf.spine[e.item.spineIndex-1];e.item.epage=t.epage+t.epageCount}e.item.epageCount=e.pages.length,this.opf.epageCount=this.opf.spine.reduce((e,t)=>e+t.epageCount,0),this.opf.epageCountCallback&&this.opf.epageCountCallback(this.opf.epageCount)}if(i)e.instance.viewport.contentContainer.replaceChild(t.container,i.container),i.dispatchEvent({type:"replaced",target:null,currentTarget:null,preventDefault:null,newPage:t});else{let i=null;if(n>0)i=e.pages[n-1].container.nextElementSibling;else for(let t=e.item.spineIndex+1;t<this.spineItems.length;t++){const e=this.spineItems[t];if(e&&e.pages[0]){i=e.pages[0].container;break}}e.instance.viewport.contentContainer.insertBefore(t.container,i)}this.pageSheetSizeReporter({width:e.instance.pageSheetWidth,height:e.instance.pageSheetHeight},e.instance.pageSheetSize,e.item.spineIndex,e.instance.pageNumberOffset+n)}renderSinglePage(e,t){const n=pi("renderSinglePage");let i=this.makePage(e,t);const o=this;return e.instance.layoutNextPage(i,t).then(s=>{const r=(t=s)?t.page-1:e.layoutPositions.length-1;o.finishPageContainer(e,i,r),o.counterStore.finishPage(i.spineIndex,r);let a=null;if(t){const n=e.layoutPositions[t.page];e.layoutPositions[t.page]=t,n&&e.pages[t.page]&&(t.isSamePosition(n)||(a=o.renderSinglePage(e,t)))}a||(a=fi(!0)),a.then(()=>{const s=o.counterStore.getUnresolvedRefsToPage(i);let a=0;n.loopWithFrame(e=>{if(a++,a>s.length)return void e.breakLoop();const t=s[a-1];t.refs=t.refs.filter(e=>!e.isResolved()),0!==t.refs.length?o.getPageViewItem(t.spineIndex).then(n=>{if(!n)return void e.continueLoop();o.counterStore.pushPageCounters(t.pageCounters),o.counterStore.pushReferencesToSolve(t.refs);const s=n.layoutPositions[t.pageIndex];o.renderSinglePage(n,s).then(t=>{o.counterStore.popPageCounters(),o.counterStore.popReferencesToSolve();const n=t.pageAndPosition.position;n.spineIndex===i.spineIndex&&n.pageIndex===r&&(i=t.pageAndPosition.page),e.continueLoop()})}):e.continueLoop()}).then(()=>{i.container.parentElement||(i=e.pages[r]),i.isLastPage=!t&&e.item.spineIndex===o.opf.spine.length-1,i.isLastPage&&(o.viewport,o.counterStore.finishLastPage(o.viewport)),n.finish({pageAndPosition:Td(i,r),nextLayoutPosition:t})})})}),n.result()}normalizeSeekPosition(e,t){let n=e.pageIndex,i=-1;if(n<0){i=e.offsetInItem;const o=Z(t.layoutPositions.length,e=>t.instance.getPosition(t.layoutPositions[e],!0)>i);n=o===t.layoutPositions.length?t.complete?t.layoutPositions.length-1:Number.POSITIVE_INFINITY:o-1}else n===Number.POSITIVE_INFINITY&&-1!==e.offsetInItem&&(i=e.offsetInItem);return{spineIndex:e.spineIndex,pageIndex:n,offsetInItem:i}}findPage(e,t){const n=this,i=pi("findPage");return n.getPageViewItem(e.spineIndex).then(o=>{if(!o)return void i.finish(null);let s,r=null;i.loopWithFrame(a=>{const l=n.normalizeSeekPosition(e,o);s=l.pageIndex,r=o.pages[s],r?a.breakLoop():o.complete?(s=o.layoutPositions.length-1,r=o.pages[s],a.breakLoop()):t?n.renderPage(l).then(e=>{e&&(r=e.page,s=e.position.pageIndex),a.breakLoop()}):i.sleep(100).then(()=>{a.continueLoop()})}).then(()=>{i.finish(Td(r,s))})}),i.result()}renderPage(e){const t=this,n=pi("renderPage");return t.getPageViewItem(e.spineIndex).then(i=>{if(!i)return void n.finish(null);const o=t.normalizeSeekPosition(e,i);let s=o.pageIndex;const r=o.offsetInItem;let a=i.pages[s];a?n.finish(Td(a,s)):n.loopWithFrame(e=>{if(s<i.layoutPositions.length)return void e.breakLoop();if(i.complete)return s=i.layoutPositions.length-1,void e.breakLoop();let n=i.layoutPositions[i.layoutPositions.length-1];t.renderSinglePage(i,n).then(t=>{const o=t.pageAndPosition.page;if(n=t.nextLayoutPosition,n){if(r>=0&&i.instance.getPosition(n)>r)return a=o,s=i.layoutPositions.length-2,void e.breakLoop();e.continueLoop()}else a=o,s=t.pageAndPosition.position.pageIndex,i.complete=!0,e.breakLoop()})}).then(()=>{a=a||i.pages[s];const e=i.layoutPositions[s];a?n.finish(Td(a,s)):t.renderSinglePage(i,e).then(e=>{e.nextLayoutPosition||(i.complete=!0),n.finish(e.pageAndPosition)})})}),n.result()}renderAllPages(){return this.renderPagesUpto({spineIndex:this.opf.spine.length-1,pageIndex:Number.POSITIVE_INFINITY,offsetInItem:-1},!1)}renderPagesUpto(e,t){const n=this,i=pi("renderPagesUpto");e||(e={spineIndex:0,pageIndex:0,offsetInItem:0});const o=e.spineIndex,s=e.pageIndex;let r,a=0;return t&&(a=o),i.loopWithFrame(t=>{const i={spineIndex:a,pageIndex:a===o?s:Number.POSITIVE_INFINITY,offsetInItem:a===o?e.offsetInItem:-1};n.renderPage(i).then(e=>{r=e,++a>o?t.breakLoop():t.continueLoop()})}).then(()=>{i.finish(r)}),i.result()}firstPage(e,t){return this.findPage({spineIndex:0,pageIndex:0,offsetInItem:-1},t)}lastPage(e,t){return this.findPage({spineIndex:this.opf.spine.length-1,pageIndex:Number.POSITIVE_INFINITY,offsetInItem:-1},t)}nextPage(e,t){const n=this;let i=e.spineIndex,o=e.pageIndex;const s=pi("nextPage");return n.getPageViewItem(i).then(e=>{if(e){if(e.complete&&o==e.layoutPositions.length-1){if(i>=n.opf.spine.length-1)return void s.finish(null);i++,o=0;const t=this.spineItems[i],r=t&&t.pages[0],a=e.pages[e.pages.length-1];r&&a&&r.side==a.side&&(t.pages.forEach(e=>{e.container&&e.container.remove()}),this.spineItems[i]=null,this.spineItemLoadingContinuations[i]=null)}else o++;n.findPage({spineIndex:i,pageIndex:o,offsetInItem:-1},t).thenFinish(s)}else s.finish(null)}),s.result()}previousPage(e,t){let n=e.spineIndex,i=e.pageIndex;if(0==i){if(0==n)return fi(null);n--,i=Number.POSITIVE_INFINITY}else i--;return this.findPage({spineIndex:n,pageIndex:i,offsetInItem:-1},t)}isRectoPage(e,n){const i=e.side===t.PageSide.LEFT,o=this.getCurrentPageProgression(n)===t.PageProgression.LTR;return!i&&o||i&&!o}getSpread(e,n){const i=pi("getCurrentSpread"),o=this.getPage(e);if(!o)return fi({left:null,right:null});const s=o.side===t.PageSide.LEFT;let r;return r=this.isRectoPage(o,e)?this.previousPage(e,n):this.nextPage(e,n),r.then(t=>{const n=this.getPage(e);let o=t&&t.page;o&&o.side===n.side&&(o=null),s?i.finish({left:n,right:o}):i.finish({left:o,right:n})}),i.result()}nextSpread(e,t){const n=this.getPage(e);if(!n)return fi(null);const i=this.isRectoPage(n,e),o=this.nextPage(e,t);if(i)return o;{const e=this;return o.thenAsync(i=>{if(i){if(i.page.side===n.side)return o;const s=e.nextPage(i.position,t);return s.thenAsync(e=>e?s:o)}return fi(null)})}}previousSpread(e,t){const n=this.getPage(e);if(!n)return fi(null);const i=this.isRectoPage(n,e),o=this.previousPage(e,t),s=n.container.previousElementSibling;if(i){const e=this;return o.thenAsync(i=>i?i.page.side===n.side?o:i.page.container!==s?o:e.previousPage(i.position,t):fi(null))}return o}navigateToEPage(e,t,n){const i=pi("navigateToEPage"),o=this;return this.opf.resolveEPage(e).then(e=>{e?o.findPage(e,n).thenFinish(i):i.finish(null)}),i.result()}navigateToFragment(e,t,n){const i=pi("navigateToCFI"),o=this;return o.opf.resolveFragment(e).then(e=>{e?o.findPage(e,n).thenFinish(i):i.finish(null)}),i.result()}navigateTo(e,t,n){h.debug("Navigate to",e);let i=this.opf.getPathFromURL(T(e));if(!i){if(this.opf.opfXML&&e.match(/^#epubcfi\(/))i=this.opf.getPathFromURL(this.opf.opfXML.url);else if("#"===e.charAt(0)){const t=this.opf.documentURLTransformer.restoreURL(e);this.opf.opfXML?(i=this.opf.getPathFromURL(t[0]),null==i&&(i=t[0])):i=t[0],e=t[0]+(t[1]?`#${t[1]}`:"")}if(null==i)return fi(null)}const o=this.opf.itemMapByPath[i];if(!o){if(this.opf.opfXML&&i==this.opf.getPathFromURL(this.opf.opfXML.url)){const i=e.indexOf("#");if(i>=0)return this.navigateToFragment(e.substr(i+1),t,n)}return fi(null)}const s=pi("navigateTo"),r=this;return r.getPageViewItem(o.spineIndex).then(i=>{if(!i)return void s.finish(null);const a=i.xmldoc.getElement(e);a?r.findPage({spineIndex:o.spineIndex,pageIndex:-1,offsetInItem:i.xmldoc.getElementOffset(a)},n).thenFinish(s):t.spineIndex!==o.spineIndex?r.findPage({spineIndex:o.spineIndex,pageIndex:0,offsetInItem:-1},n).thenFinish(s):s.finish(null)}),s.result()}makePage(e,n){const i=e.instance.viewport,o=i.document.createElement("div");o.setAttribute("data-vivliostyle-page-container","true"),o.setAttribute("role","region"),o.style.position="absolute",o.style.top="0",o.style.left="0",t.isDebug||(o.style.visibility="hidden",o.setAttribute("aria-hidden","true")),i.layoutBox.appendChild(o);const s=i.document.createElement("div");s.setAttribute("data-vivliostyle-bleed-box","true"),o.appendChild(s);const r=new Yr(o,s);if(r.spineIndex=e.item.spineIndex,r.position=n,r.offset=e.instance.getPosition(n),0===r.offset){const t=this.opf.documentURLTransformer.transformFragment("",e.item.src);s.setAttribute("id",t),r.registerElementWithId(s,t)}if(i!==this.viewport){const e=ye(this.viewport.width,this.viewport.height,i.width,i.height),t=mo(null,new hi(e,null),"");r.delayedItems.push(new Xr(o,"transform",t))}return r}makeObjectView(e,t,n,i){let o=t.getAttribute("data"),s=null;if(o){o=O(o,e.url);let n=t.getAttribute("media-type");if(!n){const e=this.opf.getPathFromURL(o);if(e){const t=this.opf.itemMapByPath[e];t&&(n=t.mediaType)}}if(n){const e=this.opf.bindings[n];if(e){s=this.viewport.document.createElement("iframe"),s.style.border="none";const i=X(o),r=X(n),a=new H;a.append(e),a.append("?src="),a.append(i),a.append("&type="),a.append(r);for(let e=t.firstChild;e;e=e.nextSibling)if(1==e.nodeType){const t=e;if("param"==t.localName&&t.namespaceURI==k.XHTML){const e=t.getAttribute("name"),n=t.getAttribute("value");e&&n&&(a.append("&"),a.append(encodeURIComponent(e)),a.append("="),a.append(encodeURIComponent(n)))}}s.setAttribute("src",a.toString());const l=t.getAttribute("width");l&&s.setAttribute("width",l);const h=t.getAttribute("height");h&&s.setAttribute("height",h)}}}return s||(s=this.viewport.document.createElement("span"),s.setAttribute("data-adapt-process-children","true")),fi(s)}makeMathJaxView(e,t,n,i){const o=Sd();if(o){const i=n.ownerDocument,s=i.createElement("span");n.appendChild(s);const r=i.importNode(t,!0);this.resolveURLsInMathML(r,e),s.appendChild(r);const a=o.queue;a.Push(["Typeset",o,s]);const l=pi("makeMathJaxView"),h=l.suspend();return a.Push(()=>{h.schedule(s)}),l.result()}return fi(null)}resolveURLsInMathML(e,t){if(null!=e){if(1===e.nodeType&&"mglyph"===e.tagName){const n=Array.from(e.attributes);for(const i of n){if("src"!==i.name)continue;const n=O(i.nodeValue,t.url);i.namespaceURI?e.setAttributeNS(i.namespaceURI,i.name,n):e.setAttribute(i.name,n)}}e.firstChild&&this.resolveURLsInMathML(e.firstChild,t),e.nextSibling&&this.resolveURLsInMathML(e.nextSibling,t)}}makeSSEView(e,t,n,i){const o=n?n.ownerDocument:this.viewport.document,s=t.localName;let r;switch(s){case"t":case"tab":case"ec":case"nt":case"fraction":case"comment":case"mark":r="span";break;case"ruby":case"rp":case"rt":r=s;break;default:r="div"}const a=o.createElement(r);return a.setAttribute("data-adapt-process-children","true"),fi(a)}makeCustomRenderer(e){const t=this;return(n,i,o)=>"object"==n.localName&&n.namespaceURI==k.XHTML?t.makeObjectView(e,n,i,o):n.namespaceURI==k.MATHML?t.makeMathJaxView(e,n,i,o):n.namespaceURI==k.SSE?t.makeSSEView(e,n,i,o):n.dataset&&"true"==n.dataset.mathTypeset?t.makeMathJaxView(e,n,i,o):fi(null)}getPageViewItem(e){const t=this;if(-1===e||e>=t.opf.spine.length)return fi(null);let n=t.spineItems[e];if(n)return fi(n);const i=pi("getPageViewItem");let o=this.spineItemLoadingContinuations[e];if(o){const e=i.suspend();return o.push(e),i.result()}o=this.spineItemLoadingContinuations[e]=[];const s=t.opf.spine[e],r=t.opf.store;return r.load(s.src).then(a=>{s.title=a.document.title;const l=r.getStyleForDoc(a),h=t.makeCustomRenderer(a);let c=t.viewport;const u=l.sizeViewport(c.width,c.height,c.fontSize,t.pref);u.width==c.width&&u.height==c.height&&u.fontSize==c.fontSize||(c=new zu(c.window,u.fontSize,c.root,u.width,u.height));const d=t.spineItems[e-1];let p;null!==s.startPage?p=s.startPage-1:(!(e>0)||d&&d.complete?p=d?d.instance.pageNumberOffset+d.pages.length:0:(p=s.epage||e,t.opf.prePaginated||p%2!=0||p++),null!==s.skipPagesBefore&&(p+=s.skipPagesBefore)),t.counterStore.forceSetPageCounter(p);const f=new Qu(l,a,t.opf.lang,c,t.clientLayout,t.fontMapper,h,t.opf.fallbackMap,p,t.opf.documentURLTransformer,t.counterStore,t.opf.pageProgression);f.pref=t.pref;const g=t.opf.metadata&&t.opf.metadata[Ed.title];f.pubTitle=g&&g[0]&&g[0].v||"",f.docTitle=s.title||"",f.init().then(()=>{n={item:s,xmldoc:a,instance:f,layoutPositions:[null],pages:[],complete:!1},t.spineItems[e]=n,i.finish(n),o.forEach(e=>{e.schedule(n)})})}),i.result()}removeRenderedPages(){const e=this.spineItems;for(const t of e)t&&t.pages.splice(0);this.viewport.clear()}hasAutoSizedPages(){const e=this.spineItems;for(const t of e)if(t){const e=t.pages;for(const t of e)if(t.isAutoPageWidth&&t.isAutoPageHeight)return!0}return!1}hasPages(){return this.spineItems.some(e=>e&&e.pages.length>0)}showTOC(e){const t=this.opf,n=t.xhtmlToc||t.ncxToc;if(this.tocAutohide=e,!n)return fi(null);if(this.tocView&&this.tocView.page)return this.tocView.page.container.style.visibility="visible",this.tocView.page.container.setAttribute("aria-hidden","false"),fi(this.tocView.page);const i=pi("showTOC");this.tocView||(this.tocView=new ud(t.store,n.src,t.lang,this.clientLayout,this.fontMapper,this.pref,this,t.fallbackMap,t.documentURLTransformer,this.counterStore));const o=this.viewport,s=Math.min(350,Math.round(.67*o.width)-16),r=o.height-6,a=o.document.createElement("div");return o.root.appendChild(a),a.style.visibility="hidden",a.style.width=`${s+10}px`,a.style.maxHeight=`${r}px`,a.setAttribute("data-vivliostyle-toc-box","true"),a.setAttribute("role","navigation"),this.tocView.showTOC(a,o,s,r,this.viewport.fontSize).then(e=>{a.style.visibility="visible",a.setAttribute("aria-hidden","false"),i.finish(e)}),i.result()}hideTOC(){this.tocView&&this.tocView.hideTOC()}isTOCVisible(){return!!this.tocView&&this.tocView.isTOCVisible()}}const Id="data-vivliostyle-viewer-status",Pd="data-vivliostyle-spread-view";var Ad,Od;!function(e){e.SINGLE_PAGE="singlePage",e.SPREAD="spread",e.AUTO_SPREAD="autoSpread"}(Ad||(Ad={}));class Rd{constructor(e,n,i,o){this.window=e,this.viewportElement=n,this.instanceId=i,this.callbackFn=o,this.pageSheetSizeAlreadySet=!1,this.renderTask=null;const s=this;n.setAttribute("data-vivliostyle-viewer-viewport",!0),t.isDebug&&n.setAttribute("data-vivliostyle-debug",!0),n.setAttribute(Id,"loading");const r=e.document;this.fontMapper=new wc(r.head,n),this.init(),this.kick=()=>{},this.sendCommand=()=>{},this.resizeListener=()=>{s.needResize=!0,s.kick()},this.pageReplacedListener=this.pageReplacedListener.bind(this),this.hyperlinkListener=e=>{},this.pageRuleStyleElement=r.getElementById("vivliostyle-page-rules"),this.actions={loadPublication:this.loadPublication,loadXML:this.loadXML,configure:this.configure,moveTo:this.moveTo,toc:this.showTOC},this.addLogListeners()}init(){this.readyState=t.ReadyState.LOADING,this.packageURL=[],this.opf=null,this.haveZipMetadata=!1,this.touchActive=!1,this.touchX=0,this.touchY=0,this.needResize=!1,this.needRefresh=!1,this.viewportSize=null,this.currentPage=null,this.currentSpread=null,this.pagePosition=null,this.fontSize=16,this.zoom=1,this.fitToScreen=!1,this.pageViewMode=Ad.SINGLE_PAGE,this.waitForLoading=!1,this.renderAllPages=!0,this.pref={fontFamily:"serif",lineHeight:1.25,margin:8,hyphenate:!1,columnWidth:25,horizontal:!1,nightMode:!1,spreadView:!1,pageBorder:1,enabledMediaTypes:{vivliostyle:!0,print:!0},defaultPaperSize:void 0},this.pageSizes=[]}addLogListeners(){const e=r;h.addListener(e.DEBUG,e=>{this.callback({t:"debug",content:e})}),h.addListener(e.INFO,e=>{this.callback({t:"info",content:e})}),h.addListener(e.WARN,e=>{this.callback({t:"warn",content:e})}),h.addListener(e.ERROR,e=>{this.callback({t:"error",content:e})})}callback(e){e.i=this.instanceId,this.callbackFn(e)}setReadyState(e){this.readyState!==e&&(this.readyState=e,this.viewportElement.setAttribute(Id,e),this.callback({t:"readystatechange"}))}loadPublication(e){S.registerStartTiming("beforeRender"),this.setReadyState(t.ReadyState.LOADING);const n=e.url,i=e.fragment,o=!!e.zipmeta,s=e.authorStyleSheet,r=e.userStyleSheet;this.viewport=null;const a=pi("loadPublication"),l=this;return l.configure(e).then(()=>{const e=new pd;e.init(s,r).then(()=>{const t=O(R(n),l.window.location.href);l.packageURL=[t],e.loadPubDoc(t,o).then(e=>{e?(l.opf=e,l.render(i).then(()=>{a.finish(!0)})):a.finish(!1)})})}),a.result()}loadXML(e){S.registerStartTiming("beforeRender"),this.setReadyState(t.ReadyState.LOADING);const n=e.url,i=e.document,o=e.fragment,s=e.authorStyleSheet,r=e.userStyleSheet;this.viewport=null;const a=pi("loadXML"),l=this;return l.configure(e).then(()=>{const e=new pd;e.init(s,r).then(()=>{const t=n.map((e,t)=>({url:O(R(e.url),l.window.location.href),index:t,startPage:e.startPage,skipPagesBefore:e.skipPagesBefore}));l.packageURL=t.map(e=>e.url),l.opf=new Cd(e,""),l.opf.initWithChapters(t,i).then(()=>{l.render(o).then(()=>{a.finish(!0)})})})}),a.result()}render(e){this.cancelRenderingTask();const t=this;let n;return n=e?this.opf.resolveFragment(e).thenAsync(e=>(t.pagePosition=e,fi(!0))):fi(!0),n.thenAsync(()=>(S.registerEndTiming("beforeRender"),t.resize()))}resolveLength(e){const t=parseFloat(e);let n;if("string"==typeof e&&(n=e.match(/[a-z]+$/))){const e=n[0];if("em"===e||"rem"===e)return t*this.fontSize;if("ex"===e)return t*Ie.ex*this.fontSize/Ie.em;const i=Ie[e];if(i)return t*i}return t}configure(e){if("boolean"==typeof e.autoresize&&(e.autoresize?(this.viewportSize=null,this.window.addEventListener("resize",this.resizeListener,!1),this.needResize=!0):this.window.removeEventListener("resize",this.resizeListener,!1)),"number"==typeof e.fontSize){const t=e.fontSize;t>=5&&t<=72&&this.fontSize!=t&&(this.fontSize=t,this.needResize=!0)}if("object"==typeof e.viewport&&e.viewport){const t=e.viewport,n={marginLeft:this.resolveLength(t["margin-left"])||0,marginRight:this.resolveLength(t["margin-right"])||0,marginTop:this.resolveLength(t["margin-top"])||0,marginBottom:this.resolveLength(t["margin-bottom"])||0,width:this.resolveLength(t.width)||0,height:this.resolveLength(t.height)||0};(n.width>=200||n.height>=200)&&(this.window.removeEventListener("resize",this.resizeListener,!1),this.viewportSize=n,this.needResize=!0)}return"boolean"==typeof e.hyphenate&&(this.pref.hyphenate=e.hyphenate,this.needResize=!0),"boolean"==typeof e.horizontal&&(this.pref.horizontal=e.horizontal,this.needResize=!0),"boolean"==typeof e.nightMode&&(this.pref.nightMode=e.nightMode,this.needResize=!0),"number"==typeof e.lineHeight&&(this.pref.lineHeight=e.lineHeight,this.needResize=!0),"number"==typeof e.columnWidth&&(this.pref.columnWidth=e.columnWidth,this.needResize=!0),"string"==typeof e.fontFamily&&(this.pref.fontFamily=e.fontFamily,this.needResize=!0),"boolean"==typeof e.load&&(this.waitForLoading=e.load),"boolean"==typeof e.renderAllPages&&(this.renderAllPages=e.renderAllPages),"string"==typeof e.userAgentRootURL&&(I(e.userAgentRootURL.replace(/resources\/?$/,"")),A(e.userAgentRootURL)),"string"==typeof e.rootURL&&(I(e.rootURL),A(`${x}resources/`)),"string"==typeof e.pageViewMode&&e.pageViewMode!==this.pageViewMode&&(this.pageViewMode=e.pageViewMode,this.needResize=!0),"number"==typeof e.pageBorder&&e.pageBorder!==this.pref.pageBorder&&(this.viewport=null,this.pref.pageBorder=e.pageBorder,this.needResize=!0),"number"==typeof e.zoom&&e.zoom!==this.zoom&&(this.zoom=e.zoom,this.needRefresh=!0),"boolean"==typeof e.fitToScreen&&e.fitToScreen!==this.fitToScreen&&(this.fitToScreen=e.fitToScreen,this.needRefresh=!0),"object"==typeof e.defaultPaperSize&&"number"==typeof e.defaultPaperSize.width&&"number"==typeof e.defaultPaperSize.height&&(this.viewport=null,this.pref.defaultPaperSize=e.defaultPaperSize,this.needResize=!0),this.configurePlugins(e),fi(!0)}configurePlugins(e){p(t.HOOKS.CONFIGURATION).forEach(t=>{const n=t(e);this.needResize=n.needResize||this.needResize,this.needRefresh=n.needRefresh||this.needRefresh})}pageReplacedListener(e){const t=this.currentPage,n=this.currentSpread,i=e.target;n?n.left!==i&&n.right!==i||this.showCurrent(e.newPage):t===e.target&&this.showCurrent(e.newPage)}forCurrentPages(e){const t=[];this.currentPage&&t.push(this.currentPage),this.currentSpread&&(t.push(this.currentSpread.left),t.push(this.currentSpread.right)),t.forEach(t=>{t&&e(t)})}removePageListeners(){this.forCurrentPages(e=>{e.removeEventListener("hyperlink",this.hyperlinkListener,!1),e.removeEventListener("replaced",this.pageReplacedListener,!1)})}hidePages(){this.removePageListeners(),this.forCurrentPages(e=>{U(e.container,"display","none"),e.container.setAttribute("aria-hidden","true")}),this.currentPage=null,this.currentSpread=null}showSinglePage(e){e.addEventListener("hyperlink",this.hyperlinkListener,!1),e.addEventListener("replaced",this.pageReplacedListener,!1),U(e.container,"visibility","visible"),U(e.container,"display","block"),e.container.setAttribute("aria-hidden","false")}showPage(e){this.hidePages(),this.currentPage=e,e.container.style.marginLeft="",e.container.style.marginRight="",this.showSinglePage(e)}showSpread(e){if(this.hidePages(),this.currentSpread=e,e.left&&e.right){let t=parseFloat(e.left.container.style.width),n=parseFloat(e.right.container.style.width);t&&n&&t!==n&&(t<n?e.left.container.style.marginLeft=`${n-t}px`:e.right.container.style.marginRight=`${t-n}px`)}e.left&&(this.showSinglePage(e.left),e.right?e.left.container.removeAttribute("data-vivliostyle-unpaired-page"):e.left.container.setAttribute("data-vivliostyle-unpaired-page",!0)),e.right&&(this.showSinglePage(e.right),e.left?e.right.container.removeAttribute("data-vivliostyle-unpaired-page"):e.right.container.setAttribute("data-vivliostyle-unpaired-page",!0))}reportPosition(){const e=pi("reportPosition"),t=this;return t.pagePosition,t.opf.getCFI(this.pagePosition.spineIndex,this.pagePosition.offsetInItem).then(n=>{const i=t.currentPage;(t.waitForLoading&&i.fetchers.length>0?Ii(i.fetchers):fi(!0)).then(()=>{t.sendLocationNotification(i,n).thenFinish(e)})}),e.result()}createViewport(){const e=this.viewportElement;if(this.viewportSize){const t=this.viewportSize;return e.style.marginLeft=`${t.marginLeft}px`,e.style.marginRight=`${t.marginRight}px`,e.style.marginTop=`${t.marginTop}px`,e.style.marginBottom=`${t.marginBottom}px`,new zu(this.window,this.fontSize,e,t.width,t.height)}return new zu(this.window,this.fontSize,e)}resolveSpreadView(e){switch(this.pageViewMode){case Ad.SINGLE_PAGE:return!1;case Ad.SPREAD:return!0;case Ad.AUTO_SPREAD:default:return e.width/e.height>=1.45&&e.width>800}}updateSpreadView(e){this.pref.spreadView=e,this.viewportElement.setAttribute(Pd,e.toString())}sizeIsGood(){const e=this.createViewport(),t=this.resolveSpreadView(e),n=this.pref.spreadView!==t;return this.updateSpreadView(t),!(this.viewportSize||!this.viewport||this.viewport.fontSize!=this.fontSize||(n||e.width!=this.viewport.width||e.height!=this.viewport.height)&&(n||e.width!=this.viewport.width||e.height==this.viewport.height||!/Android|iPhone|iPad|iPod/.test(navigator.userAgent))&&(!this.opfView||!this.opfView.hasPages()||this.opfView.hasAutoSizedPages()||(this.viewport.width=e.width,this.viewport.height=e.height,this.needRefresh=!0,0)))}setPageSize(e,t,n,i){this.pageSizes[i]=e,this.setPageSizePageRules(t,n,i)}setPageSizePageRules(e,t,n){if(!this.pageSheetSizeAlreadySet&&this.pageRuleStyleElement){let t="";Object.keys(e).forEach(n=>{t+=`@page ${n}{margin:0;size:`;const i=e[n];t+=`${i.width}px ${i.height}px;}`}),this.pageRuleStyleElement.textContent=t,this.pageSheetSizeAlreadySet=!0}}removePageSizePageRules(){this.pageRuleStyleElement&&(this.pageRuleStyleElement.textContent="",this.pageSheetSizeAlreadySet=!1)}reset(){let e=!1,t=!1;this.opfView&&(e=this.opfView.isTOCVisible(),t=this.opfView.tocAutohide,this.opfView.hideTOC(),this.opfView.removeRenderedPages()),this.removePageSizePageRules(),this.viewport=this.createViewport(),this.viewport.resetZoom(),this.opfView=new xd(this.opf,this.viewport,this.fontMapper,this.pref,this.setPageSize.bind(this)),e&&this.sendCommand({a:"toc",v:"show",autohide:t})}showCurrent(e,t){this.needRefresh=!1,this.removePageListeners();const n=this;return this.pref.spreadView?this.opfView.getSpread(this.pagePosition,t).thenAsync(t=>(n.showSpread(t),n.setSpreadZoom(t),n.currentPage=e,fi(null))):(this.showPage(e),this.setPageZoom(e),this.currentPage=e,fi(null))}setPageZoom(e){const t=this.getAdjustedZoomFactor(e.dimensions);this.viewport.zoom(e.dimensions.width,e.dimensions.height,t)}setSpreadZoom(e){const t=this.getSpreadDimensions(e);this.viewport.zoom(t.width,t.height,this.getAdjustedZoomFactor(t))}getAdjustedZoomFactor(e){return this.fitToScreen?this.calculateZoomFactorToFitInsideViewPort(e):this.zoom}getSpreadDimensions(e){let t=0,n=0;return e.left&&(t+=e.left.dimensions.width,n=e.left.dimensions.height),e.right&&(t+=e.right.dimensions.width,n=Math.max(n,e.right.dimensions.height)),e.left&&e.right&&(t+=2*this.pref.pageBorder,t+=Math.abs(e.left.dimensions.width-e.right.dimensions.width)),{width:t,height:n}}queryZoomFactor(e){if(!this.currentPage)throw new Error("no page exists.");switch(e){case Od.FIT_INSIDE_VIEWPORT:{let e;return this.pref.spreadView?(this.currentSpread,e=this.getSpreadDimensions(this.currentSpread)):e=this.currentPage.dimensions,this.calculateZoomFactorToFitInsideViewPort(e)}default:throw new Error(`unknown zoom type: ${e}`)}}calculateZoomFactorToFitInsideViewPort(e){const t=this.viewport.width/e.width,n=this.viewport.height/e.height;return Math.min(t,n)}cancelRenderingTask(){this.renderTask&&this.renderTask.interrupt(new kd),this.renderTask=null}resize(){if(this.needResize=!1,this.needRefresh=!1,this.sizeIsGood())return fi(!0);const e=this;this.setReadyState(t.ReadyState.LOADING),this.cancelRenderingTask();const n=di().getScheduler().run(()=>gi("resize",i=>{e.opf?(e.renderTask=n,S.registerStartTiming("render (resize)"),e.reset(),e.pagePosition&&(0==e.pagePosition.pageIndex&&0==e.pagePosition.offsetInItem||(e.pagePosition.pageIndex=-1)),e.opf.setEPageCountMode(e.renderAllPages),e.opfView.renderPagesUpto(e.pagePosition,!e.renderAllPages).then(o=>{o?(e.pagePosition=o.position,e.showCurrent(o.page,!0).then(()=>{e.setReadyState(t.ReadyState.INTERACTIVE),e.opf.countEPages(t=>{const n={t:"nav",epageCount:t,first:e.currentPage.isFirstPage,last:e.currentPage.isLastPage,metadata:e.opf.metadata,docTitle:e.opf.spine[e.pagePosition.spineIndex].title};(e.currentPage.isFirstPage||0==e.pagePosition.pageIndex&&e.opf.spine[e.pagePosition.spineIndex].epage)&&(n.epage=e.opf.spine[e.pagePosition.spineIndex].epage),e.callback(n)}).then(()=>{e.reportPosition().then(o=>{(e.renderAllPages?e.opfView.renderAllPages():fi(null)).then(()=>{e.renderTask===n&&(e.renderTask=null),S.registerEndTiming("render (resize)"),e.renderAllPages&&e.setReadyState(t.ReadyState.COMPLETE),e.callback({t:"loaded"}),i.finish(o)})})})})):i.finish(!1)})):i.finish(!1)},(e,t)=>{if(!(t instanceof kd))throw t;S.registerEndTiming("render (resize)"),h.debug(t.message)}));return fi(!0)}sendLocationNotification(e,t){const n=pi("sendLocationNotification"),i={t:"nav",first:e.isFirstPage,last:e.isLastPage,metadata:this.opf.metadata,docTitle:this.opf.spine[e.spineIndex].title},o=this;return this.opf.getEPageFromPosition(o.pagePosition).then(e=>{i.epage=e,i.epageCount=o.opf.epageCount,t&&(i.cfi=t),o.callback(i),n.finish(!0)}),n.result()}getCurrentPageProgression(){return this.opfView?this.opfView.getCurrentPageProgression(this.pagePosition):null}moveTo(e){let n;const i=this;if(this.readyState!==t.ReadyState.COMPLETE&&"next"!==e.where&&this.setReadyState(t.ReadyState.LOADING),"string"==typeof e.where){let t;switch(e.where){case"next":t=this.pref.spreadView?this.opfView.nextSpread:this.opfView.nextPage;break;case"previous":t=this.pref.spreadView?this.opfView.previousSpread:this.opfView.previousPage;break;case"last":t=this.opfView.lastPage;break;case"first":t=this.opfView.firstPage;break;default:return fi(!0)}t&&(n=()=>t.call(i.opfView,i.pagePosition,!i.renderAllPages))}else if("number"==typeof e.epage){const t=e.epage;n=()=>i.opfView.navigateToEPage(t,i.pagePosition,!i.renderAllPages)}else{if("string"!=typeof e.url)return fi(!0);{const t=e.url;n=()=>i.opfView.navigateTo(t,i.pagePosition,!i.renderAllPages)}}const o=pi("moveTo");return n.call(i.opfView).then(e=>{let n;if(e){i.pagePosition=e.position;const t=pi("moveTo.showCurrent");n=t.result(),i.showCurrent(e.page,!i.renderAllPages).then(()=>{i.reportPosition().thenFinish(t)})}else n=fi(!0);n.then(e=>{i.readyState===t.ReadyState.LOADING&&i.setReadyState(t.ReadyState.INTERACTIVE),o.finish(e)})}),o.result()}showTOC(e){const t=!!e.autohide,n=e.v,i=this.opfView.isTOCVisible(),o=t!=this.opfView.tocAutohide&&"hide"!=n;if(i){if("show"==n&&!o)return fi(!0)}else if("hide"==n)return fi(!0);if(i&&"show"!=n)return this.opfView.hideTOC(),fi(!0);{const e=this,n=pi("showTOC");return this.opfView.showTOC(t).then(i=>{if(i){if(o&&(i.listeners={}),t){const t=()=>{e.opfView.hideTOC()};i.addEventListener("hyperlink",t,!1)}i.addEventListener("hyperlink",e.hyperlinkListener,!1)}n.finish(!0)}),n.result()}}runCommand(e){const t=this,n=e.a||"";return gi("runCommand",i=>{const o=t.actions[n];o?o.call(t,e).then(()=>{t.callback({t:"done",a:n}),i.finish(!0)}):(h.error("No such action:",n),i.finish(!0))},(e,t)=>{h.error(t,"Error during action:",n),e.finish(!0)})}initEmbed(e){let t=Ld(e),n=null;const i=this;mi(()=>{const e=pi("commandLoop"),o=di().getScheduler();return i.hyperlinkListener=e=>{const t=e,n="#"===t.href.charAt(0)||i.packageURL.some(e=>t.href.substr(0,e.length)==e);if(n){e.preventDefault();const s={t:"hyperlink",href:t.href,internal:n};o.run(()=>(i.callback(s),fi(!0)))}},e.loopWithFrame(e=>{if(i.needResize)i.resize().then(()=>{e.continueLoop()});else if(i.needRefresh)i.currentPage&&i.showCurrent(i.currentPage).then(()=>{e.continueLoop()});else if(t){const n=t;t=null,i.runCommand(n).then(()=>{e.continueLoop()})}else{const t=pi("waitForCommand");n=t.suspend(self),t.result().then(()=>{e.continueLoop()})}}).thenFinish(e),e.result()}),i.kick=()=>{const e=n;e&&(n=null,e.schedule(!0))},i.sendCommand=e=>!t&&(t=Ld(e),i.kick(),!0),this.window.adapt_command=i.sendCommand}}!function(e){e.FIT_INSIDE_VIEWPORT="fit inside viewport"}(Od||(Od={}));class kd extends Error{constructor(){super(),this.name="RenderingCanceledError",this.message="Page rendering has been canceled",Object.setPrototypeOf(this,kd.prototype),this.stack=(new Error).stack}}function Ld(e){return"string"==typeof e?C(e):e}const Fd=t.PageProgression;function Dd(e){const t={};return Object.keys(e).forEach(n=>{const i=e[n];switch(n){case"autoResize":t.autoresize=i;break;case"pageBorderWidth":t.pageBorder=i;break;default:t[n]=i}}),t}class _d{constructor(e,t){this.settings=e,this.initialized=!1,n(e.debug),this.adaptViewer_=new Rd(e.window||window,e.viewportElement,"main",this.dispatcher.bind(this)),this.options={autoResize:!0,fontSize:16,pageBorderWidth:1,renderAllPages:!0,pageViewMode:Ad.AUTO_SPREAD,zoom:1,fitToScreen:!1,defaultPaperSize:void 0},t&&this.setOptions(t),this.eventTarget=new te,Object.defineProperty(this,"readyState",{get(){return this.adaptViewer_.readyState}})}setOptions(e){const t=Object.assign({a:"configure"},Dd(e));this.adaptViewer_.sendCommand(t),Object.assign(this.options,e)}dispatcher(e){const t={type:e.t},n=e;Object.keys(n).forEach(e=>{"t"!==e&&(t[e]=n[e])}),this.eventTarget.dispatchEvent(t)}addListener(e,t){this.eventTarget.addEventListener(e,t,!1)}removeListener(e,t){this.eventTarget.removeEventListener(e,t,!1)}loadDocument(e,t,n){e||this.eventTarget.dispatchEvent({type:"error",content:"No URL specified"}),this.loadDocumentOrPublication(e,null,t,n)}loadPublication(e,t,n){e||this.eventTarget.dispatchEvent({type:"error",content:"No URL specified"}),this.loadDocumentOrPublication(null,e,t,n)}loadDocumentOrPublication(e,t,n,i){const o=n||{};function s(e){return e?e.map(e=>({url:e.url||null,text:e.text||null})):void 0}const r=s(o.authorStyleSheet),a=s(o.userStyleSheet);i&&Object.assign(this.options,i);const l=Object.assign({a:e?"loadXML":"loadPublication",userAgentRootURL:this.settings.userAgentRootURL,url:Bd(e)||t,document:o.documentObject,fragment:o.fragment,authorStyleSheet:r,userStyleSheet:a},Dd(this.options));this.initialized?this.adaptViewer_.sendCommand(l):(this.initialized=!0,this.adaptViewer_.initEmbed(l))}getCurrentPageProgression(){return this.adaptViewer_.getCurrentPageProgression()}resolveNavigation(e){switch(e){case t.Navigation.LEFT:return this.getCurrentPageProgression()===Fd.LTR?t.Navigation.PREVIOUS:t.Navigation.NEXT;case t.Navigation.RIGHT:return this.getCurrentPageProgression()===Fd.LTR?t.Navigation.NEXT:t.Navigation.PREVIOUS;default:return e}}navigateToPage(e,n){e===t.Navigation.EPAGE?this.adaptViewer_.sendCommand({a:"moveTo",epage:n}):this.adaptViewer_.sendCommand({a:"moveTo",where:this.resolveNavigation(e)})}navigateToInternalUrl(e){this.adaptViewer_.sendCommand({a:"moveTo",url:e})}isTOCVisible(){return this.adaptViewer_.opfView&&this.adaptViewer_.opfView.opf&&(this.adaptViewer_.opfView.opf.xhtmlToc||this.adaptViewer_.opfView.opf.ncxToc)?!!this.adaptViewer_.opfView.isTOCVisible():null}showTOC(e,t){const n=null==e?"toggle":e?"show":"hide";this.adaptViewer_.sendCommand({a:"toc",v:n,autohide:t})}queryZoomFactor(e){return this.adaptViewer_.queryZoomFactor(e)}getPageSizes(){return this.adaptViewer_.pageSizes}}function Bd(e){function t(e){return"number"==typeof e?e:null}function n(e){return"string"==typeof e?{url:e,startPage:null,skipPagesBefore:null}:{url:e.url,startPage:t(e.startPage),skipPagesBefore:t(e.skipPagesBefore)}}return Array.isArray(e)?e.map(n):e?[n(e)]:null}!function(e){e.PREVIOUS="previous",e.NEXT="next",e.LEFT="left",e.RIGHT="right",e.FIRST="first",e.LAST="last",e.EPAGE="epage"}(t.Navigation||(t.Navigation={}));const Md=Od,Ud=Ad,zd={CoreViewer:_d,PageViewMode:Ud,ZoomType:Md};S.forceRegisterEndTiming("load_vivliostyle");var Vd="/*\n * Copyright 2015 Trim-marks Inc.\n * Copyright 2019 Vivliostyle Foundation\n *\n * Vivliostyle.js is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Vivliostyle.js is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Vivliostyle.js.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n[data-vivliostyle-layout-box] {\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    overflow: hidden;\n    z-index: -1;\n}\n\n[data-vivliostyle-debug] [data-vivliostyle-layout-box] {\n    right: auto;\n    bottom: auto;\n    overflow: visible;\n    z-index: auto;\n}\n\n[data-vivliostyle-page-container] {\n    position: relative;\n    overflow: hidden;\n}\n\n[data-vivliostyle-bleed-box] {\n    position: absolute;\n    overflow: hidden;\n    max-width: 100%;\n    max-height: 100%;\n    box-sizing: border-box;\n}\n\n[data-vivliostyle-page-box] ~ [data-vivliostyle-page-box] {\n    display: none;\n}\n\n[data-vivliostyle-toc-box] {\n    position: absolute;\n    left: 3px;\n    top: 3px;\n    overflow: scroll;\n    overflow-x: hidden;\n    background: rgba(248,248,248,0.9);\n    border-radius: 2px;\n    box-shadow: 1px 1px 2px rgba(0,0,0,0.4);\n}\n\n@media print {\n    [data-vivliostyle-toc-box] {\n        display: none;\n    }\n\n    [data-vivliostyle-outer-zoom-box], [data-vivliostyle-spread-container] {\n        width: 100% !important;\n        height: 100% !important;\n    }\n\n    [data-vivliostyle-spread-container], [data-vivliostyle-page-container] {\n        -moz-transform: none !important;\n        -ms-transform: none !important;\n        -webkit-transform: none !important;\n        transform: none !important;\n    }\n\n    [data-vivliostyle-page-container] {\n        display: block !important;\n        max-width: 100%;\n        height: 100% !important;\n        max-height: 100%;\n    }\n\n    /* Workaround for Chrome printing problem */\n    /* [data-vivliostyle-page-box] {\n        padding-bottom: 0 !important;\n        overflow: visible !important;\n    } */\n    [data-vivliostyle-bleed-box] > div > div::before {\n        display: block;\n        content: \"\";\n        padding-top: 0.015625px;\n        margin-bottom: -0.015625px;\n    }\n\n    /* Gecko-only hack, see https://bugzilla.mozilla.org/show_bug.cgi?id=267029#c17 */\n    @-moz-document regexp('.*') {\n        [data-vivliostyle-page-container]:nth-last-child(n+2) {\n            top: -1px;\n            margin-top: 1px;\n            margin-bottom: -1px;\n        }\n    }\n}\n",Hd="/*\n * Copyright 2017 Trim-marks Inc.\n *\n * Vivliostyle.js is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Vivliostyle.js is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Vivliostyle.js.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n@media screen {\n\n    [data-vivliostyle-viewer-viewport] {\n        background: #AAAAAA;\n    }\n\n    [data-vivliostyle-page-container] {\n        background: white;\n    }\n\n    [data-vivliostyle-viewer-viewport] {\n        display: -webkit-flex;\n        display: flex;\n        overflow: auto;\n        position: relative;\n    }\n\n    [data-vivliostyle-outer-zoom-box] {\n        margin: auto;\n        overflow: hidden;\n        -webkit-flex: none;\n        flex: none;\n    }\n\n    [data-vivliostyle-viewer-viewport] [data-vivliostyle-spread-container] {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex: none;\n        flex: none;\n        -webkit-justify-content: center;\n        justify-content: center;\n        -moz-transform-origin: left top;\n        -ms-transform-origin: left top;\n        -webkit-transform-origin: left top;\n        transform-origin: left top;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-page-progression=ltr] [data-vivliostyle-spread-container] {\n        -webkit-flex-direction: row;\n        flex-direction: row;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-page-progression=rtl] [data-vivliostyle-spread-container] {\n        -webkit-flex-direction: row-reverse;\n        flex-direction: row-reverse;\n    }\n\n    [data-vivliostyle-viewer-viewport] [data-vivliostyle-page-container] {\n        margin: 0 auto;\n        -webkit-flex: none;\n        flex: none;\n        transform-origin: center top;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-spread-view=true] [data-vivliostyle-page-container][data-vivliostyle-page-side=left] {\n        margin-right: 1px;\n        transform-origin: right top;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-spread-view=true] [data-vivliostyle-page-container][data-vivliostyle-page-side=right] {\n        margin-left: 1px;\n        transform-origin: left top;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-spread-view=true] [data-vivliostyle-page-container][data-vivliostyle-unpaired-page=true] {\n        margin-left: auto;\n        margin-right: auto;\n        transform-origin: center top;\n    }\n\n}\n";class Gd{constructor(e,{title:t="",printCallback:n=(e=>e.print()),hideIframe:i=!0,removeIframe:o=!0}){this.htmlDoc=e,this.title=t,this.printCallback=n,this.hideIframe=i,this.removeIframe=o}init(){this.iframe=document.createElement("iframe"),this.hideIframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this.iframe.style.borderWidth="0"),this.window=window,this.window.printInstance=this,this.iframe.srcdoc=`\n      <!DOCTYPE html>\n      <html data-vivliostyle-paginated="true">\n        <head>\n          <meta charset='utf-8'/>\n          <meta name='viewport' content='width=device-width, initial-scale=1.0'/>\n          <title>${this.title}</title>\n          <style>${Vd}</style>\n          <style>${Hd}</style>\n          <style>\n            html[data-vivliostyle-paginated] {\n              width: 100%;\n              height: 100%;\n            }\n            html[data-vivliostyle-paginated] body,\n            html[data-vivliostyle-paginated] [data-vivliostyle-viewer-viewport] {\n              width: 100% !important;\n              height: 100% !important;\n            }\n            html[data-vivliostyle-paginated],\n            html[data-vivliostyle-paginated] body {\n              margin: 0;\n              padding: 0;\n            }\n          </style>\n          <style id='vivliostyle-page-rules'></style>\n        </head>\n        <body onload='parent.printInstance.runInIframe(window)'>\n          <div id="vivliostyle-viewer-viewport"></div>\n        </body>\n      </html>`,document.body.appendChild(this.iframe)}runInIframe(e){return this.iframeWin=e,this.preparePrint().then(()=>this.browserPrint()).then(()=>this.cleanUp())}preparePrint(){this.iframeWin.document.title=this.title;const e=new Blob([this.htmlDoc],{type:"text/html"}),t=URL.createObjectURL(e),n=new _d({viewportElement:this.iframeWin.document.body.firstElementChild,window:this.iframeWin,debug:!0},{defaultPaperSize:{width:794,height:1122}});return new Promise(e=>{n.addListener("readystatechange",()=>{"complete"===n.readyState&&e()}),n.loadDocument({url:t})})}browserPrint(){this.printCallback(this.iframeWin)}cleanUp(){delete this.window.printInstance,this.removeIframe&&this.iframe.parentElement.removeChild(this.iframe)}}t.CoreViewer=_d,t.PageViewMode=Ud,t.Profiler=g,t.ZoomType=Md,t.constants=s,t.getHooksForName=p,t.pageProgressionOf=i,t.plugin=f,t.printHTML=function(e,t){new Gd(e,t).init()},t.profile=N,t.profiler=S,t.registerHook=u,t.removeHook=d,t.setDebug=n,t.viewer=zd})),s=(t=o)&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=o.isDebug,a=o.PageProgression,l=o.PageSide,h=o.ReadyState,c=o.HOOKS,u=o.Navigation,d=o.CoreViewer,p=o.PageViewMode,f=o.Profiler,g=o.ZoomType,m=o.constants,b=o.getHooksForName,w=o.pageProgressionOf,E=o.plugin,y=o.printHTML,S=o.profile,N=o.profiler,v=o.registerHook,C=o.removeHook,T=o.setDebug,x=o.viewer,I=Object.freeze({__proto__:null,default:s,__moduleExports:o,isDebug:r,PageProgression:a,PageSide:l,ReadyState:h,HOOKS:c,Navigation:u,CoreViewer:d,PageViewMode:p,Profiler:f,ZoomType:g,constants:m,getHooksForName:b,pageProgressionOf:w,plugin:E,printHTML:y,profile:S,profiler:N,registerHook:v,removeHook:C,setDebug:T,viewer:x});!function(e){e.Default="",e.Auto="auto",e.Preset="preset",e.Custom="custom",e.Zero="0"}(n||(n={}));const P=[{name:"A5",description:"A5"},{name:"A4",description:"A4"},{name:"A3",description:"A3"},{name:"B5",description:"B5 (ISO)"},{name:"B4",description:"B4 (ISO)"},{name:"JIS-B5",description:"B5 (JIS)"},{name:"JIS-B4",description:"B4 (JIS)"},{name:"letter",description:"letter"},{name:"legal",description:"legal"},{name:"ledger",description:"ledger"}],A={customWidth:"210mm",customHeight:"297mm",customMargin:"10%",baseFontSize:"12pt",baseLineHeight:"1.2",baseFontFamily:"serif",viewerFontSize:16};class O{constructor(e){this.PresetSize=O.PresetSize,this.pageSizeMode=i.observable(n.Default),this.presetSize=i.observable(P[1]),this.isLandscape=i.observable(!1),this.customWidth=i.observable(A.customWidth),this.customHeight=i.observable(A.customHeight),this.pageSizeImportant=i.observable(!1),this.pageMarginMode=i.observable(n.Default),this.customMargin=i.observable(A.customMargin),this.pageMarginImportant=i.observable(!1),this.firstPageMarginZero=i.observable(!1),this.firstPageMarginZeroImportant=i.observable(!1),this.forceHtmlBodyMarginZero=i.observable(!1),this.widowsOrphans=i.observable(""),this.widowsOrphansImportant=i.observable(!1),this.imageMaxSizeToFitPage=i.observable(!1),this.imageMaxSizeToFitPageImportant=i.observable(!1),this.imageKeepAspectRatio=i.observable(!1),this.imageKeepAspectRatioImportant=i.observable(!1),this.baseFontSize=i.observable(A.baseFontSize),this.baseFontSizeSpecified=i.observable(!1),this.baseFontSizeImportant=i.observable(!1),this.baseLineHeight=i.observable(A.baseLineHeight),this.baseLineHeightSpecified=i.observable(!1),this.baseLineHeightImportant=i.observable(!1),this.baseFontFamily=i.observable(A.baseFontFamily),this.baseFontFamilySpecified=i.observable(!1),this.baseFontFamilyImportant=i.observable(!1),this.allImportant=i.observable(!1),this.pageOtherStyle=i.observable(""),this.firstPageOtherStyle=i.observable(""),this.rootOtherStyle=i.observable(""),this.beforeOtherStyle=i.observable(""),this.afterOtherStyle=i.observable(""),this.viewerFontSize=null,this.setViewerFontSizeObservable=e=>{this.viewerFontSize=e;const t=document.getElementsByName("vivliostyle-settings_viewer-font-size")[0];t&&(t.value=this.fontSizePxToPercent(Number(e()),100,5).toString())},this.viewerFontSizePercent=i.pureComputed({read(){if(!this.viewerFontSize)return 100;return this.fontSizePxToPercent(Number(this.viewerFontSize()),100,5)},write(e){if(!this.viewerFontSize)return;const t=parseFloat(String(e));let n=t&&this.fontSizePercentToPx(t);if(!n||n<5||n>72){const e=document.getElementsByName("vivliostyle-settings_viewer-font-size")[0];e&&(e.value="100"),n=A.viewerFontSize}this.viewerFontSize(Number(n))},owner:this}),this.cssText=i.pureComputed({read:this.toCSSText,write:this.fromCSSText,owner:this}),this.allImportant.subscribe(e=>{this.pageSizeImportant(e),this.pageMarginImportant(e),this.firstPageMarginZeroImportant(e),this.widowsOrphansImportant(e),this.imageMaxSizeToFitPageImportant(e),this.imageKeepAspectRatioImportant(e),this.baseFontSizeImportant(e),this.baseLineHeightImportant(e),this.baseFontFamilyImportant(e)}),this.pageStyleRegExp=new RegExp("^((?:\\n|.)*?)\\/\\*<viewer>\\*\\/\\s*(?:@page\\s*\\{\\s*(?:size:\\s*([^\\s!;{}]+)(?:\\s+([^\\s!;{}]+))?\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?(?:margin:\\s*([^\\s!;{}]+(?:\\s+[^\\s!;{}]+)?(?:\\s+[^\\s!;{}]+)?(?:\\s+[^\\s!;{}]+)?)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?((?:[^{}]+|\\{[^{}]*\\})*)\\}\\s*)?(?:@page\\s*:first\\s*\\{\\s*(margin:\\s*0(?:\\w+|%)?\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?((?:[^{}]+|\\{[^{}]*\\})*)\\}\\s*)?((?:html|:root),\\s*body\\s*\\{\\s*margin:\\s*0(?:\\w+|%)?\\s*!important(?:;|(?=[\\s{}]))\\s*\\}\\s*)?(?:(?:html|:root)\\s*\\{\\s*(?:font-size:\\s*(calc\\([^()]+\\)|[^\\s!;{}]+)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?(?:line-height:\\s*([^\\s!;{}]+)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?(?:font-family:\\s*([^!;{}]+)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?([^{}]*)\\}\\s*)?(?:body\\s*\\{\\s*(?:[-\\w]+:\\s*inherit\\s*!important(?:;|(?=[\\s{}]))\\s*)+\\}\\s*)?(?:\\*\\s*\\{\\s*widows:\\s*(1|999)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*orphans:\\s*\\19\\s*\\20(?:;|(?=[\\s{}]))\\s*\\}\\s*)?(?:img,\\s*svg\\s*\\{\\s*(max-inline-size:\\s*100%\\s*(!important)?(?:;|(?=[\\s{}]))\\s*max-block-size:\\s*100vb\\s*\\22(?:;|(?=[\\s{}]))\\s*)?(object-fit:\\s*contain\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?\\}\\s*)?((?:\\n|.)*)$"),e&&this.copyFrom(e)}fontSizePxToPercent(e,t,n){let i=e/A.viewerFontSize*(t||100);return n&&(i=i.toPrecision(n).replace(/(?:\.0*|(\.\d*?)0+)$/,"$1")),i}fontSizePercentToPx(e,t,n){let i=e/(t||100)*A.viewerFontSize;return n&&(i=i.toPrecision(n).replace(/(?:\.0*|(\.\d*?)0+)$/,"$1")),i}fromCSSText(e){const t=this.pageStyleRegExp.exec(e);if(t){const[,e,i,o,s,r,a,l,h,c,u,d,p,f,g,m,b,w,E,y,S,N,v,C,T,x]=t;let I=x,A=b,O=p,R=u,k=l,L=E,F=i,D=o,_=0,B=0;if(this.beforeOtherStyle(e),"landscape"==F||"portrait"==F?(this.isLandscape("landscape"==F),F=D,D=null):"landscape"!=D&&"portrait"!=D||(this.isLandscape("landscape"==D),D=null),null!=F){if(null==D)if("auto"==F)this.pageSizeMode(n.Auto);else{const e=P.find(e=>e.name.toLowerCase()==F.toLowerCase());e?(this.pageSizeMode(n.Preset),this.presetSize(e)):(this.pageSizeMode(n.Custom),this.customWidth(F),this.customHeight(F))}else this.pageSizeMode(n.Custom),this.customWidth(F),this.customHeight(D);this.pageSizeImportant(!!s),s?_++:B++}else this.pageSizeMode(n.Default);null!=r?(this.pageMarginMode("0"==r?n.Zero:n.Custom),"0"==r?this.pageMarginMode(n.Zero):(this.pageMarginMode(n.Custom),this.customMargin(r)),this.pageMarginImportant(!!a),a?_++:B++):this.pageMarginMode(n.Default),k=k||"",this.pageOtherStyle(k),h?(this.firstPageMarginZero(!0),this.firstPageMarginZeroImportant(!!c),c?_++:B++):this.firstPageMarginZero(!1),R=R||"",this.firstPageOtherStyle(R),d?this.forceHtmlBodyMarginZero(!0):this.forceHtmlBodyMarginZero(!1),null!=O?(O=O.replace(/^\s*calc\([.\d]+\s*\*\s*([.\d]+\w+)\)\s*$/,"$1"),this.baseFontSizeSpecified(!0),this.baseFontSize(O),this.baseFontSizeImportant(!!f),f?_++:B++):this.baseFontSizeSpecified(!1),null!=g?(this.baseLineHeightSpecified(!0),this.baseLineHeight(g),this.baseLineHeightImportant(!!m),m?_++:B++):this.baseLineHeightSpecified(!1),null!=A?(A=A.trim(),this.baseFontFamilySpecified(!0),this.baseFontFamily(A),this.baseFontFamilyImportant(!!w),w?_++:B++):this.baseFontFamilySpecified(!1),L=L||"",this.rootOtherStyle(L),null!=y?(this.widowsOrphans(y),this.widowsOrphansImportant(!!S),S?_++:B++):this.widowsOrphans(n.Default),N?(this.imageMaxSizeToFitPage(!0),this.imageMaxSizeToFitPageImportant(!!v),v?_++:B++):this.imageMaxSizeToFitPage(!1),C?(this.imageKeepAspectRatio(!0),this.imageKeepAspectRatioImportant(!!T),T?_++:B++):this.imageKeepAspectRatio(!1),I=I.replace(/\/\*<\/?viewer>\*\/\n?/g,"")||"",this.afterOtherStyle(I),this.allImportant(_>0&&0==B)}else{const t=e.replace(/\/\*<\/?viewer>\*\/\n?/g,"")||"";this.afterOtherStyle(t)}}toCSSText(){function e(e){return e?" !important":""}let t=this.beforeOtherStyle();if(t+="/*<viewer>*/\n",this.pageSizeMode()!=n.Default||this.pageMarginMode()!=n.Default||this.pageOtherStyle()){if(t+="@page { ",this.pageSizeMode()!=n.Default){switch(t+="size: ",this.pageSizeMode()){case n.Auto:t+="auto";break;case n.Preset:t+=this.presetSize().name,this.isLandscape()&&(t+=" landscape");break;case n.Custom:t+=`${this.customWidth()} ${this.customHeight()}`;break;default:throw new Error(`Unknown pageSizeMode ${this.pageSizeMode()}`)}t+=`${e(this.pageSizeImportant())}; `}if(this.pageMarginMode()!=n.Default){switch(t+="margin: ",this.pageMarginMode()){case n.Auto:t+="auto";break;case n.Zero:t+="0";break;case n.Custom:t+=`${this.customMargin()}`;break;default:throw new Error(`Unknown pageMarginMode ${this.pageMarginMode()}`)}t+=`${e(this.pageMarginImportant())}; `}t+=this.pageOtherStyle(),t+="}\n"}if((this.firstPageMarginZero()||this.firstPageOtherStyle())&&(t+="@page :first { ",this.firstPageMarginZero()&&(t+=`margin: 0${e(this.firstPageMarginZeroImportant())}; `),t+=this.firstPageOtherStyle(),t+="}\n"),this.forceHtmlBodyMarginZero()&&(t+=":root, body { margin: 0 !important; }\n"),this.baseFontSizeSpecified()||this.baseLineHeightSpecified()||this.baseFontFamilySpecified()||this.rootOtherStyle()){t+=":root { ";const n=this.baseFontSize();if(this.baseFontSizeSpecified())if(this.viewerFontSize&&this.viewerFontSize()!=A.viewerFontSize&&!n.endsWith("%")){t+=`font-size: calc(${this.fontSizePxToPercent(Number(this.viewerFontSize()),1,5)} * ${n})${e(this.baseFontSizeImportant())}; `}else t+=`font-size: ${this.baseFontSize()}${e(this.baseFontSizeImportant())}; `;this.baseLineHeightSpecified()&&(t+=`line-height: ${this.baseLineHeight()}${e(this.baseLineHeightImportant())}; `),this.baseFontFamilySpecified()&&(t+=`font-family: ${this.baseFontFamily()}${e(this.baseFontFamilyImportant())}; `),t+=this.rootOtherStyle(),t+="}\n"}return(this.baseFontSizeSpecified()&&this.baseFontSizeImportant()||this.baseLineHeightSpecified()&&this.baseLineHeightImportant()||this.baseFontFamilySpecified()&&this.baseFontFamilyImportant())&&(t+="body { ",this.baseFontSizeSpecified()&&this.baseFontSizeImportant()&&(t+="font-size: inherit !important; "),this.baseLineHeightSpecified()&&this.baseLineHeightImportant()&&(t+="line-height: inherit !important; "),this.baseFontFamilySpecified()&&this.baseFontFamilyImportant()&&(t+="font-family: inherit !important; "),t+="}\n"),this.widowsOrphans()&&(t+="* { ",t+=`widows: ${this.widowsOrphans()}${e(this.widowsOrphansImportant())}; `,t+=`orphans: ${this.widowsOrphans()}${e(this.widowsOrphansImportant())}; `,t+="}\n"),(this.imageMaxSizeToFitPage()||this.imageKeepAspectRatio())&&(t+="img, svg { ",this.imageMaxSizeToFitPage()&&(t+=`max-inline-size: 100%${e(this.imageMaxSizeToFitPageImportant())}; `,t+=`max-block-size: 100vb${e(this.imageMaxSizeToFitPageImportant())}; `),this.imageKeepAspectRatio()&&(t+=`object-fit: contain${e(this.imageKeepAspectRatioImportant())}; `),t+="}\n"),t+="/*</viewer>*/\n",t+=this.afterOtherStyle(),t}copyFrom(e){this.pageSizeMode(e.pageSizeMode()),this.presetSize(e.presetSize()),this.isLandscape(e.isLandscape()),this.customWidth(e.customWidth()),this.customHeight(e.customHeight()),this.pageSizeImportant(e.pageSizeImportant()),this.pageMarginMode(e.pageMarginMode()),this.customMargin(e.customMargin()),this.pageMarginImportant(e.pageMarginImportant()),this.firstPageMarginZero(e.firstPageMarginZero()),this.firstPageMarginZeroImportant(e.firstPageMarginZeroImportant()),this.forceHtmlBodyMarginZero(e.forceHtmlBodyMarginZero()),this.widowsOrphans(e.widowsOrphans()),this.widowsOrphansImportant(e.widowsOrphansImportant()),this.imageMaxSizeToFitPage(e.imageMaxSizeToFitPage()),this.imageMaxSizeToFitPageImportant(e.imageMaxSizeToFitPageImportant()),this.imageKeepAspectRatio(e.imageKeepAspectRatio()),this.imageKeepAspectRatioImportant(e.imageKeepAspectRatioImportant()),this.baseFontSize(e.baseFontSize()),this.baseFontSizeSpecified(e.baseFontSizeSpecified()),this.baseFontSizeImportant(e.baseFontSizeImportant()),this.baseLineHeight(e.baseLineHeight()),this.baseLineHeightSpecified(e.baseLineHeightSpecified()),this.baseLineHeightImportant(e.baseLineHeightImportant()),this.baseFontFamily(e.baseFontFamily()),this.baseFontFamilySpecified(e.baseFontFamilySpecified()),this.baseFontFamilyImportant(e.baseFontFamilyImportant()),this.allImportant(e.allImportant()),this.pageOtherStyle(e.pageOtherStyle()),this.firstPageOtherStyle(e.firstPageOtherStyle()),this.rootOtherStyle(e.rootOtherStyle()),this.beforeOtherStyle(e.beforeOtherStyle()),this.afterOtherStyle(e.afterOtherStyle()),this.viewerFontSize&&e.viewerFontSize&&this.viewerFontSize(e.viewerFontSize())}equivalentTo(e){return this.pageSizeMode()===e.pageSizeMode()&&((this.pageSizeMode()!==n.Preset||this.presetSize()===e.presetSize())&&((this.pageSizeMode()!==n.Preset||this.isLandscape()===e.isLandscape())&&((this.pageSizeMode()!==n.Custom||this.customWidth()===e.customWidth())&&((this.pageSizeMode()!==n.Custom||this.customHeight()===e.customHeight())&&(this.pageSizeImportant()===e.pageSizeImportant()&&(this.pageMarginMode()===e.pageMarginMode()&&((this.pageMarginMode()!==n.Custom||this.customMargin()===e.customMargin())&&(this.pageMarginImportant()===e.pageMarginImportant()&&(this.firstPageMarginZero()===e.firstPageMarginZero()&&(this.firstPageMarginZeroImportant()===e.firstPageMarginZeroImportant()&&(this.forceHtmlBodyMarginZero()===e.forceHtmlBodyMarginZero()&&(this.widowsOrphans()===e.widowsOrphans()&&(this.widowsOrphansImportant()===e.widowsOrphansImportant()&&(this.imageMaxSizeToFitPage()===e.imageMaxSizeToFitPage()&&(this.imageMaxSizeToFitPageImportant()===e.imageMaxSizeToFitPageImportant()&&(this.imageKeepAspectRatio()===e.imageKeepAspectRatio()&&(this.imageKeepAspectRatioImportant()===e.imageKeepAspectRatioImportant()&&(this.baseFontSizeSpecified()===e.baseFontSizeSpecified()&&((!this.baseFontSizeSpecified()||this.baseFontSize()===e.baseFontSize())&&(this.baseFontSizeImportant()===e.baseFontSizeImportant()&&(this.baseLineHeightSpecified()===e.baseLineHeightSpecified()&&((!this.baseLineHeightSpecified()||this.baseLineHeight()===e.baseLineHeight())&&(this.baseLineHeightImportant()===e.baseLineHeightImportant()&&(this.baseFontFamilySpecified()===e.baseFontFamilySpecified()&&((!this.baseFontFamilySpecified()||this.baseFontFamily()===e.baseFontFamily())&&(this.baseFontFamilyImportant()===e.baseFontFamilyImportant()&&(this.allImportant()===e.allImportant()&&(this.pageOtherStyle()===e.pageOtherStyle()&&(this.firstPageOtherStyle()===e.firstPageOtherStyle()&&(this.rootOtherStyle()===e.rootOtherStyle()&&(this.beforeOtherStyle()===e.beforeOtherStyle()&&(this.afterOtherStyle()===e.afterOtherStyle()&&!(!this.viewerFontSize!=!e.viewerFontSize||this.viewerFontSize&&this.viewerFontSize()!==e.viewerFontSize())))))))))))))))))))))))))))))))))}}O.Mode=n,O.Constants=A,O.PresetSize=P;var R={escapeUnicodeChar:e=>`\\u${(65536|e.charCodeAt(0)).toString(16).substring(1)}`,escapeUnicodeString(e){return e.replace(/[^-a-zA-Z0-9_]/g,this.escapeUnicodeChar)},percentEncodeAmpersandAndUnencodedPercent:e=>e.replace(/%(?![0-9A-Fa-f]{2})/g,"%25").replace(/&/g,"%26"),percentEncodeAmpersandAndPercent:e=>e.replace(/%/g,"%25").replace(/&/g,"%26"),percentDecodeAmpersandAndPercent:e=>e.replace(/%26/g,"&").replace(/%25/g,"%"),percentEncodeForDataURI:e=>encodeURI(e).replace(/#/g,"%23").replace(/&/g,"%26")};function k(e){return new RegExp(`[#&]${R.escapeUnicodeString(e)}=([^&]*)`,"g")}const L=new class{constructor(){this.history=window?window.history:null,this.location=window?window.location:{href:""},this.storedUrl=this.location.href}getBaseURL(){let e=this.location.href;return e=e.replace(/#.*$/,""),e.replace(/\/[^/]*$/,"/")}hasParameter(e){const t=this.location.href;return k(e).test(t)}getParameter(e){const t=this.location.href,n=k(e),i=[];let o;for(;o=n.exec(t);)i.push(o[1]);return i}setParameter(e,t,n){const i=this.location.href;let o;const s=k(e);let r=s.exec(i);if(r&&n)for(;n-- >=1;)r=s.exec(i);if(r){const e=r[1].length,n=r.index+r[0].length-e;o=i.substring(0,n)+t+i.substring(n+e)}else o=`${i+(i.match(/[#&]$/)?"":i.match(/#/)?"&":"#")+e}=${t}`,"src"===e&&(o=o.replace(/#(?!src)(.*?)&(src=[^&]*)/,"#$2&$1"));null!==this.history&&this.history.replaceState?this.history.replaceState(null,"",o):this.location.href=o,this.storedUrl=o}removeParameter(e,t){const n=this.location.href;let i;const o=k(e);let s=o.exec(n);if(s&&t&&(s=o.exec(n)),s){for(i=n;s;s=o.exec(i)){const e=s.index+s[0].length;i="#"==s[0].charAt(0)?i.substring(0,s.index+1)+i.substring(e+1):i.substring(0,s.index)+i.substring(e),o.lastIndex-=s[0].length}i=i.replace(/^(.*?)[#&]$/,"$1"),null!==this.history&&this.history.replaceState?this.history.replaceState(null,"",i):this.location.href=i}this.storedUrl=i}};class F{constructor(){const e=function(){const e=L.getParameter("src"),t=L.getParameter("b"),n=L.getParameter("x"),i=L.getParameter("bookMode")[0],o=L.getParameter("f")[0],s=L.getParameter("style"),r=L.getParameter("userStyle");return{srcUrls:e.length?e:t.length?t:n.length?n:null,bookMode:"true"===i||"false"!==i&&!!t.length,fragment:o||null,authorStyleSheet:s.length?s:[],userStyleSheet:r.length?r:[]}}();this.srcUrls=i.observable(e.srcUrls||null),this.bookMode=i.observable(e.bookMode),this.fragment=i.observable(e.fragment||""),this.authorStyleSheet=i.observable(e.authorStyleSheet),this.userStyleSheet=i.observable(e.userStyleSheet),this.pageStyle=new O,this.dataUserStyleIndex=-1,this.bookMode.subscribe(e=>{e?L.setParameter("bookMode",e.toString()):L.removeParameter("bookMode")}),this.fragment.subscribe(e=>{if(/^epubcfi\(\/([246]\/)?2!\)/.test(e))L.removeParameter("f");else{const t=e.replace(/[\s+&?=#\u007F-\uFFFF]+/g,encodeURIComponent);L.setParameter("f",t)}}),e.userStyleSheet.find((e,t)=>{if(/^data:,.*?\/\*(?:<|%3C)viewer(?:>|%3E)\*\//.test(e)){this.dataUserStyleIndex=t;const n=e.replace(/^data:,/,"").replace(/%(?![0-9A-Fa-f]{2})/g,"%25"),i=decodeURIComponent(n);return this.pageStyle.cssText(i),!0}return!1}),this.pageStyle.cssText.subscribe(e=>{this.updateUserStyleSheetFromCSSText(e)})}toObject(){function e(e){return e.map(e=>({url:e}))}const t=e(this.userStyleSheet());return this.pageStyle.pageSizeMode()==O.Mode.Default&&t.unshift({text:"@page{size:auto}"}),{fragment:this.fragment(),authorStyleSheet:e(this.authorStyleSheet()),userStyleSheet:t}}updateUserStyleSheetFromCSSText(e){null==e&&(e=this.pageStyle.toCSSText());const t=this.userStyleSheet();if((!e||/^\s*(\/\*.*?\*\/\s*)*$/.test(e))&&t.length<=(-1==this.dataUserStyleIndex?0:1))return t.pop(),this.dataUserStyleIndex=-1,this.userStyleSheet(t),void L.removeParameter("userStyle");const n="data:,"+R.percentEncodeForDataURI(e.trim());-1==this.dataUserStyleIndex?(t.push(n),this.dataUserStyleIndex=t.length-1):t[this.dataUserStyleIndex]=n,this.userStyleSheet(t),L.setParameter("userStyle",n,this.dataUserStyleIndex)}}class D{toSpreadViewString(){switch(this){case _.SPREAD:return"true";case _.SINGLE_PAGE:return"false";case _.AUTO_SPREAD:return"auto";default:throw new Error("Invalid PageViewMode")}}toString(){switch(this){case _.SPREAD:return"spread";case _.SINGLE_PAGE:return"singlePage";case _.AUTO_SPREAD:return"autoSpread";default:throw new Error("Invalid PageViewMode")}}}const _={AUTO_SPREAD:new D,SINGLE_PAGE:new D,SPREAD:new D,defaultMode(){return this.AUTO_SPREAD},fromSpreadViewString(e){switch(e){case"true":return this.SPREAD;case"false":return this.SINGLE_PAGE;case"auto":default:return this.AUTO_SPREAD}},of(e){switch(e){case p.SPREAD:return this.SPREAD;case p.SINGLE_PAGE:return this.SINGLE_PAGE;case p.AUTO_SPREAD:return this.AUTO_SPREAD;default:throw new Error(`Invalid PageViewMode name: ${e}`)}}};class B{constructor(e){this.zoom=e}get fitToScreen(){return null}getCurrentZoomFactor(e){return 1}toggleFitToScreen(){return new B(1)}zoomIn(e){return new U(1.25*this.getCurrentZoomFactor(e))}zoomOut(e){return new U(.8*this.getCurrentZoomFactor(e))}zoomToActualSize(){return new U(1)}static createDefaultOptions(){return new M}static createFromZoomFactor(e){return new U(e)}}class M extends B{constructor(){super(1)}get fitToScreen(){return!0}toggleFitToScreen(){return new U(1)}getCurrentZoomFactor(e){return e.queryZoomFactor(g.FIT_INSIDE_VIEWPORT)}}class U extends B{get fitToScreen(){return!1}toggleFitToScreen(){return new M}getCurrentZoomFactor(){return this.zoom}}function z(){return{renderAllPages:!0,fontSize:16,profile:!1,pageViewMode:_.defaultMode(),zoom:B.createDefaultOptions()}}class V{constructor(e){if(this.renderAllPages=i.observable(),this.fontSize=i.observable(),this.profile=i.observable(),this.pageViewMode=i.observable(),this.zoom=i.observable(),e)this.copyFrom(e);else{const e=z(),t=function(){const e=L.getParameter("renderAllPages")[0],t=L.getParameter("fontSize")[0],n=/^([\d.]+)(?:(%25|%)|\/([\d.]+))?$/.exec(t);let i=null;if(n){const[,e,t,o]=n;i=parseFloat(e),(t||o)&&(i=16*i/(t?100:parseFloat(o))),i<5&&(i=5),i>72&&(i=72)}return{renderAllPages:"true"===e||"false"!==e&&(!L.hasParameter("b")&&null),fontSize:i,profile:"true"===L.getParameter("profile")[0],pageViewMode:_.fromSpreadViewString(L.getParameter("spread")[0]),zoom:void 0}}();this.renderAllPages(null!==t.renderAllPages?t.renderAllPages:e.renderAllPages),this.fontSize(t.fontSize||e.fontSize),this.profile(t.profile||e.profile),this.pageViewMode(t.pageViewMode||e.pageViewMode),this.zoom(e.zoom),this.pageViewMode.subscribe(t=>{t===e.pageViewMode?L.removeParameter("spread"):L.setParameter("spread",t.toSpreadViewString())}),this.renderAllPages.subscribe(t=>{t===e.renderAllPages?L.removeParameter("renderAllPages"):L.setParameter("renderAllPages",t.toString())}),this.fontSize.subscribe(t=>{"number"==typeof t&&(t=t.toPrecision(10).replace(/(?:\.0*|(\.\d*?)0+)$/,"$1")),Number(t)==e.fontSize?L.removeParameter("fontSize"):L.setParameter("fontSize",`${t}/${e.fontSize}`)})}}copyFrom(e){this.renderAllPages(e.renderAllPages()),this.fontSize(e.fontSize()),this.profile(e.profile()),this.pageViewMode(e.pageViewMode()),this.zoom(e.zoom())}toObject(){return{renderAllPages:this.renderAllPages(),fontSize:Number(this.fontSize()),pageViewMode:this.pageViewMode().toString(),fitToScreen:this.zoom().fitToScreen,zoom:this.zoom().zoom}}}V.getDefaultValues=z;var H,G=i.observableArray();!function(e){e.Debug="debug",e.Info="info",e.Warn="warn",e.Error="error"}(H||(H={}));class ${constructor(){this.logLevel=H.Error}static getLogger(){return new $}setLogLevel(e){this.logLevel=e}debug(e){this.logLevel===H.Debug&&G.push({type:"debug",content:e})}info(e){this.logLevel!==H.Debug&&this.logLevel!==H.Info||G.push({type:"info",content:e})}warn(e){this.logLevel!==H.Debug&&this.logLevel!==H.Info&&this.logLevel!==H.Warn||G.push({type:"warn",content:e})}error(e){this.logLevel!==H.Debug&&this.logLevel!==H.Info&&this.logLevel!==H.Warn&&this.logLevel!==H.Error||G.push({type:"error",content:e})}}const W={readonlyObservable(e){const t=i.observable(e);return{getter:i.pureComputed(()=>t()),value:t}}};class X{constructor(e,t){this.viewerOptions_=t,this.documentOptions_=null,this.coreViewer_=new d(e,t.toObject());const n=this.state_={status:W.readonlyObservable(h.LOADING),pageProgression:W.readonlyObservable(a.LTR)};this.state={status:n.status.getter.extend({rateLimit:{timeout:100,method:"notifyWhenChangesStop"},notify:"always"}),navigatable:i.pureComputed(()=>n.status.value()&&n.status.value()!==h.LOADING),pageProgression:n.pageProgression.getter},this.epage=i.observable(),this.epageCount=i.observable(),this.firstPage=i.observable(),this.lastPage=i.observable(),this.tocVisible=i.observable(),this.tocPinned=i.observable(),this.inputUrl=i.observable(""),this.setupViewerEventHandler(),this.setupViewerOptionSubscriptions()}setupViewerEventHandler(){const e=$.getLogger();this.coreViewer_.addListener("debug",t=>{e.debug(t.content)}),this.coreViewer_.addListener("info",t=>{e.info(t.content)}),this.coreViewer_.addListener("warn",t=>{e.warn(t.content)}),this.coreViewer_.addListener("error",t=>{e.error(t.content)}),this.coreViewer_.addListener("readystatechange",()=>{const e=this.coreViewer_.readyState;e!==h.INTERACTIVE&&e!==h.COMPLETE||this.state_.pageProgression.value(this.coreViewer_.getCurrentPageProgression()),this.state_.status.value(e)}),this.coreViewer_.addListener("loaded",()=>{this.viewerOptions_.profile()&&N.printTimings()}),this.coreViewer_.addListener("nav",e=>{const{cfi:t,first:n,last:i,epage:o,epageCount:s,metadata:r,docTitle:a}=e;if(t&&this.documentOptions_.fragment(t),void 0!==n&&this.firstPage(n),void 0!==i&&this.lastPage(i),void 0!==o&&this.epage(o),void 0!==s&&this.epageCount(s),r||a){const e=r&&r["http://purl.org/dc/terms/title"],t=e&&e[0]&&e[0].v;t?!a||a===t||this.firstPage()||/\.xhtml$/.test(a)?document.title=t:document.title=`${a} | ${t}`:document.title=a||"Vivliostyle Viewer"}const l=this.tocVisible(),h=this.coreViewer_.isTOCVisible();l&&!h||this.tocVisible(h)}),this.coreViewer_.addListener("hyperlink",e=>{e.internal?(this.navigateToInternalUrl(e.href),this.tocVisible()&&this.tocVisible(!1),document.getElementById("vivliostyle-viewer-viewport").focus()):window.location.href=e.href})}setupViewerOptionSubscriptions(){i.computed((function(){const e=this.viewerOptions_.toObject();this.coreViewer_.setOptions(e)}),this).extend({rateLimit:0})}loadDocument(e,t){this.state_.status.value(h.LOADING),t&&this.viewerOptions_.copyFrom(t),this.documentOptions_=e,e.srcUrls()?e.bookMode()?this.coreViewer_.loadPublication(e.srcUrls()[0],e.toObject(),this.viewerOptions_.toObject()):this.coreViewer_.loadDocument(e.srcUrls(),e.toObject(),this.viewerOptions_.toObject()):this.state_.status.value("")}navigateToPrevious(){this.coreViewer_.navigateToPage(u.PREVIOUS)}navigateToNext(){this.coreViewer_.navigateToPage(u.NEXT)}navigateToLeft(){this.coreViewer_.navigateToPage(u.LEFT)}navigateToRight(){this.coreViewer_.navigateToPage(u.RIGHT)}navigateToFirst(){this.coreViewer_.navigateToPage(u.FIRST)}navigateToLast(){this.coreViewer_.navigateToPage(u.LAST)}navigateToEPage(e){this.coreViewer_.navigateToPage(u.EPAGE,e)}navigateToInternalUrl(e){this.coreViewer_.navigateToInternalUrl(e)}queryZoomFactor(e){return this.coreViewer_.queryZoomFactor(e)}epageToPageNumber(e){if(!e&&0!=e)return;return Math.round(e+1)}epageFromPageNumber(e){if(!e&&0!=e)return;return e-1}showTOC(e,t){if(null==this.coreViewer_.isTOCVisible())return;const n=null==e?!this.tocVisible():e;this.tocVisible(n),this.tocPinned(!!n&&!t),this.coreViewer_.showTOC(n,t)}}const j={Unidentified:"Unidentified",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowUp:"ArrowUp",Home:"Home",End:"End",PageDown:"PageDown",PageUp:"PageUp",Escape:"Escape",Enter:"Enter",Space:" "};var K={Keys:j,identifyKeyFromEvent:function(e){const t=e.key,n=e.keyIdentifier,i=e.location;return t===j.ArrowDown||"Down"===t||"Down"===n?e.metaKey?j.End:j.ArrowDown:t===j.ArrowLeft||"Left"===t||"Left"===n?j.ArrowLeft:t===j.ArrowRight||"Right"===t||"Right"===n?j.ArrowRight:t===j.ArrowUp||"Up"===t||"Up"===n?e.metaKey?j.Home:j.ArrowUp:t===j.Escape||"Esc"===t||"U+001B"===n?j.Escape:t===j.Enter||"Enter"===n?j.Enter:t===j.Space||"U+0020"===n?j.Space:"0"===t||"U+0030"===n?"0":"+"===t||"Add"===t||"U+002B"===n||"U+00BB"===n||"U+004B"===n&&i===KeyboardEvent.DOM_KEY_LOCATION_NUMPAD?"+":"-"===t||"Subtract"===t||"U+002D"===n||"U+00BD"===n||"U+004D"===n&&i===KeyboardEvent.DOM_KEY_LOCATION_NUMPAD?"-":t||n||j.Unidentified}};const{Keys:Y}=K;class q{constructor(e,t,n,o){this.viewerOptions_=e,this.viewer_=t,this.settingsPanel_=n,this.justClicked=!1,this.isDisabled=i.pureComputed(()=>this.settingsPanel_.opened()&&!this.settingsPanel_.pinned()||!this.viewer_.state.navigatable());const s=i.pureComputed(()=>o.disablePageNavigation||this.isDisabled());s.subscribe(e=>{const t=document.getElementById("vivliostyle-page-number");t&&(t.disabled=e)}),this.isPageNumberDisabled=i.pureComputed(()=>s()),this.isNavigateToPreviousDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.status&&this.viewer_.firstPage()),this.isNavigateToNextDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.status&&((!this.viewerOptions_.renderAllPages()||this.viewer_.state.status()==h.COMPLETE)&&this.viewer_.lastPage())),this.isNavigateToLeftDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.pageProgression&&(this.viewer_.state.pageProgression()===a.LTR?this.isNavigateToPreviousDisabled():this.isNavigateToNextDisabled())),this.isNavigateToRightDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.pageProgression&&(this.viewer_.state.pageProgression()===a.LTR?this.isNavigateToNextDisabled():this.isNavigateToPreviousDisabled())),this.isNavigateToFirstDisabled=this.isNavigateToPreviousDisabled,this.isNavigateToLastDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.status&&(!(!this.viewerOptions_.renderAllPages()||this.viewer_.state.status()==h.COMPLETE)||this.viewer_.lastPage())),this.hidePageNavigation=!!o.disablePageNavigation;const r=i.pureComputed(()=>o.disableZoom||this.isDisabled());this.isZoomOutDisabled=r,this.isZoomInDisabled=r,this.isZoomToActualSizeDisabled=r,this.isToggleFitToScreenDisabled=r,this.hideZoom=!!o.disableZoom,this.fitToScreen=i.pureComputed(()=>e.zoom().fitToScreen);const l=i.pureComputed(()=>o.disableFontSizeChange||this.isDisabled());this.isIncreaseFontSizeDisabled=i.pureComputed(()=>!!l()||this.viewerOptions_.fontSize()>=72),this.isDecreaseFontSizeDisabled=i.pureComputed(()=>!!l()||this.viewerOptions_.fontSize()<=5),this.isDefaultFontSizeDisabled=l,this.hideFontSizeChange=!!o.disableFontSizeChange,this.isTOCToggleDisabled=i.pureComputed(()=>o.disableTOCNavigation||this.isDisabled()||null==this.viewer_.tocVisible()),this.hideTOCNavigation=!!o.disableTOCNavigation,this.pageNumber=i.pureComputed({read(){return this.viewer_.epageToPageNumber(this.viewer_.epage())},write(e){const t=this.viewer_.epage(),n=this.viewer_.epageToPageNumber(t);let i=parseFloat(e.toString().replace(/[０-９]/g,e=>String.fromCharCode(e.charCodeAt(0)-65248)))||0;if(/^[-+]/.test(e.toString())&&(i=n+i),i<1)i=1;else{const e=this.viewer_.epageCount();this.viewerOptions_.renderAllPages()?i>e&&(i=e):i>e+1&&(i=e+1)}const o=this.viewer_.epageFromPageNumber(i),s=document.getElementById("vivliostyle-page-number");s.value=i.toString(),this.viewer_.navigateToEPage(o),setTimeout(()=>{this.viewer_.state.status()!=h.LOADING&&this.viewer_.epage()===t&&(s.value=n.toString()),document.getElementById("vivliostyle-viewer-viewport").focus()},10)},owner:this}),this.totalPages=i.pureComputed(()=>{let e=this.viewer_.epageCount();if(!e)return e;const t=Number(this.pageNumber());return this.viewer_.lastPage()?e=t:t>=e&&e++,e}),["navigateToPrevious","navigateToNext","navigateToLeft","navigateToRight","navigateToFirst","navigateToLast","zoomIn","zoomOut","zoomToActualSize","toggleFitToScreen","increaseFontSize","decreaseFontSize","defaultFontSize","onclickViewport","toggleTOC"].forEach(e=>{this[e]=this[e].bind(this)})}static PREVIOUS(e){throw new Error("Method not implemented.")}static NEXT(e){throw new Error("Method not implemented.")}static LEFT(e){throw new Error("Method not implemented.")}static RIGHT(e){throw new Error("Method not implemented.")}static FIRST(e){throw new Error("Method not implemented.")}static LAST(e){throw new Error("Method not implemented.")}static EPAGE(e,t){throw new Error("Method not implemented.")}navigateToPrevious(){return!this.isNavigateToPreviousDisabled()&&(this.viewer_.navigateToPrevious(),!0)}navigateToNext(){return!this.isNavigateToNextDisabled()&&(this.viewer_.navigateToNext(),!0)}navigateToLeft(){return!this.isNavigateToLeftDisabled()&&(this.viewer_.navigateToLeft(),!0)}navigateToRight(){return!this.isNavigateToRightDisabled()&&(this.viewer_.navigateToRight(),!0)}navigateToFirst(){return!this.isNavigateToFirstDisabled()&&(this.viewer_.navigateToFirst(),!0)}navigateToLast(){return!this.isNavigateToLastDisabled()&&(this.viewer_.navigateToLast(),!0)}zoomIn(){if(this.isZoomInDisabled())return!1;{const e=this.viewerOptions_.zoom();return this.viewerOptions_.zoom(e.zoomIn(this.viewer_)),!0}}zoomOut(){if(this.isZoomOutDisabled())return!1;{const e=this.viewerOptions_.zoom();return this.viewerOptions_.zoom(e.zoomOut(this.viewer_)),!0}}zoomToActualSize(){if(this.isZoomToActualSizeDisabled())return!1;{const e=this.viewerOptions_.zoom();return this.viewerOptions_.zoom(e.zoomToActualSize()),!0}}toggleFitToScreen(){if(this.isToggleFitToScreenDisabled())return!1;{const e=this.viewerOptions_.zoom();return this.viewerOptions_.zoom(e.toggleFitToScreen()),!0}}increaseFontSize(){if(this.isIncreaseFontSizeDisabled())return!1;{let e=Number(this.viewerOptions_.fontSize());return e=e<10?Math.floor(e)+1:e<20?2*(Math.floor(e/2)+1):e<40?4*(Math.floor(e/4)+1):e<72?8*(Math.floor(e/8)+1):72,this.viewerOptions_.fontSize(e),this.updateFontSizeSettings(),!0}}decreaseFontSize(){if(this.isDecreaseFontSizeDisabled())return!1;{let e=Number(this.viewerOptions_.fontSize());return e=e>40?8*(Math.ceil(e/8)-1):e>20?4*(Math.ceil(e/4)-1):e>10?2*(Math.ceil(e/2)-1):e>5?Math.ceil(e)-1:5,this.viewerOptions_.fontSize(e),this.updateFontSizeSettings(),!0}}defaultFontSize(){if(this.isDefaultFontSizeDisabled())return!1;{const e=V.getDefaultValues().fontSize;return this.viewerOptions_.fontSize(e),this.updateFontSizeSettings(),!0}}updateFontSizeSettings(){this.settingsPanel_.state.viewerOptions.fontSize(this.viewerOptions_.fontSize()),this.viewer_.documentOptions_.pageStyle.baseFontSizeSpecified()&&(this.viewer_.documentOptions_.updateUserStyleSheetFromCSSText(),this.viewer_.loadDocument(this.viewer_.documentOptions_,this.viewerOptions_))}onclickViewport(){if(this.settingsPanel_.justClicked)return!0;if(this.viewer_.tocVisible()&&!this.viewer_.tocPinned()){const e=document.querySelector("[data-vivliostyle-toc-box]");e&&!e.contains(document.activeElement)&&this.toggleTOC()}return this.settingsPanel_.opened()&&!this.settingsPanel_.pinned()&&this.settingsPanel_.close(),!0}toggleTOC(){if(this.isTOCToggleDisabled())return!1;{let e=null;return this.viewer_.tocVisible()?this.justClicked?(this.viewer_.showTOC(!0,!1),this.justClicked=!1):(null!==e&&(clearInterval(e),e=null),this.viewer_.showTOC(!1),this.justClicked=!0,setTimeout(()=>{this.justClicked&&(document.getElementById("vivliostyle-viewer-viewport").focus(),this.justClicked=!1)},300)):(this.justClicked?(this.viewer_.showTOC(!0,!1),this.justClicked=!1):(this.viewer_.showTOC(!0,!0),this.justClicked=!0),e=setInterval(()=>{const t=document.querySelector("[data-vivliostyle-toc-box]");t&&"visible"===t.style.visibility&&(t.tabIndex=0,t.focus(),clearInterval(e),e=null),this.justClicked=!1},300)),!0}}navigateTOC(e){const t=Array.from(document.querySelectorAll("[data-vivliostyle-toc-box]>*>*>*>*>*:not([hidden]) [tabindex='0'],[data-vivliostyle-toc-box]>*>*>*>*>*:not([hidden]) a[href]:not([tabindex='-1'])"));let n=t.indexOf(document.activeElement);const i=e=>t[e]&&"button"===t[e].getAttribute("role"),o=e=>t[e]&&"true"===t[e].getAttribute("aria-expanded");switch(e){case Y.ArrowLeft:if(-1==n){n=t.length-1;break}if(!i(n)&&i(n-1)&&n--,i(n)&&o(n))t[n].click();else for(let e=n-1;e>=0;e--)if(i(e)&&t[e].parentElement.contains(t[n])){n=e;break}break;case Y.ArrowRight:if(-1==n){n=0;break}!i(n)&&i(n-1)&&n--,i(n)&&(o(n)?n+=2:t[n].click());break;case Y.ArrowDown:n++;break;case Y.ArrowUp:if(-1==n){n=t.length-1;break}n>0&&i(--n)&&n--;break;case Y.Home:n=0;break;case Y.End:n=t.length-1;break;case Y.Space:!i(n)&&i(n-1)&&n--,i(n)&&t[n].click()}return i(n)&&n++,t[n]&&t[n].focus(),!0}handleKey(e){if(this.settingsPanel_.opened()&&this.settingsPanel_.settingsToggle.contains(document.activeElement))return!0;const t=document.getElementById("vivliostyle-page-number"),n=document.getElementById("vivliostyle-viewer-viewport"),i=n.scrollWidth>n.clientWidth,o=n.scrollHeight>n.clientHeight,s=t===document.activeElement,r=this.viewer_.tocVisible()&&!s&&n!=document.activeElement;switch(e){case"+":return s||!this.increaseFontSize();case"-":return s||!this.decreaseFontSize();case"0":return s||!this.defaultFontSize();case"1":return s||!this.zoomToActualSize();case Y.ArrowLeft:return r?!this.navigateTOC(e):s||i||!this.navigateToLeft();case Y.ArrowRight:return r?!this.navigateTOC(e):s||i||!this.navigateToRight();case Y.ArrowDown:return r?!this.navigateTOC(e):(n.focus(),o||!this.navigateToNext());case Y.ArrowUp:return r?!this.navigateTOC(e):(n.focus(),o||!this.navigateToPrevious());case Y.PageDown:return!!r||(n.focus(),!this.navigateToNext());case Y.PageUp:return!!r||(n.focus(),!this.navigateToPrevious());case Y.Home:return r?!this.navigateTOC(e):(n.focus(),!this.navigateToFirst());case Y.End:return r?!this.navigateTOC(e):(n.focus(),!this.navigateToLast());case"o":case"O":return n.focus(),!this.zoomOut();case"i":case"I":return n.focus(),!this.zoomIn();case"f":case"F":return n.focus(),!this.toggleFitToScreen();case"g":case"G":return t.focus(),!1;case"t":case"T":return n.focus(),!this.toggleTOC();case Y.Escape:return this.viewer_.tocVisible()?!this.toggleTOC():(n.focus(),!0);case Y.Space:return r?!this.navigateTOC(e):"button"!==document.activeElement.getAttribute("role")||(document.activeElement.click(),!1);default:return!0}}}const{Keys:Z}=K;class Q{constructor(e,t,n,o,s){this.viewerOptions_=e,this.documentOptions_=t,this.viewer_=n,this.isPageStyleChangeDisabled=!!s.disablePageStyleChange,this.isOverrideDocumentStyleSheetDisabled=this.isPageStyleChangeDisabled,this.isPageViewModeChangeDisabled=!!s.disablePageViewModeChange,this.isBookModeChangeDisabled=!!s.disableBookModeChange,this.isRenderAllPagesChangeDisabled=!!s.disableRenderAllPagesChange,this.justClicked=!1,this.settingsToggle=document.getElementById("vivliostyle-menu-item_settings-toggle"),this.opened=i.observable(!1),this.pinned=i.observable(!1),this.state={viewerOptions:new V(e),pageStyle:new O(t.pageStyle),pageViewMode:i.pureComputed({read:()=>this.state.viewerOptions.pageViewMode().toString(),write:e=>{this.state.viewerOptions.pageViewMode(_.of(e))}}),bookMode:i.observable(t.bookMode()),renderAllPages:i.pureComputed({read:()=>this.state.viewerOptions.renderAllPages(),write:e=>{this.state.viewerOptions.renderAllPages(e)}})},this.state.pageStyle.setViewerFontSizeObservable(this.state.viewerOptions.fontSize),this.defaultPageStyle=new O,["close","toggle","apply","cancel","resetUserStyle"].forEach((function(e){this[e]=this[e].bind(this)}),this),o.visible.subscribe((function(e){e&&this.close()}),this),this.state.bookMode.subscribe(e=>{t.bookMode(e)}),this.state.renderAllPages.subscribe(t=>{e.renderAllPages(t)})}close(){this.opened(!1),this.pinned(!1);const e=document.getElementById("vivliostyle-viewer-viewport");return e&&e.focus(),!0}toggle(){this.opened()?this.justClicked?(this.justClicked=!1,this.pinned(!0)):(this.close(),this.justClicked=!0,setTimeout(()=>{this.justClicked=!1},300)):(this.viewer_.tocPinned()||this.viewer_.showTOC(!1),this.opened(!0),this.justClicked?(this.justClicked=!1,this.pinned(!0)):(this.pinned(!1),this.justClicked=!0,this.focusToFirstItem(),setTimeout(()=>{this.justClicked=!1},300)))}apply(){this.documentOptions_.pageStyle.copyFrom(this.state.pageStyle),this.documentOptions_.pageStyle.baseFontSizeSpecified()&&this.documentOptions_.updateUserStyleSheetFromCSSText(),this.viewer_.loadDocument(this.documentOptions_,this.state.viewerOptions),this.pinned()?this.focusToFirstItem():this.close()}cancel(){this.state.viewerOptions.copyFrom(this.viewerOptions_),this.state.pageStyle.copyFrom(this.documentOptions_.pageStyle),this.close()}resetUserStyle(){return this.state.pageStyle.copyFrom(this.defaultPageStyle),this.state.viewerOptions.fontSize(V.getDefaultValues().fontSize),setTimeout(()=>{document.getElementsByName("vivliostyle-settings_reset-user-style")[0].checked=!1},200),!0}focusToFirstItem(e){const t=e||this.settingsToggle,n=["input","textarea","summary"].includes(t.localName)?t:Array.from(t.getElementsByTagName("input")).find(e=>!e.disabled&&("radio"!=e.type||e.checked));if(n){for(let e=n.parentElement;e&&e!=this.settingsToggle;e=e.parentElement)"details"==e.localName&&(e.open=!0);n.focus()}}handleKey(e){const t=this.opened()&&this.settingsToggle.contains(document.activeElement),n=t&&("text"==document.activeElement.type||"select"==document.activeElement.localName),i=t&&"textarea"==document.activeElement.localName,o=t&&!n&&!i;switch(e){case Z.Escape:return this.opened()&&(this.cancel(),this.close()),!0;case"s":case"S":return!(!this.opened()||o||!t)||(this.toggle(),!1);case"p":case"P":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-view-and-rendering").firstElementChild),!1);case"v":case"V":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-view-mode")),!1);case"b":case"B":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_book-mode")[0]),!1);case"a":case"A":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_render-all-pages")[0]),!1);case"u":case"U":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_user-style").firstElementChild),!1);case"z":case"Z":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-size")),!1);case"m":case"M":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-margin")),!1);case"k":case"K":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-breaks")),!1);case"i":case"I":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_images")),!1);case"t":case"T":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_text")),!1);case"o":case"O":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_override-document-stylesheets")[0]),!1);case"c":case"C":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_css-details")[0]),!1);case"r":case"R":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_reset-user-style")[0]),!1);case Z.Enter:return!(n||o&&"vivliostyle-menu-button_apply"!==document.activeElement.id&&"vivliostyle-menu-button_reset"!==document.activeElement.id)||(document.getElementById("vivliostyle-menu-button_apply").focus(),!1);default:return!0}}}class J{constructor(e){this.list=e,this.visible=i.pureComputed(()=>e().length>0)}getDisplayMessage(e){const t=e.error;let n=t&&(t.toString()||t.frameTrace||t.stack);return n&&(n=n.split("\n",1)[0]),n||(n=e.messages.join("\n")),n}}function ee(){this.documentOptions=new F,this.viewerOptions=new V,this.documentOptions.pageStyle.setViewerFontSizeObservable(this.viewerOptions.fontSize),this.viewerOptions.profile()&&I.profiler.enable(),this.isDebug="true"===L.getParameter("debug")[0],this.viewerSettings={userAgentRootURL:`${L.getBaseURL()}resources/`,viewportElement:document.getElementById("vivliostyle-viewer-viewport"),debug:this.isDebug};const e=L.getParameter("src"),t=L.getParameter("b"),n=L.getParameter("x");e.length||(t.length?(L.setParameter("src",t[0]),L.setParameter("bookMode","true"),L.hasParameter("renderAllPages")||L.setParameter("renderAllPages","false")):n.length&&n.forEach((e,t)=>{L.setParameter("src",e,t)})),L.removeParameter("b"),L.removeParameter("x"),L.removeParameter("f",!0),L.removeParameter("spread",!0),L.removeParameter("bookMode",!0),L.removeParameter("renderAllPages",!0),L.removeParameter("fontSize",!0),L.removeParameter("profile",!0),L.removeParameter("debug",!0),this.viewer=new X(this.viewerSettings,this.viewerOptions),this.viewer.inputUrl.subscribe(e=>{""!=e?(L.hasParameter("src")||L.history.pushState&&L.history.pushState(null,""),e=e.startsWith("<")?"data:,"+R.percentEncodeForDataURI(e):R.percentEncodeAmpersandAndUnencodedPercent(e),L.setParameter("src",e),this.documentOptions.srcUrls(L.getParameter("src"))):L.removeParameter("src")}),this.messageDialog=new J(G);this.settingsPanel=new Q(this.viewerOptions,this.documentOptions,this.viewer,this.messageDialog,{disablePageStyleChange:!1,disablePageViewModeChange:!1,disableBookModeChange:!1,disableRenderAllPagesChange:!1});this.navigation=new q(this.viewerOptions,this.viewer,this.settingsPanel,{disableTOCNavigation:!1,disablePageNavigation:!1,disableZoom:!1,disableFontSizeChange:!1}),this.handleKey=(e,t)=>{const n=K.identifyKeyFromEvent(t);if("vivliostyle-input-url"===document.activeElement.id)return"Enter"!==n||13!==t.keyCode||(this.viewer.loadDocument(this.documentOptions),!1);if("Home"!==n&&"End"!==n&&(t.ctrlKey||t.metaKey)||t.altKey||t.shiftKey)return!0;let i=this.settingsPanel.handleKey(n);return i&&(i=this.navigation.handleKey(n)),i},this.viewer.loadDocument(this.documentOptions),window.onhashchange=()=>{window.location.href!=L.storedUrl&&window.location.reload()}}const te="ontouchstart"in window;i.bindingHandlers.menuButton={init(e,t){i.unwrap(t())&&(te?(e.addEventListener("touchstart",()=>{i.utils.toggleDomNodeCssClass(e,"hover active",!0)}),e.addEventListener("touchend",()=>{i.utils.toggleDomNodeCssClass(e,"hover active",!1)})):(e.addEventListener("mouseover",()=>{i.utils.toggleDomNodeCssClass(e,"hover",!0)}),e.addEventListener("mousedown",()=>{i.utils.toggleDomNodeCssClass(e,"active",!0)}),e.addEventListener("mouseup",()=>{i.utils.toggleDomNodeCssClass(e,"active",!1)}),e.addEventListener("mouseout",()=>{i.utils.toggleDomNodeCssClass(e,"hover",!1),i.utils.toggleDomNodeCssClass(e,"active",!1),window.getSelection().removeAllRanges()})))}};const ne="ontouchstart"in window;let ie=null,oe=null,se=null;i.bindingHandlers.swipePages={init(e,t){ne&&i.unwrap(t())&&(e.addEventListener("touchstart",e=>{if(e.touches.length>1)return;if(window.visualViewport&&window.visualViewport.scale>1)return;const t=document.getElementById("vivliostyle-viewer-viewport");t&&t.scrollWidth>t.clientWidth||(ie=e.touches[0].clientX,oe=e.touches[0].clientY)}),e.addEventListener("touchmove",e=>{if(!(e.touches.length>1)&&null!==ie&&null!==oe){const t=e.touches[0].clientX-ie,n=e.touches[0].clientY-oe;Math.abs(t)>Math.abs(n)&&(se=t<0?document.getElementById("vivliostyle-page-navigation-right"):document.getElementById("vivliostyle-page-navigation-left")),Math.abs(t)+Math.abs(n)>=16&&(se&&(se.click(),i.utils.toggleDomNodeCssClass(se,"active",!0)),ie=null,oe=null)}}),e.addEventListener("touchend",()=>{se&&i.utils.toggleDomNodeCssClass(se,"active",!1),se=null,ie=null,oe=null}))}},{start(){function e(){i.applyBindings(new ee)}window.__loaded?e():window.onload=e}}.start()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidml2bGlvc3R5bGUtdmlld2VyLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbW9kZWxzL3BhZ2Utc3R5bGUudHMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMva25vY2tvdXQvYnVpbGQvb3V0cHV0L2tub2Nrb3V0LWxhdGVzdC5qcyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2NvbnN0YW50cy50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2xvZ2dpbmcudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9wbHVnaW4udHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9wcm9maWxlLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvYmFzZS50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2NmaS50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2V4cHJzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY3NzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvZ2VvbWV0cnktdXRpbC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Nzcy1wcm9wLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY291bnRlcnMudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9jc3MtdG9rZW5pemVyLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvdGFzay50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3Rhc2stdXRpbC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL25ldC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Nzcy1wYXJzZXIudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9tYXRjaGVycy50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Nzcy1jYXNjYWRlLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY3NzLWxvZ2ljYWwtdXRpbC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3NpemluZy50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9mYXN0LWRpZmYvZGlmZi5qcyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3R5cGVzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvZGlmZi50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3Z0cmVlLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvcGFnZS1mbG9hdHMudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9mb290bm90ZXMudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9icmVhay50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2xheW91dC1oZWxwZXIudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9icmVhay1wb3NpdGlvbi50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Rpc3BsYXkudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9sYXlvdXQtcHJvY2Vzc29yLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvbGF5b3V0LXJldHJ5ZXJzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvbGF5b3V0LXV0aWwudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9zaGFyZWQudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9wc2V1ZG8tZWxlbWVudC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2xheW91dC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3JlcGV0aXRpdmUtZWxlbWVudC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3RhYmxlLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvbWF0aC11dGlsLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY29sdW1ucy50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Nzcy1zdHlsZXIudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9jc3MtdmFsaWRhdG9yLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvZm9udC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3BhZ2UtbWFzdGVyLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY3NzLXBhZ2UudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS91cmxzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvdmdlbi50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3htbC1kb2MudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9vcHMudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9zaGExLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvdG9jLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvZXB1Yi50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2FkYXB0aXZlLXZpZXdlci50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2NvcmUtdmlld2VyLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvcHJpbnQudHMiLCIuLi8uLi9zcmMvdXRpbHMvc3RyaW5nLXV0aWwudHMiLCIuLi8uLi9zcmMvc3RvcmVzL3VybC1wYXJhbWV0ZXJzLnRzIiwiLi4vLi4vc3JjL21vZGVscy9kb2N1bWVudC1vcHRpb25zLnRzIiwiLi4vLi4vc3JjL21vZGVscy9wYWdlLXZpZXctbW9kZS50cyIsIi4uLy4uL3NyYy9tb2RlbHMvem9vbS1vcHRpb25zLnRzIiwiLi4vLi4vc3JjL21vZGVscy92aWV3ZXItb3B0aW9ucy50cyIsIi4uLy4uL3NyYy9sb2dnaW5nL2xvZ2dlci50cyIsIi4uLy4uL3NyYy9tb2RlbHMvbWVzc2FnZS1xdWV1ZS50cyIsIi4uLy4uL3NyYy91dGlscy9vYnNlcnZhYmxlLXV0aWwudHMiLCIuLi8uLi9zcmMvdmlld21vZGVscy92aWV3ZXIudHMiLCIuLi8uLi9zcmMvdXRpbHMva2V5LXV0aWwudHMiLCIuLi8uLi9zcmMvdmlld21vZGVscy9uYXZpZ2F0aW9uLnRzIiwiLi4vLi4vc3JjL3ZpZXdtb2RlbHMvc2V0dGluZ3MtcGFuZWwudHMiLCIuLi8uLi9zcmMvdmlld21vZGVscy9tZXNzYWdlLWRpYWxvZy50cyIsIi4uLy4uL3NyYy92aWV3bW9kZWxzL3ZpZXdlci1hcHAudHMiLCIuLi8uLi9zcmMvYmluZGluZ3MvbWVudUJ1dHRvbi50cyIsIi4uLy4uL3NyYy9iaW5kaW5ncy9zd2lwZVBhZ2VzLnRzIiwiLi4vLi4vc3JjL3Zpdmxpb3N0eWxlLXZpZXdlci50cyIsIi4uLy4uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBrbywgeyBPYnNlcnZhYmxlLCBQdXJlQ29tcHV0ZWQgfSBmcm9tIFwia25vY2tvdXRcIjtcblxudHlwZSBQcmVzZXRTaXplID0geyBuYW1lOiBzdHJpbmc7IGRlc2NyaXB0aW9uOiBzdHJpbmcgfTtcbnR5cGUgQ29uc3RhbnRzID0ge1xuICBjdXN0b21XaWR0aDogc3RyaW5nO1xuICBjdXN0b21IZWlnaHQ6IHN0cmluZztcbiAgY3VzdG9tTWFyZ2luOiBzdHJpbmc7XG4gIGJhc2VGb250U2l6ZTogc3RyaW5nO1xuICBiYXNlTGluZUhlaWdodDogc3RyaW5nO1xuICBiYXNlRm9udEZhbWlseTogc3RyaW5nO1xuICB2aWV3ZXJGb250U2l6ZTogbnVtYmVyO1xufTtcblxuZW51bSBNb2RlIHtcbiAgRGVmYXVsdCA9IFwiXCIsXG4gIEF1dG8gPSBcImF1dG9cIixcbiAgUHJlc2V0ID0gXCJwcmVzZXRcIixcbiAgQ3VzdG9tID0gXCJjdXN0b21cIixcbiAgWmVybyA9IFwiMFwiLFxufVxuXG5jb25zdCBQUkVTRVRfU0laRTogQXJyYXk8UHJlc2V0U2l6ZT4gPSBbXG4gIHsgbmFtZTogXCJBNVwiLCBkZXNjcmlwdGlvbjogXCJBNVwiIH0sXG4gIHsgbmFtZTogXCJBNFwiLCBkZXNjcmlwdGlvbjogXCJBNFwiIH0sXG4gIHsgbmFtZTogXCJBM1wiLCBkZXNjcmlwdGlvbjogXCJBM1wiIH0sXG4gIHsgbmFtZTogXCJCNVwiLCBkZXNjcmlwdGlvbjogXCJCNSAoSVNPKVwiIH0sXG4gIHsgbmFtZTogXCJCNFwiLCBkZXNjcmlwdGlvbjogXCJCNCAoSVNPKVwiIH0sXG4gIHsgbmFtZTogXCJKSVMtQjVcIiwgZGVzY3JpcHRpb246IFwiQjUgKEpJUylcIiB9LFxuICB7IG5hbWU6IFwiSklTLUI0XCIsIGRlc2NyaXB0aW9uOiBcIkI0IChKSVMpXCIgfSxcbiAgeyBuYW1lOiBcImxldHRlclwiLCBkZXNjcmlwdGlvbjogXCJsZXR0ZXJcIiB9LFxuICB7IG5hbWU6IFwibGVnYWxcIiwgZGVzY3JpcHRpb246IFwibGVnYWxcIiB9LFxuICB7IG5hbWU6IFwibGVkZ2VyXCIsIGRlc2NyaXB0aW9uOiBcImxlZGdlclwiIH0sXG5dO1xuXG5jb25zdCBDT05TVEFOVFM6IENvbnN0YW50cyA9IHtcbiAgY3VzdG9tV2lkdGg6IFwiMjEwbW1cIixcbiAgY3VzdG9tSGVpZ2h0OiBcIjI5N21tXCIsXG4gIGN1c3RvbU1hcmdpbjogXCIxMCVcIixcbiAgYmFzZUZvbnRTaXplOiBcIjEycHRcIixcbiAgYmFzZUxpbmVIZWlnaHQ6IFwiMS4yXCIsXG4gIGJhc2VGb250RmFtaWx5OiBcInNlcmlmXCIsXG4gIHZpZXdlckZvbnRTaXplOiAxNixcbn07XG5cbmNsYXNzIFBhZ2VTdHlsZSB7XG4gIHBhZ2VTaXplTW9kZTogT2JzZXJ2YWJsZTxNb2RlPjtcbiAgcHJlc2V0U2l6ZTogT2JzZXJ2YWJsZTxQcmVzZXRTaXplPjtcbiAgaXNMYW5kc2NhcGU6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGN1c3RvbVdpZHRoOiBPYnNlcnZhYmxlPHN0cmluZz47XG4gIGN1c3RvbUhlaWdodDogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICBwYWdlU2l6ZUltcG9ydGFudDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgcGFnZU1hcmdpbk1vZGU6IE9ic2VydmFibGU8TW9kZT47XG4gIGN1c3RvbU1hcmdpbjogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICBwYWdlTWFyZ2luSW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBmaXJzdFBhZ2VNYXJnaW5aZXJvOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBmaXJzdFBhZ2VNYXJnaW5aZXJvSW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBmb3JjZUh0bWxCb2R5TWFyZ2luWmVybzogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgd2lkb3dzT3JwaGFuczogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICB3aWRvd3NPcnBoYW5zSW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBpbWFnZU1heFNpemVUb0ZpdFBhZ2U6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgaW1hZ2VLZWVwQXNwZWN0UmF0aW86IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBiYXNlRm9udFNpemU6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgYmFzZUZvbnRTaXplU3BlY2lmaWVkOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBiYXNlRm9udFNpemVJbXBvcnRhbnQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGJhc2VMaW5lSGVpZ2h0OiBPYnNlcnZhYmxlPHN0cmluZz47XG4gIGJhc2VMaW5lSGVpZ2h0U3BlY2lmaWVkOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBiYXNlTGluZUhlaWdodEltcG9ydGFudDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgYmFzZUZvbnRGYW1pbHk6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgYmFzZUZvbnRGYW1pbHlTcGVjaWZpZWQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGJhc2VGb250RmFtaWx5SW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBhbGxJbXBvcnRhbnQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIHBhZ2VPdGhlclN0eWxlOiBPYnNlcnZhYmxlPHN0cmluZz47XG4gIGZpcnN0UGFnZU90aGVyU3R5bGU6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgcm9vdE90aGVyU3R5bGU6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgYmVmb3JlT3RoZXJTdHlsZTogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICBhZnRlck90aGVyU3R5bGU6IE9ic2VydmFibGU8c3RyaW5nPjtcblxuICBjc3NUZXh0OiBQdXJlQ29tcHV0ZWQ8c3RyaW5nPjtcbiAgc2V0Vmlld2VyRm9udFNpemVPYnNlcnZhYmxlOiAoXG4gICAgdmlld2VyRm9udFNpemVPYnNlcnZhYmxlOiBudWxsIHwgT2JzZXJ2YWJsZTxudW1iZXIgfCBzdHJpbmc+LFxuICApID0+IHZvaWQ7XG4gIHBhZ2VTdHlsZVJlZ0V4cDogUmVnRXhwO1xuICB2aWV3ZXJGb250U2l6ZTogbnVsbCB8IE9ic2VydmFibGU8bnVtYmVyIHwgc3RyaW5nPjtcbiAgdmlld2VyRm9udFNpemVQZXJjZW50OiBQdXJlQ29tcHV0ZWQ8bnVtYmVyIHwgc3RyaW5nPjtcblxuICBzdGF0aWMgTW9kZSA9IE1vZGU7XG4gIHN0YXRpYyBDb25zdGFudHMgPSBDT05TVEFOVFM7XG4gIHN0YXRpYyBQcmVzZXRTaXplID0gUFJFU0VUX1NJWkU7XG4gIFByZXNldFNpemUgPSBQYWdlU3R5bGUuUHJlc2V0U2l6ZTtcblxuICBjb25zdHJ1Y3RvcihwYWdlU3R5bGU/OiB1bmtub3duKSB7XG4gICAgdGhpcy5wYWdlU2l6ZU1vZGUgPSBrby5vYnNlcnZhYmxlKE1vZGUuRGVmYXVsdCk7XG4gICAgdGhpcy5wcmVzZXRTaXplID0ga28ub2JzZXJ2YWJsZShQUkVTRVRfU0laRVsxXSk7XG4gICAgdGhpcy5pc0xhbmRzY2FwZSA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuY3VzdG9tV2lkdGggPSBrby5vYnNlcnZhYmxlKENPTlNUQU5UUy5jdXN0b21XaWR0aCk7XG4gICAgdGhpcy5jdXN0b21IZWlnaHQgPSBrby5vYnNlcnZhYmxlKENPTlNUQU5UUy5jdXN0b21IZWlnaHQpO1xuICAgIHRoaXMucGFnZVNpemVJbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLnBhZ2VNYXJnaW5Nb2RlID0ga28ub2JzZXJ2YWJsZShNb2RlLkRlZmF1bHQpO1xuICAgIHRoaXMuY3VzdG9tTWFyZ2luID0ga28ub2JzZXJ2YWJsZShDT05TVEFOVFMuY3VzdG9tTWFyZ2luKTtcbiAgICB0aGlzLnBhZ2VNYXJnaW5JbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmZpcnN0UGFnZU1hcmdpblplcm8gPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmZvcmNlSHRtbEJvZHlNYXJnaW5aZXJvID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gICAgdGhpcy53aWRvd3NPcnBoYW5zID0ga28ub2JzZXJ2YWJsZShcIlwiKTtcbiAgICB0aGlzLndpZG93c09ycGhhbnNJbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZSA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50ID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gICAgdGhpcy5pbWFnZUtlZXBBc3BlY3RSYXRpbyA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuaW1hZ2VLZWVwQXNwZWN0UmF0aW9JbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmJhc2VGb250U2l6ZSA9IGtvLm9ic2VydmFibGUoQ09OU1RBTlRTLmJhc2VGb250U2l6ZSk7XG4gICAgdGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudCA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuYmFzZUxpbmVIZWlnaHQgPSBrby5vYnNlcnZhYmxlKENPTlNUQU5UUy5iYXNlTGluZUhlaWdodCk7XG4gICAgdGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZCA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmJhc2VGb250RmFtaWx5ID0ga28ub2JzZXJ2YWJsZShDT05TVEFOVFMuYmFzZUZvbnRGYW1pbHkpO1xuICAgIHRoaXMuYmFzZUZvbnRGYW1pbHlTcGVjaWZpZWQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmJhc2VGb250RmFtaWx5SW1wb3J0YW50ID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gICAgdGhpcy5hbGxJbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLnBhZ2VPdGhlclN0eWxlID0ga28ub2JzZXJ2YWJsZShcIlwiKTtcbiAgICB0aGlzLmZpcnN0UGFnZU90aGVyU3R5bGUgPSBrby5vYnNlcnZhYmxlKFwiXCIpO1xuICAgIHRoaXMucm9vdE90aGVyU3R5bGUgPSBrby5vYnNlcnZhYmxlKFwiXCIpO1xuICAgIHRoaXMuYmVmb3JlT3RoZXJTdHlsZSA9IGtvLm9ic2VydmFibGUoXCJcIik7XG4gICAgdGhpcy5hZnRlck90aGVyU3R5bGUgPSBrby5vYnNlcnZhYmxlKFwiXCIpO1xuXG4gICAgdGhpcy52aWV3ZXJGb250U2l6ZSA9IG51bGw7XG4gICAgdGhpcy5zZXRWaWV3ZXJGb250U2l6ZU9ic2VydmFibGUgPSAodmlld2VyRm9udFNpemVPYnNlcnZhYmxlKTogdm9pZCA9PiB7XG4gICAgICB0aGlzLnZpZXdlckZvbnRTaXplID0gdmlld2VyRm9udFNpemVPYnNlcnZhYmxlO1xuICAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFxuICAgICAgICBcInZpdmxpb3N0eWxlLXNldHRpbmdzX3ZpZXdlci1mb250LXNpemVcIixcbiAgICAgIClbMF0gYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgIGVsZW0udmFsdWUgPSB0aGlzLmZvbnRTaXplUHhUb1BlcmNlbnQoXG4gICAgICAgICAgTnVtYmVyKHZpZXdlckZvbnRTaXplT2JzZXJ2YWJsZSgpKSxcbiAgICAgICAgICAxMDAsXG4gICAgICAgICAgNSxcbiAgICAgICAgKS50b1N0cmluZygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnZpZXdlckZvbnRTaXplUGVyY2VudCA9IGtvLnB1cmVDb21wdXRlZCh7XG4gICAgICByZWFkKCkge1xuICAgICAgICBpZiAoIXRoaXMudmlld2VyRm9udFNpemUpIHtcbiAgICAgICAgICByZXR1cm4gMTAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBlcmNlbnQgPSB0aGlzLmZvbnRTaXplUHhUb1BlcmNlbnQoXG4gICAgICAgICAgTnVtYmVyKHRoaXMudmlld2VyRm9udFNpemUoKSksXG4gICAgICAgICAgMTAwLFxuICAgICAgICAgIDUsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBwZXJjZW50O1xuICAgICAgfSxcbiAgICAgIHdyaXRlKHZpZXdlckZvbnRTaXplUGVyY2VudCkge1xuICAgICAgICBpZiAoIXRoaXMudmlld2VyRm9udFNpemUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGVyY2VudCA9IHBhcnNlRmxvYXQoU3RyaW5nKHZpZXdlckZvbnRTaXplUGVyY2VudCkpO1xuICAgICAgICBsZXQgZm9udFNpemUgPSBwZXJjZW50ICYmIHRoaXMuZm9udFNpemVQZXJjZW50VG9QeChwZXJjZW50KTtcbiAgICAgICAgaWYgKCFmb250U2l6ZSB8fCBmb250U2l6ZSA8IDUgfHwgZm9udFNpemUgPiA3Mikge1xuICAgICAgICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcbiAgICAgICAgICAgIFwidml2bGlvc3R5bGUtc2V0dGluZ3Nfdmlld2VyLWZvbnQtc2l6ZVwiLFxuICAgICAgICAgIClbMF0gYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICBpZiAoZWxlbSkge1xuICAgICAgICAgICAgZWxlbS52YWx1ZSA9IFwiMTAwXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvbnRTaXplID0gQ09OU1RBTlRTLnZpZXdlckZvbnRTaXplO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld2VyRm9udFNpemUoTnVtYmVyKGZvbnRTaXplKSk7XG4gICAgICB9LFxuICAgICAgb3duZXI6IHRoaXMsXG4gICAgfSk7XG5cbiAgICB0aGlzLmNzc1RleHQgPSBrby5wdXJlQ29tcHV0ZWQoe1xuICAgICAgcmVhZDogdGhpcy50b0NTU1RleHQsXG4gICAgICB3cml0ZTogdGhpcy5mcm9tQ1NTVGV4dCxcbiAgICAgIG93bmVyOiB0aGlzLFxuICAgIH0pO1xuXG4gICAgdGhpcy5hbGxJbXBvcnRhbnQuc3Vic2NyaWJlKChhbGxJbXBvcnRhbnQpID0+IHtcbiAgICAgIHRoaXMucGFnZVNpemVJbXBvcnRhbnQoYWxsSW1wb3J0YW50KTtcbiAgICAgIHRoaXMucGFnZU1hcmdpbkltcG9ydGFudChhbGxJbXBvcnRhbnQpO1xuICAgICAgdGhpcy5maXJzdFBhZ2VNYXJnaW5aZXJvSW1wb3J0YW50KGFsbEltcG9ydGFudCk7XG4gICAgICB0aGlzLndpZG93c09ycGhhbnNJbXBvcnRhbnQoYWxsSW1wb3J0YW50KTtcbiAgICAgIHRoaXMuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KGFsbEltcG9ydGFudCk7XG4gICAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KGFsbEltcG9ydGFudCk7XG4gICAgICB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudChhbGxJbXBvcnRhbnQpO1xuICAgICAgdGhpcy5iYXNlTGluZUhlaWdodEltcG9ydGFudChhbGxJbXBvcnRhbnQpO1xuICAgICAgdGhpcy5iYXNlRm9udEZhbWlseUltcG9ydGFudChhbGxJbXBvcnRhbnQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5wYWdlU3R5bGVSZWdFeHAgPSBuZXcgUmVnRXhwKFxuICAgICAgLy8gMS4gYmVmb3JlT3RoZXJTdHlsZSxcbiAgICAgIFwiXigoPzpcXFxcbnwuKSo/KVxcXFwvXFxcXCo8dmlld2VyPlxcXFwqXFxcXC9cXFxccyooPzpAcGFnZVxcXFxzKlxcXFx7XFxcXHMqXCIgK1xuICAgICAgICAvLyAyLiBzaXplVywgc2l6ZUgsIHNpemVJbXBvcnRhbnQsXG4gICAgICAgIFwiKD86c2l6ZTpcXFxccyooW15cXFxccyE7e31dKykoPzpcXFxccysoW15cXFxccyE7e31dKykpP1xcXFxzKighaW1wb3J0YW50KT8oPzo7fCg/PVtcXFxcc3t9XSkpXFxcXHMqKT9cIiArXG4gICAgICAgIC8vIDUuIHBhZ2VNYXJnaW4sIHBhZ2VNYXJnaW5JbXBvcnRhbnQsXG4gICAgICAgIFwiKD86bWFyZ2luOlxcXFxzKihbXlxcXFxzITt7fV0rKD86XFxcXHMrW15cXFxccyE7e31dKyk/KD86XFxcXHMrW15cXFxccyE7e31dKyk/KD86XFxcXHMrW15cXFxccyE7e31dKyk/KVxcXFxzKighaW1wb3J0YW50KT8oPzo7fCg/PVtcXFxcc3t9XSkpXFxcXHMqKT9cIiArXG4gICAgICAgIC8vIDcuIHBhZ2VPdGhlclN0eWxlLFxuICAgICAgICBcIigoPzpbXnt9XSt8XFxcXHtbXnt9XSpcXFxcfSkqKVxcXFx9XFxcXHMqKT9cIiArXG4gICAgICAgIC8vIDguIGZpcnN0UGFnZU1hcmdpblplcm8sIGZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQsIGZpcnN0UGFnZU90aGVyU3R5bGUsXG4gICAgICAgIFwiKD86QHBhZ2VcXFxccyo6Zmlyc3RcXFxccypcXFxce1xcXFxzKihtYXJnaW46XFxcXHMqMCg/OlxcXFx3K3wlKT9cXFxccyooIWltcG9ydGFudCk/KD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKik/KCg/Oltee31dK3xcXFxce1tee31dKlxcXFx9KSopXFxcXH1cXFxccyopP1wiICtcbiAgICAgICAgLy8gMTEuIGZvcmNlSHRtbEJvZHlNYXJnaW5aZXJvLFxuICAgICAgICBcIigoPzpodG1sfDpyb290KSxcXFxccypib2R5XFxcXHMqXFxcXHtcXFxccyptYXJnaW46XFxcXHMqMCg/OlxcXFx3K3wlKT9cXFxccyohaW1wb3J0YW50KD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKlxcXFx9XFxcXHMqKT9cIiArXG4gICAgICAgIC8vIDEyLiBiYXNlRm9udFNpemUsIGJhc2VGb250U2l6ZUltcG9ydGFudCwgYmFzZUxpbmVIZWlnaHQsIGJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50LCBiYXNlRm9udEZhbWlseSwgYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQsIHJvb3RPdGhlclN0eWxlLFxuICAgICAgICBcIig/Oig/Omh0bWx8OnJvb3QpXFxcXHMqXFxcXHtcXFxccyooPzpmb250LXNpemU6XFxcXHMqKGNhbGNcXFxcKFteKCldK1xcXFwpfFteXFxcXHMhO3t9XSspXFxcXHMqKCFpbXBvcnRhbnQpPyg/Ojt8KD89W1xcXFxze31dKSlcXFxccyopPyg/OmxpbmUtaGVpZ2h0OlxcXFxzKihbXlxcXFxzITt7fV0rKVxcXFxzKighaW1wb3J0YW50KT8oPzo7fCg/PVtcXFxcc3t9XSkpXFxcXHMqKT8oPzpmb250LWZhbWlseTpcXFxccyooW14hO3t9XSspXFxcXHMqKCFpbXBvcnRhbnQpPyg/Ojt8KD89W1xcXFxze31dKSlcXFxccyopPyhbXnt9XSopXFxcXH1cXFxccyopP1wiICtcbiAgICAgICAgLy8gYm9keSB7Zm9udC1zaXplOiBpbmhlcml0ICFpbXBvcnRhbnQ7fSBldGMuXG4gICAgICAgIFwiKD86Ym9keVxcXFxzKlxcXFx7XFxcXHMqKD86Wy1cXFxcd10rOlxcXFxzKmluaGVyaXRcXFxccyohaW1wb3J0YW50KD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKikrXFxcXH1cXFxccyopP1wiICtcbiAgICAgICAgLy8gMTkuIHdpZG93c09ycGhhbnMsIHdpZG93c09ycGhhbnNJbXBvcnRhbnQsXG4gICAgICAgIFwiKD86XFxcXCpcXFxccypcXFxce1xcXFxzKndpZG93czpcXFxccyooMXw5OTkpXFxcXHMqKCFpbXBvcnRhbnQpPyg/Ojt8KD89W1xcXFxze31dKSlcXFxccypvcnBoYW5zOlxcXFxzKlxcXFwxOVxcXFxzKlxcXFwyMCg/Ojt8KD89W1xcXFxze31dKSlcXFxccypcXFxcfVxcXFxzKik/XCIgK1xuICAgICAgICAvLyAyMS4gaW1hZ2VNYXhTaXplVG9GaXRQYWdlLCBpbWFnZU1heFNpemVUb0ZpdFBhZ2VJbXBvcnRhbnQsIGltYWdlS2VlcEFzcGVjdFJhdGlvLCBpbWFnZUtlZXBBc3BlY3RSYXRpb0ltcG9ydGFudCxcbiAgICAgICAgXCIoPzppbWcsXFxcXHMqc3ZnXFxcXHMqXFxcXHtcXFxccyoobWF4LWlubGluZS1zaXplOlxcXFxzKjEwMCVcXFxccyooIWltcG9ydGFudCk/KD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKm1heC1ibG9jay1zaXplOlxcXFxzKjEwMHZiXFxcXHMqXFxcXDIyKD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKik/KG9iamVjdC1maXQ6XFxcXHMqY29udGFpblxcXFxzKighaW1wb3J0YW50KT8oPzo7fCg/PVtcXFxcc3t9XSkpXFxcXHMqKT9cXFxcfVxcXFxzKik/XCIgK1xuICAgICAgICAvLyAyNS4gYWZ0ZXJPdGhlclN0eWxlXG4gICAgICAgIFwiKCg/OlxcXFxufC4pKikkXCIsXG4gICAgKTtcblxuICAgIGlmIChwYWdlU3R5bGUpIHtcbiAgICAgIHRoaXMuY29weUZyb20ocGFnZVN0eWxlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHB4IEZvbnQgc2l6ZSBpbiBweCB1bml0XG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gY2VudCBXaGVuIF9OXyAoZS5nLiAxKSBpcyBzcGVjaWZpZWQsIGdldCBcInBlciBfTl9cIiB2YWx1ZSBpbnN0ZWFkIG9mIHBlcmNlbnRcbiAgICogQHBhcmFtIHtudW1iZXI9fSBwcmVjaXNpb24gV2hlbiBzcGVjaWZpZWQsIGNvbnZlcnRzIHJlc3VsdCBudW1iZXIgdG8gc3RyaW5nIHdpdGggbWF4IF9wcmVjaXNpb25fIGRpZ2l0c1xuICAgKiBAcmV0dXJucyB7bnVtYmVyfHN0cmluZ30gY29udmVydGVkIHBlcmNlbnQgKG9yIHBlciBfTl8pIHZhbHVlLiBSZXR1cm5zIHN0cmluZyB3aGVuIG9wdF9wcmVjaXNpb24gaXMgc3BlY2lmaWVkLlxuICAgKi9cbiAgZm9udFNpemVQeFRvUGVyY2VudChcbiAgICBweDogbnVtYmVyLFxuICAgIGNlbnQ/OiBudW1iZXIsXG4gICAgcHJlY2lzaW9uPzogbnVtYmVyLFxuICApOiBudW1iZXIgfCBzdHJpbmcge1xuICAgIGxldCBwZXJjZW50OiBudW1iZXIgfCBzdHJpbmcgPVxuICAgICAgKHB4IC8gQ09OU1RBTlRTLnZpZXdlckZvbnRTaXplKSAqIChjZW50IHx8IDEwMCk7XG4gICAgaWYgKHByZWNpc2lvbikge1xuICAgICAgcGVyY2VudCA9IHBlcmNlbnRcbiAgICAgICAgLnRvUHJlY2lzaW9uKHByZWNpc2lvbilcbiAgICAgICAgLnJlcGxhY2UoLyg/OlxcLjAqfChcXC5cXGQqPykwKykkLywgXCIkMVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHBlcmNlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBlcmNlbnQgRm9udCBzaXplIGluIHBlcmNlbnQgKG9yIHBlciBfTl8pIHVuaXRcbiAgICogQHBhcmFtIHtudW1iZXI9fSBjZW50IFdoZW4gX05fIChlLmcuIDEpIGlzIHNwZWNpZmllZCwgY29udmVydHMgZnJvbWcgXCJwZXIgX05fXCIgdmFsdWUgaW5zdGVhZCBvZiBwZXJjZW50XG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gcHJlY2lzaW9uIFdoZW4gc3BlY2lmaWVkLCBjb252ZXJ0cyByZXN1bHQgbnVtYmVyIHRvIHN0cmluZyB3aXRoIG1heCBfcHJlY2lzaW9uXyBkaWdpdHNcbiAgICogQHJldHVybnMge251bWJlcnxzdHJpbmd9IGNvbnZlcnRlZCBmb250IHNpemUgaW4gcHggdW5pdC4gUmV0dXJucyBzdHJpbmcgd2hlbiBvcHRfcHJlY2lzaW9uIGlzIHNwZWNpZmllZC5cbiAgICovXG4gIGZvbnRTaXplUGVyY2VudFRvUHgoXG4gICAgcGVyY2VudDogbnVtYmVyLFxuICAgIGNlbnQ/OiBudW1iZXIsXG4gICAgcHJlY2lzaW9uPzogbnVtYmVyLFxuICApOiBudW1iZXIgfCBzdHJpbmcge1xuICAgIGxldCBweDogbnVtYmVyIHwgc3RyaW5nID1cbiAgICAgIChwZXJjZW50IC8gKGNlbnQgfHwgMTAwKSkgKiBDT05TVEFOVFMudmlld2VyRm9udFNpemU7XG4gICAgaWYgKHByZWNpc2lvbikge1xuICAgICAgcHggPSBweC50b1ByZWNpc2lvbihwcmVjaXNpb24pLnJlcGxhY2UoLyg/OlxcLjAqfChcXC5cXGQqPykwKykkLywgXCIkMVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHB4O1xuICB9XG5cbiAgZnJvbUNTU1RleHQoY3NzVGV4dDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgciA9IHRoaXMucGFnZVN0eWxlUmVnRXhwLmV4ZWMoY3NzVGV4dCk7XG4gICAgaWYgKHIpIHtcbiAgICAgIGNvbnN0IFtcbiAgICAgICAgLFxuICAgICAgICBiZWZvcmVPdGhlclN0eWxlLFxuICAgICAgICBzaXplV18sXG4gICAgICAgIHNpemVIXyxcbiAgICAgICAgc2l6ZUltcG9ydGFudCxcbiAgICAgICAgcGFnZU1hcmdpbixcbiAgICAgICAgcGFnZU1hcmdpbkltcG9ydGFudCxcbiAgICAgICAgcGFnZU90aGVyU3R5bGVfLFxuICAgICAgICBmaXJzdFBhZ2VNYXJnaW5aZXJvLFxuICAgICAgICBmaXJzdFBhZ2VNYXJnaW5aZXJvSW1wb3J0YW50LFxuICAgICAgICBmaXJzdFBhZ2VPdGhlclN0eWxlXyxcbiAgICAgICAgZm9yY2VIdG1sQm9keU1hcmdpblplcm8sXG4gICAgICAgIGJhc2VGb250U2l6ZV8sXG4gICAgICAgIGJhc2VGb250U2l6ZUltcG9ydGFudCxcbiAgICAgICAgYmFzZUxpbmVIZWlnaHQsXG4gICAgICAgIGJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50LFxuICAgICAgICBiYXNlRm9udEZhbWlseV8sXG4gICAgICAgIGJhc2VGb250RmFtaWx5SW1wb3J0YW50LFxuICAgICAgICByb290T3RoZXJTdHlsZV8sXG4gICAgICAgIHdpZG93c09ycGhhbnMsXG4gICAgICAgIHdpZG93c09ycGhhbnNJbXBvcnRhbnQsXG4gICAgICAgIGltYWdlTWF4U2l6ZVRvRml0UGFnZSxcbiAgICAgICAgaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50LFxuICAgICAgICBpbWFnZUtlZXBBc3BlY3RSYXRpbyxcbiAgICAgICAgaW1hZ2VLZWVwQXNwZWN0UmF0aW9JbXBvcnRhbnQsXG4gICAgICAgIGFmdGVyT3RoZXJTdHlsZV8sXG4gICAgICBdID0gcjtcbiAgICAgIGxldCBhZnRlck90aGVyU3R5bGUgPSBhZnRlck90aGVyU3R5bGVfO1xuICAgICAgbGV0IGJhc2VGb250RmFtaWx5ID0gYmFzZUZvbnRGYW1pbHlfO1xuICAgICAgbGV0IGJhc2VGb250U2l6ZSA9IGJhc2VGb250U2l6ZV87XG4gICAgICBsZXQgZmlyc3RQYWdlT3RoZXJTdHlsZSA9IGZpcnN0UGFnZU90aGVyU3R5bGVfO1xuICAgICAgbGV0IHBhZ2VPdGhlclN0eWxlID0gcGFnZU90aGVyU3R5bGVfO1xuICAgICAgbGV0IHJvb3RPdGhlclN0eWxlID0gcm9vdE90aGVyU3R5bGVfO1xuICAgICAgbGV0IHNpemVXID0gc2l6ZVdfO1xuICAgICAgbGV0IHNpemVIID0gc2l6ZUhfO1xuXG4gICAgICBsZXQgY291bnRJbXBvcnRhbnQgPSAwO1xuICAgICAgbGV0IGNvdW50Tm90SW1wb3J0YW50ID0gMDtcblxuICAgICAgdGhpcy5iZWZvcmVPdGhlclN0eWxlKGJlZm9yZU90aGVyU3R5bGUpO1xuXG4gICAgICBpZiAoc2l6ZVcgPT0gXCJsYW5kc2NhcGVcIiB8fCBzaXplVyA9PSBcInBvcnRyYWl0XCIpIHtcbiAgICAgICAgdGhpcy5pc0xhbmRzY2FwZShzaXplVyA9PSBcImxhbmRzY2FwZVwiKTtcbiAgICAgICAgc2l6ZVcgPSBzaXplSDtcbiAgICAgICAgc2l6ZUggPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChzaXplSCA9PSBcImxhbmRzY2FwZVwiIHx8IHNpemVIID09IFwicG9ydHJhaXRcIikge1xuICAgICAgICB0aGlzLmlzTGFuZHNjYXBlKHNpemVIID09IFwibGFuZHNjYXBlXCIpO1xuICAgICAgICBzaXplSCA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZVcgIT0gbnVsbCkge1xuICAgICAgICBpZiAoc2l6ZUggPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChzaXplVyA9PSBcImF1dG9cIikge1xuICAgICAgICAgICAgdGhpcy5wYWdlU2l6ZU1vZGUoTW9kZS5BdXRvKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcHJlc2V0U2l6ZSA9IFBSRVNFVF9TSVpFLmZpbmQoXG4gICAgICAgICAgICAgIChwcmVzZXRTaXplKSA9PlxuICAgICAgICAgICAgICAgIHByZXNldFNpemUubmFtZS50b0xvd2VyQ2FzZSgpID09IHNpemVXLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHByZXNldFNpemUpIHtcbiAgICAgICAgICAgICAgdGhpcy5wYWdlU2l6ZU1vZGUoTW9kZS5QcmVzZXQpO1xuICAgICAgICAgICAgICB0aGlzLnByZXNldFNpemUocHJlc2V0U2l6ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLnBhZ2VTaXplTW9kZShNb2RlLkN1c3RvbSk7XG4gICAgICAgICAgICAgIHRoaXMuY3VzdG9tV2lkdGgoc2l6ZVcpO1xuICAgICAgICAgICAgICB0aGlzLmN1c3RvbUhlaWdodChzaXplVyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucGFnZVNpemVNb2RlKE1vZGUuQ3VzdG9tKTtcbiAgICAgICAgICB0aGlzLmN1c3RvbVdpZHRoKHNpemVXKTtcbiAgICAgICAgICB0aGlzLmN1c3RvbUhlaWdodChzaXplSCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYWdlU2l6ZUltcG9ydGFudCghIXNpemVJbXBvcnRhbnQpO1xuICAgICAgICBpZiAoc2l6ZUltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wYWdlU2l6ZU1vZGUoTW9kZS5EZWZhdWx0KTtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdlTWFyZ2luICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5wYWdlTWFyZ2luTW9kZShwYWdlTWFyZ2luID09IFwiMFwiID8gTW9kZS5aZXJvIDogTW9kZS5DdXN0b20pO1xuICAgICAgICBpZiAocGFnZU1hcmdpbiA9PSBcIjBcIikge1xuICAgICAgICAgIHRoaXMucGFnZU1hcmdpbk1vZGUoTW9kZS5aZXJvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnBhZ2VNYXJnaW5Nb2RlKE1vZGUuQ3VzdG9tKTtcbiAgICAgICAgICB0aGlzLmN1c3RvbU1hcmdpbihwYWdlTWFyZ2luKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhZ2VNYXJnaW5JbXBvcnRhbnQoISFwYWdlTWFyZ2luSW1wb3J0YW50KTtcbiAgICAgICAgaWYgKHBhZ2VNYXJnaW5JbXBvcnRhbnQpIGNvdW50SW1wb3J0YW50Kys7XG4gICAgICAgIGVsc2UgY291bnROb3RJbXBvcnRhbnQrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGFnZU1hcmdpbk1vZGUoTW9kZS5EZWZhdWx0KTtcbiAgICAgIH1cbiAgICAgIHBhZ2VPdGhlclN0eWxlID0gcGFnZU90aGVyU3R5bGUgfHwgXCJcIjtcbiAgICAgIHRoaXMucGFnZU90aGVyU3R5bGUocGFnZU90aGVyU3R5bGUpO1xuXG4gICAgICBpZiAoZmlyc3RQYWdlTWFyZ2luWmVybykge1xuICAgICAgICB0aGlzLmZpcnN0UGFnZU1hcmdpblplcm8odHJ1ZSk7XG4gICAgICAgIHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVyb0ltcG9ydGFudCghIWZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQpO1xuICAgICAgICBpZiAoZmlyc3RQYWdlTWFyZ2luWmVyb0ltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5maXJzdFBhZ2VNYXJnaW5aZXJvKGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIGZpcnN0UGFnZU90aGVyU3R5bGUgPSBmaXJzdFBhZ2VPdGhlclN0eWxlIHx8IFwiXCI7XG4gICAgICB0aGlzLmZpcnN0UGFnZU90aGVyU3R5bGUoZmlyc3RQYWdlT3RoZXJTdHlsZSk7XG5cbiAgICAgIGlmIChmb3JjZUh0bWxCb2R5TWFyZ2luWmVybykge1xuICAgICAgICB0aGlzLmZvcmNlSHRtbEJvZHlNYXJnaW5aZXJvKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mb3JjZUh0bWxCb2R5TWFyZ2luWmVybyhmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChiYXNlRm9udFNpemUgIT0gbnVsbCkge1xuICAgICAgICAvLyBUaGlzIG1heSBiZSBjYWxjKCkgZS5nLiBcImNhbGMoMS4yNSAqIDEycHQpXCIgd2hlbiB2aWV3ZXIgZm9udCBzaXplIGlzIDEyNSUuXG4gICAgICAgIGJhc2VGb250U2l6ZSA9IGJhc2VGb250U2l6ZS5yZXBsYWNlKFxuICAgICAgICAgIC9eXFxzKmNhbGNcXChbLlxcZF0rXFxzKlxcKlxccyooWy5cXGRdK1xcdyspXFwpXFxzKiQvLFxuICAgICAgICAgIFwiJDFcIixcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQodHJ1ZSk7XG4gICAgICAgIHRoaXMuYmFzZUZvbnRTaXplKGJhc2VGb250U2l6ZSk7XG4gICAgICAgIHRoaXMuYmFzZUZvbnRTaXplSW1wb3J0YW50KCEhYmFzZUZvbnRTaXplSW1wb3J0YW50KTtcbiAgICAgICAgaWYgKGJhc2VGb250U2l6ZUltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQoZmFsc2UpO1xuICAgICAgfVxuICAgICAgaWYgKGJhc2VMaW5lSGVpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZCh0cnVlKTtcbiAgICAgICAgdGhpcy5iYXNlTGluZUhlaWdodChiYXNlTGluZUhlaWdodCk7XG4gICAgICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQoISFiYXNlTGluZUhlaWdodEltcG9ydGFudCk7XG4gICAgICAgIGlmIChiYXNlTGluZUhlaWdodEltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZChmYWxzZSk7XG4gICAgICB9XG4gICAgICBpZiAoYmFzZUZvbnRGYW1pbHkgIT0gbnVsbCkge1xuICAgICAgICBiYXNlRm9udEZhbWlseSA9IGJhc2VGb250RmFtaWx5LnRyaW0oKTtcbiAgICAgICAgdGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCh0cnVlKTtcbiAgICAgICAgdGhpcy5iYXNlRm9udEZhbWlseShiYXNlRm9udEZhbWlseSk7XG4gICAgICAgIHRoaXMuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQoISFiYXNlRm9udEZhbWlseUltcG9ydGFudCk7XG4gICAgICAgIGlmIChiYXNlRm9udEZhbWlseUltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZChmYWxzZSk7XG4gICAgICB9XG4gICAgICByb290T3RoZXJTdHlsZSA9IHJvb3RPdGhlclN0eWxlIHx8IFwiXCI7XG4gICAgICB0aGlzLnJvb3RPdGhlclN0eWxlKHJvb3RPdGhlclN0eWxlKTtcblxuICAgICAgaWYgKHdpZG93c09ycGhhbnMgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLndpZG93c09ycGhhbnMod2lkb3dzT3JwaGFucyk7XG4gICAgICAgIHRoaXMud2lkb3dzT3JwaGFuc0ltcG9ydGFudCghIXdpZG93c09ycGhhbnNJbXBvcnRhbnQpO1xuICAgICAgICBpZiAod2lkb3dzT3JwaGFuc0ltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy53aWRvd3NPcnBoYW5zKE1vZGUuRGVmYXVsdCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbWFnZU1heFNpemVUb0ZpdFBhZ2UpIHtcbiAgICAgICAgdGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2UodHJ1ZSk7XG4gICAgICAgIHRoaXMuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KCEhaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KTtcbiAgICAgICAgaWYgKGltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2UoZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW1hZ2VLZWVwQXNwZWN0UmF0aW8pIHtcbiAgICAgICAgdGhpcy5pbWFnZUtlZXBBc3BlY3RSYXRpbyh0cnVlKTtcbiAgICAgICAgdGhpcy5pbWFnZUtlZXBBc3BlY3RSYXRpb0ltcG9ydGFudCghIWltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KTtcbiAgICAgICAgaWYgKGltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KSBjb3VudEltcG9ydGFudCsrO1xuICAgICAgICBlbHNlIGNvdW50Tm90SW1wb3J0YW50Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvKGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgYWZ0ZXJPdGhlclN0eWxlID1cbiAgICAgICAgYWZ0ZXJPdGhlclN0eWxlLnJlcGxhY2UoL1xcL1xcKjxcXC8/dmlld2VyPlxcKlxcL1xcbj8vZywgXCJcIikgfHwgXCJcIjtcbiAgICAgIHRoaXMuYWZ0ZXJPdGhlclN0eWxlKGFmdGVyT3RoZXJTdHlsZSk7XG5cbiAgICAgIHRoaXMuYWxsSW1wb3J0YW50KGNvdW50SW1wb3J0YW50ID4gMCAmJiBjb3VudE5vdEltcG9ydGFudCA9PSAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2hlbiBub3QgbWF0Y2hcbiAgICAgIGNvbnN0IGFmdGVyT3RoZXJTdHlsZSA9XG4gICAgICAgIGNzc1RleHQucmVwbGFjZSgvXFwvXFwqPFxcLz92aWV3ZXI+XFwqXFwvXFxuPy9nLCBcIlwiKSB8fCBcIlwiO1xuICAgICAgdGhpcy5hZnRlck90aGVyU3R5bGUoYWZ0ZXJPdGhlclN0eWxlKTtcbiAgICB9XG4gIH1cblxuICB0b0NTU1RleHQoKTogc3RyaW5nIHtcbiAgICBmdW5jdGlvbiBpbXAoaW1wb3J0YW50KTogc3RyaW5nIHtcbiAgICAgIHJldHVybiBpbXBvcnRhbnQgPyBcIiAhaW1wb3J0YW50XCIgOiBcIlwiO1xuICAgIH1cblxuICAgIGxldCBjc3NUZXh0ID0gdGhpcy5iZWZvcmVPdGhlclN0eWxlKCk7XG4gICAgY3NzVGV4dCArPSBcIi8qPHZpZXdlcj4qL1xcblwiO1xuICAgIGlmIChcbiAgICAgIHRoaXMucGFnZVNpemVNb2RlKCkgIT0gTW9kZS5EZWZhdWx0IHx8XG4gICAgICB0aGlzLnBhZ2VNYXJnaW5Nb2RlKCkgIT0gTW9kZS5EZWZhdWx0IHx8XG4gICAgICB0aGlzLnBhZ2VPdGhlclN0eWxlKClcbiAgICApIHtcbiAgICAgIGNzc1RleHQgKz0gXCJAcGFnZSB7IFwiO1xuICAgICAgaWYgKHRoaXMucGFnZVNpemVNb2RlKCkgIT0gTW9kZS5EZWZhdWx0KSB7XG4gICAgICAgIGNzc1RleHQgKz0gXCJzaXplOiBcIjtcblxuICAgICAgICBzd2l0Y2ggKHRoaXMucGFnZVNpemVNb2RlKCkpIHtcbiAgICAgICAgICBjYXNlIE1vZGUuQXV0bzpcbiAgICAgICAgICAgIGNzc1RleHQgKz0gXCJhdXRvXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIE1vZGUuUHJlc2V0OlxuICAgICAgICAgICAgY3NzVGV4dCArPSB0aGlzLnByZXNldFNpemUoKS5uYW1lO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNMYW5kc2NhcGUoKSkge1xuICAgICAgICAgICAgICBjc3NUZXh0ICs9IFwiIGxhbmRzY2FwZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBNb2RlLkN1c3RvbTpcbiAgICAgICAgICAgIGNzc1RleHQgKz0gYCR7dGhpcy5jdXN0b21XaWR0aCgpfSAke3RoaXMuY3VzdG9tSGVpZ2h0KCl9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gcGFnZVNpemVNb2RlICR7dGhpcy5wYWdlU2l6ZU1vZGUoKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjc3NUZXh0ICs9IGAke2ltcCh0aGlzLnBhZ2VTaXplSW1wb3J0YW50KCkpfTsgYDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnBhZ2VNYXJnaW5Nb2RlKCkgIT0gTW9kZS5EZWZhdWx0KSB7XG4gICAgICAgIGNzc1RleHQgKz0gXCJtYXJnaW46IFwiO1xuXG4gICAgICAgIHN3aXRjaCAodGhpcy5wYWdlTWFyZ2luTW9kZSgpKSB7XG4gICAgICAgICAgY2FzZSBNb2RlLkF1dG86XG4gICAgICAgICAgICBjc3NUZXh0ICs9IFwiYXV0b1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBNb2RlLlplcm86XG4gICAgICAgICAgICBjc3NUZXh0ICs9IFwiMFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBNb2RlLkN1c3RvbTpcbiAgICAgICAgICAgIGNzc1RleHQgKz0gYCR7dGhpcy5jdXN0b21NYXJnaW4oKX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBwYWdlTWFyZ2luTW9kZSAke3RoaXMucGFnZU1hcmdpbk1vZGUoKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjc3NUZXh0ICs9IGAke2ltcCh0aGlzLnBhZ2VNYXJnaW5JbXBvcnRhbnQoKSl9OyBgO1xuICAgICAgfVxuICAgICAgY3NzVGV4dCArPSB0aGlzLnBhZ2VPdGhlclN0eWxlKCk7XG4gICAgICBjc3NUZXh0ICs9IFwifVxcblwiO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZpcnN0UGFnZU1hcmdpblplcm8oKSB8fCB0aGlzLmZpcnN0UGFnZU90aGVyU3R5bGUoKSkge1xuICAgICAgY3NzVGV4dCArPSBcIkBwYWdlIDpmaXJzdCB7IFwiO1xuICAgICAgaWYgKHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVybygpKSB7XG4gICAgICAgIGNzc1RleHQgKz0gYG1hcmdpbjogMCR7aW1wKHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVyb0ltcG9ydGFudCgpKX07IGA7XG4gICAgICB9XG4gICAgICBjc3NUZXh0ICs9IHRoaXMuZmlyc3RQYWdlT3RoZXJTdHlsZSgpO1xuICAgICAgY3NzVGV4dCArPSBcIn1cXG5cIjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mb3JjZUh0bWxCb2R5TWFyZ2luWmVybygpKSB7XG4gICAgICBjc3NUZXh0ICs9IFwiOnJvb3QsIGJvZHkgeyBtYXJnaW46IDAgIWltcG9ydGFudDsgfVxcblwiO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRoaXMuYmFzZUZvbnRTaXplU3BlY2lmaWVkKCkgfHxcbiAgICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRTcGVjaWZpZWQoKSB8fFxuICAgICAgdGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCgpIHx8XG4gICAgICB0aGlzLnJvb3RPdGhlclN0eWxlKClcbiAgICApIHtcbiAgICAgIGNzc1RleHQgKz0gXCI6cm9vdCB7IFwiO1xuICAgICAgY29uc3QgYmFzZUZvbnRTaXplID0gdGhpcy5iYXNlRm9udFNpemUoKTtcbiAgICAgIGlmICh0aGlzLmJhc2VGb250U2l6ZVNwZWNpZmllZCgpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLnZpZXdlckZvbnRTaXplICYmXG4gICAgICAgICAgdGhpcy52aWV3ZXJGb250U2l6ZSgpICE9IENPTlNUQU5UUy52aWV3ZXJGb250U2l6ZSAmJlxuICAgICAgICAgICFiYXNlRm9udFNpemUuZW5kc1dpdGgoXCIlXCIpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHBlck9uZSA9IHRoaXMuZm9udFNpemVQeFRvUGVyY2VudChcbiAgICAgICAgICAgIE51bWJlcih0aGlzLnZpZXdlckZvbnRTaXplKCkpLFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIDUsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjc3NUZXh0ICs9IGBmb250LXNpemU6IGNhbGMoJHtwZXJPbmV9ICogJHtiYXNlRm9udFNpemV9KSR7aW1wKFxuICAgICAgICAgICAgdGhpcy5iYXNlRm9udFNpemVJbXBvcnRhbnQoKSxcbiAgICAgICAgICApfTsgYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjc3NUZXh0ICs9IGBmb250LXNpemU6ICR7dGhpcy5iYXNlRm9udFNpemUoKX0ke2ltcChcbiAgICAgICAgICAgIHRoaXMuYmFzZUZvbnRTaXplSW1wb3J0YW50KCksXG4gICAgICAgICAgKX07IGA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmJhc2VMaW5lSGVpZ2h0U3BlY2lmaWVkKCkpIHtcbiAgICAgICAgY3NzVGV4dCArPSBgbGluZS1oZWlnaHQ6ICR7dGhpcy5iYXNlTGluZUhlaWdodCgpfSR7aW1wKFxuICAgICAgICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQoKSxcbiAgICAgICAgKX07IGA7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCgpKSB7XG4gICAgICAgIGNzc1RleHQgKz0gYGZvbnQtZmFtaWx5OiAke3RoaXMuYmFzZUZvbnRGYW1pbHkoKX0ke2ltcChcbiAgICAgICAgICB0aGlzLmJhc2VGb250RmFtaWx5SW1wb3J0YW50KCksXG4gICAgICAgICl9OyBgO1xuICAgICAgfVxuICAgICAgY3NzVGV4dCArPSB0aGlzLnJvb3RPdGhlclN0eWxlKCk7XG4gICAgICBjc3NUZXh0ICs9IFwifVxcblwiO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAodGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQoKSAmJiB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudCgpKSB8fFxuICAgICAgKHRoaXMuYmFzZUxpbmVIZWlnaHRTcGVjaWZpZWQoKSAmJiB0aGlzLmJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50KCkpIHx8XG4gICAgICAodGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCgpICYmIHRoaXMuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQoKSlcbiAgICApIHtcbiAgICAgIGNzc1RleHQgKz0gXCJib2R5IHsgXCI7XG4gICAgICBpZiAodGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQoKSAmJiB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudCgpKSB7XG4gICAgICAgIGNzc1RleHQgKz0gXCJmb250LXNpemU6IGluaGVyaXQgIWltcG9ydGFudDsgXCI7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZCgpICYmIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQoKSkge1xuICAgICAgICBjc3NUZXh0ICs9IFwibGluZS1oZWlnaHQ6IGluaGVyaXQgIWltcG9ydGFudDsgXCI7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCgpICYmIHRoaXMuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQoKSkge1xuICAgICAgICBjc3NUZXh0ICs9IFwiZm9udC1mYW1pbHk6IGluaGVyaXQgIWltcG9ydGFudDsgXCI7XG4gICAgICB9XG4gICAgICBjc3NUZXh0ICs9IFwifVxcblwiO1xuICAgIH1cblxuICAgIGlmICh0aGlzLndpZG93c09ycGhhbnMoKSkge1xuICAgICAgY3NzVGV4dCArPSBcIiogeyBcIjtcbiAgICAgIGNzc1RleHQgKz0gYHdpZG93czogJHt0aGlzLndpZG93c09ycGhhbnMoKX0ke2ltcChcbiAgICAgICAgdGhpcy53aWRvd3NPcnBoYW5zSW1wb3J0YW50KCksXG4gICAgICApfTsgYDtcbiAgICAgIGNzc1RleHQgKz0gYG9ycGhhbnM6ICR7dGhpcy53aWRvd3NPcnBoYW5zKCl9JHtpbXAoXG4gICAgICAgIHRoaXMud2lkb3dzT3JwaGFuc0ltcG9ydGFudCgpLFxuICAgICAgKX07IGA7XG4gICAgICBjc3NUZXh0ICs9IFwifVxcblwiO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZSgpIHx8IHRoaXMuaW1hZ2VLZWVwQXNwZWN0UmF0aW8oKSkge1xuICAgICAgY3NzVGV4dCArPSBcImltZywgc3ZnIHsgXCI7XG4gICAgICBpZiAodGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2UoKSkge1xuICAgICAgICBjc3NUZXh0ICs9IGBtYXgtaW5saW5lLXNpemU6IDEwMCUke2ltcChcbiAgICAgICAgICB0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudCgpLFxuICAgICAgICApfTsgYDtcbiAgICAgICAgY3NzVGV4dCArPSBgbWF4LWJsb2NrLXNpemU6IDEwMHZiJHtpbXAoXG4gICAgICAgICAgdGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2VJbXBvcnRhbnQoKSxcbiAgICAgICAgKX07IGA7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pbWFnZUtlZXBBc3BlY3RSYXRpbygpKSB7XG4gICAgICAgIGNzc1RleHQgKz0gYG9iamVjdC1maXQ6IGNvbnRhaW4ke2ltcChcbiAgICAgICAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KCksXG4gICAgICAgICl9OyBgO1xuICAgICAgfVxuICAgICAgY3NzVGV4dCArPSBcIn1cXG5cIjtcbiAgICB9XG5cbiAgICBjc3NUZXh0ICs9IFwiLyo8L3ZpZXdlcj4qL1xcblwiO1xuICAgIGNzc1RleHQgKz0gdGhpcy5hZnRlck90aGVyU3R5bGUoKTtcblxuICAgIHJldHVybiBjc3NUZXh0O1xuICB9XG5cbiAgY29weUZyb20ob3RoZXIpOiB2b2lkIHtcbiAgICB0aGlzLnBhZ2VTaXplTW9kZShvdGhlci5wYWdlU2l6ZU1vZGUoKSk7XG4gICAgdGhpcy5wcmVzZXRTaXplKG90aGVyLnByZXNldFNpemUoKSk7XG4gICAgdGhpcy5pc0xhbmRzY2FwZShvdGhlci5pc0xhbmRzY2FwZSgpKTtcbiAgICB0aGlzLmN1c3RvbVdpZHRoKG90aGVyLmN1c3RvbVdpZHRoKCkpO1xuICAgIHRoaXMuY3VzdG9tSGVpZ2h0KG90aGVyLmN1c3RvbUhlaWdodCgpKTtcbiAgICB0aGlzLnBhZ2VTaXplSW1wb3J0YW50KG90aGVyLnBhZ2VTaXplSW1wb3J0YW50KCkpO1xuICAgIHRoaXMucGFnZU1hcmdpbk1vZGUob3RoZXIucGFnZU1hcmdpbk1vZGUoKSk7XG4gICAgdGhpcy5jdXN0b21NYXJnaW4ob3RoZXIuY3VzdG9tTWFyZ2luKCkpO1xuICAgIHRoaXMucGFnZU1hcmdpbkltcG9ydGFudChvdGhlci5wYWdlTWFyZ2luSW1wb3J0YW50KCkpO1xuICAgIHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVybyhvdGhlci5maXJzdFBhZ2VNYXJnaW5aZXJvKCkpO1xuICAgIHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVyb0ltcG9ydGFudChvdGhlci5maXJzdFBhZ2VNYXJnaW5aZXJvSW1wb3J0YW50KCkpO1xuICAgIHRoaXMuZm9yY2VIdG1sQm9keU1hcmdpblplcm8ob3RoZXIuZm9yY2VIdG1sQm9keU1hcmdpblplcm8oKSk7XG4gICAgdGhpcy53aWRvd3NPcnBoYW5zKG90aGVyLndpZG93c09ycGhhbnMoKSk7XG4gICAgdGhpcy53aWRvd3NPcnBoYW5zSW1wb3J0YW50KG90aGVyLndpZG93c09ycGhhbnNJbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2Uob3RoZXIuaW1hZ2VNYXhTaXplVG9GaXRQYWdlKCkpO1xuICAgIHRoaXMuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KG90aGVyLmltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudCgpKTtcbiAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvKG90aGVyLmltYWdlS2VlcEFzcGVjdFJhdGlvKCkpO1xuICAgIHRoaXMuaW1hZ2VLZWVwQXNwZWN0UmF0aW9JbXBvcnRhbnQob3RoZXIuaW1hZ2VLZWVwQXNwZWN0UmF0aW9JbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5iYXNlRm9udFNpemUob3RoZXIuYmFzZUZvbnRTaXplKCkpO1xuICAgIHRoaXMuYmFzZUZvbnRTaXplU3BlY2lmaWVkKG90aGVyLmJhc2VGb250U2l6ZVNwZWNpZmllZCgpKTtcbiAgICB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudChvdGhlci5iYXNlRm9udFNpemVJbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5iYXNlTGluZUhlaWdodChvdGhlci5iYXNlTGluZUhlaWdodCgpKTtcbiAgICB0aGlzLmJhc2VMaW5lSGVpZ2h0U3BlY2lmaWVkKG90aGVyLmJhc2VMaW5lSGVpZ2h0U3BlY2lmaWVkKCkpO1xuICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQob3RoZXIuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5iYXNlRm9udEZhbWlseShvdGhlci5iYXNlRm9udEZhbWlseSgpKTtcbiAgICB0aGlzLmJhc2VGb250RmFtaWx5U3BlY2lmaWVkKG90aGVyLmJhc2VGb250RmFtaWx5U3BlY2lmaWVkKCkpO1xuICAgIHRoaXMuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQob3RoZXIuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5hbGxJbXBvcnRhbnQob3RoZXIuYWxsSW1wb3J0YW50KCkpO1xuICAgIHRoaXMucGFnZU90aGVyU3R5bGUob3RoZXIucGFnZU90aGVyU3R5bGUoKSk7XG4gICAgdGhpcy5maXJzdFBhZ2VPdGhlclN0eWxlKG90aGVyLmZpcnN0UGFnZU90aGVyU3R5bGUoKSk7XG4gICAgdGhpcy5yb290T3RoZXJTdHlsZShvdGhlci5yb290T3RoZXJTdHlsZSgpKTtcbiAgICB0aGlzLmJlZm9yZU90aGVyU3R5bGUob3RoZXIuYmVmb3JlT3RoZXJTdHlsZSgpKTtcbiAgICB0aGlzLmFmdGVyT3RoZXJTdHlsZShvdGhlci5hZnRlck90aGVyU3R5bGUoKSk7XG5cbiAgICBpZiAodGhpcy52aWV3ZXJGb250U2l6ZSAmJiBvdGhlci52aWV3ZXJGb250U2l6ZSkge1xuICAgICAgdGhpcy52aWV3ZXJGb250U2l6ZShvdGhlci52aWV3ZXJGb250U2l6ZSgpKTtcbiAgICB9XG4gIH1cblxuICBlcXVpdmFsZW50VG8ob3RoZXIpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5wYWdlU2l6ZU1vZGUoKSAhPT0gb3RoZXIucGFnZVNpemVNb2RlKCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnBhZ2VTaXplTW9kZSgpID09PSBNb2RlLlByZXNldCAmJlxuICAgICAgdGhpcy5wcmVzZXRTaXplKCkgIT09IG90aGVyLnByZXNldFNpemUoKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnBhZ2VTaXplTW9kZSgpID09PSBNb2RlLlByZXNldCAmJlxuICAgICAgdGhpcy5pc0xhbmRzY2FwZSgpICE9PSBvdGhlci5pc0xhbmRzY2FwZSgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChcbiAgICAgIHRoaXMucGFnZVNpemVNb2RlKCkgPT09IE1vZGUuQ3VzdG9tICYmXG4gICAgICB0aGlzLmN1c3RvbVdpZHRoKCkgIT09IG90aGVyLmN1c3RvbVdpZHRoKClcbiAgICApXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKFxuICAgICAgdGhpcy5wYWdlU2l6ZU1vZGUoKSA9PT0gTW9kZS5DdXN0b20gJiZcbiAgICAgIHRoaXMuY3VzdG9tSGVpZ2h0KCkgIT09IG90aGVyLmN1c3RvbUhlaWdodCgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLnBhZ2VTaXplSW1wb3J0YW50KCkgIT09IG90aGVyLnBhZ2VTaXplSW1wb3J0YW50KCkpIHJldHVybiBmYWxzZTtcblxuICAgIGlmICh0aGlzLnBhZ2VNYXJnaW5Nb2RlKCkgIT09IG90aGVyLnBhZ2VNYXJnaW5Nb2RlKCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnBhZ2VNYXJnaW5Nb2RlKCkgPT09IE1vZGUuQ3VzdG9tICYmXG4gICAgICB0aGlzLmN1c3RvbU1hcmdpbigpICE9PSBvdGhlci5jdXN0b21NYXJnaW4oKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5wYWdlTWFyZ2luSW1wb3J0YW50KCkgIT09IG90aGVyLnBhZ2VNYXJnaW5JbXBvcnRhbnQoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5maXJzdFBhZ2VNYXJnaW5aZXJvKCkgIT09IG90aGVyLmZpcnN0UGFnZU1hcmdpblplcm8oKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQoKSAhPT1cbiAgICAgIG90aGVyLmZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQoKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5mb3JjZUh0bWxCb2R5TWFyZ2luWmVybygpICE9PSBvdGhlci5mb3JjZUh0bWxCb2R5TWFyZ2luWmVybygpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHRoaXMud2lkb3dzT3JwaGFucygpICE9PSBvdGhlci53aWRvd3NPcnBoYW5zKCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy53aWRvd3NPcnBoYW5zSW1wb3J0YW50KCkgIT09IG90aGVyLndpZG93c09ycGhhbnNJbXBvcnRhbnQoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIGlmICh0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZSgpICE9PSBvdGhlci5pbWFnZU1heFNpemVUb0ZpdFBhZ2UoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudCgpICE9PVxuICAgICAgb3RoZXIuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KClcbiAgICApXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHRoaXMuaW1hZ2VLZWVwQXNwZWN0UmF0aW8oKSAhPT0gb3RoZXIuaW1hZ2VLZWVwQXNwZWN0UmF0aW8oKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KCkgIT09XG4gICAgICBvdGhlci5pbWFnZUtlZXBBc3BlY3RSYXRpb0ltcG9ydGFudCgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHRoaXMuYmFzZUZvbnRTaXplU3BlY2lmaWVkKCkgIT09IG90aGVyLmJhc2VGb250U2l6ZVNwZWNpZmllZCgpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChcbiAgICAgIHRoaXMuYmFzZUZvbnRTaXplU3BlY2lmaWVkKCkgJiZcbiAgICAgIHRoaXMuYmFzZUZvbnRTaXplKCkgIT09IG90aGVyLmJhc2VGb250U2l6ZSgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudCgpICE9PSBvdGhlci5iYXNlRm9udFNpemVJbXBvcnRhbnQoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZCgpICE9PSBvdGhlci5iYXNlTGluZUhlaWdodFNwZWNpZmllZCgpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChcbiAgICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRTcGVjaWZpZWQoKSAmJlxuICAgICAgdGhpcy5iYXNlTGluZUhlaWdodCgpICE9PSBvdGhlci5iYXNlTGluZUhlaWdodCgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLmJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50KCkgIT09IG90aGVyLmJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50KCkpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHRoaXMuYmFzZUZvbnRGYW1pbHlTcGVjaWZpZWQoKSAhPT0gb3RoZXIuYmFzZUZvbnRGYW1pbHlTcGVjaWZpZWQoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmJhc2VGb250RmFtaWx5U3BlY2lmaWVkKCkgJiZcbiAgICAgIHRoaXMuYmFzZUZvbnRGYW1pbHkoKSAhPT0gb3RoZXIuYmFzZUZvbnRGYW1pbHkoKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5iYXNlRm9udEZhbWlseUltcG9ydGFudCgpICE9PSBvdGhlci5iYXNlRm9udEZhbWlseUltcG9ydGFudCgpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHRoaXMuYWxsSW1wb3J0YW50KCkgIT09IG90aGVyLmFsbEltcG9ydGFudCgpKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHRoaXMucGFnZU90aGVyU3R5bGUoKSAhPT0gb3RoZXIucGFnZU90aGVyU3R5bGUoKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLmZpcnN0UGFnZU90aGVyU3R5bGUoKSAhPT0gb3RoZXIuZmlyc3RQYWdlT3RoZXJTdHlsZSgpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLnJvb3RPdGhlclN0eWxlKCkgIT09IG90aGVyLnJvb3RPdGhlclN0eWxlKCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5iZWZvcmVPdGhlclN0eWxlKCkgIT09IG90aGVyLmJlZm9yZU90aGVyU3R5bGUoKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLmFmdGVyT3RoZXJTdHlsZSgpICE9PSBvdGhlci5hZnRlck90aGVyU3R5bGUoKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKFxuICAgICAgIXRoaXMudmlld2VyRm9udFNpemUgIT09ICFvdGhlci52aWV3ZXJGb250U2l6ZSB8fFxuICAgICAgKHRoaXMudmlld2VyRm9udFNpemUgJiYgdGhpcy52aWV3ZXJGb250U2l6ZSgpICE9PSBvdGhlci52aWV3ZXJGb250U2l6ZSgpKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBhZ2VTdHlsZTtcbiIsIi8qIVxuICogS25vY2tvdXQgSmF2YVNjcmlwdCBsaWJyYXJ5IHYzLjUuMVxuICogKGMpIFRoZSBLbm9ja291dC5qcyB0ZWFtIC0gaHR0cDovL2tub2Nrb3V0anMuY29tL1xuICogTGljZW5zZTogTUlUIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocClcbiAqL1xuXG4oZnVuY3Rpb24oKSB7KGZ1bmN0aW9uKG4pe3ZhciBBPXRoaXN8fCgwLGV2YWwpKFwidGhpc1wiKSx3PUEuZG9jdW1lbnQsUj1BLm5hdmlnYXRvcix2PUEualF1ZXJ5LEg9QS5KU09OO3Z8fFwidW5kZWZpbmVkXCI9PT10eXBlb2YgalF1ZXJ5fHwodj1qUXVlcnkpOyhmdW5jdGlvbihuKXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJleHBvcnRzXCIsXCJyZXF1aXJlXCJdLG4pOlwib2JqZWN0XCI9PT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09PXR5cGVvZiBtb2R1bGU/bihtb2R1bGUuZXhwb3J0c3x8ZXhwb3J0cyk6bihBLmtvPXt9KX0pKGZ1bmN0aW9uKFMsVCl7ZnVuY3Rpb24gSyhhLGMpe3JldHVybiBudWxsPT09YXx8dHlwZW9mIGEgaW4gVz9hPT09YzohMX1mdW5jdGlvbiBYKGIsYyl7dmFyIGQ7cmV0dXJuIGZ1bmN0aW9uKCl7ZHx8KGQ9YS5hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkPW47YigpfSxjKSl9fWZ1bmN0aW9uIFkoYixjKXt2YXIgZDtyZXR1cm4gZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZCk7XG5kPWEuYS5zZXRUaW1lb3V0KGIsYyl9fWZ1bmN0aW9uIFooYSxjKXtjJiZcImNoYW5nZVwiIT09Yz9cImJlZm9yZUNoYW5nZVwiPT09Yz90aGlzLnBjKGEpOnRoaXMuZ2IoYSxjKTp0aGlzLnFjKGEpfWZ1bmN0aW9uIGFhKGEsYyl7bnVsbCE9PWMmJmMucyYmYy5zKCl9ZnVuY3Rpb24gYmEoYSxjKXt2YXIgZD10aGlzLnFkLGU9ZFtyXTtlLnJhfHwodGhpcy5RYiYmdGhpcy5tYltjXT8oZC51YyhjLGEsdGhpcy5tYltjXSksdGhpcy5tYltjXT1udWxsLC0tdGhpcy5RYik6ZS5JW2NdfHxkLnVjKGMsYSxlLko/e2RhOmF9OmQuJGMoYSkpLGEuSmEmJmEuZ2QoKSl9dmFyIGE9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBTP1M6e307YS5iPWZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPWIuc3BsaXQoXCIuXCIpLGU9YSxmPTA7ZjxkLmxlbmd0aC0xO2YrKyllPWVbZFtmXV07ZVtkW2QubGVuZ3RoLTFdXT1jfTthLkw9ZnVuY3Rpb24oYSxjLGQpe2FbY109ZH07YS52ZXJzaW9uPVwiMy41LjFcIjthLmIoXCJ2ZXJzaW9uXCIsXG5hLnZlcnNpb24pO2Eub3B0aW9ucz17ZGVmZXJVcGRhdGVzOiExLHVzZU9ubHlOYXRpdmVFdmVudHM6ITEsZm9yZWFjaEhpZGVzRGVzdHJveWVkOiExfTthLmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsYil7Zm9yKHZhciBjIGluIGEpZi5jYWxsKGEsYykmJmIoYyxhW2NdKX1mdW5jdGlvbiBjKGEsYil7aWYoYilmb3IodmFyIGMgaW4gYilmLmNhbGwoYixjKSYmKGFbY109YltjXSk7cmV0dXJuIGF9ZnVuY3Rpb24gZChhLGIpe2EuX19wcm90b19fPWI7cmV0dXJuIGF9ZnVuY3Rpb24gZShiLGMsZCxlKXt2YXIgbD1iW2NdLm1hdGNoKHEpfHxbXTthLmEuRChkLm1hdGNoKHEpLGZ1bmN0aW9uKGIpe2EuYS5OYShsLGIsZSl9KTtiW2NdPWwuam9pbihcIiBcIil9dmFyIGY9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxnPXtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSxoPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wsbT17fSxrPXt9O21bUiYmL0ZpcmVmb3hcXC8yL2kudGVzdChSLnVzZXJBZ2VudCk/XG5cIktleWJvYXJkRXZlbnRcIjpcIlVJRXZlbnRzXCJdPVtcImtleXVwXCIsXCJrZXlkb3duXCIsXCJrZXlwcmVzc1wiXTttLk1vdXNlRXZlbnRzPVwiY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmVcIi5zcGxpdChcIiBcIik7YihtLGZ1bmN0aW9uKGEsYil7aWYoYi5sZW5ndGgpZm9yKHZhciBjPTAsZD1iLmxlbmd0aDtjPGQ7YysrKWtbYltjXV09YX0pO3ZhciBsPXtwcm9wZXJ0eWNoYW5nZTohMH0scD13JiZmdW5jdGlvbigpe2Zvcih2YXIgYT0zLGI9dy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGM9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlcIik7Yi5pbm5lckhUTUw9XCJcXHgzYyEtLVtpZiBndCBJRSBcIisgKythK1wiXT48aT48L2k+PCFbZW5kaWZdLS1cXHgzZVwiLGNbMF07KTtyZXR1cm4gNDxhP2E6bn0oKSxxPS9cXFMrL2csdDtyZXR1cm57SmM6W1wiYXV0aGVudGljaXR5X3Rva2VuXCIsL15fX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbihfLiopPyQvXSxcbkQ6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKyliLmNhbGwoYyxhW2RdLGQsYSl9LEE6XCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXkucHJvdG90eXBlLmluZGV4T2Y/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChhLGIpfTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKylpZihhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sTGI6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKylpZihiLmNhbGwoYyxhW2RdLGQsYSkpcmV0dXJuIGFbZF07cmV0dXJuIG59LFBhOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLkEoYixjKTswPGQ/Yi5zcGxpY2UoZCwxKTowPT09ZCYmYi5zaGlmdCgpfSx3YzpmdW5jdGlvbihiKXt2YXIgYz1bXTtiJiZhLmEuRChiLGZ1bmN0aW9uKGIpezA+YS5hLkEoYyxiKSYmYy5wdXNoKGIpfSk7cmV0dXJuIGN9LE1iOmZ1bmN0aW9uKGEsXG5iLGMpe3ZhciBkPVtdO2lmKGEpZm9yKHZhciBlPTAsbD1hLmxlbmd0aDtlPGw7ZSsrKWQucHVzaChiLmNhbGwoYyxhW2VdLGUpKTtyZXR1cm4gZH0samI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdO2lmKGEpZm9yKHZhciBlPTAsbD1hLmxlbmd0aDtlPGw7ZSsrKWIuY2FsbChjLGFbZV0sZSkmJmQucHVzaChhW2VdKTtyZXR1cm4gZH0sTmI6ZnVuY3Rpb24oYSxiKXtpZihiIGluc3RhbmNlb2YgQXJyYXkpYS5wdXNoLmFwcGx5KGEsYik7ZWxzZSBmb3IodmFyIGM9MCxkPWIubGVuZ3RoO2M8ZDtjKyspYS5wdXNoKGJbY10pO3JldHVybiBhfSxOYTpmdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5hLkEoYS5hLmJjKGIpLGMpOzA+ZT9kJiZiLnB1c2goYyk6ZHx8Yi5zcGxpY2UoZSwxKX0sQmE6ZyxleHRlbmQ6YyxzZXRQcm90b3R5cGVPZjpkLEFiOmc/ZDpjLFA6YixHYTpmdW5jdGlvbihhLGIsYyl7aWYoIWEpcmV0dXJuIGE7dmFyIGQ9e30sZTtmb3IoZSBpbiBhKWYuY2FsbChhLGUpJiYoZFtlXT1cbmIuY2FsbChjLGFbZV0sZSxhKSk7cmV0dXJuIGR9LFRiOmZ1bmN0aW9uKGIpe2Zvcig7Yi5maXJzdENoaWxkOylhLnJlbW92ZU5vZGUoYi5maXJzdENoaWxkKX0sWWI6ZnVuY3Rpb24oYil7Yj1hLmEubGEoYik7Zm9yKHZhciBjPShiWzBdJiZiWzBdLm93bmVyRG9jdW1lbnR8fHcpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZD0wLGU9Yi5sZW5ndGg7ZDxlO2QrKyljLmFwcGVuZENoaWxkKGEub2EoYltkXSkpO3JldHVybiBjfSxDYTpmdW5jdGlvbihiLGMpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGgsbD1bXTtkPGU7ZCsrKXt2YXIgaz1iW2RdLmNsb25lTm9kZSghMCk7bC5wdXNoKGM/YS5vYShrKTprKX1yZXR1cm4gbH0sdmE6ZnVuY3Rpb24oYixjKXthLmEuVGIoYik7aWYoYylmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYi5hcHBlbmRDaGlsZChjW2RdKX0sWGM6ZnVuY3Rpb24oYixjKXt2YXIgZD1iLm5vZGVUeXBlP1tiXTpiO2lmKDA8ZC5sZW5ndGgpe2Zvcih2YXIgZT1kWzBdLFxubD1lLnBhcmVudE5vZGUsaz0wLGY9Yy5sZW5ndGg7azxmO2srKylsLmluc2VydEJlZm9yZShjW2tdLGUpO2s9MDtmb3IoZj1kLmxlbmd0aDtrPGY7aysrKWEucmVtb3ZlTm9kZShkW2tdKX19LFVhOmZ1bmN0aW9uKGEsYil7aWYoYS5sZW5ndGgpe2ZvcihiPTg9PT1iLm5vZGVUeXBlJiZiLnBhcmVudE5vZGV8fGI7YS5sZW5ndGgmJmFbMF0ucGFyZW50Tm9kZSE9PWI7KWEuc3BsaWNlKDAsMSk7Zm9yKDsxPGEubGVuZ3RoJiZhW2EubGVuZ3RoLTFdLnBhcmVudE5vZGUhPT1iOylhLmxlbmd0aC0tO2lmKDE8YS5sZW5ndGgpe3ZhciBjPWFbMF0sZD1hW2EubGVuZ3RoLTFdO2ZvcihhLmxlbmd0aD0wO2MhPT1kOylhLnB1c2goYyksYz1jLm5leHRTaWJsaW5nO2EucHVzaChkKX19cmV0dXJuIGF9LFpjOmZ1bmN0aW9uKGEsYil7Nz5wP2Euc2V0QXR0cmlidXRlKFwic2VsZWN0ZWRcIixiKTphLnNlbGVjdGVkPWJ9LERiOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YXx8YT09PW4/XCJcIjphLnRyaW0/XG5hLnRyaW0oKTphLnRvU3RyaW5nKCkucmVwbGFjZSgvXltcXHNcXHhhMF0rfFtcXHNcXHhhMF0rJC9nLFwiXCIpfSxVZDpmdW5jdGlvbihhLGIpe2E9YXx8XCJcIjtyZXR1cm4gYi5sZW5ndGg+YS5sZW5ndGg/ITE6YS5zdWJzdHJpbmcoMCxiLmxlbmd0aCk9PT1ifSx2ZDpmdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiEwO2lmKDExPT09YS5ub2RlVHlwZSlyZXR1cm4hMTtpZihiLmNvbnRhaW5zKXJldHVybiBiLmNvbnRhaW5zKDEhPT1hLm5vZGVUeXBlP2EucGFyZW50Tm9kZTphKTtpZihiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXJldHVybiAxNj09KGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSkmMTYpO2Zvcig7YSYmYSE9YjspYT1hLnBhcmVudE5vZGU7cmV0dXJuISFhfSxTYjpmdW5jdGlvbihiKXtyZXR1cm4gYS5hLnZkKGIsYi5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCl9LGtkOmZ1bmN0aW9uKGIpe3JldHVybiEhYS5hLkxiKGIsYS5hLlNiKX0sUjpmdW5jdGlvbihhKXtyZXR1cm4gYSYmXG5hLnRhZ05hbWUmJmEudGFnTmFtZS50b0xvd2VyQ2FzZSgpfSxBYzpmdW5jdGlvbihiKXtyZXR1cm4gYS5vbkVycm9yP2Z1bmN0aW9uKCl7dHJ5e3JldHVybiBiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1jYXRjaChjKXt0aHJvdyBhLm9uRXJyb3ImJmEub25FcnJvcihjKSxjO319OmJ9LHNldFRpbWVvdXQ6ZnVuY3Rpb24oYixjKXtyZXR1cm4gc2V0VGltZW91dChhLmEuQWMoYiksYyl9LEdjOmZ1bmN0aW9uKGIpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLm9uRXJyb3ImJmEub25FcnJvcihiKTt0aHJvdyBiO30sMCl9LEI6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuYS5BYyhkKTtkPWxbY107aWYoYS5vcHRpb25zLnVzZU9ubHlOYXRpdmVFdmVudHN8fGR8fCF2KWlmKGR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGIuYWRkRXZlbnRMaXN0ZW5lcilpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgYi5hdHRhY2hFdmVudCl7dmFyIGs9ZnVuY3Rpb24oYSl7ZS5jYWxsKGIsYSl9LGY9XCJvblwiK2M7Yi5hdHRhY2hFdmVudChmLFxuayk7YS5hLksuemEoYixmdW5jdGlvbigpe2IuZGV0YWNoRXZlbnQoZixrKX0pfWVsc2UgdGhyb3cgRXJyb3IoXCJCcm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBhZGRFdmVudExpc3RlbmVyIG9yIGF0dGFjaEV2ZW50XCIpO2Vsc2UgYi5hZGRFdmVudExpc3RlbmVyKGMsZSwhMSk7ZWxzZSB0fHwodD1cImZ1bmN0aW9uXCI9PXR5cGVvZiB2KGIpLm9uP1wib25cIjpcImJpbmRcIiksdihiKVt0XShjLGUpfSxGYjpmdW5jdGlvbihiLGMpe2lmKCFifHwhYi5ub2RlVHlwZSl0aHJvdyBFcnJvcihcImVsZW1lbnQgbXVzdCBiZSBhIERPTSBub2RlIHdoZW4gY2FsbGluZyB0cmlnZ2VyRXZlbnRcIik7dmFyIGQ7XCJpbnB1dFwiPT09YS5hLlIoYikmJmIudHlwZSYmXCJjbGlja1wiPT1jLnRvTG93ZXJDYXNlKCk/KGQ9Yi50eXBlLGQ9XCJjaGVja2JveFwiPT1kfHxcInJhZGlvXCI9PWQpOmQ9ITE7aWYoYS5vcHRpb25zLnVzZU9ubHlOYXRpdmVFdmVudHN8fCF2fHxkKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHcuY3JlYXRlRXZlbnQpaWYoXCJmdW5jdGlvblwiPT1cbnR5cGVvZiBiLmRpc3BhdGNoRXZlbnQpZD13LmNyZWF0ZUV2ZW50KGtbY118fFwiSFRNTEV2ZW50c1wiKSxkLmluaXRFdmVudChjLCEwLCEwLEEsMCwwLDAsMCwwLCExLCExLCExLCExLDAsYiksYi5kaXNwYXRjaEV2ZW50KGQpO2Vsc2UgdGhyb3cgRXJyb3IoXCJUaGUgc3VwcGxpZWQgZWxlbWVudCBkb2Vzbid0IHN1cHBvcnQgZGlzcGF0Y2hFdmVudFwiKTtlbHNlIGlmKGQmJmIuY2xpY2spYi5jbGljaygpO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGIuZmlyZUV2ZW50KWIuZmlyZUV2ZW50KFwib25cIitjKTtlbHNlIHRocm93IEVycm9yKFwiQnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgdHJpZ2dlcmluZyBldmVudHNcIik7ZWxzZSB2KGIpLnRyaWdnZXIoYyl9LGY6ZnVuY3Rpb24oYil7cmV0dXJuIGEuTyhiKT9iKCk6Yn0sYmM6ZnVuY3Rpb24oYil7cmV0dXJuIGEuTyhiKT9iLnYoKTpifSxFYjpmdW5jdGlvbihiLGMsZCl7dmFyIGw7YyYmKFwib2JqZWN0XCI9PT10eXBlb2YgYi5jbGFzc0xpc3Q/XG4obD1iLmNsYXNzTGlzdFtkP1wiYWRkXCI6XCJyZW1vdmVcIl0sYS5hLkQoYy5tYXRjaChxKSxmdW5jdGlvbihhKXtsLmNhbGwoYi5jbGFzc0xpc3QsYSl9KSk6XCJzdHJpbmdcIj09PXR5cGVvZiBiLmNsYXNzTmFtZS5iYXNlVmFsP2UoYi5jbGFzc05hbWUsXCJiYXNlVmFsXCIsYyxkKTplKGIsXCJjbGFzc05hbWVcIixjLGQpKX0sQmI6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuZihjKTtpZihudWxsPT09ZHx8ZD09PW4pZD1cIlwiO3ZhciBlPWEuaC5maXJzdENoaWxkKGIpOyFlfHwzIT1lLm5vZGVUeXBlfHxhLmgubmV4dFNpYmxpbmcoZSk/YS5oLnZhKGIsW2Iub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkKV0pOmUuZGF0YT1kO2EuYS5BZChiKX0sWWM6ZnVuY3Rpb24oYSxiKXthLm5hbWU9YjtpZig3Pj1wKXRyeXt2YXIgYz1hLm5hbWUucmVwbGFjZSgvWyY8PidcIl0vZyxmdW5jdGlvbihhKXtyZXR1cm5cIiYjXCIrYS5jaGFyQ29kZUF0KDApK1wiO1wifSk7YS5tZXJnZUF0dHJpYnV0ZXMody5jcmVhdGVFbGVtZW50KFwiPGlucHV0IG5hbWU9J1wiK1xuYytcIicvPlwiKSwhMSl9Y2F0Y2goZCl7fX0sQWQ6ZnVuY3Rpb24oYSl7OTw9cCYmKGE9MT09YS5ub2RlVHlwZT9hOmEucGFyZW50Tm9kZSxhLnN0eWxlJiYoYS5zdHlsZS56b29tPWEuc3R5bGUuem9vbSkpfSx3ZDpmdW5jdGlvbihhKXtpZihwKXt2YXIgYj1hLnN0eWxlLndpZHRoO2Euc3R5bGUud2lkdGg9MDthLnN0eWxlLndpZHRoPWJ9fSxQZDpmdW5jdGlvbihiLGMpe2I9YS5hLmYoYik7Yz1hLmEuZihjKTtmb3IodmFyIGQ9W10sZT1iO2U8PWM7ZSsrKWQucHVzaChlKTtyZXR1cm4gZH0sbGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspYi5wdXNoKGFbY10pO3JldHVybiBifSxEYTpmdW5jdGlvbihhKXtyZXR1cm4gaD9TeW1ib2woYSk6YX0sWmQ6Nj09PXAsJGQ6Nz09PXAsVzpwLExjOmZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPWEuYS5sYShiLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIikpLmNvbmNhdChhLmEubGEoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRleHRhcmVhXCIpKSksXG5lPVwic3RyaW5nXCI9PXR5cGVvZiBjP2Z1bmN0aW9uKGEpe3JldHVybiBhLm5hbWU9PT1jfTpmdW5jdGlvbihhKXtyZXR1cm4gYy50ZXN0KGEubmFtZSl9LGw9W10saz1kLmxlbmd0aC0xOzA8PWs7ay0tKWUoZFtrXSkmJmwucHVzaChkW2tdKTtyZXR1cm4gbH0sTmQ6ZnVuY3Rpb24oYil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGImJihiPWEuYS5EYihiKSk/SCYmSC5wYXJzZT9ILnBhcnNlKGIpOihuZXcgRnVuY3Rpb24oXCJyZXR1cm4gXCIrYikpKCk6bnVsbH0saGM6ZnVuY3Rpb24oYixjLGQpe2lmKCFIfHwhSC5zdHJpbmdpZnkpdGhyb3cgRXJyb3IoXCJDYW5ub3QgZmluZCBKU09OLnN0cmluZ2lmeSgpLiBTb21lIGJyb3dzZXJzIChlLmcuLCBJRSA8IDgpIGRvbid0IHN1cHBvcnQgaXQgbmF0aXZlbHksIGJ1dCB5b3UgY2FuIG92ZXJjb21lIHRoaXMgYnkgYWRkaW5nIGEgc2NyaXB0IHJlZmVyZW5jZSB0byBqc29uMi5qcywgZG93bmxvYWRhYmxlIGZyb20gaHR0cDovL3d3dy5qc29uLm9yZy9qc29uMi5qc1wiKTtcbnJldHVybiBILnN0cmluZ2lmeShhLmEuZihiKSxjLGQpfSxPZDpmdW5jdGlvbihjLGQsZSl7ZT1lfHx7fTt2YXIgbD1lLnBhcmFtc3x8e30saz1lLmluY2x1ZGVGaWVsZHN8fHRoaXMuSmMsZj1jO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBjJiZcImZvcm1cIj09PWEuYS5SKGMpKWZvcih2YXIgZj1jLmFjdGlvbixoPWsubGVuZ3RoLTE7MDw9aDtoLS0pZm9yKHZhciBnPWEuYS5MYyhjLGtbaF0pLG09Zy5sZW5ndGgtMTswPD1tO20tLSlsW2dbbV0ubmFtZV09Z1ttXS52YWx1ZTtkPWEuYS5mKGQpO3ZhciBwPXcuY3JlYXRlRWxlbWVudChcImZvcm1cIik7cC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3AuYWN0aW9uPWY7cC5tZXRob2Q9XCJwb3N0XCI7Zm9yKHZhciBxIGluIGQpYz13LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxjLnR5cGU9XCJoaWRkZW5cIixjLm5hbWU9cSxjLnZhbHVlPWEuYS5oYyhhLmEuZihkW3FdKSkscC5hcHBlbmRDaGlsZChjKTtiKGwsZnVuY3Rpb24oYSxiKXt2YXIgYz13LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbmMudHlwZT1cImhpZGRlblwiO2MubmFtZT1hO2MudmFsdWU9YjtwLmFwcGVuZENoaWxkKGMpfSk7dy5ib2R5LmFwcGVuZENoaWxkKHApO2Uuc3VibWl0dGVyP2Uuc3VibWl0dGVyKHApOnAuc3VibWl0KCk7c2V0VGltZW91dChmdW5jdGlvbigpe3AucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwKX0sMCl9fX0oKTthLmIoXCJ1dGlsc1wiLGEuYSk7YS5iKFwidXRpbHMuYXJyYXlGb3JFYWNoXCIsYS5hLkQpO2EuYihcInV0aWxzLmFycmF5Rmlyc3RcIixhLmEuTGIpO2EuYihcInV0aWxzLmFycmF5RmlsdGVyXCIsYS5hLmpiKTthLmIoXCJ1dGlscy5hcnJheUdldERpc3RpbmN0VmFsdWVzXCIsYS5hLndjKTthLmIoXCJ1dGlscy5hcnJheUluZGV4T2ZcIixhLmEuQSk7YS5iKFwidXRpbHMuYXJyYXlNYXBcIixhLmEuTWIpO2EuYihcInV0aWxzLmFycmF5UHVzaEFsbFwiLGEuYS5OYik7YS5iKFwidXRpbHMuYXJyYXlSZW1vdmVJdGVtXCIsYS5hLlBhKTthLmIoXCJ1dGlscy5jbG9uZU5vZGVzXCIsYS5hLkNhKTthLmIoXCJ1dGlscy5jcmVhdGVTeW1ib2xPclN0cmluZ1wiLFxuYS5hLkRhKTthLmIoXCJ1dGlscy5leHRlbmRcIixhLmEuZXh0ZW5kKTthLmIoXCJ1dGlscy5maWVsZHNJbmNsdWRlZFdpdGhKc29uUG9zdFwiLGEuYS5KYyk7YS5iKFwidXRpbHMuZ2V0Rm9ybUZpZWxkc1wiLGEuYS5MYyk7YS5iKFwidXRpbHMub2JqZWN0TWFwXCIsYS5hLkdhKTthLmIoXCJ1dGlscy5wZWVrT2JzZXJ2YWJsZVwiLGEuYS5iYyk7YS5iKFwidXRpbHMucG9zdEpzb25cIixhLmEuT2QpO2EuYihcInV0aWxzLnBhcnNlSnNvblwiLGEuYS5OZCk7YS5iKFwidXRpbHMucmVnaXN0ZXJFdmVudEhhbmRsZXJcIixhLmEuQik7YS5iKFwidXRpbHMuc3RyaW5naWZ5SnNvblwiLGEuYS5oYyk7YS5iKFwidXRpbHMucmFuZ2VcIixhLmEuUGQpO2EuYihcInV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzc1wiLGEuYS5FYik7YS5iKFwidXRpbHMudHJpZ2dlckV2ZW50XCIsYS5hLkZiKTthLmIoXCJ1dGlscy51bndyYXBPYnNlcnZhYmxlXCIsYS5hLmYpO2EuYihcInV0aWxzLm9iamVjdEZvckVhY2hcIixhLmEuUCk7YS5iKFwidXRpbHMuYWRkT3JSZW1vdmVJdGVtXCIsXG5hLmEuTmEpO2EuYihcInV0aWxzLnNldFRleHRDb250ZW50XCIsYS5hLkJiKTthLmIoXCJ1bndyYXBcIixhLmEuZik7RnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhKXt2YXIgYz10aGlzO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBmdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KGEsYXJndW1lbnRzKX07dmFyIGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3ZhciBlPWQuc2xpY2UoMCk7ZS5wdXNoLmFwcGx5KGUsYXJndW1lbnRzKTtyZXR1cm4gYy5hcHBseShhLGUpfX0pO2EuYS5nPW5ldyBmdW5jdGlvbigpe3ZhciBiPTAsYz1cIl9fa29fX1wiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLGQ9e30sZSxmO2EuYS5XPyhlPWZ1bmN0aW9uKGEsZSl7dmFyIGY9YVtjXTtpZighZnx8XCJudWxsXCI9PT1mfHwhZFtmXSl7aWYoIWUpcmV0dXJuIG47Zj1hW2NdPVwia29cIitiKys7ZFtmXT1cbnt9fXJldHVybiBkW2ZdfSxmPWZ1bmN0aW9uKGEpe3ZhciBiPWFbY107cmV0dXJuIGI/KGRlbGV0ZSBkW2JdLGFbY109bnVsbCwhMCk6ITF9KTooZT1mdW5jdGlvbihhLGIpe3ZhciBkPWFbY107IWQmJmImJihkPWFbY109e30pO3JldHVybiBkfSxmPWZ1bmN0aW9uKGEpe3JldHVybiBhW2NdPyhkZWxldGUgYVtjXSwhMCk6ITF9KTtyZXR1cm57Z2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9ZShhLCExKTtyZXR1cm4gYyYmY1tiXX0sc2V0OmZ1bmN0aW9uKGEsYixjKXsoYT1lKGEsYyE9PW4pKSYmKGFbYl09Yyl9LFViOmZ1bmN0aW9uKGEsYixjKXthPWUoYSwhMCk7cmV0dXJuIGFbYl18fChhW2JdPWMpfSxjbGVhcjpmLFo6ZnVuY3Rpb24oKXtyZXR1cm4gYisrICtjfX19O2EuYihcInV0aWxzLmRvbURhdGFcIixhLmEuZyk7YS5iKFwidXRpbHMuZG9tRGF0YS5jbGVhclwiLGEuYS5nLmNsZWFyKTthLmEuSz1uZXcgZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsYyl7dmFyIGQ9YS5hLmcuZ2V0KGIsZSk7XG5kPT09biYmYyYmKGQ9W10sYS5hLmcuc2V0KGIsZSxkKSk7cmV0dXJuIGR9ZnVuY3Rpb24gYyhjKXt2YXIgZT1iKGMsITEpO2lmKGUpZm9yKHZhciBlPWUuc2xpY2UoMCksaz0wO2s8ZS5sZW5ndGg7aysrKWVba10oYyk7YS5hLmcuY2xlYXIoYyk7YS5hLksuY2xlYW5FeHRlcm5hbERhdGEoYyk7Z1tjLm5vZGVUeXBlXSYmZChjLmNoaWxkTm9kZXMsITApfWZ1bmN0aW9uIGQoYixkKXtmb3IodmFyIGU9W10sbCxmPTA7ZjxiLmxlbmd0aDtmKyspaWYoIWR8fDg9PT1iW2ZdLm5vZGVUeXBlKWlmKGMoZVtlLmxlbmd0aF09bD1iW2ZdKSxiW2ZdIT09bClmb3IoO2YtLSYmLTE9PWEuYS5BKGUsYltmXSk7KTt9dmFyIGU9YS5hLmcuWigpLGY9ezE6ITAsODohMCw5OiEwfSxnPXsxOiEwLDk6ITB9O3JldHVybnt6YTpmdW5jdGlvbihhLGMpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGMpdGhyb3cgRXJyb3IoXCJDYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb25cIik7YihhLCEwKS5wdXNoKGMpfSx5YjpmdW5jdGlvbihjLFxuZCl7dmFyIGY9YihjLCExKTtmJiYoYS5hLlBhKGYsZCksMD09Zi5sZW5ndGgmJmEuYS5nLnNldChjLGUsbikpfSxvYTpmdW5jdGlvbihiKXthLnUuRyhmdW5jdGlvbigpe2ZbYi5ub2RlVHlwZV0mJihjKGIpLGdbYi5ub2RlVHlwZV0mJmQoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikpKX0pO3JldHVybiBifSxyZW1vdmVOb2RlOmZ1bmN0aW9uKGIpe2Eub2EoYik7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYil9LGNsZWFuRXh0ZXJuYWxEYXRhOmZ1bmN0aW9uKGEpe3YmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHYuY2xlYW5EYXRhJiZ2LmNsZWFuRGF0YShbYV0pfX19O2Eub2E9YS5hLksub2E7YS5yZW1vdmVOb2RlPWEuYS5LLnJlbW92ZU5vZGU7YS5iKFwiY2xlYW5Ob2RlXCIsYS5vYSk7YS5iKFwicmVtb3ZlTm9kZVwiLGEucmVtb3ZlTm9kZSk7YS5iKFwidXRpbHMuZG9tTm9kZURpc3Bvc2FsXCIsYS5hLkspO2EuYihcInV0aWxzLmRvbU5vZGVEaXNwb3NhbC5hZGREaXNwb3NlQ2FsbGJhY2tcIixcbmEuYS5LLnphKTthLmIoXCJ1dGlscy5kb21Ob2RlRGlzcG9zYWwucmVtb3ZlRGlzcG9zZUNhbGxiYWNrXCIsYS5hLksueWIpOyhmdW5jdGlvbigpe3ZhciBiPVswLFwiXCIsXCJcIl0sYz1bMSxcIjx0YWJsZT5cIixcIjwvdGFibGU+XCJdLGQ9WzMsXCI8dGFibGU+PHRib2R5Pjx0cj5cIixcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiXSxlPVsxLFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLFwiPC9zZWxlY3Q+XCJdLGY9e3RoZWFkOmMsdGJvZHk6Yyx0Zm9vdDpjLHRyOlsyLFwiPHRhYmxlPjx0Ym9keT5cIixcIjwvdGJvZHk+PC90YWJsZT5cIl0sdGQ6ZCx0aDpkLG9wdGlvbjplLG9wdGdyb3VwOmV9LGc9OD49YS5hLlc7YS5hLnVhPWZ1bmN0aW9uKGMsZCl7dmFyIGU7aWYodilpZih2LnBhcnNlSFRNTCllPXYucGFyc2VIVE1MKGMsZCl8fFtdO2Vsc2V7aWYoKGU9di5jbGVhbihbY10sZCkpJiZlWzBdKXtmb3IodmFyIGw9ZVswXTtsLnBhcmVudE5vZGUmJjExIT09bC5wYXJlbnROb2RlLm5vZGVUeXBlOylsPWwucGFyZW50Tm9kZTtcbmwucGFyZW50Tm9kZSYmbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGwpfX1lbHNleyhlPWQpfHwoZT13KTt2YXIgbD1lLnBhcmVudFdpbmRvd3x8ZS5kZWZhdWx0Vmlld3x8QSxwPWEuYS5EYihjKS50b0xvd2VyQ2FzZSgpLHE9ZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHQ7dD0ocD1wLm1hdGNoKC9eKD86XFx4M2MhLS0uKj8tLVxceDNlXFxzKj8pKj88KFthLXpdKylbXFxzPl0vKSkmJmZbcFsxXV18fGI7cD10WzBdO3Q9XCJpZ25vcmVkPGRpdj5cIit0WzFdK2MrdFsyXStcIjwvZGl2PlwiO1wiZnVuY3Rpb25cIj09dHlwZW9mIGwuaW5uZXJTaGl2P3EuYXBwZW5kQ2hpbGQobC5pbm5lclNoaXYodCkpOihnJiZlLmJvZHkuYXBwZW5kQ2hpbGQocSkscS5pbm5lckhUTUw9dCxnJiZxLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocSkpO2Zvcig7cC0tOylxPXEubGFzdENoaWxkO2U9YS5hLmxhKHEubGFzdENoaWxkLmNoaWxkTm9kZXMpfXJldHVybiBlfTthLmEuTWQ9ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEudWEoYixcbmMpO3JldHVybiBkLmxlbmd0aCYmZFswXS5wYXJlbnRFbGVtZW50fHxhLmEuWWIoZCl9O2EuYS5mYz1mdW5jdGlvbihiLGMpe2EuYS5UYihiKTtjPWEuYS5mKGMpO2lmKG51bGwhPT1jJiZjIT09bilpZihcInN0cmluZ1wiIT10eXBlb2YgYyYmKGM9Yy50b1N0cmluZygpKSx2KXYoYikuaHRtbChjKTtlbHNlIGZvcih2YXIgZD1hLmEudWEoYyxiLm93bmVyRG9jdW1lbnQpLGU9MDtlPGQubGVuZ3RoO2UrKyliLmFwcGVuZENoaWxkKGRbZV0pfX0pKCk7YS5iKFwidXRpbHMucGFyc2VIdG1sRnJhZ21lbnRcIixhLmEudWEpO2EuYihcInV0aWxzLnNldEh0bWxcIixhLmEuZmMpO2EuYWE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGMsZSl7aWYoYylpZig4PT1jLm5vZGVUeXBlKXt2YXIgZj1hLmFhLlVjKGMubm9kZVZhbHVlKTtudWxsIT1mJiZlLnB1c2goe3VkOmMsS2Q6Zn0pfWVsc2UgaWYoMT09Yy5ub2RlVHlwZSlmb3IodmFyIGY9MCxnPWMuY2hpbGROb2RlcyxoPWcubGVuZ3RoO2Y8aDtmKyspYihnW2ZdLFxuZSl9dmFyIGM9e307cmV0dXJue1hiOmZ1bmN0aW9uKGEpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGEpdGhyb3cgRXJyb3IoXCJZb3UgY2FuIG9ubHkgcGFzcyBhIGZ1bmN0aW9uIHRvIGtvLm1lbW9pemF0aW9uLm1lbW9pemUoKVwiKTt2YXIgYj0oNDI5NDk2NzI5NiooMStNYXRoLnJhbmRvbSgpKXwwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpKyg0Mjk0OTY3Mjk2KigxK01hdGgucmFuZG9tKCkpfDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7Y1tiXT1hO3JldHVyblwiXFx4M2MhLS1ba29fbWVtbzpcIitiK1wiXS0tXFx4M2VcIn0sYmQ6ZnVuY3Rpb24oYSxiKXt2YXIgZj1jW2FdO2lmKGY9PT1uKXRocm93IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhbnkgbWVtbyB3aXRoIElEIFwiK2ErXCIuIFBlcmhhcHMgaXQncyBhbHJlYWR5IGJlZW4gdW5tZW1vaXplZC5cIik7dHJ5e3JldHVybiBmLmFwcGx5KG51bGwsYnx8W10pLCEwfWZpbmFsbHl7ZGVsZXRlIGNbYV19fSxjZDpmdW5jdGlvbihjLGUpe3ZhciBmPVxuW107YihjLGYpO2Zvcih2YXIgZz0wLGg9Zi5sZW5ndGg7ZzxoO2crKyl7dmFyIG09ZltnXS51ZCxrPVttXTtlJiZhLmEuTmIoayxlKTthLmFhLmJkKGZbZ10uS2Qsayk7bS5ub2RlVmFsdWU9XCJcIjttLnBhcmVudE5vZGUmJm0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtKX19LFVjOmZ1bmN0aW9uKGEpe3JldHVybihhPWEubWF0Y2goL15cXFtrb19tZW1vXFw6KC4qPylcXF0kLykpP2FbMV06bnVsbH19fSgpO2EuYihcIm1lbW9pemF0aW9uXCIsYS5hYSk7YS5iKFwibWVtb2l6YXRpb24ubWVtb2l6ZVwiLGEuYWEuWGIpO2EuYihcIm1lbW9pemF0aW9uLnVubWVtb2l6ZVwiLGEuYWEuYmQpO2EuYihcIm1lbW9pemF0aW9uLnBhcnNlTWVtb1RleHRcIixhLmFhLlVjKTthLmIoXCJtZW1vaXphdGlvbi51bm1lbW9pemVEb21Ob2RlQW5kRGVzY2VuZGFudHNcIixhLmFhLmNkKTthLm5hPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYigpe2lmKGYpZm9yKHZhciBiPWYsYz0wLGQ7aDxmOylpZihkPWVbaCsrXSl7aWYoaD5iKXtpZig1RTM8PVxuKytjKXtoPWY7YS5hLkdjKEVycm9yKFwiJ1RvbyBtdWNoIHJlY3Vyc2lvbicgYWZ0ZXIgcHJvY2Vzc2luZyBcIitjK1wiIHRhc2sgZ3JvdXBzLlwiKSk7YnJlYWt9Yj1mfXRyeXtkKCl9Y2F0Y2gocCl7YS5hLkdjKHApfX19ZnVuY3Rpb24gYygpe2IoKTtoPWY9ZS5sZW5ndGg9MH12YXIgZCxlPVtdLGY9MCxnPTEsaD0wO0EuTXV0YXRpb25PYnNlcnZlcj9kPWZ1bmN0aW9uKGEpe3ZhciBiPXcuY3JlYXRlRWxlbWVudChcImRpdlwiKTsobmV3IE11dGF0aW9uT2JzZXJ2ZXIoYSkpLm9ic2VydmUoYix7YXR0cmlidXRlczohMH0pO3JldHVybiBmdW5jdGlvbigpe2IuY2xhc3NMaXN0LnRvZ2dsZShcImZvb1wiKX19KGMpOmQ9dyYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIHcuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKT9mdW5jdGlvbihhKXt2YXIgYj13LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7Yi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtiLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsO3cuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKGIpO1xuYj1udWxsO2EoKX07dy5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYil9OmZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoYSwwKX07cmV0dXJue3NjaGVkdWxlcjpkLHpiOmZ1bmN0aW9uKGIpe2Z8fGEubmEuc2NoZWR1bGVyKGMpO2VbZisrXT1iO3JldHVybiBnKyt9LGNhbmNlbDpmdW5jdGlvbihhKXthPWEtKGctZik7YT49aCYmYTxmJiYoZVthXT1udWxsKX0scmVzZXRGb3JUZXN0aW5nOmZ1bmN0aW9uKCl7dmFyIGE9Zi1oO2g9Zj1lLmxlbmd0aD0wO3JldHVybiBhfSxTZDpifX0oKTthLmIoXCJ0YXNrc1wiLGEubmEpO2EuYihcInRhc2tzLnNjaGVkdWxlXCIsYS5uYS56Yik7YS5iKFwidGFza3MucnVuRWFybHlcIixhLm5hLlNkKTthLlRhPXt0aHJvdHRsZTpmdW5jdGlvbihiLGMpe2IudGhyb3R0bGVFdmFsdWF0aW9uPWM7dmFyIGQ9bnVsbDtyZXR1cm4gYS4kKHtyZWFkOmIsd3JpdGU6ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGQpO2Q9YS5hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiKGUpfSxcbmMpfX0pfSxyYXRlTGltaXQ6ZnVuY3Rpb24oYSxjKXt2YXIgZCxlLGY7XCJudW1iZXJcIj09dHlwZW9mIGM/ZD1jOihkPWMudGltZW91dCxlPWMubWV0aG9kKTthLkhiPSExO2Y9XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lOlwibm90aWZ5V2hlbkNoYW5nZXNTdG9wXCI9PWU/WTpYO2EudWIoZnVuY3Rpb24oYSl7cmV0dXJuIGYoYSxkLGMpfSl9LGRlZmVycmVkOmZ1bmN0aW9uKGIsYyl7aWYoITAhPT1jKXRocm93IEVycm9yKFwiVGhlICdkZWZlcnJlZCcgZXh0ZW5kZXIgb25seSBhY2NlcHRzIHRoZSB2YWx1ZSAndHJ1ZScsIGJlY2F1c2UgaXQgaXMgbm90IHN1cHBvcnRlZCB0byB0dXJuIGRlZmVycmFsIG9mZiBvbmNlIGVuYWJsZWQuXCIpO2IuSGJ8fChiLkhiPSEwLGIudWIoZnVuY3Rpb24oYyl7dmFyIGUsZj0hMTtyZXR1cm4gZnVuY3Rpb24oKXtpZighZil7YS5uYS5jYW5jZWwoZSk7ZT1hLm5hLnpiKGMpO3RyeXtmPSEwLGIubm90aWZ5U3Vic2NyaWJlcnMobixcImRpcnR5XCIpfWZpbmFsbHl7Zj1cbiExfX19fSkpfSxub3RpZnk6ZnVuY3Rpb24oYSxjKXthLmVxdWFsaXR5Q29tcGFyZXI9XCJhbHdheXNcIj09Yz9udWxsOkt9fTt2YXIgVz17dW5kZWZpbmVkOjEsXCJib29sZWFuXCI6MSxudW1iZXI6MSxzdHJpbmc6MX07YS5iKFwiZXh0ZW5kZXJzXCIsYS5UYSk7YS5pYz1mdW5jdGlvbihiLGMsZCl7dGhpcy5kYT1iO3RoaXMubGM9Yzt0aGlzLm1jPWQ7dGhpcy5JYj0hMTt0aGlzLmZiPXRoaXMuSmI9bnVsbDthLkwodGhpcyxcImRpc3Bvc2VcIix0aGlzLnMpO2EuTCh0aGlzLFwiZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkXCIsdGhpcy5sKX07YS5pYy5wcm90b3R5cGUucz1mdW5jdGlvbigpe3RoaXMuSWJ8fCh0aGlzLmZiJiZhLmEuSy55Yih0aGlzLkpiLHRoaXMuZmIpLHRoaXMuSWI9ITAsdGhpcy5tYygpLHRoaXMuZGE9dGhpcy5sYz10aGlzLm1jPXRoaXMuSmI9dGhpcy5mYj1udWxsKX07YS5pYy5wcm90b3R5cGUubD1mdW5jdGlvbihiKXt0aGlzLkpiPWI7YS5hLksuemEoYix0aGlzLmZiPXRoaXMucy5iaW5kKHRoaXMpKX07XG5hLlQ9ZnVuY3Rpb24oKXthLmEuQWIodGhpcyxEKTtELnFiKHRoaXMpfTt2YXIgRD17cWI6ZnVuY3Rpb24oYSl7YS5VPXtjaGFuZ2U6W119O2Euc2M9MX0sc3Vic2NyaWJlOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzO2Q9ZHx8XCJjaGFuZ2VcIjt2YXIgZj1uZXcgYS5pYyhlLGM/Yi5iaW5kKGMpOmIsZnVuY3Rpb24oKXthLmEuUGEoZS5VW2RdLGYpO2UuaGImJmUuaGIoZCl9KTtlLlFhJiZlLlFhKGQpO2UuVVtkXXx8KGUuVVtkXT1bXSk7ZS5VW2RdLnB1c2goZik7cmV0dXJuIGZ9LG5vdGlmeVN1YnNjcmliZXJzOmZ1bmN0aW9uKGIsYyl7Yz1jfHxcImNoYW5nZVwiO1wiY2hhbmdlXCI9PT1jJiZ0aGlzLkdiKCk7aWYodGhpcy5XYShjKSl7dmFyIGQ9XCJjaGFuZ2VcIj09PWMmJnRoaXMuZWR8fHRoaXMuVVtjXS5zbGljZSgwKTt0cnl7YS51LnhjKCk7Zm9yKHZhciBlPTAsZjtmPWRbZV07KytlKWYuSWJ8fGYubGMoYil9ZmluYWxseXthLnUuZW5kKCl9fX0sb2I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY30sXG5EZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vYigpIT09YX0sR2I6ZnVuY3Rpb24oKXsrK3RoaXMuc2N9LHViOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsZD1hLk8oYyksZSxmLGcsaCxtO2MuZ2J8fChjLmdiPWMubm90aWZ5U3Vic2NyaWJlcnMsYy5ub3RpZnlTdWJzY3JpYmVycz1aKTt2YXIgaz1iKGZ1bmN0aW9uKCl7Yy5KYT0hMTtkJiZoPT09YyYmKGg9Yy5uYz9jLm5jKCk6YygpKTt2YXIgYT1mfHxtJiZjLnNiKGcsaCk7bT1mPWU9ITE7YSYmYy5nYihnPWgpfSk7Yy5xYz1mdW5jdGlvbihhLGIpe2ImJmMuSmF8fChtPSFiKTtjLmVkPWMuVS5jaGFuZ2Uuc2xpY2UoMCk7Yy5KYT1lPSEwO2g9YTtrKCl9O2MucGM9ZnVuY3Rpb24oYSl7ZXx8KGc9YSxjLmdiKGEsXCJiZWZvcmVDaGFuZ2VcIikpfTtjLnJjPWZ1bmN0aW9uKCl7bT0hMH07Yy5nZD1mdW5jdGlvbigpe2Muc2IoZyxjLnYoITApKSYmKGY9ITApfX0sV2E6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuVVthXSYmdGhpcy5VW2FdLmxlbmd0aH0sXG5CZDpmdW5jdGlvbihiKXtpZihiKXJldHVybiB0aGlzLlVbYl0mJnRoaXMuVVtiXS5sZW5ndGh8fDA7dmFyIGM9MDthLmEuUCh0aGlzLlUsZnVuY3Rpb24oYSxiKXtcImRpcnR5XCIhPT1hJiYoYys9Yi5sZW5ndGgpfSk7cmV0dXJuIGN9LHNiOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIXRoaXMuZXF1YWxpdHlDb21wYXJlcnx8IXRoaXMuZXF1YWxpdHlDb21wYXJlcihhLGMpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBPYmplY3RdXCJ9LGV4dGVuZDpmdW5jdGlvbihiKXt2YXIgYz10aGlzO2ImJmEuYS5QKGIsZnVuY3Rpb24oYixlKXt2YXIgZj1hLlRhW2JdO1wiZnVuY3Rpb25cIj09dHlwZW9mIGYmJihjPWYoYyxlKXx8Yyl9KTtyZXR1cm4gY319O2EuTChELFwiaW5pdFwiLEQucWIpO2EuTChELFwic3Vic2NyaWJlXCIsRC5zdWJzY3JpYmUpO2EuTChELFwiZXh0ZW5kXCIsRC5leHRlbmQpO2EuTChELFwiZ2V0U3Vic2NyaXB0aW9uc0NvdW50XCIsRC5CZCk7YS5hLkJhJiZhLmEuc2V0UHJvdG90eXBlT2YoRCxcbkZ1bmN0aW9uLnByb3RvdHlwZSk7YS5ULmZuPUQ7YS5RYz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5zdWJzY3JpYmUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEubm90aWZ5U3Vic2NyaWJlcnN9O2EuYihcInN1YnNjcmliYWJsZVwiLGEuVCk7YS5iKFwiaXNTdWJzY3JpYmFibGVcIixhLlFjKTthLlM9YS51PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhKXtkLnB1c2goZSk7ZT1hfWZ1bmN0aW9uIGMoKXtlPWQucG9wKCl9dmFyIGQ9W10sZSxmPTA7cmV0dXJue3hjOmIsZW5kOmMsY2M6ZnVuY3Rpb24oYil7aWYoZSl7aWYoIWEuUWMoYikpdGhyb3cgRXJyb3IoXCJPbmx5IHN1YnNjcmliYWJsZSB0aGluZ3MgY2FuIGFjdCBhcyBkZXBlbmRlbmNpZXNcIik7ZS5vZC5jYWxsKGUucGQsYixiLmZkfHwoYi5mZD0rK2YpKX19LEc6ZnVuY3Rpb24oYSxkLGUpe3RyeXtyZXR1cm4gYigpLGEuYXBwbHkoZCxlfHxbXSl9ZmluYWxseXtjKCl9fSxxYTpmdW5jdGlvbigpe2lmKGUpcmV0dXJuIGUuby5xYSgpfSxcblZhOmZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4gZS5vLlZhKCl9LFlhOmZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4gZS5ZYX0sbzpmdW5jdGlvbigpe2lmKGUpcmV0dXJuIGUub319fSgpO2EuYihcImNvbXB1dGVkQ29udGV4dFwiLGEuUyk7YS5iKFwiY29tcHV0ZWRDb250ZXh0LmdldERlcGVuZGVuY2llc0NvdW50XCIsYS5TLnFhKTthLmIoXCJjb21wdXRlZENvbnRleHQuZ2V0RGVwZW5kZW5jaWVzXCIsYS5TLlZhKTthLmIoXCJjb21wdXRlZENvbnRleHQuaXNJbml0aWFsXCIsYS5TLllhKTthLmIoXCJjb21wdXRlZENvbnRleHQucmVnaXN0ZXJEZXBlbmRlbmN5XCIsYS5TLmNjKTthLmIoXCJpZ25vcmVEZXBlbmRlbmNpZXNcIixhLllkPWEudS5HKTt2YXIgST1hLmEuRGEoXCJfbGF0ZXN0VmFsdWVcIik7YS50YT1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7aWYoMDxhcmd1bWVudHMubGVuZ3RoKXJldHVybiBjLnNiKGNbSV0sYXJndW1lbnRzWzBdKSYmKGMueWEoKSxjW0ldPWFyZ3VtZW50c1swXSxjLnhhKCkpLHRoaXM7XG5hLnUuY2MoYyk7cmV0dXJuIGNbSV19Y1tJXT1iO2EuYS5CYXx8YS5hLmV4dGVuZChjLGEuVC5mbik7YS5ULmZuLnFiKGMpO2EuYS5BYihjLEYpO2Eub3B0aW9ucy5kZWZlclVwZGF0ZXMmJmEuVGEuZGVmZXJyZWQoYywhMCk7cmV0dXJuIGN9O3ZhciBGPXtlcXVhbGl0eUNvbXBhcmVyOkssdjpmdW5jdGlvbigpe3JldHVybiB0aGlzW0ldfSx4YTpmdW5jdGlvbigpe3RoaXMubm90aWZ5U3Vic2NyaWJlcnModGhpc1tJXSxcInNwZWN0YXRlXCIpO3RoaXMubm90aWZ5U3Vic2NyaWJlcnModGhpc1tJXSl9LHlhOmZ1bmN0aW9uKCl7dGhpcy5ub3RpZnlTdWJzY3JpYmVycyh0aGlzW0ldLFwiYmVmb3JlQ2hhbmdlXCIpfX07YS5hLkJhJiZhLmEuc2V0UHJvdG90eXBlT2YoRixhLlQuZm4pO3ZhciBHPWEudGEuTWE9XCJfX2tvX3Byb3RvX19cIjtGW0ddPWEudGE7YS5PPWZ1bmN0aW9uKGIpe2lmKChiPVwiZnVuY3Rpb25cIj09dHlwZW9mIGImJmJbR10pJiZiIT09RltHXSYmYiE9PWEuby5mbltHXSl0aHJvdyBFcnJvcihcIkludmFsaWQgb2JqZWN0IHRoYXQgbG9va3MgbGlrZSBhbiBvYnNlcnZhYmxlOyBwb3NzaWJseSBmcm9tIGFub3RoZXIgS25vY2tvdXQgaW5zdGFuY2VcIik7XG5yZXR1cm4hIWJ9O2EuWmE9ZnVuY3Rpb24oYil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYiYmKGJbR109PT1GW0ddfHxiW0ddPT09YS5vLmZuW0ddJiZiLk5jKX07YS5iKFwib2JzZXJ2YWJsZVwiLGEudGEpO2EuYihcImlzT2JzZXJ2YWJsZVwiLGEuTyk7YS5iKFwiaXNXcml0ZWFibGVPYnNlcnZhYmxlXCIsYS5aYSk7YS5iKFwiaXNXcml0YWJsZU9ic2VydmFibGVcIixhLlphKTthLmIoXCJvYnNlcnZhYmxlLmZuXCIsRik7YS5MKEYsXCJwZWVrXCIsRi52KTthLkwoRixcInZhbHVlSGFzTXV0YXRlZFwiLEYueGEpO2EuTChGLFwidmFsdWVXaWxsTXV0YXRlXCIsRi55YSk7YS5IYT1mdW5jdGlvbihiKXtiPWJ8fFtdO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBifHwhKFwibGVuZ3RoXCJpbiBiKSl0aHJvdyBFcnJvcihcIlRoZSBhcmd1bWVudCBwYXNzZWQgd2hlbiBpbml0aWFsaXppbmcgYW4gb2JzZXJ2YWJsZSBhcnJheSBtdXN0IGJlIGFuIGFycmF5LCBvciBudWxsLCBvciB1bmRlZmluZWQuXCIpO2I9YS50YShiKTthLmEuQWIoYixcbmEuSGEuZm4pO3JldHVybiBiLmV4dGVuZCh7dHJhY2tBcnJheUNoYW5nZXM6ITB9KX07YS5IYS5mbj17cmVtb3ZlOmZ1bmN0aW9uKGIpe2Zvcih2YXIgYz10aGlzLnYoKSxkPVtdLGU9XCJmdW5jdGlvblwiIT10eXBlb2YgYnx8YS5PKGIpP2Z1bmN0aW9uKGEpe3JldHVybiBhPT09Yn06YixmPTA7ZjxjLmxlbmd0aDtmKyspe3ZhciBnPWNbZl07aWYoZShnKSl7MD09PWQubGVuZ3RoJiZ0aGlzLnlhKCk7aWYoY1tmXSE9PWcpdGhyb3cgRXJyb3IoXCJBcnJheSBtb2RpZmllZCBkdXJpbmcgcmVtb3ZlOyBjYW5ub3QgcmVtb3ZlIGl0ZW1cIik7ZC5wdXNoKGcpO2Muc3BsaWNlKGYsMSk7Zi0tfX1kLmxlbmd0aCYmdGhpcy54YSgpO3JldHVybiBkfSxyZW1vdmVBbGw6ZnVuY3Rpb24oYil7aWYoYj09PW4pe3ZhciBjPXRoaXMudigpLGQ9Yy5zbGljZSgwKTt0aGlzLnlhKCk7Yy5zcGxpY2UoMCxjLmxlbmd0aCk7dGhpcy54YSgpO3JldHVybiBkfXJldHVybiBiP3RoaXMucmVtb3ZlKGZ1bmN0aW9uKGMpe3JldHVybiAwPD1cbmEuYS5BKGIsYyl9KTpbXX0sZGVzdHJveTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLnYoKSxkPVwiZnVuY3Rpb25cIiE9dHlwZW9mIGJ8fGEuTyhiKT9mdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9OmI7dGhpcy55YSgpO2Zvcih2YXIgZT1jLmxlbmd0aC0xOzA8PWU7ZS0tKXt2YXIgZj1jW2VdO2QoZikmJihmLl9kZXN0cm95PSEwKX10aGlzLnhhKCl9LGRlc3Ryb3lBbGw6ZnVuY3Rpb24oYil7cmV0dXJuIGI9PT1uP3RoaXMuZGVzdHJveShmdW5jdGlvbigpe3JldHVybiEwfSk6Yj90aGlzLmRlc3Ryb3koZnVuY3Rpb24oYyl7cmV0dXJuIDA8PWEuYS5BKGIsYyl9KTpbXX0saW5kZXhPZjpmdW5jdGlvbihiKXt2YXIgYz10aGlzKCk7cmV0dXJuIGEuYS5BKGMsYil9LHJlcGxhY2U6ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLmluZGV4T2YoYSk7MDw9ZCYmKHRoaXMueWEoKSx0aGlzLnYoKVtkXT1jLHRoaXMueGEoKSl9LHNvcnRlZDpmdW5jdGlvbihhKXt2YXIgYz10aGlzKCkuc2xpY2UoMCk7XG5yZXR1cm4gYT9jLnNvcnQoYSk6Yy5zb3J0KCl9LHJldmVyc2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMoKS5zbGljZSgwKS5yZXZlcnNlKCl9fTthLmEuQmEmJmEuYS5zZXRQcm90b3R5cGVPZihhLkhhLmZuLGEudGEuZm4pO2EuYS5EKFwicG9wIHB1c2ggcmV2ZXJzZSBzaGlmdCBzb3J0IHNwbGljZSB1bnNoaWZ0XCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGIpe2EuSGEuZm5bYl09ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnYoKTt0aGlzLnlhKCk7dGhpcy56YyhhLGIsYXJndW1lbnRzKTt2YXIgZD1hW2JdLmFwcGx5KGEsYXJndW1lbnRzKTt0aGlzLnhhKCk7cmV0dXJuIGQ9PT1hP3RoaXM6ZH19KTthLmEuRChbXCJzbGljZVwiXSxmdW5jdGlvbihiKXthLkhhLmZuW2JdPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcygpO3JldHVybiBhW2JdLmFwcGx5KGEsYXJndW1lbnRzKX19KTthLlBjPWZ1bmN0aW9uKGIpe3JldHVybiBhLk8oYikmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGIucmVtb3ZlJiZcImZ1bmN0aW9uXCI9PVxudHlwZW9mIGIucHVzaH07YS5iKFwib2JzZXJ2YWJsZUFycmF5XCIsYS5IYSk7YS5iKFwiaXNPYnNlcnZhYmxlQXJyYXlcIixhLlBjKTthLlRhLnRyYWNrQXJyYXlDaGFuZ2VzPWZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZCgpe2Z1bmN0aW9uIGMoKXtpZihtKXt2YXIgZD1bXS5jb25jYXQoYi52KCl8fFtdKSxlO2lmKGIuV2EoXCJhcnJheUNoYW5nZVwiKSl7aWYoIWZ8fDE8bSlmPWEuYS5QYihrLGQsYi5PYik7ZT1mfWs9ZDtmPW51bGw7bT0wO2UmJmUubGVuZ3RoJiZiLm5vdGlmeVN1YnNjcmliZXJzKGUsXCJhcnJheUNoYW5nZVwiKX19ZT9jKCk6KGU9ITAsaD1iLnN1YnNjcmliZShmdW5jdGlvbigpeysrbX0sbnVsbCxcInNwZWN0YXRlXCIpLGs9W10uY29uY2F0KGIudigpfHxbXSksZj1udWxsLGc9Yi5zdWJzY3JpYmUoYykpfWIuT2I9e307YyYmXCJvYmplY3RcIj09dHlwZW9mIGMmJmEuYS5leHRlbmQoYi5PYixjKTtiLk9iLnNwYXJzZT0hMDtpZighYi56Yyl7dmFyIGU9ITEsZj1udWxsLGcsaCxtPTAsXG5rLGw9Yi5RYSxwPWIuaGI7Yi5RYT1mdW5jdGlvbihhKXtsJiZsLmNhbGwoYixhKTtcImFycmF5Q2hhbmdlXCI9PT1hJiZkKCl9O2IuaGI9ZnVuY3Rpb24oYSl7cCYmcC5jYWxsKGIsYSk7XCJhcnJheUNoYW5nZVwiIT09YXx8Yi5XYShcImFycmF5Q2hhbmdlXCIpfHwoZyYmZy5zKCksaCYmaC5zKCksaD1nPW51bGwsZT0hMSxrPW4pfTtiLnpjPWZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBsKGEsYixjKXtyZXR1cm4ga1trLmxlbmd0aF09e3N0YXR1czphLHZhbHVlOmIsaW5kZXg6Y319aWYoZSYmIW0pe3ZhciBrPVtdLHA9Yi5sZW5ndGgsZz1kLmxlbmd0aCxoPTA7c3dpdGNoKGMpe2Nhc2UgXCJwdXNoXCI6aD1wO2Nhc2UgXCJ1bnNoaWZ0XCI6Zm9yKGM9MDtjPGc7YysrKWwoXCJhZGRlZFwiLGRbY10saCtjKTticmVhaztjYXNlIFwicG9wXCI6aD1wLTE7Y2FzZSBcInNoaWZ0XCI6cCYmbChcImRlbGV0ZWRcIixiW2hdLGgpO2JyZWFrO2Nhc2UgXCJzcGxpY2VcIjpjPU1hdGgubWluKE1hdGgubWF4KDAsMD5kWzBdP3ArZFswXTpcbmRbMF0pLHApO2Zvcih2YXIgcD0xPT09Zz9wOk1hdGgubWluKGMrKGRbMV18fDApLHApLGc9YytnLTIsaD1NYXRoLm1heChwLGcpLFU9W10sTD1bXSxuPTI7YzxoOysrYywrK24pYzxwJiZMLnB1c2gobChcImRlbGV0ZWRcIixiW2NdLGMpKSxjPGcmJlUucHVzaChsKFwiYWRkZWRcIixkW25dLGMpKTthLmEuS2MoTCxVKTticmVhaztkZWZhdWx0OnJldHVybn1mPWt9fX19O3ZhciByPWEuYS5EYShcIl9zdGF0ZVwiKTthLm89YS4kPWZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBlKCl7aWYoMDxhcmd1bWVudHMubGVuZ3RoKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgZilmLmFwcGx5KGcubmIsYXJndW1lbnRzKTtlbHNlIHRocm93IEVycm9yKFwiQ2Fubm90IHdyaXRlIGEgdmFsdWUgdG8gYSBrby5jb21wdXRlZCB1bmxlc3MgeW91IHNwZWNpZnkgYSAnd3JpdGUnIG9wdGlvbi4gSWYgeW91IHdpc2ggdG8gcmVhZCB0aGUgY3VycmVudCB2YWx1ZSwgZG9uJ3QgcGFzcyBhbnkgcGFyYW1ldGVycy5cIik7cmV0dXJuIHRoaXN9Zy5yYXx8XG5hLnUuY2MoZSk7KGcua2F8fGcuSiYmZS5YYSgpKSYmZS5oYSgpO3JldHVybiBnLlh9XCJvYmplY3RcIj09PXR5cGVvZiBiP2Q9YjooZD1kfHx7fSxiJiYoZC5yZWFkPWIpKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBkLnJlYWQpdGhyb3cgRXJyb3IoXCJQYXNzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUga28uY29tcHV0ZWRcIik7dmFyIGY9ZC53cml0ZSxnPXtYOm4sc2E6ITAsa2E6ITAscmI6ITEsamM6ITEscmE6ITEsd2I6ITEsSjohMSxXYzpkLnJlYWQsbmI6Y3x8ZC5vd25lcixsOmQuZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkfHxkLmx8fG51bGwsU2E6ZC5kaXNwb3NlV2hlbnx8ZC5TYSxSYjpudWxsLEk6e30sVjowLEljOm51bGx9O2Vbcl09ZztlLk5jPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBmO2EuYS5CYXx8YS5hLmV4dGVuZChlLGEuVC5mbik7YS5ULmZuLnFiKGUpO2EuYS5BYihlLEMpO2QucHVyZT8oZy53Yj0hMCxnLko9ITAsYS5hLmV4dGVuZChlLGRhKSk6XG5kLmRlZmVyRXZhbHVhdGlvbiYmYS5hLmV4dGVuZChlLGVhKTthLm9wdGlvbnMuZGVmZXJVcGRhdGVzJiZhLlRhLmRlZmVycmVkKGUsITApO2cubCYmKGcuamM9ITAsZy5sLm5vZGVUeXBlfHwoZy5sPW51bGwpKTtnLkp8fGQuZGVmZXJFdmFsdWF0aW9ufHxlLmhhKCk7Zy5sJiZlLmphKCkmJmEuYS5LLnphKGcubCxnLlJiPWZ1bmN0aW9uKCl7ZS5zKCl9KTtyZXR1cm4gZX07dmFyIEM9e2VxdWFsaXR5Q29tcGFyZXI6SyxxYTpmdW5jdGlvbigpe3JldHVybiB0aGlzW3JdLlZ9LFZhOmZ1bmN0aW9uKCl7dmFyIGI9W107YS5hLlAodGhpc1tyXS5JLGZ1bmN0aW9uKGEsZCl7YltkLkthXT1kLmRhfSk7cmV0dXJuIGJ9LFZiOmZ1bmN0aW9uKGIpe2lmKCF0aGlzW3JdLlYpcmV0dXJuITE7dmFyIGM9dGhpcy5WYSgpO3JldHVybi0xIT09YS5hLkEoYyxiKT8hMDohIWEuYS5MYihjLGZ1bmN0aW9uKGEpe3JldHVybiBhLlZiJiZhLlZiKGIpfSl9LHVjOmZ1bmN0aW9uKGEsYyxkKXtpZih0aGlzW3JdLndiJiZcbmM9PT10aGlzKXRocm93IEVycm9yKFwiQSAncHVyZScgY29tcHV0ZWQgbXVzdCBub3QgYmUgY2FsbGVkIHJlY3Vyc2l2ZWx5XCIpO3RoaXNbcl0uSVthXT1kO2QuS2E9dGhpc1tyXS5WKys7ZC5MYT1jLm9iKCl9LFhhOmZ1bmN0aW9uKCl7dmFyIGEsYyxkPXRoaXNbcl0uSTtmb3IoYSBpbiBkKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkLGEpJiYoYz1kW2FdLHRoaXMuSWEmJmMuZGEuSmF8fGMuZGEuRGQoYy5MYSkpKXJldHVybiEwfSxKZDpmdW5jdGlvbigpe3RoaXMuSWEmJiF0aGlzW3JdLnJiJiZ0aGlzLklhKCExKX0samE6ZnVuY3Rpb24oKXt2YXIgYT10aGlzW3JdO3JldHVybiBhLmthfHwwPGEuVn0sUmQ6ZnVuY3Rpb24oKXt0aGlzLkphP3RoaXNbcl0ua2EmJih0aGlzW3JdLnNhPSEwKTp0aGlzLkhjKCl9LCRjOmZ1bmN0aW9uKGEpe2lmKGEuSGIpe3ZhciBjPWEuc3Vic2NyaWJlKHRoaXMuSmQsdGhpcyxcImRpcnR5XCIpLGQ9YS5zdWJzY3JpYmUodGhpcy5SZCxcbnRoaXMpO3JldHVybntkYTphLHM6ZnVuY3Rpb24oKXtjLnMoKTtkLnMoKX19fXJldHVybiBhLnN1YnNjcmliZSh0aGlzLkhjLHRoaXMpfSxIYzpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLnRocm90dGxlRXZhbHVhdGlvbjtjJiYwPD1jPyhjbGVhclRpbWVvdXQodGhpc1tyXS5JYyksdGhpc1tyXS5JYz1hLmEuc2V0VGltZW91dChmdW5jdGlvbigpe2IuaGEoITApfSxjKSk6Yi5JYT9iLklhKCEwKTpiLmhhKCEwKX0saGE6ZnVuY3Rpb24oYil7dmFyIGM9dGhpc1tyXSxkPWMuU2EsZT0hMTtpZighYy5yYiYmIWMucmEpe2lmKGMubCYmIWEuYS5TYihjLmwpfHxkJiZkKCkpe2lmKCFjLmpjKXt0aGlzLnMoKTtyZXR1cm59fWVsc2UgYy5qYz0hMTtjLnJiPSEwO3RyeXtlPXRoaXMuemQoYil9ZmluYWxseXtjLnJiPSExfXJldHVybiBlfX0semQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpc1tyXSxkPSExLGU9Yy53Yj9uOiFjLlYsZD17cWQ6dGhpcyxtYjpjLkksUWI6Yy5WfTthLnUueGMoe3BkOmQsXG5vZDpiYSxvOnRoaXMsWWE6ZX0pO2MuST17fTtjLlY9MDt2YXIgZj10aGlzLnlkKGMsZCk7Yy5WP2Q9dGhpcy5zYihjLlgsZik6KHRoaXMucygpLGQ9ITApO2QmJihjLko/dGhpcy5HYigpOnRoaXMubm90aWZ5U3Vic2NyaWJlcnMoYy5YLFwiYmVmb3JlQ2hhbmdlXCIpLGMuWD1mLHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoYy5YLFwic3BlY3RhdGVcIiksIWMuSiYmYiYmdGhpcy5ub3RpZnlTdWJzY3JpYmVycyhjLlgpLHRoaXMucmMmJnRoaXMucmMoKSk7ZSYmdGhpcy5ub3RpZnlTdWJzY3JpYmVycyhjLlgsXCJhd2FrZVwiKTtyZXR1cm4gZH0seWQ6ZnVuY3Rpb24oYixjKXt0cnl7dmFyIGQ9Yi5XYztyZXR1cm4gYi5uYj9kLmNhbGwoYi5uYik6ZCgpfWZpbmFsbHl7YS51LmVuZCgpLGMuUWImJiFiLkomJmEuYS5QKGMubWIsYWEpLGIuc2E9Yi5rYT0hMX19LHY6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpc1tyXTsoYy5rYSYmKGF8fCFjLlYpfHxjLkomJnRoaXMuWGEoKSkmJnRoaXMuaGEoKTtyZXR1cm4gYy5YfSxcbnViOmZ1bmN0aW9uKGIpe2EuVC5mbi51Yi5jYWxsKHRoaXMsYik7dGhpcy5uYz1mdW5jdGlvbigpe3RoaXNbcl0uSnx8KHRoaXNbcl0uc2E/dGhpcy5oYSgpOnRoaXNbcl0ua2E9ITEpO3JldHVybiB0aGlzW3JdLlh9O3RoaXMuSWE9ZnVuY3Rpb24oYSl7dGhpcy5wYyh0aGlzW3JdLlgpO3RoaXNbcl0ua2E9ITA7YSYmKHRoaXNbcl0uc2E9ITApO3RoaXMucWModGhpcywhYSl9fSxzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpc1tyXTshYi5KJiZiLkkmJmEuYS5QKGIuSSxmdW5jdGlvbihhLGIpe2IucyYmYi5zKCl9KTtiLmwmJmIuUmImJmEuYS5LLnliKGIubCxiLlJiKTtiLkk9bjtiLlY9MDtiLnJhPSEwO2Iuc2E9ITE7Yi5rYT0hMTtiLko9ITE7Yi5sPW47Yi5TYT1uO2IuV2M9bjt0aGlzLk5jfHwoYi5uYj1uKX19LGRhPXtRYTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGQ9Y1tyXTtpZighZC5yYSYmZC5KJiZcImNoYW5nZVwiPT1iKXtkLko9ITE7aWYoZC5zYXx8Yy5YYSgpKWQuST1udWxsLGQuVj1cbjAsYy5oYSgpJiZjLkdiKCk7ZWxzZXt2YXIgZT1bXTthLmEuUChkLkksZnVuY3Rpb24oYSxiKXtlW2IuS2FdPWF9KTthLmEuRChlLGZ1bmN0aW9uKGEsYil7dmFyIGU9ZC5JW2FdLG09Yy4kYyhlLmRhKTttLkthPWI7bS5MYT1lLkxhO2QuSVthXT1tfSk7Yy5YYSgpJiZjLmhhKCkmJmMuR2IoKX1kLnJhfHxjLm5vdGlmeVN1YnNjcmliZXJzKGQuWCxcImF3YWtlXCIpfX0saGI6ZnVuY3Rpb24oYil7dmFyIGM9dGhpc1tyXTtjLnJhfHxcImNoYW5nZVwiIT1ifHx0aGlzLldhKFwiY2hhbmdlXCIpfHwoYS5hLlAoYy5JLGZ1bmN0aW9uKGEsYil7Yi5zJiYoYy5JW2FdPXtkYTpiLmRhLEthOmIuS2EsTGE6Yi5MYX0sYi5zKCkpfSksYy5KPSEwLHRoaXMubm90aWZ5U3Vic2NyaWJlcnMobixcImFzbGVlcFwiKSl9LG9iOmZ1bmN0aW9uKCl7dmFyIGI9dGhpc1tyXTtiLkomJihiLnNhfHx0aGlzLlhhKCkpJiZ0aGlzLmhhKCk7cmV0dXJuIGEuVC5mbi5vYi5jYWxsKHRoaXMpfX0sZWE9e1FhOmZ1bmN0aW9uKGEpe1wiY2hhbmdlXCIhPVxuYSYmXCJiZWZvcmVDaGFuZ2VcIiE9YXx8dGhpcy52KCl9fTthLmEuQmEmJmEuYS5zZXRQcm90b3R5cGVPZihDLGEuVC5mbik7dmFyIE49YS50YS5NYTtDW05dPWEubzthLk9jPWZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGEmJmFbTl09PT1DW05dfTthLkZkPWZ1bmN0aW9uKGIpe3JldHVybiBhLk9jKGIpJiZiW3JdJiZiW3JdLndifTthLmIoXCJjb21wdXRlZFwiLGEubyk7YS5iKFwiZGVwZW5kZW50T2JzZXJ2YWJsZVwiLGEubyk7YS5iKFwiaXNDb21wdXRlZFwiLGEuT2MpO2EuYihcImlzUHVyZUNvbXB1dGVkXCIsYS5GZCk7YS5iKFwiY29tcHV0ZWQuZm5cIixDKTthLkwoQyxcInBlZWtcIixDLnYpO2EuTChDLFwiZGlzcG9zZVwiLEMucyk7YS5MKEMsXCJpc0FjdGl2ZVwiLEMuamEpO2EuTChDLFwiZ2V0RGVwZW5kZW5jaWVzQ291bnRcIixDLnFhKTthLkwoQyxcImdldERlcGVuZGVuY2llc1wiLEMuVmEpO2EueGI9ZnVuY3Rpb24oYixjKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYilyZXR1cm4gYS5vKGIsXG5jLHtwdXJlOiEwfSk7Yj1hLmEuZXh0ZW5kKHt9LGIpO2IucHVyZT0hMDtyZXR1cm4gYS5vKGIsYyl9O2EuYihcInB1cmVDb21wdXRlZFwiLGEueGIpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSxmLGcpe2c9Z3x8bmV3IGQ7YT1mKGEpO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBhfHxudWxsPT09YXx8YT09PW58fGEgaW5zdGFuY2VvZiBSZWdFeHB8fGEgaW5zdGFuY2VvZiBEYXRlfHxhIGluc3RhbmNlb2YgU3RyaW5nfHxhIGluc3RhbmNlb2YgTnVtYmVyfHxhIGluc3RhbmNlb2YgQm9vbGVhbilyZXR1cm4gYTt2YXIgaD1hIGluc3RhbmNlb2YgQXJyYXk/W106e307Zy5zYXZlKGEsaCk7YyhhLGZ1bmN0aW9uKGMpe3ZhciBkPWYoYVtjXSk7c3dpdGNoKHR5cGVvZiBkKXtjYXNlIFwiYm9vbGVhblwiOmNhc2UgXCJudW1iZXJcIjpjYXNlIFwic3RyaW5nXCI6Y2FzZSBcImZ1bmN0aW9uXCI6aFtjXT1kO2JyZWFrO2Nhc2UgXCJvYmplY3RcIjpjYXNlIFwidW5kZWZpbmVkXCI6dmFyIGw9Zy5nZXQoZCk7aFtjXT1sIT09XG5uP2w6YihkLGYsZyl9fSk7cmV0dXJuIGh9ZnVuY3Rpb24gYyhhLGIpe2lmKGEgaW5zdGFuY2VvZiBBcnJheSl7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspYihjKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLnRvSlNPTiYmYihcInRvSlNPTlwiKX1lbHNlIGZvcihjIGluIGEpYihjKX1mdW5jdGlvbiBkKCl7dGhpcy5rZXlzPVtdO3RoaXMudmFsdWVzPVtdfWEuYWQ9ZnVuY3Rpb24oYyl7aWYoMD09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBFcnJvcihcIldoZW4gY2FsbGluZyBrby50b0pTLCBwYXNzIHRoZSBvYmplY3QgeW91IHdhbnQgdG8gY29udmVydC5cIik7cmV0dXJuIGIoYyxmdW5jdGlvbihiKXtmb3IodmFyIGM9MDthLk8oYikmJjEwPmM7YysrKWI9YigpO3JldHVybiBifSl9O2EudG9KU09OPWZ1bmN0aW9uKGIsYyxkKXtiPWEuYWQoYik7cmV0dXJuIGEuYS5oYyhiLGMsZCl9O2QucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpkLHNhdmU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuQSh0aGlzLmtleXMsXG5iKTswPD1kP3RoaXMudmFsdWVzW2RdPWM6KHRoaXMua2V5cy5wdXNoKGIpLHRoaXMudmFsdWVzLnB1c2goYykpfSxnZXQ6ZnVuY3Rpb24oYil7Yj1hLmEuQSh0aGlzLmtleXMsYik7cmV0dXJuIDA8PWI/dGhpcy52YWx1ZXNbYl06bn19fSkoKTthLmIoXCJ0b0pTXCIsYS5hZCk7YS5iKFwidG9KU09OXCIsYS50b0pTT04pO2EuV2Q9ZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGUoYyl7dmFyIGU9YS54YihiLGQpLmV4dGVuZCh7bWE6XCJhbHdheXNcIn0pLGg9ZS5zdWJzY3JpYmUoZnVuY3Rpb24oYSl7YSYmKGgucygpLGMoYSkpfSk7ZS5ub3RpZnlTdWJzY3JpYmVycyhlLnYoKSk7cmV0dXJuIGh9cmV0dXJuXCJmdW5jdGlvblwiIT09dHlwZW9mIFByb21pc2V8fGM/ZShjLmJpbmQoZCkpOm5ldyBQcm9taXNlKGUpfTthLmIoXCJ3aGVuXCIsYS5XZCk7KGZ1bmN0aW9uKCl7YS53PXtNOmZ1bmN0aW9uKGIpe3N3aXRjaChhLmEuUihiKSl7Y2FzZSBcIm9wdGlvblwiOnJldHVybiEwPT09Yi5fX2tvX19oYXNEb21EYXRhT3B0aW9uVmFsdWVfXz9cbmEuYS5nLmdldChiLGEuYy5vcHRpb25zLiRiKTo3Pj1hLmEuVz9iLmdldEF0dHJpYnV0ZU5vZGUoXCJ2YWx1ZVwiKSYmYi5nZXRBdHRyaWJ1dGVOb2RlKFwidmFsdWVcIikuc3BlY2lmaWVkP2IudmFsdWU6Yi50ZXh0OmIudmFsdWU7Y2FzZSBcInNlbGVjdFwiOnJldHVybiAwPD1iLnNlbGVjdGVkSW5kZXg/YS53Lk0oYi5vcHRpb25zW2Iuc2VsZWN0ZWRJbmRleF0pOm47ZGVmYXVsdDpyZXR1cm4gYi52YWx1ZX19LGNiOmZ1bmN0aW9uKGIsYyxkKXtzd2l0Y2goYS5hLlIoYikpe2Nhc2UgXCJvcHRpb25cIjpcInN0cmluZ1wiPT09dHlwZW9mIGM/KGEuYS5nLnNldChiLGEuYy5vcHRpb25zLiRiLG4pLFwiX19rb19faGFzRG9tRGF0YU9wdGlvblZhbHVlX19cImluIGImJmRlbGV0ZSBiLl9fa29fX2hhc0RvbURhdGFPcHRpb25WYWx1ZV9fLGIudmFsdWU9Yyk6KGEuYS5nLnNldChiLGEuYy5vcHRpb25zLiRiLGMpLGIuX19rb19faGFzRG9tRGF0YU9wdGlvblZhbHVlX189ITAsYi52YWx1ZT1cIm51bWJlclwiPT09XG50eXBlb2YgYz9jOlwiXCIpO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjppZihcIlwiPT09Y3x8bnVsbD09PWMpYz1uO2Zvcih2YXIgZT0tMSxmPTAsZz1iLm9wdGlvbnMubGVuZ3RoLGg7ZjxnOysrZilpZihoPWEudy5NKGIub3B0aW9uc1tmXSksaD09Y3x8XCJcIj09PWgmJmM9PT1uKXtlPWY7YnJlYWt9aWYoZHx8MDw9ZXx8Yz09PW4mJjE8Yi5zaXplKWIuc2VsZWN0ZWRJbmRleD1lLDY9PT1hLmEuVyYmYS5hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnNlbGVjdGVkSW5kZXg9ZX0sMCk7YnJlYWs7ZGVmYXVsdDppZihudWxsPT09Y3x8Yz09PW4pYz1cIlwiO2IudmFsdWU9Y319fX0pKCk7YS5iKFwic2VsZWN0RXh0ZW5zaW9uc1wiLGEudyk7YS5iKFwic2VsZWN0RXh0ZW5zaW9ucy5yZWFkVmFsdWVcIixhLncuTSk7YS5iKFwic2VsZWN0RXh0ZW5zaW9ucy53cml0ZVZhbHVlXCIsYS53LmNiKTthLm09ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIpe2I9YS5hLkRiKGIpOzEyMz09PWIuY2hhckNvZGVBdCgwKSYmKGI9Yi5zbGljZSgxLFxuLTEpKTtiKz1cIlxcbixcIjt2YXIgYz1bXSxkPWIubWF0Y2goZSkscCxxPVtdLGg9MDtpZigxPGQubGVuZ3RoKXtmb3IodmFyIHg9MCxCO0I9ZFt4XTsrK3gpe3ZhciB1PUIuY2hhckNvZGVBdCgwKTtpZig0ND09PXUpe2lmKDA+PWgpe2MucHVzaChwJiZxLmxlbmd0aD97a2V5OnAsdmFsdWU6cS5qb2luKFwiXCIpfTp7dW5rbm93bjpwfHxxLmpvaW4oXCJcIil9KTtwPWg9MDtxPVtdO2NvbnRpbnVlfX1lbHNlIGlmKDU4PT09dSl7aWYoIWgmJiFwJiYxPT09cS5sZW5ndGgpe3A9cS5wb3AoKTtjb250aW51ZX19ZWxzZSBpZig0Nz09PXUmJjE8Qi5sZW5ndGgmJig0Nz09PUIuY2hhckNvZGVBdCgxKXx8NDI9PT1CLmNoYXJDb2RlQXQoMSkpKWNvbnRpbnVlO2Vsc2UgNDc9PT11JiZ4JiYxPEIubGVuZ3RoPyh1PWRbeC0xXS5tYXRjaChmKSkmJiFnW3VbMF1dJiYoYj1iLnN1YnN0cihiLmluZGV4T2YoQikrMSksZD1iLm1hdGNoKGUpLHg9LTEsQj1cIi9cIik6NDA9PT11fHwxMjM9PT11fHw5MT09PXU/KytoOlxuNDE9PT11fHwxMjU9PT11fHw5Mz09PXU/LS1oOnB8fHEubGVuZ3RofHwzNCE9PXUmJjM5IT09dXx8KEI9Qi5zbGljZSgxLC0xKSk7cS5wdXNoKEIpfWlmKDA8aCl0aHJvdyBFcnJvcihcIlVuYmFsYW5jZWQgcGFyZW50aGVzZXMsIGJyYWNlcywgb3IgYnJhY2tldHNcIik7fXJldHVybiBjfXZhciBjPVtcInRydWVcIixcImZhbHNlXCIsXCJudWxsXCIsXCJ1bmRlZmluZWRcIl0sZD0vXig/OlskX2Etel1bJFxcd10qfCguKykoXFwuXFxzKlskX2Etel1bJFxcd10qfFxcWy4rXFxdKSkkL2ksZT1SZWdFeHAoXCJcXFwiKD86XFxcXFxcXFwufFteXFxcIl0pKlxcXCJ8Jyg/OlxcXFxcXFxcLnxbXiddKSonfGAoPzpcXFxcXFxcXC58W15gXSkqYHwvXFxcXCooPzpbXipdfFxcXFwqK1teKi9dKSpcXFxcKisvfC8vLipcXG58Lyg/OlxcXFxcXFxcLnxbXi9dKSsvdyp8W15cXFxcczosL11bXixcXFwiJ2B7fSgpLzpbXFxcXF1dKlteXFxcXHMsXFxcIidge30oKS86W1xcXFxdXXxbXlxcXFxzXVwiLFwiZ1wiKSxmPS9bXFxdKVwiJ0EtWmEtejAtOV8kXSskLyxnPXtcImluXCI6MSxcInJldHVyblwiOjEsXCJ0eXBlb2ZcIjoxfSxcbmg9e307cmV0dXJue1JhOltdLHdhOmgsYWM6Yix2YjpmdW5jdGlvbihlLGYpe2Z1bmN0aW9uIGwoYixlKXt2YXIgZjtpZigheCl7dmFyIGs9YS5nZXRCaW5kaW5nSGFuZGxlcihiKTtpZihrJiZrLnByZXByb2Nlc3MmJiEoZT1rLnByZXByb2Nlc3MoZSxiLGwpKSlyZXR1cm47aWYoaz1oW2JdKWY9ZSwwPD1hLmEuQShjLGYpP2Y9ITE6KGs9Zi5tYXRjaChkKSxmPW51bGw9PT1rPyExOmtbMV0/XCJPYmplY3QoXCIra1sxXStcIilcIitrWzJdOmYpLGs9ZjtrJiZxLnB1c2goXCInXCIrKFwic3RyaW5nXCI9PXR5cGVvZiBoW2JdP2hbYl06YikrXCInOmZ1bmN0aW9uKF96KXtcIitmK1wiPV96fVwiKX1nJiYoZT1cImZ1bmN0aW9uKCl7cmV0dXJuIFwiK2UrXCIgfVwiKTtwLnB1c2goXCInXCIrYitcIic6XCIrZSl9Zj1mfHx7fTt2YXIgcD1bXSxxPVtdLGc9Zi52YWx1ZUFjY2Vzc29ycyx4PWYuYmluZGluZ1BhcmFtcyxCPVwic3RyaW5nXCI9PT10eXBlb2YgZT9iKGUpOmU7YS5hLkQoQixmdW5jdGlvbihhKXtsKGEua2V5fHxhLnVua25vd24sXG5hLnZhbHVlKX0pO3EubGVuZ3RoJiZsKFwiX2tvX3Byb3BlcnR5X3dyaXRlcnNcIixcIntcIitxLmpvaW4oXCIsXCIpK1wiIH1cIik7cmV0dXJuIHAuam9pbihcIixcIil9LElkOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspaWYoYVtjXS5rZXk9PWIpcmV0dXJuITA7cmV0dXJuITF9LGViOmZ1bmN0aW9uKGIsYyxkLGUsZil7aWYoYiYmYS5PKGIpKSFhLlphKGIpfHxmJiZiLnYoKT09PWV8fGIoZSk7ZWxzZSBpZigoYj1jLmdldChcIl9rb19wcm9wZXJ0eV93cml0ZXJzXCIpKSYmYltkXSliW2RdKGUpfX19KCk7YS5iKFwiZXhwcmVzc2lvblJld3JpdGluZ1wiLGEubSk7YS5iKFwiZXhwcmVzc2lvblJld3JpdGluZy5iaW5kaW5nUmV3cml0ZVZhbGlkYXRvcnNcIixhLm0uUmEpO2EuYihcImV4cHJlc3Npb25SZXdyaXRpbmcucGFyc2VPYmplY3RMaXRlcmFsXCIsYS5tLmFjKTthLmIoXCJleHByZXNzaW9uUmV3cml0aW5nLnByZVByb2Nlc3NCaW5kaW5nc1wiLGEubS52Yik7YS5iKFwiZXhwcmVzc2lvblJld3JpdGluZy5fdHdvV2F5QmluZGluZ3NcIixcbmEubS53YSk7YS5iKFwianNvbkV4cHJlc3Npb25SZXdyaXRpbmdcIixhLm0pO2EuYihcImpzb25FeHByZXNzaW9uUmV3cml0aW5nLmluc2VydFByb3BlcnR5QWNjZXNzb3JzSW50b0pzb25cIixhLm0udmIpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIDg9PWEubm9kZVR5cGUmJmcudGVzdChmP2EudGV4dDphLm5vZGVWYWx1ZSl9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gOD09YS5ub2RlVHlwZSYmaC50ZXN0KGY/YS50ZXh0OmEubm9kZVZhbHVlKX1mdW5jdGlvbiBkKGQsZSl7Zm9yKHZhciBmPWQsaD0xLGc9W107Zj1mLm5leHRTaWJsaW5nOyl7aWYoYyhmKSYmKGEuYS5nLnNldChmLGssITApLGgtLSwwPT09aCkpcmV0dXJuIGc7Zy5wdXNoKGYpO2IoZikmJmgrK31pZighZSl0aHJvdyBFcnJvcihcIkNhbm5vdCBmaW5kIGNsb3NpbmcgY29tbWVudCB0YWcgdG8gbWF0Y2g6IFwiK2Qubm9kZVZhbHVlKTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBlKGEsYil7dmFyIGM9ZChhLGIpO3JldHVybiBjP1xuMDxjLmxlbmd0aD9jW2MubGVuZ3RoLTFdLm5leHRTaWJsaW5nOmEubmV4dFNpYmxpbmc6bnVsbH12YXIgZj13JiZcIlxceDNjIS0tdGVzdC0tXFx4M2VcIj09PXcuY3JlYXRlQ29tbWVudChcInRlc3RcIikudGV4dCxnPWY/L15cXHgzYyEtLVxccyprbyg/OlxccysoW1xcc1xcU10rKSk/XFxzKi0tXFx4M2UkLzovXlxccyprbyg/OlxccysoW1xcc1xcU10rKSk/XFxzKiQvLGg9Zj8vXlxceDNjIS0tXFxzKlxcL2tvXFxzKi0tXFx4M2UkLzovXlxccypcXC9rb1xccyokLyxtPXt1bDohMCxvbDohMH0saz1cIl9fa29fbWF0Y2hlZEVuZENvbW1lbnRfX1wiO2EuaD17ZWE6e30sY2hpbGROb2RlczpmdW5jdGlvbihhKXtyZXR1cm4gYihhKT9kKGEpOmEuY2hpbGROb2Rlc30sRWE6ZnVuY3Rpb24oYyl7aWYoYihjKSl7Yz1hLmguY2hpbGROb2RlcyhjKTtmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYS5yZW1vdmVOb2RlKGNbZF0pfWVsc2UgYS5hLlRiKGMpfSx2YTpmdW5jdGlvbihjLGQpe2lmKGIoYykpe2EuaC5FYShjKTtmb3IodmFyIGU9XG5jLm5leHRTaWJsaW5nLGY9MCxrPWQubGVuZ3RoO2Y8aztmKyspZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkW2ZdLGUpfWVsc2UgYS5hLnZhKGMsZCl9LFZjOmZ1bmN0aW9uKGEsYyl7dmFyIGQ7YihhKT8oZD1hLm5leHRTaWJsaW5nLGE9YS5wYXJlbnROb2RlKTpkPWEuZmlyc3RDaGlsZDtkP2MhPT1kJiZhLmluc2VydEJlZm9yZShjLGQpOmEuYXBwZW5kQ2hpbGQoYyl9LFdiOmZ1bmN0aW9uKGMsZCxlKXtlPyhlPWUubmV4dFNpYmxpbmcsYihjKSYmKGM9Yy5wYXJlbnROb2RlKSxlP2QhPT1lJiZjLmluc2VydEJlZm9yZShkLGUpOmMuYXBwZW5kQ2hpbGQoZCkpOmEuaC5WYyhjLGQpfSxmaXJzdENoaWxkOmZ1bmN0aW9uKGEpe2lmKGIoYSkpcmV0dXJuIWEubmV4dFNpYmxpbmd8fGMoYS5uZXh0U2libGluZyk/bnVsbDphLm5leHRTaWJsaW5nO2lmKGEuZmlyc3RDaGlsZCYmYyhhLmZpcnN0Q2hpbGQpKXRocm93IEVycm9yKFwiRm91bmQgaW52YWxpZCBlbmQgY29tbWVudCwgYXMgdGhlIGZpcnN0IGNoaWxkIG9mIFwiK1xuYSk7cmV0dXJuIGEuZmlyc3RDaGlsZH0sbmV4dFNpYmxpbmc6ZnVuY3Rpb24oZCl7YihkKSYmKGQ9ZShkKSk7aWYoZC5uZXh0U2libGluZyYmYyhkLm5leHRTaWJsaW5nKSl7dmFyIGY9ZC5uZXh0U2libGluZztpZihjKGYpJiYhYS5hLmcuZ2V0KGYsaykpdGhyb3cgRXJyb3IoXCJGb3VuZCBlbmQgY29tbWVudCB3aXRob3V0IGEgbWF0Y2hpbmcgb3BlbmluZyBjb21tZW50LCBhcyBjaGlsZCBvZiBcIitkKTtyZXR1cm4gbnVsbH1yZXR1cm4gZC5uZXh0U2libGluZ30sQ2Q6YixWZDpmdW5jdGlvbihhKXtyZXR1cm4oYT0oZj9hLnRleHQ6YS5ub2RlVmFsdWUpLm1hdGNoKGcpKT9hWzFdOm51bGx9LFNjOmZ1bmN0aW9uKGQpe2lmKG1bYS5hLlIoZCldKXt2YXIgZj1kLmZpcnN0Q2hpbGQ7aWYoZil7ZG8gaWYoMT09PWYubm9kZVR5cGUpe3ZhciBrO2s9Zi5maXJzdENoaWxkO3ZhciBoPW51bGw7aWYoayl7ZG8gaWYoaCloLnB1c2goayk7ZWxzZSBpZihiKGspKXt2YXIgZz1lKGssITApO2c/az1cbmc6aD1ba119ZWxzZSBjKGspJiYoaD1ba10pO3doaWxlKGs9ay5uZXh0U2libGluZyl9aWYoaz1oKWZvcihoPWYubmV4dFNpYmxpbmcsZz0wO2c8ay5sZW5ndGg7ZysrKWg/ZC5pbnNlcnRCZWZvcmUoa1tnXSxoKTpkLmFwcGVuZENoaWxkKGtbZ10pfXdoaWxlKGY9Zi5uZXh0U2libGluZyl9fX19fSkoKTthLmIoXCJ2aXJ0dWFsRWxlbWVudHNcIixhLmgpO2EuYihcInZpcnR1YWxFbGVtZW50cy5hbGxvd2VkQmluZGluZ3NcIixhLmguZWEpO2EuYihcInZpcnR1YWxFbGVtZW50cy5lbXB0eU5vZGVcIixhLmguRWEpO2EuYihcInZpcnR1YWxFbGVtZW50cy5pbnNlcnRBZnRlclwiLGEuaC5XYik7YS5iKFwidmlydHVhbEVsZW1lbnRzLnByZXBlbmRcIixhLmguVmMpO2EuYihcInZpcnR1YWxFbGVtZW50cy5zZXREb21Ob2RlQ2hpbGRyZW5cIixhLmgudmEpOyhmdW5jdGlvbigpe2EuZ2E9ZnVuY3Rpb24oKXt0aGlzLm5kPXt9fTthLmEuZXh0ZW5kKGEuZ2EucHJvdG90eXBlLHtub2RlSGFzQmluZGluZ3M6ZnVuY3Rpb24oYil7c3dpdGNoKGIubm9kZVR5cGUpe2Nhc2UgMTpyZXR1cm4gbnVsbCE9XG5iLmdldEF0dHJpYnV0ZShcImRhdGEtYmluZFwiKXx8YS5qLmdldENvbXBvbmVudE5hbWVGb3JOb2RlKGIpO2Nhc2UgODpyZXR1cm4gYS5oLkNkKGIpO2RlZmF1bHQ6cmV0dXJuITF9fSxnZXRCaW5kaW5nczpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMuZ2V0QmluZGluZ3NTdHJpbmcoYixjKSxkPWQ/dGhpcy5wYXJzZUJpbmRpbmdzU3RyaW5nKGQsYyxiKTpudWxsO3JldHVybiBhLmoudGMoZCxiLGMsITEpfSxnZXRCaW5kaW5nQWNjZXNzb3JzOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5nZXRCaW5kaW5nc1N0cmluZyhiLGMpLGQ9ZD90aGlzLnBhcnNlQmluZGluZ3NTdHJpbmcoZCxjLGIse3ZhbHVlQWNjZXNzb3JzOiEwfSk6bnVsbDtyZXR1cm4gYS5qLnRjKGQsYixjLCEwKX0sZ2V0QmluZGluZ3NTdHJpbmc6ZnVuY3Rpb24oYil7c3dpdGNoKGIubm9kZVR5cGUpe2Nhc2UgMTpyZXR1cm4gYi5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJpbmRcIik7Y2FzZSA4OnJldHVybiBhLmguVmQoYik7ZGVmYXVsdDpyZXR1cm4gbnVsbH19LFxucGFyc2VCaW5kaW5nc1N0cmluZzpmdW5jdGlvbihiLGMsZCxlKXt0cnl7dmFyIGY9dGhpcy5uZCxnPWIrKGUmJmUudmFsdWVBY2Nlc3NvcnN8fFwiXCIpLGg7aWYoIShoPWZbZ10pKXt2YXIgbSxrPVwid2l0aCgkY29udGV4dCl7d2l0aCgkZGF0YXx8e30pe3JldHVybntcIithLm0udmIoYixlKStcIn19fVwiO209bmV3IEZ1bmN0aW9uKFwiJGNvbnRleHRcIixcIiRlbGVtZW50XCIsayk7aD1mW2ddPW19cmV0dXJuIGgoYyxkKX1jYXRjaChsKXt0aHJvdyBsLm1lc3NhZ2U9XCJVbmFibGUgdG8gcGFyc2UgYmluZGluZ3MuXFxuQmluZGluZ3MgdmFsdWU6IFwiK2IrXCJcXG5NZXNzYWdlOiBcIitsLm1lc3NhZ2UsbDt9fX0pO2EuZ2EuaW5zdGFuY2U9bmV3IGEuZ2F9KSgpO2EuYihcImJpbmRpbmdQcm92aWRlclwiLGEuZ2EpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYil7dmFyIGM9KGI9YS5hLmcuZ2V0KGIseikpJiZiLk47YyYmKGIuTj1udWxsLGMuVGMoKSl9ZnVuY3Rpb24gYyhjLGQsZSl7dGhpcy5ub2RlPWM7dGhpcy55Yz1cbmQ7dGhpcy5rYj1bXTt0aGlzLkg9ITE7ZC5OfHxhLmEuSy56YShjLGIpO2UmJmUuTiYmKGUuTi5rYi5wdXNoKGMpLHRoaXMuS2I9ZSl9ZnVuY3Rpb24gZChhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYX19ZnVuY3Rpb24gZShhKXtyZXR1cm4gYSgpfWZ1bmN0aW9uIGYoYil7cmV0dXJuIGEuYS5HYShhLnUuRyhiKSxmdW5jdGlvbihhLGMpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBiKClbY119fSl9ZnVuY3Rpb24gZyhiLGMsZSl7cmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGI/ZihiLmJpbmQobnVsbCxjLGUpKTphLmEuR2EoYixkKX1mdW5jdGlvbiBoKGEsYil7cmV0dXJuIGYodGhpcy5nZXRCaW5kaW5ncy5iaW5kKHRoaXMsYSxiKSl9ZnVuY3Rpb24gbShiLGMpe3ZhciBkPWEuaC5maXJzdENoaWxkKGMpO2lmKGQpe3ZhciBlLGY9YS5nYS5pbnN0YW5jZSxsPWYucHJlcHJvY2Vzc05vZGU7aWYobCl7Zm9yKDtlPWQ7KWQ9YS5oLm5leHRTaWJsaW5nKGUpLGwuY2FsbChmLGUpO1xuZD1hLmguZmlyc3RDaGlsZChjKX1mb3IoO2U9ZDspZD1hLmgubmV4dFNpYmxpbmcoZSksayhiLGUpfWEuaS5tYShjLGEuaS5IKX1mdW5jdGlvbiBrKGIsYyl7dmFyIGQ9YixlPTE9PT1jLm5vZGVUeXBlO2UmJmEuaC5TYyhjKTtpZihlfHxhLmdhLmluc3RhbmNlLm5vZGVIYXNCaW5kaW5ncyhjKSlkPXAoYyxudWxsLGIpLmJpbmRpbmdDb250ZXh0Rm9yRGVzY2VuZGFudHM7ZCYmIXVbYS5hLlIoYyldJiZtKGQsYyl9ZnVuY3Rpb24gbChiKXt2YXIgYz1bXSxkPXt9LGU9W107YS5hLlAoYixmdW5jdGlvbiBjYShmKXtpZighZFtmXSl7dmFyIGs9YS5nZXRCaW5kaW5nSGFuZGxlcihmKTtrJiYoay5hZnRlciYmKGUucHVzaChmKSxhLmEuRChrLmFmdGVyLGZ1bmN0aW9uKGMpe2lmKGJbY10pe2lmKC0xIT09YS5hLkEoZSxjKSl0aHJvdyBFcnJvcihcIkNhbm5vdCBjb21iaW5lIHRoZSBmb2xsb3dpbmcgYmluZGluZ3MsIGJlY2F1c2UgdGhleSBoYXZlIGEgY3ljbGljIGRlcGVuZGVuY3k6IFwiK2Uuam9pbihcIiwgXCIpKTtcbmNhKGMpfX0pLGUubGVuZ3RoLS0pLGMucHVzaCh7a2V5OmYsTWM6a30pKTtkW2ZdPSEwfX0pO3JldHVybiBjfWZ1bmN0aW9uIHAoYixjLGQpe3ZhciBmPWEuYS5nLlViKGIseix7fSksaz1mLmhkO2lmKCFjKXtpZihrKXRocm93IEVycm9yKFwiWW91IGNhbm5vdCBhcHBseSBiaW5kaW5ncyBtdWx0aXBsZSB0aW1lcyB0byB0aGUgc2FtZSBlbGVtZW50LlwiKTtmLmhkPSEwfWt8fChmLmNvbnRleHQ9ZCk7Zi5aYnx8KGYuWmI9e30pO3ZhciBnO2lmKGMmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBjKWc9YztlbHNle3ZhciBwPWEuZ2EuaW5zdGFuY2UscT1wLmdldEJpbmRpbmdBY2Nlc3NvcnN8fGgsbT1hLiQoZnVuY3Rpb24oKXtpZihnPWM/YyhkLGIpOnEuY2FsbChwLGIsZCkpe2lmKGRbdF0pZFt0XSgpO2lmKGRbQl0pZFtCXSgpfXJldHVybiBnfSxudWxsLHtsOmJ9KTtnJiZtLmphKCl8fChtPW51bGwpfXZhciB4PWQsdTtpZihnKXt2YXIgSj1mdW5jdGlvbigpe3JldHVybiBhLmEuR2EobT9tKCk6XG5nLGUpfSxyPW0/ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUobSgpW2FdKX19OmZ1bmN0aW9uKGEpe3JldHVybiBnW2FdfTtKLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gZ1thXSYmZShyKGEpKX07Si5oYXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW4gZ307YS5pLkggaW4gZyYmYS5pLnN1YnNjcmliZShiLGEuaS5ILGZ1bmN0aW9uKCl7dmFyIGM9KDAsZ1thLmkuSF0pKCk7aWYoYyl7dmFyIGQ9YS5oLmNoaWxkTm9kZXMoYik7ZC5sZW5ndGgmJmMoZCxhLkVjKGRbMF0pKX19KTthLmkucGEgaW4gZyYmKHg9YS5pLkNiKGIsZCksYS5pLnN1YnNjcmliZShiLGEuaS5wYSxmdW5jdGlvbigpe3ZhciBjPSgwLGdbYS5pLnBhXSkoKTtjJiZhLmguZmlyc3RDaGlsZChiKSYmYyhiKX0pKTtmPWwoZyk7YS5hLkQoZixmdW5jdGlvbihjKXt2YXIgZD1jLk1jLmluaXQsZT1jLk1jLnVwZGF0ZSxmPWMua2V5O2lmKDg9PT1iLm5vZGVUeXBlJiYhYS5oLmVhW2ZdKXRocm93IEVycm9yKFwiVGhlIGJpbmRpbmcgJ1wiK1xuZitcIicgY2Fubm90IGJlIHVzZWQgd2l0aCB2aXJ0dWFsIGVsZW1lbnRzXCIpO3RyeXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkJiZhLnUuRyhmdW5jdGlvbigpe3ZhciBhPWQoYixyKGYpLEoseC4kZGF0YSx4KTtpZihhJiZhLmNvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzKXtpZih1IT09bil0aHJvdyBFcnJvcihcIk11bHRpcGxlIGJpbmRpbmdzIChcIit1K1wiIGFuZCBcIitmK1wiKSBhcmUgdHJ5aW5nIHRvIGNvbnRyb2wgZGVzY2VuZGFudCBiaW5kaW5ncyBvZiB0aGUgc2FtZSBlbGVtZW50LiBZb3UgY2Fubm90IHVzZSB0aGVzZSBiaW5kaW5ncyB0b2dldGhlciBvbiB0aGUgc2FtZSBlbGVtZW50LlwiKTt1PWZ9fSksXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmYS4kKGZ1bmN0aW9uKCl7ZShiLHIoZiksSix4LiRkYXRhLHgpfSxudWxsLHtsOmJ9KX1jYXRjaChrKXt0aHJvdyBrLm1lc3NhZ2U9J1VuYWJsZSB0byBwcm9jZXNzIGJpbmRpbmcgXCInK2YrXCI6IFwiK2dbZl0rJ1wiXFxuTWVzc2FnZTogJytrLm1lc3NhZ2UsXG5rO319KX1mPXU9PT1uO3JldHVybntzaG91bGRCaW5kRGVzY2VuZGFudHM6ZixiaW5kaW5nQ29udGV4dEZvckRlc2NlbmRhbnRzOmYmJnh9fWZ1bmN0aW9uIHEoYixjKXtyZXR1cm4gYiYmYiBpbnN0YW5jZW9mIGEuZmE/YjpuZXcgYS5mYShiLG4sbixjKX12YXIgdD1hLmEuRGEoXCJfc3Vic2NyaWJhYmxlXCIpLHg9YS5hLkRhKFwiX2FuY2VzdG9yQmluZGluZ0luZm9cIiksQj1hLmEuRGEoXCJfZGF0YURlcGVuZGVuY3lcIik7YS5jPXt9O3ZhciB1PXtzY3JpcHQ6ITAsdGV4dGFyZWE6ITAsdGVtcGxhdGU6ITB9O2EuZ2V0QmluZGluZ0hhbmRsZXI9ZnVuY3Rpb24oYil7cmV0dXJuIGEuY1tiXX07dmFyIEo9e307YS5mYT1mdW5jdGlvbihiLGMsZCxlLGYpe2Z1bmN0aW9uIGsoKXt2YXIgYj1wP2goKTpoLGY9YS5hLmYoYik7Yz8oYS5hLmV4dGVuZChsLGMpLHggaW4gYyYmKGxbeF09Y1t4XSkpOihsLiRwYXJlbnRzPVtdLGwuJHJvb3Q9ZixsLmtvPWEpO2xbdF09cTtnP2Y9bC4kZGF0YToobC4kcmF3RGF0YT1cbmIsbC4kZGF0YT1mKTtkJiYobFtkXT1mKTtlJiZlKGwsYyxmKTtpZihjJiZjW3RdJiYhYS5TLm8oKS5WYihjW3RdKSljW3RdKCk7bSYmKGxbQl09bSk7cmV0dXJuIGwuJGRhdGF9dmFyIGw9dGhpcyxnPWI9PT1KLGg9Zz9uOmIscD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBoJiYhYS5PKGgpLHEsbT1mJiZmLmRhdGFEZXBlbmRlbmN5O2YmJmYuZXhwb3J0RGVwZW5kZW5jaWVzP2soKToocT1hLnhiKGspLHEudigpLHEuamEoKT9xLmVxdWFsaXR5Q29tcGFyZXI9bnVsbDpsW3RdPW4pfTthLmZhLnByb3RvdHlwZS5jcmVhdGVDaGlsZENvbnRleHQ9ZnVuY3Rpb24oYixjLGQsZSl7IWUmJmMmJlwib2JqZWN0XCI9PXR5cGVvZiBjJiYoZT1jLGM9ZS5hcyxkPWUuZXh0ZW5kKTtpZihjJiZlJiZlLm5vQ2hpbGRDb250ZXh0KXt2YXIgZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBiJiYhYS5PKGIpO3JldHVybiBuZXcgYS5mYShKLHRoaXMsbnVsbCxmdW5jdGlvbihhKXtkJiZkKGEpO2FbY109Zj9iKCk6Yn0sZSl9cmV0dXJuIG5ldyBhLmZhKGIsXG50aGlzLGMsZnVuY3Rpb24oYSxiKXthLiRwYXJlbnRDb250ZXh0PWI7YS4kcGFyZW50PWIuJGRhdGE7YS4kcGFyZW50cz0oYi4kcGFyZW50c3x8W10pLnNsaWNlKDApO2EuJHBhcmVudHMudW5zaGlmdChhLiRwYXJlbnQpO2QmJmQoYSl9LGUpfTthLmZhLnByb3RvdHlwZS5leHRlbmQ9ZnVuY3Rpb24oYixjKXtyZXR1cm4gbmV3IGEuZmEoSix0aGlzLG51bGwsZnVuY3Rpb24oYyl7YS5hLmV4dGVuZChjLFwiZnVuY3Rpb25cIj09dHlwZW9mIGI/YihjKTpiKX0sYyl9O3ZhciB6PWEuYS5nLlooKTtjLnByb3RvdHlwZS5UYz1mdW5jdGlvbigpe3RoaXMuS2ImJnRoaXMuS2IuTiYmdGhpcy5LYi5OLnNkKHRoaXMubm9kZSl9O2MucHJvdG90eXBlLnNkPWZ1bmN0aW9uKGIpe2EuYS5QYSh0aGlzLmtiLGIpOyF0aGlzLmtiLmxlbmd0aCYmdGhpcy5IJiZ0aGlzLkNjKCl9O2MucHJvdG90eXBlLkNjPWZ1bmN0aW9uKCl7dGhpcy5IPSEwO3RoaXMueWMuTiYmIXRoaXMua2IubGVuZ3RoJiYodGhpcy55Yy5OPVxubnVsbCxhLmEuSy55Yih0aGlzLm5vZGUsYiksYS5pLm1hKHRoaXMubm9kZSxhLmkucGEpLHRoaXMuVGMoKSl9O2EuaT17SDpcImNoaWxkcmVuQ29tcGxldGVcIixwYTpcImRlc2NlbmRhbnRzQ29tcGxldGVcIixzdWJzY3JpYmU6ZnVuY3Rpb24oYixjLGQsZSxmKXt2YXIgaz1hLmEuZy5VYihiLHose30pO2suRmF8fChrLkZhPW5ldyBhLlQpO2YmJmYubm90aWZ5SW1tZWRpYXRlbHkmJmsuWmJbY10mJmEudS5HKGQsZSxbYl0pO3JldHVybiBrLkZhLnN1YnNjcmliZShkLGUsYyl9LG1hOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmcuZ2V0KGIseik7aWYoZCYmKGQuWmJbY109ITAsZC5GYSYmZC5GYS5ub3RpZnlTdWJzY3JpYmVycyhiLGMpLGM9PWEuaS5IKSlpZihkLk4pZC5OLkNjKCk7ZWxzZSBpZihkLk49PT1uJiZkLkZhJiZkLkZhLldhKGEuaS5wYSkpdGhyb3cgRXJyb3IoXCJkZXNjZW5kYW50c0NvbXBsZXRlIGV2ZW50IG5vdCBzdXBwb3J0ZWQgZm9yIGJpbmRpbmdzIG9uIHRoaXMgbm9kZVwiKTtcbn0sQ2I6ZnVuY3Rpb24oYixkKXt2YXIgZT1hLmEuZy5VYihiLHose30pO2UuTnx8KGUuTj1uZXcgYyhiLGUsZFt4XSkpO3JldHVybiBkW3hdPT1lP2Q6ZC5leHRlbmQoZnVuY3Rpb24oYSl7YVt4XT1lfSl9fTthLlRkPWZ1bmN0aW9uKGIpe3JldHVybihiPWEuYS5nLmdldChiLHopKSYmYi5jb250ZXh0fTthLmliPWZ1bmN0aW9uKGIsYyxkKXsxPT09Yi5ub2RlVHlwZSYmYS5oLlNjKGIpO3JldHVybiBwKGIsYyxxKGQpKX07YS5sZD1mdW5jdGlvbihiLGMsZCl7ZD1xKGQpO3JldHVybiBhLmliKGIsZyhjLGQsYiksZCl9O2EuT2E9ZnVuY3Rpb24oYSxiKXsxIT09Yi5ub2RlVHlwZSYmOCE9PWIubm9kZVR5cGV8fG0ocShhKSxiKX07YS52Yz1mdW5jdGlvbihhLGIsYyl7IXYmJkEualF1ZXJ5JiYodj1BLmpRdWVyeSk7aWYoMj5hcmd1bWVudHMubGVuZ3RoKXtpZihiPXcuYm9keSwhYil0aHJvdyBFcnJvcihcImtvLmFwcGx5QmluZGluZ3M6IGNvdWxkIG5vdCBmaW5kIGRvY3VtZW50LmJvZHk7IGhhcyB0aGUgZG9jdW1lbnQgYmVlbiBsb2FkZWQ/XCIpO1xufWVsc2UgaWYoIWJ8fDEhPT1iLm5vZGVUeXBlJiY4IT09Yi5ub2RlVHlwZSl0aHJvdyBFcnJvcihcImtvLmFwcGx5QmluZGluZ3M6IGZpcnN0IHBhcmFtZXRlciBzaG91bGQgYmUgeW91ciB2aWV3IG1vZGVsOyBzZWNvbmQgcGFyYW1ldGVyIHNob3VsZCBiZSBhIERPTSBub2RlXCIpO2socShhLGMpLGIpfTthLkRjPWZ1bmN0aW9uKGIpe3JldHVybiFifHwxIT09Yi5ub2RlVHlwZSYmOCE9PWIubm9kZVR5cGU/bjphLlRkKGIpfTthLkVjPWZ1bmN0aW9uKGIpe3JldHVybihiPWEuRGMoYikpP2IuJGRhdGE6bn07YS5iKFwiYmluZGluZ0hhbmRsZXJzXCIsYS5jKTthLmIoXCJiaW5kaW5nRXZlbnRcIixhLmkpO2EuYihcImJpbmRpbmdFdmVudC5zdWJzY3JpYmVcIixhLmkuc3Vic2NyaWJlKTthLmIoXCJiaW5kaW5nRXZlbnQuc3RhcnRQb3NzaWJseUFzeW5jQ29udGVudEJpbmRpbmdcIixhLmkuQ2IpO2EuYihcImFwcGx5QmluZGluZ3NcIixhLnZjKTthLmIoXCJhcHBseUJpbmRpbmdzVG9EZXNjZW5kYW50c1wiLGEuT2EpO1xuYS5iKFwiYXBwbHlCaW5kaW5nQWNjZXNzb3JzVG9Ob2RlXCIsYS5pYik7YS5iKFwiYXBwbHlCaW5kaW5nc1RvTm9kZVwiLGEubGQpO2EuYihcImNvbnRleHRGb3JcIixhLkRjKTthLmIoXCJkYXRhRm9yXCIsYS5FYyl9KSgpOyhmdW5jdGlvbihiKXtmdW5jdGlvbiBjKGMsZSl7dmFyIGs9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGYsYyk/ZltjXTpiLGw7az9rLnN1YnNjcmliZShlKTooaz1mW2NdPW5ldyBhLlQsay5zdWJzY3JpYmUoZSksZChjLGZ1bmN0aW9uKGIsZCl7dmFyIGU9ISghZHx8IWQuc3luY2hyb25vdXMpO2dbY109e2RlZmluaXRpb246YixHZDplfTtkZWxldGUgZltjXTtsfHxlP2subm90aWZ5U3Vic2NyaWJlcnMoYik6YS5uYS56YihmdW5jdGlvbigpe2subm90aWZ5U3Vic2NyaWJlcnMoYil9KX0pLGw9ITApfWZ1bmN0aW9uIGQoYSxiKXtlKFwiZ2V0Q29uZmlnXCIsW2FdLGZ1bmN0aW9uKGMpe2M/ZShcImxvYWRDb21wb25lbnRcIixbYSxjXSxmdW5jdGlvbihhKXtiKGEsXG5jKX0pOmIobnVsbCxudWxsKX0pfWZ1bmN0aW9uIGUoYyxkLGYsbCl7bHx8KGw9YS5qLmxvYWRlcnMuc2xpY2UoMCkpO3ZhciBnPWwuc2hpZnQoKTtpZihnKXt2YXIgcT1nW2NdO2lmKHEpe3ZhciB0PSExO2lmKHEuYXBwbHkoZyxkLmNvbmNhdChmdW5jdGlvbihhKXt0P2YobnVsbCk6bnVsbCE9PWE/ZihhKTplKGMsZCxmLGwpfSkpIT09YiYmKHQ9ITAsIWcuc3VwcHJlc3NMb2FkZXJFeGNlcHRpb25zKSl0aHJvdyBFcnJvcihcIkNvbXBvbmVudCBsb2FkZXJzIG11c3Qgc3VwcGx5IHZhbHVlcyBieSBpbnZva2luZyB0aGUgY2FsbGJhY2ssIG5vdCBieSByZXR1cm5pbmcgdmFsdWVzIHN5bmNocm9ub3VzbHkuXCIpO31lbHNlIGUoYyxkLGYsbCl9ZWxzZSBmKG51bGwpfXZhciBmPXt9LGc9e307YS5qPXtnZXQ6ZnVuY3Rpb24oZCxlKXt2YXIgZj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZyxkKT9nW2RdOmI7Zj9mLkdkP2EudS5HKGZ1bmN0aW9uKCl7ZShmLmRlZmluaXRpb24pfSk6XG5hLm5hLnpiKGZ1bmN0aW9uKCl7ZShmLmRlZmluaXRpb24pfSk6YyhkLGUpfSxCYzpmdW5jdGlvbihhKXtkZWxldGUgZ1thXX0sb2M6ZX07YS5qLmxvYWRlcnM9W107YS5iKFwiY29tcG9uZW50c1wiLGEuaik7YS5iKFwiY29tcG9uZW50cy5nZXRcIixhLmouZ2V0KTthLmIoXCJjb21wb25lbnRzLmNsZWFyQ2FjaGVkRGVmaW5pdGlvblwiLGEuai5CYyl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjLGQsZSl7ZnVuY3Rpb24gZygpezA9PT0tLUImJmUoaCl9dmFyIGg9e30sQj0yLHU9ZC50ZW1wbGF0ZTtkPWQudmlld01vZGVsO3U/ZihjLHUsZnVuY3Rpb24oYyl7YS5qLm9jKFwibG9hZFRlbXBsYXRlXCIsW2IsY10sZnVuY3Rpb24oYSl7aC50ZW1wbGF0ZT1hO2coKX0pfSk6ZygpO2Q/ZihjLGQsZnVuY3Rpb24oYyl7YS5qLm9jKFwibG9hZFZpZXdNb2RlbFwiLFtiLGNdLGZ1bmN0aW9uKGEpe2hbbV09YTtnKCl9KX0pOmcoKX1mdW5jdGlvbiBjKGEsYixkKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYilkKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgYihhKX0pO1xuZWxzZSBpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYlttXSlkKGJbbV0pO2Vsc2UgaWYoXCJpbnN0YW5jZVwiaW4gYil7dmFyIGU9Yi5pbnN0YW5jZTtkKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KX1lbHNlXCJ2aWV3TW9kZWxcImluIGI/YyhhLGIudmlld01vZGVsLGQpOmEoXCJVbmtub3duIHZpZXdNb2RlbCB2YWx1ZTogXCIrYil9ZnVuY3Rpb24gZChiKXtzd2l0Y2goYS5hLlIoYikpe2Nhc2UgXCJzY3JpcHRcIjpyZXR1cm4gYS5hLnVhKGIudGV4dCk7Y2FzZSBcInRleHRhcmVhXCI6cmV0dXJuIGEuYS51YShiLnZhbHVlKTtjYXNlIFwidGVtcGxhdGVcIjppZihlKGIuY29udGVudCkpcmV0dXJuIGEuYS5DYShiLmNvbnRlbnQuY2hpbGROb2Rlcyl9cmV0dXJuIGEuYS5DYShiLmNoaWxkTm9kZXMpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIEEuRG9jdW1lbnRGcmFnbWVudD9hIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudDphJiYxMT09PWEubm9kZVR5cGV9ZnVuY3Rpb24gZihhLGIsYyl7XCJzdHJpbmdcIj09PXR5cGVvZiBiLnJlcXVpcmU/XG5UfHxBLnJlcXVpcmU/KFR8fEEucmVxdWlyZSkoW2IucmVxdWlyZV0sZnVuY3Rpb24oYSl7YSYmXCJvYmplY3RcIj09PXR5cGVvZiBhJiZhLlhkJiZhW1wiZGVmYXVsdFwiXSYmKGE9YVtcImRlZmF1bHRcIl0pO2MoYSl9KTphKFwiVXNlcyByZXF1aXJlLCBidXQgbm8gQU1EIGxvYWRlciBpcyBwcmVzZW50XCIpOmMoYil9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gZnVuY3Rpb24oYil7dGhyb3cgRXJyb3IoXCJDb21wb25lbnQgJ1wiK2ErXCInOiBcIitiKTt9fXZhciBoPXt9O2Euai5yZWdpc3Rlcj1mdW5jdGlvbihiLGMpe2lmKCFjKXRocm93IEVycm9yKFwiSW52YWxpZCBjb25maWd1cmF0aW9uIGZvciBcIitiKTtpZihhLmoudGIoYikpdGhyb3cgRXJyb3IoXCJDb21wb25lbnQgXCIrYitcIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWRcIik7aFtiXT1jfTthLmoudGI9ZnVuY3Rpb24oYSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChoLGEpfTthLmoudW5yZWdpc3Rlcj1mdW5jdGlvbihiKXtkZWxldGUgaFtiXTtcbmEuai5CYyhiKX07YS5qLkZjPXtnZXRDb25maWc6ZnVuY3Rpb24oYixjKXtjKGEuai50YihiKT9oW2JdOm51bGwpfSxsb2FkQ29tcG9uZW50OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1nKGEpO2YoZSxjLGZ1bmN0aW9uKGMpe2IoYSxlLGMsZCl9KX0sbG9hZFRlbXBsYXRlOmZ1bmN0aW9uKGIsYyxmKXtiPWcoYik7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBjKWYoYS5hLnVhKGMpKTtlbHNlIGlmKGMgaW5zdGFuY2VvZiBBcnJheSlmKGMpO2Vsc2UgaWYoZShjKSlmKGEuYS5sYShjLmNoaWxkTm9kZXMpKTtlbHNlIGlmKGMuZWxlbWVudClpZihjPWMuZWxlbWVudCxBLkhUTUxFbGVtZW50P2MgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDpjJiZjLnRhZ05hbWUmJjE9PT1jLm5vZGVUeXBlKWYoZChjKSk7ZWxzZSBpZihcInN0cmluZ1wiPT09dHlwZW9mIGMpe3ZhciBoPXcuZ2V0RWxlbWVudEJ5SWQoYyk7aD9mKGQoaCkpOmIoXCJDYW5ub3QgZmluZCBlbGVtZW50IHdpdGggSUQgXCIrYyl9ZWxzZSBiKFwiVW5rbm93biBlbGVtZW50IHR5cGU6IFwiK1xuYyk7ZWxzZSBiKFwiVW5rbm93biB0ZW1wbGF0ZSB2YWx1ZTogXCIrYyl9LGxvYWRWaWV3TW9kZWw6ZnVuY3Rpb24oYSxiLGQpe2MoZyhhKSxiLGQpfX07dmFyIG09XCJjcmVhdGVWaWV3TW9kZWxcIjthLmIoXCJjb21wb25lbnRzLnJlZ2lzdGVyXCIsYS5qLnJlZ2lzdGVyKTthLmIoXCJjb21wb25lbnRzLmlzUmVnaXN0ZXJlZFwiLGEuai50Yik7YS5iKFwiY29tcG9uZW50cy51bnJlZ2lzdGVyXCIsYS5qLnVucmVnaXN0ZXIpO2EuYihcImNvbXBvbmVudHMuZGVmYXVsdExvYWRlclwiLGEuai5GYyk7YS5qLmxvYWRlcnMucHVzaChhLmouRmMpO2Euai5kZD1ofSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsZSl7dmFyIGY9Yi5nZXRBdHRyaWJ1dGUoXCJwYXJhbXNcIik7aWYoZil7dmFyIGY9Yy5wYXJzZUJpbmRpbmdzU3RyaW5nKGYsZSxiLHt2YWx1ZUFjY2Vzc29yczohMCxiaW5kaW5nUGFyYW1zOiEwfSksZj1hLmEuR2EoZixmdW5jdGlvbihjKXtyZXR1cm4gYS5vKGMsbnVsbCx7bDpifSl9KSxnPWEuYS5HYShmLFxuZnVuY3Rpb24oYyl7dmFyIGU9Yy52KCk7cmV0dXJuIGMuamEoKT9hLm8oe3JlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5hLmYoYygpKX0sd3JpdGU6YS5aYShlKSYmZnVuY3Rpb24oYSl7YygpKGEpfSxsOmJ9KTplfSk7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGcsXCIkcmF3XCIpfHwoZy4kcmF3PWYpO3JldHVybiBnfXJldHVybnskcmF3Ont9fX1hLmouZ2V0Q29tcG9uZW50TmFtZUZvck5vZGU9ZnVuY3Rpb24oYil7dmFyIGM9YS5hLlIoYik7aWYoYS5qLnRiKGMpJiYoLTEhPWMuaW5kZXhPZihcIi1cIil8fFwiW29iamVjdCBIVE1MVW5rbm93bkVsZW1lbnRdXCI9PVwiXCIrYnx8OD49YS5hLlcmJmIudGFnTmFtZT09PWMpKXJldHVybiBjfTthLmoudGM9ZnVuY3Rpb24oYyxlLGYsZyl7aWYoMT09PWUubm9kZVR5cGUpe3ZhciBoPWEuai5nZXRDb21wb25lbnROYW1lRm9yTm9kZShlKTtpZihoKXtjPWN8fHt9O2lmKGMuY29tcG9uZW50KXRocm93IEVycm9yKCdDYW5ub3QgdXNlIHRoZSBcImNvbXBvbmVudFwiIGJpbmRpbmcgb24gYSBjdXN0b20gZWxlbWVudCBtYXRjaGluZyBhIGNvbXBvbmVudCcpO1xudmFyIG09e25hbWU6aCxwYXJhbXM6YihlLGYpfTtjLmNvbXBvbmVudD1nP2Z1bmN0aW9uKCl7cmV0dXJuIG19Om19fXJldHVybiBjfTt2YXIgYz1uZXcgYS5nYTs5PmEuYS5XJiYoYS5qLnJlZ2lzdGVyPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fShhLmoucmVnaXN0ZXIpLHcuY3JlYXRlRG9jdW1lbnRGcmFnbWVudD1mdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1iKCksZj1hLmouZGQsZztmb3IoZyBpbiBmKTtyZXR1cm4gY319KHcuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCkpfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsYyxkKXtjPWMudGVtcGxhdGU7aWYoIWMpdGhyb3cgRXJyb3IoXCJDb21wb25lbnQgJ1wiK2IrXCInIGhhcyBubyB0ZW1wbGF0ZVwiKTtiPWEuYS5DYShjKTthLmgudmEoZCxiKX1mdW5jdGlvbiBjKGEsYixjKXt2YXIgZD1hLmNyZWF0ZVZpZXdNb2RlbDtyZXR1cm4gZD9kLmNhbGwoYSxcbmIsYyk6Yn12YXIgZD0wO2EuYy5jb21wb25lbnQ9e2luaXQ6ZnVuY3Rpb24oZSxmLGcsaCxtKXtmdW5jdGlvbiBrKCl7dmFyIGE9bCYmbC5kaXNwb3NlO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBhJiZhLmNhbGwobCk7cSYmcS5zKCk7cD1sPXE9bnVsbH12YXIgbCxwLHEsdD1hLmEubGEoYS5oLmNoaWxkTm9kZXMoZSkpO2EuaC5FYShlKTthLmEuSy56YShlLGspO2EubyhmdW5jdGlvbigpe3ZhciBnPWEuYS5mKGYoKSksaCx1O1wic3RyaW5nXCI9PT10eXBlb2YgZz9oPWc6KGg9YS5hLmYoZy5uYW1lKSx1PWEuYS5mKGcucGFyYW1zKSk7aWYoIWgpdGhyb3cgRXJyb3IoXCJObyBjb21wb25lbnQgbmFtZSBzcGVjaWZpZWRcIik7dmFyIG49YS5pLkNiKGUsbSksej1wPSsrZDthLmouZ2V0KGgsZnVuY3Rpb24oZCl7aWYocD09PXope2soKTtpZighZCl0aHJvdyBFcnJvcihcIlVua25vd24gY29tcG9uZW50ICdcIitoK1wiJ1wiKTtiKGgsZCxlKTt2YXIgZj1jKGQsdSx7ZWxlbWVudDplLHRlbXBsYXRlTm9kZXM6dH0pO1xuZD1uLmNyZWF0ZUNoaWxkQ29udGV4dChmLHtleHRlbmQ6ZnVuY3Rpb24oYSl7YS4kY29tcG9uZW50PWY7YS4kY29tcG9uZW50VGVtcGxhdGVOb2Rlcz10fX0pO2YmJmYua29EZXNjZW5kYW50c0NvbXBsZXRlJiYocT1hLmkuc3Vic2NyaWJlKGUsYS5pLnBhLGYua29EZXNjZW5kYW50c0NvbXBsZXRlLGYpKTtsPWY7YS5PYShkLGUpfX0pfSxudWxsLHtsOmV9KTtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fX07YS5oLmVhLmNvbXBvbmVudD0hMH0pKCk7dmFyIFY9e1wiY2xhc3NcIjpcImNsYXNzTmFtZVwiLFwiZm9yXCI6XCJodG1sRm9yXCJ9O2EuYy5hdHRyPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuZihjKCkpfHx7fTthLmEuUChkLGZ1bmN0aW9uKGMsZCl7ZD1hLmEuZihkKTt2YXIgZz1jLmluZGV4T2YoXCI6XCIpLGc9XCJsb29rdXBOYW1lc3BhY2VVUklcImluIGImJjA8ZyYmYi5sb29rdXBOYW1lc3BhY2VVUkkoYy5zdWJzdHIoMCxnKSksaD0hMT09PWR8fG51bGw9PT1cbmR8fGQ9PT1uO2g/Zz9iLnJlbW92ZUF0dHJpYnV0ZU5TKGcsYyk6Yi5yZW1vdmVBdHRyaWJ1dGUoYyk6ZD1kLnRvU3RyaW5nKCk7OD49YS5hLlcmJmMgaW4gVj8oYz1WW2NdLGg/Yi5yZW1vdmVBdHRyaWJ1dGUoYyk6YltjXT1kKTpofHwoZz9iLnNldEF0dHJpYnV0ZU5TKGcsYyxkKTpiLnNldEF0dHJpYnV0ZShjLGQpKTtcIm5hbWVcIj09PWMmJmEuYS5ZYyhiLGg/XCJcIjpkKX0pfX07KGZ1bmN0aW9uKCl7YS5jLmNoZWNrZWQ9e2FmdGVyOltcInZhbHVlXCIsXCJhdHRyXCJdLGluaXQ6ZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1iLmNoZWNrZWQsZj1nKCk7aWYoIWEuUy5ZYSgpJiYoZXx8IW0mJiFhLlMucWEoKSkpe3ZhciBrPWEudS5HKGMpO2lmKGwpe3ZhciBxPXA/ay52KCk6ayx6PXQ7dD1mO3ohPT1mP2UmJihhLmEuTmEocSxmLCEwKSxhLmEuTmEocSx6LCExKSk6YS5hLk5hKHEsZixlKTtwJiZhLlphKGspJiZrKHEpfWVsc2UgaCYmKGY9PT1uP2Y9ZTplfHwoZj1uKSksYS5tLmViKGssXG5kLFwiY2hlY2tlZFwiLGYsITApfX1mdW5jdGlvbiBmKCl7dmFyIGQ9YS5hLmYoYygpKSxlPWcoKTtsPyhiLmNoZWNrZWQ9MDw9YS5hLkEoZCxlKSx0PWUpOmIuY2hlY2tlZD1oJiZlPT09bj8hIWQ6ZygpPT09ZH12YXIgZz1hLnhiKGZ1bmN0aW9uKCl7aWYoZC5oYXMoXCJjaGVja2VkVmFsdWVcIikpcmV0dXJuIGEuYS5mKGQuZ2V0KFwiY2hlY2tlZFZhbHVlXCIpKTtpZihxKXJldHVybiBkLmhhcyhcInZhbHVlXCIpP2EuYS5mKGQuZ2V0KFwidmFsdWVcIikpOmIudmFsdWV9KSxoPVwiY2hlY2tib3hcIj09Yi50eXBlLG09XCJyYWRpb1wiPT1iLnR5cGU7aWYoaHx8bSl7dmFyIGs9YygpLGw9aCYmYS5hLmYoaylpbnN0YW5jZW9mIEFycmF5LHA9IShsJiZrLnB1c2gmJmsuc3BsaWNlKSxxPW18fGwsdD1sP2coKTpuO20mJiFiLm5hbWUmJmEuYy51bmlxdWVOYW1lLmluaXQoYixmdW5jdGlvbigpe3JldHVybiEwfSk7YS5vKGUsbnVsbCx7bDpifSk7YS5hLkIoYixcImNsaWNrXCIsZSk7YS5vKGYsbnVsbCx7bDpifSk7XG5rPW59fX07YS5tLndhLmNoZWNrZWQ9ITA7YS5jLmNoZWNrZWRWYWx1ZT17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7Yi52YWx1ZT1hLmEuZihjKCkpfX19KSgpO2EuY1tcImNsYXNzXCJdPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuRGIoYS5hLmYoYygpKSk7YS5hLkViKGIsYi5fX2tvX19jc3NWYWx1ZSwhMSk7Yi5fX2tvX19jc3NWYWx1ZT1kO2EuYS5FYihiLGQsITApfX07YS5jLmNzcz17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmYoYygpKTtudWxsIT09ZCYmXCJvYmplY3RcIj09dHlwZW9mIGQ/YS5hLlAoZCxmdW5jdGlvbihjLGQpe2Q9YS5hLmYoZCk7YS5hLkViKGIsYyxkKX0pOmEuY1tcImNsYXNzXCJdLnVwZGF0ZShiLGMpfX07YS5jLmVuYWJsZT17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmYoYygpKTtkJiZiLmRpc2FibGVkP2IucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik6ZHx8Yi5kaXNhYmxlZHx8KGIuZGlzYWJsZWQ9ITApfX07YS5jLmRpc2FibGU9XG57dXBkYXRlOmZ1bmN0aW9uKGIsYyl7YS5jLmVuYWJsZS51cGRhdGUoYixmdW5jdGlvbigpe3JldHVybiFhLmEuZihjKCkpfSl9fTthLmMuZXZlbnQ9e2luaXQ6ZnVuY3Rpb24oYixjLGQsZSxmKXt2YXIgZz1jKCl8fHt9O2EuYS5QKGcsZnVuY3Rpb24oZyl7XCJzdHJpbmdcIj09dHlwZW9mIGcmJmEuYS5CKGIsZyxmdW5jdGlvbihiKXt2YXIgayxsPWMoKVtnXTtpZihsKXt0cnl7dmFyIHA9YS5hLmxhKGFyZ3VtZW50cyk7ZT1mLiRkYXRhO3AudW5zaGlmdChlKTtrPWwuYXBwbHkoZSxwKX1maW5hbGx5eyEwIT09ayYmKGIucHJldmVudERlZmF1bHQ/Yi5wcmV2ZW50RGVmYXVsdCgpOmIucmV0dXJuVmFsdWU9ITEpfSExPT09ZC5nZXQoZytcIkJ1YmJsZVwiKSYmKGIuY2FuY2VsQnViYmxlPSEwLGIuc3RvcFByb3BhZ2F0aW9uJiZiLnN0b3BQcm9wYWdhdGlvbigpKX19KX0pfX07YS5jLmZvcmVhY2g9e1JjOmZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPWIoKSxkPWEuYS5iYyhjKTtcbmlmKCFkfHxcIm51bWJlclwiPT10eXBlb2YgZC5sZW5ndGgpcmV0dXJue2ZvcmVhY2g6Yyx0ZW1wbGF0ZUVuZ2luZTphLmJhLk1hfTthLmEuZihjKTtyZXR1cm57Zm9yZWFjaDpkLmRhdGEsYXM6ZC5hcyxub0NoaWxkQ29udGV4dDpkLm5vQ2hpbGRDb250ZXh0LGluY2x1ZGVEZXN0cm95ZWQ6ZC5pbmNsdWRlRGVzdHJveWVkLGFmdGVyQWRkOmQuYWZ0ZXJBZGQsYmVmb3JlUmVtb3ZlOmQuYmVmb3JlUmVtb3ZlLGFmdGVyUmVuZGVyOmQuYWZ0ZXJSZW5kZXIsYmVmb3JlTW92ZTpkLmJlZm9yZU1vdmUsYWZ0ZXJNb3ZlOmQuYWZ0ZXJNb3ZlLHRlbXBsYXRlRW5naW5lOmEuYmEuTWF9fX0saW5pdDpmdW5jdGlvbihiLGMpe3JldHVybiBhLmMudGVtcGxhdGUuaW5pdChiLGEuYy5mb3JlYWNoLlJjKGMpKX0sdXBkYXRlOmZ1bmN0aW9uKGIsYyxkLGUsZil7cmV0dXJuIGEuYy50ZW1wbGF0ZS51cGRhdGUoYixhLmMuZm9yZWFjaC5SYyhjKSxkLGUsZil9fTthLm0uUmEuZm9yZWFjaD0hMTthLmguZWEuZm9yZWFjaD1cbiEwO2EuYy5oYXNmb2N1cz17aW5pdDpmdW5jdGlvbihiLGMsZCl7ZnVuY3Rpb24gZShlKXtiLl9fa29faGFzZm9jdXNVcGRhdGluZz0hMDt2YXIgZj1iLm93bmVyRG9jdW1lbnQ7aWYoXCJhY3RpdmVFbGVtZW50XCJpbiBmKXt2YXIgZzt0cnl7Zz1mLmFjdGl2ZUVsZW1lbnR9Y2F0Y2gobCl7Zz1mLmJvZHl9ZT1nPT09Yn1mPWMoKTthLm0uZWIoZixkLFwiaGFzZm9jdXNcIixlLCEwKTtiLl9fa29faGFzZm9jdXNMYXN0VmFsdWU9ZTtiLl9fa29faGFzZm9jdXNVcGRhdGluZz0hMX12YXIgZj1lLmJpbmQobnVsbCwhMCksZz1lLmJpbmQobnVsbCwhMSk7YS5hLkIoYixcImZvY3VzXCIsZik7YS5hLkIoYixcImZvY3VzaW5cIixmKTthLmEuQihiLFwiYmx1clwiLGcpO2EuYS5CKGIsXCJmb2N1c291dFwiLGcpO2IuX19rb19oYXNmb2N1c0xhc3RWYWx1ZT0hMX0sdXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9ISFhLmEuZihjKCkpO2IuX19rb19oYXNmb2N1c1VwZGF0aW5nfHxiLl9fa29faGFzZm9jdXNMYXN0VmFsdWU9PT1cbmR8fChkP2IuZm9jdXMoKTpiLmJsdXIoKSwhZCYmYi5fX2tvX2hhc2ZvY3VzTGFzdFZhbHVlJiZiLm93bmVyRG9jdW1lbnQuYm9keS5mb2N1cygpLGEudS5HKGEuYS5GYixudWxsLFtiLGQ/XCJmb2N1c2luXCI6XCJmb2N1c291dFwiXSkpfX07YS5tLndhLmhhc2ZvY3VzPSEwO2EuYy5oYXNGb2N1cz1hLmMuaGFzZm9jdXM7YS5tLndhLmhhc0ZvY3VzPVwiaGFzZm9jdXNcIjthLmMuaHRtbD17aW5pdDpmdW5jdGlvbigpe3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19LHVwZGF0ZTpmdW5jdGlvbihiLGMpe2EuYS5mYyhiLGMoKSl9fTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsZCxlKXthLmNbYl09e2luaXQ6ZnVuY3Rpb24oYixjLGgsbSxrKXt2YXIgbCxwLHE9e30sdCx4LG47aWYoZCl7bT1oLmdldChcImFzXCIpO3ZhciB1PWguZ2V0KFwibm9DaGlsZENvbnRleHRcIik7bj0hKG0mJnUpO3E9e2FzOm0sbm9DaGlsZENvbnRleHQ6dSxleHBvcnREZXBlbmRlbmNpZXM6bn19eD0odD1cblwicmVuZGVyXCI9PWguZ2V0KFwiY29tcGxldGVPblwiKSl8fGguaGFzKGEuaS5wYSk7YS5vKGZ1bmN0aW9uKCl7dmFyIGg9YS5hLmYoYygpKSxtPSFlIT09IWgsdT0hcCxyO2lmKG58fG0hPT1sKXt4JiYoaz1hLmkuQ2IoYixrKSk7aWYobSl7aWYoIWR8fG4pcS5kYXRhRGVwZW5kZW5jeT1hLlMubygpO3I9ZD9rLmNyZWF0ZUNoaWxkQ29udGV4dChcImZ1bmN0aW9uXCI9PXR5cGVvZiBoP2g6YyxxKTphLlMucWEoKT9rLmV4dGVuZChudWxsLHEpOmt9dSYmYS5TLnFhKCkmJihwPWEuYS5DYShhLmguY2hpbGROb2RlcyhiKSwhMCkpO20/KHV8fGEuaC52YShiLGEuYS5DYShwKSksYS5PYShyLGIpKTooYS5oLkVhKGIpLHR8fGEuaS5tYShiLGEuaS5IKSk7bD1tfX0sbnVsbCx7bDpifSk7cmV0dXJue2NvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzOiEwfX19O2EubS5SYVtiXT0hMTthLmguZWFbYl09ITB9YihcImlmXCIpO2IoXCJpZm5vdFwiLCExLCEwKTtiKFwid2l0aFwiLCEwKX0pKCk7YS5jLmxldD17aW5pdDpmdW5jdGlvbihiLFxuYyxkLGUsZil7Yz1mLmV4dGVuZChjKTthLk9hKGMsYik7cmV0dXJue2NvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzOiEwfX19O2EuaC5lYS5sZXQ9ITA7dmFyIFE9e307YS5jLm9wdGlvbnM9e2luaXQ6ZnVuY3Rpb24oYil7aWYoXCJzZWxlY3RcIiE9PWEuYS5SKGIpKXRocm93IEVycm9yKFwib3B0aW9ucyBiaW5kaW5nIGFwcGxpZXMgb25seSB0byBTRUxFQ1QgZWxlbWVudHNcIik7Zm9yKDswPGIubGVuZ3RoOyliLnJlbW92ZSgwKTtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fSx1cGRhdGU6ZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gYS5hLmpiKGIub3B0aW9ucyxmdW5jdGlvbihhKXtyZXR1cm4gYS5zZWxlY3RlZH0pfWZ1bmN0aW9uIGYoYSxiLGMpe3ZhciBkPXR5cGVvZiBiO3JldHVyblwiZnVuY3Rpb25cIj09ZD9iKGEpOlwic3RyaW5nXCI9PWQ/YVtiXTpjfWZ1bmN0aW9uIGcoYyxkKXtpZih4JiZsKWEuaS5tYShiLGEuaS5IKTtlbHNlIGlmKHQubGVuZ3RoKXt2YXIgZT1cbjA8PWEuYS5BKHQsYS53Lk0oZFswXSkpO2EuYS5aYyhkWzBdLGUpO3gmJiFlJiZhLnUuRyhhLmEuRmIsbnVsbCxbYixcImNoYW5nZVwiXSl9fXZhciBoPWIubXVsdGlwbGUsbT0wIT1iLmxlbmd0aCYmaD9iLnNjcm9sbFRvcDpudWxsLGs9YS5hLmYoYygpKSxsPWQuZ2V0KFwidmFsdWVBbGxvd1Vuc2V0XCIpJiZkLmhhcyhcInZhbHVlXCIpLHA9ZC5nZXQoXCJvcHRpb25zSW5jbHVkZURlc3Ryb3llZFwiKTtjPXt9O3ZhciBxLHQ9W107bHx8KGg/dD1hLmEuTWIoZSgpLGEudy5NKTowPD1iLnNlbGVjdGVkSW5kZXgmJnQucHVzaChhLncuTShiLm9wdGlvbnNbYi5zZWxlY3RlZEluZGV4XSkpKTtrJiYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGsubGVuZ3RoJiYoaz1ba10pLHE9YS5hLmpiKGssZnVuY3Rpb24oYil7cmV0dXJuIHB8fGI9PT1ufHxudWxsPT09Ynx8IWEuYS5mKGIuX2Rlc3Ryb3kpfSksZC5oYXMoXCJvcHRpb25zQ2FwdGlvblwiKSYmKGs9YS5hLmYoZC5nZXQoXCJvcHRpb25zQ2FwdGlvblwiKSksbnVsbCE9PVxuayYmayE9PW4mJnEudW5zaGlmdChRKSkpO3ZhciB4PSExO2MuYmVmb3JlUmVtb3ZlPWZ1bmN0aW9uKGEpe2IucmVtb3ZlQ2hpbGQoYSl9O2s9ZztkLmhhcyhcIm9wdGlvbnNBZnRlclJlbmRlclwiKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZC5nZXQoXCJvcHRpb25zQWZ0ZXJSZW5kZXJcIikmJihrPWZ1bmN0aW9uKGIsYyl7ZygwLGMpO2EudS5HKGQuZ2V0KFwib3B0aW9uc0FmdGVyUmVuZGVyXCIpLG51bGwsW2NbMF0sYiE9PVE/YjpuXSl9KTthLmEuZWMoYixxLGZ1bmN0aW9uKGMsZSxnKXtnLmxlbmd0aCYmKHQ9IWwmJmdbMF0uc2VsZWN0ZWQ/W2Eudy5NKGdbMF0pXTpbXSx4PSEwKTtlPWIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO2M9PT1RPyhhLmEuQmIoZSxkLmdldChcIm9wdGlvbnNDYXB0aW9uXCIpKSxhLncuY2IoZSxuKSk6KGc9ZihjLGQuZ2V0KFwib3B0aW9uc1ZhbHVlXCIpLGMpLGEudy5jYihlLGEuYS5mKGcpKSxjPWYoYyxkLmdldChcIm9wdGlvbnNUZXh0XCIpLGcpLFxuYS5hLkJiKGUsYykpO3JldHVybltlXX0sYyxrKTtpZighbCl7dmFyIEI7aD9CPXQubGVuZ3RoJiZlKCkubGVuZ3RoPHQubGVuZ3RoOkI9dC5sZW5ndGgmJjA8PWIuc2VsZWN0ZWRJbmRleD9hLncuTShiLm9wdGlvbnNbYi5zZWxlY3RlZEluZGV4XSkhPT10WzBdOnQubGVuZ3RofHwwPD1iLnNlbGVjdGVkSW5kZXg7QiYmYS51LkcoYS5hLkZiLG51bGwsW2IsXCJjaGFuZ2VcIl0pfShsfHxhLlMuWWEoKSkmJmEuaS5tYShiLGEuaS5IKTthLmEud2QoYik7bSYmMjA8TWF0aC5hYnMobS1iLnNjcm9sbFRvcCkmJihiLnNjcm9sbFRvcD1tKX19O2EuYy5vcHRpb25zLiRiPWEuYS5nLlooKTthLmMuc2VsZWN0ZWRPcHRpb25zPXtpbml0OmZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBlKCl7dmFyIGU9YygpLGY9W107YS5hLkQoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcIm9wdGlvblwiKSxmdW5jdGlvbihiKXtiLnNlbGVjdGVkJiZmLnB1c2goYS53Lk0oYikpfSk7YS5tLmViKGUsZCxcInNlbGVjdGVkT3B0aW9uc1wiLFxuZil9ZnVuY3Rpb24gZigpe3ZhciBkPWEuYS5mKGMoKSksZT1iLnNjcm9sbFRvcDtkJiZcIm51bWJlclwiPT10eXBlb2YgZC5sZW5ndGgmJmEuYS5EKGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJvcHRpb25cIiksZnVuY3Rpb24oYil7dmFyIGM9MDw9YS5hLkEoZCxhLncuTShiKSk7Yi5zZWxlY3RlZCE9YyYmYS5hLlpjKGIsYyl9KTtiLnNjcm9sbFRvcD1lfWlmKFwic2VsZWN0XCIhPWEuYS5SKGIpKXRocm93IEVycm9yKFwic2VsZWN0ZWRPcHRpb25zIGJpbmRpbmcgYXBwbGllcyBvbmx5IHRvIFNFTEVDVCBlbGVtZW50c1wiKTt2YXIgZzthLmkuc3Vic2NyaWJlKGIsYS5pLkgsZnVuY3Rpb24oKXtnP2UoKTooYS5hLkIoYixcImNoYW5nZVwiLGUpLGc9YS5vKGYsbnVsbCx7bDpifSkpfSxudWxsLHtub3RpZnlJbW1lZGlhdGVseTohMH0pfSx1cGRhdGU6ZnVuY3Rpb24oKXt9fTthLm0ud2Euc2VsZWN0ZWRPcHRpb25zPSEwO2EuYy5zdHlsZT17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmYoYygpfHxcbnt9KTthLmEuUChkLGZ1bmN0aW9uKGMsZCl7ZD1hLmEuZihkKTtpZihudWxsPT09ZHx8ZD09PW58fCExPT09ZClkPVwiXCI7aWYodil2KGIpLmNzcyhjLGQpO2Vsc2UgaWYoL14tLS8udGVzdChjKSliLnN0eWxlLnNldFByb3BlcnR5KGMsZCk7ZWxzZXtjPWMucmVwbGFjZSgvLShcXHcpL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfSk7dmFyIGc9Yi5zdHlsZVtjXTtiLnN0eWxlW2NdPWQ7ZD09PWd8fGIuc3R5bGVbY10hPWd8fGlzTmFOKGQpfHwoYi5zdHlsZVtjXT1kK1wicHhcIil9fSl9fTthLmMuc3VibWl0PXtpbml0OmZ1bmN0aW9uKGIsYyxkLGUsZil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYygpKXRocm93IEVycm9yKFwiVGhlIHZhbHVlIGZvciBhIHN1Ym1pdCBiaW5kaW5nIG11c3QgYmUgYSBmdW5jdGlvblwiKTthLmEuQihiLFwic3VibWl0XCIsZnVuY3Rpb24oYSl7dmFyIGQsZT1jKCk7dHJ5e2Q9ZS5jYWxsKGYuJGRhdGEsYil9ZmluYWxseXshMCE9PWQmJihhLnByZXZlbnREZWZhdWx0P1xuYS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEpfX0pfX07YS5jLnRleHQ9e2luaXQ6ZnVuY3Rpb24oKXtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fSx1cGRhdGU6ZnVuY3Rpb24oYixjKXthLmEuQmIoYixjKCkpfX07YS5oLmVhLnRleHQ9ITA7KGZ1bmN0aW9uKCl7aWYoQSYmQS5uYXZpZ2F0b3Ipe3ZhciBiPWZ1bmN0aW9uKGEpe2lmKGEpcmV0dXJuIHBhcnNlRmxvYXQoYVsxXSl9LGM9QS5uYXZpZ2F0b3IudXNlckFnZW50LGQsZSxmLGcsaDsoZD1BLm9wZXJhJiZBLm9wZXJhLnZlcnNpb24mJnBhcnNlSW50KEEub3BlcmEudmVyc2lvbigpKSl8fChoPWIoYy5tYXRjaCgvRWRnZVxcLyhbXiBdKykkLykpKXx8YihjLm1hdGNoKC9DaHJvbWVcXC8oW14gXSspLykpfHwoZT1iKGMubWF0Y2goL1ZlcnNpb25cXC8oW14gXSspIFNhZmFyaS8pKSl8fChmPWIoYy5tYXRjaCgvRmlyZWZveFxcLyhbXiBdKykvKSkpfHwoZz1hLmEuV3x8YihjLm1hdGNoKC9NU0lFIChbXiBdKykvKSkpfHxcbihnPWIoYy5tYXRjaCgvcnY6KFteICldKykvKSkpfWlmKDg8PWcmJjEwPmcpdmFyIG09YS5hLmcuWigpLGs9YS5hLmcuWigpLGw9ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5hY3RpdmVFbGVtZW50OyhjPWMmJmEuYS5nLmdldChjLGspKSYmYyhiKX0scD1mdW5jdGlvbihiLGMpe3ZhciBkPWIub3duZXJEb2N1bWVudDthLmEuZy5nZXQoZCxtKXx8KGEuYS5nLnNldChkLG0sITApLGEuYS5CKGQsXCJzZWxlY3Rpb25jaGFuZ2VcIixsKSk7YS5hLmcuc2V0KGIsayxjKX07YS5jLnRleHRJbnB1dD17aW5pdDpmdW5jdGlvbihiLGMsayl7ZnVuY3Rpb24gbChjLGQpe2EuYS5CKGIsYyxkKX1mdW5jdGlvbiBtKCl7dmFyIGQ9YS5hLmYoYygpKTtpZihudWxsPT09ZHx8ZD09PW4pZD1cIlwiO0whPT1uJiZkPT09TD9hLmEuc2V0VGltZW91dChtLDQpOmIudmFsdWUhPT1kJiYoeT0hMCxiLnZhbHVlPWQseT0hMSx2PWIudmFsdWUpfWZ1bmN0aW9uIHIoKXt3fHwoTD1iLnZhbHVlLHc9YS5hLnNldFRpbWVvdXQoeixcbjQpKX1mdW5jdGlvbiB6KCl7Y2xlYXJUaW1lb3V0KHcpO0w9dz1uO3ZhciBkPWIudmFsdWU7diE9PWQmJih2PWQsYS5tLmViKGMoKSxrLFwidGV4dElucHV0XCIsZCkpfXZhciB2PWIudmFsdWUsdyxMLEE9OT09YS5hLlc/cjp6LHk9ITE7ZyYmbChcImtleXByZXNzXCIseik7MTE+ZyYmbChcInByb3BlcnR5Y2hhbmdlXCIsZnVuY3Rpb24oYSl7eXx8XCJ2YWx1ZVwiIT09YS5wcm9wZXJ0eU5hbWV8fEEoYSl9KTs4PT1nJiYobChcImtleXVwXCIseiksbChcImtleWRvd25cIix6KSk7cCYmKHAoYixBKSxsKFwiZHJhZ2VuZFwiLHIpKTsoIWd8fDk8PWcpJiZsKFwiaW5wdXRcIixBKTs1PmUmJlwidGV4dGFyZWFcIj09PWEuYS5SKGIpPyhsKFwia2V5ZG93blwiLHIpLGwoXCJwYXN0ZVwiLHIpLGwoXCJjdXRcIixyKSk6MTE+ZD9sKFwia2V5ZG93blwiLHIpOjQ+Zj8obChcIkRPTUF1dG9Db21wbGV0ZVwiLHopLGwoXCJkcmFnZHJvcFwiLHopLGwoXCJkcm9wXCIseikpOmgmJlwibnVtYmVyXCI9PT1iLnR5cGUmJmwoXCJrZXlkb3duXCIscik7bChcImNoYW5nZVwiLFxueik7bChcImJsdXJcIix6KTthLm8obSxudWxsLHtsOmJ9KX19O2EubS53YS50ZXh0SW5wdXQ9ITA7YS5jLnRleHRpbnB1dD17cHJlcHJvY2VzczpmdW5jdGlvbihhLGIsYyl7YyhcInRleHRJbnB1dFwiLGEpfX19KSgpO2EuYy51bmlxdWVOYW1lPXtpbml0OmZ1bmN0aW9uKGIsYyl7aWYoYygpKXt2YXIgZD1cImtvX3VuaXF1ZV9cIisgKythLmMudW5pcXVlTmFtZS5yZDthLmEuWWMoYixkKX19fTthLmMudW5pcXVlTmFtZS5yZD0wO2EuYy51c2luZz17aW5pdDpmdW5jdGlvbihiLGMsZCxlLGYpe3ZhciBnO2QuaGFzKFwiYXNcIikmJihnPXthczpkLmdldChcImFzXCIpLG5vQ2hpbGRDb250ZXh0OmQuZ2V0KFwibm9DaGlsZENvbnRleHRcIil9KTtjPWYuY3JlYXRlQ2hpbGRDb250ZXh0KGMsZyk7YS5PYShjLGIpO3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19fTthLmguZWEudXNpbmc9ITA7YS5jLnZhbHVlPXtpbml0OmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmEuUihiKSxmPVwiaW5wdXRcIj09XG5lO2lmKCFmfHxcImNoZWNrYm94XCIhPWIudHlwZSYmXCJyYWRpb1wiIT1iLnR5cGUpe3ZhciBnPVtdLGg9ZC5nZXQoXCJ2YWx1ZVVwZGF0ZVwiKSxtPSExLGs9bnVsbDtoJiYoXCJzdHJpbmdcIj09dHlwZW9mIGg/Zz1baF06Zz1hLmEud2MoaCksYS5hLlBhKGcsXCJjaGFuZ2VcIikpO3ZhciBsPWZ1bmN0aW9uKCl7az1udWxsO209ITE7dmFyIGU9YygpLGY9YS53Lk0oYik7YS5tLmViKGUsZCxcInZhbHVlXCIsZil9OyFhLmEuV3x8IWZ8fFwidGV4dFwiIT1iLnR5cGV8fFwib2ZmXCI9PWIuYXV0b2NvbXBsZXRlfHxiLmZvcm0mJlwib2ZmXCI9PWIuZm9ybS5hdXRvY29tcGxldGV8fC0xIT1hLmEuQShnLFwicHJvcGVydHljaGFuZ2VcIil8fChhLmEuQihiLFwicHJvcGVydHljaGFuZ2VcIixmdW5jdGlvbigpe209ITB9KSxhLmEuQihiLFwiZm9jdXNcIixmdW5jdGlvbigpe209ITF9KSxhLmEuQihiLFwiYmx1clwiLGZ1bmN0aW9uKCl7bSYmbCgpfSkpO2EuYS5EKGcsZnVuY3Rpb24oYyl7dmFyIGQ9bDthLmEuVWQoYyxcImFmdGVyXCIpJiZcbihkPWZ1bmN0aW9uKCl7az1hLncuTShiKTthLmEuc2V0VGltZW91dChsLDApfSxjPWMuc3Vic3RyaW5nKDUpKTthLmEuQihiLGMsZCl9KTt2YXIgcDtwPWYmJlwiZmlsZVwiPT1iLnR5cGU/ZnVuY3Rpb24oKXt2YXIgZD1hLmEuZihjKCkpO251bGw9PT1kfHxkPT09bnx8XCJcIj09PWQ/Yi52YWx1ZT1cIlwiOmEudS5HKGwpfTpmdW5jdGlvbigpe3ZhciBmPWEuYS5mKGMoKSksZz1hLncuTShiKTtpZihudWxsIT09ayYmZj09PWspYS5hLnNldFRpbWVvdXQocCwwKTtlbHNlIGlmKGYhPT1nfHxnPT09bilcInNlbGVjdFwiPT09ZT8oZz1kLmdldChcInZhbHVlQWxsb3dVbnNldFwiKSxhLncuY2IoYixmLGcpLGd8fGY9PT1hLncuTShiKXx8YS51LkcobCkpOmEudy5jYihiLGYpfTtpZihcInNlbGVjdFwiPT09ZSl7dmFyIHE7YS5pLnN1YnNjcmliZShiLGEuaS5ILGZ1bmN0aW9uKCl7cT9kLmdldChcInZhbHVlQWxsb3dVbnNldFwiKT9wKCk6bCgpOihhLmEuQihiLFwiY2hhbmdlXCIsbCkscT1hLm8ocCxudWxsLHtsOmJ9KSl9LFxubnVsbCx7bm90aWZ5SW1tZWRpYXRlbHk6ITB9KX1lbHNlIGEuYS5CKGIsXCJjaGFuZ2VcIixsKSxhLm8ocCxudWxsLHtsOmJ9KX1lbHNlIGEuaWIoYix7Y2hlY2tlZFZhbHVlOmN9KX0sdXBkYXRlOmZ1bmN0aW9uKCl7fX07YS5tLndhLnZhbHVlPSEwO2EuYy52aXNpYmxlPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuZihjKCkpLGU9XCJub25lXCIhPWIuc3R5bGUuZGlzcGxheTtkJiYhZT9iLnN0eWxlLmRpc3BsYXk9XCJcIjohZCYmZSYmKGIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIil9fTthLmMuaGlkZGVuPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXthLmMudmlzaWJsZS51cGRhdGUoYixmdW5jdGlvbigpe3JldHVybiFhLmEuZihjKCkpfSl9fTsoZnVuY3Rpb24oYil7YS5jW2JdPXtpbml0OmZ1bmN0aW9uKGMsZCxlLGYsZyl7cmV0dXJuIGEuYy5ldmVudC5pbml0LmNhbGwodGhpcyxjLGZ1bmN0aW9uKCl7dmFyIGE9e307YVtiXT1kKCk7cmV0dXJuIGF9LGUsZixnKX19fSkoXCJjbGlja1wiKTtcbmEuY2E9ZnVuY3Rpb24oKXt9O2EuY2EucHJvdG90eXBlLnJlbmRlclRlbXBsYXRlU291cmNlPWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXCJPdmVycmlkZSByZW5kZXJUZW1wbGF0ZVNvdXJjZVwiKTt9O2EuY2EucHJvdG90eXBlLmNyZWF0ZUphdmFTY3JpcHRFdmFsdWF0b3JCbG9jaz1mdW5jdGlvbigpe3Rocm93IEVycm9yKFwiT3ZlcnJpZGUgY3JlYXRlSmF2YVNjcmlwdEV2YWx1YXRvckJsb2NrXCIpO307YS5jYS5wcm90b3R5cGUubWFrZVRlbXBsYXRlU291cmNlPWZ1bmN0aW9uKGIsYyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpe2M9Y3x8dzt2YXIgZD1jLmdldEVsZW1lbnRCeUlkKGIpO2lmKCFkKXRocm93IEVycm9yKFwiQ2Fubm90IGZpbmQgdGVtcGxhdGUgd2l0aCBJRCBcIitiKTtyZXR1cm4gbmV3IGEuQy5GKGQpfWlmKDE9PWIubm9kZVR5cGV8fDg9PWIubm9kZVR5cGUpcmV0dXJuIG5ldyBhLkMuaWEoYik7dGhyb3cgRXJyb3IoXCJVbmtub3duIHRlbXBsYXRlIHR5cGU6IFwiK2IpO307YS5jYS5wcm90b3R5cGUucmVuZGVyVGVtcGxhdGU9XG5mdW5jdGlvbihhLGMsZCxlKXthPXRoaXMubWFrZVRlbXBsYXRlU291cmNlKGEsZSk7cmV0dXJuIHRoaXMucmVuZGVyVGVtcGxhdGVTb3VyY2UoYSxjLGQsZSl9O2EuY2EucHJvdG90eXBlLmlzVGVtcGxhdGVSZXdyaXR0ZW49ZnVuY3Rpb24oYSxjKXtyZXR1cm4hMT09PXRoaXMuYWxsb3dUZW1wbGF0ZVJld3JpdGluZz8hMDp0aGlzLm1ha2VUZW1wbGF0ZVNvdXJjZShhLGMpLmRhdGEoXCJpc1Jld3JpdHRlblwiKX07YS5jYS5wcm90b3R5cGUucmV3cml0ZVRlbXBsYXRlPWZ1bmN0aW9uKGEsYyxkKXthPXRoaXMubWFrZVRlbXBsYXRlU291cmNlKGEsZCk7Yz1jKGEudGV4dCgpKTthLnRleHQoYyk7YS5kYXRhKFwiaXNSZXdyaXR0ZW5cIiwhMCl9O2EuYihcInRlbXBsYXRlRW5naW5lXCIsYS5jYSk7YS5rYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjLGQsaCl7Yj1hLm0uYWMoYik7Zm9yKHZhciBtPWEubS5SYSxrPTA7azxiLmxlbmd0aDtrKyspe3ZhciBsPWJba10ua2V5O2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtLFxubCkpe3ZhciBwPW1bbF07aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIHApe2lmKGw9cChiW2tdLnZhbHVlKSl0aHJvdyBFcnJvcihsKTt9ZWxzZSBpZighcCl0aHJvdyBFcnJvcihcIlRoaXMgdGVtcGxhdGUgZW5naW5lIGRvZXMgbm90IHN1cHBvcnQgdGhlICdcIitsK1wiJyBiaW5kaW5nIHdpdGhpbiBpdHMgdGVtcGxhdGVzXCIpO319ZD1cImtvLl9fdHJfYW1idG5zKGZ1bmN0aW9uKCRjb250ZXh0LCRlbGVtZW50KXtyZXR1cm4oZnVuY3Rpb24oKXtyZXR1cm57IFwiK2EubS52YihiLHt2YWx1ZUFjY2Vzc29yczohMH0pK1wiIH0gfSkoKX0sJ1wiK2QudG9Mb3dlckNhc2UoKStcIicpXCI7cmV0dXJuIGguY3JlYXRlSmF2YVNjcmlwdEV2YWx1YXRvckJsb2NrKGQpK2N9dmFyIGM9Lyg8KFthLXpdK1xcZCopKD86XFxzKyg/IWRhdGEtYmluZFxccyo9XFxzKilbYS16MC05XFwtXSsoPzo9KD86XFxcIlteXFxcIl0qXFxcInxcXCdbXlxcJ10qXFwnfFtePl0qKSk/KSpcXHMrKWRhdGEtYmluZFxccyo9XFxzKihbXCInXSkoW1xcc1xcU10qPylcXDMvZ2ksXG5kPS9cXHgzYyEtLVxccyprb1xcYlxccyooW1xcc1xcU10qPylcXHMqLS1cXHgzZS9nO3JldHVybnt4ZDpmdW5jdGlvbihiLGMsZCl7Yy5pc1RlbXBsYXRlUmV3cml0dGVuKGIsZCl8fGMucmV3cml0ZVRlbXBsYXRlKGIsZnVuY3Rpb24oYil7cmV0dXJuIGEua2MuTGQoYixjKX0sZCl9LExkOmZ1bmN0aW9uKGEsZil7cmV0dXJuIGEucmVwbGFjZShjLGZ1bmN0aW9uKGEsYyxkLGUsbCl7cmV0dXJuIGIobCxjLGQsZil9KS5yZXBsYWNlKGQsZnVuY3Rpb24oYSxjKXtyZXR1cm4gYihjLFwiXFx4M2MhLS0ga28gLS1cXHgzZVwiLFwiI2NvbW1lbnRcIixmKX0pfSxtZDpmdW5jdGlvbihiLGMpe3JldHVybiBhLmFhLlhiKGZ1bmN0aW9uKGQsaCl7dmFyIG09ZC5uZXh0U2libGluZzttJiZtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1jJiZhLmliKG0sYixoKX0pfX19KCk7YS5iKFwiX190cl9hbWJ0bnNcIixhLmtjLm1kKTsoZnVuY3Rpb24oKXthLkM9e307YS5DLkY9ZnVuY3Rpb24oYil7aWYodGhpcy5GPWIpe3ZhciBjPVxuYS5hLlIoYik7dGhpcy5hYj1cInNjcmlwdFwiPT09Yz8xOlwidGV4dGFyZWFcIj09PWM/MjpcInRlbXBsYXRlXCI9PWMmJmIuY29udGVudCYmMTE9PT1iLmNvbnRlbnQubm9kZVR5cGU/Mzo0fX07YS5DLkYucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oKXt2YXIgYj0xPT09dGhpcy5hYj9cInRleHRcIjoyPT09dGhpcy5hYj9cInZhbHVlXCI6XCJpbm5lckhUTUxcIjtpZigwPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLkZbYl07dmFyIGM9YXJndW1lbnRzWzBdO1wiaW5uZXJIVE1MXCI9PT1iP2EuYS5mYyh0aGlzLkYsYyk6dGhpcy5GW2JdPWN9O3ZhciBiPWEuYS5nLlooKStcIl9cIjthLkMuRi5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbihjKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gYS5hLmcuZ2V0KHRoaXMuRixiK2MpO2EuYS5nLnNldCh0aGlzLkYsYitjLGFyZ3VtZW50c1sxXSl9O3ZhciBjPWEuYS5nLlooKTthLkMuRi5wcm90b3R5cGUubm9kZXM9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLkY7XG5pZigwPT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hLmEuZy5nZXQoYixjKXx8e30sZj1lLmxifHwoMz09PXRoaXMuYWI/Yi5jb250ZW50OjQ9PT10aGlzLmFiP2I6bik7aWYoIWZ8fGUuamQpe3ZhciBnPXRoaXMudGV4dCgpO2cmJmchPT1lLmJiJiYoZj1hLmEuTWQoZyxiLm93bmVyRG9jdW1lbnQpLGEuYS5nLnNldChiLGMse2xiOmYsYmI6ZyxqZDohMH0pKX1yZXR1cm4gZn1lPWFyZ3VtZW50c1swXTt0aGlzLmFiIT09biYmdGhpcy50ZXh0KFwiXCIpO2EuYS5nLnNldChiLGMse2xiOmV9KX07YS5DLmlhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hfTthLkMuaWEucHJvdG90eXBlPW5ldyBhLkMuRjthLkMuaWEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWEuQy5pYTthLkMuaWEucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oKXtpZigwPT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgYj1hLmEuZy5nZXQodGhpcy5GLGMpfHx7fTtiLmJiPT09biYmYi5sYiYmKGIuYmI9Yi5sYi5pbm5lckhUTUwpO3JldHVybiBiLmJifWEuYS5nLnNldCh0aGlzLkYsXG5jLHtiYjphcmd1bWVudHNbMF19KX07YS5iKFwidGVtcGxhdGVTb3VyY2VzXCIsYS5DKTthLmIoXCJ0ZW1wbGF0ZVNvdXJjZXMuZG9tRWxlbWVudFwiLGEuQy5GKTthLmIoXCJ0ZW1wbGF0ZVNvdXJjZXMuYW5vbnltb3VzVGVtcGxhdGVcIixhLkMuaWEpfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsYyxkKXt2YXIgZTtmb3IoYz1hLmgubmV4dFNpYmxpbmcoYyk7YiYmKGU9YikhPT1jOyliPWEuaC5uZXh0U2libGluZyhlKSxkKGUsYil9ZnVuY3Rpb24gYyhjLGQpe2lmKGMubGVuZ3RoKXt2YXIgZT1jWzBdLGY9Y1tjLmxlbmd0aC0xXSxnPWUucGFyZW50Tm9kZSxoPWEuZ2EuaW5zdGFuY2UsbT1oLnByZXByb2Nlc3NOb2RlO2lmKG0pe2IoZSxmLGZ1bmN0aW9uKGEsYil7dmFyIGM9YS5wcmV2aW91c1NpYmxpbmcsZD1tLmNhbGwoaCxhKTtkJiYoYT09PWUmJihlPWRbMF18fGIpLGE9PT1mJiYoZj1kW2QubGVuZ3RoLTFdfHxjKSl9KTtjLmxlbmd0aD0wO2lmKCFlKXJldHVybjtlPT09Zj9jLnB1c2goZSk6XG4oYy5wdXNoKGUsZiksYS5hLlVhKGMsZykpfWIoZSxmLGZ1bmN0aW9uKGIpezEhPT1iLm5vZGVUeXBlJiY4IT09Yi5ub2RlVHlwZXx8YS52YyhkLGIpfSk7YihlLGYsZnVuY3Rpb24oYil7MSE9PWIubm9kZVR5cGUmJjghPT1iLm5vZGVUeXBlfHxhLmFhLmNkKGIsW2RdKX0pO2EuYS5VYShjLGcpfX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLm5vZGVUeXBlP2E6MDxhLmxlbmd0aD9hWzBdOm51bGx9ZnVuY3Rpb24gZShiLGUsZixoLG0pe209bXx8e307dmFyIG49KGImJmQoYil8fGZ8fHt9KS5vd25lckRvY3VtZW50LEI9bS50ZW1wbGF0ZUVuZ2luZXx8ZzthLmtjLnhkKGYsQixuKTtmPUIucmVuZGVyVGVtcGxhdGUoZixoLG0sbik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGYubGVuZ3RofHwwPGYubGVuZ3RoJiZcIm51bWJlclwiIT10eXBlb2YgZlswXS5ub2RlVHlwZSl0aHJvdyBFcnJvcihcIlRlbXBsYXRlIGVuZ2luZSBtdXN0IHJldHVybiBhbiBhcnJheSBvZiBET00gbm9kZXNcIik7bj0hMTtzd2l0Y2goZSl7Y2FzZSBcInJlcGxhY2VDaGlsZHJlblwiOmEuaC52YShiLFxuZik7bj0hMDticmVhaztjYXNlIFwicmVwbGFjZU5vZGVcIjphLmEuWGMoYixmKTtuPSEwO2JyZWFrO2Nhc2UgXCJpZ25vcmVUYXJnZXROb2RlXCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gcmVuZGVyTW9kZTogXCIrZSk7fW4mJihjKGYsaCksbS5hZnRlclJlbmRlciYmYS51LkcobS5hZnRlclJlbmRlcixudWxsLFtmLGhbbS5hc3x8XCIkZGF0YVwiXV0pLFwicmVwbGFjZUNoaWxkcmVuXCI9PWUmJmEuaS5tYShiLGEuaS5IKSk7cmV0dXJuIGZ9ZnVuY3Rpb24gZihiLGMsZCl7cmV0dXJuIGEuTyhiKT9iKCk6XCJmdW5jdGlvblwiPT09dHlwZW9mIGI/YihjLGQpOmJ9dmFyIGc7YS5nYz1mdW5jdGlvbihiKXtpZihiIT1uJiYhKGIgaW5zdGFuY2VvZiBhLmNhKSl0aHJvdyBFcnJvcihcInRlbXBsYXRlRW5naW5lIG11c3QgaW5oZXJpdCBmcm9tIGtvLnRlbXBsYXRlRW5naW5lXCIpO2c9Yn07YS5kYz1mdW5jdGlvbihiLGMsaCxtLHQpe2g9aHx8e307aWYoKGgudGVtcGxhdGVFbmdpbmV8fGcpPT1cbm4pdGhyb3cgRXJyb3IoXCJTZXQgYSB0ZW1wbGF0ZSBlbmdpbmUgYmVmb3JlIGNhbGxpbmcgcmVuZGVyVGVtcGxhdGVcIik7dD10fHxcInJlcGxhY2VDaGlsZHJlblwiO2lmKG0pe3ZhciB4PWQobSk7cmV0dXJuIGEuJChmdW5jdGlvbigpe3ZhciBnPWMmJmMgaW5zdGFuY2VvZiBhLmZhP2M6bmV3IGEuZmEoYyxudWxsLG51bGwsbnVsbCx7ZXhwb3J0RGVwZW5kZW5jaWVzOiEwfSksbj1mKGIsZy4kZGF0YSxnKSxnPWUobSx0LG4sZyxoKTtcInJlcGxhY2VOb2RlXCI9PXQmJihtPWcseD1kKG0pKX0sbnVsbCx7U2E6ZnVuY3Rpb24oKXtyZXR1cm4heHx8IWEuYS5TYih4KX0sbDp4JiZcInJlcGxhY2VOb2RlXCI9PXQ/eC5wYXJlbnROb2RlOnh9KX1yZXR1cm4gYS5hYS5YYihmdW5jdGlvbihkKXthLmRjKGIsYyxoLGQsXCJyZXBsYWNlTm9kZVwiKX0pfTthLlFkPWZ1bmN0aW9uKGIsZCxnLGgsbSl7ZnVuY3Rpb24geChiLGMpe2EudS5HKGEuYS5lYyxudWxsLFtoLGIsdSxnLHIsY10pO2EuaS5tYShoLGEuaS5IKX1cbmZ1bmN0aW9uIHIoYSxiKXtjKGIsdik7Zy5hZnRlclJlbmRlciYmZy5hZnRlclJlbmRlcihiLGEpO3Y9bnVsbH1mdW5jdGlvbiB1KGEsYyl7dj1tLmNyZWF0ZUNoaWxkQ29udGV4dChhLHthczp6LG5vQ2hpbGRDb250ZXh0Omcubm9DaGlsZENvbnRleHQsZXh0ZW5kOmZ1bmN0aW9uKGEpe2EuJGluZGV4PWM7eiYmKGFbeitcIkluZGV4XCJdPWMpfX0pO3ZhciBkPWYoYixhLHYpO3JldHVybiBlKGgsXCJpZ25vcmVUYXJnZXROb2RlXCIsZCx2LGcpfXZhciB2LHo9Zy5hcyx3PSExPT09Zy5pbmNsdWRlRGVzdHJveWVkfHxhLm9wdGlvbnMuZm9yZWFjaEhpZGVzRGVzdHJveWVkJiYhZy5pbmNsdWRlRGVzdHJveWVkO2lmKHd8fGcuYmVmb3JlUmVtb3ZlfHwhYS5QYyhkKSlyZXR1cm4gYS4kKGZ1bmN0aW9uKCl7dmFyIGI9YS5hLmYoZCl8fFtdO1widW5kZWZpbmVkXCI9PXR5cGVvZiBiLmxlbmd0aCYmKGI9W2JdKTt3JiYoYj1hLmEuamIoYixmdW5jdGlvbihiKXtyZXR1cm4gYj09PW58fG51bGw9PT1ifHxcbiFhLmEuZihiLl9kZXN0cm95KX0pKTt4KGIpfSxudWxsLHtsOmh9KTt4KGQudigpKTt2YXIgQT1kLnN1YnNjcmliZShmdW5jdGlvbihhKXt4KGQoKSxhKX0sbnVsbCxcImFycmF5Q2hhbmdlXCIpO0EubChoKTtyZXR1cm4gQX07dmFyIGg9YS5hLmcuWigpLG09YS5hLmcuWigpO2EuYy50ZW1wbGF0ZT17aW5pdDpmdW5jdGlvbihiLGMpe3ZhciBkPWEuYS5mKGMoKSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGR8fFwibmFtZVwiaW4gZClhLmguRWEoYik7ZWxzZSBpZihcIm5vZGVzXCJpbiBkKXtkPWQubm9kZXN8fFtdO2lmKGEuTyhkKSl0aHJvdyBFcnJvcignVGhlIFwibm9kZXNcIiBvcHRpb24gbXVzdCBiZSBhIHBsYWluLCBub24tb2JzZXJ2YWJsZSBhcnJheS4nKTt2YXIgZT1kWzBdJiZkWzBdLnBhcmVudE5vZGU7ZSYmYS5hLmcuZ2V0KGUsbSl8fChlPWEuYS5ZYihkKSxhLmEuZy5zZXQoZSxtLCEwKSk7KG5ldyBhLkMuaWEoYikpLm5vZGVzKGUpfWVsc2UgaWYoZD1hLmguY2hpbGROb2RlcyhiKSwwPGQubGVuZ3RoKWU9XG5hLmEuWWIoZCksKG5ldyBhLkMuaWEoYikpLm5vZGVzKGUpO2Vsc2UgdGhyb3cgRXJyb3IoXCJBbm9ueW1vdXMgdGVtcGxhdGUgZGVmaW5lZCwgYnV0IG5vIHRlbXBsYXRlIGNvbnRlbnQgd2FzIHByb3ZpZGVkXCIpO3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19LHVwZGF0ZTpmdW5jdGlvbihiLGMsZCxlLGYpe3ZhciBnPWMoKTtjPWEuYS5mKGcpO2Q9ITA7ZT1udWxsO1wic3RyaW5nXCI9PXR5cGVvZiBjP2M9e306KGc9XCJuYW1lXCJpbiBjP2MubmFtZTpiLFwiaWZcImluIGMmJihkPWEuYS5mKGNbXCJpZlwiXSkpLGQmJlwiaWZub3RcImluIGMmJihkPSFhLmEuZihjLmlmbm90KSksZCYmIWcmJihkPSExKSk7XCJmb3JlYWNoXCJpbiBjP2U9YS5RZChnLGQmJmMuZm9yZWFjaHx8W10sYyxiLGYpOmQ/KGQ9ZixcImRhdGFcImluIGMmJihkPWYuY3JlYXRlQ2hpbGRDb250ZXh0KGMuZGF0YSx7YXM6Yy5hcyxub0NoaWxkQ29udGV4dDpjLm5vQ2hpbGRDb250ZXh0LGV4cG9ydERlcGVuZGVuY2llczohMH0pKSxcbmU9YS5kYyhnLGQsYyxiKSk6YS5oLkVhKGIpO2Y9ZTsoYz1hLmEuZy5nZXQoYixoKSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGMucyYmYy5zKCk7YS5hLmcuc2V0KGIsaCwhZnx8Zi5qYSYmIWYuamEoKT9uOmYpfX07YS5tLlJhLnRlbXBsYXRlPWZ1bmN0aW9uKGIpe2I9YS5tLmFjKGIpO3JldHVybiAxPT1iLmxlbmd0aCYmYlswXS51bmtub3dufHxhLm0uSWQoYixcIm5hbWVcIik/bnVsbDpcIlRoaXMgdGVtcGxhdGUgZW5naW5lIGRvZXMgbm90IHN1cHBvcnQgYW5vbnltb3VzIHRlbXBsYXRlcyBuZXN0ZWQgd2l0aGluIGl0cyB0ZW1wbGF0ZXNcIn07YS5oLmVhLnRlbXBsYXRlPSEwfSkoKTthLmIoXCJzZXRUZW1wbGF0ZUVuZ2luZVwiLGEuZ2MpO2EuYihcInJlbmRlclRlbXBsYXRlXCIsYS5kYyk7YS5hLktjPWZ1bmN0aW9uKGEsYyxkKXtpZihhLmxlbmd0aCYmYy5sZW5ndGgpe3ZhciBlLGYsZyxoLG07Zm9yKGU9Zj0wOyghZHx8ZTxkKSYmKGg9YVtmXSk7KytmKXtmb3IoZz0wO209Y1tnXTsrK2cpaWYoaC52YWx1ZT09PVxubS52YWx1ZSl7aC5tb3ZlZD1tLmluZGV4O20ubW92ZWQ9aC5pbmRleDtjLnNwbGljZShnLDEpO2U9Zz0wO2JyZWFrfWUrPWd9fX07YS5hLlBiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiLGQsZSxmLGcpe3ZhciBoPU1hdGgubWluLG09TWF0aC5tYXgsaz1bXSxsLHA9Yi5sZW5ndGgscSxuPWQubGVuZ3RoLHI9bi1wfHwxLHY9cCtuKzEsdSx3LHo7Zm9yKGw9MDtsPD1wO2wrKylmb3Iodz11LGsucHVzaCh1PVtdKSx6PWgobixsK3IpLHE9bSgwLGwtMSk7cTw9ejtxKyspdVtxXT1xP2w/YltsLTFdPT09ZFtxLTFdP3dbcS0xXTpoKHdbcV18fHYsdVtxLTFdfHx2KSsxOnErMTpsKzE7aD1bXTttPVtdO3I9W107bD1wO2ZvcihxPW47bHx8cTspbj1rW2xdW3FdLTEscSYmbj09PWtbbF1bcS0xXT9tLnB1c2goaFtoLmxlbmd0aF09e3N0YXR1czplLHZhbHVlOmRbLS1xXSxpbmRleDpxfSk6bCYmbj09PWtbbC0xXVtxXT9yLnB1c2goaFtoLmxlbmd0aF09e3N0YXR1czpmLHZhbHVlOmJbLS1sXSxpbmRleDpsfSk6XG4oLS1xLC0tbCxnLnNwYXJzZXx8aC5wdXNoKHtzdGF0dXM6XCJyZXRhaW5lZFwiLHZhbHVlOmRbcV19KSk7YS5hLktjKHIsbSwhZy5kb250TGltaXRNb3ZlcyYmMTAqcCk7cmV0dXJuIGgucmV2ZXJzZSgpfXJldHVybiBmdW5jdGlvbihhLGQsZSl7ZT1cImJvb2xlYW5cIj09PXR5cGVvZiBlP3tkb250TGltaXRNb3ZlczplfTplfHx7fTthPWF8fFtdO2Q9ZHx8W107cmV0dXJuIGEubGVuZ3RoPGQubGVuZ3RoP2IoYSxkLFwiYWRkZWRcIixcImRlbGV0ZWRcIixlKTpiKGQsYSxcImRlbGV0ZWRcIixcImFkZGVkXCIsZSl9fSgpO2EuYihcInV0aWxzLmNvbXBhcmVBcnJheXNcIixhLmEuUGIpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjLGQsaCxtKXt2YXIgaz1bXSxsPWEuJChmdW5jdGlvbigpe3ZhciBsPWMoZCxtLGEuYS5VYShrLGIpKXx8W107MDxrLmxlbmd0aCYmKGEuYS5YYyhrLGwpLGgmJmEudS5HKGgsbnVsbCxbZCxsLG1dKSk7ay5sZW5ndGg9MDthLmEuTmIoayxsKX0sbnVsbCx7bDpiLFNhOmZ1bmN0aW9uKCl7cmV0dXJuIWEuYS5rZChrKX19KTtcbnJldHVybntZOmssJDpsLmphKCk/bDpufX12YXIgYz1hLmEuZy5aKCksZD1hLmEuZy5aKCk7YS5hLmVjPWZ1bmN0aW9uKGUsZixnLGgsbSxrKXtmdW5jdGlvbiBsKGIpe3k9e0FhOmIscGI6YS50YSh3KyspfTt2LnB1c2goeSk7cnx8Ri5wdXNoKHkpfWZ1bmN0aW9uIHAoYil7eT10W2JdO3chPT15LnBiLnYoKSYmRC5wdXNoKHkpO3kucGIodysrKTthLmEuVWEoeS5ZLGUpO3YucHVzaCh5KX1mdW5jdGlvbiBxKGIsYyl7aWYoYilmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYS5hLkQoY1tkXS5ZLGZ1bmN0aW9uKGEpe2IoYSxkLGNbZF0uQWEpfSl9Zj1mfHxbXTtcInVuZGVmaW5lZFwiPT10eXBlb2YgZi5sZW5ndGgmJihmPVtmXSk7aD1ofHx7fTt2YXIgdD1hLmEuZy5nZXQoZSxjKSxyPSF0LHY9W10sdT0wLHc9MCx6PVtdLEE9W10sQz1bXSxEPVtdLEY9W10seSxJPTA7aWYocilhLmEuRChmLGwpO2Vsc2V7aWYoIWt8fHQmJnQuX2NvdW50V2FpdGluZ0ZvclJlbW92ZSl7dmFyIEU9XG5hLmEuTWIodCxmdW5jdGlvbihhKXtyZXR1cm4gYS5BYX0pO2s9YS5hLlBiKEUsZix7ZG9udExpbWl0TW92ZXM6aC5kb250TGltaXRNb3ZlcyxzcGFyc2U6ITB9KX1mb3IodmFyIEU9MCxHLEgsSztHPWtbRV07RSsrKXN3aXRjaChIPUcubW92ZWQsSz1HLmluZGV4LEcuc3RhdHVzKXtjYXNlIFwiZGVsZXRlZFwiOmZvcig7dTxLOylwKHUrKyk7SD09PW4mJih5PXRbdV0seS4kJiYoeS4kLnMoKSx5LiQ9biksYS5hLlVhKHkuWSxlKS5sZW5ndGgmJihoLmJlZm9yZVJlbW92ZSYmKHYucHVzaCh5KSxJKysseS5BYT09PWQ/eT1udWxsOkMucHVzaCh5KSkseSYmei5wdXNoLmFwcGx5KHoseS5ZKSkpO3UrKzticmVhaztjYXNlIFwiYWRkZWRcIjpmb3IoO3c8SzspcCh1KyspO0ghPT1uPyhBLnB1c2godi5sZW5ndGgpLHAoSCkpOmwoRy52YWx1ZSl9Zm9yKDt3PGYubGVuZ3RoOylwKHUrKyk7di5fY291bnRXYWl0aW5nRm9yUmVtb3ZlPUl9YS5hLmcuc2V0KGUsYyx2KTtxKGguYmVmb3JlTW92ZSxEKTthLmEuRCh6LFxuaC5iZWZvcmVSZW1vdmU/YS5vYTphLnJlbW92ZU5vZGUpO3ZhciBNLE8sUDt0cnl7UD1lLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudH1jYXRjaChOKXt9aWYoQS5sZW5ndGgpZm9yKDsoRT1BLnNoaWZ0KCkpIT1uOyl7eT12W0VdO2ZvcihNPW47RTspaWYoKE89dlstLUVdLlkpJiZPLmxlbmd0aCl7TT1PW08ubGVuZ3RoLTFdO2JyZWFrfWZvcihmPTA7dT15LllbZl07TT11LGYrKylhLmguV2IoZSx1LE0pfWZvcihFPTA7eT12W0VdO0UrKyl7eS5ZfHxhLmEuZXh0ZW5kKHksYihlLGcseS5BYSxtLHkucGIpKTtmb3IoZj0wO3U9eS5ZW2ZdO009dSxmKyspYS5oLldiKGUsdSxNKTsheS5FZCYmbSYmKG0oeS5BYSx5LlkseS5wYikseS5FZD0hMCxNPXkuWVt5LlkubGVuZ3RoLTFdKX1QJiZlLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9UCYmUC5mb2N1cygpO3EoaC5iZWZvcmVSZW1vdmUsQyk7Zm9yKEU9MDtFPEMubGVuZ3RoOysrRSlDW0VdLkFhPWQ7cShoLmFmdGVyTW92ZSxEKTtcbnEoaC5hZnRlckFkZCxGKX19KSgpO2EuYihcInV0aWxzLnNldERvbU5vZGVDaGlsZHJlbkZyb21BcnJheU1hcHBpbmdcIixhLmEuZWMpO2EuYmE9ZnVuY3Rpb24oKXt0aGlzLmFsbG93VGVtcGxhdGVSZXdyaXRpbmc9ITF9O2EuYmEucHJvdG90eXBlPW5ldyBhLmNhO2EuYmEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWEuYmE7YS5iYS5wcm90b3R5cGUucmVuZGVyVGVtcGxhdGVTb3VyY2U9ZnVuY3Rpb24oYixjLGQsZSl7aWYoYz0oOT5hLmEuVz8wOmIubm9kZXMpP2Iubm9kZXMoKTpudWxsKXJldHVybiBhLmEubGEoYy5jbG9uZU5vZGUoITApLmNoaWxkTm9kZXMpO2I9Yi50ZXh0KCk7cmV0dXJuIGEuYS51YShiLGUpfTthLmJhLk1hPW5ldyBhLmJhO2EuZ2MoYS5iYS5NYSk7YS5iKFwibmF0aXZlVGVtcGxhdGVFbmdpbmVcIixhLmJhKTsoZnVuY3Rpb24oKXthLiRhPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5IZD1mdW5jdGlvbigpe2lmKCF2fHwhdi50bXBsKXJldHVybiAwO3RyeXtpZigwPD12LnRtcGwudGFnLnRtcGwub3Blbi50b1N0cmluZygpLmluZGV4T2YoXCJfX1wiKSlyZXR1cm4gMn1jYXRjaChhKXt9cmV0dXJuIDF9KCk7XG50aGlzLnJlbmRlclRlbXBsYXRlU291cmNlPWZ1bmN0aW9uKGIsZSxmLGcpe2c9Z3x8dztmPWZ8fHt9O2lmKDI+YSl0aHJvdyBFcnJvcihcIllvdXIgdmVyc2lvbiBvZiBqUXVlcnkudG1wbCBpcyB0b28gb2xkLiBQbGVhc2UgdXBncmFkZSB0byBqUXVlcnkudG1wbCAxLjAuMHByZSBvciBsYXRlci5cIik7dmFyIGg9Yi5kYXRhKFwicHJlY29tcGlsZWRcIik7aHx8KGg9Yi50ZXh0KCl8fFwiXCIsaD12LnRlbXBsYXRlKG51bGwsXCJ7e2tvX3dpdGggJGl0ZW0ua29CaW5kaW5nQ29udGV4dH19XCIraCtcInt7L2tvX3dpdGh9fVwiKSxiLmRhdGEoXCJwcmVjb21waWxlZFwiLGgpKTtiPVtlLiRkYXRhXTtlPXYuZXh0ZW5kKHtrb0JpbmRpbmdDb250ZXh0OmV9LGYudGVtcGxhdGVPcHRpb25zKTtlPXYudG1wbChoLGIsZSk7ZS5hcHBlbmRUbyhnLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO3YuZnJhZ21lbnRzPXt9O3JldHVybiBlfTt0aGlzLmNyZWF0ZUphdmFTY3JpcHRFdmFsdWF0b3JCbG9jaz1mdW5jdGlvbihhKXtyZXR1cm5cInt7a29fY29kZSAoKGZ1bmN0aW9uKCkgeyByZXR1cm4gXCIrXG5hK1wiIH0pKCkpIH19XCJ9O3RoaXMuYWRkVGVtcGxhdGU9ZnVuY3Rpb24oYSxiKXt3LndyaXRlKFwiPHNjcmlwdCB0eXBlPSd0ZXh0L2h0bWwnIGlkPSdcIithK1wiJz5cIitiK1wiXFx4M2Mvc2NyaXB0PlwiKX07MDxhJiYodi50bXBsLnRhZy5rb19jb2RlPXtvcGVuOlwiX18ucHVzaCgkMSB8fCAnJyk7XCJ9LHYudG1wbC50YWcua29fd2l0aD17b3BlbjpcIndpdGgoJDEpIHtcIixjbG9zZTpcIn0gXCJ9KX07YS4kYS5wcm90b3R5cGU9bmV3IGEuY2E7YS4kYS5wcm90b3R5cGUuY29uc3RydWN0b3I9YS4kYTt2YXIgYj1uZXcgYS4kYTswPGIuSGQmJmEuZ2MoYik7YS5iKFwianF1ZXJ5VG1wbFRlbXBsYXRlRW5naW5lXCIsYS4kYSl9KSgpfSl9KSgpO30pKCk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDb25zdGFudHNcbiAqL1xuXG4vKipcbiAqIERlYnVnIGZsYWcuXG4gKi9cbmV4cG9ydCBsZXQgaXNEZWJ1ZzogYm9vbGVhbiA9IGZhbHNlO1xuZXhwb3J0IGZ1bmN0aW9uIHNldERlYnVnKHZhbHVlOiBib29sZWFuKTogdm9pZCB7XG4gIGlzRGVidWcgPSB2YWx1ZTtcbn1cblxuLyoqXG4gKiBQYWdlIHByb2dyZXNzaW9uIGRpcmVjdGlvbi5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIFBhZ2VQcm9ncmVzc2lvbiB7XG4gIExUUiA9IFwibHRyXCIsXG4gIFJUTCA9IFwicnRsXCIsXG59XG5cbi8qKlxuICogUmV0dXJuIFBhZ2VQcm9ncmVzc2lvbiBjb3JyZXNwb25kaW5nIHRvIHRoZSBzcGVjaWZpZWQgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYWdlUHJvZ3Jlc3Npb25PZihzdHI6IHN0cmluZyk6IFBhZ2VQcm9ncmVzc2lvbiB7XG4gIHN3aXRjaCAoc3RyKSB7XG4gICAgY2FzZSBcImx0clwiOlxuICAgICAgcmV0dXJuIFBhZ2VQcm9ncmVzc2lvbi5MVFI7XG4gICAgY2FzZSBcInJ0bFwiOlxuICAgICAgcmV0dXJuIFBhZ2VQcm9ncmVzc2lvbi5SVEw7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgdW5rbm93biBQYWdlUHJvZ3Jlc3Npb246ICR7c3RyfWApO1xuICB9XG59XG5cbi8qKlxuICogUGFnZSBzaWRlIChsZWZ0L3JpZ2h0KS5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIFBhZ2VTaWRlIHtcbiAgTEVGVCA9IFwibGVmdFwiLFxuICBSSUdIVCA9IFwicmlnaHRcIixcbn1cblxuLyoqXG4gKiBWaWV3ZXIgcmVhZHkgc3RhdGUuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBSZWFkeVN0YXRlIHtcbiAgTE9BRElORyA9IFwibG9hZGluZ1wiLFxuICBJTlRFUkFDVElWRSA9IFwiaW50ZXJhY3RpdmVcIixcbiAgQ09NUExFVEUgPSBcImNvbXBsZXRlXCIsXG59XG5cbi8qKlxuICogUHViaWxjIG1lbWJlcnMgb2YgdGhlIGJ1bmRsZWQgbGlicmFyeS5cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbnN0YW50cyA9IHtcbiAgUGFnZVByb2dyZXNzaW9uLFxuICBQYWdlU2lkZSxcbiAgUmVhZHlTdGF0ZSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBMb2dnaW5nIC0gTG9nZ2luZyB1dGlsaXR5XG4gKi9cblxuLyoqXG4gKiBMb2cgbGV2ZWwuXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZW51bSBMb2dMZXZlbCB7XG4gIERFQlVHID0gMSxcbiAgSU5GTyxcbiAgV0FSTixcbiAgRVJST1IsXG59XG5cbmV4cG9ydCB0eXBlIEVycm9ySW5mbyA9IHtcbiAgZXJyb3I6IEVycm9yO1xuICBtZXNzYWdlczogYW55W107XG59O1xuXG4vKipcbiAqIENsYXNzIGxvZ2dpbmcgZXJyb3IsIHdhcm5pbmcsIGluZm9ybWF0aW9uIG9yIGRlYnVnIG1lc3NhZ2VzLlxuICovXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcbiAgcHJpdmF0ZSBsaXN0ZW5lcnM6IHsgW2tleSBpbiBMb2dMZXZlbF0/OiAoKHAxOiBFcnJvckluZm8pID0+IHZvaWQpW10gfSA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgb3B0X2NvbnNvbGU/OiBDb25zb2xlKSB7fVxuXG4gIHByaXZhdGUgY29uc29sZURlYnVnKG1zZzogYW55W10pIHtcbiAgICBpZiAodGhpcy5vcHRfY29uc29sZSkge1xuICAgICAgaWYgKHRoaXMub3B0X2NvbnNvbGUuZGVidWcpIHtcbiAgICAgICAgdGhpcy5vcHRfY29uc29sZS5kZWJ1ZyguLi5tc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcHRfY29uc29sZS5sb2coLi4ubXNnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5kZWJ1ZyguLi5tc2cpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbnNvbGVJbmZvKG1zZzogYW55W10pIHtcbiAgICBpZiAodGhpcy5vcHRfY29uc29sZSkge1xuICAgICAgaWYgKHRoaXMub3B0X2NvbnNvbGUuaW5mbykge1xuICAgICAgICB0aGlzLm9wdF9jb25zb2xlLmluZm8oLi4ubXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3B0X2NvbnNvbGUubG9nKC4uLm1zZyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuaW5mbyguLi5tc2cpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbnNvbGVXYXJuKG1zZzogYW55W10pIHtcbiAgICBpZiAodGhpcy5vcHRfY29uc29sZSkge1xuICAgICAgaWYgKHRoaXMub3B0X2NvbnNvbGUud2Fybikge1xuICAgICAgICB0aGlzLm9wdF9jb25zb2xlLndhcm4oLi4ubXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3B0X2NvbnNvbGUubG9nKC4uLm1zZyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybiguLi5tc2cpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbnNvbGVFcnJvcihtc2c6IGFueVtdKSB7XG4gICAgaWYgKHRoaXMub3B0X2NvbnNvbGUpIHtcbiAgICAgIGlmICh0aGlzLm9wdF9jb25zb2xlLmVycm9yKSB7XG4gICAgICAgIHRoaXMub3B0X2NvbnNvbGUuZXJyb3IoLi4ubXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3B0X2NvbnNvbGUubG9nKC4uLm1zZyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoLi4ubXNnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB0cmlnZ2VyTGlzdGVuZXJzKGxldmVsOiBMb2dMZXZlbCwgYXJnczogRXJyb3JJbmZvKSB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbbGV2ZWxdO1xuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgICAgICBsaXN0ZW5lcihhcmdzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBsaXN0ZW5lciBmdW5jdGlvbiBpbnZva2VkIHdoZW4gYSBsb2cgZXZlbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGxldmVsXG4gICAqIG9jY3Vycy5cbiAgICovXG4gIGFkZExpc3RlbmVyKGxldmVsOiBMb2dMZXZlbCwgbGlzdGVuZXI6IChwMTogRXJyb3JJbmZvKSA9PiB2b2lkKSB7XG4gICAgbGV0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzW2xldmVsXTtcbiAgICBpZiAoIWxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbbGV2ZWxdID0gW107XG4gICAgfVxuICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgfVxuXG4gIGRlYnVnKC4uLnZhcl9hcmdzOiBhbnlbXSkge1xuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHNUb0Vycm9ySW5mbyhhcmd1bWVudHMpO1xuICAgIHRoaXMuY29uc29sZURlYnVnKGJ1aWxkTWVzc2FnZUFuZFN0YWNrVHJhY2UoYXJncykpO1xuICAgIHRoaXMudHJpZ2dlckxpc3RlbmVycyhMb2dMZXZlbC5ERUJVRywgYXJncyk7XG4gIH1cblxuICBpbmZvKC4uLnZhcl9hcmdzOiBhbnlbXSkge1xuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHNUb0Vycm9ySW5mbyhhcmd1bWVudHMpO1xuICAgIHRoaXMuY29uc29sZUluZm8oYnVpbGRNZXNzYWdlQW5kU3RhY2tUcmFjZShhcmdzKSk7XG4gICAgdGhpcy50cmlnZ2VyTGlzdGVuZXJzKExvZ0xldmVsLklORk8sIGFyZ3MpO1xuICB9XG5cbiAgd2FybiguLi52YXJfYXJnczogYW55W10pIHtcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzVG9FcnJvckluZm8oYXJndW1lbnRzKTtcbiAgICB0aGlzLmNvbnNvbGVXYXJuKGJ1aWxkTWVzc2FnZUFuZFN0YWNrVHJhY2UoYXJncykpO1xuICAgIHRoaXMudHJpZ2dlckxpc3RlbmVycyhMb2dMZXZlbC5XQVJOLCBhcmdzKTtcbiAgfVxuXG4gIGVycm9yKC4uLnZhcl9hcmdzOiBhbnlbXSkge1xuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHNUb0Vycm9ySW5mbyhhcmd1bWVudHMpO1xuICAgIHRoaXMuY29uc29sZUVycm9yKGJ1aWxkTWVzc2FnZUFuZFN0YWNrVHJhY2UoYXJncykpO1xuICAgIHRoaXMudHJpZ2dlckxpc3RlbmVycyhMb2dMZXZlbC5FUlJPUiwgYXJncyk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0gYXJnc1xuICovXG5mdW5jdGlvbiBhcmd1bWVudHNUb0Vycm9ySW5mbyhhcmdzOiBJQXJndW1lbnRzKTogRXJyb3JJbmZvIHtcbiAgY29uc3QgYSA9IEFycmF5LmZyb20oYXJncyk7XG4gIGxldCBlOiBFcnJvciA9IG51bGw7XG4gIGlmIChhWzBdIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICBlID0gYS5zaGlmdCgpO1xuICB9XG4gIHJldHVybiB7IGVycm9yOiBlLCBtZXNzYWdlczogYSB9O1xufVxuXG5mdW5jdGlvbiBidWlsZE1lc3NhZ2VBbmRTdGFja1RyYWNlKGFyZ3M6IEVycm9ySW5mbyk6IHN0cmluZ1tdIHtcbiAgY29uc3QgZSA9IGFyZ3MuZXJyb3I7XG4gIGNvbnN0IHN0YWNrID0gZSAmJiAoZVtcImZyYW1lVHJhY2VcIl0gfHwgZVtcInN0YWNrXCJdKTtcbiAgbGV0IG1lc3NhZ2VzID0gW10uY29uY2F0KGFyZ3NbXCJtZXNzYWdlc1wiXSk7XG4gIGlmIChlKSB7XG4gICAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIG1lc3NhZ2VzID0gbWVzc2FnZXMuY29uY2F0KFtcIlxcblwiXSk7XG4gICAgfVxuICAgIG1lc3NhZ2VzID0gbWVzc2FnZXMuY29uY2F0KFtlW1widG9TdHJpbmdcIl0oKV0pO1xuICAgIGlmIChzdGFjaykge1xuICAgICAgbWVzc2FnZXMgPSBtZXNzYWdlcy5jb25jYXQoW1wiXFxuXCJdKS5jb25jYXQoc3RhY2spO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWVzc2FnZXM7XG59XG5cbmV4cG9ydCBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBQbHVnaW4gLSBQbHVnaW4gbWVjaGFuaXNtXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgTGF5b3V0UHJvY2Vzc29yIGZyb20gXCIuL2xheW91dC1wcm9jZXNzb3JcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgeyBMYXlvdXQsIFZ0cmVlIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuLyoqXG4gKiBUeXBlIG9mIGltcGxlbWVudGVkIGhvb2tzLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gSE9PS1Mge1xuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBzaW5nbGUgcHJvcGVydHkgZGVjbGFyYXRpb24gaXMgcGFyc2VkLlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICAge3N0cmluZ30gbmFtZTogUHJvcGVydHkgbmFtZVxuICAgKiAgIHshQ3NzLlZhbH0gdmFsdWU6IFByb3BlcnR5IHZhbHVlXG4gICAqICAge2Jvb2xlYW59IGltcG9ydGFudDogV2hldGhlciAnIWltcG9ydGFudCcgZmxhZyBpcyBwcmVzZW50IG9yIG5vdFxuICAgKiBGdW5jdGlvbnMgY2FsbGVkIGJ5IHRoaXMgaG9vayBhcmUgZXhwZWN0ZWQgdG8gcmV0dXJuIGEgdmFsdWUgd2l0aCB0aGUgc2FtZVxuICAgKiB0eXBlIGFzIHRoZSBhYm92ZS4gVGhlIGRlY2xhcmF0aW9uIGlzIHRoZW4gcmVwbGFjZWQgYnkgdGhlIHJldHVybmVkIHZhbHVlLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgYSBzaG9ydGhhbmQgZGVjbGFyYXRpb24gaXMgbm90IGRpcmVjdGx5IHBhc3NlZCB0byB0aGlzIGhvb2suXG4gICAqIEFmdGVyIHRoZSBzaG9ydGhhbmQgZGVjbGFyYXRpb24gaXMgaW50ZXJwcmV0ZWQgYW5kIGJyb2tlbiBpbnRvXG4gICAqIG5vbi1zaG9ydGhhbmQgZGVjbGFyYXRpb25zLCB0aGUgaG9vayBpcyBjYWxsZWQgZm9yIGVhY2ggb2YgdGhlXG4gICAqIG5vbi1zaG9ydGhhbmQgZGVjbGFyYXRpb25zLlxuICAgKi9cbiAgU0lNUExFX1BST1BFUlRZID0gXCJTSU1QTEVfUFJPUEVSVFlcIixcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBzaW5nbGUgZG9jdW1lbnQgKGkuZS4gYSBzaW5nbGUgc3BpbmUgaXRlbSkgaGFzIGJlZW4gZmV0Y2hlZCxcbiAgICogYmVmb3JlIHBhcnNpbmcuXG4gICAqXG4gICAqIFRoZSBob29rIGlzIGNhbGxlZCB3aXRoIHRoZSBEb2N1bWVudCBvYmplY3QuXG4gICAqL1xuICBQUkVQUk9DRVNTX1NJTkdMRV9ET0NVTUVOVCA9IFwiUFJFUFJPQ0VTU19TSU5HTEVfRE9DVU1FTlRcIixcblxuICAvKipcbiAgICogQ2FsbGVkIGJlZm9yZSBjcmVhdGluZyBhIHRleHQgbm9kZSBmb3IgbW9kaWZ5aW5nIGEgdGV4dCBjb250ZW50LlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICAge1Z0cmVlLk5vZGVDb250ZXh0fSBub2RlQ29udGV4dFxuICAgKiAgIHtzdHJpbmd9IHNvdXJjZVRleHRDb250ZW50XG4gICAqXG4gICAqIEZ1bmN0aW9ucyBjYWxsZWQgYnkgdGhpcyBob29rIGFyZSBleHBlY3RlZCB0byByZXR1cm4gYVxuICAgKiBUYXNrLlJlc3VsdC48c3RyaW5nPi4gVGhlIHRleHQgY29udGVudCBpcyB0aGVuIHJlcGxhY2VkIGJ5IHRoZVxuICAgKiByZXR1cm5lZCB2YWx1ZS5cbiAgICovXG4gIFBSRVBST0NFU1NfVEVYVF9DT05URU5UID0gXCJQUkVQUk9DRVNTX1RFWFRfQ09OVEVOVFwiLFxuXG4gIC8qKlxuICAgKiBDYWxsZWQgYmVmb3JlIGNyZWF0aW5nIGEgZWxlbWVudCBmb3IgbW9kaWZ5aW5nIGEgZWxlbWVudCBzdHlsZS5cbiAgICpcbiAgICogVGhlIGhvb2sgaXMgY2FsbGVkIHdpdGggYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgKiAgIHtWdHJlZS5Ob2RlQ29udGV4dH0gbm9kZUNvbnRleHRcbiAgICogICB7IU9iamVjdH0gc3R5bGVcbiAgICovXG4gIFBSRVBST0NFU1NfRUxFTUVOVF9TVFlMRSA9IFwiUFJFUFJPQ0VTU19FTEVNRU5UX1NUWUxFXCIsXG5cbiAgLyoqXG4gICAqIENhbGxlZCBiZWZvcmUgZ2V0aW5nIENzc0Nhc2NhZGUucG9seWZpbGxlZEluaGVyaXRlZFByb3BzLlxuICAgKlxuICAgKiBUaGUgaG9vayByZXR1cm4gYSBhcnJheSBvZiBwb2x5ZmlsbGVkIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lLlxuICAgKi9cbiAgUE9MWUZJTExFRF9JTkhFUklURURfUFJPUFMgPSBcIlBPTFlGSUxMRURfSU5IRVJJVEVEX1BST1BTXCIsXG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgVmlld2VyIGlzIGNvbmZpZ3VyZWQuXG4gICAqXG4gICAqIFRoZSBob29rIGlzIGNhbGxlZCB3aXRoIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICogIHtCYXNlLkpTT059IGNvbW1hbmRcbiAgICovXG4gIENPTkZJR1VSQVRJT04gPSBcIkNPTkZJR1VSQVRJT05cIixcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gcmVzb2x2aW5nIGEgdGV4dCBub2RlIGJyZWFrZXJcbiAgICogd2hpY2ggZGV0ZWN0cyBhbiBhY2NlcHRhYmxlIGJyZWFrcG9pbnQgYW5kIGJyZWFrIHRleHQgbm9kZSBhdCB0aGlzIHBvaW50LlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICB7VnRyZWUuTm9kZUNvbnRleHR9IG5vZGVDb250ZXh0XG4gICAqXG4gICAqIEZ1bmN0aW9ucyBjYWxsZWQgYnkgdGhpcyBob29rIGFyZSBleHBlY3RlZCB0b1xuICAgKiByZXR1cm4gYW4gaW5zdG5jZSBvZiB7TGF5b3V0LlRleHROb2RlQnJlYWtlcn0gb3IgbnVsbC5cbiAgICovXG4gIFJFU09MVkVfVEVYVF9OT0RFX0JSRUFLRVIgPSBcIlJFU09MVkVfVEVYVF9OT0RFX0JSRUFLRVJcIixcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gcmVzb2x2aW5nIGEgZm9ybWF0dGluZyBjb250ZXh0LlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gICAqICAgbm9kZUNvbnRleHQ6IGEgTm9kZUNvbnRleHQgb2JqZWN0XG4gICAqICAgZmlyc3RUaW1lOiBhIGJvb2xlYW4gZmxhZyByZXByZXNlbnRpbmcgd2hldGhlciB0aGlzIG5vZGUgaXMgZW5jb3VudGVyZWRcbiAgICogZm9yIHRoZSBmaXJzdCB0aW1lIG9yIG5vdCBkaXNwbGF5OiBhbiBDc3MuSWRlbnQgdmFsdWUgcmVwcmVzZW50aW5nXG4gICAqICdkaXNwbGF5JyB2YWx1ZSBvZiB0aGUgbm9kZSBwb3NpdGlvbjogYW4gQ3NzLklkZW50IHZhbHVlIHJlcHJlc2VudGluZ1xuICAgKiAncG9zaXRpb24nIHZhbHVlIG9mIHRoZSBub2RlIGZsb2F0OiBhbiBDc3MuSWRlbnQgdmFsdWUgcmVwcmVzZW50aW5nXG4gICAqICdmbG9hdCcgdmFsdWUgb2YgdGhlIG5vZGUgaXNSb290OiBhIGJvb2xlYW4gZmxhZyByZXByZXNlbnRpbmcgd2hldGhlciB0aGlzXG4gICAqIG5vZGUgaXMgYSByb290IChvZiBhIGZsb3cpIG9yIG5vdCBGdW5jdGlvbnMgY2FsbGVkIGJ5IHRoaXMgaG9vayBhcmVcbiAgICogZXhwZWN0ZWQgdG8gcmV0dXJuIGEgZm9ybWF0dGluZyBjb250ZXh0IGZvciB0aGUgTm9kZUNvbnRleHQuXG4gICAqL1xuICBSRVNPTFZFX0ZPUk1BVFRJTkdfQ09OVEVYVCA9IFwiUkVTT0xWRV9GT1JNQVRUSU5HX0NPTlRFWFRcIixcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gcmVzb2x2aW5nIGEgbGF5b3V0IHByb2Nlc3NvciAoTGF5b3V0UHJvY2Vzc29yKSBmb3JcbiAgICogYSBmb3JtYXR0aW5nIGNvbnRleHQuXG4gICAqXG4gICAqIFRoZSBob29rIGlzIGNhbGxlZCB3aXRoIGEgZm9ybWF0dGluZyBjb250ZXh0XG4gICAqIChWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCkuIEZ1bmN0aW9ucyBjYWxsZWQgYnkgdGhpcyBob29rIGFyZSBleHBlY3RlZFxuICAgKiB0byByZXR1cm4gYSBsYXlvdXQgcHJvY2Vzc29yIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGZvcm1hdHRpbmcgY29udGV4dC5cbiAgICovXG4gIFJFU09MVkVfTEFZT1VUX1BST0NFU1NPUiA9IFwiUkVTT0xWRV9MQVlPVVRfUFJPQ0VTU09SXCIsXG5cbiAgLyoqXG4gICAqIENhbGxlZCBhZnRlciBsYWlkIG91dCBhIGJsb2NrIGNvbnRlbnRzLlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICB7VnRyZWUuTm9kZUNvbnRleHR9IG5vZGVDb250ZXh0XG4gICAqICB7QXJyYXkuPFZ0cmVlLk5vZGVDb250ZXh0Pn0gY2hlY2tQb2ludHNcbiAgICogIHtMYXlvdXQuQ29sdW1ufSBjb2x1bW5cbiAgICovXG4gIFBPU1RfTEFZT1VUX0JMT0NLID0gXCJQT1NUX0xBWU9VVF9CTE9DS1wiLFxufVxuXG5leHBvcnQgdHlwZSBQcmVQcm9jZXNzU2luZ2xlRG9jdW1lbnRIb29rID0gKHAxOiBEb2N1bWVudCkgPT4gYW55O1xuXG5leHBvcnQgdHlwZSBQcmVQcm9jZXNzVGV4dENvbnRlbnRIb29rID0gKFxuICBwMTogVnRyZWUuTm9kZUNvbnRleHQsXG4gIHAyOiBzdHJpbmcsXG4pID0+IFRhc2suUmVzdWx0PHN0cmluZz47XG5cbmV4cG9ydCB0eXBlIFByZVByb2Nlc3NFbGVtZW50U3R5bGVIb29rID0gKFxuICBwMTogVnRyZWUuTm9kZUNvbnRleHQsXG4gIHAyOiBvYmplY3QsXG4pID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIFBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wc0hvb2sgPSAoKSA9PiBzdHJpbmdbXTtcblxuZXhwb3J0IHR5cGUgQ29uZmlndXJhdGlvbkhvb2sgPSAoXG4gIHAxOiBCYXNlLkpTT04sXG4pID0+IHtcbiAgbmVlZFJlc2l6ZTogYm9vbGVhbiB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIG5lZWRSZWZyZXNoOiBib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCB0eXBlIFJlc29sdmVUZXh0Tm9kZUJyZWFrZXJIb29rID0gKFxuICBwMTogVnRyZWUuTm9kZUNvbnRleHQsXG4pID0+IExheW91dC5UZXh0Tm9kZUJyZWFrZXI7XG5cbmV4cG9ydCB0eXBlIFJlc29sdmVGb3JtYXR0aW5nQ29udGV4dEhvb2sgPSAoXG4gIHAxOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgcDI6IGJvb2xlYW4sXG4gIHAzOiBDc3MuSWRlbnQsXG4gIHA0OiBDc3MuSWRlbnQsXG4gIHA1OiBDc3MuSWRlbnQsXG4gIHA2OiBib29sZWFuLFxuKSA9PiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dDtcblxuZXhwb3J0IHR5cGUgUmVzb2x2ZUxheW91dFByb2Nlc3Nvckhvb2sgPSAoXG4gIHAxOiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCxcbikgPT4gTGF5b3V0UHJvY2Vzc29yLkxheW91dFByb2Nlc3NvcjtcblxuZXhwb3J0IHR5cGUgUG9zdExheW91dEJsb2NrSG9vayA9IChcbiAgcDE6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBwMjogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgcDM6IExheW91dC5Db2x1bW4sXG4pID0+IHZvaWQ7XG5cbmNvbnN0IGhvb2tzID0ge307XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBmdW5jdGlvbiB0byBhIGhvb2sgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKiBUaGUgcmVnaXN0ZXJlZCBmdW5jdGlvbiBpcyBjYWxsZWQgYXQgYXBwcm9wcmlhdGUgdGltaW5ncyBieSB0aGUgY29yZSBjb2RlLlxuICogQXJndW1lbnRzIHBhc3NlZCB0byB0aGUgZnVuY3Rpb24gZGVwZW5kIG9uIHRoZSBob29rLlxuICogV2hlbiBtdWx0aXBsZSBmdW5jdGlvbnMgYXJlIHJlZ2lzdGVyZWQsIHRoZXkgYXJlIGNhbGxlZCBieSB0aGUgb3JkZXIgaW4gd2hpY2hcbiAqIHRoZXkgYXJlIHJlZ2lzdGVyZWQuXG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBob29rLlxuICogQHBhcmFtIGZuIEZ1bmN0aW9uIHRvIGJlIHJlZ2lzdGVyZWQgdG8gdGhlIGhvb2suXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlckhvb2sobmFtZTogc3RyaW5nLCBmbjogKC4uLnAxKSA9PiBhbnkpOiB2b2lkIHtcbiAgaWYgKCFIT09LU1tuYW1lXSkge1xuICAgIExvZ2dpbmcubG9nZ2VyLndhcm4obmV3IEVycm9yKGBTa2lwcGluZyB1bmtub3duIHBsdWdpbiBob29rICcke25hbWV9Jy5gKSk7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGhvb2tzRm9yTmFtZSA9IGhvb2tzW25hbWVdO1xuICAgIGlmICghaG9va3NGb3JOYW1lKSB7XG4gICAgICBob29rc0Zvck5hbWUgPSBob29rc1tuYW1lXSA9IFtdO1xuICAgIH1cbiAgICBob29rc0Zvck5hbWUucHVzaChmbik7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgYSBmdW5jdGlvbiBhbHJlYWR5IHJlZ2lzdGVyZWQgdG8gdGhlIHNwZWNpZmllZCBuYW1lLlxuICogTm90ZSB0aGF0IGV2ZW4gaWYgdGhlIHNhbWUgZnVuY3Rpb24gYXJlIHJlZ2lzdGVyZWQgbXVsdGlwbGUgdGltZXMsIHRoaXNcbiAqIG1ldGhvZCByZW1vdmVzIG9ubHkgdGhlIGZpcnN0IG9uZS5cbiAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGhvb2suXG4gKiBAcGFyYW0gZm4gRnVuY3Rpb24gdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZSBob29rLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSG9vayhuYW1lOiBzdHJpbmcsIGZuOiAoLi4ucDEpID0+IGFueSk6IHZvaWQge1xuICBpZiAoIUhPT0tTW25hbWVdKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihuZXcgRXJyb3IoYElnbm9yaW5nIHVua25vd24gcGx1Z2luIGhvb2sgJyR7bmFtZX0nLmApKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBob29rc0Zvck5hbWUgPSBob29rc1tuYW1lXTtcbiAgICBpZiAoaG9va3NGb3JOYW1lKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGhvb2tzRm9yTmFtZS5pbmRleE9mKGZuKTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIGhvb2tzRm9yTmFtZS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEdldCBhbGwgaG9va3MgcmVnaXN0ZXJlZCB0byB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKiBUaGlzIG1ldGhvZCBpcyBmb3IgaW50ZXJuYWwgdXNlIChmcm9tIHRoZSBjb3JlIGNvZGUpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SG9va3NGb3JOYW1lKG5hbWU6IHN0cmluZyk6ICgoLi4ucDEpID0+IGFueSlbXSB7XG4gIGNvbnN0IGhvb2tzRm9yTmFtZSA9IGhvb2tzW25hbWVdO1xuICByZXR1cm4gaG9va3NGb3JOYW1lIHx8IFtdO1xufVxuXG4vKipcbiAqIFB1YmlsYyBtZW1iZXJzIG9mIHRoZSBidW5kbGVkIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBjb25zdCBwbHVnaW4gPSB7XG4gIHJlZ2lzdGVySG9vayxcbiAgcmVtb3ZlSG9vayxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBQcm9maWxlIC0gVXRpbGl0eSBmb3IgcHJvZmlsaW5nXG4gKi9cbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuXG4vKipcbiAqIFBlcmZvcm1hbmNlIHByb2ZpbGVyIG1lYXN1cmluZyBleGVjdXRpb24gdGltZSBvZiB0aGUgc2NyaXB0LlxuICovXG5leHBvcnQgY2xhc3MgUHJvZmlsZXIge1xuICB0aW1lc3RhbXBzOiB7IFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gfSA9IHt9O1xuICBwcml2YXRlIHJlZ2lzdGVyVGltaW5nOiAocDE6IHN0cmluZywgcDI6IHN0cmluZywgcDM/OiBudW1iZXIpID0+IGFueTtcbiAgcmVnaXN0ZXJTdGFydFRpbWluZzogKG5hbWU6IHN0cmluZywgdGltZXN0YW1wPzogbnVtYmVyKSA9PiBhbnk7XG4gIHJlZ2lzdGVyRW5kVGltaW5nOiAobmFtZTogc3RyaW5nLCB0aW1lc3RhbXA/OiBudW1iZXIpID0+IGFueTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgcGVyZm9ybWFuY2VJbnN0YW5jZTogUGVyZm9ybWFuY2UpIHtcbiAgICB0aGlzLnJlZ2lzdGVyVGltaW5nID0gbm9vcDtcblxuICAgIC8vIGhhY2sgdG8gZXhwb3J0IChub24tcHJvdG90eXBlKSBtZXRob2RzXG4gICAgdGhpc1tcInJlZ2lzdGVyU3RhcnRUaW1pbmdcIl0gPSB0aGlzLnJlZ2lzdGVyU3RhcnRUaW1pbmcgPSBub29wO1xuICAgIHRoaXNbXCJyZWdpc3RlckVuZFRpbWluZ1wiXSA9IHRoaXMucmVnaXN0ZXJFbmRUaW1pbmcgPSBub29wO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBzdGFydCB0aW1pbmcgb2Ygc29tZSBldmVudCwgZXZlbiBpZiBwcm9maWxlIGlzIGRpc2FibGVkLlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIGV2ZW50XG4gICAqIEBwYXJhbSB0aW1lc3RhbXAgVXNlZCBhcyB0aGUgYWN0dWFsIHRpbWVzdGFtcCBvZiB0aGUgZXZlbnQgaWYgc3BlY2lmaWVkLFxuICAgKiAgICAgaW5zdGVhZCBvZiBcIm5vd1wiXG4gICAqL1xuICBmb3JjZVJlZ2lzdGVyU3RhcnRUaW1pbmcobmFtZTogc3RyaW5nLCB0aW1lc3RhbXA/OiBudW1iZXIpIHtcbiAgICByZWdpc3RlclRpbWluZy5jYWxsKHRoaXMsIG5hbWUsIFwic3RhcnRcIiwgdGltZXN0YW1wKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgZW5kIHRpbWluZyBvZiBzb21lIGV2ZW50LCBldmVuIGlmIHByb2ZpbGUgaXMgZGlzYWJsZWQuXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgZXZlbnRcbiAgICogQHBhcmFtIHRpbWVzdGFtcCBVc2VkIGFzIHRoZSBhY3R1YWwgdGltZXN0YW1wIG9mIHRoZSBldmVudCBpZiBzcGVjaWZpZWQsXG4gICAqICAgICBpbnN0ZWFkIG9mIFwibm93XCJcbiAgICovXG4gIGZvcmNlUmVnaXN0ZXJFbmRUaW1pbmcobmFtZTogc3RyaW5nLCB0aW1lc3RhbXA/OiBudW1iZXIpIHtcbiAgICByZWdpc3RlclRpbWluZy5jYWxsKHRoaXMsIG5hbWUsIFwiZW5kXCIsIHRpbWVzdGFtcCk7XG4gIH1cblxuICAvKipcbiAgICogTG9nIHJlZ2lzdGVyZWQgdGltaW5ncyAoc3RhcnQvZW5kL2R1cmF0aW9uKS5cbiAgICogQWxsIHZhbHVlcyBhcmUgcHJpbnRlZCBpbiBtcyB1bml0LlxuICAgKi9cbiAgcHJpbnRUaW1pbmdzKCkge1xuICAgIGNvbnN0IHRpbWVzdGFtcHMgPSB0aGlzLnRpbWVzdGFtcHM7XG4gICAgbGV0IHN0ID0gXCJcIjtcbiAgICBPYmplY3Qua2V5cyh0aW1lc3RhbXBzKS5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICBjb25zdCBzdGFtcHMgPSB0aW1lc3RhbXBzW25hbWVdO1xuICAgICAgY29uc3QgbCA9IHN0YW1wcy5sZW5ndGg7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjb25zdCB0ID0gc3RhbXBzW2ldO1xuICAgICAgICBzdCArPSBuYW1lO1xuICAgICAgICBpZiAobCA+IDEpIHtcbiAgICAgICAgICBzdCArPSBgKCR7aX0pYDtcbiAgICAgICAgfVxuICAgICAgICBzdCArPSBgID0+IHN0YXJ0OiAke3RbXCJzdGFydFwiXX0sIGVuZDogJHt0W1wiZW5kXCJdfSwgZHVyYXRpb246ICR7dFtcbiAgICAgICAgICBcImVuZFwiXG4gICAgICAgIF0gLSB0W1wic3RhcnRcIl19XFxuYDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBMb2dnaW5nLmxvZ2dlci5pbmZvKHN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlIHByb2ZpbGluZy5cbiAgICovXG4gIGRpc2FibGUoKSB7XG4gICAgdGhpcy5yZWdpc3RlclRpbWluZyA9IG5vb3A7XG5cbiAgICAvLyBoYWNrIHRvIGV4cG9ydCAobm9uLXByb3RvdHlwZSkgbWV0aG9kc1xuICAgIHRoaXNbXCJyZWdpc3RlclN0YXJ0VGltaW5nXCJdID0gdGhpcy5yZWdpc3RlclN0YXJ0VGltaW5nID0gbm9vcDtcbiAgICB0aGlzW1wicmVnaXN0ZXJFbmRUaW1pbmdcIl0gPSB0aGlzLnJlZ2lzdGVyRW5kVGltaW5nID0gbm9vcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgcHJvZmlsaW5nLlxuICAgKi9cbiAgZW5hYmxlKCkge1xuICAgIHRoaXMucmVnaXN0ZXJUaW1pbmcgPSByZWdpc3RlclRpbWluZztcblxuICAgIC8vIGhhY2sgdG8gZXhwb3J0IChub24tcHJvdG90eXBlKSBtZXRob2RzXG4gICAgdGhpc1tcbiAgICAgIFwicmVnaXN0ZXJTdGFydFRpbWluZ1wiXG4gICAgXSA9IHRoaXMucmVnaXN0ZXJTdGFydFRpbWluZyA9IHJlZ2lzdGVyU3RhcnRUaW1pbmc7XG4gICAgdGhpc1tcInJlZ2lzdGVyRW5kVGltaW5nXCJdID0gdGhpcy5yZWdpc3RlckVuZFRpbWluZyA9IHJlZ2lzdGVyRW5kVGltaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgaWYgcHJvZmlsaW5nIGlzIGVuYWJsZWQgb3Igbm90LlxuICAgKi9cbiAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyU3RhcnRUaW1pbmcgPT09IHJlZ2lzdGVyU3RhcnRUaW1pbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9vcCgpOiB2b2lkIHt9XG5cbi8qKlxuICogUmVnaXN0ZXJzIHN0YXJ0L2VuZCB0aW1pbmcgb2Ygc29tZSBldmVudC5cbiAqIEB0aGlzIHtQcm9maWxlLlByb2ZpbGVyfVxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiBldmVudFxuICogQHBhcmFtIHN0YXJ0RW5kIEVpdGhlciBvZiBcInN0YXJ0XCIgb3IgXCJlbmRcIlxuICogQHBhcmFtIHRpbWVzdGFtcCBVc2VkIGFzIHRoZSBhY3R1YWwgdGltZXN0YW1wIG9mIHRoZSBldmVudCBpZiBzcGVjaWZpZWQsXG4gKiAgICAgaW5zdGVhZCBvZiBcIm5vd1wiXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyVGltaW5nKFxuICBuYW1lOiBzdHJpbmcsXG4gIHN0YXJ0RW5kOiBzdHJpbmcsXG4gIHRpbWVzdGFtcD86IG51bWJlcixcbik6IHZvaWQge1xuICBpZiAoIXRpbWVzdGFtcCkge1xuICAgIHRpbWVzdGFtcCA9IHRoaXMucGVyZm9ybWFuY2VJbnN0YW5jZS5ub3coKTtcbiAgfVxuICBsZXQgdGltZXN0YW1wcyA9IHRoaXMudGltZXN0YW1wc1tuYW1lXTtcbiAgaWYgKCF0aW1lc3RhbXBzKSB7XG4gICAgdGltZXN0YW1wcyA9IHRoaXMudGltZXN0YW1wc1tuYW1lXSA9IFtdO1xuICB9XG4gIGxldCB0O1xuICBjb25zdCBsID0gdGltZXN0YW1wcy5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSBsIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB0ID0gdGltZXN0YW1wc1tpXTtcbiAgICBpZiAodCAmJiAhdFtzdGFydEVuZF0pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0ID0gbnVsbDtcbiAgfVxuICBpZiAoIXQpIHtcbiAgICB0ID0ge307XG4gICAgdGltZXN0YW1wcy5wdXNoKHQpO1xuICB9XG4gIHRbc3RhcnRFbmRdID0gdGltZXN0YW1wO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBzdGFydCB0aW1pbmcgb2Ygc29tZSBldmVudC5cbiAqIEB0aGlzIHtQcm9maWxlLlByb2ZpbGVyfVxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiBldmVudFxuICogQHBhcmFtIHRpbWVzdGFtcCBVc2VkIGFzIHRoZSBhY3R1YWwgdGltZXN0YW1wIG9mIHRoZSBldmVudCBpZiBzcGVjaWZpZWQsXG4gKiAgICAgaW5zdGVhZCBvZiBcIm5vd1wiXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyU3RhcnRUaW1pbmcobmFtZTogc3RyaW5nLCB0aW1lc3RhbXA/OiBudW1iZXIpOiB2b2lkIHtcbiAgdGhpcy5yZWdpc3RlclRpbWluZyhuYW1lLCBcInN0YXJ0XCIsIHRpbWVzdGFtcCk7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIGVuZCB0aW1pbmcgb2Ygc29tZSBldmVudC5cbiAqIEB0aGlzIHtQcm9maWxlLlByb2ZpbGVyfVxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiBldmVudFxuICogQHBhcmFtIHRpbWVzdGFtcCBVc2VkIGFzIHRoZSBhY3R1YWwgdGltZXN0YW1wIG9mIHRoZSBldmVudCBpZiBzcGVjaWZpZWQsXG4gKiAgICAgaW5zdGVhZCBvZiBcIm5vd1wiXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyRW5kVGltaW5nKG5hbWU6IHN0cmluZywgdGltZXN0YW1wPzogbnVtYmVyKTogdm9pZCB7XG4gIHRoaXMucmVnaXN0ZXJUaW1pbmcobmFtZSwgXCJlbmRcIiwgdGltZXN0YW1wKTtcbn1cbmNvbnN0IGZhbGxiYWNrUGVyZm9ybWFuY2VJbnN0YW5jZSA9IHsgbm93OiBEYXRlLm5vdyB9IGFzIFBlcmZvcm1hbmNlO1xuY29uc3QgcGVyZm9ybWFuY2VJbnN0YW5jZSA9IHdpbmRvdyAmJiB3aW5kb3cucGVyZm9ybWFuY2U7XG5leHBvcnQgY29uc3QgcHJvZmlsZXIgPSBuZXcgUHJvZmlsZXIoXG4gIHBlcmZvcm1hbmNlSW5zdGFuY2UgfHwgZmFsbGJhY2tQZXJmb3JtYW5jZUluc3RhbmNlLFxuKTtcbnByb2ZpbGVyLmZvcmNlUmVnaXN0ZXJTdGFydFRpbWluZyhcImxvYWRfdml2bGlvc3R5bGVcIik7XG5cbi8qKlxuICogUHViaWxjIG1lbWJlcnMgb2YgdGhlIGJ1bmRsZWQgbGlicmFyeS5cbiAqL1xuZXhwb3J0IGNvbnN0IHByb2ZpbGUgPSB7XG4gIHByb2ZpbGVyOiB7XG4gICAgcmVnaXN0ZXJTdGFydFRpbWluZzogcHJvZmlsZXIucmVnaXN0ZXJTdGFydFRpbWluZyxcbiAgICByZWdpc3RlckVuZFRpbWluZzogcHJvZmlsZXIucmVnaXN0ZXJFbmRUaW1pbmcsXG4gICAgcHJpbnRUaW1pbmdzOiBwcm9maWxlci5wcmludFRpbWluZ3MsXG4gICAgZGlzYWJsZTogcHJvZmlsZXIuZGlzYWJsZSxcbiAgICBlbmFibGU6IHByb2ZpbGVyLmVuYWJsZSxcbiAgfSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IEJhc2UgLSBDb21tb24gdXRpbGl0aWVzLlxuICovXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL2xvZ2dpbmdcIjtcbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuXG5leHBvcnQgbGV0IGVtcHR5T2JqID0ge307XG5cbmV4cG9ydCB0eXBlIEpTT04gPSBhbnk7XG5cbmV4cG9ydCBmdW5jdGlvbiBqc29uVG9TdHJpbmcoanNvbjogSlNPTik6IHN0cmluZyB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShqc29uKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvSlNPTihzdHI6IHN0cmluZyk6IEpTT04ge1xuICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RyaXBGcmFnbWVudCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHIgPSB1cmwubWF0Y2goL14oW14jXSopLyk7XG4gIGlmIChyKSB7XG4gICAgcmV0dXJuIHJbMV07XG4gIH1cbiAgcmV0dXJuIHVybDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwRnJhZ21lbnRBbmRRdWVyeSh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHIgPSB1cmwubWF0Y2goL14oW14jP10qKS8pO1xuICBpZiAocikge1xuICAgIHJldHVybiByWzFdO1xuICB9XG4gIHJldHVybiB1cmw7XG59XG5cbi8qKlxuICogQmFzZSBVUkwgcmVsYXRpdmUgdG8gd2hpY2ggVVJMcyBvZiByZXNvdXJjZXMgYXJlIHJlc29sdmVkLlxuICovXG5leHBvcnQgbGV0IGJhc2VVUkwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbmV4cG9ydCBmdW5jdGlvbiBzZXRCYXNlVVJMKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcbiAgYmFzZVVSTCA9IHZhbHVlO1xufVxuXG4vKipcbiAqIEJhc2UgVVJMIHJlbGF0aXZlIHRvIHdoaWNoIFVSTHMgb2YgcmVzb3VyY2VzIHN1Y2ggYXMgdmFsaWRhdGlvbi50eHQgYW5kXG4gKiB1c2VyLWFnZW50LmNzcyBhcmUgcmVzb2x2ZWQuXG4gKi9cbmV4cG9ydCBsZXQgcmVzb3VyY2VCYXNlVVJMID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5leHBvcnQgZnVuY3Rpb24gc2V0UmVzb3VyY2VCYXNlVVJMKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcbiAgcmVzb3VyY2VCYXNlVVJMID0gdmFsdWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHJlbFVSTCByZWxhdGl2ZSBVUkxcbiAqIEBwYXJhbSBiYXNlVVJMIGJhc2UgKGFic29sdXRlKSBVUkxcbiAqIEByZXR1cm4gcmVzb2x2ZWQgKGFic29sdXRlKSBVUkxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVVUkwocmVsVVJMOiBzdHJpbmcsIGJhc2VVUkw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICgvXmRhdGE6L2kudGVzdChiYXNlVVJMKSkge1xuICAgIHJldHVybiByZWxVUkwgfHwgYmFzZVVSTDtcbiAgfVxuICBpZiAoIWJhc2VVUkwgfHwgcmVsVVJMLm1hdGNoKC9eXFx3ezIsfTovKSkge1xuICAgIGlmIChyZWxVUkwudG9Mb3dlckNhc2UoKS5tYXRjaChcIl5qYXZhc2NyaXB0OlwiKSkge1xuICAgICAgcmV0dXJuIFwiI1wiO1xuICAgIH1cbiAgICBpZiAocmVsVVJMLm1hdGNoKC9eXFx3ezIsfTpcXC9cXC9bXlxcL10rJC8pKSB7XG4gICAgICByZWxVUkwgPSBgJHtyZWxVUkx9L2A7XG4gICAgfVxuICAgIHJldHVybiByZWxVUkw7XG4gIH1cbiAgaWYgKGJhc2VVUkwubWF0Y2goL15cXHd7Mix9OlxcL1xcL1teXFwvXSskLykpIHtcbiAgICBiYXNlVVJMID0gYCR7YmFzZVVSTH0vYDtcbiAgfVxuICBsZXQgcjogc3RyaW5nW107XG4gIGlmIChyZWxVUkwubWF0Y2goL15cXC9cXC8vKSkge1xuICAgIHIgPSBiYXNlVVJMLm1hdGNoKC9eKFxcd3syLH06KVxcL1xcLy8pO1xuICAgIGlmIChyKSB7XG4gICAgICByZXR1cm4gclsxXSArIHJlbFVSTDtcbiAgICB9XG4gICAgcmV0dXJuIHJlbFVSTDtcbiAgfVxuICBpZiAocmVsVVJMLm1hdGNoKC9eXFwvLykpIHtcbiAgICByID0gYmFzZVVSTC5tYXRjaCgvXihcXHd7Mix9OlxcL1xcL1teXFwvXSspXFwvLyk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHJldHVybiByWzFdICsgcmVsVVJMO1xuICAgIH1cbiAgICByZXR1cm4gcmVsVVJMO1xuICB9XG4gIGlmIChyZWxVUkwubWF0Y2goL15cXC4oXFwvfCQpLykpIHtcbiAgICByZWxVUkwgPSByZWxVUkwuc3Vic3RyKDIpOyAvLyAnLi9mb28nID0+ICdmb28nXG4gIH1cbiAgYmFzZVVSTCA9IHN0cmlwRnJhZ21lbnRBbmRRdWVyeShiYXNlVVJMKTtcbiAgaWYgKHJlbFVSTC5tYXRjaCgvXiMvKSkge1xuICAgIHJldHVybiBiYXNlVVJMICsgcmVsVVJMO1xuICB9XG4gIGxldCBpID0gYmFzZVVSTC5sYXN0SW5kZXhPZihcIi9cIik7XG4gIGlmIChpIDwgMCkge1xuICAgIHJldHVybiByZWxVUkw7XG4gIH1cbiAgaWYgKGkgPCBiYXNlVVJMLmxlbmd0aCAtIDEpIHtcbiAgICBjb25zdCBqID0gYmFzZVVSTC5sYXN0SW5kZXhPZihcIi5cIik7XG4gICAgaWYgKGogPCBpKSB7XG4gICAgICAvLyBBc3N1bWUgdGhlIGxhc3QgcGFydCB3aXRob3V0ICcuJyB0byBiZSBhIGRpcmVjdG9yeSBuYW1lLlxuICAgICAgaWYgKHJlbFVSTCA9PSBcIlwiKSB7XG4gICAgICAgIHJldHVybiBiYXNlVVJMO1xuICAgICAgfVxuICAgICAgYmFzZVVSTCArPSBcIi9cIjtcbiAgICAgIGkgPSBiYXNlVVJMLmxlbmd0aCAtIDE7XG4gICAgfVxuICB9XG4gIGxldCB1cmwgPSBiYXNlVVJMLnN1YnN0cigwLCBpICsgMSkgKyByZWxVUkw7XG4gIGxldCB1cmxPcHRpb24gPSBcIlwiO1xuICByID0gdXJsLm1hdGNoKC9eKFtePyNdKikoWz8jXS4qKSQvKTtcbiAgaWYgKHIpIHtcbiAgICB1cmwgPSByWzFdO1xuICAgIHVybE9wdGlvbiA9IHJbMl07XG4gIH1cblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIGkgPSB1cmwuaW5kZXhPZihcIi8uLi9cIik7XG4gICAgaWYgKGkgPD0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNvbnN0IGogPSB1cmwubGFzdEluZGV4T2YoXCIvXCIsIGkgLSAxKTtcbiAgICBpZiAoaiA8PSAwKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgdXJsID0gdXJsLnN1YnN0cigwLCBqKSArIHVybC5zdWJzdHIoaSArIDMpO1xuICB9XG4gIHJldHVybiB1cmwucmVwbGFjZSgvXFwvKFxcLlxcLykrL2csIFwiL1wiKSArIHVybE9wdGlvbjtcbn1cblxuLyoqXG4gKiBAcmV0dXJuIGNvbnZlcnRlZCBVUkxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRTcGVjaWFsVVJMKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgbGV0IHI6IFJlZ0V4cE1hdGNoQXJyYXk7XG4gIGlmIChcbiAgICAociA9IC9eKGh0dHBzPzopXFwvXFwvZ2l0aHViXFwuY29tXFwvKFteL10rXFwvW14vXSspXFwvKGJsb2JcXC98dHJlZVxcL3xyYXdcXC8pPyguKikkLy5leGVjKFxuICAgICAgdXJsLFxuICAgICkpXG4gICkge1xuICAgIC8vIENvbnZlcnQgR2l0SHViIFVSTCB0byBHaXRIdWIgcmF3IFVSTFxuICAgIHVybCA9IGAke3JbMV19Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLyR7clsyXX0vJHtyWzNdID8gXCJcIiA6IFwibWFzdGVyL1wifSR7XG4gICAgICByWzRdXG4gICAgfWA7XG4gIH0gZWxzZSBpZiAoXG4gICAgKHIgPSAvXihodHRwcz86KVxcL1xcL3d3d1xcLmFvem9yYVxcLmdyXFwuanBcXC8oY2FyZHNcXC9bXi9dK1xcL2ZpbGVzXFwvW14vLl0rXFwuaHRtbCkkLy5leGVjKFxuICAgICAgdXJsLFxuICAgICkpXG4gICkge1xuICAgIC8vIENvbnZlcnQgQW96b3JhYnVua28gKFgpSFRNTCBVUkwgdG8gR2l0SHViIHJhdyBVUkxcbiAgICB1cmwgPSBgJHtyWzFdfS8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9hb3pvcmFidW5rby9hb3pvcmFidW5rby9tYXN0ZXIvJHtyWzJdfWA7XG4gIH0gZWxzZSBpZiAoXG4gICAgKHIgPSAvXihodHRwcz86KVxcL1xcL2dpc3RcXC5naXRodWJcXC5jb21cXC8oW14vXStcXC9cXHcrKShcXC98JCkocmF3KFxcL3wkKSk/KC4qKSQvLmV4ZWMoXG4gICAgICB1cmwsXG4gICAgKSlcbiAgKSB7XG4gICAgLy8gQ29udmVydCBHaXN0IFVSTCB0byBHaXN0IHJhdyBVUkxcbiAgICB1cmwgPSBgJHtyWzFdfS8vZ2lzdC5naXRodWJ1c2VyY29udGVudC5jb20vJHtyWzJdfS9yYXcvJHtyWzZdfWA7XG4gIH0gZWxzZSBpZiAoXG4gICAgKHIgPSAvXihodHRwcz86KVxcL1xcLyg/OlteLy5dK1xcLik/anNiaW5cXC5jb21cXC8oPyEoPzpibG9nfGhlbHApXFxiKShcXHcrKSgoXFwvXFxkKyk/KS4qJC8uZXhlYyhcbiAgICAgIHVybCxcbiAgICApKVxuICApIHtcbiAgICAvLyBDb252ZXJ0IEpTIEJpbiBVUkwgdG8gSlMgQmluIG91dHB1dCBVUkxcbiAgICB1cmwgPSBgJHtyWzFdfS8vb3V0cHV0LmpzYmluLmNvbS8ke3JbMl19JHtyWzNdfS9gO1xuICB9XG4gIHJldHVybiB1cmw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRG9jdW1lbnRVUkxUcmFuc2Zvcm1lciB7XG4gIHRyYW5zZm9ybUZyYWdtZW50KGZyYWdtZW50OiBzdHJpbmcsIGJhc2VVUkw6IHN0cmluZyk6IHN0cmluZztcblxuICB0cmFuc2Zvcm1VUkwodXJsOiBzdHJpbmcsIGJhc2VVUkw6IHN0cmluZyk6IHN0cmluZztcblxuICByZXN0b3JlVVJMKGVuY29kZWQ6IHN0cmluZyk6IHN0cmluZ1tdO1xufVxuXG4vKipcbiAqIFZhcmlvdXMgbmFtZXNwYWNlcy5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIE5TIHtcbiAgRkIyID0gXCJodHRwOi8vd3d3LmdyaWJ1c2VyLnJ1L3htbC9maWN0aW9uYm9vay8yLjBcIixcbiAgZXB1YiA9IFwiaHR0cDovL3d3dy5pZHBmLm9yZy8yMDA3L29wc1wiLFxuICBFViA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMS94bWwtZXZlbnRzXCIsXG4gIE1BVEhNTCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFwiLFxuICBYTUwgPSBcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLFxuICBYSFRNTCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLFxuICBYTElOSyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLFxuICBTSEFET1cgPSBcImh0dHA6Ly93d3cucHlyb3h5LmNvbS9ucy9zaGFkb3dcIixcbiAgU1ZHID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICBEQyA9IFwiaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS9cIixcbiAgTkNYID0gXCJodHRwOi8vd3d3LmRhaXN5Lm9yZy96Mzk4Ni8yMDA1L25jeC9cIixcbiAgU1NFID0gXCJodHRwOi8vZXhhbXBsZS5jb20vc3NlXCIsIC8vIHRlbXBvcmFyeSBkdW1teSBuYW1lc3BhY2Vcbn1cblxuLyoqXG4gKiBAcGFyYW0gbmFtZSBwYXJhbWV0ZXIgbmFtZVxuICogQHBhcmFtIG9wdF91cmwgVVJMOyB3aW5kb3cubG9jYXRpb24uaHJlZiBpcyB1c2VkIGlmIG5vdCBwcm92aWRlZFxuICogQHJldHVybiBwYXJhbWV0ZXIgdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVSTFBhcmFtKG5hbWU6IHN0cmluZywgb3B0X3VybD86IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICBjb25zdCByZyA9IG5ldyBSZWdFeHAoYCMoLiomKT8ke2VzY2FwZVJlZ0V4cChuYW1lKX09KFteIyZdKilgKTtcbiAgY29uc3QgdXJsID0gb3B0X3VybCB8fCB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgY29uc3QgciA9IHVybC5tYXRjaChyZyk7XG4gIGlmIChyKSB7XG4gICAgcmV0dXJuIHJbMl07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQHBhcmFtIG5hbWUgcGFyYW1ldGVyIG5hbWVcbiAqIEBwYXJhbSB2YWx1ZSBwYXJhbWV0ZXIgdmFsdWVcbiAqIEByZXR1cm4gbmV3IHVybFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VVJMUGFyYW0odXJsOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHJnID0gbmV3IFJlZ0V4cChgIyguKiYpPyR7ZXNjYXBlUmVnRXhwKG5hbWUpfT0oW14jJl0qKWApO1xuICBjb25zdCByID0gdXJsLm1hdGNoKHJnKTtcbiAgaWYgKHIpIHtcbiAgICBjb25zdCBsZW5ndGggPSByWzJdLmxlbmd0aDtcbiAgICBjb25zdCBpbmRleCA9IHIuaW5kZXggKyByWzBdLmxlbmd0aCAtIGxlbmd0aDtcbiAgICByZXR1cm4gdXJsLnN1YnN0cigwLCBpbmRleCkgKyB2YWx1ZSArIHVybC5zdWJzdHIoaW5kZXggKyBsZW5ndGgpO1xuICB9XG4gIGlmICghdXJsLm1hdGNoKC8jLykpIHtcbiAgICByZXR1cm4gYCR7dXJsfSMke25hbWV9PSR7dmFsdWV9YDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYCR7dXJsfSYke25hbWV9PSR7dmFsdWV9YDtcbiAgfVxufVxuXG4vKipcbiAqIEByZXR1cm4gP3N0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gYXNTdHJpbmcodjogYW55KTogYW55IHtcbiAgaWYgKHYgPT0gbnVsbCkge1xuICAgIHJldHVybiB2O1xuICB9XG4gIHJldHVybiB2LnRvU3RyaW5nKCk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGFyYWJsZSB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIC0xIHdoZW4gdGhpcyBsZXNzIHRoZW4gb3RoZXIsIDAgd2hlbiB0aGlzIGVxdWFscyBvdGhlclxuICAgKi9cbiAgY29tcGFyZShvdGhlcjogQ29tcGFyYWJsZSk6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBBIHByaW9yaXR5IHF1ZXVlLlxuICovXG5leHBvcnQgY2xhc3MgUHJpb3JpdHlRdWV1ZSB7XG4gIHF1ZXVlOiBDb21wYXJhYmxlW10gPSBbbnVsbF07XG5cbiAgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucXVldWUubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIGFkZChpdGVtOiBDb21wYXJhYmxlKTogdm9pZCB7XG4gICAgbGV0IGluZGV4ID0gdGhpcy5xdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUgKGluZGV4ID4gMSkge1xuICAgICAgY29uc3QgcGFyZW50SW5kZXggPSBNYXRoLmZsb29yKGluZGV4IC8gMik7XG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnF1ZXVlW3BhcmVudEluZGV4XTtcbiAgICAgIGlmIChwYXJlbnQuY29tcGFyZShpdGVtKSA+IDApIHtcbiAgICAgICAgdGhpcy5xdWV1ZVtpbmRleF0gPSBpdGVtO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnF1ZXVlW2luZGV4XSA9IHBhcmVudDtcbiAgICAgIGluZGV4ID0gcGFyZW50SW5kZXg7XG4gICAgfVxuICAgIHRoaXMucXVldWVbMV0gPSBpdGVtO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gaGlnaGVzdCBwcmlvcml0eSBDb21wYXJhYmxlLlxuICAgKi9cbiAgcGVlaygpOiBDb21wYXJhYmxlIHtcbiAgICByZXR1cm4gdGhpcy5xdWV1ZVsxXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGhpZ2hlc3QtcHJpb3JpdHkgaXRlbSBmcm9tIHRoZSBxdWV1ZS5cbiAgICogQHJldHVybiByZW1vdmVkIGl0ZW0uXG4gICAqL1xuICByZW1vdmUoKTogQ29tcGFyYWJsZSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5xdWV1ZVsxXSBhcyBDb21wYXJhYmxlO1xuICAgIGNvbnN0IGN1cnIgPSB0aGlzLnF1ZXVlLnBvcCgpIGFzIENvbXBhcmFibGU7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMucXVldWUubGVuZ3RoO1xuICAgIGlmIChzaXplID4gMSkge1xuICAgICAgbGV0IGluZGV4ID0gMTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGxldCBjaGlsZEluZGV4ID0gaW5kZXggKiAyO1xuICAgICAgICBpZiAoY2hpbGRJbmRleCA+PSBzaXplKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucXVldWVbY2hpbGRJbmRleF0uY29tcGFyZShjdXJyKSA+IDApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjaGlsZEluZGV4ICsgMSA8IHNpemUgJiZcbiAgICAgICAgICAgIHRoaXMucXVldWVbY2hpbGRJbmRleCArIDFdLmNvbXBhcmUoXG4gICAgICAgICAgICAgIHRoaXMucXVldWVbY2hpbGRJbmRleF0gYXMgQ29tcGFyYWJsZSxcbiAgICAgICAgICAgICkgPiAwXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjaGlsZEluZGV4Kys7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIGNoaWxkSW5kZXggKyAxIDwgc2l6ZSAmJlxuICAgICAgICAgIHRoaXMucXVldWVbY2hpbGRJbmRleCArIDFdLmNvbXBhcmUoY3VycikgPiAwXG4gICAgICAgICkge1xuICAgICAgICAgIGNoaWxkSW5kZXgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnF1ZXVlW2luZGV4XSA9IHRoaXMucXVldWVbY2hpbGRJbmRleF07XG4gICAgICAgIGluZGV4ID0gY2hpbGRJbmRleDtcbiAgICAgIH1cbiAgICAgIHRoaXMucXVldWVbaW5kZXhdID0gY3VycjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSBwcmVmaXggUHJlZml4IChjb250YWluaW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nIGh5cGhlbnMpXG4gKiBAcGFyYW0gY3NzUHJvcE5hbWUgQ1NTIHByb3BlcnR5IG5hbWVcbiAqIEByZXR1cm4gSmF2YVNjcmlwdCBwcm9wZXJ0eSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjc3NUb0pTUHJvcChwcmVmaXg6IHN0cmluZywgY3NzUHJvcE5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmIChwcmVmaXgpIHtcbiAgICBjc3NQcm9wTmFtZSA9IGAtJHtjc3NQcm9wTmFtZX1gO1xuICAgIHByZWZpeCA9IHByZWZpeC5yZXBsYWNlKC8tL2csIFwiXCIpO1xuICAgIGlmIChwcmVmaXggPT09IFwibW96XCIpIHtcbiAgICAgIHByZWZpeCA9IFwiTW96XCI7XG4gICAgfVxuICB9XG4gIHJldHVybiAoXG4gICAgcHJlZml4ICtcbiAgICBjc3NQcm9wTmFtZS5yZXBsYWNlKC8tW2Etel0vZywgKHR4dCkgPT4gdHh0LnN1YnN0cigxKS50b1VwcGVyQ2FzZSgpKVxuICApO1xufVxuXG5leHBvcnQgY29uc3Qga25vd25QcmVmaXhlcyA9IFtcIlwiLCBcIi13ZWJraXQtXCIsIFwiLW1vei1cIiwgXCItbXMtXCIsIFwiLW8tXCIsIFwiLWVwdWItXCJdO1xuXG5leHBvcnQgY29uc3QgcHJvcE5hbWVNYXAgPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcbiAgcHJlZml4OiBzdHJpbmcsXG4gIHByb3A6IHN0cmluZyxcbik6IGJvb2xlYW4ge1xuICAvLyBTcGVjaWFsIGNhc2VcbiAgaWYgKHByb3AgPT09IFwid3JpdGluZy1tb2RlXCIpIHtcbiAgICBjb25zdCBwcm9iZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGlmIChwcmVmaXggPT09IFwiLW1zLVwiKSB7XG4gICAgICBwcm9iZS5zdHlsZS5zZXRQcm9wZXJ0eShwcmVmaXggKyBwcm9wLCBcInRiLXJsXCIpO1xuICAgICAgcmV0dXJuIHByb2JlLnN0eWxlW1wid3JpdGluZy1tb2RlXCJdID09PSBcInRiLXJsXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2JlLnN0eWxlLnNldFByb3BlcnR5KHByZWZpeCArIHByb3AsIFwidmVydGljYWwtcmxcIik7XG4gICAgICByZXR1cm4gcHJvYmUuc3R5bGVbcHJlZml4ICsgcHJvcF0gPT09IFwidmVydGljYWwtcmxcIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7XG4gICAgcmV0dXJuIHR5cGVvZiBzdHlsZVtjc3NUb0pTUHJvcChwcmVmaXgsIHByb3ApXSA9PT0gXCJzdHJpbmdcIjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWVzKHByb3A6IHN0cmluZyk6IHN0cmluZ1tdIHwgbnVsbCB7XG4gIGxldCBwcmVmaXhlZCA9IHByb3BOYW1lTWFwW3Byb3BdO1xuICBpZiAocHJlZml4ZWQgfHwgcHJlZml4ZWQgPT09IG51bGwpIHtcbiAgICAvLyBudWxsIG1lYW5zIHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlIHByb3BlcnR5XG4gICAgcmV0dXJuIHByZWZpeGVkO1xuICB9XG4gIHN3aXRjaCAocHJvcCkge1xuICAgIGNhc2UgXCJ0ZXh0LWNvbWJpbmUtdXByaWdodFwiOlxuICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciBTYWZhcmlcbiAgICAgIGlmIChcbiAgICAgICAgY2hlY2tJZlByb3BlcnR5U3VwcG9ydGVkKFwiLXdlYmtpdC1cIiwgXCJ0ZXh0LWNvbWJpbmVcIikgJiZcbiAgICAgICAgIWNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIlwiLCBcInRleHQtY29tYmluZS11cHJpZ2h0XCIpXG4gICAgICApIHtcbiAgICAgICAgcHJvcE5hbWVNYXBbcHJvcF0gPSBbXCItd2Via2l0LXRleHQtY29tYmluZVwiXTtcbiAgICAgICAgcmV0dXJuIFtcIi13ZWJraXQtdGV4dC1jb21iaW5lXCJdO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIndyaXRpbmctbW9kZVwiOlxuICAgICAgLy8gU3BlY2lhbCBjYXNlOiBwcmVmZXIgJy1tcy13cml0aW5nLW1vZGUnIHRvICd3cml0aW5nLW1vZGUnXG4gICAgICBpZiAoY2hlY2tJZlByb3BlcnR5U3VwcG9ydGVkKFwiLW1zLVwiLCBcIndyaXRpbmctbW9kZVwiKSkge1xuICAgICAgICBwcm9wTmFtZU1hcFtwcm9wXSA9IFtcIi1tcy13cml0aW5nLW1vZGVcIl07XG4gICAgICAgIHJldHVybiBbXCItbXMtd3JpdGluZy1tb2RlXCJdO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImZpbHRlclwiOlxuICAgICAgLy8gU3BlY2lhbCBjYXNlOiBwcmVmZXIgJy13ZWJraXQtZmlsdGVyJyB0byAnZmlsdGVyJ1xuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwiZmlsdGVyXCIpKSB7XG4gICAgICAgIHByb3BOYW1lTWFwW3Byb3BdID0gW1wiLXdlYmtpdC1maWx0ZXJcIl07XG4gICAgICAgIHJldHVybiBbXCItd2Via2l0LWZpbHRlclwiXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJjbGlwLXBhdGhcIjpcbiAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgY2hyb21lLlxuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwiY2xpcC1wYXRoXCIpKSB7XG4gICAgICAgIHJldHVybiAocHJvcE5hbWVNYXBbcHJvcF0gPSBbXCItd2Via2l0LWNsaXAtcGF0aFwiLCBcImNsaXAtcGF0aFwiXSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwibWFyZ2luLWlubGluZS1zdGFydFwiOlxuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwibWFyZ2luLXN0YXJ0XCIpKSB7XG4gICAgICAgIHByb3BOYW1lTWFwW3Byb3BdID0gW1wiLXdlYmtpdC1tYXJnaW4tc3RhcnRcIl07XG4gICAgICAgIHJldHVybiBbXCItd2Via2l0LW1hcmdpbi1zdGFydFwiXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJtYXJnaW4taW5saW5lLWVuZFwiOlxuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwibWFyZ2luLWVuZFwiKSkge1xuICAgICAgICBwcm9wTmFtZU1hcFtwcm9wXSA9IFtcIi13ZWJraXQtbWFyZ2luLWVuZFwiXTtcbiAgICAgICAgcmV0dXJuIFtcIi13ZWJraXQtbWFyZ2luLWVuZFwiXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJwYWRkaW5nLWlubGluZS1zdGFydFwiOlxuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwicGFkZGluZy1zdGFydFwiKSkge1xuICAgICAgICBwcm9wTmFtZU1hcFtwcm9wXSA9IFtcIi13ZWJraXQtcGFkZGluZy1zdGFydFwiXTtcbiAgICAgICAgcmV0dXJuIFtcIi13ZWJraXQtcGFkZGluZy1zdGFydFwiXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJwYWRkaW5nLWlubGluZS1lbmRcIjpcbiAgICAgIGlmIChjaGVja0lmUHJvcGVydHlTdXBwb3J0ZWQoXCItd2Via2l0LVwiLCBcInBhZGRpbmctZW5kXCIpKSB7XG4gICAgICAgIHByb3BOYW1lTWFwW3Byb3BdID0gW1wiLXdlYmtpdC1wYWRkaW5nLWVuZFwiXTtcbiAgICAgICAgcmV0dXJuIFtcIi13ZWJraXQtcGFkZGluZy1lbmRcIl07XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfVxuICBmb3IgKGNvbnN0IHByZWZpeCBvZiBrbm93blByZWZpeGVzKSB7XG4gICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChwcmVmaXgsIHByb3ApKSB7XG4gICAgICBwcmVmaXhlZCA9IHByZWZpeCArIHByb3A7XG4gICAgICBwcm9wTmFtZU1hcFtwcm9wXSA9IFtwcmVmaXhlZF07XG4gICAgICByZXR1cm4gW3ByZWZpeGVkXTtcbiAgICB9XG4gIH1cblxuICAvLyBOb3Qgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyXG4gIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJQcm9wZXJ0eSBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyOiBcIiwgcHJvcCk7XG4gIHByb3BOYW1lTWFwW3Byb3BdID0gbnVsbDtcbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDU1NQcm9wZXJ0eShcbiAgZWxlbTogRWxlbWVudCxcbiAgcHJvcDogc3RyaW5nLFxuICB2YWx1ZTogc3RyaW5nLFxuKTogdm9pZCB7XG4gIHRyeSB7XG4gICAgY29uc3QgcHJlZml4ZWRQcm9wZXJ0eU5hbWVzID0gZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWVzKHByb3ApO1xuICAgIGlmICghcHJlZml4ZWRQcm9wZXJ0eU5hbWVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByZWZpeGVkUHJvcGVydHlOYW1lcy5mb3JFYWNoKChwcmVmaXhlZCkgPT4ge1xuICAgICAgaWYgKHByZWZpeGVkID09PSBcIi1tcy13cml0aW5nLW1vZGVcIikge1xuICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcImhvcml6b250YWwtdGJcIjpcbiAgICAgICAgICAgIHZhbHVlID0gXCJsci10YlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInZlcnRpY2FsLXJsXCI6XG4gICAgICAgICAgICB2YWx1ZSA9IFwidGItcmxcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ2ZXJ0aWNhbC1sclwiOlxuICAgICAgICAgICAgdmFsdWUgPSBcInRiLWxyXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwcmVmaXhlZCA9PT0gXCItd2Via2l0LXRleHQtY29tYmluZVwiKSB7XG4gICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwiYWxsXCI6XG4gICAgICAgICAgICB2YWx1ZSA9IFwiaG9yaXpvbnRhbFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChlbGVtICYmIChlbGVtIGFzIEhUTUxFbGVtZW50KS5zdHlsZSkge1xuICAgICAgICAoZWxlbSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuc2V0UHJvcGVydHkocHJlZml4ZWQsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDU1NQcm9wZXJ0eShcbiAgZWxlbTogRWxlbWVudCxcbiAgcHJvcDogc3RyaW5nLFxuICBvcHRfdmFsdWU/OiBzdHJpbmcsXG4pOiBzdHJpbmcge1xuICB0cnkge1xuICAgIGNvbnN0IHByb3BlcnR5TmFtZXMgPSBwcm9wTmFtZU1hcFtwcm9wXTtcbiAgICByZXR1cm4gKGVsZW0gYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmdldFByb3BlcnR5VmFsdWUoXG4gICAgICBwcm9wZXJ0eU5hbWVzID8gcHJvcGVydHlOYW1lc1swXSA6IHByb3AsXG4gICAgKTtcbiAgfSBjYXRjaCAoZXJyKSB7fVxuICByZXR1cm4gb3B0X3ZhbHVlIHx8IFwiXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYW5nQXR0cmlidXRlKGVsZW1lbnQ6IEVsZW1lbnQpOiBzdHJpbmcge1xuICBsZXQgbGFuZyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlTlMoTlMuWE1MLCBcImxhbmdcIik7XG4gIGlmICghbGFuZyAmJiBlbGVtZW50Lm5hbWVzcGFjZVVSSSA9PSBOUy5YSFRNTCkge1xuICAgIGxhbmcgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImxhbmdcIik7XG4gIH1cbiAgcmV0dXJuIGxhbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBTdHJpbmdCdWZmZXIge1xuICBsaXN0OiBzdHJpbmdbXSA9IFtdO1xuXG4gIGFwcGVuZChzdHI6IHN0cmluZyk6IFN0cmluZ0J1ZmZlciB7XG4gICAgdGhpcy5saXN0LnB1c2goc3RyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMubGlzdCA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBjb25zdCBzdHIgPSB0aGlzLmxpc3Quam9pbihcIlwiKTtcbiAgICB0aGlzLmxpc3QgPSBbc3RyXTtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVDaGFyKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgLy8gbm90IGNhbGxlZCBmb3Igc3Vycm9nYXRlIHBhaXJzLCBubyBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoZW1cbiAgcmV0dXJuIGBcXFxcJHtzdHIuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNil9IGA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVDU1NJZGVudChuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gbmFtZS5yZXBsYWNlKC9bXi1fYS16QS1aMC05XFx1MDA4MC1cXHVGRkZGXS9nLCBlc2NhcGVDaGFyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUNTU1N0cihzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW1xcdTAwMDAtXFx1MDAxRlwiXFxcXF0vZywgZXNjYXBlQ2hhcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaWdodFVSTEVuY29kZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW1xccysmPz0jXFx1MDA3Ri1cXHVGRkZGXSsvZywgZW5jb2RlVVJJQ29tcG9uZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTGV0dGVyKGNoOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuICEhY2gubWF0Y2goXG4gICAgL15bYS16QS1aXFx1MDA5RVxcdTAwOUZcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyNEZcXHUwMzdCLVxcdTAzN0RcXHUwMzg2XFx1MDM4OC1cXHUwNDgyXFx1MDQ4QS1cXHUwNTI3XSQvLFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlQ2hhclRvSGV4KHN0cjogc3RyaW5nLCBwcmVmaXg/OiBzdHJpbmcpOiBzdHJpbmcge1xuICBwcmVmaXggPSB0eXBlb2YgcHJlZml4ID09PSBcInN0cmluZ1wiID8gcHJlZml4IDogXCJcXFxcdVwiO1xuICByZXR1cm4gcHJlZml4ICsgKDY1NTM2IHwgc3RyLmNoYXJDb2RlQXQoMCkpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVOYW1lU3RyVG9IZXgoc3RyOiBzdHJpbmcsIHByZWZpeD86IHN0cmluZyk6IHN0cmluZyB7XG4gIGZ1bmN0aW9uIGVzY2FwZUNoYXIocykge1xuICAgIHJldHVybiBlc2NhcGVDaGFyVG9IZXgocywgcHJlZml4KTtcbiAgfVxuICByZXR1cm4gc3RyLnJlcGxhY2UoL1teLWEtekEtWjAtOV9dL2csIGVzY2FwZUNoYXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGVzY2FwZU5hbWVTdHJUb0hleChzdHIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5lc2NhcGVDaGFyRnJvbUhleChzdHI6IHN0cmluZywgcHJlZml4Pzogc3RyaW5nKTogc3RyaW5nIHtcbiAgcHJlZml4ID0gdHlwZW9mIHByZWZpeCA9PT0gXCJzdHJpbmdcIiA/IHByZWZpeCA6IFwiXFxcXHVcIjtcbiAgaWYgKHN0ci5pbmRleE9mKHByZWZpeCkgPT09IDApIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChzdHIuc3Vic3RyaW5nKHByZWZpeC5sZW5ndGgpLCAxNikpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuZXNjYXBlU3RyRnJvbUhleChzdHI6IHN0cmluZywgcHJlZml4Pzogc3RyaW5nKTogc3RyaW5nIHtcbiAgcHJlZml4ID0gdHlwZW9mIHByZWZpeCA9PT0gXCJzdHJpbmdcIiA/IHByZWZpeCA6IFwiXFxcXHVcIjtcblxuICBmdW5jdGlvbiB1bmVzY2FwZUNoYXIocykge1xuICAgIHJldHVybiB1bmVzY2FwZUNoYXJGcm9tSGV4KHMsIHByZWZpeCk7XG4gIH1cbiAgY29uc3QgcmVnZXhwID0gbmV3IFJlZ0V4cChgJHtlc2NhcGVSZWdFeHAocHJlZml4KX1bMC05YS1mQS1GXXs0fWAsIFwiZ1wiKTtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKHJlZ2V4cCwgdW5lc2NhcGVDaGFyKTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiBnb29kIGlzIGRlZmluZWQgZm9yIGludHMgZnJvbSAwIHRvIGhpZ2gtMS4gSXQgaXMgc3VjaCB0aGF0IGZvclxuICogZWFjaCBpIGJldHdlZW4gMSBhbmQgaGlnaC0xICFnb29kKGktMSkgfHwgZ29vZChpKSBpcyB0cnVlLiBJbiBvdGhlciB3b3JkcyxcbiAqIGl0IGdvZXMgbGlrZSBmYWxzZSAuLi4gZmFsc2UgdHJ1ZSAuLi4gdHJ1ZS5cbiAqIEZpbmQgaSBzdWNoIHRoYXQgKGkgPT0gMCB8fCAhZ29vZChpLTEpKSAmJiAoaSA9PSBoIHx8IGdvb2QoaSkpXG4gKiBJbiBvdGhlciB3b3JkcywgZ29vZChpKSBpcyB0aGUgXCJmaXJzdFwiIGdvb2QgPSB0cnVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluYXJ5U2VhcmNoKFxuICBoaWdoOiBudW1iZXIsXG4gIGdvb2Q6IChwMTogbnVtYmVyKSA9PiBib29sZWFuLFxuKTogbnVtYmVyIHtcbiAgbGV0IGwgPSAwO1xuICBsZXQgaCA9IGhpZ2g7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgQXNzZXJ0cy5hc3NlcnQobCA8PSBoKTtcbiAgICBBc3NlcnRzLmFzc2VydChsID09IDAgfHwgIWdvb2QobCAtIDEpKTtcbiAgICBBc3NlcnRzLmFzc2VydChoID09IGhpZ2ggfHwgZ29vZChoKSk7XG4gICAgaWYgKGwgPT0gaCkge1xuICAgICAgcmV0dXJuIGw7XG4gICAgfVxuICAgIGNvbnN0IG0gPSAobCArIGgpID4+IDE7XG4gICAgaWYgKGdvb2QobSkpIHtcbiAgICAgIGggPSBtO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gbSArIDE7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gc29ydCBudW1iZXJzIGxvdyB0byBoaWdoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJDb21wYXJlKGE6IG51bWJlciwgYjogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIGEgLSBiO1xufVxuXG5leHBvcnQgY29uc3QgYmFzZTY0Q2hhcnMgPVxuICBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZEJhc2U2NChzYjogU3RyaW5nQnVmZmVyLCBkYXRhOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gIGNvbnN0IGxlbmd0aDMgPSBNYXRoLmZsb29yKGxlbmd0aCAvIDMpICogMztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGgzOyBpICs9IDMpIHtcbiAgICBjb25zdCBjMSA9IGRhdGEuY2hhckNvZGVBdChpKSAmIDI1NTtcbiAgICBjb25zdCBjMiA9IGRhdGEuY2hhckNvZGVBdChpICsgMSkgJiAyNTU7XG4gICAgY29uc3QgYzMgPSBkYXRhLmNoYXJDb2RlQXQoaSArIDIpICYgMjU1O1xuICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoYzEgPj4gMikpO1xuICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoKChjMSA8PCA0KSB8IChjMiA+PiA0KSkgJiA2MykpO1xuICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoKChjMiA8PCAyKSB8IChjMyA+PiA2KSkgJiA2MykpO1xuICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoYzMgJiA2MykpO1xuICB9XG4gIHN3aXRjaCAobGVuZ3RoIC0gbGVuZ3RoMykge1xuICAgIGNhc2UgMToge1xuICAgICAgY29uc3QgcDEgPSBkYXRhLmNoYXJDb2RlQXQobGVuZ3RoMykgJiAyNTU7XG4gICAgICBzYi5hcHBlbmQoYmFzZTY0Q2hhcnMuY2hhckF0KHAxID4+IDIpKTtcbiAgICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoKHAxIDw8IDQpICYgNjMpKTtcbiAgICAgIHNiLmFwcGVuZChcIj09XCIpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgMjoge1xuICAgICAgY29uc3QgcTEgPSBkYXRhLmNoYXJDb2RlQXQobGVuZ3RoMykgJiAyNTU7XG4gICAgICBjb25zdCBxMiA9IGRhdGEuY2hhckNvZGVBdChsZW5ndGgzICsgMSkgJiAyNTU7XG4gICAgICBzYi5hcHBlbmQoYmFzZTY0Q2hhcnMuY2hhckF0KHExID4+IDIpKTtcbiAgICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoKChxMSA8PCA0KSB8IChxMiA+PiA0KSkgJiA2MykpO1xuICAgICAgc2IuYXBwZW5kKGJhc2U2NENoYXJzLmNoYXJBdCgocTIgPDwgMikgJiA2MykpO1xuICAgICAgc2IuYXBwZW5kKFwiPVwiKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEluZGV4IGFycmF5IHVzaW5nIGtleSBmdW5jdGlvbi4gRmlyc3QgZW5jb3VudGVyZWQgaXRlbSB3aW5zIG9uIGNvbGxpc2lvbi5cbiAqIEVsZW1lbnRzIHdpdGggZW1wdHkgYW5kIG51bGwga2V5cyBhcmUgZHJvcHBlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZGV4QXJyYXk8VD4oXG4gIGFycjogVFtdLFxuICBrZXk6IChwMTogVCkgPT4gc3RyaW5nIHwgbnVsbCxcbik6IHsgW2tleTogc3RyaW5nXTogVCB9IHtcbiAgY29uc3QgbWFwOiB7IFtrZXk6IHN0cmluZ106IFQgfSA9IHt9O1xuICBmb3IgKGNvbnN0IHYgb2YgYXJyKSB7XG4gICAgY29uc3Qgazogc3RyaW5nIHwgbnVsbCA9IGtleSh2KTtcbiAgICBpZiAoayAmJiAhbWFwW2tdKSB7XG4gICAgICBtYXBba10gPSB2O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWFwO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2Ygc3RyaW5ncyB0byBhbiBvYmplY3Qgd2l0aCB0aGUgdmFsdWVzIGluIHRoZSBhcnJheSBzZXQgdG9cbiAqIHRydWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcnJheVRvU2V0KGFycjogc3RyaW5nW10pOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSB7XG4gIGNvbnN0IHNldCA9IHt9O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIHNldFthcnJbaV1dID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gc2V0O1xufVxuXG4vKipcbiAqIEluZGV4IGFycmF5IHVzaW5nIGtleSBmdW5jdGlvbi4gUmVwZWF0ZWQgaW5kaWNlcyBhcmUgYWxsIGNvbWJpbmVkIGludG9cbiAqIGFycmF5cy4gRWxlbWVudHMgd2l0aCBlbXB0eSBhbmQgbnVsbCBrZXlzIGFyZSBkcm9wcGVkLiBPcmRlcmluZyBvZiB0aGVcbiAqIGVsZW1lbnRzIGluIGFycmF5cyBpcyBwcmVzZXJ2ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aUluZGV4QXJyYXk8VD4oXG4gIGFycjogVFtdLFxuICBrZXk6IChwMTogVCkgPT4gc3RyaW5nIHwgbnVsbCxcbik6IHsgW2tleTogc3RyaW5nXTogVFtdIH0ge1xuICBjb25zdCBtYXA6IHsgW2tleTogc3RyaW5nXTogVFtdIH0gPSB7fTtcbiAgZm9yIChjb25zdCB2IG9mIGFycikge1xuICAgIGNvbnN0IGsgPSBrZXkodik7XG4gICAgaWYgKGspIHtcbiAgICAgIGlmIChtYXBba10pIHtcbiAgICAgICAgbWFwW2tdLnB1c2godik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBba10gPSBbdl07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXA7XG59XG5cbi8qKlxuICogQXBwbHkgZnVuY3Rpb24gdG8gZWFjaCB2YWx1ZSBvZiB0aGUgb2JqZWN0XG4gKiBAcGFyYW0gZm4gc2Vjb25kIHBhcmFtZXRlciBpcyB0aGUga2V5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXBPYmo8UCwgUj4oXG4gIG9iajogeyBba2V5OiBzdHJpbmddOiBQIH0sXG4gIGZuOiAocDE6IFAsIHAyOiBzdHJpbmcpID0+IFIsXG4pOiB7IFtrZXk6IHN0cmluZ106IFIgfSB7XG4gIGNvbnN0IHJlczogeyBba2V5OiBzdHJpbmddOiBSIH0gPSB7fTtcbiAgZm9yIChjb25zdCBuIGluIG9iaikge1xuICAgIHJlc1tuXSA9IGZuKG9ialtuXSwgbik7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcFNpemUob2JqOiBvYmplY3QpOiBudW1iZXIge1xuICBsZXQgbiA9IDA7XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIG4rKztcbiAgfVxuICByZXR1cm4gbjtcbn1cblxuZXhwb3J0IHR5cGUgRXZlbnQgPSB7XG4gIHR5cGU6IHN0cmluZztcbiAgdGFyZ2V0PztcbiAgY3VycmVudFRhcmdldD87XG4gIHByZXZlbnREZWZhdWx0PztcbiAgbmV3UGFnZT87XG4gIGFuY2hvckVsZW1lbnQ/O1xuICBocmVmPztcbiAgY29udGVudD87XG59O1xuXG5leHBvcnQgdHlwZSBFdmVudExpc3RlbmVyID0gKHAxOiBFdmVudCkgPT4gdm9pZDtcblxuLyoqXG4gKiBFeHRlbWVseSBzaW1wbGUtbWluZGVkIEV2ZW50VGFyZ2V0IGltcGxlbWVudGF0aW9uLiBDb25zaWRlciB1c2luZ1xuICogZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQgaWYgeW91IGFyZSB1c2luZyBDbG9zdXJlIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBjbGFzcyBTaW1wbGVFdmVudFRhcmdldCB7XG4gIGxpc3RlbmVyczogeyBba2V5OiBzdHJpbmddOiBFdmVudExpc3RlbmVyW10gfSA9IHt9O1xuXG4gIGRpc3BhdGNoRXZlbnQoZXZ0OiBFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IGxpc3QgPSB0aGlzLmxpc3RlbmVyc1tldnQudHlwZV07XG4gICAgaWYgKGxpc3QpIHtcbiAgICAgIGV2dC50YXJnZXQgPSB0aGlzO1xuICAgICAgZXZ0LmN1cnJlbnRUYXJnZXQgPSB0aGlzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxpc3RbaV0oZXZ0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVyKFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcixcbiAgICBjYXB0dXJlPzogYm9vbGVhbixcbiAgKTogdm9pZCB7XG4gICAgaWYgKGNhcHR1cmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbGlzdCA9IHRoaXMubGlzdGVuZXJzW3R5cGVdO1xuICAgIGlmIChsaXN0KSB7XG4gICAgICBsaXN0LnB1c2gobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxpc3RlbmVyc1t0eXBlXSA9IFtsaXN0ZW5lcl07XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgbGlzdGVuZXI6IEV2ZW50TGlzdGVuZXIsXG4gICAgY2FwdHVyZT86IGJvb2xlYW4sXG4gICk6IHZvaWQge1xuICAgIGlmIChjYXB0dXJlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxpc3QgPSB0aGlzLmxpc3RlbmVyc1t0eXBlXTtcbiAgICBpZiAobGlzdCkge1xuICAgICAgY29uc3QgaW5kZXggPSBsaXN0LmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZXhwb3J0IHR5cGUgRXZlbnRUYXJnZXQgPSBTaW1wbGVFdmVudFRhcmdldDtcblxuZXhwb3J0IGxldCBoYXNMU2hhcGVGbG9hdEJ1ZzogYm9vbGVhbiB8IG51bGwgPSBudWxsO1xuXG4vKipcbiAqIENoZWNrIGlmIHRoZXJlIGlzIGEgYnVnIHdpdGggTC1zaGFwZSBmbG9hdHMgb3ZlcmxhcHBpbmcgdGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrTFNoYXBlRmxvYXRCdWcoYm9keTogSFRNTEVsZW1lbnQpOiBib29sZWFuIHtcbiAgaWYgKGhhc0xTaGFwZUZsb2F0QnVnID09IG51bGwpIHtcbiAgICBjb25zdCBkb2MgPSBib2R5Lm93bmVyRG9jdW1lbnQ7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSBcIjBweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBcIjEwMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMTAwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5saW5lSGVpZ2h0ID0gXCIxNnB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmZvbnRTaXplID0gXCIxNnB4XCI7XG4gICAgYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgIGNvbnN0IGYxID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgZjEuc3R5bGUud2lkdGggPSBcIjBweFwiO1xuICAgIGYxLnN0eWxlLmhlaWdodCA9IFwiMTRweFwiO1xuICAgIGYxLnN0eWxlLmNzc0Zsb2F0ID0gXCJsZWZ0XCI7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGYxKTtcbiAgICBjb25zdCBmMiA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGYyLnN0eWxlLndpZHRoID0gXCI1MHB4XCI7XG4gICAgZjIuc3R5bGUuaGVpZ2h0ID0gXCI1MHB4XCI7XG4gICAgZjIuc3R5bGUuY3NzRmxvYXQgPSBcImxlZnRcIjtcbiAgICBmMi5zdHlsZS5jbGVhciA9IFwibGVmdFwiO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChmMik7XG4gICAgY29uc3QgdCA9IGRvYy5jcmVhdGVUZXh0Tm9kZShcImEgYSBhIGEgYSBhIGEgYSBhIGEgYSBhIGEgYSBhIGFcIik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHQpO1xuICAgIGNvbnN0IHJhbmdlID0gZG9jLmNyZWF0ZVJhbmdlKCk7XG4gICAgcmFuZ2Uuc2V0U3RhcnQodCwgMCk7XG4gICAgcmFuZ2Uuc2V0RW5kKHQsIDEpO1xuICAgIGNvbnN0IGxlZnRFZGdlID0gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICBoYXNMU2hhcGVGbG9hdEJ1ZyA9IGxlZnRFZGdlIDwgNDA7XG4gICAgYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICB9XG4gIHJldHVybiBoYXNMU2hhcGVGbG9hdEJ1Zztcbn1cblxuZXhwb3J0IGxldCBoYXNWZXJ0aWNhbEJCb3hCdWc6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGVyZSBpcyBhIGJ1ZyB3aXRoIHRoZSBib3VuZGluZyBib3hlcyBvZiB2ZXJ0aWNhbCB0ZXh0IGNoYXJhY3RlcnMuXG4gKiBUaG91Z2ggbWV0aG9kIHVzZWQgdG8gYmUgdXNlZCBjaGVjayBDaHJvbWUgYnVnLCBpdCBzZWVtcyB0aGF0IHRoZSBidWcgaGFzXG4gKiBiZWVuIGFscmVhZHkgZml4ZWQ6XG4gKiAgIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI5NzgwOFxuICogV2Ugbm93IHVzZSB0aGlzIG1ldGhvZCB0byBjaGVjayBGaXJlZm94IGJ1ZzpcbiAqICAgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTE1OTMwOVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tWZXJ0aWNhbEJCb3hCdWcoYm9keTogSFRNTEVsZW1lbnQpOiBib29sZWFuIHtcbiAgaWYgKGhhc1ZlcnRpY2FsQkJveEJ1ZyA9PSBudWxsKSB7XG4gICAgY29uc3QgZG9jID0gYm9keS5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBjb250YWluZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gXCIxMDBweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBcIjEwMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICBjb250YWluZXIuc3R5bGUubGluZUhlaWdodCA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5mb250U2l6ZSA9IFwiMTZweFwiO1xuICAgIHNldENTU1Byb3BlcnR5KGNvbnRhaW5lciwgXCJ3cml0aW5nLW1vZGVcIiwgXCJ2ZXJ0aWNhbC1ybFwiKTtcbiAgICBib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgY29uc3QgdCA9IGRvYy5jcmVhdGVUZXh0Tm9kZShcImEgYSBhIGEgYSBhIGEgYSBhIGEgYSBhIGEgYSBhIGFcIik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHQpO1xuICAgIGNvbnN0IHJhbmdlID0gZG9jLmNyZWF0ZVJhbmdlKCk7XG4gICAgcmFuZ2Uuc2V0U3RhcnQodCwgMCk7XG4gICAgcmFuZ2Uuc2V0RW5kKHQsIDEpO1xuICAgIGNvbnN0IGJveCA9IHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGhhc1ZlcnRpY2FsQkJveEJ1ZyA9IGJveC5yaWdodCAtIGJveC5sZWZ0IDwgMTA7XG4gICAgYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICB9XG4gIHJldHVybiBoYXNWZXJ0aWNhbEJCb3hCdWc7XG59XG5cbmV4cG9ydCBsZXQgaGFzSW5saW5lQmxvY2tKdXN0aWZpY2F0aW9uQnVnOiBib29sZWFuIHwgbnVsbCA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0lubGluZUJsb2NrSnVzdGlmaWNhdGlvbkJ1Zyhib2R5OiBIVE1MRWxlbWVudCk6IGJvb2xlYW4ge1xuICBpZiAoaGFzSW5saW5lQmxvY2tKdXN0aWZpY2F0aW9uQnVnID09PSBudWxsKSB7XG4gICAgY29uc3QgZG9jID0gYm9keS5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBjb250YWluZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gXCIzMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMTAwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGluZUhlaWdodCA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5mb250U2l6ZSA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS50ZXh0QWxpZ24gPSBcImp1c3RpZnlcIjtcbiAgICBib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgY29uc3QgdCA9IGRvYy5jcmVhdGVUZXh0Tm9kZShcImEgfCBcIik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHQpO1xuICAgIGNvbnN0IGlubGluZUJsb2NrID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGlubGluZUJsb2NrLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgIGlubGluZUJsb2NrLnN0eWxlLndpZHRoID0gXCIzMHB4XCI7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlubGluZUJsb2NrKTtcbiAgICBjb25zdCByYW5nZSA9IGRvYy5jcmVhdGVSYW5nZSgpO1xuICAgIHJhbmdlLnNldFN0YXJ0KHQsIDApO1xuICAgIHJhbmdlLnNldEVuZCh0LCAzKTtcbiAgICBjb25zdCBib3ggPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBoYXNJbmxpbmVCbG9ja0p1c3RpZmljYXRpb25CdWcgPSBib3gucmlnaHQgPCAyNztcbiAgICBib2R5LnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gIH1cbiAgcmV0dXJuIGhhc0lubGluZUJsb2NrSnVzdGlmaWNhdGlvbkJ1Zztcbn1cblxuZXhwb3J0IGxldCBoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QWZ0ZXJIeXBoZW5CdWc6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrU29mdFdyYXBPcHBvcnR1bml0eUFmdGVySHlwaGVuQnVnKFxuICBib2R5OiBIVE1MRWxlbWVudCxcbik6IGJvb2xlYW4ge1xuICBpZiAoaGFzU29mdFdyYXBPcHBvcnR1bml0eUFmdGVySHlwaGVuQnVnID09PSBudWxsKSB7XG4gICAgY29uc3QgZG9jID0gYm9keS5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBjb250YWluZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gXCI0MHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMTAwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGluZUhlaWdodCA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5mb250U2l6ZSA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS50ZXh0QWxpZ24gPSBcImp1c3RpZnlcIjtcbiAgICBib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgY29uc3QgdCA9IGRvYy5jcmVhdGVUZXh0Tm9kZShcImEgYS1cIik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHQpO1xuICAgIGNvbnN0IGlubGluZUJsb2NrID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGlubGluZUJsb2NrLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgIGlubGluZUJsb2NrLnN0eWxlLndpZHRoID0gXCI0MHB4XCI7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlubGluZUJsb2NrKTtcbiAgICBjb25zdCByYW5nZSA9IGRvYy5jcmVhdGVSYW5nZSgpO1xuICAgIHJhbmdlLnNldFN0YXJ0KHQsIDIpO1xuICAgIHJhbmdlLnNldEVuZCh0LCA0KTtcbiAgICBjb25zdCBib3ggPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QWZ0ZXJIeXBoZW5CdWcgPSBib3gucmlnaHQgPCAzNztcbiAgICBib2R5LnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gIH1cbiAgcmV0dXJuIGhhc1NvZnRXcmFwT3Bwb3J0dW5pdHlBZnRlckh5cGhlbkJ1Zztcbn1cblxuZXhwb3J0IGxldCBoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QnlXYnJCdWc6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrU29mdFdyYXBPcHBvcnR1bml0eUJ5V2JyQnVnKGJvZHk6IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XG4gIGlmIChoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QnlXYnJCdWcgPT09IG51bGwpIHtcbiAgICBjb25zdCBkb2MgPSBib2R5Lm93bmVyRG9jdW1lbnQ7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSBcIjBweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBcIjQwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCIxMDBweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5saW5lSGVpZ2h0ID0gXCIxNnB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmZvbnRTaXplID0gXCIxNnB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLnRleHRBbGlnbiA9IFwianVzdGlmeVwiO1xuICAgIGJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICBjb25zdCB0ID0gZG9jLmNyZWF0ZVRleHROb2RlKFwiYSBhLVwiKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodCk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRvYy5jcmVhdGVFbGVtZW50KFwid2JyXCIpKTtcbiAgICBjb25zdCBpbmxpbmVCbG9jayA9IGRvYy5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBpbmxpbmVCbG9jay5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICBpbmxpbmVCbG9jay5zdHlsZS53aWR0aCA9IFwiNDBweFwiO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbmxpbmVCbG9jayk7XG4gICAgY29uc3QgcmFuZ2UgPSBkb2MuY3JlYXRlUmFuZ2UoKTtcbiAgICByYW5nZS5zZXRTdGFydCh0LCAyKTtcbiAgICByYW5nZS5zZXRFbmQodCwgNCk7XG4gICAgY29uc3QgYm94ID0gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaGFzU29mdFdyYXBPcHBvcnR1bml0eUJ5V2JyQnVnID0gYm94LnJpZ2h0IDwgMzc7XG4gICAgYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICB9XG4gIHJldHVybiBoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QnlXYnJCdWc7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENmaSAtIFN1cHBvcnQgZm9yIEVQVUIgQ2Fub25pY2FsIEZyYWdtZW50IElkZW50aWZpZXJzLlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcblxuZXhwb3J0IHR5cGUgUG9zaXRpb24gPSB7XG4gIG5vZGU6IE5vZGU7XG4gIG9mZnNldDogbnVtYmVyO1xuICBhZnRlcjogYm9vbGVhbjtcbiAgc2lkZUJpYXM6IHN0cmluZyB8IG51bGw7XG4gIHJlZjogRnJhZ21lbnQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SWQobm9kZTogTm9kZSk6IHN0cmluZyB8IG51bGwge1xuICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgY29uc3QgaWR0eHQgPSAobm9kZSBhcyBFbGVtZW50KS5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICBpZiAoaWR0eHQgJiYgaWR0eHQubWF0Y2goL15bLWEtekEtWl8wLTkuXFx1MDA3Ri1cXHVGRkZGXSskLykpIHtcbiAgICAgIHJldHVybiBpZHR4dDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVDaGFyKGNoOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYF4ke2NofWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGUoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1tcXFtcXF1cXChcXCksPTteXS9nLCBlc2NhcGVDaGFyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuZXNjYXBlQ2hhcihzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIuc3Vic3RyKDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5lc2NhcGUoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoIXN0cikge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXF5bXFxbXFxdXFwoXFwpLD07Xl0vZywgdW5lc2NhcGVDaGFyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRXh0VmFsKGV4dHN0cjogc3RyaW5nKTogc3RyaW5nIHwgc3RyaW5nW10ge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZG8ge1xuICAgIGNvbnN0IHIgPSBleHRzdHIubWF0Y2goL14oXFxeLHxbXixdKSovKTtcbiAgICBjb25zdCBwID0gdW5lc2NhcGUoclswXSk7XG4gICAgZXh0c3RyID0gZXh0c3RyLnN1YnN0cihyWzBdLmxlbmd0aCArIDEpO1xuICAgIGlmICghZXh0c3RyICYmICFyZXN1bHQubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG4gICAgcmVzdWx0LnB1c2gocCk7XG4gIH0gd2hpbGUgKGV4dHN0cik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUV4dChleHRzdHI6IHN0cmluZyk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW10gfSB7XG4gIGNvbnN0IGV4dCA9IHt9O1xuICB3aGlsZSAoZXh0c3RyKSB7XG4gICAgY29uc3QgciA9IGV4dHN0ci5tYXRjaCgvXjsoW147PV0rKT0oKFteO118XFxeOykqKS8pO1xuICAgIGlmICghcikge1xuICAgICAgcmV0dXJuIGV4dDtcbiAgICB9XG4gICAgZXh0W3JbMV1dID0gcGFyc2VFeHRWYWwoclsyXSk7XG4gICAgZXh0c3RyID0gZXh0c3RyLnN1YnN0cihyWzBdLmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGV4dDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGVwIHtcbiAgYXBwZW5kVG8oc2I6IEJhc2UuU3RyaW5nQnVmZmVyKTogdm9pZDtcblxuICBhcHBseVRvKHBvczogUG9zaXRpb24pOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgUmVmU3RlcCBpbXBsZW1lbnRzIFN0ZXAge1xuICBhcHBlbmRUbyhzYjogQmFzZS5TdHJpbmdCdWZmZXIpIHtcbiAgICBzYi5hcHBlbmQoXCIhXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHlUbyhwb3M6IFBvc2l0aW9uKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGlsZFN0ZXAgaW1wbGVtZW50cyBTdGVwIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGluZGV4OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGlkOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSBzaWRlQmlhczogc3RyaW5nIHwgbnVsbCxcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKHNiOiBCYXNlLlN0cmluZ0J1ZmZlcik6IHZvaWQge1xuICAgIHNiLmFwcGVuZChcIi9cIik7XG4gICAgc2IuYXBwZW5kKHRoaXMuaW5kZXgudG9TdHJpbmcoKSk7XG4gICAgaWYgKHRoaXMuaWQgfHwgdGhpcy5zaWRlQmlhcykge1xuICAgICAgc2IuYXBwZW5kKFwiW1wiKTtcbiAgICAgIGlmICh0aGlzLmlkKSB7XG4gICAgICAgIHNiLmFwcGVuZCh0aGlzLmlkKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNpZGVCaWFzKSB7XG4gICAgICAgIHNiLmFwcGVuZChcIjtzPVwiKTtcbiAgICAgICAgc2IuYXBwZW5kKHRoaXMuc2lkZUJpYXMpO1xuICAgICAgfVxuICAgICAgc2IuYXBwZW5kKFwiXVwiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseVRvKHBvczogUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICBpZiAocG9zLm5vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DRklfTk9UX0VMRU1FTlRcIik7XG4gICAgfVxuICAgIGNvbnN0IGVsZW0gPSBwb3Mubm9kZSBhcyBFbGVtZW50O1xuICAgIGNvbnN0IGNoaWxkRWxlbWVudHMgPSBlbGVtLmNoaWxkcmVuO1xuICAgIGNvbnN0IGNoaWxkRWxlbWVudENvdW50ID0gY2hpbGRFbGVtZW50cy5sZW5ndGg7XG4gICAgbGV0IGNoaWxkOiBOb2RlO1xuICAgIGNvbnN0IGNoaWxkSW5kZXggPSBNYXRoLmZsb29yKHRoaXMuaW5kZXggLyAyKSAtIDE7XG4gICAgaWYgKGNoaWxkSW5kZXggPCAwIHx8IGNoaWxkRWxlbWVudENvdW50ID09IDApIHtcbiAgICAgIGNoaWxkID0gZWxlbS5maXJzdENoaWxkO1xuICAgICAgcG9zLm5vZGUgPSBjaGlsZCB8fCBlbGVtO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGlsZCA9IGNoaWxkRWxlbWVudHNbTWF0aC5taW4oY2hpbGRJbmRleCwgY2hpbGRFbGVtZW50Q291bnQgLSAxKV07XG4gICAgICBpZiAodGhpcy5pbmRleCAmIDEpIHtcbiAgICAgICAgY29uc3QgbmV4dCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICBpZiAoIW5leHQgfHwgbmV4dC5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgcG9zLmFmdGVyID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGlsZCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBvcy5ub2RlID0gY2hpbGQ7XG4gICAgfVxuICAgIGlmICh0aGlzLmlkICYmIChwb3MuYWZ0ZXIgfHwgdGhpcy5pZCAhPSBnZXRJZChwb3Mubm9kZSkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NGSV9JRF9NSVNNQVRDSFwiKTtcbiAgICB9XG4gICAgcG9zLnNpZGVCaWFzID0gdGhpcy5zaWRlQmlhcztcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgT2Zmc2V0U3RlcCBpbXBsZW1lbnRzIFN0ZXAge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgb2Zmc2V0OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHRleHRCZWZvcmU6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIHJlYWRvbmx5IHRleHRBZnRlcjogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2lkZUJpYXM6IHN0cmluZyB8IG51bGwsXG4gICkge31cblxuICBhcHBseVRvKHBvczogUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5vZmZzZXQgPiAwICYmICFwb3MuYWZ0ZXIpIHtcbiAgICAgIGxldCBvZmZzZXQgPSB0aGlzLm9mZnNldDtcbiAgICAgIGxldCBub2RlID0gcG9zLm5vZGU7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCBub2RlVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gICAgICAgIGlmIChub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIGlmICgzIDw9IG5vZGVUeXBlICYmIG5vZGVUeXBlIDw9IDUpIHtcbiAgICAgICAgICBjb25zdCB0ZXh0TGVuZ3RoID0gbm9kZS50ZXh0Q29udGVudC5sZW5ndGg7XG4gICAgICAgICAgaWYgKG9mZnNldCA8PSB0ZXh0TGVuZ3RoKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgICBvZmZzZXQgPSB0ZXh0TGVuZ3RoO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9mZnNldCAtPSB0ZXh0TGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgIG9mZnNldCA9IDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5leHQ7XG4gICAgICB9XG4gICAgICBwb3Mubm9kZSA9IG5vZGU7XG4gICAgICBwb3Mub2Zmc2V0ID0gb2Zmc2V0O1xuICAgIH1cbiAgICBwb3Muc2lkZUJpYXMgPSB0aGlzLnNpZGVCaWFzO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwZW5kVG8oc2I6IEJhc2UuU3RyaW5nQnVmZmVyKTogdm9pZCB7XG4gICAgc2IuYXBwZW5kKFwiOlwiKTtcbiAgICBzYi5hcHBlbmQodGhpcy5vZmZzZXQudG9TdHJpbmcoKSk7XG4gICAgaWYgKHRoaXMudGV4dEJlZm9yZSB8fCB0aGlzLnRleHRBZnRlciB8fCB0aGlzLnNpZGVCaWFzKSB7XG4gICAgICBzYi5hcHBlbmQoXCJbXCIpO1xuICAgICAgaWYgKHRoaXMudGV4dEJlZm9yZSB8fCB0aGlzLnRleHRBZnRlcikge1xuICAgICAgICBpZiAodGhpcy50ZXh0QmVmb3JlKSB7XG4gICAgICAgICAgc2IuYXBwZW5kKGVzY2FwZSh0aGlzLnRleHRCZWZvcmUpKTtcbiAgICAgICAgfVxuICAgICAgICBzYi5hcHBlbmQoXCIsXCIpO1xuICAgICAgICBpZiAodGhpcy50ZXh0QWZ0ZXIpIHtcbiAgICAgICAgICBzYi5hcHBlbmQoZXNjYXBlKHRoaXMudGV4dEFmdGVyKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNpZGVCaWFzKSB7XG4gICAgICAgIHNiLmFwcGVuZChcIjtzPVwiKTtcbiAgICAgICAgc2IuYXBwZW5kKHRoaXMuc2lkZUJpYXMpO1xuICAgICAgfVxuICAgICAgc2IuYXBwZW5kKFwiXVwiKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZyYWdtZW50IHtcbiAgc3RlcHM6IFN0ZXBbXSA9IG51bGw7XG5cbiAgZnJvbVN0cmluZyhmcmFnc3RyOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBsZXQgciA9IGZyYWdzdHIubWF0Y2goL14jP2VwdWJjZmlcXCgoLiopXFwpJC8pO1xuICAgIGlmICghcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DRklfTk9UX0NGSVwiKTtcbiAgICB9XG4gICAgY29uc3Qgc3RyID0gclsxXTtcbiAgICBsZXQgaSA9IDA7XG4gICAgY29uc3Qgc3RlcHMgPSBbXTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgbGV0IGV4dDoge1xuICAgICAgICBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTtcbiAgICAgIH07XG4gICAgICBzd2l0Y2ggKHN0ci5jaGFyQXQoaSkpIHtcbiAgICAgICAgY2FzZSBcIi9cIjoge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgICByID0gc3RyXG4gICAgICAgICAgICAuc3Vic3RyKGkpXG4gICAgICAgICAgICAubWF0Y2goXG4gICAgICAgICAgICAgIC9eKDB8WzEtOV1bMC05XSopKFxcWyhbLWEtekEtWl8wLTkuXFx1MDA3Ri1cXHVGRkZGXSspKDsoW15cXF1dfFxcXlxcXSkqKT9cXF0pPy8sXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmICghcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DRklfTlVNQkVSX0VYUEVDVEVEXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpICs9IHJbMF0ubGVuZ3RoO1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoclsxXSwgMTApO1xuICAgICAgICAgIGNvbnN0IGlkID0gclszXTtcbiAgICAgICAgICBleHQgPSBwYXJzZUV4dChyWzRdKTtcbiAgICAgICAgICBzdGVwcy5wdXNoKG5ldyBDaGlsZFN0ZXAoaW5kZXgsIGlkLCBCYXNlLmFzU3RyaW5nKGV4dFtcInNcIl0pKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIjpcIjoge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgICByID0gc3RyXG4gICAgICAgICAgICAuc3Vic3RyKGkpXG4gICAgICAgICAgICAubWF0Y2goXG4gICAgICAgICAgICAgIC9eKDB8WzEtOV1bMC05XSopKFxcWygoKFteXFxdOyxdfFxcXltcXF07LF0pKikoLCgoW15cXF07LF18XFxeW1xcXTssXSkqKSk/KSg7KFteXV18XFxeXFxdKSopP1xcXSk/LyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NGSV9OVU1CRVJfRVhQRUNURURcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGkgKz0gclswXS5sZW5ndGg7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcGFyc2VJbnQoclsxXSwgMTApO1xuICAgICAgICAgIGxldCB0ZXh0QmVmb3JlID0gcls0XTtcbiAgICAgICAgICBpZiAodGV4dEJlZm9yZSkge1xuICAgICAgICAgICAgdGV4dEJlZm9yZSA9IHVuZXNjYXBlKHRleHRCZWZvcmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgdGV4dEFmdGVyID0gcls3XTtcbiAgICAgICAgICBpZiAodGV4dEFmdGVyKSB7XG4gICAgICAgICAgICB0ZXh0QWZ0ZXIgPSB1bmVzY2FwZSh0ZXh0QWZ0ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBleHQgPSBwYXJzZUV4dChyWzEwXSk7XG4gICAgICAgICAgc3RlcHMucHVzaChcbiAgICAgICAgICAgIG5ldyBPZmZzZXRTdGVwKFxuICAgICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICAgIHRleHRCZWZvcmUsXG4gICAgICAgICAgICAgIHRleHRBZnRlcixcbiAgICAgICAgICAgICAgQmFzZS5hc1N0cmluZyhleHRbXCJzXCJdKSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiIVwiOlxuICAgICAgICAgIGkrKztcbiAgICAgICAgICBzdGVwcy5wdXNoKG5ldyBSZWZTdGVwKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiflwiOlxuICAgICAgICBjYXNlIFwiQFwiOlxuXG4gICAgICAgIC8vIFRpbWUvc3BhY2UgdGVybWludXM7IG9ubHkgdXNlZnVsIGZvciBoaWdobGlnaHRzL3NlbGVjdGlvbnMgd2hpY2ggYXJlXG4gICAgICAgIC8vIG5vdCB5ZXQgc3VwcG9ydGVkLCBza2lwIGZvciBub3cuIGZhbGwgdGhyb3VnaFxuICAgICAgICBjYXNlIFwiXCI6XG4gICAgICAgICAgdGhpcy5zdGVwcyA9IHN0ZXBzO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NGSV9QQVJTRV9FUlJPUlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBuYXZpZ2F0ZShkb2M6IERvY3VtZW50KTogUG9zaXRpb24ge1xuICAgIGNvbnN0IHBvcyA9IHtcbiAgICAgIG5vZGU6IGRvYy5kb2N1bWVudEVsZW1lbnQsXG4gICAgICBvZmZzZXQ6IDAsXG4gICAgICBhZnRlcjogZmFsc2UsXG4gICAgICBzaWRlQmlhczogbnVsbCxcbiAgICAgIHJlZjogbnVsbCxcbiAgICB9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCF0aGlzLnN0ZXBzW2ldLmFwcGx5VG8ocG9zKSkge1xuICAgICAgICBwb3MucmVmID0gbmV3IEZyYWdtZW50KCk7XG4gICAgICAgIHBvcy5yZWYuc3RlcHMgPSB0aGlzLnN0ZXBzLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb3M7XG4gIH1cblxuICB0cmltKHRleHQ6IHN0cmluZywgYWZ0ZXI6IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgIHJldHVybiB0ZXh0XG4gICAgICAucmVwbGFjZSgvXFxzKy9nLCBcIiBcIilcbiAgICAgIC5tYXRjaChcbiAgICAgICAgYWZ0ZXJcbiAgICAgICAgICA/IC9eWyAtXFx1RDdGRlxcdUUwMDAtXFx1RkZGRl17MCw4fS9cbiAgICAgICAgICA6IC9bIC1cXHVEN0ZGXFx1RTAwMC1cXHVGRkZGXXswLDh9JC8sXG4gICAgICApWzBdXG4gICAgICAucmVwbGFjZSgvXlxccy8sIFwiXCIpXG4gICAgICAucmVwbGFjZSgvXFxzJC8sIFwiXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgZnJvbSBhIG5vZGUgYW5kIGFuIG9mZnNldC5cbiAgICovXG4gIHByZXBlbmRQYXRoRnJvbU5vZGUoXG4gICAgbm9kZTogTm9kZSxcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBhZnRlcjogYm9vbGVhbixcbiAgICBzaWRlQmlhczogc3RyaW5nIHwgbnVsbCxcbiAgKSB7XG4gICAgY29uc3Qgc3RlcHMgPSBbXTtcbiAgICBsZXQgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIGxldCB0ZXh0QmVmb3JlID0gXCJcIjtcbiAgICBsZXQgdGV4dEFmdGVyID0gXCJcIjtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgc3dpdGNoIChub2RlLm5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgMzogLy8gVGV4dCBub2Rlc1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgIGNhc2UgNToge1xuICAgICAgICAgIGNvbnN0IHRleHQgPSBub2RlLnRleHRDb250ZW50O1xuICAgICAgICAgIGNvbnN0IHRleHRMZW5ndGggPSB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgICBpZiAoYWZ0ZXIpIHtcbiAgICAgICAgICAgIG9mZnNldCArPSB0ZXh0TGVuZ3RoO1xuICAgICAgICAgICAgaWYgKCF0ZXh0QmVmb3JlKSB7XG4gICAgICAgICAgICAgIHRleHRCZWZvcmUgPSB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ID4gdGV4dExlbmd0aCkge1xuICAgICAgICAgICAgICBvZmZzZXQgPSB0ZXh0TGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWZ0ZXIgPSB0cnVlO1xuICAgICAgICAgICAgdGV4dEJlZm9yZSA9IHRleHQuc3Vic3RyKDAsIG9mZnNldCk7XG4gICAgICAgICAgICB0ZXh0QWZ0ZXIgPSB0ZXh0LnN1YnN0cihvZmZzZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSA4OiAvLyBDb21tZW50IE5vZGVcbiAgICAgICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKG9mZnNldCA+IDAgfHwgdGV4dEJlZm9yZSB8fCB0ZXh0QWZ0ZXIpIHtcbiAgICAgIHRleHRCZWZvcmUgPSB0aGlzLnRyaW0odGV4dEJlZm9yZSwgZmFsc2UpO1xuICAgICAgdGV4dEFmdGVyID0gdGhpcy50cmltKHRleHRBZnRlciwgdHJ1ZSk7XG4gICAgICBzdGVwcy5wdXNoKG5ldyBPZmZzZXRTdGVwKG9mZnNldCwgdGV4dEJlZm9yZSwgdGV4dEFmdGVyLCBzaWRlQmlhcykpO1xuICAgICAgc2lkZUJpYXMgPSBudWxsO1xuICAgIH1cbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICBpZiAoIXBhcmVudCB8fCBwYXJlbnQubm9kZVR5cGUgPT0gOSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlkID0gYWZ0ZXIgPyBudWxsIDogZ2V0SWQobm9kZSk7XG4gICAgICBsZXQgaW5kZXggPSBhZnRlciA/IDEgOiAwO1xuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgIGluZGV4ICs9IDI7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucHJldmlvdXNTaWJsaW5nO1xuICAgICAgfVxuICAgICAgc3RlcHMucHVzaChuZXcgQ2hpbGRTdGVwKGluZGV4LCBpZCwgc2lkZUJpYXMpKTtcbiAgICAgIHNpZGVCaWFzID0gbnVsbDtcbiAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcbiAgICAgIGFmdGVyID0gZmFsc2U7XG4gICAgfVxuICAgIHN0ZXBzLnJldmVyc2UoKTtcbiAgICBpZiAodGhpcy5zdGVwcykge1xuICAgICAgc3RlcHMucHVzaChuZXcgUmVmU3RlcCgpKTtcbiAgICAgIHRoaXMuc3RlcHMgPSBzdGVwcy5jb25jYXQodGhpcy5zdGVwcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RlcHMgPSBzdGVwcztcbiAgICB9XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIGlmICghdGhpcy5zdGVwcykge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGNvbnN0IHNiID0gbmV3IEJhc2UuU3RyaW5nQnVmZmVyKCk7XG4gICAgc2IuYXBwZW5kKFwiZXB1YmNmaShcIik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0ZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnN0ZXBzW2ldLmFwcGVuZFRvKHNiKTtcbiAgICB9XG4gICAgc2IuYXBwZW5kKFwiKVwiKTtcbiAgICByZXR1cm4gc2IudG9TdHJpbmcoKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBFeHBycyAtIGAtZXB1YngtZXhwcmAgQWRhcHRpdmUgTGF5b3V0IGV4cHJlc3Npb25zLlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcblxuZXhwb3J0IHR5cGUgUHJlZmVyZW5jZXMgPSB7XG4gIGZvbnRGYW1pbHk6IHN0cmluZztcbiAgbGluZUhlaWdodDogbnVtYmVyO1xuICBtYXJnaW46IG51bWJlcjtcbiAgaHlwaGVuYXRlOiBib29sZWFuO1xuICBjb2x1bW5XaWR0aDogbnVtYmVyO1xuICBob3Jpem9udGFsOiBib29sZWFuO1xuICBuaWdodE1vZGU6IGJvb2xlYW47XG4gIHNwcmVhZFZpZXc6IGJvb2xlYW47XG4gIHBhZ2VCb3JkZXI6IG51bWJlcjtcbiAgZW5hYmxlZE1lZGlhVHlwZXM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9O1xuICBkZWZhdWx0UGFwZXJTaXplPzogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0UHJlZmVyZW5jZXMoKTogUHJlZmVyZW5jZXMge1xuICByZXR1cm4ge1xuICAgIGZvbnRGYW1pbHk6IFwic2VyaWZcIixcbiAgICBsaW5lSGVpZ2h0OiAxLjI1LFxuICAgIG1hcmdpbjogOCxcbiAgICBoeXBoZW5hdGU6IGZhbHNlLFxuICAgIGNvbHVtbldpZHRoOiAyNSxcbiAgICBob3Jpem9udGFsOiBmYWxzZSxcbiAgICBuaWdodE1vZGU6IGZhbHNlLFxuICAgIHNwcmVhZFZpZXc6IGZhbHNlLFxuICAgIHBhZ2VCb3JkZXI6IDEsXG4gICAgZW5hYmxlZE1lZGlhVHlwZXM6IHsgdml2bGlvc3R5bGU6IHRydWUsIHByaW50OiB0cnVlIH0sXG4gICAgZGVmYXVsdFBhcGVyU2l6ZTogdW5kZWZpbmVkLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVQcmVmZXJlbmNlcyhwcmVmOiBQcmVmZXJlbmNlcyk6IFByZWZlcmVuY2VzIHtcbiAgcmV0dXJuIHtcbiAgICBmb250RmFtaWx5OiBwcmVmLmZvbnRGYW1pbHksXG4gICAgbGluZUhlaWdodDogcHJlZi5saW5lSGVpZ2h0LFxuICAgIG1hcmdpbjogcHJlZi5tYXJnaW4sXG4gICAgaHlwaGVuYXRlOiBwcmVmLmh5cGhlbmF0ZSxcbiAgICBjb2x1bW5XaWR0aDogcHJlZi5jb2x1bW5XaWR0aCxcbiAgICBob3Jpem9udGFsOiBwcmVmLmhvcml6b250YWwsXG4gICAgbmlnaHRNb2RlOiBwcmVmLm5pZ2h0TW9kZSxcbiAgICBzcHJlYWRWaWV3OiBwcmVmLnNwcmVhZFZpZXcsXG4gICAgcGFnZUJvcmRlcjogcHJlZi5wYWdlQm9yZGVyLFxuICAgIGVuYWJsZWRNZWRpYVR5cGVzOiBPYmplY3QuYXNzaWduKHt9LCBwcmVmLmVuYWJsZWRNZWRpYVR5cGVzKSxcbiAgICBkZWZhdWx0UGFwZXJTaXplOiBwcmVmLmRlZmF1bHRQYXBlclNpemVcbiAgICAgID8gT2JqZWN0LmFzc2lnbih7fSwgcHJlZi5kZWZhdWx0UGFwZXJTaXplKVxuICAgICAgOiB1bmRlZmluZWQsXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0UHJlZmVyZW5jZXNJbnN0YW5jZSA9IGRlZmF1bHRQcmVmZXJlbmNlcygpO1xuXG5pbnRlcmZhY2UgUGVuZGluZyB7fVxudHlwZSBTcGVjaWFsID0gUGVuZGluZztcblxuLyoqXG4gKiBTcGVjaWFsIG1hcmtlciB2YWx1ZSB0aGF0IGluZGljYXRlcyB0aGF0IHRoZSBleHByZXNzaW9uIHJlc3VsdCBpcyBiZWluZ1xuICogY2FsY3VsYXRlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFNwZWNpYWwgPSB7XG4gIFBFTkRJTkc6IHt9IGFzIFBlbmRpbmcsXG59O1xuXG5leHBvcnQgdHlwZSBSZXN1bHQgPSBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgdHlwZSBQZW5kaW5nUmVzdWx0ID0gU3BlY2lhbCB8IFJlc3VsdDtcblxuZXhwb3J0IGZ1bmN0aW9uIGxldHRlcmJveChcbiAgdmlld1c6IG51bWJlcixcbiAgdmlld0g6IG51bWJlcixcbiAgb2JqVzogbnVtYmVyLFxuICBvYmpIOiBudW1iZXIsXG4pOiBzdHJpbmcge1xuICBjb25zdCBzY2FsZSA9IE1hdGgubWluKCh2aWV3VyAtIDApIC8gb2JqVywgKHZpZXdIIC0gMCkgLyBvYmpIKTtcbiAgcmV0dXJuIGBtYXRyaXgoJHtzY2FsZX0sMCwwLCR7c2NhbGV9LDAsMClgO1xufVxuXG4vKipcbiAqIEByZXR1cm4gc3RyaW5nIHRoYXQgY2FuIGJlIHBhcnNlZCBhcyBDU1Mgc3RyaW5nIHdpdGggdmFsdWUgc3RyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjc3NTdHJpbmcoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYFwiJHtCYXNlLmVzY2FwZUNTU1N0cihgJHtzdHJ9YCl9XCJgO1xufVxuXG4vKipcbiAqIEByZXR1cm4gc3RyaW5nIHRoYXQgY2FuIGJlIHBhcnNlZCBhcyBDU1MgbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3NzSWRlbnQobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIEJhc2UuZXNjYXBlQ1NTSWRlbnQoYCR7bmFtZX1gKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VRdWFsaWZpZWROYW1lKFxuICBvYmpOYW1lOiBzdHJpbmcgfCBudWxsLFxuICBtZW1iZXJOYW1lOiBzdHJpbmcsXG4pOiBzdHJpbmcge1xuICBpZiAob2JqTmFtZSkge1xuICAgIHJldHVybiBgJHtCYXNlLmVzY2FwZUNTU0lkZW50KG9iak5hbWUpfS4ke0Jhc2UuZXNjYXBlQ1NTSWRlbnQobWVtYmVyTmFtZSl9YDtcbiAgfVxuICByZXR1cm4gQmFzZS5lc2NhcGVDU1NJZGVudChtZW1iZXJOYW1lKTtcbn1cblxuZXhwb3J0IGxldCBuZXh0S2V5SW5kZXg6IG51bWJlciA9IDA7XG5cbi8qKlxuICogTGV4aWNhbCBzY29wZSBvZiB0aGUgZXhwcmVzc2lvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIExleGljYWxTY29wZSB7XG4gIHNjb3BlS2V5OiBzdHJpbmc7XG4gIGNoaWxkcmVuOiBMZXhpY2FsU2NvcGVbXSA9IFtdO1xuICB6ZXJvOiBDb25zdDtcbiAgb25lOiBDb25zdDtcbiAgX3RydWU6IENvbnN0O1xuICBfZmFsc2U6IENvbnN0O1xuICB2YWx1ZXM6IHsgW2tleTogc3RyaW5nXTogVmFsIH0gPSB7fTtcbiAgZnVuY3M6IHsgW2tleTogc3RyaW5nXTogVmFsIH0gPSB7fTtcbiAgYnVpbHRJbnM6IHsgW2tleTogc3RyaW5nXTogKC4uLnAxOiBSZXN1bHRbXSkgPT4gUmVzdWx0IH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcGFyZW50OiBMZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIHJlc29sdmVyPzogKHAxOiBzdHJpbmcsIHAyOiBib29sZWFuKSA9PiBWYWwsXG4gICkge1xuICAgIHRoaXMuc2NvcGVLZXkgPSBgUyR7bmV4dEtleUluZGV4Kyt9YDtcbiAgICB0aGlzLnplcm8gPSBuZXcgQ29uc3QodGhpcywgMCk7XG4gICAgdGhpcy5vbmUgPSBuZXcgQ29uc3QodGhpcywgMSk7XG4gICAgdGhpcy5fdHJ1ZSA9IG5ldyBDb25zdCh0aGlzLCB0cnVlKTtcbiAgICB0aGlzLl9mYWxzZSA9IG5ldyBDb25zdCh0aGlzLCBmYWxzZSk7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgcGFyZW50LmNoaWxkcmVuLnB1c2godGhpcyk7XG4gICAgfVxuICAgIGlmICghcGFyZW50KSB7XG4gICAgICAvLyByb290IHNjb3BlXG4gICAgICBjb25zdCBidWlsdElucyA9IHRoaXMuYnVpbHRJbnM7XG4gICAgICBidWlsdEluc1tcImZsb29yXCJdID0gTWF0aC5mbG9vcjtcbiAgICAgIGJ1aWx0SW5zW1wiY2VpbFwiXSA9IE1hdGguY2VpbDtcbiAgICAgIGJ1aWx0SW5zW1wicm91bmRcIl0gPSBNYXRoLnJvdW5kO1xuICAgICAgYnVpbHRJbnNbXCJzcXJ0XCJdID0gTWF0aC5zcXJ0O1xuICAgICAgYnVpbHRJbnNbXCJtaW5cIl0gPSBNYXRoLm1pbjtcbiAgICAgIGJ1aWx0SW5zW1wibWF4XCJdID0gTWF0aC5tYXg7XG4gICAgICBidWlsdEluc1tcImxldHRlcmJveFwiXSA9IGxldHRlcmJveDtcbiAgICAgIGJ1aWx0SW5zW1wiY3NzLXN0cmluZ1wiXSA9IGNzc1N0cmluZztcbiAgICAgIGJ1aWx0SW5zW1wiY3NzLW5hbWVcIl0gPSBjc3NJZGVudDtcbiAgICAgIGJ1aWx0SW5zW1widHlwZW9mXCJdID0gKHgpID0+IHR5cGVvZiB4O1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInBhZ2Utd2lkdGhcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhZ2VXaWR0aCgpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmRlZmluZUJ1aWx0SW5OYW1lKFwicGFnZS1oZWlnaHRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhZ2VIZWlnaHQoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInByZWYtZm9udC1mYW1pbHlcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZWYuZm9udEZhbWlseTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInByZWYtbmlnaHQtbW9kZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZi5uaWdodE1vZGU7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGVmaW5lQnVpbHRJbk5hbWUoXCJwcmVmLWh5cGhlbmF0ZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZi5oeXBoZW5hdGU7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGVmaW5lQnVpbHRJbk5hbWUoXCJwcmVmLW1hcmdpblwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZi5tYXJnaW47XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGVmaW5lQnVpbHRJbk5hbWUoXCJwcmVmLWxpbmUtaGVpZ2h0XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVmLmxpbmVIZWlnaHQ7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGVmaW5lQnVpbHRJbk5hbWUoXCJwcmVmLWNvbHVtbi13aWR0aFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZi5jb2x1bW5XaWR0aCAqIHRoaXMuZm9udFNpemU7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGVmaW5lQnVpbHRJbk5hbWUoXCJwcmVmLWhvcml6b250YWxcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZWYuaG9yaXpvbnRhbDtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInByZWYtc3ByZWFkLXZpZXdcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZWYuc3ByZWFkVmlldztcbiAgICAgIH0pO1xuXG4gICAgICAvLyBGb3IgZW52KHB1Yi10aXRsZSkgYW5kIGVudihkb2MtdGl0bGUpXG4gICAgICB0aGlzLmRlZmluZUJ1aWx0SW5OYW1lKFwicHViLXRpdGxlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY3NzU3RyaW5nKHRoaXMucHViVGl0bGUgPyB0aGlzLnB1YlRpdGxlIDogXCJcIik7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGVmaW5lQnVpbHRJbk5hbWUoXCJkb2MtdGl0bGVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjc3NTdHJpbmcodGhpcy5kb2NUaXRsZSA/IHRoaXMuZG9jVGl0bGUgOiBcIlwiKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGRlZmluZUJ1aWx0SW5OYW1lKG5hbWU6IHN0cmluZywgZm46ICgpID0+IFJlc3VsdCkge1xuICAgIHRoaXMudmFsdWVzW25hbWVdID0gbmV3IE5hdGl2ZSh0aGlzLCBmbiwgbmFtZSk7XG4gIH1cblxuICBkZWZpbmVOYW1lKHF1YWxpZmllZE5hbWU6IHN0cmluZywgdmFsOiBWYWwpOiB2b2lkIHtcbiAgICB0aGlzLnZhbHVlc1txdWFsaWZpZWROYW1lXSA9IHZhbDtcbiAgfVxuXG4gIGRlZmluZUZ1bmMocXVhbGlmaWVkTmFtZTogc3RyaW5nLCB2YWw6IFZhbCk6IHZvaWQge1xuICAgIHRoaXMuZnVuY3NbcXVhbGlmaWVkTmFtZV0gPSB2YWw7XG4gIH1cblxuICBkZWZpbmVCdWlsdEluKHF1YWxpZmllZE5hbWU6IHN0cmluZywgZm46ICguLi5wMTogUmVzdWx0W10pID0+IFJlc3VsdCk6IHZvaWQge1xuICAgIHRoaXMuYnVpbHRJbnNbcXVhbGlmaWVkTmFtZV0gPSBmbjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBYnNvbHV0ZUxlbmd0aFVuaXQodW5pdDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHN3aXRjaCAodW5pdC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSBcInB4XCI6XG4gICAgY2FzZSBcImluXCI6XG4gICAgY2FzZSBcInB0XCI6XG4gICAgY2FzZSBcInBjXCI6XG4gICAgY2FzZSBcImNtXCI6XG4gICAgY2FzZSBcIm1tXCI6XG4gICAgY2FzZSBcInFcIjpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlld3BvcnRSZWxhdGl2ZUxlbmd0aFVuaXQodW5pdDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHN3aXRjaCAodW5pdC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSBcInZ3XCI6XG4gICAgY2FzZSBcInZoXCI6XG4gICAgY2FzZSBcInZpXCI6XG4gICAgY2FzZSBcInZiXCI6XG4gICAgY2FzZSBcInZtaW5cIjpcbiAgICBjYXNlIFwidm1heFwiOlxuICAgIGNhc2UgXCJwdndcIjpcbiAgICBjYXNlIFwicHZoXCI6XG4gICAgY2FzZSBcInB2aVwiOlxuICAgIGNhc2UgXCJwdmJcIjpcbiAgICBjYXNlIFwicHZtaW5cIjpcbiAgICBjYXNlIFwicHZtYXhcIjpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRm9udFJlbGF0aXZlTGVuZ3RoVW5pdCh1bml0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgc3dpdGNoICh1bml0LnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlIFwiZW1cIjpcbiAgICBjYXNlIFwiZXhcIjpcbiAgICBjYXNlIFwicmVtXCI6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0VW5pdFNpemVzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge1xuICBweDogMSxcbiAgaW46IDk2LFxuICBwdDogNCAvIDMsXG4gIHBjOiA5NiAvIDYsXG4gIGNtOiA5NiAvIDIuNTQsXG4gIG1tOiA5NiAvIDI1LjQsXG4gIHE6IDk2IC8gMi41NCAvIDQwLFxuICBlbTogMTYsXG4gIHJlbTogMTYsXG4gIGV4OiA4LFxuICAvLyA8cmVzb2x1dGlvbj5cbiAgZHBweDogMSxcbiAgZHBpOiAxIC8gOTYsXG4gIGRwY206IDIuNTQgLyA5Nixcbn07XG5cbi8qKlxuICogUmV0dXJucyBpZiBhIHVuaXQgc2hvdWxkIGJlIGNvbnZlcnRlZCB0byBweCBiZWZvcmUgYXBwbGllZCB0byB0aGUgcmF3IERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5lZWRVbml0Q29udmVyc2lvbih1bml0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgc3dpdGNoICh1bml0KSB7XG4gICAgY2FzZSBcInFcIjpcbiAgICBjYXNlIFwicmVtXCI6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFNjb3BlQ29udGV4dCA9IHtcbiAgW2tleTogc3RyaW5nXTogUmVzdWx0O1xufTtcblxuLyoqXG4gKiBSdW4tdGltZSBpbnN0YW5jZSBvZiBhIHNjb3BlIGFuZCBpdHMgY2hpbGRyZW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBDb250ZXh0IHtcbiAgcHJvdGVjdGVkIGFjdHVhbFBhZ2VXaWR0aDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHBhZ2VXaWR0aDogKCkgPT4gbnVtYmVyO1xuICBwcm90ZWN0ZWQgYWN0dWFsUGFnZUhlaWdodDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHBhZ2VIZWlnaHQ6ICgpID0+IG51bWJlcjtcbiAgaW5pdGlhbEZvbnRTaXplOiBudW1iZXI7XG4gIHJvb3RGb250U2l6ZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIGZvbnRTaXplOiAoKSA9PiBudW1iZXI7XG4gIHByZWY6IFByZWZlcmVuY2VzO1xuICBzY29wZXM6IHsgW2tleTogc3RyaW5nXTogU2NvcGVDb250ZXh0IH0gPSB7fTtcbiAgcGFnZUFyZWFXaWR0aDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHBhZ2VBcmVhSGVpZ2h0OiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgcGFnZVZlcnRpY2FsOiBib29sZWFuIHwgbnVsbCA9IG51bGw7XG4gIHB1YlRpdGxlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgZG9jVGl0bGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSByb290U2NvcGU6IExleGljYWxTY29wZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmlld3BvcnRXaWR0aDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSB2aWV3cG9ydEhlaWdodDogbnVtYmVyLFxuICAgIGZvbnRTaXplOiBudW1iZXIsXG4gICkge1xuICAgIHRoaXMucGFnZVdpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5hY3R1YWxQYWdlV2lkdGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0dWFsUGFnZVdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZi5zcHJlYWRWaWV3XG4gICAgICAgICAgPyBNYXRoLmZsb29yKHZpZXdwb3J0V2lkdGggLyAyKSAtIHRoaXMucHJlZi5wYWdlQm9yZGVyXG4gICAgICAgICAgOiB2aWV3cG9ydFdpZHRoO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5wYWdlSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5hY3R1YWxQYWdlSGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdHVhbFBhZ2VIZWlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmlld3BvcnRIZWlnaHQ7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmluaXRpYWxGb250U2l6ZSA9IGZvbnRTaXplO1xuICAgIHRoaXMuZm9udFNpemUgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnJvb3RGb250U2l6ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290Rm9udFNpemU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZm9udFNpemU7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnByZWYgPSBkZWZhdWx0UHJlZmVyZW5jZXNJbnN0YW5jZTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U2NvcGVDb250ZXh0KHNjb3BlOiBMZXhpY2FsU2NvcGUpOiBTY29wZUNvbnRleHQge1xuICAgIGxldCBzID0gdGhpcy5zY29wZXNbc2NvcGUuc2NvcGVLZXldO1xuICAgIGlmICghcykge1xuICAgICAgcyA9IHt9O1xuICAgICAgdGhpcy5zY29wZXNbc2NvcGUuc2NvcGVLZXldID0gcztcbiAgICB9XG4gICAgcmV0dXJuIHM7XG4gIH1cblxuICBjbGVhclNjb3BlKHNjb3BlOiBMZXhpY2FsU2NvcGUpOiB2b2lkIHtcbiAgICB0aGlzLnNjb3Blc1tzY29wZS5zY29wZUtleV0gPSB7fTtcbiAgICBmb3IgKGxldCBrID0gMDsgayA8IHNjb3BlLmNoaWxkcmVuLmxlbmd0aDsgaysrKSB7XG4gICAgICB0aGlzLmNsZWFyU2NvcGUoc2NvcGUuY2hpbGRyZW5ba10pO1xuICAgIH1cbiAgfVxuXG4gIHF1ZXJ5VW5pdFNpemUodW5pdDogc3RyaW5nLCBpc1Jvb3Q6IGJvb2xlYW4pOiBudW1iZXIge1xuICAgIGlmIChpc1ZpZXdwb3J0UmVsYXRpdmVMZW5ndGhVbml0KHVuaXQpKSB7XG4gICAgICBjb25zdCBwdncgPSB0aGlzLnBhZ2VXaWR0aCgpIC8gMTAwO1xuICAgICAgY29uc3QgcHZoID0gdGhpcy5wYWdlSGVpZ2h0KCkgLyAxMDA7XG4gICAgICBjb25zdCB2dyA9IHRoaXMucGFnZUFyZWFXaWR0aCAhPSBudWxsID8gdGhpcy5wYWdlQXJlYVdpZHRoIC8gMTAwIDogcHZ3O1xuICAgICAgY29uc3QgdmggPSB0aGlzLnBhZ2VBcmVhSGVpZ2h0ICE9IG51bGwgPyB0aGlzLnBhZ2VBcmVhSGVpZ2h0IC8gMTAwIDogcHZoO1xuXG4gICAgICBzd2l0Y2ggKHVuaXQpIHtcbiAgICAgICAgY2FzZSBcInZ3XCI6XG4gICAgICAgICAgcmV0dXJuIHZ3O1xuICAgICAgICBjYXNlIFwidmhcIjpcbiAgICAgICAgICByZXR1cm4gdmg7XG4gICAgICAgIGNhc2UgXCJ2aVwiOlxuICAgICAgICAgIHJldHVybiB0aGlzLnBhZ2VWZXJ0aWNhbCA/IHZoIDogdnc7XG4gICAgICAgIGNhc2UgXCJ2YlwiOlxuICAgICAgICAgIHJldHVybiB0aGlzLnBhZ2VWZXJ0aWNhbCA/IHZ3IDogdmg7XG4gICAgICAgIGNhc2UgXCJ2bWluXCI6XG4gICAgICAgICAgcmV0dXJuIHZ3IDwgdmggPyB2dyA6IHZoO1xuICAgICAgICBjYXNlIFwidm1heFwiOlxuICAgICAgICAgIHJldHVybiB2dyA+IHZoID8gdncgOiB2aDtcbiAgICAgICAgY2FzZSBcInB2d1wiOlxuICAgICAgICAgIHJldHVybiBwdnc7XG4gICAgICAgIGNhc2UgXCJwdmhcIjpcbiAgICAgICAgICByZXR1cm4gcHZoO1xuICAgICAgICBjYXNlIFwicHZpXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFnZVZlcnRpY2FsID8gcHZoIDogcHZ3O1xuICAgICAgICBjYXNlIFwicHZiXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFnZVZlcnRpY2FsID8gcHZ3IDogcHZoO1xuICAgICAgICBjYXNlIFwicHZtaW5cIjpcbiAgICAgICAgICByZXR1cm4gcHZ3IDwgcHZoID8gcHZ3IDogcHZoO1xuICAgICAgICBjYXNlIFwicHZtYXhcIjpcbiAgICAgICAgICByZXR1cm4gcHZ3ID4gcHZoID8gcHZ3IDogcHZoO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodW5pdCA9PSBcImVtXCIgfHwgdW5pdCA9PSBcInJlbVwiKSB7XG4gICAgICByZXR1cm4gaXNSb290ID8gdGhpcy5pbml0aWFsRm9udFNpemUgOiB0aGlzLmZvbnRTaXplKCk7XG4gICAgfVxuICAgIGlmICh1bml0ID09IFwiZXhcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKGRlZmF1bHRVbml0U2l6ZXNbXCJleFwiXSAqXG4gICAgICAgICAgKGlzUm9vdCA/IHRoaXMuaW5pdGlhbEZvbnRTaXplIDogdGhpcy5mb250U2l6ZSgpKSkgL1xuICAgICAgICBkZWZhdWx0VW5pdFNpemVzW1wiZW1cIl1cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0VW5pdFNpemVzW3VuaXRdO1xuICB9XG5cbiAgZXZhbE5hbWUoc2NvcGU6IExleGljYWxTY29wZSwgcXVhbGlmaWVkTmFtZTogc3RyaW5nKTogVmFsIHtcbiAgICBkbyB7XG4gICAgICBsZXQgdmFsID0gc2NvcGUudmFsdWVzW3F1YWxpZmllZE5hbWVdO1xuICAgICAgaWYgKHZhbCkge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgICAgaWYgKHNjb3BlLnJlc29sdmVyKSB7XG4gICAgICAgIHZhbCA9IHNjb3BlLnJlc29sdmVyLmNhbGwodGhpcywgcXVhbGlmaWVkTmFtZSwgZmFsc2UpO1xuICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2NvcGUgPSBzY29wZS5wYXJlbnQ7XG4gICAgfSB3aGlsZSAoc2NvcGUpO1xuICAgIHRocm93IG5ldyBFcnJvcihgTmFtZSAnJHtxdWFsaWZpZWROYW1lfScgaXMgdW5kZWZpbmVkYCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIG5vQnVpbHRJbkV2YWwgZG9uJ3QgZXZhbHVhdGUgYnVpbHQtaW5zIChmb3IgZGVwZW5kZW5jeSBjYWxjdWxhdGlvbnMpXG4gICAqL1xuICBldmFsQ2FsbChcbiAgICBzY29wZTogTGV4aWNhbFNjb3BlLFxuICAgIHF1YWxpZmllZE5hbWU6IHN0cmluZyxcbiAgICBwYXJhbXM6IFZhbFtdLFxuICAgIG5vQnVpbHRJbkV2YWw6IGJvb2xlYW4sXG4gICk6IFZhbCB7XG4gICAgZG8ge1xuICAgICAgbGV0IGJvZHkgPSBzY29wZS5mdW5jc1txdWFsaWZpZWROYW1lXTtcbiAgICAgIGlmIChib2R5KSB7XG4gICAgICAgIHJldHVybiBib2R5OyAvLyB3aWxsIGJlIGV4cGFuZGVkIGJ5IGNhbGxlZVxuICAgICAgfVxuICAgICAgaWYgKHNjb3BlLnJlc29sdmVyKSB7XG4gICAgICAgIGJvZHkgPSBzY29wZS5yZXNvbHZlci5jYWxsKHRoaXMsIHF1YWxpZmllZE5hbWUsIHRydWUpO1xuICAgICAgICBpZiAoYm9keSkge1xuICAgICAgICAgIHJldHVybiBib2R5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBmbiA9IHNjb3BlLmJ1aWx0SW5zW3F1YWxpZmllZE5hbWVdO1xuICAgICAgaWYgKGZuKSB7XG4gICAgICAgIGlmIChub0J1aWx0SW5FdmFsKSB7XG4gICAgICAgICAgcmV0dXJuIHNjb3BlLnplcm87XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXJncyA9IEFycmF5KHBhcmFtcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFyZ3NbaV0gPSBwYXJhbXNbaV0uZXZhbHVhdGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDb25zdChzY29wZSwgZm4uYXBwbHkodGhpcywgYXJncykpO1xuICAgICAgfVxuICAgICAgc2NvcGUgPSBzY29wZS5wYXJlbnQ7XG4gICAgfSB3aGlsZSAoc2NvcGUpO1xuICAgIHRocm93IG5ldyBFcnJvcihgRnVuY3Rpb24gJyR7cXVhbGlmaWVkTmFtZX0nIGlzIHVuZGVmaW5lZGApO1xuICB9XG5cbiAgZXZhbE1lZGlhTmFtZShuYW1lOiBzdHJpbmcsIG5vdDogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGVuYWJsZWQgPSBuYW1lID09PSBcImFsbFwiIHx8ICEhdGhpcy5wcmVmLmVuYWJsZWRNZWRpYVR5cGVzW25hbWVdO1xuICAgIHJldHVybiBub3QgPyAhZW5hYmxlZCA6IGVuYWJsZWQ7XG4gIH1cblxuICBldmFsTWVkaWFUZXN0KGZlYXR1cmU6IHN0cmluZywgdmFsdWU6IFZhbCk6IGJvb2xlYW4ge1xuICAgIGxldCBwcmVmaXggPSBcIlwiO1xuICAgIGNvbnN0IHIgPSBmZWF0dXJlLm1hdGNoKC9eKG1pbnxtYXgpLSguKikkLyk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHByZWZpeCA9IHJbMV07XG4gICAgICBmZWF0dXJlID0gclsyXTtcbiAgICB9XG4gICAgbGV0IHJlcTogUmVzdWx0IHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGFjdHVhbDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gICAgc3dpdGNoIChmZWF0dXJlKSB7XG4gICAgICBjYXNlIFwid2lkdGhcIjpcbiAgICAgIGNhc2UgXCJoZWlnaHRcIjpcbiAgICAgIGNhc2UgXCJkZXZpY2Utd2lkdGhcIjpcbiAgICAgIGNhc2UgXCJkZXZpY2UtaGVpZ2h0XCI6XG4gICAgICBjYXNlIFwiY29sb3JcIjpcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgcmVxID0gdmFsdWUuZXZhbHVhdGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHN3aXRjaCAoZmVhdHVyZSkge1xuICAgICAgY2FzZSBcIndpZHRoXCI6XG4gICAgICAgIGFjdHVhbCA9IHRoaXMucGFnZVdpZHRoKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImhlaWdodFwiOlxuICAgICAgICBhY3R1YWwgPSB0aGlzLnBhZ2VIZWlnaHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGV2aWNlLXdpZHRoXCI6XG4gICAgICAgIGFjdHVhbCA9IHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGV2aWNlLWhlaWdodFwiOlxuICAgICAgICBhY3R1YWwgPSB3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJjb2xvclwiOlxuICAgICAgICBhY3R1YWwgPSB3aW5kb3cuc2NyZWVuLnBpeGVsRGVwdGg7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoYWN0dWFsICE9IG51bGwgJiYgcmVxICE9IG51bGwpIHtcbiAgICAgIHN3aXRjaCAocHJlZml4KSB7XG4gICAgICAgIGNhc2UgXCJtaW5cIjpcbiAgICAgICAgICByZXR1cm4gYWN0dWFsID49IHJlcTtcbiAgICAgICAgY2FzZSBcIm1heFwiOlxuICAgICAgICAgIHJldHVybiBhY3R1YWwgPD0gcmVxO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBhY3R1YWwgPT0gcmVxO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYWN0dWFsICE9IG51bGwgJiYgdmFsdWUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGFjdHVhbCAhPT0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcXVlcnlWYWwoc2NvcGU6IExleGljYWxTY29wZSwga2V5OiBzdHJpbmcpOiBSZXN1bHQgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHMgPSB0aGlzLnNjb3Blc1tzY29wZS5zY29wZUtleV07XG4gICAgcmV0dXJuIHMgPyBzW2tleV0gOiB1bmRlZmluZWQ7XG4gIH1cblxuICBzdG9yZVZhbChzY29wZTogTGV4aWNhbFNjb3BlLCBrZXk6IHN0cmluZywgdmFsOiBSZXN1bHQpOiB2b2lkIHtcbiAgICB0aGlzLmdldFNjb3BlQ29udGV4dChzY29wZSlba2V5XSA9IHZhbDtcbiAgfVxufVxuXG4vLy0tLS0tLS0tLS0gbmFtZSByZXNvbHV0aW9uIC0tLS0tLS0tLS0tLS0tXG5leHBvcnQgdHlwZSBEZXBlbmRlbmN5Q2FjaGUgPSB7XG4gIFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfCBTcGVjaWFsO1xufTtcblxuZXhwb3J0IGNsYXNzIFZhbCB7XG4gIGtleTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBzY29wZTogTGV4aWNhbFNjb3BlKSB7XG4gICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIHRoaXMua2V5ID0gYF8ke25leHRLZXlJbmRleCsrfWA7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIGNvbnN0IGJ1ZiA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICAgIHRoaXMuYXBwZW5kVG8oYnVmLCAwKTtcbiAgICByZXR1cm4gYnVmLnRvU3RyaW5nKCk7XG4gIH1cblxuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIGV4cGFuZChjb250ZXh0OiBDb250ZXh0LCBwYXJhbXM6IFZhbFtdKTogVmFsIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGRlcGVuZENvcmUoXG4gICAgb3RoZXI6IFZhbCxcbiAgICBjb250ZXh0OiBDb250ZXh0LFxuICAgIGRlcGVuZGVuY3lDYWNoZTogRGVwZW5kZW5jeUNhY2hlLFxuICApOiBib29sZWFuIHtcbiAgICByZXR1cm4gb3RoZXIgPT09IHRoaXM7XG4gIH1cblxuICBkZXBlbmRPdXRlcihcbiAgICBvdGhlcjogVmFsLFxuICAgIGNvbnRleHQ6IENvbnRleHQsXG4gICAgZGVwZW5kZW5jeUNhY2hlOiBEZXBlbmRlbmN5Q2FjaGUsXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNhY2hlZCA9IGRlcGVuZGVuY3lDYWNoZVt0aGlzLmtleV07XG4gICAgaWYgKGNhY2hlZCAhPSBudWxsKSB7XG4gICAgICBpZiAoY2FjaGVkID09PSBTcGVjaWFsLlBFTkRJTkcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhY2hlZCBhcyBib29sZWFuO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZXBlbmRlbmN5Q2FjaGVbdGhpcy5rZXldID0gU3BlY2lhbC5QRU5ESU5HO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5kZXBlbmRDb3JlKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpO1xuICAgICAgZGVwZW5kZW5jeUNhY2hlW3RoaXMua2V5XSA9IHJlc3VsdDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgZGVwZW5kKG90aGVyOiBWYWwsIGNvbnRleHQ6IENvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwge30pO1xuICB9XG5cbiAgZXZhbHVhdGUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgbGV0IHJlc3VsdCA9IGNvbnRleHQucXVlcnlWYWwodGhpcy5zY29wZSwgdGhpcy5rZXkpO1xuICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJlc3VsdCA9IHRoaXMuZXZhbHVhdGVDb3JlKGNvbnRleHQpO1xuICAgIGNvbnRleHQuc3RvcmVWYWwodGhpcy5zY29wZSwgdGhpcy5rZXksIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlzTWVkaWFOYW1lKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJlZml4IGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgcHVibGljIHZhbDogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldE9wKCk6IHN0cmluZyB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIGV2YWxQcmVmaXgodmFsOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZfQUJTVFJBQ1RcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgY29uc3QgdmFsID0gdGhpcy52YWwuZXZhbHVhdGUoY29udGV4dCk7XG4gICAgcmV0dXJuIHRoaXMuZXZhbFByZWZpeCh2YWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZGVwZW5kQ29yZShcbiAgICBvdGhlcjogVmFsLFxuICAgIGNvbnRleHQ6IENvbnRleHQsXG4gICAgZGVwZW5kZW5jeUNhY2hlOiBEZXBlbmRlbmN5Q2FjaGUsXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBvdGhlciA9PT0gdGhpcyB8fCB0aGlzLnZhbC5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwgZGVwZW5kZW5jeUNhY2hlKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKDEwIDwgcHJpb3JpdHkpIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIoXCIpO1xuICAgIH1cbiAgICBidWYuYXBwZW5kKHRoaXMuZ2V0T3AoKSk7XG4gICAgdGhpcy52YWwuYXBwZW5kVG8oYnVmLCAxMCk7XG4gICAgaWYgKDEwIDwgcHJpb3JpdHkpIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIpXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV4cGFuZChjb250ZXh0OiBDb250ZXh0LCBwYXJhbXM6IFZhbFtdKTogVmFsIHtcbiAgICBjb25zdCB2YWwgPSB0aGlzLnZhbC5leHBhbmQoY29udGV4dCwgcGFyYW1zKTtcbiAgICBpZiAodmFsID09PSB0aGlzLnZhbCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNvbnN0IHIgPSBuZXcgKHRoaXMuY29uc3RydWN0b3IgYXMgYW55KSh0aGlzLnNjb3BlLCB2YWwpO1xuICAgIHJldHVybiByO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbmZpeCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHB1YmxpYyBsaHM6IFZhbCwgcHVibGljIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICB9XG5cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX0FCU1RSQUNUXCIpO1xuICB9XG5cbiAgZ2V0T3AoKTogc3RyaW5nIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX0FCU1RSQUNUXCIpO1xuICB9XG5cbiAgZXZhbEluZml4KGxoczogUmVzdWx0LCByaHM6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICBjb25zdCBsaHMgPSB0aGlzLmxocy5ldmFsdWF0ZShjb250ZXh0KTtcbiAgICBjb25zdCByaHMgPSB0aGlzLnJocy5ldmFsdWF0ZShjb250ZXh0KTtcbiAgICByZXR1cm4gdGhpcy5ldmFsSW5maXgobGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZGVwZW5kQ29yZShcbiAgICBvdGhlcjogVmFsLFxuICAgIGNvbnRleHQ6IENvbnRleHQsXG4gICAgZGVwZW5kZW5jeUNhY2hlOiBEZXBlbmRlbmN5Q2FjaGUsXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBvdGhlciA9PT0gdGhpcyB8fFxuICAgICAgdGhpcy5saHMuZGVwZW5kT3V0ZXIob3RoZXIsIGNvbnRleHQsIGRlcGVuZGVuY3lDYWNoZSkgfHxcbiAgICAgIHRoaXMucmhzLmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCB0aGlzUHJpb3JpdHkgPSB0aGlzLmdldFByaW9yaXR5KCk7XG4gICAgaWYgKHRoaXNQcmlvcml0eSA8PSBwcmlvcml0eSkge1xuICAgICAgYnVmLmFwcGVuZChcIihcIik7XG4gICAgfVxuICAgIHRoaXMubGhzLmFwcGVuZFRvKGJ1ZiwgdGhpc1ByaW9yaXR5KTtcbiAgICBidWYuYXBwZW5kKHRoaXMuZ2V0T3AoKSk7XG4gICAgdGhpcy5yaHMuYXBwZW5kVG8oYnVmLCB0aGlzUHJpb3JpdHkpO1xuICAgIGlmICh0aGlzUHJpb3JpdHkgPD0gcHJpb3JpdHkpIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIpXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV4cGFuZChjb250ZXh0OiBDb250ZXh0LCBwYXJhbXM6IFZhbFtdKTogVmFsIHtcbiAgICBjb25zdCBsaHMgPSB0aGlzLmxocy5leHBhbmQoY29udGV4dCwgcGFyYW1zKTtcbiAgICBjb25zdCByaHMgPSB0aGlzLnJocy5leHBhbmQoY29udGV4dCwgcGFyYW1zKTtcbiAgICBpZiAobGhzID09PSB0aGlzLmxocyAmJiByaHMgPT09IHRoaXMucmhzKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY29uc3QgciA9IG5ldyAodGhpcy5jb25zdHJ1Y3RvciBhcyBhbnkpKHRoaXMuc2NvcGUsIGxocywgcmhzKTtcbiAgICByZXR1cm4gcjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTG9naWNhbCBleHRlbmRzIEluZml4IHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhcmlzb24gZXh0ZW5kcyBJbmZpeCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAyO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBZGRpdGl2ZSBleHRlbmRzIEluZml4IHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE11bHRpcGxpY2F0aXZlIGV4dGVuZHMgSW5maXgge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBsaHM6IFZhbCwgcmhzOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgbGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTm90IGV4dGVuZHMgUHJlZml4IHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgdmFsOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgdmFsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiIVwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbFByZWZpeCh2YWw6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuICF2YWw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5lZ2F0ZSBleHRlbmRzIFByZWZpeCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHZhbDogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIHZhbCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIi1cIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWxQcmVmaXgodmFsOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHJldHVybiAtdmFsO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBbmQgZXh0ZW5kcyBMb2dpY2FsIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiJiZcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy5saHMuZXZhbHVhdGUoY29udGV4dCkgJiYgdGhpcy5yaHMuZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFuZE1lZGlhIGV4dGVuZHMgQW5kIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiIGFuZCBcIjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgT3IgZXh0ZW5kcyBMb2dpY2FsIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwifHxcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy5saHMuZXZhbHVhdGUoY29udGV4dCkgfHwgdGhpcy5yaHMuZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9yTWVkaWEgZXh0ZW5kcyBPciB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIiwgXCI7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEx0IGV4dGVuZHMgQ29tcGFyaXNvbiB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIjxcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWxJbmZpeChsaHM6IFJlc3VsdCwgcmhzOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHJldHVybiBsaHMgPCByaHM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExlIGV4dGVuZHMgQ29tcGFyaXNvbiB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIjw9XCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gbGhzIDw9IHJocztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR3QgZXh0ZW5kcyBDb21wYXJpc29uIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiPlwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbEluZml4KGxoczogUmVzdWx0LCByaHM6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIGxocyA+IHJocztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2UgZXh0ZW5kcyBDb21wYXJpc29uIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiPj1cIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWxJbmZpeChsaHM6IFJlc3VsdCwgcmhzOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHJldHVybiBsaHMgPj0gcmhzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFcSBleHRlbmRzIENvbXBhcmlzb24ge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBsaHM6IFZhbCwgcmhzOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgbGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3AoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCI9PVwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbEluZml4KGxoczogUmVzdWx0LCByaHM6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIGxocyA9PSByaHM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5lIGV4dGVuZHMgQ29tcGFyaXNvbiB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIiE9XCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gbGhzICE9IHJocztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWRkIGV4dGVuZHMgQWRkaXRpdmUge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBsaHM6IFZhbCwgcmhzOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgbGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3AoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCIrXCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gKGxocyBhcyBhbnkpICsgcmhzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdWJ0cmFjdCBleHRlbmRzIEFkZGl0aXZlIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiIC0gXCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gKGxocyBhcyBhbnkpIC0gKHJocyBhcyBhbnkpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNdWx0aXBseSBleHRlbmRzIE11bHRpcGxpY2F0aXZlIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiKlwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbEluZml4KGxoczogUmVzdWx0LCByaHM6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIChsaHMgYXMgYW55KSAqIChyaHMgYXMgYW55KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGl2aWRlIGV4dGVuZHMgTXVsdGlwbGljYXRpdmUge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBsaHM6IFZhbCwgcmhzOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgbGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3AoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCIvXCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gKGxocyBhcyBhbnkpIC8gKHJocyBhcyBhbnkpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb2R1bG8gZXh0ZW5kcyBNdWx0aXBsaWNhdGl2ZSB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIiVcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWxJbmZpeChsaHM6IFJlc3VsdCwgcmhzOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHJldHVybiAobGhzIGFzIGFueSkgJSAocmhzIGFzIGFueSk7XG4gIH1cbn1cblxuLyoqXG4gKiBOdW1lcmljYWwgdmFsdWUgd2l0aCBhIHVuaXQuXG4gKi9cbmV4cG9ydCBjbGFzcyBOdW1lcmljIGV4dGVuZHMgVmFsIHtcbiAgdW5pdDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHB1YmxpYyBudW06IG51bWJlciwgdW5pdDogc3RyaW5nKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICAgIHRoaXMudW5pdCA9IHVuaXQudG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKHRoaXMubnVtLnRvU3RyaW5nKCkpO1xuICAgIGJ1Zi5hcHBlbmQoQmFzZS5lc2NhcGVDU1NJZGVudCh0aGlzLnVuaXQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy5udW0gKiBjb250ZXh0LnF1ZXJ5VW5pdFNpemUodGhpcy51bml0LCBmYWxzZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBOYW1lZCB2YWx1ZS5cbiAqIEBwYXJhbSBxdWFsaWZpZWROYW1lIENTUy1lc2NhcGVkIG5hbWUgc2VxdWVuY2Ugc2VwYXJhdGVkIGJ5IGRvdHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBOYW1lZCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHB1YmxpYyBxdWFsaWZpZWROYW1lOiBzdHJpbmcpIHtcbiAgICBzdXBlcihzY29wZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZCh0aGlzLnF1YWxpZmllZE5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbHVhdGVDb3JlKGNvbnRleHQ6IENvbnRleHQpOiBSZXN1bHQge1xuICAgIHJldHVybiBjb250ZXh0LmV2YWxOYW1lKHRoaXMuc2NvcGUsIHRoaXMucXVhbGlmaWVkTmFtZSkuZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBkZXBlbmRDb3JlKFxuICAgIG90aGVyOiBWYWwsXG4gICAgY29udGV4dDogQ29udGV4dCxcbiAgICBkZXBlbmRlbmN5Q2FjaGU6IERlcGVuZGVuY3lDYWNoZSxcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIG90aGVyID09PSB0aGlzIHx8XG4gICAgICBjb250ZXh0XG4gICAgICAgIC5ldmFsTmFtZSh0aGlzLnNjb3BlLCB0aGlzLnF1YWxpZmllZE5hbWUpXG4gICAgICAgIC5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwgZGVwZW5kZW5jeUNhY2hlKVxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBOYW1lZCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIE1lZGlhTmFtZSBleHRlbmRzIFZhbCB7XG4gIC8vIEZJWE1FOiBUaGlzIHByb3BlcnR5IGlzIGFkZGVkIHRvIHJlZHVjZSBUeXBlU2NyaXB0IGVycm9yIG9uIGBkZXBlbmRDb3JlYFxuICAvLyBidXQgaXQgaXMgbmV2ZXIgaW5pdGlhbGl6ZWQuIElzIGl0IHJlYWxseSBjb3JyZWN0IGNvZGU/XG4gIHZhbHVlOiBWYWw7XG5cbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgcHVibGljIG5vdDogYm9vbGVhbiwgcHVibGljIG5hbWU6IHN0cmluZykge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5ub3QpIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCJub3QgXCIpO1xuICAgIH1cbiAgICBidWYuYXBwZW5kKEJhc2UuZXNjYXBlQ1NTSWRlbnQodGhpcy5uYW1lKSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIGNvbnRleHQuZXZhbE1lZGlhTmFtZSh0aGlzLm5hbWUsIHRoaXMubm90KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRlcGVuZENvcmUoXG4gICAgb3RoZXI6IFZhbCxcbiAgICBjb250ZXh0OiBDb250ZXh0LFxuICAgIGRlcGVuZGVuY3lDYWNoZTogRGVwZW5kZW5jeUNhY2hlLFxuICApOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgb3RoZXIgPT09IHRoaXMgfHwgdGhpcy52YWx1ZS5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwgZGVwZW5kZW5jeUNhY2hlKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpc01lZGlhTmFtZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG4vKipcbiAqIEEgdmFsdWUgdGhhdCBpcyBjYWxjdWxhdGVkIGJ5IGNhbGxpbmcgYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLiBOb3RlIHRoYXQgdGhlXG4gKiByZXN1bHQgaXMgY2FjaGVkIGFuZCB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIG9ubHkgb25jZSBiZXR3ZWVuIGFueVxuICogY2xlYXJzIGZvciBpdHMgc2NvcGUgaW4gdGhlIGNvbnRleHQuXG4gKiBAcGFyYW0gZm4gZnVuY3Rpb24gdG8gY2FsbC5cbiAqIEBwYXJhbSBzdHIgYSB3YXkgdG8gcmVwcmVzZW50IHRoaXMgdmFsdWUgaW4gdG9TdHJpbmcoKSBjYWxsLlxuICovXG5leHBvcnQgY2xhc3MgTmF0aXZlIGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IExleGljYWxTY29wZSxcbiAgICBwdWJsaWMgZm46ICgpID0+IFJlc3VsdCxcbiAgICBwdWJsaWMgc3RyOiBzdHJpbmcsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKHRoaXMuc3RyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy5mbi5jYWxsKGNvbnRleHQpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRWYWxBcnJheShidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBhcnI6IFZhbFtdKTogdm9pZCB7XG4gIGJ1Zi5hcHBlbmQoXCIoXCIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChpKSB7XG4gICAgICBidWYuYXBwZW5kKFwiLFwiKTtcbiAgICB9XG4gICAgYXJyW2ldLmFwcGVuZFRvKGJ1ZiwgMCk7XG4gIH1cbiAgYnVmLmFwcGVuZChcIilcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHBhbmRWYWxBcnJheShcbiAgY29udGV4dDogQ29udGV4dCxcbiAgYXJyOiBWYWxbXSxcbiAgcGFyYW1zOiBWYWxbXSxcbik6IFZhbFtdIHtcbiAgbGV0IGV4cGFuZGVkOiBWYWxbXSA9IGFycjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwID0gYXJyW2ldLmV4cGFuZChjb250ZXh0LCBwYXJhbXMpO1xuICAgIGlmIChhcnIgIT09IGV4cGFuZGVkKSB7XG4gICAgICBleHBhbmRlZFtpXSA9IHA7XG4gICAgfSBlbHNlIGlmIChwICE9PSBhcnJbaV0pIHtcbiAgICAgIGV4cGFuZGVkID0gQXJyYXkoYXJyLmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGk7IGorKykge1xuICAgICAgICBleHBhbmRlZFtqXSA9IGFycltqXTtcbiAgICAgIH1cbiAgICAgIGV4cGFuZGVkW2ldID0gcDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGV4cGFuZGVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXZhbFZhbEFycmF5KGNvbnRleHQ6IENvbnRleHQsIGFycjogVmFsW10pOiBSZXN1bHRbXSB7XG4gIGNvbnN0IHJlc3VsdDogUmVzdWx0W10gPSBBcnJheShhcnIubGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHRbaV0gPSBhcnJbaV0uZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGNsYXNzIENhbGwgZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogTGV4aWNhbFNjb3BlLFxuICAgIHB1YmxpYyBxdWFsaWZpZWROYW1lOiBzdHJpbmcsXG4gICAgcHVibGljIHBhcmFtczogVmFsW10sXG4gICkge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKHRoaXMucXVhbGlmaWVkTmFtZSk7XG4gICAgYXBwZW5kVmFsQXJyYXkoYnVmLCB0aGlzLnBhcmFtcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgY29uc3QgYm9keSA9IGNvbnRleHQuZXZhbENhbGwoXG4gICAgICB0aGlzLnNjb3BlLFxuICAgICAgdGhpcy5xdWFsaWZpZWROYW1lLFxuICAgICAgdGhpcy5wYXJhbXMsXG4gICAgICBmYWxzZSxcbiAgICApO1xuICAgIHJldHVybiBib2R5LmV4cGFuZChjb250ZXh0LCB0aGlzLnBhcmFtcykuZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBkZXBlbmRDb3JlKFxuICAgIG90aGVyOiBWYWwsXG4gICAgY29udGV4dDogQ29udGV4dCxcbiAgICBkZXBlbmRlbmN5Q2FjaGU6IERlcGVuZGVuY3lDYWNoZSxcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKG90aGVyID09PSB0aGlzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMucGFyYW1zW2ldLmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBib2R5ID0gY29udGV4dC5ldmFsQ2FsbChcbiAgICAgIHRoaXMuc2NvcGUsXG4gICAgICB0aGlzLnF1YWxpZmllZE5hbWUsXG4gICAgICB0aGlzLnBhcmFtcyxcbiAgICAgIHRydWUsXG4gICAgKTtcblxuICAgIC8vIE5vIGV4cGFuc2lvbiBoZXJlIVxuICAgIHJldHVybiBib2R5LmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXhwYW5kKGNvbnRleHQ6IENvbnRleHQsIHBhcmFtczogVmFsW10pOiBWYWwge1xuICAgIGNvbnN0IGV4cGFuZGVkUGFyYW1zID0gZXhwYW5kVmFsQXJyYXkoY29udGV4dCwgdGhpcy5wYXJhbXMsIHBhcmFtcyk7XG4gICAgaWYgKGV4cGFuZGVkUGFyYW1zID09PSB0aGlzLnBhcmFtcykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ2FsbCh0aGlzLnNjb3BlLCB0aGlzLnF1YWxpZmllZE5hbWUsIGV4cGFuZGVkUGFyYW1zKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29uZCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBMZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIGNvbmQ6IFZhbCxcbiAgICBwdWJsaWMgaWZUcnVlOiBWYWwsXG4gICAgcHVibGljIGlmRmFsc2U6IFZhbCxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwZW5kVG8oYnVmOiBCYXNlLlN0cmluZ0J1ZmZlciwgcHJpb3JpdHk6IG51bWJlcik6IHZvaWQge1xuICAgIGlmIChwcmlvcml0eSA+IDApIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIoXCIpO1xuICAgIH1cbiAgICB0aGlzLmNvbmQuYXBwZW5kVG8oYnVmLCAwKTtcbiAgICBidWYuYXBwZW5kKFwiP1wiKTtcbiAgICB0aGlzLmlmVHJ1ZS5hcHBlbmRUbyhidWYsIDApO1xuICAgIGJ1Zi5hcHBlbmQoXCI6XCIpO1xuICAgIHRoaXMuaWZGYWxzZS5hcHBlbmRUbyhidWYsIDApO1xuICAgIGlmIChwcmlvcml0eSA+IDApIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIpXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICBpZiAodGhpcy5jb25kLmV2YWx1YXRlKGNvbnRleHQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5pZlRydWUuZXZhbHVhdGUoY29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmlmRmFsc2UuZXZhbHVhdGUoY29udGV4dCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZGVwZW5kQ29yZShcbiAgICBvdGhlcjogVmFsLFxuICAgIGNvbnRleHQ6IENvbnRleHQsXG4gICAgZGVwZW5kZW5jeUNhY2hlOiBEZXBlbmRlbmN5Q2FjaGUsXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBvdGhlciA9PT0gdGhpcyB8fFxuICAgICAgdGhpcy5jb25kLmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpIHx8XG4gICAgICB0aGlzLmlmVHJ1ZS5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwgZGVwZW5kZW5jeUNhY2hlKSB8fFxuICAgICAgdGhpcy5pZkZhbHNlLmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV4cGFuZChjb250ZXh0OiBDb250ZXh0LCBwYXJhbXM6IFZhbFtdKTogVmFsIHtcbiAgICBjb25zdCBjb25kID0gdGhpcy5jb25kLmV4cGFuZChjb250ZXh0LCBwYXJhbXMpO1xuICAgIGNvbnN0IGlmVHJ1ZSA9IHRoaXMuaWZUcnVlLmV4cGFuZChjb250ZXh0LCBwYXJhbXMpO1xuICAgIGNvbnN0IGlmRmFsc2UgPSB0aGlzLmlmRmFsc2UuZXhwYW5kKGNvbnRleHQsIHBhcmFtcyk7XG4gICAgaWYgKFxuICAgICAgY29uZCA9PT0gdGhpcy5jb25kICYmXG4gICAgICBpZlRydWUgPT09IHRoaXMuaWZUcnVlICYmXG4gICAgICBpZkZhbHNlID09PSB0aGlzLmlmRmFsc2VcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjb25zdCByID0gbmV3IENvbmQodGhpcy5zY29wZSwgY29uZCwgaWZUcnVlLCBpZkZhbHNlKTtcbiAgICByZXR1cm4gcjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29uc3QgZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBwdWJsaWMgdmFsOiBSZXN1bHQpIHtcbiAgICBzdXBlcihzY29wZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgc3dpdGNoICh0eXBlb2YgdGhpcy52YWwpIHtcbiAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgIGJ1Zi5hcHBlbmQodGhpcy52YWwudG9TdHJpbmcoKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICBidWYuYXBwZW5kKCdcIicpO1xuICAgICAgICBidWYuYXBwZW5kKEJhc2UuZXNjYXBlQ1NTU3RyKHRoaXMudmFsKSk7XG4gICAgICAgIGJ1Zi5hcHBlbmQoJ1wiJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRl9VTkVYUEVDVEVEX1NUQVRFXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy52YWw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1lZGlhVGVzdCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHB1YmxpYyBuYW1lOiBNZWRpYU5hbWUsIHB1YmxpYyB2YWx1ZTogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwZW5kVG8oYnVmOiBCYXNlLlN0cmluZ0J1ZmZlciwgcHJpb3JpdHk6IG51bWJlcik6IHZvaWQge1xuICAgIGJ1Zi5hcHBlbmQoXCIoXCIpO1xuICAgIGJ1Zi5hcHBlbmQoQmFzZS5lc2NhcGVDU1NTdHIodGhpcy5uYW1lLm5hbWUpKTtcbiAgICBidWYuYXBwZW5kKFwiOlwiKTtcbiAgICB0aGlzLnZhbHVlLmFwcGVuZFRvKGJ1ZiwgMCk7XG4gICAgYnVmLmFwcGVuZChcIilcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIGNvbnRleHQuZXZhbE1lZGlhVGVzdCh0aGlzLm5hbWUubmFtZSwgdGhpcy52YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBkZXBlbmRDb3JlKFxuICAgIG90aGVyOiBWYWwsXG4gICAgY29udGV4dDogQ29udGV4dCxcbiAgICBkZXBlbmRlbmN5Q2FjaGU6IERlcGVuZGVuY3lDYWNoZSxcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIG90aGVyID09PSB0aGlzIHx8IHRoaXMudmFsdWUuZGVwZW5kT3V0ZXIob3RoZXIsIGNvbnRleHQsIGRlcGVuZGVuY3lDYWNoZSlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXhwYW5kKGNvbnRleHQ6IENvbnRleHQsIHBhcmFtczogVmFsW10pOiBWYWwge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy52YWx1ZS5leHBhbmQoY29udGV4dCwgcGFyYW1zKTtcbiAgICBpZiAodmFsdWUgPT09IHRoaXMudmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjb25zdCByID0gbmV3IE1lZGlhVGVzdCh0aGlzLnNjb3BlLCB0aGlzLm5hbWUsIHZhbHVlKTtcbiAgICByZXR1cm4gcjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFyYW0gZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBwdWJsaWMgaW5kZXg6IG51bWJlcikge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKFwiJFwiKTtcbiAgICBidWYuYXBwZW5kKHRoaXMuaW5kZXgudG9TdHJpbmcoKSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBleHBhbmQoY29udGV4dDogQ29udGV4dCwgcGFyYW1zOiBWYWxbXSk6IFZhbCB7XG4gICAgY29uc3QgdiA9IHBhcmFtc1t0aGlzLmluZGV4XTtcbiAgICBpZiAoIXYpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUGFyYW1ldGVyIG1pc3Npbmc6ICR7dGhpcy5pbmRleH1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHYgYXMgVmFsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbmQoc2NvcGU6IExleGljYWxTY29wZSwgdjE6IFZhbCwgdjI6IFZhbCk6IFZhbCB7XG4gIGlmIChcbiAgICB2MSA9PT0gc2NvcGUuX2ZhbHNlIHx8XG4gICAgdjEgPT09IHNjb3BlLnplcm8gfHxcbiAgICB2MiA9PSBzY29wZS5fZmFsc2UgfHxcbiAgICB2MiA9PSBzY29wZS56ZXJvXG4gICkge1xuICAgIHJldHVybiBzY29wZS5fZmFsc2U7XG4gIH1cbiAgaWYgKHYxID09PSBzY29wZS5fdHJ1ZSB8fCB2MSA9PT0gc2NvcGUub25lKSB7XG4gICAgcmV0dXJuIHYyO1xuICB9XG4gIGlmICh2MiA9PT0gc2NvcGUuX3RydWUgfHwgdjIgPT09IHNjb3BlLm9uZSkge1xuICAgIHJldHVybiB2MTtcbiAgfVxuICByZXR1cm4gbmV3IEFuZChzY29wZSwgdjEsIHYyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChzY29wZTogTGV4aWNhbFNjb3BlLCB2MTogVmFsLCB2MjogVmFsKTogVmFsIHtcbiAgaWYgKHYxID09PSBzY29wZS56ZXJvKSB7XG4gICAgcmV0dXJuIHYyO1xuICB9XG4gIGlmICh2MiA9PT0gc2NvcGUuemVybykge1xuICAgIHJldHVybiB2MTtcbiAgfVxuICByZXR1cm4gbmV3IEFkZChzY29wZSwgdjEsIHYyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YihzY29wZTogTGV4aWNhbFNjb3BlLCB2MTogVmFsLCB2MjogVmFsKTogVmFsIHtcbiAgaWYgKHYxID09PSBzY29wZS56ZXJvKSB7XG4gICAgcmV0dXJuIG5ldyBOZWdhdGUoc2NvcGUsIHYyKTtcbiAgfVxuICBpZiAodjIgPT09IHNjb3BlLnplcm8pIHtcbiAgICByZXR1cm4gdjE7XG4gIH1cbiAgcmV0dXJuIG5ldyBTdWJ0cmFjdChzY29wZSwgdjEsIHYyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG11bChzY29wZTogTGV4aWNhbFNjb3BlLCB2MTogVmFsLCB2MjogVmFsKTogVmFsIHtcbiAgaWYgKHYxID09PSBzY29wZS56ZXJvIHx8IHYyID09PSBzY29wZS56ZXJvKSB7XG4gICAgcmV0dXJuIHNjb3BlLnplcm87XG4gIH1cbiAgaWYgKHYxID09PSBzY29wZS5vbmUpIHtcbiAgICByZXR1cm4gdjI7XG4gIH1cbiAgaWYgKHYyID09PSBzY29wZS5vbmUpIHtcbiAgICByZXR1cm4gdjE7XG4gIH1cbiAgcmV0dXJuIG5ldyBNdWx0aXBseShzY29wZSwgdjEsIHYyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdihzY29wZTogTGV4aWNhbFNjb3BlLCB2MTogVmFsLCB2MjogVmFsKTogVmFsIHtcbiAgaWYgKHYxID09PSBzY29wZS56ZXJvKSB7XG4gICAgcmV0dXJuIHNjb3BlLnplcm87XG4gIH1cbiAgaWYgKHYyID09PSBzY29wZS5vbmUpIHtcbiAgICByZXR1cm4gdjE7XG4gIH1cbiAgcmV0dXJuIG5ldyBEaXZpZGUoc2NvcGUsIHYxLCB2Mik7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENzcyAtIENTUyBWYWx1ZXMgYW5kIHV0aWxpdGllcyB0byBoYW5kbGUgdGhlbS5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuXG5leHBvcnQgY2xhc3MgVmlzaXRvciB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICovXG4gIHZpc2l0VmFsdWVzKHZhbHVlczogVmFsW10pOiBhbnkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZXNbaV0udmlzaXQodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgdmlzaXRFbXB0eShlbXB0eTogVmFsKTogVmFsIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NTU19FTVBUWV9OT1RfQUxMT1dFRFwiKTtcbiAgfVxuXG4gIHZpc2l0U2xhc2goc2xhc2g6IFZhbCk6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfU0xBU0hfTk9UX0FMTE9XRURcIik7XG4gIH1cblxuICB2aXNpdFN0cihzdHI6IFN0cik6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfU1RSX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRJZGVudChpZGVudDogSWRlbnQpOiBWYWwge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkVfQ1NTX0lERU5UX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXROdW1lcmljKG51bWVyaWM6IE51bWVyaWMpOiBWYWwge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkVfQ1NTX05VTUVSSUNfTk9UX0FMTE9XRURcIik7XG4gIH1cblxuICB2aXNpdE51bShudW06IE51bSk6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfTlVNX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRJbnQobnVtOiBJbnQpOiBWYWwge1xuICAgIHJldHVybiB0aGlzLnZpc2l0TnVtKG51bSk7XG4gIH1cblxuICB2aXNpdENvbG9yKGNvbG9yOiBDb2xvcik6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfQ09MT1JfTk9UX0FMTE9XRURcIik7XG4gIH1cblxuICB2aXNpdFVSTCh1cmw6IFVSTCk6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfVVJMX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRTcGFjZUxpc3QobGlzdDogU3BhY2VMaXN0KTogVmFsIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NTU19MSVNUX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRDb21tYUxpc3QobGlzdDogQ29tbWFMaXN0KTogVmFsIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NTU19DT01NQV9OT1RfQUxMT1dFRFwiKTtcbiAgfVxuXG4gIHZpc2l0RnVuYyhmdW5jOiBGdW5jKTogVmFsIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NTU19GVU5DX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRFeHByKGV4cHI6IEV4cHIpOiBWYWwge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkVfQ1NTX0VYUFJfTk9UX0FMTE9XRURcIik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbHRlclZpc2l0b3IgZXh0ZW5kcyBWaXNpdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHZpc2l0VmFsdWVzKHZhbHVlczogVmFsW10pOiBWYWxbXSB7XG4gICAgbGV0IGFycjogVmFsW10gPSBudWxsO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBiZWZvcmUgPSB2YWx1ZXNbaV07XG4gICAgICBjb25zdCBhZnRlciA9IGJlZm9yZS52aXNpdCh0aGlzKTtcbiAgICAgIGlmIChhcnIpIHtcbiAgICAgICAgYXJyW2ldID0gYWZ0ZXI7XG4gICAgICB9IGVsc2UgaWYgKGJlZm9yZSAhPT0gYWZ0ZXIpIHtcbiAgICAgICAgYXJyID0gbmV3IEFycmF5KHZhbHVlcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGk7IGsrKykge1xuICAgICAgICAgIGFycltrXSA9IHZhbHVlc1trXTtcbiAgICAgICAgfVxuICAgICAgICBhcnJbaV0gPSBhZnRlcjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFyciB8fCB2YWx1ZXM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFN0cihzdHI6IFN0cik6IFZhbCB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0SWRlbnQoaWRlbnQ6IElkZW50KTogVmFsIHtcbiAgICByZXR1cm4gaWRlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNsYXNoKHNsYXNoOiBWYWwpOiBWYWwge1xuICAgIHJldHVybiBzbGFzaDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtZXJpYyhudW1lcmljOiBOdW1lcmljKTogVmFsIHtcbiAgICByZXR1cm4gbnVtZXJpYztcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtKG51bTogTnVtKTogVmFsIHtcbiAgICByZXR1cm4gbnVtO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJbnQobnVtOiBJbnQpOiBWYWwge1xuICAgIHJldHVybiBudW07XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdENvbG9yKGNvbG9yOiBDb2xvcik6IFZhbCB7XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRVUkwodXJsOiBVUkwpOiBWYWwge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBTcGFjZUxpc3QpOiBWYWwge1xuICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMudmlzaXRWYWx1ZXMobGlzdC52YWx1ZXMpO1xuICAgIGlmICh2YWx1ZXMgPT09IGxpc3QudmFsdWVzKSB7XG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTcGFjZUxpc3QodmFsdWVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29tbWFMaXN0KGxpc3Q6IENvbW1hTGlzdCk6IFZhbCB7XG4gICAgY29uc3QgdmFsdWVzID0gdGhpcy52aXNpdFZhbHVlcyhsaXN0LnZhbHVlcyk7XG4gICAgaWYgKHZhbHVlcyA9PT0gbGlzdC52YWx1ZXMpIHtcbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IENvbW1hTGlzdCh2YWx1ZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRGdW5jKGZ1bmM6IEZ1bmMpOiBWYWwge1xuICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMudmlzaXRWYWx1ZXMoZnVuYy52YWx1ZXMpO1xuICAgIGlmICh2YWx1ZXMgPT09IGZ1bmMudmFsdWVzKSB7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGdW5jKGZ1bmMubmFtZSwgdmFsdWVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RXhwcihleHByOiBFeHByKTogVmFsIHtcbiAgICByZXR1cm4gZXhwcjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmFsIHtcbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBjb25zdCBidWYgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgICB0aGlzLmFwcGVuZFRvKGJ1ZiwgdHJ1ZSk7XG4gICAgcmV0dXJuIGJ1Zi50b1N0cmluZygpO1xuICB9XG5cbiAgc3RyaW5nVmFsdWUoKTogc3RyaW5nIHtcbiAgICBjb25zdCBidWYgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgICB0aGlzLmFwcGVuZFRvKGJ1ZiwgZmFsc2UpO1xuICAgIHJldHVybiBidWYudG9TdHJpbmcoKTtcbiAgfVxuXG4gIHRvRXhwcihzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLCByZWY6IEV4cHJzLlZhbCk6IEV4cHJzLlZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZChcIltlcnJvcl1cIik7XG4gIH1cblxuICBpc0V4cHIoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaXNOdW1lcmljKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlzTnVtKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlzSWRlbnQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaXNTcGFjZUxpc3QoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX0FCU1RSQUNUXCIpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbXB0eSBleHRlbmRzIFZhbCB7XG4gIHByaXZhdGUgc3RhdGljIGVtcHR5OiBFbXB0eTtcblxuICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBFbXB0eSB7XG4gICAgaWYgKCF0aGlzLmVtcHR5KSB7XG4gICAgICB0aGlzLmVtcHR5ID0gbmV3IEVtcHR5KCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmVtcHR5O1xuICB9XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9FeHByKHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsIHJlZjogRXhwcnMuVmFsKTogRXhwcnMuVmFsIHtcbiAgICByZXR1cm4gbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCBcIlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRFbXB0eSh0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZW1wdHk6IEVtcHR5ID0gRW1wdHkuaW5zdGFuY2U7XG5cbmV4cG9ydCBjbGFzcyBTbGFzaCBleHRlbmRzIFZhbCB7XG4gIHByaXZhdGUgc3RhdGljIHNsYXNoOiBTbGFzaDtcblxuICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBTbGFzaCB7XG4gICAgaWYgKCF0aGlzLnNsYXNoKSB7XG4gICAgICB0aGlzLnNsYXNoID0gbmV3IFNsYXNoKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNsYXNoO1xuICB9XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9FeHByKHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsIHJlZjogRXhwcnMuVmFsKTogRXhwcnMuVmFsIHtcbiAgICByZXR1cm4gbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCBcIi9cIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGJ1Zi5hcHBlbmQoXCIvXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdFNsYXNoKHRoaXMpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBzbGFzaDogU2xhc2ggPSBTbGFzaC5pbnN0YW5jZTtcblxuZXhwb3J0IGNsYXNzIFN0ciBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBzdHI6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b0V4cHIoc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSwgcmVmOiBFeHBycy5WYWwpOiBFeHBycy5WYWwge1xuICAgIHJldHVybiBuZXcgRXhwcnMuQ29uc3Qoc2NvcGUsIHRoaXMuc3RyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKHRvU3RyaW5nKSB7XG4gICAgICBidWYuYXBwZW5kKCdcIicpO1xuICAgICAgYnVmLmFwcGVuZChCYXNlLmVzY2FwZUNTU1N0cih0aGlzLnN0cikpO1xuICAgICAgYnVmLmFwcGVuZCgnXCInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmLmFwcGVuZCh0aGlzLnN0cik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdFN0cih0aGlzKTtcbiAgfVxufVxuXG5jb25zdCBuYW1lVGFibGUgPSB7fTtcblxuZXhwb3J0IGNsYXNzIElkZW50IGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKG5hbWVUYWJsZVtuYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9JTlZBTElEX0NBTExcIik7XG4gICAgfVxuICAgIG5hbWVUYWJsZVtuYW1lXSA9IHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b0V4cHIoc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSwgcmVmOiBFeHBycy5WYWwpOiBFeHBycy5WYWwge1xuICAgIHJldHVybiBuZXcgRXhwcnMuQ29uc3Qoc2NvcGUsIHRoaXMubmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmICh0b1N0cmluZykge1xuICAgICAgYnVmLmFwcGVuZChCYXNlLmVzY2FwZUNTU0lkZW50KHRoaXMubmFtZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBidWYuYXBwZW5kKHRoaXMubmFtZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdElkZW50KHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNJZGVudCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmFtZShuYW1lOiBzdHJpbmcpOiBJZGVudCB7XG4gIGxldCByID0gbmFtZVRhYmxlW25hbWVdO1xuICBpZiAoIXIpIHtcbiAgICByID0gbmV3IElkZW50KG5hbWUpO1xuICB9XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgY2xhc3MgTnVtZXJpYyBleHRlbmRzIFZhbCB7XG4gIHVuaXQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgbnVtOiBudW1iZXIsIHVuaXQ6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy51bml0ID0gdW5pdC50b0xvd2VyQ2FzZSgpOyAvLyB1bml0cyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSBpbiBDU1NcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvRXhwcihzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLCByZWY6IEV4cHJzLlZhbCk6IEV4cHJzLlZhbCB7XG4gICAgaWYgKHRoaXMubnVtID09IDApIHtcbiAgICAgIHJldHVybiBzY29wZS56ZXJvO1xuICAgIH1cbiAgICBpZiAocmVmICYmIHRoaXMudW5pdCA9PSBcIiVcIikge1xuICAgICAgaWYgKHRoaXMubnVtID09IDEwMCkge1xuICAgICAgICByZXR1cm4gcmVmO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBFeHBycy5NdWx0aXBseShcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHJlZixcbiAgICAgICAgbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCB0aGlzLm51bSAvIDEwMCksXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEV4cHJzLk51bWVyaWMoc2NvcGUsIHRoaXMubnVtLCB0aGlzLnVuaXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwZW5kVG8oYnVmOiBCYXNlLlN0cmluZ0J1ZmZlciwgdG9TdHJpbmc6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKHRoaXMubnVtLnRvU3RyaW5nKCkpO1xuICAgIGJ1Zi5hcHBlbmQodGhpcy51bml0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXROdW1lcmljKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNOdW1lcmljKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOdW0gZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgbnVtOiBudW1iZXIpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9FeHByKHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsIHJlZjogRXhwcnMuVmFsKTogRXhwcnMuVmFsIHtcbiAgICBpZiAodGhpcy5udW0gPT0gMCkge1xuICAgICAgcmV0dXJuIHNjb3BlLnplcm87XG4gICAgfVxuICAgIGlmICh0aGlzLm51bSA9PSAxKSB7XG4gICAgICByZXR1cm4gc2NvcGUub25lO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCB0aGlzLm51bSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGJ1Zi5hcHBlbmQodGhpcy5udW0udG9TdHJpbmcoKSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdCh2aXNpdG9yOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB2aXNpdG9yLnZpc2l0TnVtKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNOdW0oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEludCBleHRlbmRzIE51bSB7XG4gIGNvbnN0cnVjdG9yKG51bTogbnVtYmVyKSB7XG4gICAgc3VwZXIobnVtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRJbnQodGhpcyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbG9yIGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJnYjogbnVtYmVyKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZChcIiNcIik7XG4gICAgY29uc3Qgc3RyID0gdGhpcy5yZ2IudG9TdHJpbmcoMTYpO1xuICAgIGJ1Zi5hcHBlbmQoXCIwMDAwMDBcIi5zdWJzdHIoc3RyLmxlbmd0aCkpO1xuICAgIGJ1Zi5hcHBlbmQoc3RyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRDb2xvcih0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVVJMIGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3IocHVibGljIHVybDogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZCgndXJsKFwiJyk7XG4gICAgYnVmLmFwcGVuZChCYXNlLmVzY2FwZUNTU1N0cih0aGlzLnVybCkpO1xuICAgIGJ1Zi5hcHBlbmQoJ1wiKScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdFVSTCh0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kTGlzdChcbiAgYnVmOiBCYXNlLlN0cmluZ0J1ZmZlcixcbiAgdmFsdWVzOiBWYWxbXSxcbiAgc2VwYXJhdG9yOiBzdHJpbmcsXG4gIHRvU3RyaW5nOiBib29sZWFuLFxuKTogdm9pZCB7XG4gIGNvbnN0IGxlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG4gIHZhbHVlc1swXS5hcHBlbmRUbyhidWYsIHRvU3RyaW5nKTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGJ1Zi5hcHBlbmQoc2VwYXJhdG9yKTtcbiAgICB2YWx1ZXNbaV0uYXBwZW5kVG8oYnVmLCB0b1N0cmluZyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNwYWNlTGlzdCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB2YWx1ZXM6IFZhbFtdKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYXBwZW5kTGlzdChidWYsIHRoaXMudmFsdWVzLCBcIiBcIiwgdG9TdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdFNwYWNlTGlzdCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGlzU3BhY2VMaXN0KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21tYUxpc3QgZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgdmFsdWVzOiBWYWxbXSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGFwcGVuZExpc3QoYnVmLCB0aGlzLnZhbHVlcywgXCIsXCIsIHRvU3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRDb21tYUxpc3QodGhpcyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZ1bmMgZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nLCBwdWJsaWMgdmFsdWVzOiBWYWxbXSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGJ1Zi5hcHBlbmQoQmFzZS5lc2NhcGVDU1NJZGVudCh0aGlzLm5hbWUpKTtcbiAgICBidWYuYXBwZW5kKFwiKFwiKTtcbiAgICBhcHBlbmRMaXN0KGJ1ZiwgdGhpcy52YWx1ZXMsIFwiLFwiLCB0b1N0cmluZyk7XG4gICAgYnVmLmFwcGVuZChcIilcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdCh2aXNpdG9yOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB2aXNpdG9yLnZpc2l0RnVuYyh0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRXhwciBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBleHByOiBFeHBycy5WYWwpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9FeHByKCk6IEV4cHJzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMuZXhwcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZChcIi1lcHVieC1leHByKFwiKTtcbiAgICB0aGlzLmV4cHIuYXBwZW5kVG8oYnVmLCAwKTtcbiAgICBidWYuYXBwZW5kKFwiKVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRFeHByKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNFeHByKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b051bWJlcih2YWw6IFZhbCwgY29udGV4dDogRXhwcnMuQ29udGV4dCk6IG51bWJlciB7XG4gIGlmICh2YWwpIHtcbiAgICBpZiAodmFsLmlzTnVtZXJpYygpKSB7XG4gICAgICBjb25zdCBudW1lcmljID0gdmFsIGFzIE51bWVyaWM7XG4gICAgICByZXR1cm4gY29udGV4dC5xdWVyeVVuaXRTaXplKG51bWVyaWMudW5pdCwgZmFsc2UpICogbnVtZXJpYy5udW07XG4gICAgfVxuICAgIGlmICh2YWwuaXNOdW0oKSkge1xuICAgICAgcmV0dXJuICh2YWwgYXMgTnVtKS5udW07XG4gICAgfVxuICB9XG4gIHJldHVybiAwO1xufVxuXG4vKipcbiAqIENvbnZlcnQgbnVtZXJpYyB2YWx1ZSB0byBweFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydE51bWVyaWNUb1B4KHZhbDogVmFsLCBjb250ZXh0OiBFeHBycy5Db250ZXh0KTogTnVtZXJpYyB7XG4gIHJldHVybiBuZXcgTnVtZXJpYyh0b051bWJlcih2YWwsIGNvbnRleHQpLCBcInB4XCIpO1xufVxuXG5leHBvcnQgY29uc3QgaWRlbnQ6IHsgW2tleTogc3RyaW5nXTogSWRlbnQgfSA9IHtcbiAgYWJzb2x1dGU6IGdldE5hbWUoXCJhYnNvbHV0ZVwiKSxcbiAgYWxsOiBnZXROYW1lKFwiYWxsXCIpLFxuICBhbHdheXM6IGdldE5hbWUoXCJhbHdheXNcIiksXG4gIGF1dG86IGdldE5hbWUoXCJhdXRvXCIpLFxuICBhdm9pZDogZ2V0TmFtZShcImF2b2lkXCIpLFxuICBiYWxhbmNlOiBnZXROYW1lKFwiYmFsYW5jZVwiKSxcbiAgYmFsYW5jZV9hbGw6IGdldE5hbWUoXCJiYWxhbmNlLWFsbFwiKSxcbiAgYmxvY2s6IGdldE5hbWUoXCJibG9ja1wiKSxcbiAgYmxvY2tfZW5kOiBnZXROYW1lKFwiYmxvY2stZW5kXCIpLFxuICBibG9ja19zdGFydDogZ2V0TmFtZShcImJsb2NrLXN0YXJ0XCIpLFxuICBib3RoOiBnZXROYW1lKFwiYm90aFwiKSxcbiAgYm90dG9tOiBnZXROYW1lKFwiYm90dG9tXCIpLFxuICBib3JkZXJfYm94OiBnZXROYW1lKFwiYm9yZGVyLWJveFwiKSxcbiAgYnJlYWtfYWxsOiBnZXROYW1lKFwiYnJlYWstYWxsXCIpLFxuICBicmVha193b3JkOiBnZXROYW1lKFwiYnJlYWstd29yZFwiKSxcbiAgY3JvcDogZ2V0TmFtZShcImNyb3BcIiksXG4gIGNyb3NzOiBnZXROYW1lKFwiY3Jvc3NcIiksXG4gIGNvbHVtbjogZ2V0TmFtZShcImNvbHVtblwiKSxcbiAgZXhjbHVzaXZlOiBnZXROYW1lKFwiZXhjbHVzaXZlXCIpLFxuICBfZmFsc2U6IGdldE5hbWUoXCJmYWxzZVwiKSxcbiAgZml4ZWQ6IGdldE5hbWUoXCJmaXhlZFwiKSxcbiAgZmxleDogZ2V0TmFtZShcImZsZXhcIiksXG4gIGZvb3Rub3RlOiBnZXROYW1lKFwiZm9vdG5vdGVcIiksXG4gIGZvb3RlcjogZ2V0TmFtZShcImZvb3RlclwiKSxcbiAgaGVhZGVyOiBnZXROYW1lKFwiaGVhZGVyXCIpLFxuICBoaWRkZW46IGdldE5hbWUoXCJoaWRkZW5cIiksXG4gIGhvcml6b250YWxfdGI6IGdldE5hbWUoXCJob3Jpem9udGFsLXRiXCIpLFxuICBpbmhlcml0OiBnZXROYW1lKFwiaW5oZXJpdFwiKSxcbiAgaW5saW5lOiBnZXROYW1lKFwiaW5saW5lXCIpLFxuICBpbmxpbmVfYmxvY2s6IGdldE5hbWUoXCJpbmxpbmUtYmxvY2tcIiksXG4gIGlubGluZV9lbmQ6IGdldE5hbWUoXCJpbmxpbmUtZW5kXCIpLFxuICBpbmxpbmVfc3RhcnQ6IGdldE5hbWUoXCJpbmxpbmUtc3RhcnRcIiksXG4gIGxhbmRzY2FwZTogZ2V0TmFtZShcImxhbmRzY2FwZVwiKSxcbiAgbGVmdDogZ2V0TmFtZShcImxlZnRcIiksXG4gIGxpbmU6IGdldE5hbWUoXCJsaW5lXCIpLFxuICBsaXN0X2l0ZW06IGdldE5hbWUoXCJsaXN0LWl0ZW1cIiksXG4gIGx0cjogZ2V0TmFtZShcImx0clwiKSxcbiAgbWFudWFsOiBnZXROYW1lKFwibWFudWFsXCIpLFxuICBub25lOiBnZXROYW1lKFwibm9uZVwiKSxcbiAgbm9ybWFsOiBnZXROYW1lKFwibm9ybWFsXCIpLFxuICBvZWJfcGFnZV9mb290OiBnZXROYW1lKFwib2ViLXBhZ2UtZm9vdFwiKSxcbiAgb2ViX3BhZ2VfaGVhZDogZ2V0TmFtZShcIm9lYi1wYWdlLWhlYWRcIiksXG4gIHBhZ2U6IGdldE5hbWUoXCJwYWdlXCIpLFxuICByZWxhdGl2ZTogZ2V0TmFtZShcInJlbGF0aXZlXCIpLFxuICByaWdodDogZ2V0TmFtZShcInJpZ2h0XCIpLFxuICBzYW1lOiBnZXROYW1lKFwic2FtZVwiKSxcbiAgc2NhbGU6IGdldE5hbWUoXCJzY2FsZVwiKSxcbiAgc25hcF9ibG9jazogZ2V0TmFtZShcInNuYXAtYmxvY2tcIiksXG4gIHNwcmVhZDogZ2V0TmFtZShcInNwcmVhZFwiKSxcbiAgX3N0YXRpYzogZ2V0TmFtZShcInN0YXRpY1wiKSxcbiAgcnRsOiBnZXROYW1lKFwicnRsXCIpLFxuICB0YWJsZTogZ2V0TmFtZShcInRhYmxlXCIpLFxuICB0YWJsZV9jYXB0aW9uOiBnZXROYW1lKFwidGFibGUtY2FwdGlvblwiKSxcbiAgdGFibGVfY2VsbDogZ2V0TmFtZShcInRhYmxlLWNlbGxcIiksXG4gIHRhYmxlX2Zvb3Rlcl9ncm91cDogZ2V0TmFtZShcInRhYmxlLWZvb3Rlci1ncm91cFwiKSxcbiAgdGFibGVfaGVhZGVyX2dyb3VwOiBnZXROYW1lKFwidGFibGUtaGVhZGVyLWdyb3VwXCIpLFxuICB0YWJsZV9yb3c6IGdldE5hbWUoXCJ0YWJsZS1yb3dcIiksXG4gIHRvcDogZ2V0TmFtZShcInRvcFwiKSxcbiAgdHJhbnNwYXJlbnQ6IGdldE5hbWUoXCJ0cmFuc3BhcmVudFwiKSxcbiAgdmVydGljYWxfbHI6IGdldE5hbWUoXCJ2ZXJ0aWNhbC1sclwiKSxcbiAgdmVydGljYWxfcmw6IGdldE5hbWUoXCJ2ZXJ0aWNhbC1ybFwiKSxcbiAgdmlzaWJsZTogZ2V0TmFtZShcInZpc2libGVcIiksXG4gIF90cnVlOiBnZXROYW1lKFwidHJ1ZVwiKSxcbn07XG5cbmV4cG9ydCBjb25zdCBodW5kcmVkUGVyY2VudDogTnVtZXJpYyA9IG5ldyBOdW1lcmljKDEwMCwgXCIlXCIpO1xuXG5leHBvcnQgY29uc3QgZnVsbFdpZHRoOiBOdW1lcmljID0gbmV3IE51bWVyaWMoMTAwLCBcInB2d1wiKTtcblxuZXhwb3J0IGNvbnN0IGZ1bGxIZWlnaHQ6IE51bWVyaWMgPSBuZXcgTnVtZXJpYygxMDAsIFwicHZoXCIpO1xuXG5leHBvcnQgY29uc3QgbnVtZXJpY1plcm86IE51bWVyaWMgPSBuZXcgTnVtZXJpYygwLCBcInB4XCIpO1xuXG5leHBvcnQgY29uc3QgcHJvY2Vzc2luZ09yZGVyID0ge1xuICBcImZvbnQtc2l6ZVwiOiAxLFxuICBjb2xvcjogMixcbn07XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gc29ydCBwcm9wZXJ0eSBuYW1lcyBpbiB0aGUgb3JkZXIgdGhleSBzaG91bGQgYmUgcHJvY2Vzc2VkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzaW5nT3JkZXJGbihuYW1lMTogc3RyaW5nLCBuYW1lMjogc3RyaW5nKTogbnVtYmVyIHtcbiAgY29uc3QgbjEgPSBwcm9jZXNzaW5nT3JkZXJbbmFtZTFdIHx8IE51bWJlci5NQVhfVkFMVUU7XG4gIGNvbnN0IG4yID0gcHJvY2Vzc2luZ09yZGVyW25hbWUyXSB8fCBOdW1iZXIuTUFYX1ZBTFVFO1xuICByZXR1cm4gbjEgLSBuMjtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgR2VvbWV0cnlVdGlsIC0gR2VvbWV0cmljIHV0aWxpdGllcy5cbiAqL1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5cbmV4cG9ydCBjbGFzcyBSZWN0IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHgxOiBudW1iZXIsXG4gICAgcHVibGljIHkxOiBudW1iZXIsXG4gICAgcHVibGljIHgyOiBudW1iZXIsXG4gICAgcHVibGljIHkyOiBudW1iZXIsXG4gICkge31cbn1cblxuZXhwb3J0IGNsYXNzIFBvaW50IHtcbiAgY29uc3RydWN0b3IocHVibGljIHg6IG51bWJlciwgcHVibGljIHk6IG51bWJlcikge31cbn1cblxuZXhwb3J0IGNsYXNzIEluc2V0cyB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBsZWZ0OiBudW1iZXIsXG4gICAgcHVibGljIHRvcDogbnVtYmVyLFxuICAgIHB1YmxpYyByaWdodDogbnVtYmVyLFxuICAgIHB1YmxpYyBib3R0b206IG51bWJlcixcbiAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgU2VnbWVudCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBsb3c6IFBvaW50LFxuICAgIHB1YmxpYyBoaWdoOiBQb2ludCxcbiAgICBwdWJsaWMgd2luZGluZzogbnVtYmVyLFxuICAgIHB1YmxpYyBzaGFwZUlkOiBudW1iZXIsXG4gICkge31cbn1cblxuLyoqXG4gKiBBIHNpbmdsZSBiYW5kIGZvciBleGNsdXNpb24gcmVzdWx0LiBMZWZ0IGZsb2F0IGlzIGZyb20gdGhlIGxlZnQgYm94IGVkZ2VcbiAqIHRvIHgxLiBSaWdodCBmbG9hdCBpcyBmcm9tIHgyIHRvIHRoZSByaWdodCBib3ggZWRnZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhbmQge1xuICAvKiogTGVmdCBmbG9hdC4gKi9cbiAgbGVmdDogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG4gIC8qKiBSaWdodCBmbG9hdC4gKi9cbiAgcmlnaHQ6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgeTE6IG51bWJlcixcbiAgICBwdWJsaWMgeTI6IG51bWJlcixcbiAgICBwdWJsaWMgeDE6IG51bWJlcixcbiAgICBwdWJsaWMgeDI6IG51bWJlcixcbiAgKSB7fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VnbWVudENvbXBhcmUoczE6IFNlZ21lbnQsIHMyOiBTZWdtZW50KTogbnVtYmVyIHtcbiAgcmV0dXJuIHMxLmxvdy55IC0gczIubG93LnkgfHwgczEubG93LnggLSBzMi5sb3cueDtcbn1cblxuZXhwb3J0IGNsYXNzIFNoYXBlIHtcbiAgY29uc3RydWN0b3IocHVibGljIHBvaW50czogUG9pbnRbXSkge31cblxuICAvKipcbiAgICogQ29udmVydHMgdGhpcyBzaGFwZSB0byBhIHNlcXVlbmNlIG9mIFNlZ21lbnRzIGFuZCBhZGRzIHNlZ21lbnRzIHRvIHRoZVxuICAgKiBnaXZlbiBhcnJheS5cbiAgICogQHBhcmFtIGFyciBhcnJheSB0byBhZGQgc2VnbWVudHMuXG4gICAqIEBwYXJhbSBpZCBzaGFwZUlkIHRvIHdyaXRlIGludG8gc2VnbWVudHMuXG4gICAqL1xuICBhZGRTZWdtZW50cyhhcnI6IFNlZ21lbnRbXSwgaWQ6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgIGNvbnN0IGxlbmd0aCA9IHBvaW50cy5sZW5ndGg7XG4gICAgbGV0IHByZXYgPSBwb2ludHNbbGVuZ3RoIC0gMV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY3VyciA9IHBvaW50c1tpXTtcbiAgICAgIGxldCBzOiBTZWdtZW50O1xuICAgICAgaWYgKHByZXYueSA8IGN1cnIueSkge1xuICAgICAgICBzID0gbmV3IFNlZ21lbnQocHJldiwgY3VyciwgMSwgaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcyA9IG5ldyBTZWdtZW50KGN1cnIsIHByZXYsIC0xLCBpZCk7XG4gICAgICB9XG4gICAgICBhcnIucHVzaChzKTtcbiAgICAgIHByZXYgPSBjdXJyO1xuICAgIH1cbiAgfVxuXG4gIHdpdGhPZmZzZXQob2Zmc2V0WDogbnVtYmVyLCBvZmZzZXRZOiBudW1iZXIpOiBTaGFwZSB7XG4gICAgY29uc3QgcG9pbnRzID0gW107XG4gICAgZm9yIChjb25zdCBwIG9mIHRoaXMucG9pbnRzKSB7XG4gICAgICBwb2ludHMucHVzaChuZXcgUG9pbnQocC54ICsgb2Zmc2V0WCwgcC55ICsgb2Zmc2V0WSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFNoYXBlKHBvaW50cyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlRm9yRWxsaXBzZShcbiAgY3g6IG51bWJlcixcbiAgY3k6IG51bWJlcixcbiAgcng6IG51bWJlcixcbiAgcnk6IG51bWJlcixcbik6IFNoYXBlIHtcbiAgY29uc3QgY291bnQgPSAyMDtcbiAgY29uc3QgcG9pbnRzOiBQb2ludFtdID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgIGNvbnN0IGEgPSAoaSAqIDIgKiBNYXRoLlBJKSAvIGNvdW50O1xuICAgIHBvaW50cy5wdXNoKG5ldyBQb2ludChjeCArIHJ4ICogTWF0aC5zaW4oYSksIGN5ICsgcnkgKiBNYXRoLmNvcyhhKSkpO1xuICB9XG4gIHJldHVybiBuZXcgU2hhcGUocG9pbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlRm9yUmVjdChcbiAgeDE6IG51bWJlcixcbiAgeTE6IG51bWJlcixcbiAgeDI6IG51bWJlcixcbiAgeTI6IG51bWJlcixcbik6IFNoYXBlIHtcbiAgcmV0dXJuIG5ldyBTaGFwZShbXG4gICAgbmV3IFBvaW50KHgxLCB5MSksXG4gICAgbmV3IFBvaW50KHgyLCB5MSksXG4gICAgbmV3IFBvaW50KHgyLCB5MiksXG4gICAgbmV3IFBvaW50KHgxLCB5MiksXG4gIF0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcGVGb3JSZWN0T2JqKHI6IFJlY3QpOiBTaGFwZSB7XG4gIHJldHVybiBuZXcgU2hhcGUoW1xuICAgIG5ldyBQb2ludChyLngxLCByLnkxKSxcbiAgICBuZXcgUG9pbnQoci54Miwgci55MSksXG4gICAgbmV3IFBvaW50KHIueDIsIHIueTIpLFxuICAgIG5ldyBQb2ludChyLngxLCByLnkyKSxcbiAgXSk7XG59XG5cbmV4cG9ydCBjbGFzcyBCYW5kSW50ZXJzZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHg6IG51bWJlcixcbiAgICBwdWJsaWMgd2luZGluZzogbnVtYmVyLFxuICAgIHB1YmxpYyBzaGFwZUlkOiBudW1iZXIsXG4gICAgcHVibGljIGxvd09ySGlnaDogbnVtYmVyLFxuICApIHt9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RZKHM6IFNlZ21lbnQsIHk6IG51bWJlcik6IG51bWJlciB7XG4gIGNvbnN0IHggPVxuICAgIHMubG93LnggKyAoKHMuaGlnaC54IC0gcy5sb3cueCkgKiAoeSAtIHMubG93LnkpKSAvIChzLmhpZ2gueSAtIHMubG93LnkpO1xuICBpZiAoaXNOYU4oeCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJCYWQgaW50ZXJzZWN0aW9uXCIpO1xuICB9XG4gIHJldHVybiB4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQmFuZEludGVyc2VjdGlvbnMoXG4gIGludGVyc2VjdGlvbnM6IEJhbmRJbnRlcnNlY3Rpb25bXSxcbiAgczogU2VnbWVudCxcbiAgeTE6IG51bWJlcixcbiAgeTI6IG51bWJlcixcbik6IHZvaWQge1xuICBsZXQgeDE6IG51bWJlcjtcbiAgbGV0IHcxOiBudW1iZXI7XG4gIGxldCB4MjogbnVtYmVyO1xuICBsZXQgdzI6IG51bWJlcjtcbiAgaWYgKHMuaGlnaC55IDwgeTEpIHtcbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRXJyb3I6IGluY29uc2lzdGVudCBzZWdtZW50ICgxKVwiKTtcbiAgfVxuICBpZiAocy5sb3cueSA8PSB5MSkge1xuICAgIC8vIG91dHNpZGVcbiAgICB4MSA9IGludGVyc2VjdFkocywgeTEpO1xuICAgIHcxID0gcy53aW5kaW5nO1xuICB9IGVsc2Uge1xuICAgIHgxID0gcy5sb3cueDtcbiAgICB3MSA9IDA7XG4gIH1cbiAgaWYgKHMuaGlnaC55ID49IHkyKSB7XG4gICAgLy8gb3V0c2lkZVxuICAgIHgyID0gaW50ZXJzZWN0WShzLCB5Mik7XG4gICAgdzIgPSBzLndpbmRpbmc7XG4gIH0gZWxzZSB7XG4gICAgeDIgPSBzLmhpZ2gueDtcbiAgICB3MiA9IDA7XG4gIH1cbiAgaWYgKHgxIDwgeDIpIHtcbiAgICBpbnRlcnNlY3Rpb25zLnB1c2gobmV3IEJhbmRJbnRlcnNlY3Rpb24oeDEsIHcxLCBzLnNoYXBlSWQsIC0xKSk7XG4gICAgaW50ZXJzZWN0aW9ucy5wdXNoKG5ldyBCYW5kSW50ZXJzZWN0aW9uKHgyLCB3Miwgcy5zaGFwZUlkLCAxKSk7XG4gIH0gZWxzZSB7XG4gICAgaW50ZXJzZWN0aW9ucy5wdXNoKG5ldyBCYW5kSW50ZXJzZWN0aW9uKHgyLCB3Miwgcy5zaGFwZUlkLCAtMSkpO1xuICAgIGludGVyc2VjdGlvbnMucHVzaChuZXcgQmFuZEludGVyc2VjdGlvbih4MSwgdzEsIHMuc2hhcGVJZCwgMSkpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUludGVyc2VjdGlvbnMoXG4gIGludGVyc2VjdGlvbnM6IEJhbmRJbnRlcnNlY3Rpb25bXSxcbiAgaW5jbHVkZUNvdW50OiBudW1iZXIsXG4gIGV4Y2x1ZGVDb3VudDogbnVtYmVyLFxuKTogbnVtYmVyW10ge1xuICBjb25zdCBzaGFwZUNvdW50ID0gaW5jbHVkZUNvdW50ICsgZXhjbHVkZUNvdW50O1xuICBjb25zdCB3aW5kaW5nczE6IG51bWJlcltdID0gQXJyYXkoc2hhcGVDb3VudCk7XG4gIGNvbnN0IHdpbmRpbmdzMjogbnVtYmVyW10gPSBBcnJheShzaGFwZUNvdW50KTtcbiAgbGV0IGk6IG51bWJlcjtcbiAgZm9yIChpID0gMDsgaSA8PSBzaGFwZUNvdW50OyBpKyspIHtcbiAgICB3aW5kaW5nczFbaV0gPSAwO1xuICAgIHdpbmRpbmdzMltpXSA9IDA7XG4gIH1cbiAgY29uc3QgeHJhbmdlczogbnVtYmVyW10gPSBbXTtcbiAgbGV0IGluc2lkZTogYm9vbGVhbiA9IGZhbHNlO1xuICBjb25zdCBpbnRlcnNlY3Rpb25Db3VudCA9IGludGVyc2VjdGlvbnMubGVuZ3RoO1xuICBmb3IgKGxldCBrID0gMDsgayA8IGludGVyc2VjdGlvbkNvdW50OyBrKyspIHtcbiAgICBjb25zdCBpbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb25zW2tdO1xuICAgIHdpbmRpbmdzMVtpbnRlcnNlY3Rpb24uc2hhcGVJZF0gKz0gaW50ZXJzZWN0aW9uLndpbmRpbmc7XG4gICAgd2luZGluZ3MyW2ludGVyc2VjdGlvbi5zaGFwZUlkXSArPSBpbnRlcnNlY3Rpb24ubG93T3JIaWdoO1xuICAgIGxldCBzdGlsbEluc2lkZSA9IGZhbHNlO1xuICAgIGZvciAoaSA9IDA7IGkgPCBpbmNsdWRlQ291bnQ7IGkrKykge1xuICAgICAgaWYgKHdpbmRpbmdzMVtpXSAmJiAhd2luZGluZ3MyW2ldKSB7XG4gICAgICAgIHN0aWxsSW5zaWRlID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdGlsbEluc2lkZSkge1xuICAgICAgZm9yIChpID0gaW5jbHVkZUNvdW50OyBpIDw9IHNoYXBlQ291bnQ7IGkrKykge1xuICAgICAgICBpZiAod2luZGluZ3MxW2ldIHx8IHdpbmRpbmdzMltpXSkge1xuICAgICAgICAgIHN0aWxsSW5zaWRlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluc2lkZSAhPSBzdGlsbEluc2lkZSkge1xuICAgICAgeHJhbmdlcy5wdXNoKGludGVyc2VjdGlvbi54KTtcbiAgICAgIGluc2lkZSA9IHN0aWxsSW5zaWRlO1xuICAgIH1cbiAgfVxuICByZXR1cm4geHJhbmdlcztcbn1cblxuLyoqXG4gKiBSb3VuZCB2IHVwIHRvIG1ha2UgaXQgYSBtdWx0aXBsZSBvZiB1bml0LiBJZiB1bml0IGlzIHplcm8sIHJldHVybiB2LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2VpbCh2OiBudW1iZXIsIHVuaXQ6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiB1bml0ID8gTWF0aC5jZWlsKHYgLyB1bml0KSAqIHVuaXQgOiB2O1xufVxuXG4vKipcbiAqIFJvdW5kIHYgZG93biB0byBtYWtlIGl0IGEgbXVsdGlwbGUgb2YgdW5pdC4gSWYgdW5pdCBpcyB6ZXJvLCByZXR1cm4gdi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKHY6IG51bWJlciwgdW5pdDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIHVuaXQgPyBNYXRoLmZsb29yKHYgLyB1bml0KSAqIHVuaXQgOiB2O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlUG9pbnQocG9pbnQ6IFBvaW50KTogUG9pbnQge1xuICByZXR1cm4gbmV3IFBvaW50KHBvaW50LnksIC1wb2ludC54KTtcbn1cblxuLyoqXG4gKiBWZXJ0aWNhbCBib3ggdG8gcHNldWRvLWhvcml6b250YWwgY29vcmRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQm94KGJveDogUmVjdCk6IFJlY3Qge1xuICByZXR1cm4gbmV3IFJlY3QoYm94LnkxLCAtYm94LngyLCBib3gueTIsIC1ib3gueDEpO1xufVxuXG4vKipcbiAqIFBzZXVkby1ob3Jpem9udGFsIGNvb3JkcyB0byB2ZXJ0aWNhbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVucm90YXRlQm94KGJveDogUmVjdCk6IFJlY3Qge1xuICByZXR1cm4gbmV3IFJlY3QoLWJveC55MiwgYm94LngxLCAtYm94LnkxLCBib3gueDIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlU2hhcGUoc2hhcGU6IFNoYXBlKTogU2hhcGUge1xuICByZXR1cm4gbmV3IFNoYXBlKHNoYXBlLnBvaW50cy5tYXAoKHBvaW50KSA9PiByb3RhdGVQb2ludChwb2ludCkpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlc1RvQmFuZHMoXG4gIGJveDogUmVjdCxcbiAgaW5jbHVkZTogU2hhcGVbXSxcbiAgZXhjbHVkZTogU2hhcGVbXSxcbiAgZ3JhbnVsYXJpdHk6IG51bWJlcixcbiAgc25hcEhlaWdodDogbnVtYmVyLFxuICB2ZXJ0aWNhbDogYm9vbGVhbixcbik6IEJhbmRbXSB7XG4gIGlmICh2ZXJ0aWNhbCkge1xuICAgIGJveCA9IHJvdGF0ZUJveChib3gpO1xuICAgIGluY2x1ZGUgPSBpbmNsdWRlLm1hcCgoc2hhcGUpID0+IHJvdGF0ZVNoYXBlKHNoYXBlKSk7XG4gICAgZXhjbHVkZSA9IGV4Y2x1ZGUubWFwKChzaGFwZSkgPT4gcm90YXRlU2hhcGUoc2hhcGUpKTtcbiAgfVxuICBjb25zdCBpbmNsdWRlQ291bnQgPSBpbmNsdWRlLmxlbmd0aDtcbiAgY29uc3QgZXhjbHVkZUNvdW50ID0gZXhjbHVkZSA/IGV4Y2x1ZGUubGVuZ3RoIDogMDtcbiAgY29uc3QgcmVzdWx0OiBCYW5kW10gPSBbXTtcbiAgY29uc3Qgc2VnbWVudHM6IFNlZ21lbnRbXSA9IFtdO1xuICBsZXQgaTogbnVtYmVyO1xuICBsZXQgazogbnVtYmVyO1xuICBsZXQgc2VnbWVudDogU2VnbWVudDtcbiAgZm9yIChpID0gMDsgaSA8IGluY2x1ZGVDb3VudDsgaSsrKSB7XG4gICAgaW5jbHVkZVtpXS5hZGRTZWdtZW50cyhzZWdtZW50cywgaSk7XG4gIH1cbiAgZm9yIChpID0gMDsgaSA8IGV4Y2x1ZGVDb3VudDsgaSsrKSB7XG4gICAgZXhjbHVkZVtpXS5hZGRTZWdtZW50cyhzZWdtZW50cywgaSArIGluY2x1ZGVDb3VudCk7XG4gIH1cbiAgY29uc3Qgc2VnbWVudENvdW50ID0gc2VnbWVudHMubGVuZ3RoO1xuICBzZWdtZW50cy5zb3J0KHNlZ21lbnRDb21wYXJlKTtcbiAgbGV0IGxvd2VzdEluY2x1ZGVJbmRleCA9IDA7XG4gIHdoaWxlIChzZWdtZW50c1tsb3dlc3RJbmNsdWRlSW5kZXhdLnNoYXBlSWQgPj0gaW5jbHVkZUNvdW50KSB7XG4gICAgbG93ZXN0SW5jbHVkZUluZGV4Kys7XG4gIH1cbiAgbGV0IHkgPSBzZWdtZW50c1tsb3dlc3RJbmNsdWRlSW5kZXhdLmxvdy55O1xuICBpZiAoeSA+IGJveC55MSkge1xuICAgIHJlc3VsdC5wdXNoKG5ldyBCYW5kKGJveC55MSwgeSwgYm94LngyLCBib3gueDIpKTtcbiAgfVxuICBsZXQgc2VnbWVudEluZGV4ID0gMDtcbiAgY29uc3QgYWN0aXZlU2VnbWVudHM6IFNlZ21lbnRbXSA9IFtdO1xuICB3aGlsZSAoXG4gICAgc2VnbWVudEluZGV4IDwgc2VnbWVudENvdW50ICYmXG4gICAgKHNlZ21lbnQgPSBzZWdtZW50c1tzZWdtZW50SW5kZXhdKS5sb3cueSA8IHlcbiAgKSB7XG4gICAgaWYgKHNlZ21lbnQuaGlnaC55ID4geSkge1xuICAgICAgYWN0aXZlU2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICB9XG4gICAgc2VnbWVudEluZGV4Kys7XG4gIH1cblxuICAvLyBwcm9jZXNzIHRoZSBzZWdtZW50cyBmcm9tIGxvdyB0byBoaWdoIHkgdmFsdWVzXG4gIHdoaWxlIChzZWdtZW50SW5kZXggPCBzZWdtZW50Q291bnQgfHwgYWN0aXZlU2VnbWVudHMubGVuZ3RoID4gMCkge1xuICAgIC8vIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0IG9mIHRoZSBiYW5kIHRvIHdvcmsgd2l0aFxuICAgIGxldCB5MiA9IGJveC55MjsgLy8gYmFuZCBib3R0b21cbiAgICAvLyBtaW4gcG9zc2libGUgeTJcbiAgICBjb25zdCB5Mm1pbiA9IE1hdGgubWluKFxuICAgICAgY2VpbChNYXRoLmNlaWwoeSArIGdyYW51bGFyaXR5KSwgc25hcEhlaWdodCksXG4gICAgICBib3gueTIsXG4gICAgKTtcbiAgICBmb3IgKGsgPSAwOyBrIDwgYWN0aXZlU2VnbWVudHMubGVuZ3RoICYmIHkyID4geTJtaW47IGsrKykge1xuICAgICAgc2VnbWVudCA9IGFjdGl2ZVNlZ21lbnRzW2tdO1xuICAgICAgaWYgKHNlZ21lbnQubG93LnggPT0gc2VnbWVudC5oaWdoLngpIHtcbiAgICAgICAgLy8gdmVydGljYWxcbiAgICAgICAgaWYgKHNlZ21lbnQuaGlnaC55IDwgeTIpIHtcbiAgICAgICAgICB5MiA9IE1hdGgubWF4KGZsb29yKHNlZ21lbnQuaGlnaC55LCBzbmFwSGVpZ2h0KSwgeTJtaW4pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNlZ21lbnQubG93LnggIT0gc2VnbWVudC5oaWdoLngpIHtcbiAgICAgICAgLy8gVE9ETzogc2hvdWxkIHdlIGNvbXBhcmUgeT8/P1xuICAgICAgICAvLyBzbGFudGVkIChub3QgaG9yaXpvbnRhbClcbiAgICAgICAgeTIgPSB5Mm1pbjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHkyID4gYm94LnkyKSB7XG4gICAgICB5MiA9IGJveC55MjtcbiAgICB9XG5cbiAgICAvLyBpbmNsdWRlIG5ldyBzZWdtZW50cywgZGVjcmVhc2luZyB5MiBpZiBuZWVkZWRcbiAgICB3aGlsZSAoXG4gICAgICBzZWdtZW50SW5kZXggPCBzZWdtZW50Q291bnQgJiZcbiAgICAgIChzZWdtZW50ID0gc2VnbWVudHNbc2VnbWVudEluZGV4XSkubG93LnkgPCB5MlxuICAgICkge1xuICAgICAgaWYgKHNlZ21lbnQuaGlnaC55IDwgeSkge1xuICAgICAgICBzZWdtZW50SW5kZXgrKztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoc2VnbWVudC5sb3cueSA8IHkybWluKSB7XG4gICAgICAgIGlmIChzZWdtZW50Lmxvdy55ID09IHNlZ21lbnQuaGlnaC55ICYmIHNlZ21lbnQubG93LnkgPT0geSkge1xuICAgICAgICAgIC8vIEhvcml6b250YWwgc2VnbWVudCB0aGF0IGdvZXMgcmlnaHQgYXQgeSBpcyBub3QgYWN0aXZlLFxuICAgICAgICAgIC8vIGJ1dCBjb25zdW1lIGl0IGFueXdheVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGl2ZVNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgICAgeTIgPSB5Mm1pbjtcbiAgICAgICAgfVxuICAgICAgICBzZWdtZW50SW5kZXgrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIERvIG5vdCBjb25zdW1lIGl0LCBjb25zaWRlciBib3R0b20gZWRnZSBcIm91dHNpZGVcIlxuICAgICAgICBjb25zdCB5biA9IGZsb29yKHNlZ21lbnQubG93LnksIHNuYXBIZWlnaHQpO1xuICAgICAgICBpZiAoeW4gPCB5Mikge1xuICAgICAgICAgIHkyID0geW47XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm93IGxvb2sgYXQgdGhlIGJhbmQgd2l0aCB0b3AgYXQgeSBhbmQgYm90dG9tIGF0IHkyXG4gICAgLy8gYWN0aXZlU2VnbWVudHMgc2hvdWxkIGxpc3QgYWxsIHNlZ21lbnRzIHRoYXQgaW50ZXJzZWN0IHRoYXQgYmFuZFxuXG4gICAgLy8gZmluZCBhbGwgaW50ZXJzZWN0aW9ucyB3aXRoIHRoZSBiYW5kXG4gICAgY29uc3QgYmFuZEludGVyc2VjdGlvbnM6IEJhbmRJbnRlcnNlY3Rpb25bXSA9IFtdO1xuICAgIGZvciAoayA9IDA7IGsgPCBhY3RpdmVTZWdtZW50cy5sZW5ndGg7IGsrKykge1xuICAgICAgYWRkQmFuZEludGVyc2VjdGlvbnMoYmFuZEludGVyc2VjdGlvbnMsIGFjdGl2ZVNlZ21lbnRzW2tdLCB5LCB5Mik7XG4gICAgfVxuICAgIGJhbmRJbnRlcnNlY3Rpb25zLnNvcnQoXG4gICAgICAoYmkxLCBiaTIpID0+IGJpMS54IC0gYmkyLnggfHwgYmkxLmxvd09ySGlnaCAtIGJpMi5sb3dPckhpZ2gsXG4gICAgKTtcbiAgICBjb25zdCB4cmFuZ2VzID0gbWVyZ2VJbnRlcnNlY3Rpb25zKFxuICAgICAgYmFuZEludGVyc2VjdGlvbnMsXG4gICAgICBpbmNsdWRlQ291bnQsXG4gICAgICBleGNsdWRlQ291bnQsXG4gICAgKTtcbiAgICBpZiAoeHJhbmdlcy5sZW5ndGggPT0gMCkge1xuICAgICAgcmVzdWx0LnB1c2gobmV3IEJhbmQoeSwgeTIsIGJveC54MiwgYm94LngyKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGdldCB0aGUgd2lkZXN0XG4gICAgICBsZXQgd2lkdGggPSAwO1xuICAgICAgbGV0IHggPSBib3gueDE7XG4gICAgICBmb3IgKGsgPSAwOyBrIDwgeHJhbmdlcy5sZW5ndGg7IGsgKz0gMikge1xuICAgICAgICBjb25zdCByeCA9IE1hdGgubWF4KGJveC54MSwgeHJhbmdlc1trXSk7XG4gICAgICAgIGNvbnN0IHJ3ID0gTWF0aC5taW4oYm94LngyLCB4cmFuZ2VzW2sgKyAxXSkgLSByeDtcbiAgICAgICAgaWYgKHJ3ID4gd2lkdGgpIHtcbiAgICAgICAgICB3aWR0aCA9IHJ3O1xuICAgICAgICAgIHggPSByeDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHdpZHRoID09IDApIHtcbiAgICAgICAgLy8gbm8gc3BhY2UgbGVmdFxuICAgICAgICByZXN1bHQucHVzaChuZXcgQmFuZCh5LCB5MiwgYm94LngyLCBib3gueDIpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKFxuICAgICAgICAgIG5ldyBCYW5kKHksIHkyLCBNYXRoLm1heCh4LCBib3gueDEpLCBNYXRoLm1pbih4ICsgd2lkdGgsIGJveC54MikpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoeTIgPT0gYm94LnkyKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgeSA9IHkyO1xuICAgIGZvciAoayA9IGFjdGl2ZVNlZ21lbnRzLmxlbmd0aCAtIDE7IGsgPj0gMDsgay0tKSB7XG4gICAgICBpZiAoYWN0aXZlU2VnbWVudHNba10uaGlnaC55IDw9IHkyKSB7XG4gICAgICAgIGFjdGl2ZVNlZ21lbnRzLnNwbGljZShrLCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbm9ybWFsaXplKGJveCwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShib3g6IFJlY3QsIGJhbmRzOiBCYW5kW10pOiB2b2lkIHtcbiAgbGV0IGsgPSBiYW5kcy5sZW5ndGggLSAxO1xuXG4gIC8vIE1lcmdlIGJhbmRzIHdpdGggdGhlIHNhbWUgeDEsIHgyIGFuZCByZW1vdmUgdW5uZWVkZWQgYmFuZHMgYXQgdGhlIGVuZC5cbiAgLy8gQ3JlYXRlIGZpY3Rpb3VzIGxhc3QgYmFuZCB0byBtZXJnZSB1bm5lZWRlZCBiYW5kcyBhdCB0aGUgZW5kXG4gIGxldCBjdXJyQmFuZCA9IG5ldyBCYW5kKGJveC55MiwgYm94LnkyLCBib3gueDEsIGJveC54Mik7XG4gIHdoaWxlIChrID49IDApIHtcbiAgICBjb25zdCBwcmV2QmFuZCA9IGN1cnJCYW5kOyAvLyByZXN1bHRbaysxXVxuICAgIGN1cnJCYW5kID0gYmFuZHNba107XG4gICAgaWYgKFxuICAgICAgY3VyckJhbmQueTIgLSBjdXJyQmFuZC55MSA8IDEgfHwgLy8gUmVtb3ZlIGJhbmRzIHdpdGggaGVpZ2h0IGxlc3MgdGhhbiAxcHhcbiAgICAgIChjdXJyQmFuZC54MSA9PSBwcmV2QmFuZC54MSAmJiBjdXJyQmFuZC54MiA9PSBwcmV2QmFuZC54MilcbiAgICApIHtcbiAgICAgIHByZXZCYW5kLnkxID0gY3VyckJhbmQueTE7IC8vIG1lcmdlXG4gICAgICBiYW5kcy5zcGxpY2UoaywgMSk7XG4gICAgICBjdXJyQmFuZCA9IHByZXZCYW5kO1xuICAgIH1cbiAgICBrLS07XG4gIH1cbn1cblxuLyoqXG4gKiBGaW5kIHRoZSBpbmRleCBvZiB0aGUgYm90dG9tbW9zdCBiYW5kIHNvIHRoYXQgeSA8IGJhbmQueTJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRCYW5kKGJhbmRzOiBCYW5kW10sIHk6IG51bWJlcik6IG51bWJlciB7XG4gIGxldCBsb3cgPSAwO1xuICBsZXQgaGlnaCA9IGJhbmRzLmxlbmd0aDtcbiAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICBjb25zdCBtaWQgPSBNYXRoLmZsb29yKChsb3cgKyBoaWdoKSAvIDIpO1xuICAgIGlmICh5ID49IGJhbmRzW21pZF0ueTIpIHtcbiAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBsb3c7XG59XG5cbi8qKlxuICogRmluZCB0aGUgdXBwZXJtb3N0IHJlY3RhbmdsZSBjb250YWluZWQgaW4gdGhlIHNwZWNpZmllZCByZWN0IHdoaWNoIG9jY3VwaWVzXG4gKiBmdWxsIHdpZHRoIG9mIHRoZSByZWN0IHdpdGhvdXQgb3ZlcmxhcHBpbmcgd2l0aCBhbnkgYmFuZCBpbiB0aGUgc3BlY2lmaWVkXG4gKiBiYW5kcy5cbiAqIEByZXR1cm5zIFJldHVybnMgbnVsbCBpZiBzdWNoIHJlY3RhbmdsZSBkb2VzIG5vdCBleGlzdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRVcHBlcm1vc3RGdWxseU9wZW5SZWN0KFxuICBiYW5kczogQmFuZFtdLFxuICByZWN0OiBSZWN0LFxuKTogUmVjdCB8IG51bGwge1xuICBpZiAoIWJhbmRzLmxlbmd0aCkge1xuICAgIHJldHVybiByZWN0O1xuICB9XG4gIGxldCB0b3BFZGdlID0gcmVjdC55MTtcbiAgbGV0IGJhbmQ6IEJhbmQ7XG4gIGxldCBpOiBudW1iZXI7XG4gIGZvciAoaSA9IDA7IGkgPCBiYW5kcy5sZW5ndGg7IGkrKykge1xuICAgIGJhbmQgPSBiYW5kc1tpXTtcbiAgICBpZiAoXG4gICAgICBiYW5kLnkyID4gcmVjdC55MSAmJlxuICAgICAgYmFuZC54MSAtIDAuMSA8PSByZWN0LngxICYmXG4gICAgICBiYW5kLngyICsgMC4xID49IHJlY3QueDJcbiAgICApIHtcbiAgICAgIGJyZWFrO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b3BFZGdlID0gTWF0aC5tYXgodG9wRWRnZSwgYmFuZC55Mik7XG4gICAgfVxuICB9XG4gIGxldCBib3R0b21FZGdlID0gdG9wRWRnZTtcbiAgZm9yICg7IGkgPCBiYW5kcy5sZW5ndGg7IGkrKykge1xuICAgIGJhbmQgPSBiYW5kc1tpXTtcbiAgICBpZiAoXG4gICAgICBiYW5kLnkxID49IHJlY3QueTIgfHxcbiAgICAgIGJhbmQueDEgLSAwLjEgPiByZWN0LngxIHx8XG4gICAgICBiYW5kLngyICsgMC4xIDwgcmVjdC54MlxuICAgICkge1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvdHRvbUVkZ2UgPSBiYW5kLnkyO1xuICAgIH1cbiAgfVxuICBpZiAoaSA9PT0gYmFuZHMubGVuZ3RoKSB7XG4gICAgYm90dG9tRWRnZSA9IHJlY3QueTI7XG4gIH0gZWxzZSB7XG4gICAgYm90dG9tRWRnZSA9IE1hdGgubWluKGJvdHRvbUVkZ2UsIHJlY3QueTIpO1xuICB9XG4gIGlmIChib3R0b21FZGdlIDw9IHRvcEVkZ2UpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IFJlY3QocmVjdC54MSwgdG9wRWRnZSwgcmVjdC54MiwgYm90dG9tRWRnZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBGaW5kIHRoZSBib3R0b21tb3N0IHJlY3RhbmdsZSBjb250YWluZWQgaW4gdGhlIHNwZWNpZmllZCByZWN0IHdoaWNoIG9jY3VwaWVzXG4gKiBmdWxsIHdpZHRoIG9mIHRoZSByZWN0IHdpdGhvdXQgb3ZlcmxhcHBpbmcgd2l0aCBhbnkgYmFuZCBpbiB0aGUgc3BlY2lmaWVkXG4gKiBiYW5kcy5cbiAqIEByZXR1cm5zIFJldHVybnMgbnVsbCBpZiBzdWNoIHJlY3RhbmdsZSBkb2VzIG5vdCBleGlzdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRCb3R0b21tb3N0RnVsbHlPcGVuUmVjdChcbiAgYmFuZHM6IEJhbmRbXSxcbiAgcmVjdDogUmVjdCxcbik6IFJlY3QgfCBudWxsIHtcbiAgaWYgKCFiYW5kcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gcmVjdDtcbiAgfVxuICBsZXQgYm90dG9tRWRnZSA9IHJlY3QueTI7XG4gIGxldCBiYW5kOiBCYW5kO1xuICBsZXQgaTogbnVtYmVyO1xuICBmb3IgKGkgPSBiYW5kcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGJhbmQgPSBiYW5kc1tpXTtcbiAgICBpZiAoaSA9PT0gYmFuZHMubGVuZ3RoIC0gMSAmJiBiYW5kLnkyIDwgcmVjdC55Mikge1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGJhbmQueTEgPCByZWN0LnkyICYmXG4gICAgICBiYW5kLngxIC0gMC4xIDw9IHJlY3QueDEgJiZcbiAgICAgIGJhbmQueDIgKyAwLjEgPj0gcmVjdC54MlxuICAgICkge1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvdHRvbUVkZ2UgPSBNYXRoLm1pbihib3R0b21FZGdlLCBiYW5kLnkxKTtcbiAgICB9XG4gIH1cbiAgbGV0IHRvcEVkZ2UgPSBNYXRoLm1pbihib3R0b21FZGdlLCBiYW5kLnkyKTtcbiAgZm9yICg7IGkgPj0gMDsgaS0tKSB7XG4gICAgYmFuZCA9IGJhbmRzW2ldO1xuICAgIGlmIChcbiAgICAgIGJhbmQueTIgPD0gcmVjdC55MSB8fFxuICAgICAgYmFuZC54MSAtIDAuMSA+IHJlY3QueDEgfHxcbiAgICAgIGJhbmQueDIgKyAwLjEgPCByZWN0LngyXG4gICAgKSB7XG4gICAgICBicmVhaztcbiAgICB9IGVsc2Uge1xuICAgICAgdG9wRWRnZSA9IGJhbmQueTE7XG4gICAgfVxuICB9XG4gIHRvcEVkZ2UgPSBNYXRoLm1heCh0b3BFZGdlLCByZWN0LnkxKTtcbiAgaWYgKGJvdHRvbUVkZ2UgPD0gdG9wRWRnZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgUmVjdChyZWN0LngxLCB0b3BFZGdlLCByZWN0LngyLCBib3R0b21FZGdlKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSBzaWRlIGVpdGhlciBcImxlZnRcIiBvciBcInJpZ2h0XCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvc2l0aW9uRmxvYXQoXG4gIGJveDogUmVjdCxcbiAgYmFuZHM6IEJhbmRbXSxcbiAgZmxvYXRCb3g6IFJlY3QsXG4gIHNpZGU6IHN0cmluZyxcbik6IGJvb2xlYW4ge1xuICBsZXQgeSA9IGZsb2F0Qm94LnkxO1xuICBjb25zdCBmbG9hdFdpZHRoID0gZmxvYXRCb3gueDIgLSBmbG9hdEJveC54MTtcbiAgY29uc3QgZmxvYXRIZWlnaHQgPSBmbG9hdEJveC55MiAtIGZsb2F0Qm94LnkxO1xuICBsZXQgaW5kZXggPSBmaW5kQmFuZChiYW5kcywgeSk7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgLy8gQ2hlY2sgaWYgaXQgZml0c1xuICAgIGNvbnN0IGZsb2F0Qm90dG9tID0geSArIGZsb2F0SGVpZ2h0O1xuICAgIGlmIChmbG9hdEJvdHRvbSA+IGJveC55Mikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIGRvZXMgbm90IGZpdCB2ZXJ0aWNhbGx5XG4gICAgbGV0IHgxID0gYm94LngxO1xuICAgIGxldCB4MiA9IGJveC54MjtcbiAgICBmb3IgKGxldCBpID0gaW5kZXg7IGkgPCBiYW5kcy5sZW5ndGggJiYgYmFuZHNbaV0ueTEgPCBmbG9hdEJvdHRvbTsgaSsrKSB7XG4gICAgICBjb25zdCBiYW5kID0gYmFuZHNbaV07XG4gICAgICBpZiAoYmFuZC54MSA+IHgxKSB7XG4gICAgICAgIHgxID0gYmFuZC54MTtcbiAgICAgIH1cbiAgICAgIGlmIChiYW5kLngyIDwgeDIpIHtcbiAgICAgICAgeDIgPSBiYW5kLngyO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoeDEgKyBmbG9hdFdpZHRoIDw9IHgyIHx8IGluZGV4ID49IGJhbmRzLmxlbmd0aCkge1xuICAgICAgaWYgKHNpZGUgPT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgZmxvYXRCb3gueDEgPSB4MTtcbiAgICAgICAgZmxvYXRCb3gueDIgPSB4MSArIGZsb2F0V2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbG9hdEJveC54MSA9IHgyIC0gZmxvYXRXaWR0aDtcbiAgICAgICAgZmxvYXRCb3gueDIgPSB4MjtcbiAgICAgIH1cbiAgICAgIGZsb2F0Qm94LnkyICs9IHkgLSBmbG9hdEJveC55MTtcbiAgICAgIGZsb2F0Qm94LnkxID0geTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB5ID0gYmFuZHNbaW5kZXhdLnkyO1xuICAgIGluZGV4Kys7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEZsb2F0VG9CYW5kcyhcbiAgYm94OiBSZWN0LFxuICBiYW5kczogQmFuZFtdLFxuICBmbG9hdEJveDogUmVjdCxcbiAgZmxvYXRCYW5kczogQmFuZFtdLFxuICBzaWRlOiBzdHJpbmcsXG4pOiB2b2lkIHtcbiAgaWYgKCFmbG9hdEJhbmRzKSB7XG4gICAgZmxvYXRCYW5kcyA9IFtuZXcgQmFuZChmbG9hdEJveC55MSwgZmxvYXRCb3gueTIsIGZsb2F0Qm94LngxLCBmbG9hdEJveC54MildO1xuICB9XG4gIHdoaWxlIChmbG9hdEJhbmRzLmxlbmd0aCA+IDAgJiYgZmxvYXRCYW5kc1swXS55MiA8PSBib3gueTEpIHtcbiAgICBmbG9hdEJhbmRzLnNoaWZ0KCk7XG4gIH1cbiAgaWYgKGZsb2F0QmFuZHMubGVuZ3RoID09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGZsb2F0QmFuZHNbMF0ueTEgPCBib3gueTEpIHtcbiAgICBmbG9hdEJhbmRzWzBdLnkxID0gYm94LnkxO1xuICB9XG4gIGxldCBiYW5kOiBCYW5kO1xuICBjb25zdCBsYXN0WSA9IGJhbmRzLmxlbmd0aCA9PSAwID8gYm94LnkxIDogYmFuZHNbYmFuZHMubGVuZ3RoIC0gMV0ueTI7XG4gIGlmIChsYXN0WSA8IGJveC55Mikge1xuICAgIC8vIGFkZCB0aGUgdGFpbCBiYW5kIHRoYXQgd2UgdHlwaWNhbGx5IGRvbid0IGtlZXAsIGl0IHdpbGwgYmUgY2xlYXJlZCBieVxuICAgIC8vIG5vcm1hbGl6ZSgpXG4gICAgYmFuZHMucHVzaChuZXcgQmFuZChsYXN0WSwgYm94LnkyLCBib3gueDEsIGJveC54MikpO1xuICB9XG4gIGxldCBpbmRleCA9IGZpbmRCYW5kKGJhbmRzLCBmbG9hdEJhbmRzWzBdLnkxKTtcbiAgZm9yIChjb25zdCBmbG9hdEJhbmQgb2YgZmxvYXRCYW5kcykge1xuICAgIGlmIChpbmRleCA9PSBiYW5kcy5sZW5ndGgpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoYmFuZHNbaW5kZXhdLnkxIDwgZmxvYXRCYW5kLnkxKSB7XG4gICAgICAvLyBzcGxpdCBpdFxuICAgICAgYmFuZCA9IGJhbmRzW2luZGV4XTtcbiAgICAgIGluZGV4Kys7XG4gICAgICBiYW5kcy5zcGxpY2UoaW5kZXgsIDAsIG5ldyBCYW5kKGZsb2F0QmFuZC55MSwgYmFuZC55MiwgYmFuZC54MSwgYmFuZC54MikpO1xuICAgICAgYmFuZC55MiA9IGZsb2F0QmFuZC55MTtcbiAgICB9XG4gICAgd2hpbGUgKGluZGV4IDwgYmFuZHMubGVuZ3RoKSB7XG4gICAgICBiYW5kID0gYmFuZHNbaW5kZXgrK107XG4gICAgICBpZiAoYmFuZC55MiA+IGZsb2F0QmFuZC55Mikge1xuICAgICAgICAvLyBzcGxpdCBpdFxuICAgICAgICBiYW5kcy5zcGxpY2UoXG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgMCxcbiAgICAgICAgICBuZXcgQmFuZChmbG9hdEJhbmQueTIsIGJhbmQueTIsIGJhbmQueDEsIGJhbmQueDIpLFxuICAgICAgICApO1xuICAgICAgICBiYW5kLnkyID0gZmxvYXRCYW5kLnkyO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0QmFuZC54MSAhPSBmbG9hdEJhbmQueDIpIHtcbiAgICAgICAgLy8gbm9uLWVtcHR5IGZsb2F0QmFuZFxuICAgICAgICBpZiAoc2lkZSA9PSBcImxlZnRcIikge1xuICAgICAgICAgIGJhbmQueDEgPSBNYXRoLm1pbihmbG9hdEJhbmQueDIsIGJveC54Mik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmFuZC54MiA9IE1hdGgubWF4KGZsb2F0QmFuZC54MSwgYm94LngxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGJhbmQueTIgPT0gZmxvYXRCYW5kLnkyKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBub3JtYWxpemUoYm94LCBiYW5kcyk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENzc1Byb3AgLSBTdXBwb3J0IHV0aWxpdGllcyB0byBleHRyYWN0IGluZm9ybWF0aW9uXG4gKiBmcm9tIHZhcmlvdXMgKHBhcnNlZCkgQ1NTIHZhbHVlcy5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgR2VvbWV0cnlVdGlsIGZyb20gXCIuL2dlb21ldHJ5LXV0aWxcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gdmFsdWUgcGFyc2VycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgU2V0VmlzaXRvciBleHRlbmRzIENzcy5WaXNpdG9yIHtcbiAgcHJvcFNldDogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJZGVudChpZGVudDogQ3NzLklkZW50KTogQ3NzLlZhbCB7XG4gICAgdGhpcy5wcm9wU2V0W2lkZW50Lm5hbWVdID0gdHJ1ZTtcbiAgICByZXR1cm4gaWRlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBDc3MuU3BhY2VMaXN0KTogQ3NzLlZhbCB7XG4gICAgdGhpcy52aXNpdFZhbHVlcyhsaXN0LnZhbHVlcyk7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvU2V0KHZhbDogQ3NzLlZhbCk6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9IHtcbiAgaWYgKHZhbCkge1xuICAgIGNvbnN0IHZpc2l0b3IgPSBuZXcgU2V0VmlzaXRvcigpO1xuICAgIHRyeSB7XG4gICAgICB2YWwudmlzaXQodmlzaXRvcik7XG4gICAgICByZXR1cm4gdmlzaXRvci5wcm9wU2V0O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIsIFwidG9TZXQ6XCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCBjbGFzcyBJbnRWaXNpdG9yIGV4dGVuZHMgQ3NzLlZpc2l0b3Ige1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgdmFsdWU6IG51bWJlcikge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEludChudW06IENzcy5JbnQpOiBDc3MuVmFsIHtcbiAgICB0aGlzLnZhbHVlID0gbnVtLm51bTtcbiAgICByZXR1cm4gbnVtO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0ludCh2YWw6IENzcy5WYWwsIGRlZjogbnVtYmVyKTogbnVtYmVyIHtcbiAgaWYgKHZhbCkge1xuICAgIGNvbnN0IHZpc2l0b3IgPSBuZXcgSW50VmlzaXRvcihkZWYpO1xuICAgIHRyeSB7XG4gICAgICB2YWwudmlzaXQodmlzaXRvcik7XG4gICAgICByZXR1cm4gdmlzaXRvci52YWx1ZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oZXJyLCBcInRvSW50OiBcIik7XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWY7XG59XG5cbmV4cG9ydCBjbGFzcyBTaGFwZVZpc2l0b3IgZXh0ZW5kcyBDc3MuVmlzaXRvciB7XG4gIGNvbGxlY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY29vcmRzOiBDc3MuTnVtZXJpY1tdID0gW107XG4gIG5hbWU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdE51bWVyaWMobnVtZXJpYzogQ3NzLk51bWVyaWMpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5jb2xsZWN0KSB7XG4gICAgICB0aGlzLmNvb3Jkcy5wdXNoKG51bWVyaWMpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtKG51bTogQ3NzLk51bSk6IENzcy5WYWwge1xuICAgIGlmICh0aGlzLmNvbGxlY3QgJiYgbnVtLm51bSA9PSAwKSB7XG4gICAgICB0aGlzLmNvb3Jkcy5wdXNoKG5ldyBDc3MuTnVtZXJpYygwLCBcInB4XCIpKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBDc3MuU3BhY2VMaXN0KTogQ3NzLlZhbCB7XG4gICAgdGhpcy52aXNpdFZhbHVlcyhsaXN0LnZhbHVlcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEZ1bmMoZnVuYzogQ3NzLkZ1bmMpOiBDc3MuVmFsIHtcbiAgICBpZiAoIXRoaXMuY29sbGVjdCkge1xuICAgICAgdGhpcy5jb2xsZWN0ID0gdHJ1ZTtcbiAgICAgIHRoaXMudmlzaXRWYWx1ZXMoZnVuYy52YWx1ZXMpO1xuICAgICAgdGhpcy5jb2xsZWN0ID0gZmFsc2U7XG4gICAgICB0aGlzLm5hbWUgPSBmdW5jLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRTaGFwZShcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyLFxuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgKTogR2VvbWV0cnlVdGlsLlNoYXBlIHtcbiAgICBpZiAodGhpcy5jb29yZHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgbnVtYmVyczogbnVtYmVyW10gPSBbXTtcbiAgICAgIHRoaXMuY29vcmRzLmZvckVhY2goKGNvb3JkLCBpKSA9PiB7XG4gICAgICAgIGlmIChjb29yZC51bml0ID09IFwiJVwiKSB7XG4gICAgICAgICAgbGV0IHJlZiA9IGkgJSAyID09IDAgPyB3aWR0aCA6IGhlaWdodDtcbiAgICAgICAgICBpZiAoaSA9PSAzICYmIHRoaXMubmFtZSA9PSBcImNpcmNsZVwiKSB7XG4gICAgICAgICAgICByZWYgPSBNYXRoLnNxcnQoKHdpZHRoICogd2lkdGggKyBoZWlnaHQgKiBoZWlnaHQpIC8gMik7XG4gICAgICAgICAgfVxuICAgICAgICAgIG51bWJlcnMucHVzaCgoY29vcmQubnVtICogcmVmKSAvIDEwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbnVtYmVycy5wdXNoKGNvb3JkLm51bSAqIGNvbnRleHQucXVlcnlVbml0U2l6ZShjb29yZC51bml0LCBmYWxzZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHN3aXRjaCAodGhpcy5uYW1lKSB7XG4gICAgICAgIGNhc2UgXCJwb2x5Z29uXCI6XG4gICAgICAgICAgaWYgKG51bWJlcnMubGVuZ3RoICUgMiA9PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludHM6IEdlb21ldHJ5VXRpbC5Qb2ludFtdID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG51bWJlcnMubGVuZ3RoOyBrICs9IDIpIHtcbiAgICAgICAgICAgICAgcG9pbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgbmV3IEdlb21ldHJ5VXRpbC5Qb2ludCh4ICsgbnVtYmVyc1trXSwgeSArIG51bWJlcnNbayArIDFdKSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgR2VvbWV0cnlVdGlsLlNoYXBlKHBvaW50cyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmVjdGFuZ2xlXCI6XG4gICAgICAgICAgaWYgKG51bWJlcnMubGVuZ3RoID09IDQpIHtcbiAgICAgICAgICAgIHJldHVybiBHZW9tZXRyeVV0aWwuc2hhcGVGb3JSZWN0KFxuICAgICAgICAgICAgICB4ICsgbnVtYmVyc1swXSxcbiAgICAgICAgICAgICAgeSArIG51bWJlcnNbMV0sXG4gICAgICAgICAgICAgIHggKyBudW1iZXJzWzBdICsgbnVtYmVyc1syXSxcbiAgICAgICAgICAgICAgeSArIG51bWJlcnNbMV0gKyBudW1iZXJzWzNdLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlbGxpcHNlXCI6XG4gICAgICAgICAgaWYgKG51bWJlcnMubGVuZ3RoID09IDQpIHtcbiAgICAgICAgICAgIHJldHVybiBHZW9tZXRyeVV0aWwuc2hhcGVGb3JFbGxpcHNlKFxuICAgICAgICAgICAgICB4ICsgbnVtYmVyc1swXSxcbiAgICAgICAgICAgICAgeSArIG51bWJlcnNbMV0sXG4gICAgICAgICAgICAgIG51bWJlcnNbMl0sXG4gICAgICAgICAgICAgIG51bWJlcnNbM10sXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNpcmNsZVwiOlxuICAgICAgICAgIGlmIChudW1iZXJzLmxlbmd0aCA9PSAzKSB7XG4gICAgICAgICAgICByZXR1cm4gR2VvbWV0cnlVdGlsLnNoYXBlRm9yRWxsaXBzZShcbiAgICAgICAgICAgICAgeCArIG51bWJlcnNbMF0sXG4gICAgICAgICAgICAgIHkgKyBudW1iZXJzWzFdLFxuICAgICAgICAgICAgICBudW1iZXJzWzJdLFxuICAgICAgICAgICAgICBudW1iZXJzWzJdLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1NoYXBlKFxuICB2YWw6IENzcy5WYWwsXG4gIHg6IG51bWJlcixcbiAgeTogbnVtYmVyLFxuICB3aWR0aDogbnVtYmVyLFxuICBoZWlnaHQ6IG51bWJlcixcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbik6IEdlb21ldHJ5VXRpbC5TaGFwZSB7XG4gIGlmICh2YWwpIHtcbiAgICBjb25zdCB2aXNpdG9yID0gbmV3IFNoYXBlVmlzaXRvcigpO1xuICAgIHRyeSB7XG4gICAgICB2YWwudmlzaXQodmlzaXRvcik7XG4gICAgICByZXR1cm4gdmlzaXRvci5nZXRTaGFwZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBjb250ZXh0KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oZXJyLCBcInRvU2hhcGU6XCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gR2VvbWV0cnlVdGlsLnNoYXBlRm9yUmVjdCh4LCB5LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQpO1xufVxuXG5leHBvcnQgY2xhc3MgQ291bnRlcnNWaXNpdG9yIGV4dGVuZHMgQ3NzLlZpc2l0b3Ige1xuICBjb3VudGVyczogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuICBuYW1lOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgcmVzZXQ6IGJvb2xlYW4pIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdElkZW50KGlkZW50OiBDc3MuSWRlbnQpOiBDc3MuVmFsIHtcbiAgICB0aGlzLm5hbWUgPSBpZGVudC50b1N0cmluZygpO1xuICAgIGlmICh0aGlzLnJlc2V0KSB7XG4gICAgICB0aGlzLmNvdW50ZXJzW3RoaXMubmFtZV0gPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvdW50ZXJzW3RoaXMubmFtZV0gPSAodGhpcy5jb3VudGVyc1t0aGlzLm5hbWVdIHx8IDApICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIGlkZW50O1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdEludChudW06IENzcy5JbnQpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5uYW1lKSB7XG4gICAgICB0aGlzLmNvdW50ZXJzW3RoaXMubmFtZV0gKz0gbnVtLm51bSAtICh0aGlzLnJlc2V0ID8gMCA6IDEpO1xuICAgIH1cbiAgICByZXR1cm4gbnVtO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBDc3MuU3BhY2VMaXN0KTogQ3NzLlZhbCB7XG4gICAgdGhpcy52aXNpdFZhbHVlcyhsaXN0LnZhbHVlcyk7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvQ291bnRlcnMoXG4gIHZhbDogQ3NzLlZhbCxcbiAgcmVzZXQ6IGJvb2xlYW4sXG4pOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9IHtcbiAgY29uc3QgdmlzaXRvciA9IG5ldyBDb3VudGVyc1Zpc2l0b3IocmVzZXQpO1xuICB0cnkge1xuICAgIHZhbC52aXNpdCh2aXNpdG9yKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIsIFwidG9Db3VudGVyczpcIik7XG4gIH1cbiAgcmV0dXJuIHZpc2l0b3IuY291bnRlcnM7XG59XG5cbmV4cG9ydCBjbGFzcyBVcmxUcmFuc2Zvcm1WaXNpdG9yIGV4dGVuZHMgQ3NzLkZpbHRlclZpc2l0b3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgYmFzZVVybDogc3RyaW5nLFxuICAgIHB1YmxpYyB0cmFuc2Zvcm1lcjogQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdFVSTCh1cmw6IENzcy5VUkwpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gbmV3IENzcy5VUkwodGhpcy50cmFuc2Zvcm1lci50cmFuc2Zvcm1VUkwodXJsLnVybCwgdGhpcy5iYXNlVXJsKSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENvdW50ZXJzXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3NDYXNjYWRlIGZyb20gXCIuL2Nzcy1jYXNjYWRlXCI7XG5pbXBvcnQgKiBhcyBDc3NQcm9wIGZyb20gXCIuL2Nzcy1wcm9wXCI7XG5pbXBvcnQgKiBhcyBDc3NTdHlsZXIgZnJvbSBcIi4vY3NzLXN0eWxlclwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIFZnZW4gZnJvbSBcIi4vdmdlblwiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7IExheW91dCB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8qKlxuICogQ2xvbmUgY291bnRlciB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGNsb25lQ291bnRlclZhbHVlcyhcbiAgY291bnRlcnM6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcyxcbik6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcyB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBPYmplY3Qua2V5cyhjb3VudGVycykuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgIHJlc3VsdFtuYW1lXSA9IEFycmF5LmZyb20oY291bnRlcnNbbmFtZV0pO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYSByZWZlcmVuY2UgYnkgdGFyZ2V0LWNvdW50ZXIocykuXG4gKiBAcGFyYW0gdGFyZ2V0SWQgSUQgb2YgdGhlIHJlZmVyZW5jZWQgZWxlbWVudCAodHJhbnNmb3JtZWQgYnlcbiAqICAgICBEb2N1bWVudFVSTFRyYW5zZm9ybWVyIHRvIGhhbmRsZSBhIHJlZmVyZW5jZSBhY3Jvc3MgbXVsdGlwbGUgc291cmNlXG4gKiAgICAgZG9jdW1lbnRzKVxuICogQHBhcmFtIHJlc29sdmVkIElmIHRoZSByZWZlcmVuY2UgaXMgYWxyZWFkeSByZXNvbHZlZCBvciBub3RcbiAqL1xuZXhwb3J0IGNsYXNzIFRhcmdldENvdW50ZXJSZWZlcmVuY2Uge1xuICBwYWdlQ291bnRlcnM6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcyA9IG51bGw7XG4gIHNwaW5lSW5kZXg6IG51bWJlciA9IC0xO1xuICBwYWdlSW5kZXg6IG51bWJlciA9IC0xO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSB0YXJnZXRJZDogc3RyaW5nLCBwdWJsaWMgcmVzb2x2ZWQ6IGJvb2xlYW4pIHt9XG5cbiAgZXF1YWxzKG90aGVyOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFvdGhlcikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy50YXJnZXRJZCA9PT0gb3RoZXIudGFyZ2V0SWQgJiZcbiAgICAgIHRoaXMucmVzb2x2ZWQgPT09IG90aGVyLnJlc29sdmVkICYmXG4gICAgICB0aGlzLnNwaW5lSW5kZXggPT09IG90aGVyLnNwaW5lSW5kZXggJiZcbiAgICAgIHRoaXMucGFnZUluZGV4ID09PSBvdGhlci5wYWdlSW5kZXhcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgaWYgdGhlIHJlZmVyZW5jZSBpcyByZXNvbHZlZCBvciBub3QuXG4gICAqL1xuICBpc1Jlc29sdmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnJlc29sdmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoYXQgdGhpcyByZWZlcmVuY2UgaXMgcmVzb2x2ZWQuXG4gICAqL1xuICByZXNvbHZlKCkge1xuICAgIHRoaXMucmVzb2x2ZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoYXQgdGhpcyByZWZlcmVuY2UgaXMgdW5yZXNvbHZlZC5cbiAgICovXG4gIHVucmVzb2x2ZSgpIHtcbiAgICB0aGlzLnJlc29sdmVkID0gZmFsc2U7XG4gIH1cbn1cblxuY2xhc3MgQ291bnRlckxpc3RlbmVyIGltcGxlbWVudHMgQ3NzQ2FzY2FkZS5Db3VudGVyTGlzdGVuZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnRlclN0b3JlOiBDb3VudGVyU3RvcmUsXG4gICAgcHVibGljIHJlYWRvbmx5IGJhc2VVUkw6IHN0cmluZyxcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNvdW50ZXJzT2ZJZChpZDogc3RyaW5nLCBjb3VudGVyczogQ3NzQ2FzY2FkZS5Db3VudGVyVmFsdWVzKSB7XG4gICAgaWQgPSB0aGlzLmNvdW50ZXJTdG9yZS5kb2N1bWVudFVSTFRyYW5zZm9ybWVyLnRyYW5zZm9ybUZyYWdtZW50KFxuICAgICAgaWQsXG4gICAgICB0aGlzLmJhc2VVUkwsXG4gICAgKTtcbiAgICB0aGlzLmNvdW50ZXJTdG9yZS5jb3VudGVyc0J5SWRbaWRdID0gY291bnRlcnM7XG4gIH1cblxuICBnZXRFeHByQ29udGVudExpc3RlbmVyKCk6IFZ0cmVlLkV4cHJDb250ZW50TGlzdGVuZXIge1xuICAgIHJldHVybiB0aGlzLmNvdW50ZXJTdG9yZS5nZXRFeHByQ29udGVudExpc3RlbmVyKCk7XG4gIH1cbn1cblxuY2xhc3MgQ291bnRlclJlc29sdmVyIGltcGxlbWVudHMgQ3NzQ2FzY2FkZS5Db3VudGVyUmVzb2x2ZXIge1xuICBzdHlsZXI6IENzc1N0eWxlci5TdHlsZXIgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnRlclN0b3JlOiBDb3VudGVyU3RvcmUsXG4gICAgcHVibGljIHJlYWRvbmx5IGJhc2VVUkw6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcm9vdFNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIHJlYWRvbmx5IHBhZ2VTY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICApIHt9XG5cbiAgc2V0U3R5bGVyKHN0eWxlcjogQ3NzU3R5bGVyLlN0eWxlcikge1xuICAgIHRoaXMuc3R5bGVyID0gc3R5bGVyO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRGcmFnbWVudCh1cmw6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgIGNvbnN0IHIgPSB1cmwubWF0Y2goL15bXiNdKiMoLiopJC8pO1xuICAgIHJldHVybiByID8gclsxXSA6IG51bGw7XG4gIH1cblxuICBwcml2YXRlIGdldFRyYW5zZm9ybWVkSWQodXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGxldCB0cmFuc2Zvcm1lZElkID0gdGhpcy5jb3VudGVyU3RvcmUuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci50cmFuc2Zvcm1VUkwoXG4gICAgICBCYXNlLnJlc29sdmVVUkwodXJsLCB0aGlzLmJhc2VVUkwpLFxuICAgICAgdGhpcy5iYXNlVVJMLFxuICAgICk7XG4gICAgaWYgKHRyYW5zZm9ybWVkSWQuY2hhckF0KDApID09PSBcIiNcIikge1xuICAgICAgdHJhbnNmb3JtZWRJZCA9IHRyYW5zZm9ybWVkSWQuc3Vic3RyaW5nKDEpO1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNmb3JtZWRJZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFBhZ2VDb3VudGVyVmFsKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBmb3JtYXQ6IChwMTogbnVtYmVyIHwgbnVsbCkgPT4gc3RyaW5nLFxuICApOiBFeHBycy5WYWwge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gZ2V0Q291bnRlck51bWJlcigpIHtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IHNlbGYuY291bnRlclN0b3JlLmN1cnJlbnRQYWdlQ291bnRlcnNbbmFtZV07XG4gICAgICByZXR1cm4gdmFsdWVzICYmIHZhbHVlcy5sZW5ndGggPyB2YWx1ZXNbdmFsdWVzLmxlbmd0aCAtIDFdIDogbnVsbDtcbiAgICB9XG4gICAgY29uc3QgZXhwciA9IG5ldyBFeHBycy5OYXRpdmUoXG4gICAgICB0aGlzLnBhZ2VTY29wZSxcbiAgICAgICgpID0+IGZvcm1hdChnZXRDb3VudGVyTnVtYmVyKCkpLFxuICAgICAgYHBhZ2UtY291bnRlci0ke25hbWV9YCxcbiAgICApO1xuXG4gICAgZnVuY3Rpb24gYXJyYXlGb3JtYXQoYXJyKSB7XG4gICAgICByZXR1cm4gZm9ybWF0KGFyclswXSk7XG4gICAgfVxuICAgIHRoaXMuY291bnRlclN0b3JlLnJlZ2lzdGVyUGFnZUNvdW50ZXJFeHByKG5hbWUsIGFycmF5Rm9ybWF0LCBleHByKTtcbiAgICByZXR1cm4gZXhwcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFBhZ2VDb3VudGVyc1ZhbChcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgZm9ybWF0OiAocDE6IG51bWJlcltdKSA9PiBzdHJpbmcsXG4gICk6IEV4cHJzLlZhbCB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBnZXRDb3VudGVyTnVtYmVycygpIHtcbiAgICAgIHJldHVybiBzZWxmLmNvdW50ZXJTdG9yZS5jdXJyZW50UGFnZUNvdW50ZXJzW25hbWVdIHx8IFtdO1xuICAgIH1cbiAgICBjb25zdCBleHByID0gbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgIHRoaXMucGFnZVNjb3BlLFxuICAgICAgKCkgPT4gZm9ybWF0KGdldENvdW50ZXJOdW1iZXJzKCkpLFxuICAgICAgYHBhZ2UtY291bnRlcnMtJHtuYW1lfWAsXG4gICAgKTtcbiAgICB0aGlzLmNvdW50ZXJTdG9yZS5yZWdpc3RlclBhZ2VDb3VudGVyRXhwcihuYW1lLCBmb3JtYXQsIGV4cHIpO1xuICAgIHJldHVybiBleHByO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgKG5vbiBwYWdlLWJhc2VkKSBjb3VudGVyIHZhbHVlcyBmb3IgYW4gZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWRcbiAgICogSUQuIFJldHVybnMgbnVsbCBpZiB0aGUgc3R5bGUgb2YgdGhlIGVsZW1lbnRzIGhhcyBub3QgYmVlbiBjYWxjdWxhdGVkIHlldFxuICAgKiAoaS5lLiB0aGUgZWxlbWVudCBkb2VzIG5vdCBleGl0IG9yIGl0IGlzIGluIGEgc291cmNlIGRvY3VtZW50IHdoaWNoIGlzIG5vdFxuICAgKiBsb2FkZWQgeWV0KS5cbiAgICogQHBhcmFtIGlkIE9yaWdpbmFsIElEIHZhbHVlXG4gICAqIEBwYXJhbSB0cmFuc2Zvcm1lZElkIElEIHRyYW5zZm9ybWVkIGJ5IERvY3VtZW50VVJMVHJhbnNmb3JtZXIgdG8gaGFuZGxlIGFcbiAgICogICAgIHJlZmVyZW5jZSBhY3Jvc3MgbXVsdGlwbGUgc291cmNlIGRvY3VtZW50c1xuICAgKiBAcGFyYW0gbG9va0ZvckVsZW1lbnQgSWYgdHJ1ZSwgbG9vayBhaGVhZCBmb3IgYW4gZWxlbWVudCB3aXRoIHRoZSBJRCBpbiB0aGVcbiAgICogICAgIGN1cnJlbnQgc291cmNlIGRvY3VtZW50IHdoZW4gc3VjaCBhbiBlbGVtZW50IGhhcyBub3QgYXBwZWFyZWQgeWV0LiBEb1xuICAgKiAgICAgbm90IHNldCB0byB0cnVlIGR1cmluZyBTdHlsZXIuc3R5bGVVbnRpbCBpcyBiZWluZyBjYWxsZWQsIHNpbmNlIGluIHRoYXRcbiAgICogICAgIGNhc2UgU3R5bGVyLnN0eWxlVW50aWwgY2FuIGJlIGNhbGxlZCBhZ2FpbiBhbmQgbWF5IGxlYWQgdG8gaW50ZXJuYWxcbiAgICogICAgIGluY29uc2lzdGVuY3kuXG4gICAqL1xuICBwcml2YXRlIGdldFRhcmdldENvdW50ZXJzKFxuICAgIGlkOiBzdHJpbmcgfCBudWxsLFxuICAgIHRyYW5zZm9ybWVkSWQ6IHN0cmluZyxcbiAgICBsb29rRm9yRWxlbWVudDogYm9vbGVhbixcbiAgKTogQ3NzQ2FzY2FkZS5Db3VudGVyVmFsdWVzIHwgbnVsbCB7XG4gICAgbGV0IHRhcmdldENvdW50ZXJzID0gdGhpcy5jb3VudGVyU3RvcmUuY291bnRlcnNCeUlkW3RyYW5zZm9ybWVkSWRdO1xuICAgIGlmICghdGFyZ2V0Q291bnRlcnMgJiYgbG9va0ZvckVsZW1lbnQgJiYgaWQpIHtcbiAgICAgIHRoaXMuc3R5bGVyLnN0eWxlVW50aWxJZElzUmVhY2hlZChpZCk7XG4gICAgICB0YXJnZXRDb3VudGVycyA9IHRoaXMuY291bnRlclN0b3JlLmNvdW50ZXJzQnlJZFt0cmFuc2Zvcm1lZElkXTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldENvdW50ZXJzIHx8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBwYWdlLWJhc2VkIGNvdW50ZXIgdmFsdWVzIGZvciBhbiBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBJRC5cbiAgICogUmV0dXJucyBudWxsIGlmIHRoZSBlbGVtZW50IGhhcyBub3QgYmVlbiBsYWlkIG91dCB5ZXQuXG4gICAqIEBwYXJhbSB0cmFuc2Zvcm1lZElkIElEIHRyYW5zZm9ybWVkIGJ5IERvY3VtZW50VVJMVHJhbnNmb3JtZXIgdG8gaGFuZGxlIGFcbiAgICogICAgIHJlZmVyZW5jZSBhY3Jvc3MgbXVsdGlwbGUgc291cmNlIGRvY3VtZW50c1xuICAgKi9cbiAgcHJpdmF0ZSBnZXRUYXJnZXRQYWdlQ291bnRlcnMoXG4gICAgdHJhbnNmb3JtZWRJZDogc3RyaW5nLFxuICApOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXMgfCBudWxsIHtcbiAgICBpZiAodGhpcy5jb3VudGVyU3RvcmUuY3VycmVudFBhZ2UuZWxlbWVudHNCeUlkW3RyYW5zZm9ybWVkSWRdKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb3VudGVyU3RvcmUuY3VycmVudFBhZ2VDb3VudGVycztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuY291bnRlclN0b3JlLnBhZ2VDb3VudGVyc0J5SWRbdHJhbnNmb3JtZWRJZF0gfHwgbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRUYXJnZXRDb3VudGVyVmFsKFxuICAgIHVybDogc3RyaW5nLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBmb3JtYXQ6IChwMTogbnVtYmVyIHwgbnVsbCkgPT4gc3RyaW5nLFxuICApOiBFeHBycy5WYWwge1xuICAgIGNvbnN0IGlkID0gdGhpcy5nZXRGcmFnbWVudCh1cmwpO1xuICAgIGNvbnN0IHRyYW5zZm9ybWVkSWQgPSB0aGlzLmdldFRyYW5zZm9ybWVkSWQodXJsKTtcblxuICAgIC8vIFNpbmNlIHRoaXMgbWV0aG9kIGlzIGV4ZWN1dGVkIGR1cmluZyBTdHlsZXIuc3R5bGVVbnRpbCBpcyBiZWluZyBjYWxsZWQsXG4gICAgLy8gc2V0IGZhbHNlIHRvIGxvb2tGb3JFbGVtZW50IGFyZ3VtZW50LlxuICAgIGxldCBjb3VudGVycyA9IHRoaXMuZ2V0VGFyZ2V0Q291bnRlcnMoaWQsIHRyYW5zZm9ybWVkSWQsIGZhbHNlKTtcbiAgICBpZiAoY291bnRlcnMgJiYgY291bnRlcnNbbmFtZV0pIHtcbiAgICAgIC8vIFNpbmNlIGFuIGVsZW1lbnQtYmFzZWQgY291bnRlciBpcyBkZWZpbmVkLCBhbnkgcGFnZS1iYXNlZCBjb3VudGVyIGlzXG4gICAgICAvLyBvYnNjdXJlZCBldmVuIGlmIGl0IGV4aXN0cy5cbiAgICAgIGNvbnN0IGNvdW50ZXJzT2ZOYW1lID0gY291bnRlcnNbbmFtZV07XG4gICAgICByZXR1cm4gbmV3IEV4cHJzLkNvbnN0KFxuICAgICAgICB0aGlzLnJvb3RTY29wZSxcbiAgICAgICAgZm9ybWF0KGNvdW50ZXJzT2ZOYW1lW2NvdW50ZXJzT2ZOYW1lLmxlbmd0aCAtIDFdIHx8IG51bGwpLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBFeHBycy5OYXRpdmUoXG4gICAgICB0aGlzLnBhZ2VTY29wZSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgLy8gU2luY2UgVGhpcyBibG9jayBpcyBldmFsdWF0ZWQgZHVyaW5nIGxheW91dCwgbG9va0ZvckVsZW1lbnRcbiAgICAgICAgLy8gYXJndW1lbnQgY2FuIGJlIHNldCB0byB0cnVlLlxuICAgICAgICBjb3VudGVycyA9IHNlbGYuZ2V0VGFyZ2V0Q291bnRlcnMoaWQsIHRyYW5zZm9ybWVkSWQsIHRydWUpO1xuXG4gICAgICAgIGlmIChjb3VudGVycykge1xuICAgICAgICAgIGlmIChjb3VudGVyc1tuYW1lXSkge1xuICAgICAgICAgICAgLy8gU2luY2UgYW4gZWxlbWVudC1iYXNlZCBjb3VudGVyIGlzIGRlZmluZWQsIGFueSBwYWdlLWJhc2VkXG4gICAgICAgICAgICAvLyBjb3VudGVyIGlzIG9ic2N1cmVkIGV2ZW4gaWYgaXQgZXhpc3RzLlxuICAgICAgICAgICAgY29uc3QgY291bnRlcnNPZk5hbWUgPSBjb3VudGVyc1tuYW1lXTtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXQoY291bnRlcnNPZk5hbWVbY291bnRlcnNPZk5hbWUubGVuZ3RoIC0gMV0gfHwgbnVsbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VDb3VudGVycyA9IHNlbGYuZ2V0VGFyZ2V0UGFnZUNvdW50ZXJzKHRyYW5zZm9ybWVkSWQpO1xuICAgICAgICAgICAgaWYgKHBhZ2VDb3VudGVycykge1xuICAgICAgICAgICAgICAvLyBUaGUgdGFyZ2V0IGVsZW1lbnQgaGFzIGFscmVhZHkgYmVlbiBsYWlkIG91dC5cbiAgICAgICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUucmVzb2x2ZVJlZmVyZW5jZSh0cmFuc2Zvcm1lZElkKTtcbiAgICAgICAgICAgICAgaWYgKHBhZ2VDb3VudGVyc1tuYW1lXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VDb3VudGVyc09mTmFtZSA9IHBhZ2VDb3VudGVyc1tuYW1lXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0KFxuICAgICAgICAgICAgICAgICAgcGFnZUNvdW50ZXJzT2ZOYW1lW3BhZ2VDb3VudGVyc09mTmFtZS5sZW5ndGggLSAxXSB8fCBudWxsLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gY29ycmVzcG9uZGluZyBjb3VudGVyIHdpdGggdGhlIG5hbWUuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdCgwKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gVGhlIHRhcmdldCBlbGVtZW50IGhhcyBub3QgYmVlbiBsYWlkIG91dCB5ZXQuXG4gICAgICAgICAgICAgIHNlbGYuY291bnRlclN0b3JlLnNhdmVSZWZlcmVuY2VPZkN1cnJlbnRQYWdlKFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybWVkSWQsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybiBcIj8/XCI7IC8vIFRPRE8gbW9yZSByZWFzb25hYmxlIHBsYWNlaG9sZGVyP1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBUaGUgc3R5bGUgb2YgdGFyZ2V0IGVsZW1lbnQgaGFzIG5vdCBiZWVuIGNhbGN1bGF0ZWQgeWV0LlxuICAgICAgICAgIC8vIChUaGUgZWxlbWVudCBpcyBpbiBhbm90aGVyIHNvdXJjZSBkb2N1bWVudCB0aGF0IGlzIG5vdCBwYXJzZWRcbiAgICAgICAgICAvLyB5ZXQpXG4gICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUuc2F2ZVJlZmVyZW5jZU9mQ3VycmVudFBhZ2UodHJhbnNmb3JtZWRJZCwgZmFsc2UpO1xuICAgICAgICAgIHJldHVybiBcIj8/XCI7IC8vIFRPRE8gbW9yZSByZWFzb25hYmxlIHBsYWNlaG9sZGVyP1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYHRhcmdldC1jb3VudGVyLSR7bmFtZX0tb2YtJHt1cmx9YCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0VGFyZ2V0Q291bnRlcnNWYWwoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGZvcm1hdDogKHAxOiBudW1iZXJbXSkgPT4gc3RyaW5nLFxuICApOiBFeHBycy5WYWwge1xuICAgIGNvbnN0IGlkID0gdGhpcy5nZXRGcmFnbWVudCh1cmwpO1xuICAgIGNvbnN0IHRyYW5zZm9ybWVkSWQgPSB0aGlzLmdldFRyYW5zZm9ybWVkSWQodXJsKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgIHRoaXMucGFnZVNjb3BlLFxuICAgICAgKCkgPT4ge1xuICAgICAgICBjb25zdCBwYWdlQ291bnRlcnMgPSBzZWxmLmdldFRhcmdldFBhZ2VDb3VudGVycyh0cmFuc2Zvcm1lZElkKTtcblxuICAgICAgICBpZiAoIXBhZ2VDb3VudGVycykge1xuICAgICAgICAgIC8vIFRoZSB0YXJnZXQgZWxlbWVudCBoYXMgbm90IGJlZW4gbGFpZCBvdXQgeWV0LlxuICAgICAgICAgIHNlbGYuY291bnRlclN0b3JlLnNhdmVSZWZlcmVuY2VPZkN1cnJlbnRQYWdlKHRyYW5zZm9ybWVkSWQsIGZhbHNlKTtcbiAgICAgICAgICByZXR1cm4gXCI/P1wiOyAvLyBUT0RPIG1vcmUgcmVhc29uYWJsZSBwbGFjZWhvbGRlcj9cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLmNvdW50ZXJTdG9yZS5yZXNvbHZlUmVmZXJlbmNlKHRyYW5zZm9ybWVkSWQpO1xuICAgICAgICAgIGNvbnN0IHBhZ2VDb3VudGVyc09mTmFtZSA9IHBhZ2VDb3VudGVyc1tuYW1lXSB8fCBbXTtcbiAgICAgICAgICBjb25zdCBlbGVtZW50Q291bnRlcnMgPSBzZWxmLmdldFRhcmdldENvdW50ZXJzKFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0cmFuc2Zvcm1lZElkLFxuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRDb3VudGVyc09mTmFtZSA9IGVsZW1lbnRDb3VudGVyc1tuYW1lXSB8fCBbXTtcbiAgICAgICAgICByZXR1cm4gZm9ybWF0KHBhZ2VDb3VudGVyc09mTmFtZS5jb25jYXQoZWxlbWVudENvdW50ZXJzT2ZOYW1lKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBgdGFyZ2V0LWNvdW50ZXJzLSR7bmFtZX0tb2YtJHt1cmx9YCxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb3VudGVyU3RvcmUge1xuICBjb3VudGVyc0J5SWQ6IHsgW2tleTogc3RyaW5nXTogQ3NzQ2FzY2FkZS5Db3VudGVyVmFsdWVzIH0gPSB7fTtcbiAgcGFnZUNvdW50ZXJzQnlJZDogeyBba2V5OiBzdHJpbmddOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXMgfSA9IHt9O1xuICBjdXJyZW50UGFnZUNvdW50ZXJzOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXMgPSB7fTtcbiAgcHJldmlvdXNQYWdlQ291bnRlcnM6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcyA9IHt9O1xuICBjdXJyZW50UGFnZUNvdW50ZXJzU3RhY2s6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlc1tdID0gW107XG4gIHBhZ2VJbmRpY2VzQnlJZDoge1xuICAgIFtrZXk6IHN0cmluZ106IHsgc3BpbmVJbmRleDogbnVtYmVyOyBwYWdlSW5kZXg6IG51bWJlciB9O1xuICB9ID0ge307XG4gIGN1cnJlbnRQYWdlOiBWdHJlZS5QYWdlID0gbnVsbDtcbiAgbmV3UmVmZXJlbmNlc09mQ3VycmVudFBhZ2U6IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXSA9IFtdO1xuICByZWZlcmVuY2VzVG9Tb2x2ZTogVGFyZ2V0Q291bnRlclJlZmVyZW5jZVtdID0gW107XG4gIHJlZmVyZW5jZXNUb1NvbHZlU3RhY2s6IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXVtdID0gW107XG4gIHVucmVzb2x2ZWRSZWZlcmVuY2VzOiB7IFtrZXk6IHN0cmluZ106IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXSB9ID0ge307XG4gIHJlc29sdmVkUmVmZXJlbmNlczogeyBba2V5OiBzdHJpbmddOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW10gfSA9IHt9O1xuICBwcml2YXRlIHBhZ2VzQ291bnRlckV4cHJzOiB7XG4gICAgZXhwcjogRXhwcnMuVmFsO1xuICAgIGZvcm1hdDogKHAxOiBudW1iZXJbXSkgPT4gc3RyaW5nO1xuICB9W10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcjogQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICApIHtcbiAgICB0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnNbXCJwYWdlXCJdID0gWzBdO1xuICB9XG5cbiAgY3JlYXRlQ291bnRlckxpc3RlbmVyKGJhc2VVUkw6IHN0cmluZyk6IENzc0Nhc2NhZGUuQ291bnRlckxpc3RlbmVyIHtcbiAgICByZXR1cm4gbmV3IENvdW50ZXJMaXN0ZW5lcih0aGlzLCBiYXNlVVJMKTtcbiAgfVxuXG4gIGNyZWF0ZUNvdW50ZXJSZXNvbHZlcihcbiAgICBiYXNlVVJMOiBzdHJpbmcsXG4gICAgcm9vdFNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcGFnZVNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICk6IENzc0Nhc2NhZGUuQ291bnRlclJlc29sdmVyIHtcbiAgICByZXR1cm4gbmV3IENvdW50ZXJSZXNvbHZlcih0aGlzLCBiYXNlVVJMLCByb290U2NvcGUsIHBhZ2VTY29wZSk7XG4gIH1cblxuICBzZXRDdXJyZW50UGFnZShwYWdlOiBWdHJlZS5QYWdlKSB7XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhZ2U7XG4gIH1cblxuICBwcml2YXRlIGRlZmluZVBhZ2VDb3VudGVyKGNvdW50ZXJOYW1lOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzW2NvdW50ZXJOYW1lXSkge1xuICAgICAgdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzW2NvdW50ZXJOYW1lXS5wdXNoKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzW2NvdW50ZXJOYW1lXSA9IFt2YWx1ZV07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlZnVsbHkgc2V0IHRoZSBgcGFnZWAgcGFnZS1iYXNlZCBjb3VudGVyIHRvIHRoZSBzcGVjaWZpZWQgdmFsdWUuXG4gICAqL1xuICBmb3JjZVNldFBhZ2VDb3VudGVyKHBhZ2VOdW1iZXI6IG51bWJlcikge1xuICAgIGNvbnN0IGNvdW50ZXJzID0gdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzW1wicGFnZVwiXTtcbiAgICBpZiAoIWNvdW50ZXJzIHx8ICFjb3VudGVycy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY3VycmVudFBhZ2VDb3VudGVyc1tcInBhZ2VcIl0gPSBbcGFnZU51bWJlcl07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50ZXJzW2NvdW50ZXJzLmxlbmd0aCAtIDFdID0gcGFnZU51bWJlcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBwYWdlLWJhc2VkIGNvdW50ZXJzIHdpdGggJ2NvdW50ZXItcmVzZXQnIGFuZCAnY291bnRlci1pbmNyZW1lbnQnXG4gICAqIHByb3BlcnRpZXMgd2l0aGluIHRoZSBwYWdlIGNvbnRleHQuIENhbGwgYmVmb3JlIHN0YXJ0aW5nIGxheW91dCBvZiB0aGVcbiAgICogcGFnZS5cbiAgICovXG4gIHVwZGF0ZVBhZ2VDb3VudGVycyhcbiAgICBjYXNjYWRlZFBhZ2VTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgKSB7XG4gICAgLy8gU2F2ZSBwYWdlIGNvdW50ZXJzIHRvIHByZXZpb3VzUGFnZUNvdW50ZXJzIGJlZm9yZSB1cGRhdGluZ1xuICAgIHRoaXMucHJldmlvdXNQYWdlQ291bnRlcnMgPSBjbG9uZUNvdW50ZXJWYWx1ZXModGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzKTtcbiAgICBsZXQgcmVzZXRNYXA6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG4gICAgY29uc3QgcmVzZXQgPSBjYXNjYWRlZFBhZ2VTdHlsZVtcImNvdW50ZXItcmVzZXRcIl07XG4gICAgaWYgKHJlc2V0KSB7XG4gICAgICBjb25zdCByZXNldFZhbCA9IHJlc2V0LmV2YWx1YXRlKGNvbnRleHQpO1xuICAgICAgaWYgKHJlc2V0VmFsKSB7XG4gICAgICAgIHJlc2V0TWFwID0gQ3NzUHJvcC50b0NvdW50ZXJzKHJlc2V0VmFsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlc2V0TWFwKSB7XG4gICAgICBmb3IgKGNvbnN0IHJlc2V0Q291bnRlck5hbWUgaW4gcmVzZXRNYXApIHtcbiAgICAgICAgdGhpcy5kZWZpbmVQYWdlQ291bnRlcihyZXNldENvdW50ZXJOYW1lLCByZXNldE1hcFtyZXNldENvdW50ZXJOYW1lXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBpbmNyZW1lbnRNYXA6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG4gICAgY29uc3QgaW5jcmVtZW50ID0gY2FzY2FkZWRQYWdlU3R5bGVbXCJjb3VudGVyLWluY3JlbWVudFwiXTtcbiAgICBpZiAoaW5jcmVtZW50KSB7XG4gICAgICBjb25zdCBpbmNyZW1lbnRWYWwgPSBpbmNyZW1lbnQuZXZhbHVhdGUoY29udGV4dCk7XG4gICAgICBpZiAoaW5jcmVtZW50VmFsKSB7XG4gICAgICAgIGluY3JlbWVudE1hcCA9IENzc1Byb3AudG9Db3VudGVycyhpbmNyZW1lbnRWYWwsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiAnY291bnRlci1pbmNyZW1lbnQnIGZvciB0aGUgYnVpbHRpbiAncGFnZScgY291bnRlciBpcyBhYnNlbnQsIGFkZCBpdFxuICAgIC8vIHdpdGggdmFsdWUgMS5cbiAgICBpZiAoaW5jcmVtZW50TWFwKSB7XG4gICAgICBpZiAoIShcInBhZ2VcIiBpbiBpbmNyZW1lbnRNYXApKSB7XG4gICAgICAgIGluY3JlbWVudE1hcFtcInBhZ2VcIl0gPSAxO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbmNyZW1lbnRNYXAgPSB7fTtcbiAgICAgIGluY3JlbWVudE1hcFtcInBhZ2VcIl0gPSAxO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGluY3JlbWVudENvdW50ZXJOYW1lIGluIGluY3JlbWVudE1hcCkge1xuICAgICAgaWYgKCF0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnNbaW5jcmVtZW50Q291bnRlck5hbWVdKSB7XG4gICAgICAgIHRoaXMuZGVmaW5lUGFnZUNvdW50ZXIoaW5jcmVtZW50Q291bnRlck5hbWUsIDApO1xuICAgICAgfVxuICAgICAgY29uc3QgY291bnRlclZhbHVlcyA9IHRoaXMuY3VycmVudFBhZ2VDb3VudGVyc1tpbmNyZW1lbnRDb3VudGVyTmFtZV07XG4gICAgICBjb3VudGVyVmFsdWVzW2NvdW50ZXJWYWx1ZXMubGVuZ3RoIC0gMV0gKz1cbiAgICAgICAgaW5jcmVtZW50TWFwW2luY3JlbWVudENvdW50ZXJOYW1lXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBjdXJyZW50IHBhZ2UtYmFzZWQgY291bnRlcnMgdmFsdWVzIGFuZCBzZXQgdGhlbSB0byB0aGUgdmFsdWVzIHBhc3NlZFxuICAgKiBpbi4gVGhlIHNhdmVkIGNvdW50ZXIgdmFsdWVzIGNhbiBiZSByZXN0b3JlZCBieSBwb3BQYWdlQ291bnRlcnMgbWV0aG9kLlxuICAgKi9cbiAgcHVzaFBhZ2VDb3VudGVycyhjb3VudGVyczogQ3NzQ2FzY2FkZS5Db3VudGVyVmFsdWVzKSB7XG4gICAgdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzU3RhY2sucHVzaCh0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnMpO1xuICAgIHRoaXMuY3VycmVudFBhZ2VDb3VudGVycyA9IGNsb25lQ291bnRlclZhbHVlcyhjb3VudGVycyk7XG4gIH1cblxuICAvKipcbiAgICogUmVzdG9yZSBwcmV2aW91c2x5IHNhdmVkIHBhZ2UtYmFzZWQgY291bnRlciB2YWx1ZXMuXG4gICAqL1xuICBwb3BQYWdlQ291bnRlcnMoKSB7XG4gICAgdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzID0gdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzU3RhY2sucG9wKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVzb2x2ZSBhIHJlZmVyZW5jZSB3aXRoIHRoZSBzcGVjaWZpZWQgSUQuXG4gICAqL1xuICByZXNvbHZlUmVmZXJlbmNlKGlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCB1bnJlc29sdmVkUmVmcyA9IHRoaXMudW5yZXNvbHZlZFJlZmVyZW5jZXNbaWRdO1xuICAgIGxldCByZXNvbHZlZFJlZnMgPSB0aGlzLnJlc29sdmVkUmVmZXJlbmNlc1tpZF07XG4gICAgaWYgKCFyZXNvbHZlZFJlZnMpIHtcbiAgICAgIHJlc29sdmVkUmVmcyA9IHRoaXMucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXSA9IFtdO1xuICAgIH1cbiAgICBsZXQgcHVzaGVkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlZmVyZW5jZXNUb1NvbHZlLmxlbmd0aDsgKSB7XG4gICAgICBjb25zdCByZWYgPSB0aGlzLnJlZmVyZW5jZXNUb1NvbHZlW2ldO1xuICAgICAgaWYgKHJlZi50YXJnZXRJZCA9PT0gaWQpIHtcbiAgICAgICAgcmVmLnJlc29sdmUoKTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VzVG9Tb2x2ZS5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGlmICh1bnJlc29sdmVkUmVmcykge1xuICAgICAgICAgIGNvbnN0IGogPSB1bnJlc29sdmVkUmVmcy5pbmRleE9mKHJlZik7XG4gICAgICAgICAgaWYgKGogPj0gMCkge1xuICAgICAgICAgICAgdW5yZXNvbHZlZFJlZnMuc3BsaWNlKGosIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlZFJlZnMucHVzaChyZWYpO1xuICAgICAgICBwdXNoZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXB1c2hlZCkge1xuICAgICAgdGhpcy5zYXZlUmVmZXJlbmNlT2ZDdXJyZW50UGFnZShpZCwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNhdmUgYSByZWZlcmVuY2UgYXBwZWFyZWQgaW4gdGhlIGN1cnJlbnQgcGFnZS5cbiAgICogQHBhcmFtIHJlc29sdmVkIElmIHRoZSByZWZlcmVuY2UgaXMgYWxyZWFkeSByZXNvbHZlZCBvciBub3QuXG4gICAqL1xuICBzYXZlUmVmZXJlbmNlT2ZDdXJyZW50UGFnZShpZDogc3RyaW5nLCByZXNvbHZlZDogYm9vbGVhbikge1xuICAgIGlmICghdGhpcy5uZXdSZWZlcmVuY2VzT2ZDdXJyZW50UGFnZS5zb21lKChyZWYpID0+IHJlZi50YXJnZXRJZCA9PT0gaWQpKSB7XG4gICAgICBjb25zdCByZWYgPSBuZXcgVGFyZ2V0Q291bnRlclJlZmVyZW5jZShpZCwgcmVzb2x2ZWQpO1xuICAgICAgdGhpcy5uZXdSZWZlcmVuY2VzT2ZDdXJyZW50UGFnZS5wdXNoKHJlZik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZpbmlzaCB0aGUgY3VycmVudCBwYWdlOyBlbGVtZW50cyB3aXRoIElEIGFyZSBjb2xsZWN0ZWQgYW5kIHNhdmVkIHdpdGhcbiAgICogY3VycmVudCBwYWdlLWJhc2VkIGNvdW50ZXIgdmFsdWVzIGludGVybmFsbHkuXG4gICAqIEBwYXJhbSBzcGluZUluZGV4IEluZGV4IG9mIHRoZSBjdXJyZW50bHkgbGFpZCBvdXQgc3BpbmUgaXRlbVxuICAgKiBAcGFyYW0gcGFnZUluZGV4IEluZGV4IG9mIHRoZSBjdXJyZW50bHkgbGFpZCBvdXQgcGFnZSBpbiBpdHMgc3BpbmUgaXRlbVxuICAgKi9cbiAgZmluaXNoUGFnZShzcGluZUluZGV4OiBudW1iZXIsIHBhZ2VJbmRleDogbnVtYmVyKSB7XG4gICAgY29uc3QgaWRzID0gT2JqZWN0LmtleXModGhpcy5jdXJyZW50UGFnZS5lbGVtZW50c0J5SWQpO1xuICAgIGlmIChpZHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgY3VycmVudFBhZ2VDb3VudGVycyA9IGNsb25lQ291bnRlclZhbHVlcyh0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnMpO1xuICAgICAgaWRzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICAgIHRoaXMucGFnZUNvdW50ZXJzQnlJZFtpZF0gPSBjdXJyZW50UGFnZUNvdW50ZXJzO1xuICAgICAgICBjb25zdCBvbGRQYWdlSW5kZXggPSB0aGlzLnBhZ2VJbmRpY2VzQnlJZFtpZF07XG4gICAgICAgIGlmIChvbGRQYWdlSW5kZXggJiYgb2xkUGFnZUluZGV4LnBhZ2VJbmRleCA8IHBhZ2VJbmRleCkge1xuICAgICAgICAgIGNvbnN0IHJlc29sdmVkUmVmcyA9IHRoaXMucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXTtcbiAgICAgICAgICBpZiAocmVzb2x2ZWRSZWZzKSB7XG4gICAgICAgICAgICBsZXQgdW5yZXNvbHZlZFJlZnMgPSB0aGlzLnVucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXTtcbiAgICAgICAgICAgIGlmICghdW5yZXNvbHZlZFJlZnMpIHtcbiAgICAgICAgICAgICAgdW5yZXNvbHZlZFJlZnMgPSB0aGlzLnVucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHJlZjogVGFyZ2V0Q291bnRlclJlZmVyZW5jZTtcbiAgICAgICAgICAgIHdoaWxlICgocmVmID0gcmVzb2x2ZWRSZWZzLnNoaWZ0KCkpKSB7XG4gICAgICAgICAgICAgIHJlZi51bnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgdW5yZXNvbHZlZFJlZnMucHVzaChyZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhZ2VJbmRpY2VzQnlJZFtpZF0gPSB7IHNwaW5lSW5kZXgsIHBhZ2VJbmRleCB9O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHByZXZQYWdlQ291bnRlcnMgPSB0aGlzLnByZXZpb3VzUGFnZUNvdW50ZXJzO1xuICAgIGxldCByZWY6IFRhcmdldENvdW50ZXJSZWZlcmVuY2U7XG4gICAgd2hpbGUgKChyZWYgPSB0aGlzLm5ld1JlZmVyZW5jZXNPZkN1cnJlbnRQYWdlLnNoaWZ0KCkpKSB7XG4gICAgICByZWYucGFnZUNvdW50ZXJzID0gcHJldlBhZ2VDb3VudGVycztcbiAgICAgIHJlZi5zcGluZUluZGV4ID0gc3BpbmVJbmRleDtcbiAgICAgIHJlZi5wYWdlSW5kZXggPSBwYWdlSW5kZXg7XG4gICAgICBsZXQgYXJyOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW107XG4gICAgICBpZiAocmVmLmlzUmVzb2x2ZWQoKSkge1xuICAgICAgICBhcnIgPSB0aGlzLnJlc29sdmVkUmVmZXJlbmNlc1tyZWYudGFyZ2V0SWRdO1xuICAgICAgICBpZiAoIWFycikge1xuICAgICAgICAgIGFyciA9IHRoaXMucmVzb2x2ZWRSZWZlcmVuY2VzW3JlZi50YXJnZXRJZF0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXJyID0gdGhpcy51bnJlc29sdmVkUmVmZXJlbmNlc1tyZWYudGFyZ2V0SWRdO1xuICAgICAgICBpZiAoIWFycikge1xuICAgICAgICAgIGFyciA9IHRoaXMudW5yZXNvbHZlZFJlZmVyZW5jZXNbcmVmLnRhcmdldElkXSA9IFtdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYXJyLmV2ZXJ5KChyKSA9PiAhcmVmLmVxdWFscyhyKSkpIHtcbiAgICAgICAgYXJyLnB1c2gocmVmKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB1bnJlc29sdmVkIHJlZmVyZW5jZXMgcG9pbnRpbmcgdG8gdGhlIHNwZWNpZmllZCBwYWdlLlxuICAgKi9cbiAgZ2V0VW5yZXNvbHZlZFJlZnNUb1BhZ2UoXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgKToge1xuICAgIHNwaW5lSW5kZXg6IG51bWJlcjtcbiAgICBwYWdlSW5kZXg6IG51bWJlcjtcbiAgICBwYWdlQ291bnRlcnM6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcztcbiAgICByZWZzOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW107XG4gIH1bXSB7XG4gICAgbGV0IHJlZnM6IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXSA9IFtdO1xuICAgIGNvbnN0IGlkcyA9IE9iamVjdC5rZXlzKHBhZ2UuZWxlbWVudHNCeUlkKTtcbiAgICBpZHMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGNvbnN0IGlkUmVmcyA9IHRoaXMudW5yZXNvbHZlZFJlZmVyZW5jZXNbaWRdO1xuICAgICAgaWYgKGlkUmVmcykge1xuICAgICAgICByZWZzID0gcmVmcy5jb25jYXQoaWRSZWZzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZWZzLnNvcnQoXG4gICAgICAocjEsIHIyKSA9PiByMS5zcGluZUluZGV4IC0gcjIuc3BpbmVJbmRleCB8fCByMS5wYWdlSW5kZXggLSByMi5wYWdlSW5kZXgsXG4gICAgKTtcbiAgICBjb25zdCByZXN1bHQ6IHtcbiAgICAgIHNwaW5lSW5kZXg6IG51bWJlcjtcbiAgICAgIHBhZ2VJbmRleDogbnVtYmVyO1xuICAgICAgcGFnZUNvdW50ZXJzOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXM7XG4gICAgICByZWZzOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW107XG4gICAgfVtdID0gW107XG4gICAgbGV0IG86IHtcbiAgICAgIHNwaW5lSW5kZXg6IG51bWJlcjtcbiAgICAgIHBhZ2VJbmRleDogbnVtYmVyO1xuICAgICAgcGFnZUNvdW50ZXJzOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXM7XG4gICAgICByZWZzOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW107XG4gICAgfSA9IG51bGw7XG4gICAgcmVmcy5mb3JFYWNoKChyZWYpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgIW8gfHxcbiAgICAgICAgby5zcGluZUluZGV4ICE9PSByZWYuc3BpbmVJbmRleCB8fFxuICAgICAgICBvLnBhZ2VJbmRleCAhPT0gcmVmLnBhZ2VJbmRleFxuICAgICAgKSB7XG4gICAgICAgIG8gPSB7XG4gICAgICAgICAgc3BpbmVJbmRleDogcmVmLnNwaW5lSW5kZXgsXG4gICAgICAgICAgcGFnZUluZGV4OiByZWYucGFnZUluZGV4LFxuICAgICAgICAgIHBhZ2VDb3VudGVyczogcmVmLnBhZ2VDb3VudGVycyxcbiAgICAgICAgICByZWZzOiBbcmVmXSxcbiAgICAgICAgfTtcbiAgICAgICAgcmVzdWx0LnB1c2gobyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvLnJlZnMucHVzaChyZWYpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBjdXJyZW50IHJlZmVyZW5jZXMgdG8gc29sdmUgYW5kIHNldCB0aGVtIHRvIHRoZSB2YWx1ZXMgcGFzc2VkIGluLlxuICAgKiBUaGUgc2F2ZWQgcmVmZXJlbmNlcyBjYW4gYmUgcmVzdG9yZWQgYnkgcG9wUmVmZXJlbmNlc1RvU29sdmUgbWV0aG9kLlxuICAgKi9cbiAgcHVzaFJlZmVyZW5jZXNUb1NvbHZlKHJlZnM6IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXSkge1xuICAgIHRoaXMucmVmZXJlbmNlc1RvU29sdmVTdGFjay5wdXNoKHRoaXMucmVmZXJlbmNlc1RvU29sdmUpO1xuICAgIHRoaXMucmVmZXJlbmNlc1RvU29sdmUgPSByZWZzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RvcmUgcHJldmlvdXNseSBzYXZlZCByZWZlcmVuY2VzIHRvIHNvbHZlLlxuICAgKi9cbiAgcG9wUmVmZXJlbmNlc1RvU29sdmUoKSB7XG4gICAgdGhpcy5yZWZlcmVuY2VzVG9Tb2x2ZSA9IHRoaXMucmVmZXJlbmNlc1RvU29sdmVTdGFjay5wb3AoKTtcbiAgfVxuXG4gIHJlZ2lzdGVyUGFnZUNvdW50ZXJFeHByKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBmb3JtYXQ6IChwMTogbnVtYmVyW10pID0+IHN0cmluZyxcbiAgICBleHByOiBFeHBycy5WYWwsXG4gICkge1xuICAgIGlmIChuYW1lID09PSBcInBhZ2VzXCIpIHtcbiAgICAgIHRoaXMucGFnZXNDb3VudGVyRXhwcnMucHVzaCh7IGV4cHIsIGZvcm1hdCB9KTtcbiAgICB9XG4gIH1cblxuICBnZXRFeHByQ29udGVudExpc3RlbmVyKCk6IFZ0cmVlLkV4cHJDb250ZW50TGlzdGVuZXIge1xuICAgIHJldHVybiB0aGlzLmV4cHJDb250ZW50TGlzdGVuZXIuYmluZCh0aGlzKTtcbiAgfVxuXG4gIHByaXZhdGUgZXhwckNvbnRlbnRMaXN0ZW5lcihleHByLCB2YWwsIGRvY3VtZW50KSB7XG4gICAgY29uc3QgZm91bmQgPSB0aGlzLnBhZ2VzQ291bnRlckV4cHJzLmZpbmRJbmRleCgobykgPT4gby5leHByID09PSBleHByKSA+PSAwO1xuICAgIGlmIChmb3VuZCkge1xuICAgICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHZhbDtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKFBBR0VTX0NPVU5URVJfQVRUUiwgZXhwci5rZXkpO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZpbmlzaExhc3RQYWdlKHZpZXdwb3J0OiBWZ2VuLlZpZXdwb3J0KSB7XG4gICAgY29uc3Qgbm9kZXMgPSB2aWV3cG9ydC5yb290LnF1ZXJ5U2VsZWN0b3JBbGwoYFske1BBR0VTX0NPVU5URVJfQVRUUn1dYCk7XG4gICAgY29uc3QgcGFnZXMgPSB0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnNbXCJwYWdlXCJdWzBdO1xuICAgIEFycmF5LmZyb20obm9kZXMpLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IG5vZGUuZ2V0QXR0cmlidXRlKFBBR0VTX0NPVU5URVJfQVRUUik7XG4gICAgICBjb25zdCBpID0gdGhpcy5wYWdlc0NvdW50ZXJFeHBycy5maW5kSW5kZXgoKG8pID0+IG8uZXhwci5rZXkgPT09IGtleSk7XG4gICAgICBBc3NlcnRzLmFzc2VydChpID49IDApO1xuICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHRoaXMucGFnZXNDb3VudGVyRXhwcnNbaV0uZm9ybWF0KFtwYWdlc10pO1xuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlTGF5b3V0Q29uc3RyYWludChwYWdlSW5kZXg6IG51bWJlcik6IExheW91dC5MYXlvdXRDb25zdHJhaW50IHtcbiAgICByZXR1cm4gbmV3IExheW91dENvbnN0cmFpbnQodGhpcywgcGFnZUluZGV4KTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgUEFHRVNfQ09VTlRFUl9BVFRSID0gXCJkYXRhLXZpdmxpb3N0eWxlLXBhZ2VzLWNvdW50ZXJcIjtcblxuY2xhc3MgTGF5b3V0Q29uc3RyYWludCBpbXBsZW1lbnRzIExheW91dC5MYXlvdXRDb25zdHJhaW50IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGNvdW50ZXJTdG9yZTogQ291bnRlclN0b3JlLFxuICAgIHB1YmxpYyByZWFkb25seSBwYWdlSW5kZXg6IG51bWJlcixcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFsbG93TGF5b3V0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGlmICghbm9kZUNvbnRleHQgfHwgbm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCB2aWV3Tm9kZSA9IG5vZGVDb250ZXh0LnZpZXdOb2RlO1xuICAgIGlmICghdmlld05vZGUgfHwgdmlld05vZGUubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBpZCA9XG4gICAgICAodmlld05vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKFwiaWRcIikgfHxcbiAgICAgICh2aWV3Tm9kZSBhcyBFbGVtZW50KS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuICAgIGlmICghaWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAhdGhpcy5jb3VudGVyU3RvcmUucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXSAmJlxuICAgICAgIXRoaXMuY291bnRlclN0b3JlLnVucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMuY291bnRlclN0b3JlLnBhZ2VJbmRpY2VzQnlJZFtpZF07XG4gICAgaWYgKCFwYWdlSW5kZXgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wYWdlSW5kZXggPj0gcGFnZUluZGV4LnBhZ2VJbmRleDtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE3IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDc3NUb2tlbml6ZXIgLSBDU1MgVG9rZW5pemVyLlxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgVG9rZW5pemVySGFuZGxlciB7XG4gIGVycm9yKG1uZW1vbmljczogc3RyaW5nLCB0b2tlbjogVG9rZW4pOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUGFyc2VTaW5nbGUoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICBzdHIgPSBzdHIuc3Vic3RyKDEpO1xuICBpZiAoc3RyLm1hdGNoKC9eW14wLTlhLWZBLUZcXG5cXHJdJC8pKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuICBjb25zdCBjb2RlID0gcGFyc2VJbnQoc3RyLCAxNik7XG4gIGlmIChpc05hTihjb2RlKSkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGlmIChjb2RlIDw9IDY1NTM1KSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gIH1cbiAgaWYgKGNvZGUgPD0gMTExNDExMSkge1xuICAgIC8vIG5vbi1CTVAgY2hhcmFjdGVyczogY29udmVydCB0byBhIHN1cnJvZ2F0ZSBwYWlyXG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgICA1NTI5NiB8ICgoY29kZSA+PiAxMCkgJiAxMDIzKSxcbiAgICAgIDU2MzIwIHwgKGNvZGUgJiAxMDIzKSxcbiAgICApO1xuICB9XG5cbiAgLy8gbm90IGEgdmFsaWQgVW5pY29kZSB2YWx1ZVxuICByZXR1cm4gXCJcXHVmZmZkXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVQYXJzZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIucmVwbGFjZShcbiAgICAvXFxcXChbMC05YS1mQS1GXXswLDZ9KFxcclxcbnxbIFxcblxcclxcdFxcZl0pP3xbXjAtOWEtZkEtRlxcblxccl0pL2csXG4gICAgZXNjYXBlUGFyc2VTaW5nbGUsXG4gICk7XG59XG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGVudW0gVG9rZW5UeXBlIHtcbiAgRU9GLFxuICBJREVOVCxcbiAgU1RSLFxuICBOVU1FUklDLFxuICBOVU0sXG4gIElOVCxcbiAgRlVOQyxcbiAgSEFTSCxcbiAgVVJMLFxuICBDTEFTUyxcbiAgT19QQVIsXG4gIENfUEFSLFxuICBPX0JSQyxcbiAgQ19CUkMsXG4gIE9fQlJLLFxuICBDX0JSSyxcbiAgQ09NTUEsXG4gIFNFTUlDT0wsXG4gIENPTE9OLFxuICBTTEFTSCxcbiAgQVQsXG4gIFBFUkNFTlQsXG4gIFFNQVJLLFxuICBQTFVTLFxuICBNSU5VUyxcbiAgQkFSX0JBUixcbiAgQU1QX0FNUCxcblxuICAvLyB0aG9zZSBjYW4gaGF2ZSBcIj1cIiBhdCB0aGUgZW5kXG4gIEJBTkcgPSAzMSxcbiAgRE9MTEFSLFxuICBIQVQsXG4gIEJBUixcbiAgVElMREUsXG4gIFNUQVIsXG4gIEdULFxuICBMVCxcbiAgRVEsXG5cbiAgLy8gdG9rZW5zIGFib3ZlIHBsdXMgXCI9XCIgYXQgdGhlIGVuZCwgb3JkZXIgbXVzdCBiZSB0aGUgc2FtZVxuICBCQU5HX0VRID0gNDEsXG4gIERPTExBUl9FUSxcbiAgSEFUX0VRLFxuICBCQVJfRVEsXG4gIFRJTERFX0VRLFxuICBTVEFSX0VRLFxuICBHVF9FUSxcbiAgTFRfRVEsXG4gIEVRX0VRLFxuICBDT0xfQ09MLFxuICBJTlZBTElELFxuICBMQVNUID0gNTEsXG59XG5cbmV4cG9ydCBjbGFzcyBUb2tlbiB7XG4gIHR5cGU6IFRva2VuVHlwZTtcbiAgcHJlY2VkZWRCeVNwYWNlOiBib29sZWFuID0gZmFsc2U7XG4gIG51bTogbnVtYmVyID0gMDtcbiAgdGV4dDogc3RyaW5nID0gXCJcIjtcbiAgcG9zaXRpb246IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy50eXBlID0gVG9rZW5UeXBlLkVPRjtcbiAgfVxufVxuXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBlbnVtIEFjdGlvbiB7XG4gIFNQQUNFID0gMSxcbiAgSU5ULFxuICBJREVOVCxcbiAgQkFORyxcbiAgSEFTSCA9IDYsXG4gIERPTExBUixcbiAgUEVSQ0VOVCxcbiAgQU1QLFxuICBPX1BBUixcbiAgQ19QQVIsXG4gIFNUQVIsXG4gIFBMVVMsXG4gIENPTU1BLFxuICBNSU5VUyxcbiAgRE9ULFxuICBTTEFTSCxcbiAgQ09MT04sXG4gIFNFTUlDT0wsXG4gIExULFxuICBFUSxcbiAgR1QsXG4gIFFNQVJLLFxuICBBVCxcbiAgT19CUkssXG4gIENfQlJLLFxuICBPX0JSQyxcbiAgQ19CUkMsXG4gIEJTTEFTSCxcbiAgSEFULFxuICBCQVIsXG4gIFRJTERFLFxuICBTVFIxLFxuICBTVFIyLFxuICBFTkQsXG4gIEVRVEFJTCxcbiAgRU5ESU5ULFxuICBFTkROVU0sXG4gIENPTlQsXG4gIFVOSVQsXG4gIFBDVU5JVCxcbiAgTlVNQkVSLFxuICBFTkRJRE5ULFxuICBJRE5URVNDLFxuICBFTkRJREVTLFxuXG4gIC8vIGVuZCBvZiBpZGVudGlmaWVyIHdpdGggZXNjYXBlc1xuICBFTkRTVFIsXG4gIEVOREVTVFIsXG5cbiAgLy8gZW5kIG9mIHN0cmluZyB3aXRoIGVzY2FwZXNcbiAgU1RSMUVTQyxcbiAgU1RSMkVTQyxcbiAgQkFSX0JBUixcbiAgQU1QX0FNUCxcbiAgRlVOQyxcbiAgRlVOQ0VTLFxuICBDT01NRU5ULFxuICBDT01NU1QsXG4gIEVORE5PVEssXG4gIE1JTk1JTixcbiAgVE9JTlQsXG4gIFRPTlVNLFxuICBUT0lERU5ULFxuICBUT0lERVMsXG4gIEtJTEwxLFxuICBLSUxMMixcbiAgVVJMLFxuICBVUkwxLFxuICBVUkwyLFxuICBFTkRVUkwsXG4gIFRFUk1VUkwsXG4gIEZJTlVSTCxcbiAgTFRfQkcsXG4gIExUX0JHX00sXG4gIElOVkFMSUQsXG4gIENIS1BPU1MsXG4gIENIS1BPU04sXG4gIFVSTEVTQyxcbiAgSURFU0NILFxuICBDT0xfQ09MLFxuICBUT0NMQVNTLFxuICBDSEtTUCxcbiAgRU9GLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUFjdGlvbnMoZGVmOiBBY3Rpb24sIHNwZWM6IEFjdGlvbltdKTogQWN0aW9uW10ge1xuICBjb25zdCBhOiBudW1iZXJbXSA9IEFycmF5KDEyOCk7XG4gIGxldCBpOiBudW1iZXI7XG4gIGZvciAoaSA9IDA7IGkgPCAxMjg7IGkrKykge1xuICAgIGFbaV0gPSBkZWY7XG4gIH1cbiAgYVtOYU5dID0gZGVmID09IEFjdGlvbi5FTkQgPyBBY3Rpb24uRU5EIDogQWN0aW9uLklOVkFMSUQ7XG4gIGZvciAoaSA9IDA7IGkgPCBzcGVjLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgYVtzcGVjW2ldXSA9IHNwZWNbaSArIDFdO1xuICB9XG4gIHJldHVybiBhO1xufVxuXG4vKipcbiAqIFN0YXJ0IG9mIHRoZSB0b2tlbi5cbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGlvbnNOb3JtYWw6IEFjdGlvbltdID0gW1xuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsIC8vIDB4MDAtMHgwN1xuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLlNQQUNFLFxuICBBY3Rpb24uU1BBQ0UsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uU1BBQ0UsXG4gIEFjdGlvbi5TUEFDRSxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDA4LTB4MEZcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDEwLTB4MTdcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDE4LTB4MUZcbiAgQWN0aW9uLlNQQUNFLFxuICBBY3Rpb24uQkFORyxcbiAgQWN0aW9uLlNUUjIsXG4gIEFjdGlvbi5IQVNILFxuICBBY3Rpb24uRE9MTEFSLFxuICBBY3Rpb24uUEVSQ0VOVCxcbiAgQWN0aW9uLkFNUCxcbiAgQWN0aW9uLlNUUjEsIC8vIDB4MjAtMHgyN1xuICBBY3Rpb24uT19QQVIsXG4gIEFjdGlvbi5DX1BBUixcbiAgQWN0aW9uLlNUQVIsXG4gIEFjdGlvbi5QTFVTLFxuICBBY3Rpb24uQ09NTUEsXG4gIEFjdGlvbi5NSU5VUyxcbiAgQWN0aW9uLkRPVCxcbiAgQWN0aW9uLlNMQVNILCAvLyAweDI4LTB4MkZcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCwgLy8gMHgzMC0weDM3XG4gIEFjdGlvbi5JTlQsXG4gIEFjdGlvbi5JTlQsXG4gIEFjdGlvbi5DT0xPTixcbiAgQWN0aW9uLlNFTUlDT0wsXG4gIEFjdGlvbi5MVCxcbiAgQWN0aW9uLkVRLFxuICBBY3Rpb24uR1QsXG4gIEFjdGlvbi5RTUFSSywgLy8gMHgzOC0weDNGXG4gIEFjdGlvbi5BVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULCAvLyAweDQwLTB4NDdcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsIC8vIDB4NDgtMHg0RlxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCwgLy8gMHg1MC0weDU3XG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5PX0JSSyxcbiAgQWN0aW9uLkJTTEFTSCxcbiAgQWN0aW9uLkNfQlJLLFxuICBBY3Rpb24uSEFULFxuICBBY3Rpb24uSURFTlQsIC8vIDB4NTgtMHg1RlxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULCAvLyAweDYwLTB4NjdcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsIC8vIDB4NjgtMHg2RlxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCwgLy8gMHg3MC0weDc3XG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5PX0JSQyxcbiAgQWN0aW9uLkJBUixcbiAgQWN0aW9uLkNfQlJDLFxuICBBY3Rpb24uVElMREUsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDc4LTB4N0Zcbl07XG5cbmFjdGlvbnNOb3JtYWxbTmFOXSA9IEFjdGlvbi5FT0Y7XG5cbi8qKlxuICogSW5zaWRlIGlkZW50aWZpZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBhY3Rpb25zSWRlbnQ6IEFjdGlvbltdID0gW1xuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MDAtMHgwN1xuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MDgtMHgwRlxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MTAtMHgxN1xuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MTgtMHgxRlxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MjAtMHgyN1xuICBBY3Rpb24uRlVOQyxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MjgtMHgyRlxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4MzAtMHgzN1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MzgtMHgzRlxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NDAtMHg0N1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NDgtMHg0RlxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NTAtMHg1N1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLklETlRFU0MsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NTgtMHg1RlxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NjAtMHg2N1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NjgtMHg2RlxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NzAtMHg3N1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4NzgtMHg3RlxuXTtcblxuYWN0aW9uc0lkZW50W05hTl0gPSBBY3Rpb24uRU5ESUROVDtcblxuLyoqXG4gKiBBZnRlciBkb3QgKGVpdGhlciAuY2xhc3Mgb3IgLjEyMylcbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGlvbnNOdW1PckNsYXNzOiBBY3Rpb25bXSA9IFtcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDAwLTB4MDdcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDA4LTB4MEZcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDEwLTB4MTdcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDE4LTB4MUZcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDIwLTB4MjdcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPTlVNLFxuICBBY3Rpb24uSU5WQUxJRCwgLy8gMHgyOC0weDJGXG4gIEFjdGlvbi5UT05VTSxcbiAgQWN0aW9uLlRPTlVNLFxuICBBY3Rpb24uVE9OVU0sXG4gIEFjdGlvbi5UT05VTSxcbiAgQWN0aW9uLlRPTlVNLFxuICBBY3Rpb24uVE9OVU0sXG4gIEFjdGlvbi5UT05VTSxcbiAgQWN0aW9uLlRPTlVNLCAvLyAweDMwLTB4MzdcbiAgQWN0aW9uLlRPTlVNLFxuICBBY3Rpb24uVE9OVU0sXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsIC8vIDB4MzgtMHgzRlxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsIC8vIDB4NDAtMHg0N1xuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsIC8vIDB4NDgtMHg0RlxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsIC8vIDB4NTAtMHg1N1xuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLlRPSURFUyxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uVE9DTEFTUywgLy8gMHg1OC0weDVGXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUywgLy8gMHg2MC0weDY3XG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUywgLy8gMHg2OC0weDZGXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUywgLy8gMHg3MC0weDc3XG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCwgLy8gMHg3OC0weDdGXG5dO1xuXG5hY3Rpb25zSWRlbnRbTmFOXSA9IEFjdGlvbi5FTkRJRE5UO1xuXG4vKipcbiAqIGFmdGVyICctJ1xuICovXG5leHBvcnQgY29uc3QgYWN0aW9uc01pbnVzOiBBY3Rpb25bXSA9IFtcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCwgLy8gMHgwMC0weDA3XG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsIC8vIDB4MDgtMHgwRlxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELCAvLyAweDEwLTB4MTdcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCwgLy8gMHgxOC0weDFGXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsIC8vIDB4MjAtMHgyN1xuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uTUlOTUlOLFxuICBBY3Rpb24uVE9OVU0sXG4gIEFjdGlvbi5FTkQsIC8vIDB4MjgtMHgyRlxuICBBY3Rpb24uVE9JTlQsXG4gIEFjdGlvbi5UT0lOVCxcbiAgQWN0aW9uLlRPSU5ULFxuICBBY3Rpb24uVE9JTlQsXG4gIEFjdGlvbi5UT0lOVCxcbiAgQWN0aW9uLlRPSU5ULFxuICBBY3Rpb24uVE9JTlQsXG4gIEFjdGlvbi5UT0lOVCwgLy8gMHgzMC0weDM3XG4gIEFjdGlvbi5UT0lOVCxcbiAgQWN0aW9uLlRPSU5ULFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELCAvLyAweDM4LTB4M0ZcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsIC8vIDB4NDAtMHg0N1xuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsIC8vIDB4NDgtMHg0RlxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsIC8vIDB4NTAtMHg1N1xuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uVE9JREVTLFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uVE9JREVOVCwgLy8gMHg1OC0weDVGXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULCAvLyAweDYwLTB4NjdcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULCAvLyAweDY4LTB4NkZcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULCAvLyAweDcwLTB4NzdcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCwgLy8gMHg3OC0weDdGXG5dO1xuXG5hY3Rpb25zTWludXNbTmFOXSA9IEFjdGlvbi5FTkQ7XG5cbi8qKlxuICogSW5zaWRlIGlkZW50aWZpZXIgd2l0aCBlc2NhcGUgc2VxdWVuY2VcbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGlvbnNJZGVudEVzYzogQWN0aW9uW10gPSBbXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgwMC0weDA3XG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uQ0hLUE9TUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgwOC0weDBGXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgxMC0weDE3XG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgxOC0weDFGXG4gIEFjdGlvbi5DSEtQT1NTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgyMC0weDI3XG4gIEFjdGlvbi5GVU5DRVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLCAvLyAweDI4LTB4MkZcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDMwLTB4MzdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLCAvLyAweDM4LTB4M0ZcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDQwLTB4NDdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDQ4LTB4NEZcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDUwLTB4NTdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5JRE5URVNDLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5DT05ULCAvLyAweDU4LTB4NUZcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDYwLTB4NjdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDY4LTB4NkZcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDcwLTB4NzdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLCAvLyAweDc4LTB4N0Zcbl07XG5cbmFjdGlvbnNJZGVudEVzY1tOYU5dID0gQWN0aW9uLkVORElERVM7XG5cbi8qKlxuICogSW5zaWRlIGludGVnZXJcbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGlvbnNJbnQ6IEFjdGlvbltdID0gW1xuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULCAvLyAweDAwLTB4MDdcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCwgLy8gMHgwOC0weDBGXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsIC8vIDB4MTAtMHgxN1xuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULCAvLyAweDE4LTB4MUZcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLlBDVU5JVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCwgLy8gMHgyMC0weDI3XG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5OVU1CRVIsXG4gIEFjdGlvbi5FTkRJTlQsIC8vIDB4MjgtMHgyRlxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4MzAtMHgzN1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsIC8vIDB4MzgtMHgzRlxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg0MC0weDQ3XG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg0OC0weDRGXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg1MC0weDU3XG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5VTklULCAvLyAweDU4LTB4NUZcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsIC8vIDB4NjAtMHg2N1xuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsIC8vIDB4NjgtMHg2RlxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsIC8vIDB4NzAtMHg3N1xuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULCAvLyAweDc4LTB4N0Zcbl07XG5cbmFjdGlvbnNJbnRbTmFOXSA9IEFjdGlvbi5FTkRJTlQ7XG5cbi8qKlxuICogaW5zaWRlIHJlYWwsIGFmdGVyIGRvdFxuICovXG5leHBvcnQgY29uc3QgYWN0aW9uc051bWJlcjogQWN0aW9uW10gPSBbXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sIC8vIDB4MDAtMHgwN1xuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLCAvLyAweDA4LTB4MEZcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSwgLy8gMHgxMC0weDE3XG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sIC8vIDB4MTgtMHgxRlxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uUENVTklULFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLCAvLyAweDIwLTB4MjdcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSwgLy8gMHgyOC0weDJGXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCwgLy8gMHgzMC0weDM3XG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSwgLy8gMHgzOC0weDNGXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULCAvLyAweDQwLTB4NDdcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULCAvLyAweDQ4LTB4NEZcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULCAvLyAweDUwLTB4NTdcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLlVOSVQsIC8vIDB4NTgtMHg1RlxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg2MC0weDY3XG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg2OC0weDZGXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg3MC0weDc3XG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sIC8vIDB4NzgtMHg3RlxuXTtcblxuYWN0aW9uc051bWJlcltOYU5dID0gQWN0aW9uLkVORE5VTTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNDaGVja0VxOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5FTkQsIFtcbiAgNjEgLyo9Ki8sXG4gIEFjdGlvbi5FUVRBSUwsXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNDb2xvbjogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uRU5ELCBbXG4gIDU4IC8qOiovLFxuICBBY3Rpb24uQ09MX0NPTCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc0JhcjogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uRU5ELCBbXG4gIDYxIC8qPSovLFxuICBBY3Rpb24uRVFUQUlMLFxuICAxMjQgLyp8Ki8sXG4gIEFjdGlvbi5CQVJfQkFSLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zQW1wOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5FTkQsIFtcbiAgMzggLyomKi8sXG4gIEFjdGlvbi5BTVBfQU1QLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zU2xhc2g6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLkVORCwgW1xuICA0MiAvKiAqICovLFxuICBBY3Rpb24uQ09NTUVOVCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc0NvbW1lbnQ6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLkNPTlQsIFtcbiAgNDIgLyogKiAqLyxcbiAgQWN0aW9uLkNPTU1TVCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc0NvbW1lbnRTdGFyOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5DT01NRU5ULCBbXG4gIDQyIC8qICogKi8sXG4gIEFjdGlvbi5DT01NU1QsXG4gIDQ3IC8qIC8gKi8sXG4gIEFjdGlvbi5FTkROT1RLLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zTWludXNNaW51czogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uS0lMTDEsIFtcbiAgNjIgLyogPiAqLyxcbiAgQWN0aW9uLkVORE5PVEssXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNMdDogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uRU5ELCBbXG4gIDYxIC8qPSovLFxuICBBY3Rpb24uRVFUQUlMLFxuICAzMyAvKiEqLyxcbiAgQWN0aW9uLkxUX0JHLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zTHRCYW5nOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5LSUxMMSwgW1xuICA0NSAvKi0qLyxcbiAgQWN0aW9uLkxUX0JHX00sXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNMdEJhbmdNaW51czogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uS0lMTDIsIFtcbiAgNDUgLyotKi8sXG4gIEFjdGlvbi5FTkROT1RLLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zSWRlbnRFc2NDaHI6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLklERVNDSCwgW1xuICA5IC8qdGFiKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICAxMCAvKkxGKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICAxMyAvKkNSKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICAzMiAvKnNwKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zU3RyMTogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICAzOSAvKicqLyxcbiAgQWN0aW9uLkVORFNUUixcbiAgMTAgLypMRiovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgMTMgLypDUiovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgOTIgLypcXCovLFxuICBBY3Rpb24uU1RSMUVTQyxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1N0cjI6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLkNPTlQsIFtcbiAgMzQgLypcIiovLFxuICBBY3Rpb24uRU5EU1RSLFxuICAxMCAvKkxGKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICAxMyAvKkNSKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICA5MiAvKlxcKi8sXG4gIEFjdGlvbi5TVFIyRVNDLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zU3RyMUVzYzogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICAzOSAvKicqLyxcbiAgQWN0aW9uLkVOREVTVFIsXG4gIDEwIC8qTEYqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDEzIC8qQ1IqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDkyIC8qXFwqLyxcbiAgQWN0aW9uLlNUUjFFU0MsXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNTdHIyRXNjOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5DT05ULCBbXG4gIDM0IC8qXCIqLyxcbiAgQWN0aW9uLkVOREVTVFIsXG4gIDEwIC8qTEYqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDEzIC8qQ1IqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDkyIC8qXFwqLyxcbiAgQWN0aW9uLlNUUjJFU0MsXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNVUkw6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLlVSTCwgW1xuICA5IC8qdGFiKi8sXG4gIEFjdGlvbi5DT05ULFxuICAzMiAvKnNwKi8sXG4gIEFjdGlvbi5DT05ULFxuICAzNCAvKlwiKi8sXG4gIEFjdGlvbi5VUkwyLFxuICAzOSAvKicqLyxcbiAgQWN0aW9uLlVSTDEsXG4gIDQxIC8qKSovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgMTAgLypMRiovLFxuICBBY3Rpb24uQ09OVCxcbiAgMTMgLypDUiovLFxuICBBY3Rpb24uQ09OVCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1VSTEluc2lkZTogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICA0MSAvKikqLyxcbiAgQWN0aW9uLkVORFVSTCxcbiAgOSAvKlRBQiovLFxuICBBY3Rpb24uQ0hLU1AsXG4gIDEwIC8qTEYqLyxcbiAgQWN0aW9uLkNIS1NQLFxuICAxMyAvKkNSKi8sXG4gIEFjdGlvbi5DSEtTUCxcbiAgMzIgLypzcCovLFxuICBBY3Rpb24uQ0hLU1AsXG4gIDkyIC8qXFwqLyxcbiAgQWN0aW9uLlVSTEVTQyxcbiAgNDAgLyooKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICA5MSAvKlsqLyxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIDkzIC8qXSovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgMTIzIC8qeyovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgMTI1IC8qfSovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgTmFOLFxuICBBY3Rpb24uRU5EVVJMLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zVVJMSW5zaWRlMTogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICAzOSAvKicqLyxcbiAgQWN0aW9uLlRFUk1VUkwsXG4gIDEwIC8qTEYqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDEzIC8qQ1IqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDkyIC8qXFwqLyxcbiAgQWN0aW9uLlVSTEVTQyxcbiAgTmFOLFxuICBBY3Rpb24uRU5EVVJMLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zVVJMSW5zaWRlMjogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICAzNCAvKlwiKi8sXG4gIEFjdGlvbi5URVJNVVJMLFxuICAxMCAvKkxGKi8sXG4gIEFjdGlvbi5DSEtQT1NOLFxuICAxMyAvKkNSKi8sXG4gIEFjdGlvbi5DSEtQT1NOLFxuICA5MiAvKlxcKi8sXG4gIEFjdGlvbi5VUkxFU0MsXG4gIE5hTixcbiAgQWN0aW9uLkVORFVSTCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1VSTFRhaWw6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLklOVkFMSUQsIFtcbiAgOSAvKnRhYiovLFxuICBBY3Rpb24uQ09OVCxcbiAgMTAgLypMRiovLFxuICBBY3Rpb24uQ09OVCxcbiAgMTMgLypDUiovLFxuICBBY3Rpb24uQ09OVCxcbiAgMzIgLypzcCovLFxuICBBY3Rpb24uQ09OVCxcbiAgNDEgLyopKi8sXG4gIEFjdGlvbi5GSU5VUkwsXG5dKTtcblxuZXhwb3J0IGNvbnN0IElOSVRJQUxfSU5ERVhfTUFTSyA9IDE1O1xuXG5leHBvcnQgY2xhc3MgVG9rZW5pemVyIHtcbiAgaW5kZXhNYXNrOiBudW1iZXI7XG4gIGJ1ZmZlcjogVG9rZW5bXTtcbiAgaGVhZDogbnVtYmVyID0gLTE7IC8vIHNhdmVkLCBvY2N1cGllZCBpZiA+PSAwXG4gIHRhaWw6IG51bWJlciA9IDA7IC8vIGF2YWlsYWJsZSwgcmVhZHkgdG8gd3JpdGVcbiAgY3VycjogbnVtYmVyID0gMDsgLy8gcmVhZHkgdG8gcmVhZFxuICBwb3NpdGlvbjogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgaW5wdXQ6IHN0cmluZywgcHVibGljIHJlYWRvbmx5IGhhbmRsZXI6IFRva2VuaXplckhhbmRsZXIpIHtcbiAgICB0aGlzLmluZGV4TWFzayA9IElOSVRJQUxfSU5ERVhfTUFTSztcbiAgICB0aGlzLmJ1ZmZlciA9IEFycmF5KHRoaXMuaW5kZXhNYXNrICsgMSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy5pbmRleE1hc2s7IGkrKykge1xuICAgICAgdGhpcy5idWZmZXJbaV0gPSBuZXcgVG9rZW4oKTtcbiAgICB9XG4gIH1cblxuICB0b2tlbigpOiBUb2tlbiB7XG4gICAgaWYgKHRoaXMudGFpbCA9PSB0aGlzLmN1cnIpIHtcbiAgICAgIHRoaXMuZmlsbEJ1ZmZlcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5jdXJyXTtcbiAgfVxuXG4gIG50aFRva2VuKG46IG51bWJlcik6IFRva2VuIHtcbiAgICBpZiAoKCh0aGlzLnRhaWwgLSB0aGlzLmN1cnIpICYgdGhpcy5pbmRleE1hc2spIDw9IG4pIHtcbiAgICAgIHRoaXMuZmlsbEJ1ZmZlcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5idWZmZXJbKHRoaXMuY3VyciArIG4pICYgdGhpcy5pbmRleE1hc2tdO1xuICB9XG5cbiAgY29uc3VtZSgpOiB2b2lkIHtcbiAgICB0aGlzLmN1cnIgPSAodGhpcy5jdXJyICsgMSkgJiB0aGlzLmluZGV4TWFzaztcbiAgfVxuXG4gIG1hcmsoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaGVhZCA+PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX0NTU1RPS19CQURfQ0FMTCBtYXJrXCIpO1xuICAgIH1cbiAgICB0aGlzLmhlYWQgPSB0aGlzLmN1cnI7XG4gIH1cblxuICByZXNldCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5oZWFkIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRl9DU1NUT0tfQkFEX0NBTEwgcmVzZXRcIik7XG4gICAgfVxuICAgIHRoaXMuY3VyciA9IHRoaXMuaGVhZDtcbiAgICB0aGlzLmhlYWQgPSAtMTtcbiAgfVxuXG4gIHVubWFyaygpOiB2b2lkIHtcbiAgICB0aGlzLmhlYWQgPSAtMTtcbiAgfVxuXG4gIGhhc01hcmsoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaGVhZCA+PSAwO1xuICB9XG5cbiAgcHJpdmF0ZSByZWFsbG9jYXRlKCk6IHZvaWQge1xuICAgIGNvbnN0IG5ld0luZGV4TWFzayA9IDIgKiAodGhpcy5pbmRleE1hc2sgKyAxKSAtIDE7XG4gICAgY29uc3QgbmV3QnVmZmVyOiBUb2tlbltdID0gQXJyYXkobmV3SW5kZXhNYXNrICsgMSk7XG4gICAgbGV0IG9sZEluZGV4ID0gdGhpcy5oZWFkO1xuICAgIGxldCBuZXdJbmRleCA9IDA7XG4gICAgd2hpbGUgKG9sZEluZGV4ICE9IHRoaXMudGFpbCkge1xuICAgICAgbmV3QnVmZmVyW25ld0luZGV4XSA9IHRoaXMuYnVmZmVyW29sZEluZGV4XTtcbiAgICAgIGlmIChvbGRJbmRleCA9PSB0aGlzLmN1cnIpIHtcbiAgICAgICAgdGhpcy5jdXJyID0gbmV3SW5kZXg7XG4gICAgICB9XG4gICAgICBvbGRJbmRleCA9IChvbGRJbmRleCArIDEpICYgdGhpcy5pbmRleE1hc2s7XG4gICAgICBuZXdJbmRleCsrO1xuICAgIH1cbiAgICB0aGlzLmhlYWQgPSAwO1xuICAgIHRoaXMudGFpbCA9IG5ld0luZGV4O1xuICAgIHRoaXMuaW5kZXhNYXNrID0gbmV3SW5kZXhNYXNrO1xuICAgIHRoaXMuYnVmZmVyID0gbmV3QnVmZmVyO1xuICAgIHdoaWxlIChuZXdJbmRleCA8PSBuZXdJbmRleE1hc2spIHtcbiAgICAgIG5ld0J1ZmZlcltuZXdJbmRleCsrXSA9IG5ldyBUb2tlbigpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZXJyb3IocG9zaXRpb24sIHRva2VuLCBtbmVtb25pY3MpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVyKSB7XG4gICAgICB0aGlzLmhhbmRsZXIuZXJyb3IobW5lbW9uaWNzLCB0b2tlbik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBmaWxsQnVmZmVyKCk6IHZvaWQge1xuICAgIGxldCB0YWlsID0gdGhpcy50YWlsO1xuICAgIGxldCBoZWFkID0gdGhpcy5oZWFkID49IDAgPyB0aGlzLmhlYWQgOiB0aGlzLmN1cnI7XG4gICAgbGV0IGluZGV4TWFzayA9IHRoaXMuaW5kZXhNYXNrO1xuICAgIGlmICh0YWlsID49IGhlYWQpIHtcbiAgICAgIGhlYWQgKz0gaW5kZXhNYXNrO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkLS07XG4gICAgfVxuICAgIGlmIChoZWFkID09IHRhaWwpIHtcbiAgICAgIC8vIG9ubHkgZXhwZWN0IHRvIGdldCBoZXJlIHdoZW4gbWFyayBpcyBpbiBlZmZlY3RcbiAgICAgIGlmICh0aGlzLmhlYWQgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZfQ1NTVE9LX0lOVEVSTkFMXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZWFsbG9jYXRlKCk7XG4gICAgICB0YWlsID0gdGhpcy50YWlsO1xuICAgICAgaW5kZXhNYXNrID0gdGhpcy5pbmRleE1hc2s7XG4gICAgICBoZWFkID0gaW5kZXhNYXNrOyAvLyB0aGlzLmhlYWQgaXMgemVyb1xuICAgIH1cbiAgICBsZXQgYWN0aW9ucyA9IGFjdGlvbnNOb3JtYWw7XG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLmlucHV0O1xuICAgIGxldCBwb3NpdGlvbiA9IHRoaXMucG9zaXRpb247XG4gICAgY29uc3QgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgbGV0IHRva2VuVHlwZTogVG9rZW5UeXBlID0gVG9rZW5UeXBlLkVPRjtcbiAgICBsZXQgdG9rZW5Qb3NpdGlvbjogbnVtYmVyID0gMDtcbiAgICBsZXQgdG9rZW5UZXh0OiBzdHJpbmcgPSBcIlwiO1xuICAgIGxldCB0b2tlbk51bTogbnVtYmVyID0gMDtcbiAgICBsZXQgc2VlblNwYWNlID0gZmFsc2U7XG4gICAgbGV0IHRva2VuOiBUb2tlbiA9IGJ1ZmZlclt0YWlsXTtcbiAgICBsZXQgYmFja3NsYXNoUG9zID0gLTk7IC8vIGZhciBlbm91Z2ggYmVmb3JlIHRoZSBzdGFydCBvZiB0aGUgc3RyaW5nXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IGNoYXJDb2RlID0gaW5wdXQuY2hhckNvZGVBdChwb3NpdGlvbik7XG4gICAgICBzd2l0Y2ggKGFjdGlvbnNbY2hhckNvZGVdIHx8IGFjdGlvbnNbNjVdIC8qQSovKSB7XG4gICAgICAgIGNhc2UgQWN0aW9uLklOVkFMSUQ6XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLklOVkFMSUQ7XG4gICAgICAgICAgaWYgKGlzTmFOKGNoYXJDb2RlKSkge1xuICAgICAgICAgICAgdG9rZW5UZXh0ID0gXCJFX0NTU19VTkVYUEVDVEVEX0VPRlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b2tlblRleHQgPSBcIkVfQ1NTX1VORVhQRUNURURfQ0hBUlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc05vcm1hbDtcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5TUEFDRTpcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIHNlZW5TcGFjZSA9IHRydWU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLklOVDpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0ludDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uSURFTlQ6XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLklERU5UO1xuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zSWRlbnQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkJBTkc6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkJBTkc7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNDaGVja0VxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TVFIxOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5TVFI7XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIGFmdGVyIHF1b3RlXG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNTdHIxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TVFIyOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5TVFI7XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIGFmdGVyIHF1b3RlXG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNTdHIyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5IQVNIOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSArK3Bvc2l0aW9uOyAvLyBhZnRlciBoYXNoXG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkhBU0g7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNJZGVudDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRE9MTEFSOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5ET0xMQVI7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNDaGVja0VxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5QRVJDRU5UOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5QRVJDRU5UO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5BTVA6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkRPTExBUjtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0FtcDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uT19QQVI6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLk9fUEFSO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5DX1BBUjpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuQ19QQVI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNUQVI6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLlNUQVI7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNDaGVja0VxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5QTFVTOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5QTFVTO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5DT01NQTpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuQ09NTUE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLk1JTlVTOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5NSU5VUztcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc01pbnVzO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5ET1Q6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNOdW1PckNsYXNzO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5UT0NMQVNTOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5DTEFTUztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50O1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TTEFTSDpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuU0xBU0g7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNTbGFzaDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uQ09MT046XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkNPTE9OO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zQ29sb247XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkNPTF9DT0w6XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuQ09MX0NPTDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VNSUNPTDpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuU0VNSUNPTDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uTFQ6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkxUO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zTHQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVROlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5FUTtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0NoZWNrRXE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkdUOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5HVDtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0NoZWNrRXE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlFNQVJLOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5RTUFSSztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uQVQ6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIGFmdGVyIFwiYXRcIiBzaWduXG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkFUO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zSWRlbnQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLk9fQlJLOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5PX0JSSztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uQ19CUks6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkNfQlJLO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5PX0JSQzpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuT19CUkM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkNfQlJDOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5DX0JSQztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uQlNMQVNIOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIGJhY2tzbGFzaFBvcyA9IHRva2VuUG9zaXRpb247XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLklERU5UO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zSWRlbnRFc2NDaHI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkhBVDpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuSEFUO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zQ2hlY2tFcTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uQkFSOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5CQVI7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNCYXI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlRJTERFOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5USUxERTtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0NoZWNrRXE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVORDpcbiAgICAgICAgICAvLyBkb24ndCBjb25zdW1lIGN1cnJlbnQgY2hhclxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5FUVRBSUw6XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSAodG9rZW5UeXBlICtcbiAgICAgICAgICAgIFRva2VuVHlwZS5CQU5HX0VRIC1cbiAgICAgICAgICAgIFRva2VuVHlwZS5CQU5HKSBhcyBUb2tlblR5cGU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVORElOVDpcbiAgICAgICAgICAvLyBkb24ndCBjb25zdW1lIGN1cnJlbnQgY2hhclxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5JTlQ7XG4gICAgICAgICAgdG9rZW5OdW0gPSBwYXJzZUludChpbnB1dC5zdWJzdHJpbmcodG9rZW5Qb3NpdGlvbiwgcG9zaXRpb24pLCAxMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVORE5VTTpcbiAgICAgICAgICAvLyBkb24ndCBjb25zdW1lIGN1cnJlbnQgY2hhclxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5OVU07XG4gICAgICAgICAgdG9rZW5OdW0gPSBwYXJzZUZsb2F0KGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5DT05UOlxuICAgICAgICAgIC8vIGp1c3QgY29uc3VtZSBjdXJyZW50IGNoYXJcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5VTklUOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5OVU1FUklDO1xuICAgICAgICAgIHRva2VuTnVtID0gcGFyc2VGbG9hdChpbnB1dC5zdWJzdHJpbmcodG9rZW5Qb3NpdGlvbiwgcG9zaXRpb24pKTtcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50O1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5QQ1VOSVQ6XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLk5VTUVSSUM7XG4gICAgICAgICAgdG9rZW5OdW0gPSBwYXJzZUZsb2F0KGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIHRva2VuVGV4dCA9IFwiJVwiO1xuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrOyAvLyBmb3IgY29uc2lzdGVuY3kgd2l0aCBhbHBoYWJldGljIHVuaXRzXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLk5VTUJFUjpcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zTnVtYmVyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FTkRJRE5UOlxuICAgICAgICAgIC8vIGRvbid0IGNvbnN1bWUgY3VycmVudCBjaGFyXG4gICAgICAgICAgLy8gdG9rZW5UeXBlIHNob3VsZCBiZSBzZXQgYWxyZWFkeVxuICAgICAgICAgIHRva2VuVGV4dCA9IGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLklETlRFU0M6XG4gICAgICAgICAgYmFja3NsYXNoUG9zID0gcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50RXNjQ2hyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FTkRJREVTOlxuICAgICAgICAgIC8vIGVuZCBvZiBpZGVudGlmaWVyIHdpdGggZXNjYXBlc1xuICAgICAgICAgIC8vIGRvbid0IGNvbnN1bWUgY3VycmVudCBjaGFyXG4gICAgICAgICAgLy8gdG9rZW5UeXBlIHNob3VsZCBiZSBzZXQgYWxyZWFkeVxuICAgICAgICAgIHRva2VuVGV4dCA9IGVzY2FwZVBhcnNlKGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5FTkRTVFI6XG4gICAgICAgICAgdG9rZW5UZXh0ID0gaW5wdXQuc3Vic3RyaW5nKHRva2VuUG9zaXRpb24sIHBvc2l0aW9uKTsgLy8gY29uc3VtZSBjbG9zaW5nIHF1b3RlXG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uRU5ERVNUUjpcbiAgICAgICAgICB0b2tlblRleHQgPSBlc2NhcGVQYXJzZShpbnB1dC5zdWJzdHJpbmcodG9rZW5Qb3NpdGlvbiwgcG9zaXRpb24pKTsgLy8gY29uc3VtZSBjbG9zaW5nIHF1b3RlXG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uU1RSMUVTQzpcbiAgICAgICAgICBiYWNrc2xhc2hQb3MgPSBwb3NpdGlvbjtcbiAgICAgICAgICBwb3NpdGlvbiArPSAyOyAvLyBjb25zdW1lIGNoYXJhY3RlciBhZnRlciBiYWNrc2xhc2ggaW4gYW55IGNhc2VcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc1N0cjFFc2M7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNUUjJFU0M6XG4gICAgICAgICAgYmFja3NsYXNoUG9zID0gcG9zaXRpb247XG4gICAgICAgICAgcG9zaXRpb24gKz0gMjsgLy8gY29uc3VtZSBjaGFyYWN0ZXIgYWZ0ZXIgYmFja3NsYXNoIGluIGFueSBjYXNlXG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNTdHIyRXNjO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5CQVJfQkFSOlxuICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkJBUl9CQVI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkFNUF9BTVA6XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuQU1QX0FNUDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uRlVOQzpcbiAgICAgICAgICAvLyB0b2tlblR5cGUgY2FuIGJlIFRva2VuVHlwZS5JREVOVCxcbiAgICAgICAgICAvLyBUb2tlblR5cGUuQ0xBU1MsIFRva2VuVHlwZS5BVCxcbiAgICAgICAgICAvLyBUb2tlblR5cGUuSEFTSCwgVG9rZW5UeXBlLk5VTUVSSUNcbiAgICAgICAgICB0b2tlblRleHQgPSBpbnB1dC5zdWJzdHJpbmcodG9rZW5Qb3NpdGlvbiwgcG9zaXRpb24pO1xuICAgICAgICAgIGlmICh0b2tlblR5cGUgPT0gVG9rZW5UeXBlLklERU5UKSB7XG4gICAgICAgICAgICBwb3NpdGlvbisrOyAvLyBjb25zdW1lXG4gICAgICAgICAgICBpZiAodG9rZW5UZXh0LnRvTG93ZXJDYXNlKCkgPT0gXCJ1cmxcIikge1xuICAgICAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc1VSTDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuRlVOQztcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkZVTkNFUzpcbiAgICAgICAgICAvLyB0b2tlblR5cGUgY2FuIGJlIFRva2VuVHlwZS5JREVOVCxcbiAgICAgICAgICAvLyBUb2tlblR5cGUuQ0xBU1MsIFRva2VuVHlwZS5BVCxcbiAgICAgICAgICAvLyBUb2tlblR5cGUuSEFTSCwgVF9OVU1FUklDXG4gICAgICAgICAgdG9rZW5UZXh0ID0gZXNjYXBlUGFyc2UoaW5wdXQuc3Vic3RyaW5nKHRva2VuUG9zaXRpb24sIHBvc2l0aW9uKSk7XG4gICAgICAgICAgaWYgKHRva2VuVHlwZSA9PSBUb2tlblR5cGUuSURFTlQpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uKys7IC8vIGNvbnN1bWVcbiAgICAgICAgICAgIGlmICh0b2tlblRleHQudG9Mb3dlckNhc2UoKSA9PSBcInVybFwiKSB7XG4gICAgICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zVVJMO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5GVU5DO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uQ09NTUVOVDpcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0NvbW1lbnQ7XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uQ09NTVNUOlxuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zQ29tbWVudFN0YXI7XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRU5ETk9USzpcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc05vcm1hbDtcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5NSU5NSU46XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNNaW51c01pbnVzO1xuICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlRPSU5UOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5JTlQ7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNJbnQ7XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVE9OVU06XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLk5VTTtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc051bWJlcjtcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5UT0lERU5UOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5JREVOVDtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50O1xuICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlRPSURFUzpcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuSURFTlQ7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNJZGVudEVzY0NocjtcbiAgICAgICAgICBiYWNrc2xhc2hQb3MgPSBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5LSUxMMTpcbiAgICAgICAgICBwb3NpdGlvbi0tO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5LSUxMMjpcbiAgICAgICAgICBwb3NpdGlvbiAtPSAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5VUkw6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNVUkxJbnNpZGU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlVSTDE6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIHNraXAgcXVvdGVcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc1VSTEluc2lkZTE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlVSTDI6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIHNraXAgcXVvdGVcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc1VSTEluc2lkZTI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVORFVSTDpcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuVVJMO1xuICAgICAgICAgIHRva2VuVGV4dCA9IGVzY2FwZVBhcnNlKGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIHBvc2l0aW9uKys7IC8vIHNraXAgJyknXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkZJTlVSTDpcbiAgICAgICAgICBwb3NpdGlvbisrOyAvLyBza2lwICcpJ1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5MVF9CRzpcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0x0QmFuZztcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5MVF9CR19NOlxuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zTHRCYW5nTWludXM7XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uQ0hLU1A6XG4gICAgICAgICAgLy8gbmV3bGluZSBpbiBub24tcXVvdGVkIFVSTCAtIGNoZWNrIGlmIGVuZCBvZiB1cmxcbiAgICAgICAgICBpZiAocG9zaXRpb24gLSBiYWNrc2xhc2hQb3MgPCA4KSB7XG4gICAgICAgICAgICAvLyBjbG9zZSBlbm91Z2g6IG1heSBiZSB2YWxpZFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBpbnB1dFxuICAgICAgICAgICAgICAgIC5zdWJzdHJpbmcoYmFja3NsYXNoUG9zICsgMSwgcG9zaXRpb24gKyAxKVxuICAgICAgICAgICAgICAgIC5tYXRjaCgvXlswLTlhLWZBLUZdezAsNn0oXFxyXFxufFtcXG5cXHJdKXxbIFxcdF0kLylcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAvLyB2YWxpZCwga2VlcCBnb2luZ1xuICAgICAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgLy8gZW5kIG9mIHVybFxuICAgICAgICAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgY2FzZSBBY3Rpb24uVEVSTVVSTDpcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuVVJMO1xuICAgICAgICAgIHRva2VuVGV4dCA9IGVzY2FwZVBhcnNlKGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIHBvc2l0aW9uKys7IC8vIHNraXAgcXVvdGUgKG9yIG5ld2xpbmUpXG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNVUkxUYWlsO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5DSEtQT1NOOlxuICAgICAgICAgIC8vIG5ld2xpbmUgaW4gc3RyaW5nIG9yIHF1b3RlZCBVUkwgLSBjaGVjayB2YWxpZGl0eVxuICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgaWYgKHBvc2l0aW9uIC0gYmFja3NsYXNoUG9zIDwgOSkge1xuICAgICAgICAgICAgLy8gY2xvc2UgZW5vdWdoOiBtYXkgYmUgdmFsaWRcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgaW5wdXRcbiAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKGJhY2tzbGFzaFBvcyArIDEsIHBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIC5tYXRjaCgvXlswLTlhLWZBLUZdezAsNn0oXFxyXFxufFtcXG5cXHJdKSQvKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIC8vIHZhbGlkLCBrZWVwIGdvaW5nXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGludmFsaWQgdG9rZW5cbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuSU5WQUxJRDtcbiAgICAgICAgICB0b2tlblRleHQgPSBcIkVfQ1NTX1VORVhQRUNURURfTkVXTElORVwiO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zTm9ybWFsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5DSEtQT1NTOlxuICAgICAgICAgIC8vIHNwYWNlIGluIGlkZW50aWZpZXIgLSBjaGVjayB2YWxpZGl0eVxuICAgICAgICAgIGlmIChwb3NpdGlvbiAtIGJhY2tzbGFzaFBvcyA8IDkpIHtcbiAgICAgICAgICAgIC8vIGNsb3NlIGVub3VnaDogbWF5IGJlIHZhbGlkXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGlucHV0XG4gICAgICAgICAgICAgICAgLnN1YnN0cmluZyhiYWNrc2xhc2hQb3MgKyAxLCBwb3NpdGlvbiArIDEpXG4gICAgICAgICAgICAgICAgLm1hdGNoKC9eWzAtOWEtZkEtRl17MCw2fVsgXFx0XSQvKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIC8vIHZhbGlkLCBrZWVwIGdvaW5nXG4gICAgICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGVuZCBvZiBpZGVudGlmaWVyXG4gICAgICAgICAgLy8gZG9uJ3QgY29uc3VtZSBjdXJyZW50IGNoYXJcbiAgICAgICAgICAvLyB0b2tlblR5cGUgc2hvdWxkIGJlIHNldCBhbHJlYWR5XG4gICAgICAgICAgdG9rZW5UZXh0ID0gZXNjYXBlUGFyc2UoaW5wdXQuc3Vic3RyaW5nKHRva2VuUG9zaXRpb24sIHBvc2l0aW9uKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLlVSTEVTQzpcbiAgICAgICAgICBiYWNrc2xhc2hQb3MgPSBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5JREVTQ0g6XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50RXNjO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIEVPRlxuICAgICAgICAgIGlmIChhY3Rpb25zICE9PSBhY3Rpb25zTm9ybWFsKSB7XG4gICAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuSU5WQUxJRDtcbiAgICAgICAgICAgIHRva2VuVGV4dCA9IFwiRV9DU1NfVU5FWFBFQ1RFRF9TVEFURVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuRU9GO1xuICAgICAgfVxuICAgICAgdG9rZW4udHlwZSA9IHRva2VuVHlwZTtcbiAgICAgIHRva2VuLnByZWNlZGVkQnlTcGFjZSA9IHNlZW5TcGFjZTtcbiAgICAgIHRva2VuLm51bSA9IHRva2VuTnVtO1xuICAgICAgdG9rZW4udGV4dCA9IHRva2VuVGV4dDtcbiAgICAgIHRva2VuLnBvc2l0aW9uID0gdG9rZW5Qb3NpdGlvbjtcbiAgICAgIHRhaWwrKztcbiAgICAgIGlmICh0YWlsID49IGhlYWQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBhY3Rpb25zID0gYWN0aW9uc05vcm1hbDtcbiAgICAgIHNlZW5TcGFjZSA9IGZhbHNlO1xuICAgICAgdG9rZW4gPSBidWZmZXJbdGFpbCAmIGluZGV4TWFza107XG4gICAgfVxuICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICB0aGlzLnRhaWwgPSB0YWlsICYgaW5kZXhNYXNrO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFRhc2sgLSBTdXBwb3J0IGZvciBhc3luY2hyb25vdXMgZXhlY3V0aW9uIGFuZCBjb29wZXJhdGl2ZVxuICogbXVsdGl0YXNraW5nLlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuXG4vKipcbiAqIEV4dGVybmFsIHRpbWVyLiBPbmx5IG5lZWRlZCBmb3IgdGVzdGluZy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaW1lciB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBjdXJyZW50VGltZSgpOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIENhbGxzIGZ1bmN0aW9uIGFmdGVyIGEgZ2l2ZW4gdGltZW91dC5cbiAgICogQHBhcmFtIGZuIGZ1bmN0aW9uIHRvIGNhbGwuXG4gICAqIEBwYXJhbSBkZWxheSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcy5cbiAgICogQHJldHVybiB1bmlxdWUgbnVtYmVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2xlYXIgdGhlIHRpbWVvdXQuXG4gICAqL1xuICBzZXRUaW1lb3V0KGZuOiAoKSA9PiB2b2lkLCBkZWxheTogbnVtYmVyKTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBDYWxscyBmdW5jdGlvbiBhZnRlciBhIGdpdmVuIHRpbWVvdXQuXG4gICAqIEBwYXJhbSB0b2tlbiB0aW1lb3V0IHRva2VuLlxuICAgKiBAcmV0dXJuLlxuICAgKi9cbiAgY2xlYXJUaW1lb3V0KHRva2VuOiBudW1iZXIpOiB2b2lkO1xufVxuXG4vKipcbiAqIFJlc3VsdCBvZiBhbiBhc3luY2hyb25vdXMgZnVuY3Rpb24gdGhhdCBtYXkgYmUgYXZhaWxhYmxlIGltbWVkaWF0ZWx5IG9yXG4gKiBzb21lIHRpbWUgbGF0ZXIuIFNpbWlsYXIgdG8gRGVmZXJyZWQuXG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3VsdDxUPiB7XG4gIC8qKlxuICAgKiBDYWxsIHRoZSBnaXZlbiBmdW5jdGlvbiB3aGVuIGFzeW5jaHJvbm91cyBmdW5jdGlvbiBpcyBmaW5pc2hlZC4gQ2FsbGJhY2tcbiAgICogaXMgZXhlY3V0ZWQgaW4gdGhlIHRhc2sncyBjb250ZXh0LlxuICAgKi9cbiAgdGhlbihjYWxsYmFjazogKHAxOiBUKSA9PiB2b2lkKTogdm9pZDtcblxuICAvKipcbiAgICogQ2FsbCB0aGUgZ2l2ZW4gYXN5bmNocm9ub3VzIGZ1bmN0aW9uIHdoZW4gc29tZSBhc3luY2hyb25vdXMgZnVuY3Rpb24gaXNcbiAgICogZmluaXNoZWQuIENhbGxiYWNrIGlzIGV4ZWN1dGVkIGluIHRoZSB0YXNrJ3MgY29udGV4dC5cbiAgICogQHRlbXBsYXRlIFQxXG4gICAqL1xuICB0aGVuQXN5bmM8VDE+KGNhbGxiYWNrOiAocDE6IFQpID0+IFJlc3VsdDxUMT4pOiBSZXN1bHQ8VDE+O1xuXG4gIC8qKlxuICAgKiBQcm9kdWNlIGEgUmVzdWx0IHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGdpdmVuIHZhbHVlIHdoZW4gdGhpcyBSZXN1bHQgaXNcbiAgICogcmVzb2x2ZWQuXG4gICAqIEB0ZW1wbGF0ZSBUMVxuICAgKi9cbiAgdGhlblJldHVybjxUMT4ocmVzdWx0OiBUMSk6IFJlc3VsdDxUMT47XG5cbiAgLyoqXG4gICAqIEZpbmlzaCBnaXZlbiBmcmFtZSB3aXRoIHRoZSByZXN1bHQgdmFsdWUgd2hlbiByZXN1bHQgYmVjb21lcyByZWFkeS5cbiAgICovXG4gIHRoZW5GaW5pc2goZnJhbWU6IEZyYW1lPFQ+KTogdm9pZDtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhpcyBSZXN1bHQgaXMgc3RpbGwgcGVuZGluZy5cbiAgICovXG4gIGlzUGVuZGluZygpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJZiB0aGlzIFJlc3VsdCBpcyByZXNvbHZlZCwgcmV0dXJuIHRoZSB2YWx1ZSB0aGF0IGl0IGhvbGRzLlxuICAgKi9cbiAgZ2V0KCk6IFQgfCBudWxsO1xufVxuXG5leHBvcnQgbGV0IHByaXZhdGVDdXJyZW50VGFzazogVGFzayB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgbGV0IHByaW1hcnlTY2hlZHVsZXI6IFNjaGVkdWxlciB8IG51bGwgPSBudWxsO1xuXG4vKipcbiAqIFJldHVybnMgY3VycmVudCB0YXNrLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3VycmVudFRhc2soKTogVGFzayB8IG51bGwge1xuICByZXR1cm4gcHJpdmF0ZUN1cnJlbnRUYXNrO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgbmV3IGZyYW1lIHdpdGggdGhlIGdpdmVuIG5hbWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuZXdGcmFtZTxUPihuYW1lOiBzdHJpbmcpOiBGcmFtZTxUPiB7XG4gIGlmICghcHJpdmF0ZUN1cnJlbnRUYXNrKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9UQVNLX05PX0NPTlRFWFRcIik7XG4gIH1cbiAgaWYgKCFwcml2YXRlQ3VycmVudFRhc2submFtZSkge1xuICAgIHByaXZhdGVDdXJyZW50VGFzay5uYW1lID0gbmFtZTtcbiAgfVxuICBjb25zdCB0YXNrID0gcHJpdmF0ZUN1cnJlbnRUYXNrO1xuICBjb25zdCBmcmFtZSA9IG5ldyBGcmFtZTxUPih0YXNrLCB0YXNrLnRvcCwgbmFtZSk7XG4gIHRhc2sudG9wID0gZnJhbWU7XG4gIGZyYW1lLnN0YXRlID0gRnJhbWVTdGF0ZS5BQ1RJVkU7XG4gIHJldHVybiBmcmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5ld0V2ZW50U291cmNlKCk6IEV2ZW50U291cmNlIHtcbiAgcmV0dXJuIG5ldyBFdmVudFNvdXJjZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3U2NoZWR1bGVyKG9wdF90aW1lcj86IFRpbWVyKTogU2NoZWR1bGVyIHtcbiAgcmV0dXJuIG5ldyBTY2hlZHVsZXIob3B0X3RpbWVyIHx8IG5ldyBUaW1lckltcGwoKSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5ld1Jlc3VsdDxUPihvcHRfdmFsdWU6IFQpOiBSZXN1bHQ8VD4ge1xuICByZXR1cm4gbmV3IFN5bmNSZXN1bHRJbXBsPFQ+KG9wdF92YWx1ZSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmcmFtZSBhbmQgcnVucyBjb2RlIGluIGl0cyBjb250ZXh0LCBjYXRjaGluZyBzeW5jaHJvbm91cyBhbmRcbiAqIGFzeW5jaHJvbm91cyBlcnJvcnMuIElmIGFuIGVycm9yIG9jY3Vycywgb25FcnIgaXMgcnVuIChpbiB0aGUgY29udGV4dCBvZlxuICogdGhlIHNhbWUgZnJhbWUpLiBBcyB1c3VhbCwgb25FcnIgaXMgc3VwcG9zZWQgZWl0aGVyIHByb2R1Y2UgYSByZXN1bHQgb3IgcmFpc2VcbiAqIGFuIGV4Y2VwdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZTxUPihcbiAgbmFtZTogYW55LFxuICBjb2RlOiAocDE6IEZyYW1lPFQ+KSA9PiB2b2lkLFxuICBvbkVycjogKHAxOiBGcmFtZTxUPiwgcDI6IEVycm9yKSA9PiB2b2lkLFxuKTogUmVzdWx0PFQ+IHtcbiAgY29uc3QgZnJhbWUgPSBuZXdGcmFtZTxUPihuYW1lKTtcbiAgZnJhbWUuaGFuZGxlciA9IG9uRXJyO1xuICB0cnkge1xuICAgIGNvZGUoZnJhbWUpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBzeW5jaHJvbm91cyBleGNlcHRpb25cbiAgICBmcmFtZS50YXNrLnJhaXNlKGVyciwgZnJhbWUpO1xuICB9XG4gIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0PFQ+KGZ1bmM6ICgpID0+IFJlc3VsdDxUPiwgb3B0X25hbWU/OiBzdHJpbmcpOiBUYXNrIHtcbiAgY29uc3Qgc2NoZWR1bGVyID0gcHJpdmF0ZUN1cnJlbnRUYXNrXG4gICAgPyBwcml2YXRlQ3VycmVudFRhc2suZ2V0U2NoZWR1bGVyKClcbiAgICA6IHByaW1hcnlTY2hlZHVsZXIgfHwgbmV3U2NoZWR1bGVyKCk7XG4gIHJldHVybiBzY2hlZHVsZXIucnVuKGZ1bmMsIG9wdF9uYW1lKTtcbn1cblxuLyoqXG4gKiBGcmFtZSBzdGF0ZS5cbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBlbnVtIEZyYW1lU3RhdGUge1xuICBJTklULCAvLyBiZWZvcmUgbmV3RnJhbWUgY2FsbFxuICBBQ1RJVkUsIC8vIGJlZm9yZSBmaW5pc2ggY2FsbFxuICBGSU5JU0hFRCwgLy8gYmVmb3JlIGNhbGxiYWNrIGNvbXBsZXRlXG4gIERFQUQsIC8vIHdoZW4gY2FsbGJhY2sgaXMgY29tcGxldGVcbn1cbmV4cG9ydCBjbGFzcyBUaW1lckltcGwgaW1wbGVtZW50cyBUaW1lciB7XG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGN1cnJlbnRUaW1lKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkudmFsdWVPZigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2V0VGltZW91dChmbjogKCkgPT4gdm9pZCwgZGVsYXk6IG51bWJlcikge1xuICAgIC8vIEhBQ0s6IGNhc3RpbmcgdG8gdW5rbm93biB0eXBlIHRvIHByZXZlbnQgVHlwZVNjcmlwdCBlcnJvclxuICAgIC8vIFtUUzIzNTJdIENvbnZlcnNpb24gb2YgdHlwZSAnVGltZXInIHRvIHR5cGUgJ251bWJlcicgbWF5IGJlIGEgbWlzdGFrZSBiZWNhdXNlIG5laXRoZXIgdHlwZSBzdWZmaWNpZW50bHkgb3ZlcmxhcHMgd2l0aCB0aGUgb3RoZXIuXG4gICAgY29uc3QgdGltZXI6IHVua25vd24gPSBzZXRUaW1lb3V0KGZuLCBkZWxheSk7XG4gICAgcmV0dXJuIHRpbWVyIGFzIG51bWJlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNsZWFyVGltZW91dCh0b2tlbjogbnVtYmVyKTogdm9pZCB7XG4gICAgY2xlYXJUaW1lb3V0KHRva2VuKTtcbiAgfVxufVxuXG4vKipcbiAqIEEgY2xhc3MgdG8gY3JlYXRlIHRhc2tzLlxuICovXG5leHBvcnQgY2xhc3MgU2NoZWR1bGVyIHtcbiAgdGltZW91dDogbnVtYmVyID0gMTtcbiAgc2xpY2U6IG51bWJlciA9IDI1O1xuICBzbGljZU92ZXJUaW1lOiBudW1iZXIgPSAwO1xuICBxdWV1ZTogQmFzZS5Qcmlvcml0eVF1ZXVlO1xuICB3YWtldXBUaW1lOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgdGltZW91dFRva2VuOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgaW5UaW1lU2xpY2U6IGJvb2xlYW4gPSBmYWxzZTtcbiAgb3JkZXI6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHRpbWVyOiBUaW1lcikge1xuICAgIHRoaXMucXVldWUgPSBuZXcgQmFzZS5Qcmlvcml0eVF1ZXVlKCk7XG4gICAgaWYgKCFwcmltYXJ5U2NoZWR1bGVyKSB7XG4gICAgICBwcmltYXJ5U2NoZWR1bGVyID0gdGhpcztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aW1lIHNsaWNlIGxlbmd0aC5cbiAgICogQHBhcmFtIHNsaWNlIGxlbmd0aCBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBzZXRTbGljZShzbGljZTogbnVtYmVyKSB7XG4gICAgdGhpcy5zbGljZSA9IHNsaWNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGltZW91dCBiZXR3ZWVuIHRpbWUgc2xpY2VzLlxuICAgKiBAcGFyYW0gdGltZW91dCBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBzZXRUaW1lb3V0KHRpbWVvdXQ6IG51bWJlcikge1xuICAgIHRoaXMudGltZW91dCA9IHRpbWVvdXQ7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHRpbWUgc2xpY2UgaXMgb3Zlci5cbiAgICovXG4gIGlzVGltZVNsaWNlT3ZlcigpOiBib29sZWFuIHtcbiAgICBjb25zdCBub3cgPSB0aGlzLnRpbWVyLmN1cnJlbnRUaW1lKCk7XG4gICAgcmV0dXJuIG5vdyA+PSB0aGlzLnNsaWNlT3ZlclRpbWU7XG4gIH1cblxuICBwcml2YXRlIGFybSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pblRpbWVTbGljZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBuZXh0SW5RdWV1ZSA9IHRoaXMucXVldWUucGVlaygpIGFzIENvbnRpbnVhdGlvbjxhbnk+O1xuICAgIGNvbnN0IG5ld1RpbWUgPSBuZXh0SW5RdWV1ZS5zY2hlZHVsZWRUaW1lO1xuICAgIGNvbnN0IG5vdyA9IHRoaXMudGltZXIuY3VycmVudFRpbWUoKTtcbiAgICBpZiAodGhpcy50aW1lb3V0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgaWYgKG5vdyArIHRoaXMudGltZW91dCA+IHRoaXMud2FrZXVwVGltZSkge1xuICAgICAgICByZXR1cm47IC8vIG5vIHVzZSByZS1hcm1pbmdcbiAgICAgIH1cbiAgICAgIHRoaXMudGltZXIuY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dFRva2VuKTtcbiAgICB9XG4gICAgbGV0IHRpbWVvdXQgPSBuZXdUaW1lIC0gbm93O1xuICAgIGlmICh0aW1lb3V0IDw9IHRoaXMudGltZW91dCkge1xuICAgICAgdGltZW91dCA9IHRoaXMudGltZW91dDtcbiAgICB9XG4gICAgdGhpcy53YWtldXBUaW1lID0gbm93ICsgdGltZW91dDtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLnRpbWVvdXRUb2tlbiA9IHRoaXMudGltZXIuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZWxmLnRpbWVvdXRUb2tlbiA9IG51bGw7XG4gICAgICBzZWxmLmRvVGltZVNsaWNlKCk7XG4gICAgfSwgdGltZW91dCk7XG4gIH1cblxuICBzY2hlZHVsZShjb250aW51YXRpb246IENvbnRpbnVhdGlvbjxhbnk+LCBvcHRfZGVsYXk/OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBjID0gY29udGludWF0aW9uIGFzIENvbnRpbnVhdGlvbjxhbnk+O1xuICAgIGNvbnN0IG5vdyA9IHRoaXMudGltZXIuY3VycmVudFRpbWUoKTtcbiAgICBjLm9yZGVyID0gdGhpcy5vcmRlcisrO1xuICAgIGMuc2NoZWR1bGVkVGltZSA9IG5vdyArIChvcHRfZGVsYXkgfHwgMCk7XG4gICAgdGhpcy5xdWV1ZS5hZGQoYyk7XG4gICAgdGhpcy5hcm0oKTtcbiAgfVxuXG4gIHByaXZhdGUgZG9UaW1lU2xpY2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudGltZW91dFRva2VuICE9IG51bGwpIHtcbiAgICAgIHRoaXMudGltZXIuY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dFRva2VuKTtcbiAgICAgIHRoaXMudGltZW91dFRva2VuID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5pblRpbWVTbGljZSA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBub3cgPSB0aGlzLnRpbWVyLmN1cnJlbnRUaW1lKCk7XG4gICAgICB0aGlzLnNsaWNlT3ZlclRpbWUgPSBub3cgKyB0aGlzLnNsaWNlO1xuICAgICAgd2hpbGUgKHRoaXMucXVldWUubGVuZ3RoKCkpIHtcbiAgICAgICAgY29uc3QgY29udGludWF0aW9uID0gdGhpcy5xdWV1ZS5wZWVrKCkgYXMgQ29udGludWF0aW9uPGFueT47XG4gICAgICAgIGlmIChjb250aW51YXRpb24uc2NoZWR1bGVkVGltZSA+IG5vdykge1xuICAgICAgICAgIGJyZWFrOyAvLyB0b28gZWFybHlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnF1ZXVlLnJlbW92ZSgpO1xuICAgICAgICBpZiAoIWNvbnRpbnVhdGlvbi5jYW5jZWxlZCkge1xuICAgICAgICAgIGNvbnRpbnVhdGlvbi5yZXN1bWVJbnRlcm5hbCgpO1xuICAgICAgICB9XG4gICAgICAgIG5vdyA9IHRoaXMudGltZXIuY3VycmVudFRpbWUoKTtcbiAgICAgICAgaWYgKG5vdyA+PSB0aGlzLnNsaWNlT3ZlclRpbWUpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoZXJyKTtcbiAgICB9XG4gICAgdGhpcy5pblRpbWVTbGljZSA9IGZhbHNlO1xuICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCgpKSB7XG4gICAgICB0aGlzLmFybSgpO1xuICAgIH1cbiAgfVxuXG4gIHJ1bihmdW5jOiAoKSA9PiBSZXN1bHQ8YW55Piwgb3B0X25hbWU/OiBzdHJpbmcpOiBUYXNrIHtcbiAgICBjb25zdCB0YXNrID0gbmV3IFRhc2sodGhpcywgb3B0X25hbWUgfHwgXCJcIik7XG4gICAgdGFzay50b3AgPSBuZXcgRnJhbWU8YW55Pih0YXNrLCBudWxsLCBcImJvb3RzdHJhcFwiKTtcbiAgICB0YXNrLnRvcC5zdGF0ZSA9IEZyYW1lU3RhdGUuQUNUSVZFO1xuICAgIHRhc2sudG9wLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3QgZG9uZSA9ICgpID0+IHtcbiAgICAgICAgdGFzay5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3QgY2FsbGJhY2sgb2YgdGFzay5jYWxsYmFja3MpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZnVuYygpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIHRhc2sucmVzdWx0ID0gcmVzdWx0O1xuICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGFzay5yYWlzZShlcnIpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgc2F2ZWRUYXNrID0gcHJpdmF0ZUN1cnJlbnRUYXNrO1xuICAgIHByaXZhdGVDdXJyZW50VGFzayA9IHRhc2s7XG4gICAgdGhpcy5zY2hlZHVsZSh0YXNrLnRvcC5zdXNwZW5kKFwiYm9vdHN0cmFwXCIpKTtcbiAgICBwcml2YXRlQ3VycmVudFRhc2sgPSBzYXZlZFRhc2s7XG4gICAgcmV0dXJuIHRhc2s7XG4gIH1cbn1cblxuLyoqXG4gKiBUYXNrIHN1c3BlbnNpb24gcG9pbnQuXG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgY2xhc3MgQ29udGludWF0aW9uPFQ+IGltcGxlbWVudHMgQmFzZS5Db21wYXJhYmxlIHtcbiAgc2NoZWR1bGVkVGltZTogbnVtYmVyID0gMDtcbiAgb3JkZXI6IG51bWJlciA9IDA7XG4gIHJlc3VsdDogVCA9IG51bGw7XG4gIGNhbmNlbGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHRhc2s6IFRhc2spIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY29tcGFyZShvdGhlckNvbXA6IEJhc2UuQ29tcGFyYWJsZSk6IG51bWJlciB7XG4gICAgLy8gZWFybGllciB3aW5zXG4gICAgY29uc3Qgb3RoZXIgPSBvdGhlckNvbXAgYXMgQ29udGludWF0aW9uPGFueT47XG4gICAgcmV0dXJuIG90aGVyLnNjaGVkdWxlZFRpbWUgLSB0aGlzLnNjaGVkdWxlZFRpbWUgfHwgb3RoZXIub3JkZXIgLSB0aGlzLm9yZGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnRpbnVhdGlvbidzIHRhc2tcbiAgICovXG4gIGdldFRhc2soKTogVGFzayB7XG4gICAgcmV0dXJuIHRoaXMudGFzaztcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2hlZHVsZSB0YXNrIGNvbnRpbnVhdGlvbiBhZnRlciB0aGUgZ2l2ZW4gKG9wdGlvbmFsKSBkZWxheS5cbiAgICogQHBhcmFtIG9wdF9kZWxheSBvcHRpb25hbCBkZWxheSBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBzY2hlZHVsZShyZXN1bHQ6IFQsIG9wdF9kZWxheT86IG51bWJlcikge1xuICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0O1xuICAgIHRoaXMudGFzay5zY2hlZHVsZXIuc2NoZWR1bGUodGhpcywgb3B0X2RlbGF5KTtcbiAgfVxuXG4gIHJlc3VtZUludGVybmFsKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHRhc2sgPSB0aGlzLnRhc2s7XG4gICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICBpZiAodGFzayAmJiB0YXNrLmNvbnRpbnVhdGlvbiA9PSB0aGlzKSB7XG4gICAgICB0YXNrLmNvbnRpbnVhdGlvbiA9IG51bGw7XG4gICAgICBjb25zdCBzYXZlZFRhc2sgPSBwcml2YXRlQ3VycmVudFRhc2s7XG4gICAgICBwcml2YXRlQ3VycmVudFRhc2sgPSB0YXNrO1xuICAgICAgdGFzay50b3AuZmluaXNoKHRoaXMucmVzdWx0KTtcbiAgICAgIHByaXZhdGVDdXJyZW50VGFzayA9IHNhdmVkVGFzaztcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VsIGNvbnRpbnVhdGlvblxuICAgKi9cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuY2FuY2VsZWQgPSB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogQW4gYXN5bmNocm9ub3VzLCB0aW1lLXNsaWNlZCB0YXNrLlxuICovXG5leHBvcnQgY2xhc3MgVGFzayB7XG4gIGNhbGxiYWNrczogKCgpID0+IHZvaWQpW10gPSBbXTtcbiAgZXhjZXB0aW9uOiBFcnJvciB8IG51bGwgPSBudWxsO1xuICBydW5uaW5nOiBib29sZWFuID0gdHJ1ZTtcbiAgcmVzdWx0OiBhbnkgPSBudWxsO1xuICB3YWl0VGFyZ2V0OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgdG9wOiBGcmFtZTxhbnk+IHwgbnVsbCA9IG51bGw7XG4gIGNvbnRpbnVhdGlvbjogQ29udGludWF0aW9uPGFueT4gfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgc2NoZWR1bGVyOiBTY2hlZHVsZXIsIHB1YmxpYyBuYW1lOiBzdHJpbmcpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gdGFzayBuYW1lLlxuICAgKi9cbiAgZ2V0TmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLm5hbWU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGVyciBleGNlcHRpb24gdG8gdGhyb3cgaW4gdGhlIHRhc2sncyBjb250ZXh0LlxuICAgKi9cbiAgaW50ZXJydXB0KGVycjogRXJyb3IpOiB2b2lkIHtcbiAgICB0aGlzLnJhaXNlKGVyciB8fCBuZXcgRXJyb3IoXCJFX1RBU0tfSU5URVJSVVBUXCIpKTtcbiAgICBpZiAodGhpcyAhPT0gcHJpdmF0ZUN1cnJlbnRUYXNrICYmIHRoaXMuY29udGludWF0aW9uKSB7XG4gICAgICAvLyBibG9ja2VkIG9uIHNvbWV0aGluZ1xuICAgICAgdGhpcy5jb250aW51YXRpb24uY2FuY2VsKCk7XG4gICAgICBjb25zdCBjb250aW51YXRpb24gPSBuZXcgQ29udGludWF0aW9uKHRoaXMpO1xuICAgICAgdGhpcy53YWl0VGFyZ2V0ID0gXCJpbnRlcnJ1cHRcIjtcbiAgICAgIHRoaXMuY29udGludWF0aW9uID0gY29udGludWF0aW9uO1xuICAgICAgdGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUoY29udGludWF0aW9uKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB0aGlzIHRhc2sncyBzY2hlZHVsZXIuXG4gICAqL1xuICBnZXRTY2hlZHVsZXIoKTogU2NoZWR1bGVyIHtcbiAgICByZXR1cm4gdGhpcy5zY2hlZHVsZXI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB0cnVlIGlmIHRhc2sgaXMgc3RpbGwgcnVubmluZy5cbiAgICovXG4gIGlzUnVubmluZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5ydW5uaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHRhc2sgaXMgZG9uZS4gQ2FsbGJhY2sgaXMgbm90XG4gICAqIGV4ZWN1dGVkIGluIGFueSB0YXNrIGNvbnRleHQuIE11bHRpcGxlIGNhbGxiYWNrcyBjYW4gYmUgcmVnaXN0ZXJlZCBhbmRcbiAgICogdGhleSB3aWxsIGJlIGNhbGxlZCBpbiB0aGUgcmVnaXN0cmF0aW9uIG9yZGVyLlxuICAgKi9cbiAgd2hlbkRvbmUoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXYWl0IGZvciB0YXNrIHRvIGZpbmlzaCAoZnJvbSBhbm90aGVyIHRhc2spLlxuICAgKi9cbiAgam9pbigpOiBSZXN1bHQ8YW55PiB7XG4gICAgY29uc3QgZnJhbWUgPSBuZXdGcmFtZTxhbnk+KFwiVGFzay5qb2luXCIpO1xuICAgIGlmICghdGhpcy5ydW5uaW5nKSB7XG4gICAgICBmcmFtZS5maW5pc2godGhpcy5yZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjb250aW51YXRpb24gPSBmcmFtZS5zdXNwZW5kKHRoaXMpO1xuICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICB0aGlzLndoZW5Eb25lKCgpID0+IHtcbiAgICAgICAgY29udGludWF0aW9uLnNjaGVkdWxlKHNlbGYucmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogVW53aW5kIHRoZSBzdGFjay4gV2UgaGF2ZSB0d28gc3RhY2tzOiBhc3luYyAobWFpbnRhaW5lZCBieSBmcmFtZVxuICAgKiBwYXJlbnQgbGluaykgYW5kIHN5bmMgKHJlZ3VsYXIgSmF2YVNjcmlwdCBzdGFjaykuXG4gICAqL1xuICB1bndpbmQoKSB7XG4gICAgLy8gV2UgaGF2ZSBhIHNlcXVlbmNlIG9mIGZyYW1lcyBvbiB0aGUgc3RhY2suXG4gICAgd2hpbGUgKHRoaXMudG9wICYmICF0aGlzLnRvcC5oYW5kbGVyKSB7XG4gICAgICB0aGlzLnRvcCA9IHRoaXMudG9wLnBhcmVudDtcbiAgICB9XG4gICAgaWYgKHRoaXMudG9wICYmIHRoaXMudG9wLmhhbmRsZXIgJiYgdGhpcy5leGNlcHRpb24pIHtcbiAgICAgIC8vIGZvdW5kIGEgaGFuZGxlclxuICAgICAgY29uc3QgZXJyID0gdGhpcy5leGNlcHRpb247XG4gICAgICB0aGlzLmV4Y2VwdGlvbiA9IG51bGw7XG4gICAgICB0aGlzLnRvcC5oYW5kbGVyKHRoaXMudG9wLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5leGNlcHRpb24pIHtcbiAgICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoXG4gICAgICAgICAgdGhpcy5leGNlcHRpb24sXG4gICAgICAgICAgXCJVbmhhbmRsZWQgZXhjZXB0aW9uIGluIHRhc2tcIixcbiAgICAgICAgICB0aGlzLm5hbWUsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmFpc2UoZXJyOiBFcnJvciwgb3B0X2ZyYW1lPzogRnJhbWU8YW55Pik6IHZvaWQge1xuICAgIHRoaXMuZmlsbFN0YWNrKGVycik7XG4gICAgaWYgKG9wdF9mcmFtZSkge1xuICAgICAgbGV0IGYgPSB0aGlzLnRvcDtcbiAgICAgIHdoaWxlIChmICYmIGYgIT0gb3B0X2ZyYW1lKSB7XG4gICAgICAgIGYgPSBmLnBhcmVudDtcbiAgICAgIH1cbiAgICAgIGlmIChmID09IG9wdF9mcmFtZSkge1xuICAgICAgICB0aGlzLnRvcCA9IGY7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZXhjZXB0aW9uID0gZXJyO1xuICAgIHRoaXMudW53aW5kKCk7XG4gIH1cblxuICAvKipcbiAgICogRmlsbCB0aGUgc3RhY2sgdHJhY2UgaW4gdGhlIGV4Y2VwdGlvblxuICAgKiBAcGFyYW0gZXJyIGV4Y2VwdGlvblxuICAgKi9cbiAgZmlsbFN0YWNrKGVycjogRXJyb3IpIHtcbiAgICBsZXQgb3V0ID0gZXJyW1wiZnJhbWVUcmFjZVwiXTtcbiAgICBpZiAoIW91dCkge1xuICAgICAgb3V0ID0gZXJyW1wic3RhY2tcIl0gPyBgJHtlcnJbXCJzdGFja1wiXX1cXG5cXHQtLS0tIGFzeW5jIC0tLVxcbmAgOiBcIlwiO1xuICAgICAgZm9yIChsZXQgZiA9IHRoaXMudG9wOyBmOyBmID0gZi5wYXJlbnQpIHtcbiAgICAgICAgb3V0ICs9IFwiXFx0XCI7XG4gICAgICAgIG91dCArPSBmLmdldE5hbWUoKTtcbiAgICAgICAgb3V0ICs9IFwiXFxuXCI7XG4gICAgICB9XG4gICAgICBlcnJbXCJmcmFtZVRyYWNlXCJdID0gb3V0O1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBjbGFzcyBTeW5jUmVzdWx0SW1wbDxUPiBpbXBsZW1lbnRzIFJlc3VsdDxUPiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB2YWx1ZTogVCkge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0aGVuKGNhbGxiYWNrOiAoVDogYW55KSA9PiB2b2lkKSB7XG4gICAgY2FsbGJhY2sodGhpcy52YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0aGVuQXN5bmM8VDE+KGNhbGxiYWNrOiAocDE6IFQpID0+IFJlc3VsdDxUMT4pIHtcbiAgICByZXR1cm4gY2FsbGJhY2sodGhpcy52YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0aGVuUmV0dXJuPFQxPihyZXN1bHQ6IFQxKSB7XG4gICAgcmV0dXJuIG5ldyBTeW5jUmVzdWx0SW1wbChyZXN1bHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGhlbkZpbmlzaChmcmFtZTogRnJhbWU8VD4pOiB2b2lkIHtcbiAgICBmcmFtZS5maW5pc2godGhpcy52YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpc1BlbmRpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0KCk6IFQgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXN1bHRJbXBsPFQ+IGltcGxlbWVudHMgUmVzdWx0PFQ+IHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGZyYW1lOiBGcmFtZTxUPikge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0aGVuKGNhbGxiYWNrOiAocDE6IFQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLmZyYW1lLnRoZW4oY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGhlbkFzeW5jPFQxPihjYWxsYmFjazogKHAxOiBUKSA9PiBSZXN1bHQ8VDE+KTogUmVzdWx0PFQxPiB7XG4gICAgaWYgKHRoaXMuaXNQZW5kaW5nKCkpIHtcbiAgICAgIC8vIHRoZW5Bc3luYyBpcyBzcGVjaWFsLCBkbyB0aGUgdHJpY2sgd2l0aCB0aGUgY29udGV4dFxuICAgICAgY29uc3QgZnJhbWUgPSBuZXcgRnJhbWU8VCB8IFQxPihcbiAgICAgICAgdGhpcy5mcmFtZS50YXNrLFxuICAgICAgICB0aGlzLmZyYW1lLnBhcmVudCxcbiAgICAgICAgXCJBc3luY1Jlc3VsdC50aGVuQXN5bmNcIixcbiAgICAgICk7XG4gICAgICBmcmFtZS5zdGF0ZSA9IEZyYW1lU3RhdGUuQUNUSVZFO1xuICAgICAgdGhpcy5mcmFtZS5wYXJlbnQgPSBmcmFtZSBhcyBGcmFtZTxUPjtcbiAgICAgIHRoaXMuZnJhbWUudGhlbigocmVzMSkgPT4ge1xuICAgICAgICBjYWxsYmFjayhyZXMxKS50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHJlczIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpIGFzIFJlc3VsdDxUMT47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0aGlzLmZyYW1lLnJlcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGhlblJldHVybjxUMT4ocmVzdWx0OiBUMSkge1xuICAgIGlmICh0aGlzLmlzUGVuZGluZygpKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGVuQXN5bmMoKCkgPT4gbmV3IFN5bmNSZXN1bHRJbXBsKHJlc3VsdCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFN5bmNSZXN1bHRJbXBsKHJlc3VsdCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGhlbkZpbmlzaChmcmFtZTogRnJhbWU8VD4pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc1BlbmRpbmcoKSkge1xuICAgICAgdGhpcy50aGVuKChyZXMpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHJlcyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnJhbWUuZmluaXNoKHRoaXMuZnJhbWUucmVzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpc1BlbmRpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZnJhbWUuc3RhdGUgPT0gRnJhbWVTdGF0ZS5BQ1RJVkU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXQoKTogVCB8IG51bGwge1xuICAgIGlmICh0aGlzLmlzUGVuZGluZygpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXN1bHQgaXMgcGVuZGluZ1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZnJhbWUucmVzO1xuICB9XG59XG5cbi8qKlxuICogQXN5bmNocm9ub3VzIGV4ZWN1dGlvbiBmcmFtZS4gQ29ycmVzcG9uZHMgdG8gYW4gYXN5bmNocm9ub3VzIGZ1bmN0aW9uXG4gKiBpbnZvY2F0aW9uLlxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGNsYXNzIEZyYW1lPFQ+IHtcbiAgcmVzOiBUID0gbnVsbDtcbiAgc3RhdGU6IEZyYW1lU3RhdGU7XG4gIGNhbGxiYWNrOiAoKHAxOiBhbnkpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG4gIGhhbmRsZXI6ICgocDE6IEZyYW1lPGFueT4sIHAyOiBFcnJvcikgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgdGFzazogVGFzaywgcHVibGljIHBhcmVudDogRnJhbWU8VD4sIHB1YmxpYyBuYW1lOiBzdHJpbmcpIHtcbiAgICB0aGlzLnN0YXRlID0gRnJhbWVTdGF0ZS5JTklUO1xuICB9XG5cbiAgcHJpdmF0ZSBjaGVja0Vudmlyb25tZW50KCk6IHZvaWQge1xuICAgIGlmICghcHJpdmF0ZUN1cnJlbnRUYXNrKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX1RBU0tfTk9fQ09OVEVYVFwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMgIT09IHByaXZhdGVDdXJyZW50VGFzay50b3ApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZfVEFTS19OT1RfVE9QX0ZSQU1FXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHRvIGJlIHJldHVybmVkIGFzIHRoaXMgYXN5bmNocm9ub3VzIGZ1bmN0aW9uIHJldHVybiB2YWx1ZS5cbiAgICovXG4gIHJlc3VsdCgpOiBSZXN1bHQ8VD4ge1xuICAgIHJldHVybiBuZXcgUmVzdWx0SW1wbDxUPih0aGlzKTtcbiAgfVxuXG4gIGZpbmlzaChyZXM6IFQpIHtcbiAgICB0aGlzLmNoZWNrRW52aXJvbm1lbnQoKTtcbiAgICBpZiAocHJpdmF0ZUN1cnJlbnRUYXNrICYmICFwcml2YXRlQ3VycmVudFRhc2suZXhjZXB0aW9uKSB7XG4gICAgICB0aGlzLnJlcyA9IHJlcztcbiAgICB9XG4gICAgdGhpcy5zdGF0ZSA9IEZyYW1lU3RhdGUuRklOSVNIRUQ7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLnBhcmVudDtcbiAgICBpZiAocHJpdmF0ZUN1cnJlbnRUYXNrKSB7XG4gICAgICBwcml2YXRlQ3VycmVudFRhc2sudG9wID0gZnJhbWU7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhbGxiYWNrKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrKHJlcyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhpcy50YXNrLnJhaXNlKGVyciwgZnJhbWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBjYWxsYmFjayB3YXMgY2FsbGVkXG4gICAgICB0aGlzLnN0YXRlID0gRnJhbWVTdGF0ZS5ERUFEO1xuICAgIH1cbiAgfVxuXG4gIGdldFRhc2soKTogVGFzayB7XG4gICAgcmV0dXJuIHRoaXMudGFzaztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGZyYW1lIG5hbWUuXG4gICAqL1xuICBnZXROYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgfVxuXG4gIGdldFNjaGVkdWxlcigpOiBTY2hlZHVsZXIge1xuICAgIHJldHVybiB0aGlzLnRhc2suc2NoZWR1bGVyO1xuICB9XG5cbiAgdGhlbihjYWxsYmFjazogKHAxOiBUKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgLy8gbGVnYWwgdG8gY2FsbCB3aGVuIGN1cnJlbnRUYXNrIGlzIG51bGxcbiAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgIGNhc2UgRnJhbWVTdGF0ZS5BQ1RJVkU6XG4gICAgICAgIGlmICh0aGlzLmNhbGxiYWNrKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRl9UQVNLX0ZSQU1FX0FMUkVBRFlfSEFTX0NBTExCQUNLXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRnJhbWVTdGF0ZS5GSU5JU0hFRDoge1xuICAgICAgICBjb25zdCB0YXNrID0gdGhpcy50YXNrO1xuICAgICAgICBjb25zdCBmcmFtZSA9IHRoaXMucGFyZW50O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNhbGxiYWNrKHRoaXMucmVzKTtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gRnJhbWVTdGF0ZS5ERUFEO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gRnJhbWVTdGF0ZS5ERUFEO1xuICAgICAgICAgIHRhc2sucmFpc2UoZXJyLCBmcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIEZyYW1lU3RhdGUuREVBRDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRl9UQVNLX0RFQURfRlJBTUVcIik7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZfVEFTS19VTkVYUEVDVEVEX0ZSQU1FX1NUQVRFICR7dGhpcy5zdGF0ZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSWYgdGhpcyB0YXNrIHdhcyBleGVjdXRlZCBsb25nZXIgdGhhbiB0YXNrJ3Mgc2xpY2UgcGFyYW1ldGVyLlxuICAgKiBAcmV0dXJuIGhvbGRzIHRydWVcbiAgICovXG4gIHRpbWVTbGljZSgpOiBSZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZyYW1lID0gbmV3RnJhbWU8Ym9vbGVhbj4oXCJGcmFtZS50aW1lU2xpY2VcIik7XG4gICAgY29uc3Qgc2NoZWR1bGVyID0gZnJhbWUuZ2V0U2NoZWR1bGVyKCk7XG4gICAgaWYgKHNjaGVkdWxlci5pc1RpbWVTbGljZU92ZXIoKSkge1xuICAgICAgTG9nZ2luZy5sb2dnZXIuZGVidWcoXCItLSB0aW1lIHNsaWNlIC0tXCIpO1xuICAgICAgZnJhbWUuc3VzcGVuZCgpLnNjaGVkdWxlKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBZaWVsZCB0byBvdGhlciB0YXNrcyBmb3IgdGhlIHNwZWNpZmllZCB0aW1lLlxuICAgKiBAcGFyYW0gZGVsYXkgaW4gbWlsbGlzZWNvbmRzLlxuICAgKiBAcmV0dXJuIGhvbGRzIHRydWVcbiAgICovXG4gIHNsZWVwKGRlbGF5OiBudW1iZXIpOiBSZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZyYW1lID0gbmV3RnJhbWU8Ym9vbGVhbj4oXCJGcmFtZS5zbGVlcFwiKTtcbiAgICBmcmFtZS5zdXNwZW5kKCkuc2NoZWR1bGUodHJ1ZSwgZGVsYXkpO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBlYXRlZGx5IGV4ZWN1dGUgdGhlIGdpdmVuIGZ1bmN0aW9uIGFzeW5jaHJvbm91c2x5IHVudGlsIGl0IHJldHVybnNcbiAgICogZmFsc2UuXG4gICAqIEByZXR1cm4gaG9sZHMgdHJ1ZS5cbiAgICovXG4gIGxvb3AoZnVuYzogKCkgPT4gUmVzdWx0PGJvb2xlYW4+KTogUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmcmFtZSA9IG5ld0ZyYW1lPGJvb2xlYW4+KFwiRnJhbWUubG9vcFwiKTtcbiAgICBjb25zdCBzdGVwID0gKG1vcmUpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHdoaWxlIChtb3JlKSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gZnVuYygpO1xuICAgICAgICAgIGlmIChyZXN1bHQuaXNQZW5kaW5nKCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC50aGVuKHN0ZXApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQudGhlbigobSkgPT4ge1xuICAgICAgICAgICAgICBtb3JlID0gbTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZnJhbWUudGFzay5yYWlzZShlcnIsIGZyYW1lKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHN0ZXAodHJ1ZSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNpbWlsYXIgdG8gbG9vcCgpLCBidXQgcHJvdmlkZXMgYSBGcmFtZSBmb3IgbG9vcCBib2R5IGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJuIGhvbGRzIHRydWUuXG4gICAqL1xuICBsb29wV2l0aEZyYW1lKGZ1bmM6IChwMTogTG9vcEJvZHlGcmFtZSkgPT4gdm9pZCk6IFJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgdGFzayA9IHByaXZhdGVDdXJyZW50VGFzaztcbiAgICBpZiAoIXRhc2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVfVEFTS19OT19DT05URVhUXCIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5sb29wKCgpID0+IHtcbiAgICAgIGxldCByZXN1bHQ6IFJlc3VsdDxib29sZWFuPjtcbiAgICAgIGRvIHtcbiAgICAgICAgY29uc3QgZnJhbWUgPSBuZXcgTG9vcEJvZHlGcmFtZSh0YXNrIGFzIFRhc2ssIHRhc2sudG9wKTtcbiAgICAgICAgdGFzay50b3AgPSBmcmFtZTtcbiAgICAgICAgZnJhbWUuc3RhdGUgPSBGcmFtZVN0YXRlLkFDVElWRTtcbiAgICAgICAgZnVuYyhmcmFtZSk7XG4gICAgICAgIHJlc3VsdCA9IGZyYW1lLnJlc3VsdCgpO1xuICAgICAgfSB3aGlsZSAoIXJlc3VsdC5pc1BlbmRpbmcoKSAmJiByZXN1bHQuZ2V0KCkpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcbiAgfVxuXG4gIHN1c3BlbmQob3B0X3dhaXRUYXJnZXQ/OiBhbnkpOiBDb250aW51YXRpb248VD4ge1xuICAgIHRoaXMuY2hlY2tFbnZpcm9ubWVudCgpO1xuICAgIGlmICh0aGlzLnRhc2suY29udGludWF0aW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX1RBU0tfQUxSRUFEWV9TVVNQRU5ERURcIik7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRpbnVhdGlvbjogQ29udGludWF0aW9uPFQ+ID0gbmV3IENvbnRpbnVhdGlvbih0aGlzLnRhc2spO1xuICAgIHRoaXMudGFzay5jb250aW51YXRpb24gPSBjb250aW51YXRpb247XG4gICAgcHJpdmF0ZUN1cnJlbnRUYXNrID0gbnVsbDtcbiAgICB0aGlzLnRhc2sud2FpdFRhcmdldCA9IG9wdF93YWl0VGFyZ2V0IHx8IG51bGw7XG4gICAgcmV0dXJuIGNvbnRpbnVhdGlvbjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTG9vcEJvZHlGcmFtZSBleHRlbmRzIEZyYW1lPGJvb2xlYW4+IHtcbiAgY29uc3RydWN0b3IodGFzazogVGFzaywgcGFyZW50OiBGcmFtZTxib29sZWFuPikge1xuICAgIHN1cGVyKHRhc2ssIHBhcmVudCwgXCJsb29wXCIpO1xuICB9XG5cbiAgY29udGludWVMb29wKCk6IHZvaWQge1xuICAgIHRoaXMuZmluaXNoKHRydWUpO1xuICB9XG5cbiAgYnJlYWtMb29wKCk6IHZvaWQge1xuICAgIHRoaXMuZmluaXNoKGZhbHNlKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRXZlbnRJdGVtIHtcbiAgbmV4dDogRXZlbnRJdGVtID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgZXZlbnQ6IEJhc2UuRXZlbnQpIHt9XG59XG5cbi8qKlxuICogQW4gY2xhc3MgdG8gbGlzdGVuIHRvIGV2ZW5zIGFuZCBwcmVzZW50IHRoZW0gYXMgYSByZWFkYWJsZSBhc3luY2hyb25vdXNcbiAqIHN0cmVhbSB0byB0YXNrcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEV2ZW50U291cmNlIHtcbiAgY29udGludWF0aW9uOiBDb250aW51YXRpb248Ym9vbGVhbj4gPSBudWxsO1xuICBsaXN0ZW5lcnM6IHtcbiAgICB0YXJnZXQ6IEJhc2UuRXZlbnRUYXJnZXQ7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGxpc3RlbmVyOiBCYXNlLkV2ZW50TGlzdGVuZXI7XG4gIH1bXSA9IFtdO1xuICBoZWFkOiBFdmVudEl0ZW07XG4gIHRhaWw6IEV2ZW50SXRlbTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmhlYWQgPSBuZXcgRXZlbnRJdGVtKG51bGwpO1xuICAgIHRoaXMudGFpbCA9IHRoaXMuaGVhZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRhY2hlcyBhcyBhbiBldmVudCBsaXN0ZW5lciB0byBhbiBFdmVudFRhcmdldC5cbiAgICovXG4gIGF0dGFjaChcbiAgICB0YXJnZXQ6IEJhc2UuRXZlbnRUYXJnZXQsXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIG9wdF9wcmV2ZW50RGVmYXVsdD86IGJvb2xlYW4sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGxpc3RlbmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAob3B0X3ByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICBpZiAoc2VsZi50YWlsLmV2ZW50KSB7XG4gICAgICAgIHNlbGYudGFpbC5uZXh0ID0gbmV3IEV2ZW50SXRlbShldmVudCk7XG4gICAgICAgIHNlbGYudGFpbCA9IHNlbGYudGFpbC5uZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi50YWlsLmV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIGNvbnN0IGNvbnRpbnVhdGlvbiA9IHNlbGYuY29udGludWF0aW9uO1xuICAgICAgICBpZiAoY29udGludWF0aW9uKSB7XG4gICAgICAgICAgc2VsZi5jb250aW51YXRpb24gPSBudWxsO1xuICAgICAgICAgIGNvbnRpbnVhdGlvbi5zY2hlZHVsZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKHsgdGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciB9KTtcbiAgfVxuXG4gIGRldGFjaCh0YXJnZXQ6IEJhc2UuRXZlbnRUYXJnZXQsIHR5cGU6IHN0cmluZyk6IHZvaWQge1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgaXRlbToge1xuICAgICAgdGFyZ2V0OiBCYXNlLlNpbXBsZUV2ZW50VGFyZ2V0O1xuICAgICAgdHlwZTogc3RyaW5nO1xuICAgICAgbGlzdGVuZXI6IEJhc2UuRXZlbnRMaXN0ZW5lcjtcbiAgICB9ID0gbnVsbDtcbiAgICB3aGlsZSAoaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgaXRlbSA9IHRoaXMubGlzdGVuZXJzW2ldO1xuICAgICAgaWYgKGl0ZW0udHlwZSA9PSB0eXBlICYmIGl0ZW0udGFyZ2V0ID09PSB0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICBpdGVtLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGl0ZW0udHlwZSwgaXRlbS5saXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIkVfVEFTS19FVkVOVF9TT1VSQ0VfTk9UX0FUVEFDSEVEXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWQgbmV4dCBkaXNwYXRjaGVkIGV2ZW50LCBibG9ja2luZyB0aGUgY3VycmVudCB0YXNrIGlmIG5lZWRlZC5cbiAgICovXG4gIG5leHRFdmVudCgpOiBSZXN1bHQ8QmFzZS5FdmVudD4ge1xuICAgIGNvbnN0IGZyYW1lOiBGcmFtZTxCYXNlLkV2ZW50PiA9IG5ld0ZyYW1lKFwiRXZlbnRTb3VyY2UubmV4dEV2ZW50XCIpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IHJlYWRFdmVudCA9ICgpID0+IHtcbiAgICAgIGlmIChzZWxmLmhlYWQuZXZlbnQpIHtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBzZWxmLmhlYWQuZXZlbnQ7XG4gICAgICAgIGlmIChzZWxmLmhlYWQubmV4dCkge1xuICAgICAgICAgIHNlbGYuaGVhZCA9IHNlbGYuaGVhZC5uZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuaGVhZC5ldmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKGV2ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5jb250aW51YXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9UQVNLX0VWRU5UX1NPVVJDRV9PVEhFUl9UQVNLX1dBSVRJTkdcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBmcmFtZUludGVybmFsOiBGcmFtZTxib29sZWFuPiA9IG5ld0ZyYW1lKFxuICAgICAgICAgIFwiRXZlbnRTb3VyY2UubmV4dEV2ZW50SW50ZXJuYWxcIixcbiAgICAgICAgKTtcbiAgICAgICAgc2VsZi5jb250aW51YXRpb24gPSBmcmFtZUludGVybmFsLnN1c3BlbmQoc2VsZik7XG4gICAgICAgIGZyYW1lSW50ZXJuYWwucmVzdWx0KCkudGhlbihyZWFkRXZlbnQpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmVhZEV2ZW50KCk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFRhc2tVdGlsIC0gVXRpbGl0aWVzIGFzeW5jaHJvbm91cyBleGVjdXRpb24gYW5kIGNvb3BlcmF0aXZlXG4gKiBtdWx0aXRhc2tpbmcuXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcblxuLyoqXG4gKiBBIGNsYXNzIHRoYXQgY2FuIGZldGNoIG9yIGNvbXB1dGUgYSByZXNvdXJjZSB0aGF0IG1heSBiZSBuZWVkZWQgYnkgbXVsdGlwbGVcbiAqIHRhc2tzLiBUaGUgZmlyc3QgdGltZSBhIHJlc291cmNlIGlzIHJlcXVlc3RlZCwgaXQgaXMgZmV0Y2hlZCBhbmQgdGhlbiBnaXZlblxuICogdG8gZXZlcnlvbmUgcmVxdWVzdGluZyBpdC5cbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0gZmV0Y2ggZnVuY3Rpb24gdGhhdCBmZXRjaGVzL2NvbXB1dGVzXG4gKiAgICBhIHJlc291cmNlOyBpdCB3aWxsIGJlIHJ1biBpbiBhIHNlcGFyYXRlIHRhc2suXG4gKi9cbmV4cG9ydCBjbGFzcyBGZXRjaGVyPFQ+IHtcbiAgbmFtZTogc3RyaW5nO1xuICBhcnJpdmVkOiBib29sZWFuID0gZmFsc2U7XG4gIHJlc291cmNlOiBUID0gbnVsbDtcbiAgdGFzazogVGFzay5UYXNrID0gbnVsbDtcbiAgcGlnZ3liYWNrczogKChwMTogYW55KSA9PiB2b2lkKVtdIHwgbnVsbCA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBmZXRjaDogKCkgPT4gVGFzay5SZXN1bHQ8VD4sIG9wdF9uYW1lPzogc3RyaW5nKSB7XG4gICAgdGhpcy5uYW1lID0gb3B0X25hbWU7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgZmV0Y2hpbmcvY29tcHV0aW5nIGEgcmVzb3VyY2UsIGRvbid0IGJsb2NrIGN1cnJlbnQgdGFzay5cbiAgICovXG4gIHN0YXJ0KCk6IHZvaWQge1xuICAgIGlmICghdGhpcy50YXNrKSB7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIHRoaXMudGFzayA9IFRhc2suY3VycmVudFRhc2soKVxuICAgICAgICAuZ2V0U2NoZWR1bGVyKClcbiAgICAgICAgLnJ1bigoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lKFwiRmV0Y2hlci5ydW5cIik7XG4gICAgICAgICAgc2VsZi5mZXRjaCgpLnRoZW4oKHJlc291cmNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwaWdnaWJhY2tzID0gc2VsZi5waWdneWJhY2tzO1xuICAgICAgICAgICAgc2VsZi5hcnJpdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYucmVzb3VyY2UgPSByZXNvdXJjZTtcbiAgICAgICAgICAgIHNlbGYudGFzayA9IG51bGw7XG4gICAgICAgICAgICBzZWxmLnBpZ2d5YmFja3MgPSBbXTtcbiAgICAgICAgICAgIGlmIChwaWdnaWJhY2tzKSB7XG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGlnZ2liYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBwaWdnaWJhY2tzW2ldKHJlc291cmNlKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKGVyciwgXCJFcnJvcjpcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZS5maW5pc2gocmVzb3VyY2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgICAgICAgfSwgdGhpcy5uYW1lKTtcbiAgICB9XG4gIH1cblxuICBwaWdneWJhY2soZm46IChwMTogVCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmFycml2ZWQpIHtcbiAgICAgIGZuKHRoaXMucmVzb3VyY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBpZ2d5YmFja3MucHVzaChmbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoZXMgdGhlIHJlc291cmNlLCB3YWl0cyBmb3IgaXQgdG8gYXJyaXZlIGlmIGl0IGlzIGFscmVhZHkgYmVpbmdcbiAgICogZmV0Y2hlZC5cbiAgICovXG4gIGdldCgpOiBUYXNrLlJlc3VsdDxUPiB7XG4gICAgaWYgKHRoaXMuYXJyaXZlZCkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRoaXMucmVzb3VyY2UpO1xuICAgIH1cbiAgICB0aGlzLnN0YXJ0KCk7XG4gICAgcmV0dXJuIHRoaXMudGFzay5qb2luKCkgYXMgVGFzay5SZXN1bHQ8VD47XG4gIH1cblxuICBoYXNBcnJpdmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmFycml2ZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBXYWl0IGZvciBhbGwgRmV0Y2hlciBvYmplY3RzIGluIHRoZSBhcnJheSB0byBhcnJpdmVcbiAqL1xuZXhwb3J0IGNvbnN0IHdhaXRGb3JGZXRjaGVycyA9IDxUPihcbiAgZmV0Y2hlcnM6IEZldGNoZXI8VD5bXSxcbik6IFRhc2suUmVzdWx0PGJvb2xlYW4+ID0+IHtcbiAgaWYgKGZldGNoZXJzLmxlbmd0aCA9PSAwKSB7XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICB9XG4gIGlmIChmZXRjaGVycy5sZW5ndGggPT0gMSkge1xuICAgIHJldHVybiBmZXRjaGVyc1swXS5nZXQoKS50aGVuUmV0dXJuKHRydWUpO1xuICB9XG4gIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxib29sZWFuPihcIndhaXRGb3JGZXRjaGVzXCIpO1xuICBsZXQgaSA9IDA7XG4gIGZyYW1lXG4gICAgLmxvb3AoKCkgPT4ge1xuICAgICAgd2hpbGUgKGkgPCBmZXRjaGVycy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZmV0Y2hlciA9IGZldGNoZXJzW2krK107XG4gICAgICAgIGlmICghZmV0Y2hlci5oYXNBcnJpdmVkKCkpIHtcbiAgICAgICAgICByZXR1cm4gZmV0Y2hlci5nZXQoKS50aGVuUmV0dXJuKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgIH0pO1xuICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG59O1xuXG4vKipcbiAqIEByZXR1cm4gaG9sZGluZyBldmVudCB0eXBlIChsb2FkL2Vycm9yL2Fib3J0KVxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZEVsZW1lbnQoZWxlbTogRWxlbWVudCwgc3JjOiBzdHJpbmcpOiBGZXRjaGVyPHN0cmluZz4ge1xuICBsZXQgd2lkdGg6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBsZXQgaGVpZ2h0OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgaWYgKGVsZW0ubG9jYWxOYW1lID09IFwiaW1nXCIpIHtcbiAgICB3aWR0aCA9IGVsZW0uZ2V0QXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgaGVpZ2h0ID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIik7XG4gIH1cbiAgY29uc3QgZmV0Y2hlciA9IG5ldyBGZXRjaGVyKCgpID0+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxzdHJpbmc+ID0gVGFzay5uZXdGcmFtZShcImxvYWRJbWFnZVwiKTtcbiAgICBjb25zdCBjb250aW51YXRpb24gPSBmcmFtZS5zdXNwZW5kKGVsZW0pO1xuICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgY29uc3QgaGFuZGxlciA9IChldnQ6IEV2ZW50KSA9PiB7XG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChlbGVtLmxvY2FsTmFtZSA9PSBcImltZ1wiKSB7XG4gICAgICAgIC8vIElFIHB1dHMgdGhlc2UgYm9ndXMgYXR0cmlidXRlcywgZXZlbiBpZiB0aGV5IHdlcmUgbm90IHByZXNlbnRcbiAgICAgICAgaWYgKCF3aWR0aCkge1xuICAgICAgICAgIGVsZW0ucmVtb3ZlQXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoZWlnaHQpIHtcbiAgICAgICAgICBlbGVtLnJlbW92ZUF0dHJpYnV0ZShcImhlaWdodFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29udGludWF0aW9uLnNjaGVkdWxlKGV2dCA/IGV2dC50eXBlIDogXCJ0aW1lb3V0XCIpO1xuICAgIH07XG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgaGFuZGxlciwgZmFsc2UpO1xuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICBpZiAoZWxlbS5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5TVkcpIHtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlTlMoQmFzZS5OUy5YTElOSywgXCJ4bGluazpocmVmXCIsIHNyYyk7XG5cbiAgICAgIC8vIFNWRyBoYW5kbGVycyBhcmUgbm90IHJlbGlhYmxlXG4gICAgICBzZXRUaW1lb3V0KGhhbmRsZXIsIDMwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIChlbGVtIGFzIGFueSkuc3JjID0gc3JjO1xuICAgIH1cbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH0sIGBsb2FkRWxlbWVudCAke3NyY31gKTtcbiAgZmV0Y2hlci5zdGFydCgpO1xuICByZXR1cm4gZmV0Y2hlcjtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgTmV0IC0gRmV0Y2ggcmVzb3VyY2UgZnJvbSBhIFVSTC5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL2xvZ2dpbmdcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVGFza1V0aWwgZnJvbSBcIi4vdGFzay11dGlsXCI7XG5pbXBvcnQgeyBOZXQsIFhtbERvYyB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgVXNlckFnZW50WG1sIGZyb20gXCIuL2Fzc2V0cy91c2VyLWFnZW50LnhtbFwiO1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIFhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlIHtcbiAgREVGQVVMVCA9IFwiXCIsXG4gIEFSUkFZQlVGRkVSID0gXCJhcnJheWJ1ZmZlclwiLFxuICBCTE9CID0gXCJibG9iXCIsXG4gIERPQ1VNRU5UID0gXCJkb2N1bWVudFwiLFxuICBKU09OID0gXCJqc29uXCIsXG4gIFRFWFQgPSBcInRleHRcIixcbn1cblxuZXhwb3J0IHR5cGUgUmVzcG9uc2UgPSBOZXQuUmVzcG9uc2U7XG5cbmV4cG9ydCBmdW5jdGlvbiBhamF4KFxuICB1cmw6IHN0cmluZyxcbiAgb3B0X3R5cGU/OiBYTUxIdHRwUmVxdWVzdFJlc3BvbnNlVHlwZSxcbiAgb3B0X21ldGhvZD86IHN0cmluZyxcbiAgb3B0X2RhdGE/OiBzdHJpbmcsXG4gIG9wdF9jb250ZW50VHlwZT86IHN0cmluZyxcbik6IFRhc2suUmVzdWx0PFJlc3BvbnNlPiB7XG4gIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFJlc3BvbnNlPiA9IFRhc2submV3RnJhbWUoXCJhamF4XCIpO1xuICBjb25zdCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIGNvbnN0IGNvbnRpbnVhdGlvbiA9IGZyYW1lLnN1c3BlbmQocmVxdWVzdCk7XG4gIGNvbnN0IHJlc3BvbnNlOiBSZXNwb25zZSA9IHtcbiAgICBzdGF0dXM6IDAsXG4gICAgc3RhdHVzVGV4dDogXCJcIixcbiAgICB1cmwsXG4gICAgY29udGVudFR5cGU6IG51bGwsXG4gICAgcmVzcG9uc2VUZXh0OiBudWxsLFxuICAgIHJlc3BvbnNlWE1MOiBudWxsLFxuICAgIHJlc3BvbnNlQmxvYjogbnVsbCxcbiAgfTtcbiAgcmVxdWVzdC5vcGVuKG9wdF9tZXRob2QgfHwgXCJHRVRcIiwgdXJsLCB0cnVlKTtcbiAgaWYgKG9wdF90eXBlKSB7XG4gICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBvcHRfdHlwZTtcbiAgfVxuICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICBpZiAocmVxdWVzdC5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICByZXNwb25zZS5zdGF0dXMgPSByZXF1ZXN0LnN0YXR1cztcbiAgICAgIHJlc3BvbnNlLnN0YXR1c1RleHQgPVxuICAgICAgICByZXF1ZXN0LnN0YXR1c1RleHQgfHwgKHJlcXVlc3Quc3RhdHVzID09IDQwNCAmJiBcIk5vdCBGb3VuZFwiKSB8fCBcIlwiO1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDAgfHwgcmVzcG9uc2Uuc3RhdHVzID09IDApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICghb3B0X3R5cGUgfHwgb3B0X3R5cGUgPT09IFhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlLkRPQ1VNRU5UKSAmJlxuICAgICAgICAgIHJlcXVlc3QucmVzcG9uc2VYTUwgJiZcbiAgICAgICAgICByZXF1ZXN0LnJlc3BvbnNlWE1MLmRvY3VtZW50RWxlbWVudC5sb2NhbE5hbWUgIT0gXCJwYXJzZXJlcnJvclwiXG4gICAgICAgICkge1xuICAgICAgICAgIHJlc3BvbnNlLnJlc3BvbnNlWE1MID0gcmVxdWVzdC5yZXNwb25zZVhNTDtcbiAgICAgICAgICByZXNwb25zZS5jb250ZW50VHlwZSA9IChyZXF1ZXN0LnJlc3BvbnNlWE1MIGFzIGFueSkuY29udGVudFR5cGU7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgKCFvcHRfdHlwZSB8fCBvcHRfdHlwZSA9PT0gWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGUuRE9DVU1FTlQpICYmXG4gICAgICAgICAgcmVxdWVzdC5yZXNwb25zZSBpbnN0YW5jZW9mIEhUTUxEb2N1bWVudFxuICAgICAgICApIHtcbiAgICAgICAgICByZXNwb25zZS5yZXNwb25zZVhNTCA9IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgICAgICAgcmVzcG9uc2UuY29udGVudFR5cGUgPSAocmVxdWVzdC5yZXNwb25zZSBhcyBhbnkpLmNvbnRlbnRUeXBlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHRleHQgPSByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICghb3B0X3R5cGUgfHwgb3B0X3R5cGUgPT09IFhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlLlRFWFQpICYmXG4gICAgICAgICAgICB0eXBlb2YgdGV4dCA9PSBcInN0cmluZ1wiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXNwb25zZS5yZXNwb25zZVRleHQgPSB0ZXh0O1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXRleHQpIHtcbiAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJVbmV4cGVjdGVkIGVtcHR5IHN1Y2Nlc3MgcmVzcG9uc2UgZm9yXCIsIHVybCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGV4dCA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgIHJlc3BvbnNlLnJlc3BvbnNlQmxvYiA9IG1ha2VCbG9iKFt0ZXh0XSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNwb25zZS5yZXNwb25zZUJsb2IgPSB0ZXh0IGFzIEJsb2I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGNvbnRlbnRUeXBlSGVhZGVyID0gcmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKTtcbiAgICAgICAgICBpZiAoY29udGVudFR5cGVIZWFkZXIpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLmNvbnRlbnRUeXBlID0gY29udGVudFR5cGVIZWFkZXIucmVwbGFjZSgvKC4qKTsuKiQvLCBcIiQxXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29udGludWF0aW9uLnNjaGVkdWxlKHJlc3BvbnNlKTtcbiAgICB9XG4gIH07XG4gIHRyeSB7XG4gICAgaWYgKG9wdF9kYXRhKSB7XG4gICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCIsXG4gICAgICAgIG9wdF9jb250ZW50VHlwZSB8fCBcInRleHQvcGxhaW47IGNoYXJzZXQ9VVRGLThcIixcbiAgICAgICk7XG4gICAgICByZXF1ZXN0LnNlbmQob3B0X2RhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoXG4gICAgICAgIC9eZmlsZTp8Xmh0dHBzPzpcXC9cXC9bXi9dK1xcLmdpdGh1YnVzZXJjb250ZW50XFwuY29tfFxcLih4aHRtbHx4aHR8b3BmKSQvaS50ZXN0KFxuICAgICAgICAgIHVybCxcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIC8vIEZpbGUgb3IgR2l0SHViIHJhdyBVUkwgb3IgLnhodChtbCkgb3IgLm9wZlxuICAgICAgICBpZiAoXG4gICAgICAgICAgL1xcL2Fvem9yYWJ1bmtvXFwvW14vXStcXC9jYXJkc1xcL1teL10rXFwvZmlsZXNcXC9bXi8uXStcXC5odG1sJC8udGVzdCh1cmwpXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIEFvem9yYWJ1bmtvJ3MgKFgpSFRNTCBzdXBwb3J0XG4gICAgICAgICAgcmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9odG1sOyBjaGFyc2V0PVNoaWZ0X0pJU1wiKTtcbiAgICAgICAgfSBlbHNlIGlmICgvXFwuKGh0bWx8aHRtKSQvaS50ZXN0KHVybCkpIHtcbiAgICAgICAgICByZXF1ZXN0Lm92ZXJyaWRlTWltZVR5cGUoXCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLThcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoL1xcLih4aHRtbHx4aHR8eG1sfG9wZikkL2kudGVzdCh1cmwpKSB7XG4gICAgICAgICAgcmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlKFwiYXBwbGljYXRpb24veG1sOyBjaGFyc2V0PVVURi04XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKC9cXC4odHh0fGNzcykkL2kudGVzdCh1cmwpKSB7XG4gICAgICAgICAgcmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBmYWxsYmFjayB0byBIVE1MXG4gICAgICAgICAgcmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9odG1sOyBjaGFyc2V0PVVURi04XCIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKC9eZGF0YTosKDx8JTNjKS9pLnRlc3QodXJsKSkge1xuICAgICAgICByZXF1ZXN0Lm92ZXJyaWRlTWltZVR5cGUoXCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLThcIik7XG4gICAgICB9IGVsc2UgaWYgKC9eZGF0YTosL2kudGVzdCh1cmwpKSB7XG4gICAgICAgIHJlcXVlc3Qub3ZlcnJpZGVNaW1lVHlwZShcInRleHQvcGxhaW47IGNoYXJzZXQ9VVRGLThcIik7XG4gICAgICB9XG4gICAgICByZXF1ZXN0LnNlbmQobnVsbCk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihlLCBgRXJyb3IgZmV0Y2hpbmcgJHt1cmx9YCk7XG4gICAgY29udGludWF0aW9uLnNjaGVkdWxlKHJlc3BvbnNlKTtcbiAgfVxuICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG59XG5cbi8qKlxuICogQHJldHVybiBCbG9iXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlQmxvYihcbiAgcGFydHM6IChzdHJpbmcgfCBCbG9iIHwgQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXcpW10sXG4gIG9wdF90eXBlPzogc3RyaW5nLFxuKTogYW55IHtcbiAgY29uc3QgdHlwZSA9IG9wdF90eXBlIHx8IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCI7XG4gIGNvbnN0IGJ1aWxkZXJDdHIgPSB3aW5kb3dbXCJXZWJLaXRCbG9iQnVpbGRlclwiXSB8fCB3aW5kb3dbXCJNU0Jsb2JCdWlsZGVyXCJdOyAvLyBkZXByZWNhdGVkXG4gIGlmIChidWlsZGVyQ3RyKSB7XG4gICAgY29uc3QgYnVpbGRlciA9IG5ldyBidWlsZGVyQ3RyKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgYnVpbGRlci5hcHBlbmQocGFydHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gYnVpbGRlci5nZXRCbG9iKHR5cGUpO1xuICB9XG4gIHJldHVybiBuZXcgQmxvYihwYXJ0cywgeyB0eXBlIH0pO1xufVxuXG4vKipcbiAqIEByZXR1cm4gVGFzay5SZXN1bHQuPEFycmF5QnVmZmVyPlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZEJsb2IoYmxvYjogQmxvYik6IGFueSB7XG4gIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPEFycmF5QnVmZmVyPiA9IFRhc2submV3RnJhbWUoXCJyZWFkQmxvYlwiKTtcbiAgY29uc3QgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIGNvbnN0IGNvbnRpbnVhdGlvbiA9IGZyYW1lLnN1c3BlbmQoZmlsZVJlYWRlcik7XG4gIGZpbGVSZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcImxvYWRcIixcbiAgICAoKSA9PiB7XG4gICAgICBjb250aW51YXRpb24uc2NoZWR1bGUoZmlsZVJlYWRlci5yZXN1bHQgYXMgQXJyYXlCdWZmZXIpO1xuICAgIH0sXG4gICAgZmFsc2UsXG4gICk7XG4gIGZpbGVSZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG4gIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJldm9rZU9iamVjdFVSTCh1cmw6IHN0cmluZyk6IHZvaWQge1xuICAod2luZG93W1wiVVJMXCJdIHx8IHdpbmRvd1tcIndlYmtpdFVSTFwiXSkucmV2b2tlT2JqZWN0VVJMKHVybCk7XG59XG5cbi8qKlxuICogQHJldHVybiB1cmxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9iamVjdFVSTChibG9iOiBCbG9iKTogc3RyaW5nIHtcbiAgcmV0dXJuICh3aW5kb3dbXCJVUkxcIl0gfHwgd2luZG93W1wid2Via2l0VVJMXCJdKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFJlc291cmNlXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXNvdXJjZVN0b3JlPFJlc291cmNlPiBpbXBsZW1lbnRzIE5ldC5SZXNvdXJjZVN0b3JlPFJlc291cmNlPiB7XG4gIHJlc291cmNlczogeyBba2V5OiBzdHJpbmddOiBSZXNvdXJjZSB9ID0ge307XG4gIGZldGNoZXJzOiB7IFtrZXk6IHN0cmluZ106IFRhc2tVdGlsLkZldGNoZXI8UmVzb3VyY2U+IH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyc2VyOiAoXG4gICAgICBwMTogUmVzcG9uc2UsXG4gICAgICBwMjogUmVzb3VyY2VTdG9yZTxSZXNvdXJjZT4sXG4gICAgKSA9PiBUYXNrLlJlc3VsdDxSZXNvdXJjZT4sXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IFhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlLFxuICApIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gcmVzb3VyY2UgZm9yIHRoZSBnaXZlbiBVUkxcbiAgICovXG4gIGxvYWQoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgb3B0X3JlcXVpcmVkPzogYm9vbGVhbixcbiAgICBvcHRfbWVzc2FnZT86IHN0cmluZyxcbiAgKTogVGFzay5SZXN1bHQ8UmVzb3VyY2U+IHtcbiAgICB1cmwgPSBCYXNlLnN0cmlwRnJhZ21lbnQodXJsKTtcbiAgICBjb25zdCByZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VzW3VybF07XG4gICAgaWYgKHR5cGVvZiByZXNvdXJjZSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQocmVzb3VyY2UpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mZXRjaCh1cmwsIG9wdF9yZXF1aXJlZCwgb3B0X21lc3NhZ2UpLmdldCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBmZXRjaElubmVyKFxuICAgIHVybDogc3RyaW5nLFxuICAgIG9wdF9yZXF1aXJlZD86IGJvb2xlYW4sXG4gICAgb3B0X21lc3NhZ2U/OiBzdHJpbmcsXG4gICk6IFRhc2suUmVzdWx0PFJlc291cmNlPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8UmVzb3VyY2U+ID0gVGFzay5uZXdGcmFtZShcImZldGNoXCIpO1xuXG4gICAgLy8gSGFjayBmb3IgVE9DVmlldy5zaG93VE9DKClcbiAgICBjb25zdCBpc1RvY0JveCA9IHVybC5lbmRzV2l0aChcIj92aXYtdG9jLWJveFwiKTtcbiAgICBpZiAoaXNUb2NCb3gpIHtcbiAgICAgIHVybCA9IHVybC5yZXBsYWNlKFwiP3Zpdi10b2MtYm94XCIsIFwiXCIpO1xuICAgIH1cbiAgICBjb25zdCB1c2VyQWdlbnRYbWxVcmwgPSBCYXNlLnJlc29sdmVVUkwoXG4gICAgICBcInVzZXItYWdlbnQueG1sXCIsXG4gICAgICBCYXNlLnJlc291cmNlQmFzZVVSTCxcbiAgICApO1xuICAgIGNvbnN0IGlzVXNlckFnZW50WG1sID0gIWlzVG9jQm94ICYmIHVybCA9PT0gdXNlckFnZW50WG1sVXJsO1xuICAgIGlmIChpc1VzZXJBZ2VudFhtbCkge1xuICAgICAgLy8gQ2hhbmdlIFwidXNlci1hZ2VudC54bWxcIiBVUkwgdG8gZGF0YSBVUkxcbiAgICAgIHVybCA9IGBkYXRhOmFwcGxpY2F0aW9uL3htbCwke2VuY29kZVVSSUNvbXBvbmVudChVc2VyQWdlbnRYbWwpfWA7XG4gICAgfVxuXG4gICAgYWpheCh1cmwsIHNlbGYudHlwZSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gNDAwKSB7XG4gICAgICAgIGlmIChvcHRfcmVxdWlyZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAob3B0X21lc3NhZ2UgfHwgYEZhaWxlZCB0byBmZXRjaCByZXF1aXJlZCByZXNvdXJjZTogJHt1cmx9YCkgK1xuICAgICAgICAgICAgICBgICgke3Jlc3BvbnNlLnN0YXR1c30ke1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnN0YXR1c1RleHQgPyBcIiBcIiArIHJlc3BvbnNlLnN0YXR1c1RleHQgOiBcIlwiXG4gICAgICAgICAgICAgIH0pYCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNUb2NCb3gpIHtcbiAgICAgICAgLy8gSGFjayBmb3IgVE9DVmlldy5zaG93VE9DKClcbiAgICAgICAgdXJsICs9IFwiP3Zpdi10b2MtYm94XCI7XG4gICAgICAgIHJlc3BvbnNlLnVybCArPSBcIj92aXYtdG9jLWJveFwiO1xuICAgICAgfSBlbHNlIGlmIChpc1VzZXJBZ2VudFhtbCkge1xuICAgICAgICAvLyBSZXN0b3JlIFwidXNlci1hZ2VudC54bWxcIiBVUkxcbiAgICAgICAgcmVzcG9uc2UudXJsID0gdXJsID0gdXNlckFnZW50WG1sVXJsO1xuICAgICAgfVxuICAgICAgc2VsZi5wYXJzZXIocmVzcG9uc2UsIHNlbGYpLnRoZW4oKHJlc291cmNlKSA9PiB7XG4gICAgICAgIGRlbGV0ZSBzZWxmLmZldGNoZXJzW3VybF07XG4gICAgICAgIHNlbGYucmVzb3VyY2VzW3VybF0gPSByZXNvdXJjZTtcbiAgICAgICAgZnJhbWUuZmluaXNoKHJlc291cmNlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGZldGNoZXIgZm9yIHRoZSByZXNvdXJjZSBmb3IgdGhlIGdpdmVuIFVSTFxuICAgKi9cbiAgZmV0Y2goXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgb3B0X3JlcXVpcmVkPzogYm9vbGVhbixcbiAgICBvcHRfbWVzc2FnZT86IHN0cmluZyxcbiAgKTogVGFza1V0aWwuRmV0Y2hlcjxSZXNvdXJjZT4ge1xuICAgIHVybCA9IEJhc2Uuc3RyaXBGcmFnbWVudCh1cmwpO1xuICAgIGNvbnN0IHJlc291cmNlID0gdGhpcy5yZXNvdXJjZXNbdXJsXTtcbiAgICBpZiAocmVzb3VyY2UpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgZmV0Y2hlciA9IHRoaXMuZmV0Y2hlcnNbdXJsXTtcbiAgICBpZiAoIWZldGNoZXIpIHtcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgZmV0Y2hlciA9IG5ldyBUYXNrVXRpbC5GZXRjaGVyKFxuICAgICAgICAoKSA9PiBzZWxmLmZldGNoSW5uZXIodXJsLCBvcHRfcmVxdWlyZWQsIG9wdF9tZXNzYWdlKSxcbiAgICAgICAgYEZldGNoICR7dXJsfWAsXG4gICAgICApO1xuICAgICAgc2VsZi5mZXRjaGVyc1t1cmxdID0gZmV0Y2hlcjtcbiAgICAgIGZldGNoZXIuc3RhcnQoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZldGNoZXI7XG4gIH1cblxuICBnZXQodXJsOiBzdHJpbmcpOiBYbWxEb2MuWE1MRG9jSG9sZGVyIHtcbiAgICBjb25zdCByZXNvdXJjZTogdW5rbm93biA9IHRoaXMucmVzb3VyY2VzW0Jhc2Uuc3RyaXBGcmFnbWVudCh1cmwpXTtcbiAgICByZXR1cm4gcmVzb3VyY2UgYXMgWG1sRG9jLlhNTERvY0hvbGRlcjtcbiAgfVxuXG4gIGRlbGV0ZSh1cmw6IHN0cmluZykge1xuICAgIGRlbGV0ZSB0aGlzLnJlc291cmNlc1tCYXNlLnN0cmlwRnJhZ21lbnQodXJsKV07XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgSlNPTlN0b3JlID0gUmVzb3VyY2VTdG9yZTxCYXNlLkpTT04+O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VKU09OUmVzb3VyY2UoXG4gIHJlc3BvbnNlOiBSZXNwb25zZSxcbiAgc3RvcmU6IEpTT05TdG9yZSxcbik6IFRhc2suUmVzdWx0PEJhc2UuSlNPTj4ge1xuICBjb25zdCB0ZXh0ID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0O1xuICByZXR1cm4gVGFzay5uZXdSZXN1bHQodGV4dCA/IEJhc2Uuc3RyaW5nVG9KU09OKHRleHQpIDogbnVsbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXdKU09OU3RvcmUoKTogSlNPTlN0b3JlIHtcbiAgcmV0dXJuIG5ldyBSZXNvdXJjZVN0b3JlKHBhcnNlSlNPTlJlc291cmNlLCBYTUxIdHRwUmVxdWVzdFJlc3BvbnNlVHlwZS5URVhUKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgQ3NzUGFyc2VyIC0gQ1NTIFBhcnNlci5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NUb2tlbml6ZXIgZnJvbSBcIi4vY3NzLXRva2VuaXplclwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgTmV0IGZyb20gXCIuL25ldFwiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5cbi8qKlxuICogVXNlciBhZ2VudCBzdHlsZXNoZWV0IGJhc2Ugc3BlY2lmaWNpdHkuXG4gKi9cbmV4cG9ydCBjb25zdCBTUEVDSUZJQ0lUWV9VU0VSX0FHRU5UOiBudW1iZXIgPSAwO1xuXG4vKipcbiAqIFVzZXIgc3R5bGVzaGVldCBiYXNlIHNwZWNpZmljaXR5LlxuICovXG5leHBvcnQgY29uc3QgU1BFQ0lGSUNJVFlfVVNFUjogbnVtYmVyID0gMTY3NzcyMTY7XG5cbi8qKlxuICogQXV0aG9yIHN0eWxlc2hlZXQgKFwibm9ybWFsXCIgc3R5bGVzaGVldCkgYmFzZSBzcGVjaWZpY2l0eS5cbiAqL1xuZXhwb3J0IGNvbnN0IFNQRUNJRklDSVRZX0FVVEhPUjogbnVtYmVyID0gMzM1NTQ0MzI7XG5cbi8qKlxuICogU3R5bGUgYXR0cmlidXRlIGJhc2Ugc3BlY2lmaWNpdHkuXG4gKi9cbmV4cG9ydCBjb25zdCBTUEVDSUZJQ0lUWV9TVFlMRTogbnVtYmVyID0gNTAzMzE2NDg7XG5cbi8qKlxuICogU3R5bGUgYXR0cmlidXRlIGJhc2Ugc3BlY2lmaWNpdHkgd2hlbiAhaW1wb3J0YW50IGlzIHVzZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBTUEVDSUZJQ0lUWV9TVFlMRV9JTVBPUlRBTlQ6IG51bWJlciA9IDY3MTA4ODY0O1xuXG4vKipcbiAqIEF1dGhvciBzdHlsZXNoZWV0IGJhc2Ugc3BlY2lmaWNpdHkgd2hlbiAhaW1wb3J0YW50IGlzIHVzZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBTUEVDSUZJQ0lUWV9BVVRIT1JfSU1QT1JUQU5UOiBudW1iZXIgPSA4Mzg4NjA4MDtcblxuLyoqXG4gKiBVc2VyIHN0eWxlc2hlZXQgYmFzZSBzcGVjaWZpY2l0eSB3aGVuICFpbXBvcnRhbnQgaXMgdXNlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFNQRUNJRklDSVRZX1VTRVJfSU1QT1JUQU5UOiBudW1iZXIgPSAxMDA2NjMyOTY7XG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gU3R5bGVzaGVldEZsYXZvciB7XG4gIFVTRVJfQUdFTlQgPSBcIlVBXCIsXG4gIFVTRVIgPSBcIlVzZXJcIixcbiAgQVVUSE9SID0gXCJBdXRob3JcIixcbn1cblxuLyoqXG4gKiBDU1MgQ29sb3IgdmFsdWUgZnJvbSBoYXNoIHRleHQgKHdpdGhvdXQgJyMnIGNoYXJhY3RlcikuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb2xvckZyb21IYXNoKHRleHQ6IHN0cmluZyk6IENzcy5Db2xvciB7XG4gIGxldCBudW0gPSBwYXJzZUludCh0ZXh0LCAxNik7XG4gIGlmIChpc05hTihudW0pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfQ09MT1JcIik7XG4gIH1cbiAgaWYgKHRleHQubGVuZ3RoID09IDYpIHtcbiAgICByZXR1cm4gbmV3IENzcy5Db2xvcihudW0pO1xuICB9XG4gIGlmICh0ZXh0Lmxlbmd0aCA9PSAzKSB7XG4gICAgbnVtID1cbiAgICAgIChudW0gJiAxNSkgfFxuICAgICAgKChudW0gJiAxNSkgPDwgNCkgfFxuICAgICAgKChudW0gJiAyNDApIDw8IDQpIHxcbiAgICAgICgobnVtICYgMjQwKSA8PCA4KSB8XG4gICAgICAoKG51bSAmIDM4NDApIDw8IDgpIHxcbiAgICAgICgobnVtICYgMzg0MCkgPDwgMTIpO1xuICAgIHJldHVybiBuZXcgQ3NzLkNvbG9yKG51bSk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfQ09MT1JcIik7XG59XG5cbmV4cG9ydCBjbGFzcyBQYXJzZXJIYW5kbGVyIGltcGxlbWVudHMgQ3NzVG9rZW5pemVyLlRva2VuaXplckhhbmRsZXIge1xuICBmbGF2b3I6IFN0eWxlc2hlZXRGbGF2b3I7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUpIHtcbiAgICB0aGlzLmZsYXZvciA9IFN0eWxlc2hlZXRGbGF2b3IuQVVUSE9SO1xuICB9XG5cbiAgZ2V0Q3VycmVudFRva2VuKCk6IENzc1Rva2VuaXplci5Ub2tlbiB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRTY29wZSgpOiBFeHBycy5MZXhpY2FsU2NvcGUge1xuICAgIHJldHVybiB0aGlzLnNjb3BlO1xuICB9XG5cbiAgZXJyb3IobW5lbW9uaWNzOiBzdHJpbmcsIHRva2VuOiBDc3NUb2tlbml6ZXIuVG9rZW4pOiB2b2lkIHt9XG5cbiAgc3RhcnRTdHlsZXNoZWV0KGZsYXZvcjogU3R5bGVzaGVldEZsYXZvcik6IHZvaWQge1xuICAgIHRoaXMuZmxhdm9yID0gZmxhdm9yO1xuICB9XG5cbiAgdGFnU2VsZWN0b3IobnM6IHN0cmluZyB8IG51bGwsIG5hbWU6IHN0cmluZyB8IG51bGwpOiB2b2lkIHt9XG5cbiAgY2xhc3NTZWxlY3RvcihuYW1lOiBzdHJpbmcpOiB2b2lkIHt9XG5cbiAgcHNldWRvY2xhc3NTZWxlY3RvcihuYW1lOiBzdHJpbmcsIHBhcmFtczogKG51bWJlciB8IHN0cmluZylbXSk6IHZvaWQge31cblxuICBwc2V1ZG9lbGVtZW50U2VsZWN0b3IobmFtZTogc3RyaW5nLCBwYXJhbXM6IChudW1iZXIgfCBzdHJpbmcpW10pOiB2b2lkIHt9XG5cbiAgaWRTZWxlY3RvcihpZDogc3RyaW5nKTogdm9pZCB7fVxuXG4gIGF0dHJpYnV0ZVNlbGVjdG9yKFxuICAgIG5zOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIG9wOiBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLFxuICAgIHZhbHVlOiBzdHJpbmcgfCBudWxsLFxuICApOiB2b2lkIHt9XG5cbiAgZGVzY2VuZGFudFNlbGVjdG9yKCk6IHZvaWQge31cblxuICBjaGlsZFNlbGVjdG9yKCk6IHZvaWQge31cblxuICBhZGphY2VudFNpYmxpbmdTZWxlY3RvcigpOiB2b2lkIHt9XG5cbiAgZm9sbG93aW5nU2libGluZ1NlbGVjdG9yKCk6IHZvaWQge31cblxuICBuZXh0U2VsZWN0b3IoKTogdm9pZCB7fVxuXG4gIHN0YXJ0U2VsZWN0b3JSdWxlKCk6IHZvaWQge31cblxuICBzdGFydEZvbnRGYWNlUnVsZSgpOiB2b2lkIHt9XG5cbiAgc3RhcnRGb290bm90ZVJ1bGUocHNldWRvZWxlbTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge31cblxuICBzdGFydFZpZXdwb3J0UnVsZSgpOiB2b2lkIHt9XG5cbiAgc3RhcnREZWZpbmVSdWxlKCk6IHZvaWQge31cblxuICBzdGFydFJlZ2lvblJ1bGUoKTogdm9pZCB7fVxuXG4gIHN0YXJ0UGFnZVJ1bGUoKTogdm9pZCB7fVxuXG4gIHN0YXJ0UGFnZU1hcmdpbkJveFJ1bGUobmFtZTogc3RyaW5nKTogdm9pZCB7fVxuXG4gIHN0YXJ0V2hlblJ1bGUoZXhwcjogQ3NzLkV4cHIpOiB2b2lkIHt9XG5cbiAgc3RhcnRNZWRpYVJ1bGUoZXhwcjogQ3NzLkV4cHIpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXJ0V2hlblJ1bGUoZXhwcik7XG4gIH1cblxuICBzdGFydEZsb3dSdWxlKGZsb3dOYW1lOiBzdHJpbmcpOiB2b2lkIHt9XG5cbiAgc3RhcnRQYWdlVGVtcGxhdGVSdWxlKCk6IHZvaWQge31cblxuICBzdGFydFBhZ2VNYXN0ZXJSdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7fVxuXG4gIHN0YXJ0UGFydGl0aW9uUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge31cblxuICBzdGFydFBhcnRpdGlvbkdyb3VwUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge31cblxuICBzdGFydFJ1bGVCb2R5KCk6IHZvaWQge31cblxuICBwcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQ6IGJvb2xlYW4pOiB2b2lkIHt9XG5cbiAgZW5kUnVsZSgpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBmdW5jTmFtZSBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdGFraW5nIGEgc2VsZWN0b3IgbGlzdCBhcyBhblxuICAgKiAgICAgYXJndW1lbnRcbiAgICovXG4gIHN0YXJ0RnVuY1dpdGhTZWxlY3RvcihmdW5jTmFtZTogc3RyaW5nKTogdm9pZCB7fVxuXG4gIGVuZEZ1bmNXaXRoU2VsZWN0b3IoKTogdm9pZCB7fVxuXG4gIGdldEltcG9ydGFudFNwZWNpZmljaXR5KCk6IG51bWJlciB7XG4gICAgc3dpdGNoICh0aGlzLmZsYXZvcikge1xuICAgICAgY2FzZSBTdHlsZXNoZWV0Rmxhdm9yLlVTRVJfQUdFTlQ6XG4gICAgICAgIHJldHVybiBTUEVDSUZJQ0lUWV9VU0VSX0FHRU5UO1xuICAgICAgY2FzZSBTdHlsZXNoZWV0Rmxhdm9yLlVTRVI6XG4gICAgICAgIHJldHVybiBTUEVDSUZJQ0lUWV9VU0VSX0lNUE9SVEFOVDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBTUEVDSUZJQ0lUWV9BVVRIT1JfSU1QT1JUQU5UO1xuICAgIH1cbiAgfVxuXG4gIGdldEJhc2VTcGVjaWZpY2l0eSgpOiBudW1iZXIge1xuICAgIHN3aXRjaCAodGhpcy5mbGF2b3IpIHtcbiAgICAgIGNhc2UgU3R5bGVzaGVldEZsYXZvci5VU0VSX0FHRU5UOlxuICAgICAgICByZXR1cm4gU1BFQ0lGSUNJVFlfVVNFUl9BR0VOVDtcbiAgICAgIGNhc2UgU3R5bGVzaGVldEZsYXZvci5VU0VSOlxuICAgICAgICByZXR1cm4gU1BFQ0lGSUNJVFlfVVNFUjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBTUEVDSUZJQ0lUWV9BVVRIT1I7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEaXNwYXRjaFBhcnNlckhhbmRsZXIgZXh0ZW5kcyBQYXJzZXJIYW5kbGVyIHtcbiAgc3RhY2s6IFBhcnNlckhhbmRsZXJbXSA9IFtdO1xuICB0b2tlbml6ZXI6IENzc1Rva2VuaXplci5Ub2tlbml6ZXIgPSBudWxsO1xuICBzbGF2ZTogUGFyc2VySGFuZGxlciA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIobnVsbCk7XG4gIH1cblxuICBwdXNoSGFuZGxlcihzbGF2ZTogUGFyc2VySGFuZGxlcik6IHZvaWQge1xuICAgIHRoaXMuc3RhY2sucHVzaCh0aGlzLnNsYXZlKTtcbiAgICB0aGlzLnNsYXZlID0gc2xhdmU7XG4gIH1cblxuICBwb3BIYW5kbGVyKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUgPSB0aGlzLnN0YWNrLnBvcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0Q3VycmVudFRva2VuKCk6IENzc1Rva2VuaXplci5Ub2tlbiB7XG4gICAgaWYgKHRoaXMudG9rZW5pemVyKSB7XG4gICAgICByZXR1cm4gdGhpcy50b2tlbml6ZXIudG9rZW4oKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRTY29wZSgpOiBFeHBycy5MZXhpY2FsU2NvcGUge1xuICAgIHJldHVybiB0aGlzLnNsYXZlLmdldFNjb3BlKCk7XG4gIH1cblxuICAvKipcbiAgICogRm9yd2FyZHMgY2FsbCB0byBzbGF2ZS5cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBlcnJvcihtbmVtb25pY3M6IHN0cmluZywgdG9rZW46IENzc1Rva2VuaXplci5Ub2tlbik6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuZXJyb3IobW5lbW9uaWNzLCB0b2tlbik7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGJ5IGEgc2xhdmUuXG4gICAqL1xuICBlcnJvck1zZyhtbmVtb25pY3M6IHN0cmluZywgdG9rZW46IENzc1Rva2VuaXplci5Ub2tlbik6IHZvaWQge1xuICAgIExvZ2dpbmcubG9nZ2VyLndhcm4obW5lbW9uaWNzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0U3R5bGVzaGVldChmbGF2b3I6IFN0eWxlc2hlZXRGbGF2b3IpOiB2b2lkIHtcbiAgICBzdXBlci5zdGFydFN0eWxlc2hlZXQoZmxhdm9yKTtcbiAgICBpZiAodGhpcy5zdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBUaGlzIGNhbiBvY2N1ciBhcyBhIHJlc3VsdCBvZiBhbiBlcnJvclxuICAgICAgdGhpcy5zbGF2ZSA9IHRoaXMuc3RhY2tbMF07XG4gICAgICB0aGlzLnN0YWNrID0gW107XG4gICAgfVxuICAgIHRoaXMuc2xhdmUuc3RhcnRTdHlsZXNoZWV0KGZsYXZvcik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0YWdTZWxlY3Rvcihuczogc3RyaW5nIHwgbnVsbCwgbmFtZTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUudGFnU2VsZWN0b3IobnMsIG5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xhc3NTZWxlY3RvcihuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLmNsYXNzU2VsZWN0b3IobmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwc2V1ZG9jbGFzc1NlbGVjdG9yKG5hbWU6IHN0cmluZywgcGFyYW1zOiAobnVtYmVyIHwgc3RyaW5nKVtdKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5wc2V1ZG9jbGFzc1NlbGVjdG9yKG5hbWUsIHBhcmFtcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwc2V1ZG9lbGVtZW50U2VsZWN0b3IobmFtZTogc3RyaW5nLCBwYXJhbXM6IChudW1iZXIgfCBzdHJpbmcpW10pOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnBzZXVkb2VsZW1lbnRTZWxlY3RvcihuYW1lLCBwYXJhbXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaWRTZWxlY3RvcihpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5pZFNlbGVjdG9yKGlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGF0dHJpYnV0ZVNlbGVjdG9yKFxuICAgIG5zOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIG9wOiBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLFxuICAgIHZhbHVlOiBzdHJpbmcgfCBudWxsLFxuICApOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLmF0dHJpYnV0ZVNlbGVjdG9yKG5zLCBuYW1lLCBvcCwgdmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZGVzY2VuZGFudFNlbGVjdG9yKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuZGVzY2VuZGFudFNlbGVjdG9yKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjaGlsZFNlbGVjdG9yKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuY2hpbGRTZWxlY3RvcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWRqYWNlbnRTaWJsaW5nU2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5hZGphY2VudFNpYmxpbmdTZWxlY3RvcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZm9sbG93aW5nU2libGluZ1NlbGVjdG9yKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuZm9sbG93aW5nU2libGluZ1NlbGVjdG9yKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBuZXh0U2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5uZXh0U2VsZWN0b3IoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0U2VsZWN0b3JSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRTZWxlY3RvclJ1bGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Rm9udEZhY2VSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRGb250RmFjZVJ1bGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Rm9vdG5vdGVSdWxlKHBzZXVkb2VsZW06IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnN0YXJ0Rm9vdG5vdGVSdWxlKHBzZXVkb2VsZW0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRWaWV3cG9ydFJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFZpZXdwb3J0UnVsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnREZWZpbmVSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnREZWZpbmVSdWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFJlZ2lvblJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFJlZ2lvblJ1bGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFnZVJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFBhZ2VSdWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VNYXJnaW5Cb3hSdWxlKG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRQYWdlTWFyZ2luQm94UnVsZShuYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0V2hlblJ1bGUoZXhwcjogQ3NzLkV4cHIpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnN0YXJ0V2hlblJ1bGUoZXhwcik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydEZsb3dSdWxlKGZsb3dOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnN0YXJ0Rmxvd1J1bGUoZmxvd05hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYWdlVGVtcGxhdGVSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRQYWdlVGVtcGxhdGVSdWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VNYXN0ZXJSdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFBhZ2VNYXN0ZXJSdWxlKG5hbWUsIHBzZXVkb05hbWUsIGNsYXNzZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYXJ0aXRpb25SdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFBhcnRpdGlvblJ1bGUobmFtZSwgcHNldWRvTmFtZSwgY2xhc3Nlcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhcnRpdGlvbkdyb3VwUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRQYXJ0aXRpb25Hcm91cFJ1bGUobmFtZSwgcHNldWRvTmFtZSwgY2xhc3Nlcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFJ1bGVCb2R5KCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRSdWxlQm9keSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50OiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5wcm9wZXJ0eShuYW1lLCB2YWx1ZSwgaW1wb3J0YW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVuZFJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5lbmRSdWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydEZ1bmNXaXRoU2VsZWN0b3IoZnVuY05hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRGdW5jV2l0aFNlbGVjdG9yKGZ1bmNOYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVuZEZ1bmNXaXRoU2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5lbmRGdW5jV2l0aFNlbGVjdG9yKCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNraXBwaW5nUGFyc2VySGFuZGxlciBleHRlbmRzIFBhcnNlckhhbmRsZXIge1xuICBkZXB0aDogbnVtYmVyID0gMDtcbiAgZmxhdm9yOiBTdHlsZXNoZWV0Rmxhdm9yO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIG93bmVyOiBEaXNwYXRjaFBhcnNlckhhbmRsZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHRvcExldmVsLFxuICApIHtcbiAgICBzdXBlcihzY29wZSk7XG4gICAgaWYgKG93bmVyKSB7XG4gICAgICB0aGlzLmZsYXZvciA9IG93bmVyLmZsYXZvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRDdXJyZW50VG9rZW4oKTogQ3NzVG9rZW5pemVyLlRva2VuIHtcbiAgICByZXR1cm4gdGhpcy5vd25lci5nZXRDdXJyZW50VG9rZW4oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVycm9yKG1uZW1vbmljczogc3RyaW5nLCB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuKTogdm9pZCB7XG4gICAgdGhpcy5vd25lci5lcnJvck1zZyhtbmVtb25pY3MsIHRva2VuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UnVsZUJvZHkoKTogdm9pZCB7XG4gICAgdGhpcy5kZXB0aCsrO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZW5kUnVsZSgpOiB2b2lkIHtcbiAgICBpZiAoLS10aGlzLmRlcHRoID09IDAgJiYgIXRoaXMudG9wTGV2ZWwpIHtcbiAgICAgIHRoaXMub3duZXIucG9wSGFuZGxlcigpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2xhdmVQYXJzZXJIYW5kbGVyIGV4dGVuZHMgU2tpcHBpbmdQYXJzZXJIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogRGlzcGF0Y2hQYXJzZXJIYW5kbGVyLFxuICAgIHRvcExldmVsOiBib29sZWFuLFxuICApIHtcbiAgICBzdXBlcihzY29wZSwgb3duZXIsIHRvcExldmVsKTtcbiAgfVxuXG4gIHJlcG9ydChtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmVycm9yKG1lc3NhZ2UsIHRoaXMuZ2V0Q3VycmVudFRva2VuKCkpO1xuICB9XG5cbiAgcmVwb3J0QW5kU2tpcChtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydChtZXNzYWdlKTtcbiAgICB0aGlzLm93bmVyLnB1c2hIYW5kbGVyKFxuICAgICAgbmV3IFNraXBwaW5nUGFyc2VySGFuZGxlcih0aGlzLnNjb3BlLCB0aGlzLm93bmVyLCBmYWxzZSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0U2VsZWN0b3JSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfU0VMRUNUT1JcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydEZvbnRGYWNlUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX0ZPTlRfRkFDRVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Rm9vdG5vdGVSdWxlKHBzZXVkb2VsZW06IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX0ZPT1ROT1RFXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRWaWV3cG9ydFJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9WSUVXUE9SVFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0RGVmaW5lUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX0RFRklORVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UmVnaW9uUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX1JFR0lPTlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFnZVJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9QQUdFXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRXaGVuUnVsZShleHByOiBDc3MuRXhwcik6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfV0hFTlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Rmxvd1J1bGUoZmxvd05hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfRkxPV1wiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFnZVRlbXBsYXRlUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX1BBR0VfVEVNUExBVEVcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VNYXN0ZXJSdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9QQUdFX01BU1RFUlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFydGl0aW9uUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfUEFSVElUSU9OXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYXJ0aXRpb25Hcm91cFJ1bGUoXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICApOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX1BBUlRJVElPTl9HUk9VUFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0RnVuY1dpdGhTZWxlY3RvcihmdW5jTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9TRUxFQ1RPUl9GVU5DXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZW5kRnVuY1dpdGhTZWxlY3RvcigpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX0VORF9TRUxFQ1RPUl9GVU5DXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50OiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5lcnJvcihcIkVfQ1NTX1VORVhQRUNURURfUFJPUEVSVFlcIiwgdGhpcy5nZXRDdXJyZW50VG9rZW4oKSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNCYXNlOiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1N0eWxlQXR0cmlidXRlOiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1NlbGVjdG9yOiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1NlbGVjdG9ySW5GdW5jOiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1NlbGVjdG9yQ29udDogQWN0aW9uW10gPSBbXTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNTZWxlY3RvclN0YXJ0OiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1Byb3BWYWw6IEFjdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zRXhwclZhbDogQWN0aW9uW10gPSBbXTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNFeHByT3A6IEFjdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zRXJyb3I6IEFjdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zRXJyb3JEZWNsOiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc0Vycm9yU2VsZWN0b3I6IEFjdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBwcmlvcml0eTogbnVtYmVyW10gPSBbXTtcblxuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZW51bSBBY3Rpb24ge1xuICBTRUxFQ1RPUl9OQU1FXzEgPSAxLFxuICBTRUxFQ1RPUl9OQU1FLFxuICBTRUxFQ1RPUl9BTllfMSxcbiAgU0VMRUNUT1JfQU5ZLFxuICBTRUxFQ1RPUl9JRF8xLFxuICBTRUxFQ1RPUl9JRCxcbiAgU0VMRUNUT1JfQ0xBU1NfMSxcbiAgU0VMRUNUT1JfQ0xBU1MsXG4gIFNFTEVDVE9SX0FUVFJfMSxcbiAgU0VMRUNUT1JfQVRUUixcbiAgU0VMRUNUT1JfQ0hJTEQsXG4gIFNFTEVDVE9SX1NJQkxJTkcsXG4gIFNFTEVDVE9SX0JPRFksXG4gIFNFTEVDVE9SX1BTRVVET0NMQVNTLFxuICBWQUxfSURFTlQsXG4gIFZBTF9IQVNILFxuICBWQUxfTlVNLFxuICBWQUxfSU5ULFxuICBWQUxfTlVNRVJJQyxcbiAgVkFMX1NUUixcbiAgVkFMX1VSTCxcbiAgVkFMX0NPTU1BLFxuICBWQUxfU0xBU0gsXG4gIFZBTF9GVU5DLFxuICBWQUxfQ19QQVIsXG4gIFZBTF9FTkQsXG4gIFJVTEVfRU5ELFxuICBJREVOVCxcbiAgU0VMRUNUT1JfU1RBUlQsXG4gIEFULFxuICBFWFBSX0lERU5ULFxuICBFWFBSX05VTSxcbiAgRVhQUl9OVU1FUklDLFxuICBFWFBSX1NUUixcbiAgRVhQUl9QQVJBTSxcbiAgRVhQUl9QUkVGSVgsXG4gIEVYUFJfSU5GSVgsXG4gIEVYUFJfRlVOQyxcbiAgRVhQUl9DX1BBUixcbiAgRVhQUl9PX1BBUixcbiAgU0VMRUNUT1JfTkVYVCxcbiAgU0VMRUNUT1JfUFNFVURPRUxFTSxcbiAgRVhQUl9PX0JSQyxcbiAgVkFMX0ZJTklTSCxcbiAgRVhQUl9JTkZJWF9OQU1FLFxuICBQUk9QLFxuICBWQUxfQkFORyxcbiAgVkFMX0JSQyxcbiAgRVhQUl9TRU1JQ09MLFxuICBFUlJPUl9QVVNILFxuICBFUlJPUl9QT1AsXG4gIEVSUk9SX1BPUF9ERUNMLFxuICBFUlJPUl9TRU1JQ09MLFxuICBWQUxfUExVUyxcbiAgU0VMRUNUT1JfUFNFVURPQ0xBU1NfMSxcbiAgU0VMRUNUT1JfRk9MTE9XSU5HX1NJQkxJTkcsXG4gIERPTkUgPSAyMDAsXG59XG5cbmV4cG9ydCBjb25zdCBPUF9NRURJQV9BTkQ6IG51bWJlciA9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuTEFTVCArIDE7XG5cbigoKSA9PiB7XG4gIGFjdGlvbnNCYXNlW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlRdID0gQWN0aW9uLklERU5UO1xuICBhY3Rpb25zQmFzZVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUQVJdID0gQWN0aW9uLlNFTEVDVE9SX1NUQVJUO1xuICBhY3Rpb25zQmFzZVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkhBU0hdID0gQWN0aW9uLlNFTEVDVE9SX1NUQVJUO1xuICBhY3Rpb25zQmFzZVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNMQVNTXSA9IEFjdGlvbi5TRUxFQ1RPUl9TVEFSVDtcbiAgYWN0aW9uc0Jhc2VbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSS10gPSBBY3Rpb24uU0VMRUNUT1JfU1RBUlQ7XG4gIGFjdGlvbnNCYXNlW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT05dID0gQWN0aW9uLlNFTEVDVE9SX1NUQVJUO1xuICBhY3Rpb25zQmFzZVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkFUXSA9IEFjdGlvbi5BVDtcbiAgYWN0aW9uc0Jhc2VbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSQ10gPSBBY3Rpb24uUlVMRV9FTkQ7XG4gIGFjdGlvbnNCYXNlW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GXSA9IEFjdGlvbi5ET05FO1xuICBhY3Rpb25zU3R5bGVBdHRyaWJ1dGVbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVF0gPSBBY3Rpb24uUFJPUDtcbiAgYWN0aW9uc1N0eWxlQXR0cmlidXRlW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GXSA9IEFjdGlvbi5ET05FO1xuICBhY3Rpb25zU2VsZWN0b3JTdGFydFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UXSA9IEFjdGlvbi5TRUxFQ1RPUl9OQU1FO1xuICBhY3Rpb25zU2VsZWN0b3JTdGFydFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUQVJdID0gQWN0aW9uLlNFTEVDVE9SX0FOWTtcbiAgYWN0aW9uc1NlbGVjdG9yU3RhcnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5IQVNIXSA9IEFjdGlvbi5TRUxFQ1RPUl9JRDtcbiAgYWN0aW9uc1NlbGVjdG9yU3RhcnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DTEFTU10gPSBBY3Rpb24uU0VMRUNUT1JfQ0xBU1M7XG4gIGFjdGlvbnNTZWxlY3RvclN0YXJ0W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUktdID0gQWN0aW9uLlNFTEVDVE9SX0FUVFI7XG4gIGFjdGlvbnNTZWxlY3RvclN0YXJ0W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT05dID1cbiAgICBBY3Rpb24uU0VMRUNUT1JfUFNFVURPQ0xBU1M7XG5cbiAgYWN0aW9uc1NlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuR1RdID0gQWN0aW9uLlNFTEVDVE9SX0NISUxEO1xuICBhY3Rpb25zU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QTFVTXSA9IEFjdGlvbi5TRUxFQ1RPUl9TSUJMSU5HO1xuICBhY3Rpb25zU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5USUxERV0gPVxuICAgIEFjdGlvbi5TRUxFQ1RPUl9GT0xMT1dJTkdfU0lCTElORztcbiAgYWN0aW9uc1NlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlRdID0gQWN0aW9uLlNFTEVDVE9SX05BTUVfMTtcbiAgYWN0aW9uc1NlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUl0gPSBBY3Rpb24uU0VMRUNUT1JfQU5ZXzE7XG4gIGFjdGlvbnNTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkhBU0hdID0gQWN0aW9uLlNFTEVDVE9SX0lEXzE7XG4gIGFjdGlvbnNTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNMQVNTXSA9IEFjdGlvbi5TRUxFQ1RPUl9DTEFTU18xO1xuICBhY3Rpb25zU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSS10gPSBBY3Rpb24uU0VMRUNUT1JfQVRUUl8xO1xuICBhY3Rpb25zU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQ10gPSBBY3Rpb24uU0VMRUNUT1JfQk9EWTtcbiAgYWN0aW9uc1NlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT05dID0gQWN0aW9uLlNFTEVDVE9SX1BTRVVET0NMQVNTXzE7XG4gIGFjdGlvbnNTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTF9DT0xdID0gQWN0aW9uLlNFTEVDVE9SX1BTRVVET0VMRU07XG4gIGFjdGlvbnNTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTU1BXSA9IEFjdGlvbi5TRUxFQ1RPUl9ORVhUO1xuICBhY3Rpb25zU2VsZWN0b3JJbkZ1bmNbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVF0gPSBBY3Rpb24uU0VMRUNUT1JfTkFNRV8xO1xuICBhY3Rpb25zU2VsZWN0b3JJbkZ1bmNbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVEFSXSA9IEFjdGlvbi5TRUxFQ1RPUl9BTllfMTtcbiAgYWN0aW9uc1NlbGVjdG9ySW5GdW5jW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuSEFTSF0gPSBBY3Rpb24uU0VMRUNUT1JfSURfMTtcbiAgYWN0aW9uc1NlbGVjdG9ySW5GdW5jW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ0xBU1NdID0gQWN0aW9uLlNFTEVDVE9SX0NMQVNTXzE7XG4gIGFjdGlvbnNTZWxlY3RvckluRnVuY1tDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJLXSA9IEFjdGlvbi5TRUxFQ1RPUl9BVFRSXzE7XG4gIGFjdGlvbnNTZWxlY3RvckluRnVuY1tDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSXSA9IEFjdGlvbi5ET05FO1xuICBhY3Rpb25zU2VsZWN0b3JJbkZ1bmNbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTl0gPVxuICAgIEFjdGlvbi5TRUxFQ1RPUl9QU0VVRE9DTEFTU18xO1xuICBhY3Rpb25zU2VsZWN0b3JDb250W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlRdID0gQWN0aW9uLlNFTEVDVE9SX05BTUU7XG4gIGFjdGlvbnNTZWxlY3RvckNvbnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVEFSXSA9IEFjdGlvbi5TRUxFQ1RPUl9BTlk7XG4gIGFjdGlvbnNTZWxlY3RvckNvbnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5IQVNIXSA9IEFjdGlvbi5TRUxFQ1RPUl9JRDtcbiAgYWN0aW9uc1NlbGVjdG9yQ29udFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNMQVNTXSA9IEFjdGlvbi5TRUxFQ1RPUl9DTEFTUztcbiAgYWN0aW9uc1NlbGVjdG9yQ29udFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTE9OXSA9XG4gICAgQWN0aW9uLlNFTEVDVE9SX1BTRVVET0NMQVNTO1xuICBhY3Rpb25zU2VsZWN0b3JDb250W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MX0NPTF0gPVxuICAgIEFjdGlvbi5TRUxFQ1RPUl9QU0VVRE9FTEVNO1xuICBhY3Rpb25zU2VsZWN0b3JDb250W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUktdID0gQWN0aW9uLlNFTEVDVE9SX0FUVFI7XG4gIGFjdGlvbnNTZWxlY3RvckNvbnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQ10gPSBBY3Rpb24uU0VMRUNUT1JfQk9EWTtcbiAgYWN0aW9uc1Byb3BWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVF0gPSBBY3Rpb24uVkFMX0lERU5UO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkhBU0hdID0gQWN0aW9uLlZBTF9IQVNIO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk5VTV0gPSBBY3Rpb24uVkFMX05VTTtcbiAgYWN0aW9uc1Byb3BWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlRdID0gQWN0aW9uLlZBTF9JTlQ7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNRVJJQ10gPSBBY3Rpb24uVkFMX05VTUVSSUM7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RSXSA9IEFjdGlvbi5WQUxfU1RSO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlVSTF0gPSBBY3Rpb24uVkFMX1VSTDtcbiAgYWN0aW9uc1Byb3BWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT01NQV0gPSBBY3Rpb24uVkFMX0NPTU1BO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNMQVNIXSA9IEFjdGlvbi5WQUxfU0xBU0g7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRlVOQ10gPSBBY3Rpb24uVkFMX0ZVTkM7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVJdID0gQWN0aW9uLlZBTF9DX1BBUjtcbiAgYWN0aW9uc1Byb3BWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MXSA9IEFjdGlvbi5WQUxfRU5EO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJDXSA9IEFjdGlvbi5WQUxfQlJDO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBTkddID0gQWN0aW9uLlZBTF9CQU5HO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBMVVNdID0gQWN0aW9uLlZBTF9QTFVTO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRl0gPSBBY3Rpb24uVkFMX0ZJTklTSDtcbiAgYWN0aW9uc0V4cHJWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVF0gPSBBY3Rpb24uRVhQUl9JREVOVDtcbiAgYWN0aW9uc0V4cHJWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1dID0gQWN0aW9uLkVYUFJfTlVNO1xuICBhY3Rpb25zRXhwclZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklOVF0gPSBBY3Rpb24uRVhQUl9OVU07XG4gIGFjdGlvbnNFeHByVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNRVJJQ10gPSBBY3Rpb24uRVhQUl9OVU1FUklDO1xuICBhY3Rpb25zRXhwclZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUUl0gPSBBY3Rpb24uRVhQUl9TVFI7XG4gIGFjdGlvbnNFeHByVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19QQVJdID0gQWN0aW9uLkVYUFJfT19QQVI7XG4gIGFjdGlvbnNFeHByVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRlVOQ10gPSBBY3Rpb24uRVhQUl9GVU5DO1xuICBhY3Rpb25zRXhwclZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBTkddID0gQWN0aW9uLkVYUFJfUFJFRklYO1xuICBhY3Rpb25zRXhwclZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk1JTlVTXSA9IEFjdGlvbi5FWFBSX1BSRUZJWDtcbiAgYWN0aW9uc0V4cHJWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5ET0xMQVJdID0gQWN0aW9uLkVYUFJfUEFSQU07XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVF0gPSBBY3Rpb24uRVhQUl9JTkZJWF9OQU1FO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09NTUFdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5HVF0gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkxUXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuR1RfRVFdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5MVF9FUV0gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVRXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRVFfRVFdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5CQU5HX0VRXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQU1QX0FNUF0gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBUl9CQVJdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QTFVTXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuTUlOVVNdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TTEFTSF0gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBFUkNFTlRdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVEFSXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT05dID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5RTUFSS10gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSXSA9IEFjdGlvbi5FWFBSX0NfUEFSO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUkNdID0gQWN0aW9uLkVYUFJfT19CUkM7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MXSA9IEFjdGlvbi5FWFBSX1NFTUlDT0w7XG4gIGFjdGlvbnNFcnJvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRl0gPSBBY3Rpb24uRE9ORTtcbiAgYWN0aW9uc0Vycm9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUkNdID0gQWN0aW9uLkVSUk9SX1BVU0g7XG4gIGFjdGlvbnNFcnJvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJDXSA9IEFjdGlvbi5FUlJPUl9QT1A7XG4gIGFjdGlvbnNFcnJvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJLXSA9IEFjdGlvbi5FUlJPUl9QVVNIO1xuICBhY3Rpb25zRXJyb3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSS10gPSBBY3Rpb24uRVJST1JfUE9QO1xuICBhY3Rpb25zRXJyb3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX1BBUl0gPSBBY3Rpb24uRVJST1JfUFVTSDtcbiAgYWN0aW9uc0Vycm9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVJdID0gQWN0aW9uLkVSUk9SX1BPUDtcbiAgYWN0aW9uc0Vycm9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU0VNSUNPTF0gPSBBY3Rpb24uRVJST1JfU0VNSUNPTDtcbiAgYWN0aW9uc0Vycm9yRGVjbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRl0gPSBBY3Rpb24uRE9ORTtcbiAgYWN0aW9uc0Vycm9yRGVjbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJDXSA9IEFjdGlvbi5FUlJPUl9QVVNIO1xuICBhY3Rpb25zRXJyb3JEZWNsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19CUkNdID0gQWN0aW9uLkVSUk9SX1BPUF9ERUNMO1xuICBhY3Rpb25zRXJyb3JEZWNsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUktdID0gQWN0aW9uLkVSUk9SX1BVU0g7XG4gIGFjdGlvbnNFcnJvckRlY2xbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSS10gPSBBY3Rpb24uRVJST1JfUE9QO1xuICBhY3Rpb25zRXJyb3JEZWNsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19QQVJdID0gQWN0aW9uLkVSUk9SX1BVU0g7XG4gIGFjdGlvbnNFcnJvckRlY2xbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX1BBUl0gPSBBY3Rpb24uRVJST1JfUE9QO1xuICBhY3Rpb25zRXJyb3JEZWNsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU0VNSUNPTF0gPSBBY3Rpb24uRVJST1JfU0VNSUNPTDtcbiAgYWN0aW9uc0Vycm9yU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FT0ZdID0gQWN0aW9uLkRPTkU7XG4gIGFjdGlvbnNFcnJvclNlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUkNdID0gQWN0aW9uLkVSUk9SX1BVU0g7XG4gIGFjdGlvbnNFcnJvclNlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19CUkNdID0gQWN0aW9uLkVSUk9SX1BPUDtcbiAgYWN0aW9uc0Vycm9yU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSS10gPSBBY3Rpb24uRVJST1JfUFVTSDtcbiAgYWN0aW9uc0Vycm9yU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSS10gPSBBY3Rpb24uRVJST1JfUE9QO1xuICBhY3Rpb25zRXJyb3JTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fUEFSXSA9IEFjdGlvbi5FUlJPUl9QVVNIO1xuICBhY3Rpb25zRXJyb3JTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSXSA9IEFjdGlvbi5FUlJPUl9QT1A7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVJdID0gMDtcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT01NQV0gPSAwO1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlFNQVJLXSA9IDE7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT05dID0gMTtcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5BTVBfQU1QXSA9IDI7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFSX0JBUl0gPSAyO1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkxUXSA9IDM7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuR1RdID0gMztcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5MVF9FUV0gPSAzO1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkdUX0VRXSA9IDM7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRVFdID0gMztcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FUV9FUV0gPSAzO1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBTkdfRVFdID0gMztcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QTFVTXSA9IDQ7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuTUlOVVNdID0gNDtcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVEFSXSA9IDU7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU0xBU0hdID0gNTtcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QRVJDRU5UXSA9IDU7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GXSA9IDY7XG4gIHByaW9yaXR5W09QX01FRElBX0FORF0gPSAyO1xufSkoKTtcblxuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZW51bSBFeHByQ29udGV4dCB7XG4gIFBST1AsXG4gIFdIRU4sXG4gIE1FRElBLFxuICBJTVBPUlQsXG59XG5cbmV4cG9ydCBjbGFzcyBQYXJzZXIge1xuICB2YWxTdGFjazogYW55W10gPSBbXTtcbiAgbmFtZXNwYWNlUHJlZml4VG9VUkk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcbiAgZGVmYXVsdE5hbWVzcGFjZVVSSTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByb3BOYW1lOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgcHJvcEltcG9ydGFudDogYm9vbGVhbiA9IGZhbHNlO1xuICBleHByQ29udGV4dDogRXhwckNvbnRleHQ7XG4gIHJlc3VsdDogQ3NzLlZhbCA9IG51bGw7XG4gIGltcG9ydFJlYWR5OiBib29sZWFuID0gZmFsc2U7XG4gIGltcG9ydFVSTDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGltcG9ydENvbmRpdGlvbjogQ3NzLkV4cHIgPSBudWxsO1xuICBlcnJvckJyYWNrZXRzOiBudW1iZXJbXSA9IFtdO1xuICBydWxlU3RhY2s6IHN0cmluZ1tdID0gW107XG4gIHJlZ2lvblJ1bGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcGFnZVJ1bGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgYWN0aW9uczogQWN0aW9uW10sXG4gICAgcHVibGljIHRva2VuaXplcjogQ3NzVG9rZW5pemVyLlRva2VuaXplcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgaGFuZGxlcjogUGFyc2VySGFuZGxlcixcbiAgICBwdWJsaWMgYmFzZVVSTDogc3RyaW5nLFxuICApIHtcbiAgICB0aGlzLmV4cHJDb250ZXh0ID0gRXhwckNvbnRleHQuTUVESUE7XG4gIH1cblxuICBleHRyYWN0VmFscyhzZXA6IHN0cmluZywgaW5kZXg6IG51bWJlcik6IENzcy5WYWxbXSB7XG4gICAgY29uc3QgYXJyOiBDc3MuVmFsW10gPSBbXTtcbiAgICBjb25zdCB2YWxTdGFjayA9IHRoaXMudmFsU3RhY2s7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGFyci5wdXNoKHZhbFN0YWNrW2luZGV4KytdIGFzIENzcy5WYWwpO1xuICAgICAgaWYgKGluZGV4ID09IHZhbFN0YWNrLmxlbmd0aCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmICh2YWxTdGFja1tpbmRleCsrXSAhPSBzZXApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBzdGF0ZVwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIHZhbFN0YWNrUmVkdWNlKHNlcDogc3RyaW5nLCB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuKTogQ3NzLlZhbCB7XG4gICAgY29uc3QgdmFsU3RhY2sgPSB0aGlzLnZhbFN0YWNrO1xuICAgIGxldCBpbmRleCA9IHZhbFN0YWNrLmxlbmd0aDtcbiAgICBsZXQgdjtcbiAgICBkbyB7XG4gICAgICB2ID0gdmFsU3RhY2tbLS1pbmRleF07XG4gICAgfSB3aGlsZSAodHlwZW9mIHYgIT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgdiAhPSBcInN0cmluZ1wiKTtcbiAgICBsZXQgY291bnQgPSB2YWxTdGFjay5sZW5ndGggLSAoaW5kZXggKyAxKTtcbiAgICBpZiAoY291bnQgPiAxKSB7XG4gICAgICB2YWxTdGFjay5zcGxpY2UoXG4gICAgICAgIGluZGV4ICsgMSxcbiAgICAgICAgY291bnQsXG4gICAgICAgIG5ldyBDc3MuU3BhY2VMaXN0KHZhbFN0YWNrLnNsaWNlKGluZGV4ICsgMSwgdmFsU3RhY2subGVuZ3RoKSksXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoc2VwID09IFwiLFwiKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaW5kZXgrKztcbiAgICBkbyB7XG4gICAgICB2ID0gdmFsU3RhY2tbLS1pbmRleF07XG4gICAgfSB3aGlsZSAodHlwZW9mIHYgIT0gXCJ1bmRlZmluZWRcIiAmJiAodHlwZW9mIHYgIT0gXCJzdHJpbmdcIiB8fCB2ID09IFwiLFwiKSk7XG4gICAgY291bnQgPSB2YWxTdGFjay5sZW5ndGggLSAoaW5kZXggKyAxKTtcbiAgICBpZiAodiA9PSBcIihcIikge1xuICAgICAgaWYgKHNlcCAhPSBcIilcIikge1xuICAgICAgICB0aGlzLmhhbmRsZXIuZXJyb3IoXCJFX0NTU19NSVNNQVRDSEVEX0NfUEFSXCIsIHRva2VuKTtcbiAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yRGVjbDtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCBmdW5jID0gbmV3IENzcy5GdW5jKFxuICAgICAgICB2YWxTdGFja1tpbmRleCAtIDFdIGFzIHN0cmluZyxcbiAgICAgICAgdGhpcy5leHRyYWN0VmFscyhcIixcIiwgaW5kZXggKyAxKSxcbiAgICAgICk7XG4gICAgICB2YWxTdGFjay5zcGxpY2UoaW5kZXggLSAxLCBjb3VudCArIDIsIGZ1bmMpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChzZXAgIT0gXCI7XCIgfHwgaW5kZXggPj0gMCkge1xuICAgICAgdGhpcy5oYW5kbGVyLmVycm9yKFwiRV9DU1NfVU5FWFBFQ1RFRF9WQUxfRU5EXCIsIHRva2VuKTtcbiAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvckRlY2w7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGNvdW50ID4gMSkge1xuICAgICAgcmV0dXJuIG5ldyBDc3MuQ29tbWFMaXN0KHRoaXMuZXh0cmFjdFZhbHMoXCIsXCIsIGluZGV4ICsgMSkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsU3RhY2tbMF0gYXMgQ3NzLlZhbDtcbiAgfVxuXG4gIGV4cHJFcnJvcihtbmVtb25pY3M6IHN0cmluZywgdG9rZW46IENzc1Rva2VuaXplci5Ub2tlbikge1xuICAgIHRoaXMuYWN0aW9ucyA9IHRoaXMucHJvcE5hbWUgPyBhY3Rpb25zRXJyb3JEZWNsIDogYWN0aW9uc0Vycm9yO1xuICAgIHRoaXMuaGFuZGxlci5lcnJvcihtbmVtb25pY3MsIHRva2VuKTtcbiAgfVxuXG4gIGV4cHJTdGFja1JlZHVjZShvcDogbnVtYmVyLCB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuKTogYm9vbGVhbiB7XG4gICAgY29uc3QgdmFsU3RhY2sgPSB0aGlzLnZhbFN0YWNrO1xuICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLmhhbmRsZXI7XG4gICAgbGV0IHZhbCA9IHZhbFN0YWNrLnBvcCgpIGFzIEV4cHJzLlZhbDtcbiAgICBsZXQgdmFsMjogRXhwcnMuVmFsO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBsZXQgdG9rID0gdmFsU3RhY2sucG9wKCk7XG4gICAgICBpZiAob3AgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX1BBUikge1xuICAgICAgICBjb25zdCBhcmdzOiBFeHBycy5WYWxbXSA9IFt2YWxdO1xuICAgICAgICB3aGlsZSAodG9rID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09NTUEpIHtcbiAgICAgICAgICBhcmdzLnVuc2hpZnQodmFsU3RhY2sucG9wKCkpO1xuICAgICAgICAgIHRvayA9IHZhbFN0YWNrLnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdG9rID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBpZiAodG9rID09IFwie1wiKSB7XG4gICAgICAgICAgICAvLyByZWFjaGVkIENTUyBwb3J0aW9uIG9mIHRoZSBzdGFja1xuICAgICAgICAgICAgd2hpbGUgKGFyZ3MubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgICAgY29uc3QgZTEgPSBhcmdzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgIGNvbnN0IGUyID0gYXJncy5zaGlmdCgpO1xuICAgICAgICAgICAgICBjb25zdCBlciA9IG5ldyBFeHBycy5Pck1lZGlhKGhhbmRsZXIuZ2V0U2NvcGUoKSwgZTEsIGUyKTtcbiAgICAgICAgICAgICAgYXJncy51bnNoaWZ0KGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IENzcy5FeHByKGFyZ3NbMF0pKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAodG9rID09IFwiKFwiKSB7XG4gICAgICAgICAgICAvLyBjYWxsXG4gICAgICAgICAgICBjb25zdCBuYW1lMiA9IHZhbFN0YWNrLnBvcCgpIGFzIHN0cmluZztcbiAgICAgICAgICAgIGNvbnN0IG5hbWUxID0gdmFsU3RhY2sucG9wKCkgYXMgc3RyaW5nIHwgbnVsbDtcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5DYWxsKFxuICAgICAgICAgICAgICBoYW5kbGVyLmdldFNjb3BlKCksXG4gICAgICAgICAgICAgIEV4cHJzLm1ha2VRdWFsaWZpZWROYW1lKG5hbWUxLCBuYW1lMiksXG4gICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgb3AgPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRjtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuT19QQVIpIHtcbiAgICAgICAgICBpZiAodmFsLmlzTWVkaWFOYW1lKCkpIHtcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5NZWRpYVRlc3QoXG4gICAgICAgICAgICAgIGhhbmRsZXIuZ2V0U2NvcGUoKSxcbiAgICAgICAgICAgICAgdmFsIGFzIEV4cHJzLk1lZGlhTmFtZSxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9wID0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FT0Y7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2YgdG9rID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAvLyByZWFjaGVkIENTUyBwb3J0aW9uIG9mIHRoZSBzdGFjayBvciBhIGNhbGxcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKHRvayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgodG9rIGFzIG51bWJlcikgPCAwKSB7XG4gICAgICAgIC8vIHByZWZpeFxuICAgICAgICBpZiAodG9rID09IC1Dc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBTkcpIHtcbiAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuTm90KGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsKTtcbiAgICAgICAgfSBlbHNlIGlmICh0b2sgPT0gLUNzc1Rva2VuaXplci5Ub2tlblR5cGUuTUlOVVMpIHtcbiAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuTmVnYXRlKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmV4cHJFcnJvcihcIkZfVU5FWFBFQ1RFRF9TVEFURVwiLCB0b2tlbik7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpbmZpeFxuICAgICAgICBpZiAocHJpb3JpdHlbb3BdID4gcHJpb3JpdHlbdG9rIGFzIG51bWJlcl0pIHtcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKHRvayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFsMiA9IHZhbFN0YWNrLnBvcCgpIGFzIEV4cHJzLlZhbDtcbiAgICAgICAgc3dpdGNoICh0b2spIHtcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQU1QX0FNUDpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5BbmQoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBPUF9NRURJQV9BTkQ6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuQW5kTWVkaWEoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBUl9CQVI6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuT3IoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkxUOlxuICAgICAgICAgICAgdmFsID0gbmV3IEV4cHJzLkx0KGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsMiwgdmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5HVDpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5HdChoYW5kbGVyLmdldFNjb3BlKCksIHZhbDIsIHZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuTFRfRVE6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuTGUoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkdUX0VROlxuICAgICAgICAgICAgdmFsID0gbmV3IEV4cHJzLkdlKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsMiwgdmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FUTpcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuRVFfRVE6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuRXEoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBTkdfRVE6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuTmUoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBMVVM6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuQWRkKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsMiwgdmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5NSU5VUzpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5TdWJ0cmFjdChoYW5kbGVyLmdldFNjb3BlKCksIHZhbDIsIHZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUjpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5NdWx0aXBseShoYW5kbGVyLmdldFNjb3BlKCksIHZhbDIsIHZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU0xBU0g6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuRGl2aWRlKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsMiwgdmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QRVJDRU5UOlxuICAgICAgICAgICAgdmFsID0gbmV3IEV4cHJzLk1vZHVsbyhoYW5kbGVyLmdldFNjb3BlKCksIHZhbDIsIHZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT046XG4gICAgICAgICAgICBpZiAodmFsU3RhY2subGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICBzd2l0Y2ggKHZhbFN0YWNrW3ZhbFN0YWNrLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlFNQVJLOlxuICAgICAgICAgICAgICAgICAgdmFsU3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuQ29uZChcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5nZXRTY29wZSgpLFxuICAgICAgICAgICAgICAgICAgICB2YWxTdGFjay5wb3AoKSBhcyBFeHBycy5WYWwsXG4gICAgICAgICAgICAgICAgICAgIHZhbDIsXG4gICAgICAgICAgICAgICAgICAgIHZhbCxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuT19QQVI6XG4gICAgICAgICAgICAgICAgICBpZiAodmFsMi5pc01lZGlhTmFtZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5NZWRpYVRlc3QoXG4gICAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5nZXRTY29wZSgpLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbDIgYXMgRXhwcnMuTWVkaWFOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbCxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRV9DU1NfTUVESUFfVEVTVFwiLCB0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmV4cHJFcnJvcihcIkVfQ1NTX0VYUFJfQ09ORFwiLCB0b2tlbik7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5RTUFSSzpcbiAgICAgICAgICAgIGlmIChvcCAhPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTE9OKSB7XG4gICAgICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRV9DU1NfRVhQUl9DT05EXCIsIHRva2VuKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fUEFSOlxuICAgICAgICAgICAgLy8gZG9uJ3QgcmVkdWNlXG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKHZhbDIpO1xuICAgICAgICAgICAgdmFsU3RhY2sucHVzaCh0b2spO1xuICAgICAgICAgICAgdmFsU3RhY2sucHVzaCh2YWwpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aGlzLmV4cHJFcnJvcihcIkZfVU5FWFBFQ1RFRF9TVEFURVwiLCB0b2tlbik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFsU3RhY2sucHVzaCh2YWwpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJlYWRQc2V1ZG9QYXJhbXMoKTogKG51bWJlciB8IHN0cmluZylbXSB7XG4gICAgY29uc3QgYXJyID0gW107XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IHRva2VuID0gdGhpcy50b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQ6XG4gICAgICAgICAgYXJyLnB1c2godG9rZW4udGV4dCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QTFVTOlxuICAgICAgICAgIGFyci5wdXNoKFwiK1wiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk5VTTpcbiAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklOVDpcbiAgICAgICAgICBhcnIucHVzaCh0b2tlbi5udW0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICB9XG4gICAgICB0aGlzLnRva2VuaXplci5jb25zdW1lKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlYWQgYGFuK2JgIGFyZ3VtZW50IG9mIHBzZXVkb2NsYXNzZXMuIFJvdWdobHkgYmFzZWQgb24gdGhlIGFsZ29yaXRobSBhdFxuICAgKiBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLXN5bnRheC8jdGhlLWFuYi10eXBlXG4gICAqL1xuICBwcml2YXRlIHJlYWROdGhQc2V1ZG9QYXJhbXMoKTogbnVtYmVyW10gfCBudWxsIHtcbiAgICBsZXQgaGFzTGVhZGluZ1BsdXMgPSBmYWxzZTtcbiAgICBsZXQgdG9rZW4gPSB0aGlzLnRva2VuaXplci50b2tlbigpO1xuICAgIGlmICh0b2tlbi50eXBlID09PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBMVVMpIHtcbiAgICAgIC8vICcrJ1xuICAgICAgaGFzTGVhZGluZ1BsdXMgPSB0cnVlO1xuICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgdG9rZW4gPSB0aGlzLnRva2VuaXplci50b2tlbigpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICB0b2tlbi50eXBlID09PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UICYmXG4gICAgICAodG9rZW4udGV4dCA9PT0gXCJldmVuXCIgfHwgdG9rZW4udGV4dCA9PT0gXCJvZGRcIilcbiAgICApIHtcbiAgICAgIC8vICdldmVuJyBvciAnb2RkJ1xuICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgcmV0dXJuIFsyLCB0b2tlbi50ZXh0ID09PSBcIm9kZFwiID8gMSA6IDBdO1xuICAgIH1cbiAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1FUklDOlxuICAgICAgICBpZiAoaGFzTGVhZGluZ1BsdXMgJiYgdG9rZW4ubnVtIDwgMCkge1xuICAgICAgICAgIC8vIHJlamVjdCAnKy1hbidcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAvLyBGQUxMVEhST1VHSFxuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UOlxuICAgICAgICBpZiAoaGFzTGVhZGluZ1BsdXMgJiYgdG9rZW4udGV4dC5jaGFyQXQoMCkgPT09IFwiLVwiKSB7XG4gICAgICAgICAgLy8gcmVqZWN0ICcrLW4nXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRva2VuLnRleHQgPT09IFwiblwiIHx8IHRva2VuLnRleHQgPT09IFwiLW5cIikge1xuICAgICAgICAgIC8vICdhbicsICdhbiArYicsICdhbiAtYicsICduJywgJ24gK2InLCAnbiAtYicsICctbicsICctbiArYicgJy1uIC1iJ1xuICAgICAgICAgIGlmIChoYXNMZWFkaW5nUGx1cyAmJiB0b2tlbi5wcmVjZWRlZEJ5U3BhY2UpIHtcbiAgICAgICAgICAgIC8vIHJlamVjdCAnKyBhbidcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgYSA9IHRva2VuLnRleHQgPT09IFwiLW5cIiA/IC0xIDogMTtcbiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1FUklDKSB7XG4gICAgICAgICAgICBhID0gdG9rZW4ubnVtO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgYiA9IDA7XG4gICAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuID0gdGhpcy50b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICBjb25zdCBoYXNNaW51c1NpZ24gPSB0b2tlbi50eXBlID09PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk1JTlVTO1xuICAgICAgICAgIGNvbnN0IGhhc1NpZ24gPVxuICAgICAgICAgICAgdG9rZW4udHlwZSA9PT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QTFVTIHx8IGhhc01pbnVzU2lnbjtcbiAgICAgICAgICBpZiAoaGFzU2lnbikge1xuICAgICAgICAgICAgLy8gJ2FuICtiJywgJ2FuIC0gYidcbiAgICAgICAgICAgIHRoaXMudG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIHRva2VuID0gdGhpcy50b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSU5UKSB7XG4gICAgICAgICAgICBiID0gdG9rZW4ubnVtO1xuXG4gICAgICAgICAgICBpZiAoMSAvIGIgPT09IDEgLyAtMCkge1xuICAgICAgICAgICAgICAvLyBuZWdhdGl2ZSB6ZXJvOiAnYW4gLTAnXG4gICAgICAgICAgICAgIGIgPSAwO1xuICAgICAgICAgICAgICBpZiAoaGFzU2lnbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyByZWplY3QgJ2FuICsgLTAnLCAnYW4gLSAtMCdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChiIDwgMCkge1xuICAgICAgICAgICAgICAvLyBuZWdhdGl2ZTogJ2FuIC1iJ1xuICAgICAgICAgICAgICBpZiAoaGFzU2lnbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyByZWplY3QgJ2FuICsgLWInLCAnYW4gLSAtYidcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChiID49IDApIHtcbiAgICAgICAgICAgICAgLy8gcG9zaXRpdmUgb3IgcG9zaXRpdmUgemVybzogJ2FuICtiJ1xuICAgICAgICAgICAgICBpZiAoIWhhc1NpZ24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzU2lnbikge1xuICAgICAgICAgICAgLy8gcmVqZWN0ICdhbiArIChub24taW50ZWdlciknXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFthLCBoYXNNaW51c1NpZ24gJiYgYiA+IDAgPyAtYiA6IGJdO1xuICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnRleHQgPT09IFwibi1cIiB8fCB0b2tlbi50ZXh0ID09PSBcIi1uLVwiKSB7XG4gICAgICAgICAgLy8gJ2FuLSBiJywgJy1uLSBiJ1xuICAgICAgICAgIGlmIChoYXNMZWFkaW5nUGx1cyAmJiB0b2tlbi5wcmVjZWRlZEJ5U3BhY2UpIHtcbiAgICAgICAgICAgIC8vIHJlamVjdCAnKyBhbi0gYidcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgYSA9IHRva2VuLnRleHQgPT09IFwiLW4tXCIgPyAtMSA6IDE7XG4gICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNRVJJQykge1xuICAgICAgICAgICAgYSA9IHRva2VuLm51bTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuID0gdGhpcy50b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlQpIHtcbiAgICAgICAgICAgIGlmICh0b2tlbi5udW0gPCAwIHx8IDEgLyB0b2tlbi5udW0gPT09IDEgLyAtMCkge1xuICAgICAgICAgICAgICAvLyByZWplY3QgJ2FuLSAtYicsICdhbi0gLTAnXG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICByZXR1cm4gW2EsIHRva2VuLm51bV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCByID0gdG9rZW4udGV4dC5tYXRjaCgvXm4oLVswLTldKykkLyk7XG4gICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgIC8vICduLWInLCAnYW4tYidcbiAgICAgICAgICAgIGlmIChoYXNMZWFkaW5nUGx1cyAmJiB0b2tlbi5wcmVjZWRlZEJ5U3BhY2UpIHtcbiAgICAgICAgICAgICAgLy8gcmVqZWN0ICcrIGFuLWInXG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgdG9rZW4udHlwZSA9PT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1FUklDID8gdG9rZW4ubnVtIDogMSxcbiAgICAgICAgICAgICAgcGFyc2VJbnQoclsxXSwgMTApLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgciA9IHRva2VuLnRleHQubWF0Y2goL14tbigtWzAtOV0rKSQvKTtcblxuICAgICAgICAgIC8vICctbi1iJ1xuICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICB0aGlzLnRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICByZXR1cm4gWy0xLCBwYXJzZUludChyWzFdLCAxMCldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlQ6XG4gICAgICAgIGlmIChoYXNMZWFkaW5nUGx1cyAmJiAodG9rZW4ucHJlY2VkZWRCeVNwYWNlIHx8IHRva2VuLm51bSA8IDApKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICByZXR1cm4gWzAsIHRva2VuLm51bV07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbWFrZUNvbmRpdGlvbihjbGFzc2VzOiBzdHJpbmcgfCBudWxsLCBjb25kaXRpb246IEV4cHJzLlZhbCk6IENzcy5FeHByIHtcbiAgICBjb25zdCBzY29wZSA9IHRoaXMuaGFuZGxlci5nZXRTY29wZSgpO1xuICAgIGlmICghc2NvcGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25kaXRpb24gPSBjb25kaXRpb24gfHwgc2NvcGUuX3RydWU7XG4gICAgaWYgKGNsYXNzZXMpIHtcbiAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IGNsYXNzZXMuc3BsaXQoL1xccysvKTtcbiAgICAgIGZvciAoY29uc3QgY2xhc3NOYW1lIG9mIGNsYXNzTGlzdCkge1xuICAgICAgICBzd2l0Y2ggKGNsYXNzTmFtZSkge1xuICAgICAgICAgIGNhc2UgXCJ2ZXJ0aWNhbFwiOlxuICAgICAgICAgICAgY29uZGl0aW9uID0gRXhwcnMuYW5kKFxuICAgICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgICAgY29uZGl0aW9uLFxuICAgICAgICAgICAgICBuZXcgRXhwcnMuTm90KHNjb3BlLCBuZXcgRXhwcnMuTmFtZWQoc2NvcGUsIFwicHJlZi1ob3Jpem9udGFsXCIpKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiaG9yaXpvbnRhbFwiOlxuICAgICAgICAgICAgY29uZGl0aW9uID0gRXhwcnMuYW5kKFxuICAgICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgICAgY29uZGl0aW9uLFxuICAgICAgICAgICAgICBuZXcgRXhwcnMuTmFtZWQoc2NvcGUsIFwicHJlZi1ob3Jpem9udGFsXCIpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkYXlcIjpcbiAgICAgICAgICAgIGNvbmRpdGlvbiA9IEV4cHJzLmFuZChcbiAgICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICAgIGNvbmRpdGlvbixcbiAgICAgICAgICAgICAgbmV3IEV4cHJzLk5vdChzY29wZSwgbmV3IEV4cHJzLk5hbWVkKHNjb3BlLCBcInByZWYtbmlnaHQtbW9kZVwiKSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIm5pZ2h0XCI6XG4gICAgICAgICAgICBjb25kaXRpb24gPSBFeHBycy5hbmQoXG4gICAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgICBjb25kaXRpb24sXG4gICAgICAgICAgICAgIG5ldyBFeHBycy5OYW1lZChzY29wZSwgXCJwcmVmLW5pZ2h0LW1vZGVcIiksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbmRpdGlvbiA9IHNjb3BlLl9mYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29uZGl0aW9uID09PSBzY29wZS5fdHJ1ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ3NzLkV4cHIoY29uZGl0aW9uKTtcbiAgfVxuXG4gIGlzSW5zaWRlUHJvcGVydHlPbmx5UnVsZSgpOiBib29sZWFuIHtcbiAgICBzd2l0Y2ggKHRoaXMucnVsZVN0YWNrW3RoaXMucnVsZVN0YWNrLmxlbmd0aCAtIDFdKSB7XG4gICAgICBjYXNlIFwiW3NlbGVjdG9yXVwiOlxuICAgICAgY2FzZSBcImZvbnQtZmFjZVwiOlxuICAgICAgY2FzZSBcIi1lcHVieC1mbG93XCI6XG4gICAgICBjYXNlIFwiLWVwdWJ4LXZpZXdwb3J0XCI6XG4gICAgICBjYXNlIFwiLWVwdWJ4LWRlZmluZVwiOlxuICAgICAgY2FzZSBcIi1hZGFwdC1mb290bm90ZS1hcmVhXCI6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBydW5QYXJzZXIoXG4gICAgY291bnQ6IG51bWJlcixcbiAgICBwYXJzaW5nVmFsdWUsXG4gICAgcGFyc2luZ1N0eWxlQXR0cjogYm9vbGVhbixcbiAgICBwYXJzaW5nTWVkaWFRdWVyeSxcbiAgICBwYXJzaW5nRnVuY3Rpb25QYXJhbSxcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaGFuZGxlciA9IHRoaXMuaGFuZGxlcjtcbiAgICBjb25zdCB0b2tlbml6ZXIgPSB0aGlzLnRva2VuaXplcjtcbiAgICBjb25zdCB2YWxTdGFjayA9IHRoaXMudmFsU3RhY2s7XG4gICAgbGV0IHRva2VuOiBDc3NUb2tlbml6ZXIuVG9rZW47XG4gICAgbGV0IHRva2VuMTogQ3NzVG9rZW5pemVyLlRva2VuO1xuICAgIGxldCBuczogc3RyaW5nIHwgbnVsbDtcbiAgICBsZXQgdGV4dDogc3RyaW5nIHwgbnVsbDtcbiAgICBsZXQgbnVtOiBudW1iZXI7XG4gICAgbGV0IHZhbDogQ3NzLlZhbDtcbiAgICBsZXQgcGFyYW1zOiAobnVtYmVyIHwgc3RyaW5nKVtdO1xuICAgIGlmIChwYXJzaW5nTWVkaWFRdWVyeSkge1xuICAgICAgdGhpcy5leHByQ29udGV4dCA9IEV4cHJDb250ZXh0Lk1FRElBO1xuICAgICAgdGhpcy52YWxTdGFjay5wdXNoKFwie1wiKTtcbiAgICB9XG4gICAgcGFyc2VyTG9vcDogZm9yICg7IGNvdW50ID4gMDsgLS1jb3VudCkge1xuICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgIHN3aXRjaCAodGhpcy5hY3Rpb25zW3Rva2VuLnR5cGVdKSB7XG4gICAgICAgIGNhc2UgQWN0aW9uLklERU5UOlxuICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgaWYgdGhpcyBpcyBhIHByb3BlcnR5IGFzc2lnbm1lbnQgb3Igc2VsZWN0b3JcbiAgICAgICAgICBpZiAodG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTikge1xuICAgICAgICAgICAgLy8gY2Fubm90IGJlIHByb3BlcnR5IGFzc2lnbm1lbnRcbiAgICAgICAgICAgIGlmICh0aGlzLmlzSW5zaWRlUHJvcGVydHlPbmx5UnVsZSgpKSB7XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19DT0xPTl9FWFBFQ1RFRFwiLCB0b2tlbml6ZXIubnRoVG9rZW4oMSkpO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3JEZWNsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yU3RhcnQ7XG4gICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRTZWxlY3RvclJ1bGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbjEgPSB0b2tlbml6ZXIubnRoVG9rZW4oMik7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdG9rZW4xLnByZWNlZGVkQnlTcGFjZSB8fFxuICAgICAgICAgICAgKHRva2VuMS50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQgJiZcbiAgICAgICAgICAgICAgdG9rZW4xLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5GVU5DKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy8gY2Fubm90IGJlIGEgc2VsZWN0b3JcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gY2FuIGJlIGVpdGhlciBhIHNlbGVjdG9yIG9yIGEgcHJvcGVydHkgYXNzaWdubWVudFxuICAgICAgICAgICAgdG9rZW5pemVyLm1hcmsoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5wcm9wTmFtZSA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgdGhpcy5wcm9wSW1wb3J0YW50ID0gZmFsc2U7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNQcm9wVmFsO1xuICAgICAgICAgIHZhbFN0YWNrLnNwbGljZSgwLCB2YWxTdGFjay5sZW5ndGgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5QUk9QOlxuICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgaWYgdGhpcyBpcyBhIHByb3BlcnR5IGFzc2lnbm1lbnQgb3Igc2VsZWN0b3JcbiAgICAgICAgICBpZiAodG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTikge1xuICAgICAgICAgICAgLy8gY2Fubm90IGJlIHByb3BlcnR5IGFzc2lnbm1lbnRcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvckRlY2w7XG4gICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfQ09MT05fRVhQRUNURURcIiwgdG9rZW5pemVyLm50aFRva2VuKDEpKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnByb3BOYW1lID0gdG9rZW4udGV4dDtcbiAgICAgICAgICB0aGlzLnByb3BJbXBvcnRhbnQgPSBmYWxzZTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1Byb3BWYWw7XG4gICAgICAgICAgdmFsU3RhY2suc3BsaWNlKDAsIHZhbFN0YWNrLmxlbmd0aCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX1NUQVJUOlxuICAgICAgICAgIC8vIGRvbid0IGNvbnN1bWUsIHByb2Nlc3MgYWdhaW5cbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JTdGFydDtcbiAgICAgICAgICBoYW5kbGVyLnN0YXJ0U2VsZWN0b3JSdWxlKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX05BTUVfMTpcbiAgICAgICAgICBpZiAoIXRva2VuLnByZWNlZGVkQnlTcGFjZSkge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yU2VsZWN0b3I7XG4gICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfU1BBQ0VfRVhQRUNURURcIiwgdG9rZW4pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhbmRsZXIuZGVzY2VuZGFudFNlbGVjdG9yKCk7XG5cbiAgICAgICAgLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX05BTUU6XG4gICAgICAgICAgaWYgKHRva2VuaXplci5udGhUb2tlbigxKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFSKSB7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIG5zID0gdGhpcy5uYW1lc3BhY2VQcmVmaXhUb1VSSVt0b2tlbi50ZXh0XTtcbiAgICAgICAgICAgIGlmIChucyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVDpcbiAgICAgICAgICAgICAgICAgIGhhbmRsZXIudGFnU2VsZWN0b3IobnMsIHRva2VuLnRleHQpO1xuICAgICAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckluRnVuYztcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUjpcbiAgICAgICAgICAgICAgICAgIGhhbmRsZXIudGFnU2VsZWN0b3IobnMsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckluRnVuYztcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yO1xuICAgICAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX05BTUVTUEFDRVwiLCB0b2tlbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvcjtcbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX1VOREVDTEFSRURfUFJFRklYXCIsIHRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlci50YWdTZWxlY3Rvcih0aGlzLmRlZmF1bHROYW1lc3BhY2VVUkksIHRva2VuLnRleHQpO1xuICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckluRnVuYztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9BTllfMTpcbiAgICAgICAgICBpZiAoIXRva2VuLnByZWNlZGVkQnlTcGFjZSkge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yU2VsZWN0b3I7XG4gICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfU1BBQ0VfRVhQRUNURURcIiwgdG9rZW4pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhbmRsZXIuZGVzY2VuZGFudFNlbGVjdG9yKCk7XG5cbiAgICAgICAgLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0FOWTpcbiAgICAgICAgICBpZiAodG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5CQVIpIHtcbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQ6XG4gICAgICAgICAgICAgICAgaGFuZGxlci50YWdTZWxlY3RvcihudWxsLCB0b2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckluRnVuYztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUjpcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnRhZ1NlbGVjdG9yKG51bGwsIG51bGwpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJzaW5nRnVuY3Rpb25QYXJhbSkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19OQU1FU1BBQ0VcIiwgdG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVyLnRhZ1NlbGVjdG9yKHRoaXMuZGVmYXVsdE5hbWVzcGFjZVVSSSwgbnVsbCk7XG4gICAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0lEXzE6XG4gICAgICAgICAgaWYgKHRva2VuLnByZWNlZGVkQnlTcGFjZSkge1xuICAgICAgICAgICAgaGFuZGxlci5kZXNjZW5kYW50U2VsZWN0b3IoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0lEOlxuICAgICAgICAgIGhhbmRsZXIuaWRTZWxlY3Rvcih0b2tlbi50ZXh0KTtcbiAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckluRnVuYztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9DTEFTU18xOlxuICAgICAgICAgIGlmICh0b2tlbi5wcmVjZWRlZEJ5U3BhY2UpIHtcbiAgICAgICAgICAgIGhhbmRsZXIuZGVzY2VuZGFudFNlbGVjdG9yKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIC8vIGZhbGwgdGhyb3VnaFxuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9DTEFTUzpcbiAgICAgICAgICBoYW5kbGVyLmNsYXNzU2VsZWN0b3IodG9rZW4udGV4dCk7XG4gICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JJbkZ1bmM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfUFNFVURPQ0xBU1NfMTpcbiAgICAgICAgICBpZiAodG9rZW4ucHJlY2VkZWRCeVNwYWNlKSB7XG4gICAgICAgICAgICBoYW5kbGVyLmRlc2NlbmRhbnRTZWxlY3RvcigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfUFNFVURPQ0xBU1M6XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgIHBzZXVkb2NsYXNzVHlwZTogc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQ6XG4gICAgICAgICAgICAgIGhhbmRsZXIucHNldWRvY2xhc3NTZWxlY3Rvcih0b2tlbi50ZXh0LCBudWxsKTtcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5GVU5DOlxuICAgICAgICAgICAgICB0ZXh0ID0gdG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgc3dpdGNoICh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5vdFwiOlxuICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yU3RhcnQ7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0RnVuY1dpdGhTZWxlY3RvcihcIm5vdFwiKTtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ydW5QYXJzZXIoXG4gICAgICAgICAgICAgICAgICAgICAgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3JTZWxlY3RvcjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGJyZWFrIHBhcnNlckxvb3A7XG4gICAgICAgICAgICAgICAgY2FzZSBcImxhbmdcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiaHJlZi1lcHViLXR5cGVcIjpcbiAgICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSBbdG9rZW4udGV4dF07XG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgcHNldWRvY2xhc3NUeXBlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJudGgtY2hpbGRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibnRoLW9mLXR5cGVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibnRoLWxhc3QtY2hpbGRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibnRoLWxhc3Qtb2YtdHlwZVwiOlxuICAgICAgICAgICAgICAgICAgcGFyYW1zID0gdGhpcy5yZWFkTnRoUHNldWRvUGFyYW1zKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoIXBhcmFtcykge1xuICAgICAgICAgICAgICAgICAgICBicmVhayBwc2V1ZG9jbGFzc1R5cGU7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgLy8gVE9ET1xuICAgICAgICAgICAgICAgICAgcGFyYW1zID0gdGhpcy5yZWFkUHNldWRvUGFyYW1zKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX1BBUikge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIucHNldWRvY2xhc3NTZWxlY3Rvcih0ZXh0IGFzIHN0cmluZywgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJzaW5nRnVuY3Rpb25QYXJhbSkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfUFNFVURPQ0xBU1NfU1lOVEFYXCIsIHRva2VuKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX1BTRVVET0VMRU06XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UOlxuICAgICAgICAgICAgICBoYW5kbGVyLnBzZXVkb2VsZW1lbnRTZWxlY3Rvcih0b2tlbi50ZXh0LCBudWxsKTtcbiAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5GVU5DOlxuICAgICAgICAgICAgICB0ZXh0ID0gdG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgaWYgKHRleHQgPT0gXCJudGgtZnJhZ21lbnRcIikge1xuICAgICAgICAgICAgICAgIHBhcmFtcyA9IHRoaXMucmVhZE50aFBzZXVkb1BhcmFtcygpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMgPSB0aGlzLnJlYWRQc2V1ZG9QYXJhbXMoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5wc2V1ZG9lbGVtZW50U2VsZWN0b3IodGV4dCBhcyBzdHJpbmcsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JJbkZ1bmM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX1BTRVVET0VMRU1fU1lOVEFYXCIsIHRva2VuKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0FUVFJfMTpcbiAgICAgICAgICBpZiAodG9rZW4ucHJlY2VkZWRCeVNwYWNlKSB7XG4gICAgICAgICAgICBoYW5kbGVyLmRlc2NlbmRhbnRTZWxlY3RvcigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfQVRUUjpcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCkge1xuICAgICAgICAgICAgdGV4dCA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUQVIpIHtcbiAgICAgICAgICAgIHRleHQgPSBudWxsO1xuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5CQVIpIHtcbiAgICAgICAgICAgIHRleHQgPSBcIlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3JTZWxlY3RvcjtcbiAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19BVFRSXCIsIHRva2VuKTtcbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBUikge1xuICAgICAgICAgICAgbnMgPSB0ZXh0ID8gdGhpcy5uYW1lc3BhY2VQcmVmaXhUb1VSSVt0ZXh0XSA6IHRleHQ7XG4gICAgICAgICAgICBpZiAobnMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3JTZWxlY3RvcjtcbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX1VOREVDTEFSRURfUFJFRklYXCIsIHRva2VuKTtcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQpIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yU2VsZWN0b3I7XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19BVFRSX05BTUVfRVhQRUNURURcIiwgdG9rZW4pO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRleHQgPSB0b2tlbi50ZXh0O1xuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5zID0gXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuRVE6XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuVElMREVfRVE6XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFSX0VROlxuICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkhBVF9FUTpcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5ET0xMQVJfRVE6XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUl9FUTpcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xfQ09MOlxuICAgICAgICAgICAgICBudW0gPSB0b2tlbi50eXBlO1xuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSSzpcbiAgICAgICAgICAgICAgaGFuZGxlci5hdHRyaWJ1dGVTZWxlY3RvcihcbiAgICAgICAgICAgICAgICBucyBhcyBzdHJpbmcsXG4gICAgICAgICAgICAgICAgdGV4dCBhcyBzdHJpbmcsXG4gICAgICAgICAgICAgICAgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FT0YsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvclNlbGVjdG9yO1xuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfQVRUUl9PUF9FWFBFQ1RFRFwiLCB0b2tlbik7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVDpcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVFI6XG4gICAgICAgICAgICAgIGhhbmRsZXIuYXR0cmlidXRlU2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgbnMgYXMgc3RyaW5nLFxuICAgICAgICAgICAgICAgIHRleHQgYXMgc3RyaW5nLFxuICAgICAgICAgICAgICAgIG51bSxcbiAgICAgICAgICAgICAgICB0b2tlbi50ZXh0LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvclNlbGVjdG9yO1xuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfQVRUUl9WQUxfRVhQRUNURURcIiwgdG9rZW4pO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRva2VuLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSSykge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yU2VsZWN0b3I7XG4gICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfQVRUUlwiLCB0b2tlbik7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JJbkZ1bmM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfQ0hJTEQ6XG4gICAgICAgICAgaGFuZGxlci5jaGlsZFNlbGVjdG9yKCk7XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yQ29udDtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9TSUJMSU5HOlxuICAgICAgICAgIGhhbmRsZXIuYWRqYWNlbnRTaWJsaW5nU2VsZWN0b3IoKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JDb250O1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0ZPTExPV0lOR19TSUJMSU5HOlxuICAgICAgICAgIGhhbmRsZXIuZm9sbG93aW5nU2libGluZ1NlbGVjdG9yKCk7XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yQ29udDtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9CT0RZOlxuICAgICAgICAgIGlmICh0aGlzLnJlZ2lvblJ1bGUpIHtcbiAgICAgICAgICAgIHRoaXMucnVsZVN0YWNrLnB1c2goXCItZXB1YngtcmVnaW9uXCIpO1xuICAgICAgICAgICAgdGhpcy5yZWdpb25SdWxlID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBhZ2VSdWxlKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wdXNoKFwicGFnZVwiKTtcbiAgICAgICAgICAgIHRoaXMucGFnZVJ1bGUgPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ydWxlU3RhY2sucHVzaChcIltzZWxlY3Rvcl1cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNCYXNlO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX05FWFQ6XG4gICAgICAgICAgaGFuZGxlci5uZXh0U2VsZWN0b3IoKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JTdGFydDtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfSURFTlQ6XG4gICAgICAgICAgdmFsU3RhY2sucHVzaChDc3MuZ2V0TmFtZSh0b2tlbi50ZXh0KSk7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX0hBU0g6XG4gICAgICAgICAgbnVtID0gcGFyc2VJbnQodG9rZW4udGV4dCwgMTYpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKGNvbG9yRnJvbUhhc2godG9rZW4udGV4dCkpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX0NPTE9SXCIsIHRva2VuKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX05VTTpcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKG5ldyBDc3MuTnVtKHRva2VuLm51bSkpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlZBTF9JTlQ6XG4gICAgICAgICAgdmFsU3RhY2sucHVzaChuZXcgQ3NzLkludCh0b2tlbi5udW0pKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfTlVNRVJJQzpcbiAgICAgICAgICBpZiAoRXhwcnMuaXNWaWV3cG9ydFJlbGF0aXZlTGVuZ3RoVW5pdCh0b2tlbi50ZXh0KSkge1xuICAgICAgICAgICAgLy8gVHJlYXQgbnVtZXJpYyB2YWx1ZSB3aXRoIHZpZXdwb3J0IHVuaXQgYXMgbnVtZXJpYyBpbiBleHByLlxuICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcbiAgICAgICAgICAgICAgbmV3IENzcy5FeHByKFxuICAgICAgICAgICAgICAgIG5ldyBFeHBycy5OdW1lcmljKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdG9rZW4ubnVtLCB0b2tlbi50ZXh0KSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IENzcy5OdW1lcmljKHRva2VuLm51bSwgdG9rZW4udGV4dCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfU1RSOlxuICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IENzcy5TdHIodG9rZW4udGV4dCkpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlZBTF9VUkw6XG4gICAgICAgICAgdmFsU3RhY2sucHVzaChuZXcgQ3NzLlVSTChCYXNlLnJlc29sdmVVUkwodG9rZW4udGV4dCwgdGhpcy5iYXNlVVJMKSkpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlZBTF9DT01NQTpcbiAgICAgICAgICB0aGlzLnZhbFN0YWNrUmVkdWNlKFwiLFwiLCB0b2tlbik7XG4gICAgICAgICAgdmFsU3RhY2sucHVzaChcIixcIik7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX1NMQVNIOlxuICAgICAgICAgIHZhbFN0YWNrLnB1c2goQ3NzLnNsYXNoKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfRlVOQzpcbiAgICAgICAgICB0ZXh0ID0gdG9rZW4udGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGlmICh0ZXh0ID09IFwiLWVwdWJ4LWV4cHJcIiB8fCB0ZXh0ID09IFwiY2FsY1wiIHx8IHRleHQgPT0gXCJlbnZcIikge1xuICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlXG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXhwclZhbDtcbiAgICAgICAgICAgIHRoaXMuZXhwckNvbnRleHQgPSBFeHByQ29udGV4dC5QUk9QO1xuICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcIntcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbFN0YWNrLnB1c2godGV4dCk7XG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKFwiKFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX0NfUEFSOlxuICAgICAgICAgIHRoaXMudmFsU3RhY2tSZWR1Y2UoXCIpXCIsIHRva2VuKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfQkFORzpcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgdG9rZW4xID0gdG9rZW5pemVyLm50aFRva2VuKDEpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCAmJlxuICAgICAgICAgICAgdG9rZW4udGV4dC50b0xvd2VyQ2FzZSgpID09IFwiaW1wb3J0YW50XCIgJiZcbiAgICAgICAgICAgICh0b2tlbjEudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNFTUlDT0wgfHxcbiAgICAgICAgICAgICAgdG9rZW4xLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FT0YgfHxcbiAgICAgICAgICAgICAgdG9rZW4xLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSQylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICB0aGlzLnByb3BJbXBvcnRhbnQgPSB0cnVlO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRV9DU1NfU1lOVEFYXCIsIHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX1BMVVM6XG4gICAgICAgICAgdG9rZW4xID0gdG9rZW5pemVyLm50aFRva2VuKDEpO1xuICAgICAgICAgIHN3aXRjaCAodG9rZW4xLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU06XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNRVJJQzpcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlQ6XG4gICAgICAgICAgICAgIGlmICghdG9rZW4xLnByZWNlZGVkQnlTcGFjZSkge1xuICAgICAgICAgICAgICAgIC8vIFBsdXMgYmVmb3JlIG51bWJlciwgaWdub3JlXG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5hY3Rpb25zID09PSBhY3Rpb25zUHJvcFZhbCAmJiB0b2tlbml6ZXIuaGFzTWFyaygpKSB7XG4gICAgICAgICAgICB0b2tlbml6ZXIucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvclN0YXJ0O1xuICAgICAgICAgICAgaGFuZGxlci5zdGFydFNlbGVjdG9yUnVsZSgpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRV9DU1NfVU5FWFBFQ1RFRF9QTFVTXCIsIHRva2VuKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX0VORDpcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuXG4gICAgICAgIC8vIGZhbGwgdGhyb3VnaFxuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfQlJDOlxuICAgICAgICAgIHRva2VuaXplci51bm1hcmsoKTtcbiAgICAgICAgICB2YWwgPSB0aGlzLnZhbFN0YWNrUmVkdWNlKFwiO1wiLCB0b2tlbik7XG4gICAgICAgICAgaWYgKHZhbCAmJiB0aGlzLnByb3BOYW1lKSB7XG4gICAgICAgICAgICBoYW5kbGVyLnByb3BlcnR5KHRoaXMucHJvcE5hbWUgYXMgc3RyaW5nLCB2YWwsIHRoaXMucHJvcEltcG9ydGFudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IHBhcnNpbmdTdHlsZUF0dHIgPyBhY3Rpb25zU3R5bGVBdHRyaWJ1dGUgOiBhY3Rpb25zQmFzZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX0ZJTklTSDpcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuaXplci51bm1hcmsoKTtcbiAgICAgICAgICB2YWwgPSB0aGlzLnZhbFN0YWNrUmVkdWNlKFwiO1wiLCB0b2tlbik7XG4gICAgICAgICAgaWYgKHBhcnNpbmdWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHQgPSB2YWw7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMucHJvcE5hbWUgJiYgdmFsKSB7XG4gICAgICAgICAgICBoYW5kbGVyLnByb3BlcnR5KHRoaXMucHJvcE5hbWUgYXMgc3RyaW5nLCB2YWwsIHRoaXMucHJvcEltcG9ydGFudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwYXJzaW5nU3R5bGVBdHRyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5leHByRXJyb3IoXCJFX0NTU19TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX0lERU5UOlxuICAgICAgICAgIHRva2VuMSA9IHRva2VuaXplci5udGhUb2tlbigxKTtcbiAgICAgICAgICBpZiAodG9rZW4xLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DTEFTUykge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICB0b2tlbml6ZXIubnRoVG9rZW4oMikudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fUEFSICYmXG4gICAgICAgICAgICAgICF0b2tlbml6ZXIubnRoVG9rZW4oMikucHJlY2VkZWRCeVNwYWNlXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdmFsU3RhY2sucHVzaCh0b2tlbi50ZXh0LCB0b2tlbjEudGV4dCwgXCIoXCIpO1xuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcbiAgICAgICAgICAgICAgICBuZXcgRXhwcnMuTmFtZWQoXG4gICAgICAgICAgICAgICAgICBoYW5kbGVyLmdldFNjb3BlKCksXG4gICAgICAgICAgICAgICAgICBFeHBycy5tYWtlUXVhbGlmaWVkTmFtZSh0b2tlbi50ZXh0LCB0b2tlbjEudGV4dCksXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0V4cHJPcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgdGhpcy5leHByQ29udGV4dCA9PSBFeHByQ29udGV4dC5NRURJQSB8fFxuICAgICAgICAgICAgICB0aGlzLmV4cHJDb250ZXh0ID09IEV4cHJDb250ZXh0LklNUE9SVFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmICh0b2tlbi50ZXh0LnRvTG93ZXJDYXNlKCkgPT0gXCJub3RcIikge1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcbiAgICAgICAgICAgICAgICAgIG5ldyBFeHBycy5NZWRpYU5hbWUoaGFuZGxlci5nZXRTY29wZSgpLCB0cnVlLCB0b2tlbjEudGV4dCksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4udGV4dC50b0xvd2VyQ2FzZSgpID09IFwib25seVwiKSB7XG4gICAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbjE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbFN0YWNrLnB1c2goXG4gICAgICAgICAgICAgICAgICBuZXcgRXhwcnMuTWVkaWFOYW1lKGhhbmRsZXIuZ2V0U2NvcGUoKSwgZmFsc2UsIHRva2VuLnRleHQpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IEV4cHJzLk5hbWVkKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdG9rZW4udGV4dCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0V4cHJPcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRVhQUl9GVU5DOlxuICAgICAgICAgIHZhbFN0YWNrLnB1c2gobnVsbCwgdG9rZW4udGV4dCwgXCIoXCIpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfTlVNOlxuICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IEV4cHJzLkNvbnN0KGhhbmRsZXIuZ2V0U2NvcGUoKSwgdG9rZW4ubnVtKSk7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXhwck9wO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX05VTUVSSUM6XG4gICAgICAgICAgdGV4dCA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgaWYgKHRleHQgPT0gXCIlXCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BOYW1lICYmIHRoaXMucHJvcE5hbWUubWF0Y2goL2hlaWdodHxeKHRvcHxib3R0b20pJC8pKSB7XG4gICAgICAgICAgICAgIHRleHQgPSBcInZoXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0ZXh0ID0gXCJ2d1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB2YWxTdGFjay5wdXNoKG5ldyBFeHBycy5OdW1lcmljKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdG9rZW4ubnVtLCB0ZXh0KSk7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXhwck9wO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX1NUUjpcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKG5ldyBFeHBycy5Db25zdChoYW5kbGVyLmdldFNjb3BlKCksIHRva2VuLnRleHQpKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByT3A7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfUEFSQU06XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRva2VuLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlQgfHxcbiAgICAgICAgICAgIHRva2VuLnByZWNlZGVkQnlTcGFjZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5leHByRXJyb3IoXCJFX0NTU19TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKG5ldyBFeHBycy5QYXJhbShoYW5kbGVyLmdldFNjb3BlKCksIHRva2VuLm51bSkpO1xuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByT3A7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX1BSRUZJWDpcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKC10b2tlbi50eXBlKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX0lORklYOlxuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByVmFsO1xuICAgICAgICAgIHRoaXMuZXhwclN0YWNrUmVkdWNlKHRva2VuLnR5cGUsIHRva2VuKTtcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKHRva2VuLnR5cGUpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfSU5GSVhfTkFNRTpcbiAgICAgICAgICBpZiAodG9rZW4udGV4dC50b0xvd2VyQ2FzZSgpID09IFwiYW5kXCIpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByVmFsO1xuICAgICAgICAgICAgdGhpcy5leHByU3RhY2tSZWR1Y2UoT1BfTUVESUFfQU5ELCB0b2tlbik7XG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKE9QX01FRElBX0FORCk7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmV4cHJFcnJvcihcIkVfQ1NTX1NZTlRBWFwiLCB0b2tlbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX0NfUEFSOlxuICAgICAgICAgIGlmICh0aGlzLmV4cHJTdGFja1JlZHVjZSh0b2tlbi50eXBlLCB0b2tlbikpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BOYW1lKSB7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNQcm9wVmFsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5leHByRXJyb3IoXCJFX0NTU19VTkJBTEFOQ0VEX1BBUlwiLCB0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfT19CUkM6XG4gICAgICAgICAgaWYgKHRoaXMuZXhwclN0YWNrUmVkdWNlKENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVIsIHRva2VuKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcE5hbWUgfHwgdGhpcy5leHByQ29udGV4dCA9PSBFeHByQ29udGV4dC5JTVBPUlQpIHtcbiAgICAgICAgICAgICAgdGhpcy5leHByRXJyb3IoXCJFX0NTU19VTkVYUEVDVEVEX0JSQ1wiLCB0b2tlbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAodGhpcy5leHByQ29udGV4dCA9PSBFeHByQ29udGV4dC5XSEVOKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFdoZW5SdWxlKHZhbFN0YWNrLnBvcCgpIGFzIENzcy5FeHByKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0TWVkaWFSdWxlKHZhbFN0YWNrLnBvcCgpIGFzIENzcy5FeHByKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wdXNoKFwibWVkaWFcIik7XG4gICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zQmFzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRVhQUl9TRU1JQ09MOlxuICAgICAgICAgIGlmICh0aGlzLmV4cHJTdGFja1JlZHVjZShDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSLCB0b2tlbikpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BOYW1lIHx8IHRoaXMuZXhwckNvbnRleHQgIT0gRXhwckNvbnRleHQuSU1QT1JUKSB7XG4gICAgICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRV9DU1NfVU5FWFBFQ1RFRF9TRU1JQ09MXCIsIHRva2VuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuaW1wb3J0Q29uZGl0aW9uID0gdmFsU3RhY2sucG9wKCkgYXMgQ3NzLkV4cHI7XG4gICAgICAgICAgICAgIHRoaXMuaW1wb3J0UmVhZHkgPSB0cnVlO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zQmFzZTtcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX09fUEFSOlxuICAgICAgICAgIHZhbFN0YWNrLnB1c2godG9rZW4udHlwZSk7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uUlVMRV9FTkQ6XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Jhc2U7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBoYW5kbGVyLmVuZFJ1bGUoKTtcbiAgICAgICAgICBpZiAodGhpcy5ydWxlU3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkFUOlxuICAgICAgICAgIHRleHQgPSB0b2tlbi50ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgc3dpdGNoICh0ZXh0KSB7XG4gICAgICAgICAgICBjYXNlIFwiaW1wb3J0XCI6XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RSIHx8XG4gICAgICAgICAgICAgICAgdG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlVSTFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltcG9ydFVSTCA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MIHx8XG4gICAgICAgICAgICAgICAgICB0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmltcG9ydFJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMucHJvcE5hbWUgPSBudWxsOyAvLyBzaWduYWxzIEAgcnVsZVxuICAgICAgICAgICAgICAgICAgdGhpcy5leHByQ29udGV4dCA9IEV4cHJDb250ZXh0LklNUE9SVDtcbiAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByVmFsO1xuICAgICAgICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcIntcIik7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX0lNUE9SVF9TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSBcIm5hbWVzcGFjZVwiOlxuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQ6XG4gICAgICAgICAgICAgICAgICB0ZXh0ID0gdG9rZW4udGV4dDsgLy8gUHJlZml4XG4gICAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVFIgfHxcbiAgICAgICAgICAgICAgICAgICAgICB0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuVVJMKSAmJlxuICAgICAgICAgICAgICAgICAgICB0b2tlbml6ZXIubnRoVG9rZW4oMSkudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNFTUlDT0xcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWVzcGFjZVByZWZpeFRvVVJJW3RleHRdID0gdG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RSOlxuICAgICAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5VUkw6XG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplci5udGhUb2tlbigxKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuU0VNSUNPTFxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdE5hbWVzcGFjZVVSSSA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX05BTUVTUEFDRV9TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSBcImNoYXJzZXRcIjpcbiAgICAgICAgICAgICAgLy8gVXNlbGVzcyBpbiBFUFVCIChvbmx5IFVURi04IG9yIFVURi0xNiBpcyBhbGxvd2VkIGFueXdheSBhbmRcbiAgICAgICAgICAgICAgLy8gd2UgYXJlIGF0IHRoZSBtZXJjeSBvZiB0aGUgYnJvd3NlciBjaGFyc2V0IGhhbmRsaW5nIGFueXdheSkuXG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RSICYmXG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRleHQgPSB0b2tlbi50ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRleHQgIT0gXCJ1dGYtOFwiICYmIHRleHQgIT0gXCJ1dGYtMTZcIikge1xuICAgICAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihgRV9DU1NfVU5FWFBFQ1RFRF9DSEFSU0VUICR7dGV4dH1gLCB0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfQ0hBUlNFVF9TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSBcImZvbnQtZmFjZVwiOlxuICAgICAgICAgICAgY2FzZSBcIi1lcHVieC1wYWdlLXRlbXBsYXRlXCI6XG4gICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LWRlZmluZVwiOlxuICAgICAgICAgICAgY2FzZSBcIi1lcHVieC12aWV3cG9ydFwiOlxuICAgICAgICAgICAgICBpZiAodG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQykge1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRleHQpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJmb250LWZhY2VcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydEZvbnRGYWNlUnVsZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCItZXB1YngtcGFnZS10ZW1wbGF0ZVwiOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0UGFnZVRlbXBsYXRlUnVsZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCItZXB1YngtZGVmaW5lXCI6XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnREZWZpbmVSdWxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIi1lcHVieC12aWV3cG9ydFwiOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0Vmlld3BvcnRSdWxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wdXNoKHRleHQpO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIi1hZGFwdC1mb290bm90ZS1hcmVhXCI6XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQzpcbiAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0Rm9vdG5vdGVSdWxlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgdGhpcy5ydWxlU3RhY2sucHVzaCh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTF9DT0w6XG4gICAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UICYmXG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplci5udGhUb2tlbigxKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUkNcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydEZvb3Rub3RlUnVsZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ydWxlU3RhY2sucHVzaChcIi1hZGFwdC1mb290bm90ZS1hcmVhXCIpO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0UnVsZUJvZHkoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCItZXB1YngtcmVnaW9uXCI6XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSZWdpb25SdWxlKCk7XG4gICAgICAgICAgICAgIHRoaXMucmVnaW9uUnVsZSA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvclN0YXJ0O1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgXCJwYWdlXCI6XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRQYWdlUnVsZSgpO1xuICAgICAgICAgICAgICB0aGlzLnBhZ2VSdWxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yQ29udDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjYXNlIFwidG9wLWxlZnQtY29ybmVyXCI6XG4gICAgICAgICAgICBjYXNlIFwidG9wLWxlZnRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ0b3AtY2VudGVyXCI6XG4gICAgICAgICAgICBjYXNlIFwidG9wLXJpZ2h0XCI6XG4gICAgICAgICAgICBjYXNlIFwidG9wLXJpZ2h0LWNvcm5lclwiOlxuICAgICAgICAgICAgY2FzZSBcInJpZ2h0LXRvcFwiOlxuICAgICAgICAgICAgY2FzZSBcInJpZ2h0LW1pZGRsZVwiOlxuICAgICAgICAgICAgY2FzZSBcInJpZ2h0LWJvdHRvbVwiOlxuICAgICAgICAgICAgY2FzZSBcImJvdHRvbS1yaWdodC1jb3JuZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJib3R0b20tcmlnaHRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJib3R0b20tY2VudGVyXCI6XG4gICAgICAgICAgICBjYXNlIFwiYm90dG9tLWxlZnRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJib3R0b20tbGVmdC1jb3JuZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJsZWZ0LWJvdHRvbVwiOlxuICAgICAgICAgICAgY2FzZSBcImxlZnQtbWlkZGxlXCI6XG4gICAgICAgICAgICBjYXNlIFwibGVmdC10b3BcIjpcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQykge1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFBhZ2VNYXJnaW5Cb3hSdWxlKHRleHQpO1xuICAgICAgICAgICAgICAgIHRoaXMucnVsZVN0YWNrLnB1c2godGV4dCk7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFJ1bGVCb2R5KCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LXdoZW5cIjpcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgdGhpcy5wcm9wTmFtZSA9IG51bGw7IC8vIHNpZ25hbHMgQCBydWxlXG4gICAgICAgICAgICAgIHRoaXMuZXhwckNvbnRleHQgPSBFeHByQ29udGV4dC5XSEVOO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXhwclZhbDtcbiAgICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcIntcIik7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSBcIm1lZGlhXCI6XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRoaXMucHJvcE5hbWUgPSBudWxsOyAvLyBzaWduYWxzIEAgcnVsZVxuICAgICAgICAgICAgICB0aGlzLmV4cHJDb250ZXh0ID0gRXhwckNvbnRleHQuTUVESUE7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByVmFsO1xuICAgICAgICAgICAgICB2YWxTdGFjay5wdXNoKFwie1wiKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LWZsb3dcIjpcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRva2VuaXplci5udGhUb2tlbigxKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQgJiZcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIubnRoVG9rZW4oMikudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJDXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRGbG93UnVsZSh0b2tlbml6ZXIubnRoVG9rZW4oMSkudGV4dCk7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ydWxlU3RhY2sucHVzaCh0ZXh0KTtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0UnVsZUJvZHkoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCItZXB1YngtcGFnZS1tYXN0ZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCItZXB1YngtcGFydGl0aW9uXCI6XG4gICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LXBhcnRpdGlvbi1ncm91cFwiOiB7XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIGxldCBydWxlTmFtZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICAgICAgICAgIGxldCBydWxlUHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICAgICAgICAgIGNvbnN0IGNsYXNzZXM6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQpIHtcbiAgICAgICAgICAgICAgICBydWxlTmFtZSA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT04gJiZcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIubnRoVG9rZW4oMSkudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJ1bGVQc2V1ZG9OYW1lID0gdG9rZW5pemVyLm50aFRva2VuKDEpLnRleHQ7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgd2hpbGUgKFxuICAgICAgICAgICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5GVU5DICYmXG4gICAgICAgICAgICAgICAgdG9rZW4udGV4dC50b0xvd2VyQ2FzZSgpID09IFwiY2xhc3NcIiAmJlxuICAgICAgICAgICAgICAgIHRva2VuaXplci5udGhUb2tlbigxKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQgJiZcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIubnRoVG9rZW4oMikudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaCh0b2tlbml6ZXIubnRoVG9rZW4oMSkudGV4dCk7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJDKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRleHQpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCItZXB1YngtcGFnZS1tYXN0ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFBhZ2VNYXN0ZXJSdWxlKFxuICAgICAgICAgICAgICAgICAgICAgIHJ1bGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIHJ1bGVQc2V1ZG9OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIi1lcHVieC1wYXJ0aXRpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFBhcnRpdGlvblJ1bGUoXG4gICAgICAgICAgICAgICAgICAgICAgcnVsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgcnVsZVBzZXVkb05hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LXBhcnRpdGlvbi1ncm91cFwiOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0UGFydGl0aW9uR3JvdXBSdWxlKFxuICAgICAgICAgICAgICAgICAgICAgIHJ1bGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIHJ1bGVQc2V1ZG9OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wdXNoKHRleHQpO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIlwiOlxuICAgICAgICAgICAgICAvLyBObyB0ZXh0IGFmdGVyIEBcbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihgRV9DU1NfVU5FWFBFQ1RFRF9BVCR7dGV4dH1gLCB0b2tlbik7XG5cbiAgICAgICAgICAgICAgLy8gRXJyb3IgcmVjb3ZlcnkgdXNpbmcgc2VsZWN0b3IgcnVsZXMuXG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvclNlbGVjdG9yO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoYEVfQ1NTX0FUX1VOS05PV04gJHt0ZXh0fWAsIHRva2VuKTtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGFuZGxlci5lcnJvcihgRV9DU1NfQVRfU1lOVEFYICR7dGV4dH1gLCB0b2tlbik7XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FUlJPUl9QVVNIOlxuICAgICAgICAgIC8vIE9wZW4gYnJhY2tldCB3aGlsZSBza2lwcGluZyBlcnJvciBzeW50YXhcbiAgICAgICAgICBpZiAocGFyc2luZ1ZhbHVlIHx8IHBhcnNpbmdTdHlsZUF0dHIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmVycm9yQnJhY2tldHMucHVzaCh0b2tlbi50eXBlICsgMSk7XG5cbiAgICAgICAgICAvLyBFeHBlY3RlZCBjbG9zaW5nIGJyYWNrZXRcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FUlJPUl9QT1BfREVDTDpcbiAgICAgICAgICAvLyBDbG9zZSBicmFja2V0IHdoaWxlIHNraXBwaW5nIGVycm9yIHN5bnRheCBpbiBkZWNsYXJhdGlvblxuICAgICAgICAgIGlmIChwYXJzaW5nVmFsdWUgfHwgcGFyc2luZ1N0eWxlQXR0cikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aGlzLmVycm9yQnJhY2tldHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNCYXNlO1xuXG4gICAgICAgICAgICAvLyBEb24ndCBjb25zdW1lIGNsb3NpbmcgYnJhY2VcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgY2FzZSBBY3Rpb24uRVJST1JfUE9QOlxuICAgICAgICAgIC8vIENsb3NlIGJyYWNrZXQgd2hpbGUgc2tpcHBpbmcgZXJyb3Igc3ludGF4XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5lcnJvckJyYWNrZXRzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgIHRoaXMuZXJyb3JCcmFja2V0c1t0aGlzLmVycm9yQnJhY2tldHMubGVuZ3RoIC0gMV0gPT0gdG9rZW4udHlwZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5lcnJvckJyYWNrZXRzLnBvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmVycm9yQnJhY2tldHMubGVuZ3RoID09IDAgJiZcbiAgICAgICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSQ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Jhc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVSUk9SX1NFTUlDT0w6XG4gICAgICAgICAgaWYgKHBhcnNpbmdWYWx1ZSB8fCBwYXJzaW5nU3R5bGVBdHRyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuZXJyb3JCcmFja2V0cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Jhc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkRPTkU6XG4gICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgaGFuZGxlci5lbmRGdW5jV2l0aFNlbGVjdG9yKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChwYXJzaW5nVmFsdWUgfHwgcGFyc2luZ1N0eWxlQXR0cikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwYXJzaW5nTWVkaWFRdWVyeSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZXhwclN0YWNrUmVkdWNlKENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVIsIHRva2VuKSkge1xuICAgICAgICAgICAgICB0aGlzLnJlc3VsdCA9IHZhbFN0YWNrLnBvcCgpIGFzIENzcy5WYWw7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSU5WQUxJRCkge1xuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKHRva2VuLnRleHQsIHRva2VuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5hY3Rpb25zID09PSBhY3Rpb25zUHJvcFZhbCAmJiB0b2tlbml6ZXIuaGFzTWFyaygpKSB7XG4gICAgICAgICAgICB0b2tlbml6ZXIucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvclN0YXJ0O1xuICAgICAgICAgICAgaGFuZGxlci5zdGFydFNlbGVjdG9yUnVsZSgpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyAhPT0gYWN0aW9uc0Vycm9yICYmXG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgIT09IGFjdGlvbnNFcnJvclNlbGVjdG9yICYmXG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgIT09IGFjdGlvbnNFcnJvckRlY2xcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSU5WQUxJRCkge1xuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKHRva2VuLnRleHQsIHRva2VuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNJbnNpZGVQcm9wZXJ0eU9ubHlSdWxlKCkpIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yRGVjbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvclNlbGVjdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7IC8vIExldCBlcnJvci1yZWNvdmVyeSB0byByZS1wcm9jZXNzIHRoZSBvZmZlbmRpbmcgdG9rZW5cbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlOyAvLyBOb3QgZG9uZSB5ZXQuXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVycm9ySGFuZGxlciBleHRlbmRzIFBhcnNlckhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSkge1xuICAgIHN1cGVyKG51bGwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXJyb3IobW5lbW9uaWNzOiBzdHJpbmcsIHRva2VuOiBDc3NUb2tlbml6ZXIuVG9rZW4pOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobW5lbW9uaWNzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFNjb3BlKCk6IEV4cHJzLkxleGljYWxTY29wZSB7XG4gICAgcmV0dXJuIHRoaXMuc2NvcGU7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU3R5bGVzaGVldChcbiAgdG9rZW5pemVyOiBDc3NUb2tlbml6ZXIuVG9rZW5pemVyLFxuICBoYW5kbGVyOiBQYXJzZXJIYW5kbGVyLFxuICBiYXNlVVJMOiBzdHJpbmcsXG4gIGNsYXNzZXM6IHN0cmluZyB8IG51bGwsXG4gIG1lZGlhOiBzdHJpbmcgfCBudWxsLFxuKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJwYXJzZVN0eWxlc2hlZXRcIik7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBQYXJzZXIoYWN0aW9uc0Jhc2UsIHRva2VuaXplciwgaGFuZGxlciwgYmFzZVVSTCk7XG4gIGxldCBjb25kaXRpb246IENzcy5FeHByID0gbnVsbDtcbiAgaWYgKG1lZGlhKSB7XG4gICAgY29uZGl0aW9uID0gcGFyc2VNZWRpYVF1ZXJ5KFxuICAgICAgbmV3IENzc1Rva2VuaXplci5Ub2tlbml6ZXIobWVkaWEsIGhhbmRsZXIpLFxuICAgICAgaGFuZGxlcixcbiAgICAgIGJhc2VVUkwsXG4gICAgKTtcbiAgfVxuICBjb25kaXRpb24gPSBwYXJzZXIubWFrZUNvbmRpdGlvbihjbGFzc2VzLCBjb25kaXRpb24gJiYgY29uZGl0aW9uLnRvRXhwcigpKTtcbiAgaWYgKGNvbmRpdGlvbikge1xuICAgIGhhbmRsZXIuc3RhcnRNZWRpYVJ1bGUoY29uZGl0aW9uKTtcbiAgICBoYW5kbGVyLnN0YXJ0UnVsZUJvZHkoKTtcbiAgfVxuICBmcmFtZVxuICAgIC5sb29wKCgpID0+IHtcbiAgICAgIHdoaWxlICghcGFyc2VyLnJ1blBhcnNlcigxMDAsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKSkge1xuICAgICAgICBpZiAocGFyc2VyLmltcG9ydFJlYWR5KSB7XG4gICAgICAgICAgY29uc3QgcmVzb2x2ZWRVUkwgPSBCYXNlLnJlc29sdmVVUkwoXG4gICAgICAgICAgICBwYXJzZXIuaW1wb3J0VVJMIGFzIHN0cmluZyxcbiAgICAgICAgICAgIGJhc2VVUkwsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAocGFyc2VyLmltcG9ydENvbmRpdGlvbikge1xuICAgICAgICAgICAgaGFuZGxlci5zdGFydE1lZGlhUnVsZShwYXJzZXIuaW1wb3J0Q29uZGl0aW9uKTtcbiAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBpbm5lckZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgICAgICAgIFwicGFyc2VTdHlsZXNoZWV0LmltcG9ydFwiLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcGFyc2VTdHlsZXNoZWV0RnJvbVVSTChyZXNvbHZlZFVSTCwgaGFuZGxlciwgbnVsbCwgbnVsbCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGFyc2VyLmltcG9ydENvbmRpdGlvbikge1xuICAgICAgICAgICAgICBoYW5kbGVyLmVuZFJ1bGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlci5pbXBvcnRSZWFkeSA9IGZhbHNlO1xuICAgICAgICAgICAgcGFyc2VyLmltcG9ydFVSTCA9IG51bGw7XG4gICAgICAgICAgICBwYXJzZXIuaW1wb3J0Q29uZGl0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIGlubmVyRnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBpbm5lckZyYW1lLnJlc3VsdCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHIgPSBmcmFtZS50aW1lU2xpY2UoKTtcbiAgICAgICAgaWYgKHIuaXNQZW5kaW5nKSB7XG4gICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChmYWxzZSk7XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgIGhhbmRsZXIuZW5kUnVsZSgpO1xuICAgICAgfVxuICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgIH0pO1xuICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0eWxlc2hlZXRGcm9tVGV4dChcbiAgdGV4dDogc3RyaW5nLFxuICBoYW5kbGVyOiBQYXJzZXJIYW5kbGVyLFxuICBiYXNlVVJMOiBzdHJpbmcsXG4gIGNsYXNzZXM6IHN0cmluZyB8IG51bGwsXG4gIG1lZGlhOiBzdHJpbmcgfCBudWxsLFxuKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICByZXR1cm4gVGFzay5oYW5kbGUoXG4gICAgXCJwYXJzZVN0eWxlc2hlZXRGcm9tVGV4dFwiLFxuICAgIChmcmFtZSkgPT4ge1xuICAgICAgY29uc3QgdG9rID0gbmV3IENzc1Rva2VuaXplci5Ub2tlbml6ZXIodGV4dCwgaGFuZGxlcik7XG4gICAgICBwYXJzZVN0eWxlc2hlZXQodG9rLCBoYW5kbGVyLCBiYXNlVVJMLCBjbGFzc2VzLCBtZWRpYSkudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgfSxcbiAgICAoZnJhbWUsIGVycikgPT4ge1xuICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIsIGBGYWlsZWQgdG8gcGFyc2Ugc3R5bGVzaGVldCB0ZXh0OiAke3RleHR9YCk7XG4gICAgICBmcmFtZS5maW5pc2goZmFsc2UpO1xuICAgIH0sXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0eWxlc2hlZXRGcm9tVVJMKFxuICB1cmw6IHN0cmluZyxcbiAgaGFuZGxlcjogUGFyc2VySGFuZGxlcixcbiAgY2xhc3Nlczogc3RyaW5nIHwgbnVsbCxcbiAgbWVkaWE6IHN0cmluZyB8IG51bGwsXG4pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gIHJldHVybiBUYXNrLmhhbmRsZShcbiAgICBcInBhcnNlU3R5bGVzaGVldEZyb21VUkxcIixcbiAgICAoZnJhbWUpID0+IHtcbiAgICAgIE5ldC5hamF4KHVybCkudGhlbigoeGhyKSA9PiB7XG4gICAgICAgIGlmICgheGhyLnJlc3BvbnNlVGV4dCkge1xuICAgICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJzZVN0eWxlc2hlZXRGcm9tVGV4dChcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVRleHQsXG4gICAgICAgICAgICBoYW5kbGVyLFxuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgY2xhc3NlcyxcbiAgICAgICAgICAgIG1lZGlhLFxuICAgICAgICAgICkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGBGYWlsZWQgdG8gcGFyc2Ugc3R5bGVzaGVldCBmcm9tICR7dXJsfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIChmcmFtZSwgZXJyKSA9PiB7XG4gICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGVyciwgXCJFeGNlcHRpb24gd2hpbGUgZmV0Y2hpbmcgYW5kIHBhcnNpbmc6XCIsIHVybCk7XG4gICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgfSxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVmFsdWUoXG4gIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gIHRva2VuaXplcjogQ3NzVG9rZW5pemVyLlRva2VuaXplcixcbiAgYmFzZVVSTDogc3RyaW5nLFxuKTogQ3NzLlZhbCB7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBQYXJzZXIoXG4gICAgYWN0aW9uc1Byb3BWYWwsXG4gICAgdG9rZW5pemVyLFxuICAgIG5ldyBFcnJvckhhbmRsZXIoc2NvcGUpLFxuICAgIGJhc2VVUkwsXG4gICk7XG4gIHBhcnNlci5ydW5QYXJzZXIoTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCB0cnVlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgcmV0dXJuIHBhcnNlci5yZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0eWxlQXR0cmlidXRlKFxuICB0b2tlbml6ZXI6IENzc1Rva2VuaXplci5Ub2tlbml6ZXIsXG4gIGhhbmRsZXI6IFBhcnNlckhhbmRsZXIsXG4gIGJhc2VVUkw6IHN0cmluZyxcbik6IHZvaWQge1xuICBjb25zdCBwYXJzZXIgPSBuZXcgUGFyc2VyKGFjdGlvbnNTdHlsZUF0dHJpYnV0ZSwgdG9rZW5pemVyLCBoYW5kbGVyLCBiYXNlVVJMKTtcbiAgcGFyc2VyLnJ1blBhcnNlcihOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIGZhbHNlLCB0cnVlLCBmYWxzZSwgZmFsc2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VNZWRpYVF1ZXJ5KFxuICB0b2tlbml6ZXI6IENzc1Rva2VuaXplci5Ub2tlbml6ZXIsXG4gIGhhbmRsZXI6IFBhcnNlckhhbmRsZXIsXG4gIGJhc2VVUkw6IHN0cmluZyxcbik6IENzcy5FeHByIHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IFBhcnNlcihhY3Rpb25zRXhwclZhbCwgdG9rZW5pemVyLCBoYW5kbGVyLCBiYXNlVVJMKTtcbiAgcGFyc2VyLnJ1blBhcnNlcihOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIGZhbHNlLCBmYWxzZSwgdHJ1ZSwgZmFsc2UpO1xuICByZXR1cm4gcGFyc2VyLnJlc3VsdCBhcyBDc3MuRXhwcjtcbn1cblxuZXhwb3J0IGNvbnN0IG51bVByb3A6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge1xuICBcInotaW5kZXhcIjogdHJ1ZSxcbiAgXCJjb2x1bW4tY291bnRcIjogdHJ1ZSxcbiAgXCJmbG93LWxpbmdlclwiOiB0cnVlLFxuICBvcGFjaXR5OiB0cnVlLFxuICBwYWdlOiB0cnVlLFxuICBcImZsb3ctcHJpb3JpdHlcIjogdHJ1ZSxcbiAgdXRpbGl6YXRpb246IHRydWUsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdGFrZXNPbmx5TnVtKHByb3BOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuICEhbnVtUHJvcFtwcm9wTmFtZV07XG59XG5cbi8qKlxuICogQHJldHVybiB2YWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2YWx1YXRlRXhwclRvQ1NTKFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICB2YWw6IEV4cHJzLlZhbCxcbiAgcHJvcE5hbWU6IHN0cmluZyxcbik6IENzcy5WYWwge1xuICBjb25zdCByZXN1bHQgPSB2YWwuZXZhbHVhdGUoY29udGV4dCk7XG4gIHN3aXRjaCAodHlwZW9mIHJlc3VsdCkge1xuICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgIGlmICghdGFrZXNPbmx5TnVtKHByb3BOYW1lKSkge1xuICAgICAgICByZXR1cm4gbmV3IENzcy5OdW1lcmljKHJlc3VsdCBhcyBudW1iZXIsIFwicHhcIik7XG4gICAgICB9IGVsc2UgaWYgKHJlc3VsdCA9PSBNYXRoLnJvdW5kKHJlc3VsdCBhcyBudW1iZXIpKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ3NzLkludChyZXN1bHQgYXMgbnVtYmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgQ3NzLk51bShyZXN1bHQgYXMgbnVtYmVyKTtcbiAgICAgIH1cbiAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICByZXR1cm4gQ3NzLmVtcHR5O1xuICAgICAgfVxuXG4gICAgICAvLyBUT0RPOiB3aGVyZSBiYXNlVVJMIHNob3VsZCBjb21lIGZyb20/Pz9cbiAgICAgIHJldHVybiBwYXJzZVZhbHVlKFxuICAgICAgICB2YWwuc2NvcGUsXG4gICAgICAgIG5ldyBDc3NUb2tlbml6ZXIuVG9rZW5pemVyKHJlc3VsdCBhcyBzdHJpbmcsIG51bGwpLFxuICAgICAgICBcIlwiLFxuICAgICAgKTtcbiAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgcmV0dXJuIHJlc3VsdCA/IENzcy5pZGVudC5fdHJ1ZSA6IENzcy5pZGVudC5fZmFsc2U7XG4gICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgcmV0dXJuIENzcy5lbXB0eTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJFX1VORVhQRUNURURcIik7XG59XG5cbi8qKlxuICogQHJldHVybiB2YWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2YWx1YXRlQ1NTVG9DU1MoXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gIHZhbDogQ3NzLlZhbCxcbiAgcHJvcE5hbWU6IHN0cmluZyxcbik6IENzcy5WYWwge1xuICBpZiAodmFsLmlzRXhwcigpKSB7XG4gICAgcmV0dXJuIGV2YWx1YXRlRXhwclRvQ1NTKGNvbnRleHQsICh2YWwgYXMgQ3NzLkV4cHIpLmV4cHIsIHByb3BOYW1lKTtcbiAgfVxuICByZXR1cm4gdmFsO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IE1hdGNoZXJzIC0gRGVmaW5pdGlvbnMgb2YgTWF0Y2hlci5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5cbi8qKlxuICogQ2hlY2tlcyB3aGV0aGVyIGdpdmVuIG9yZGVyIGNhbiBiZSByZXByZXNlbnRlZCBhcyBhbitiIHdpdGggYSBub24tbmVnYXRpdmVcbiAqIGludGVyZ2VyIG5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoQU5QbHVzQihvcmRlcjogbnVtYmVyLCBhOiBudW1iZXIsIGI6IG51bWJlcik6IGJvb2xlYW4ge1xuICBvcmRlciAtPSBiO1xuICBpZiAoYSA9PT0gMCkge1xuICAgIHJldHVybiBvcmRlciA9PT0gMDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gb3JkZXIgJSBhID09PSAwICYmIG9yZGVyIC8gYSA+PSAwO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWF0Y2hlciB7XG4gIG1hdGNoZXMoKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIEFueU1hdGNoZXIgaW1wbGVtZW50cyBNYXRjaGVyIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG1hdGNoZXJzOiBNYXRjaGVyW10pIHt9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBtYXRjaGVzKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm1hdGNoZXJzLnNvbWUoKG1hdGNoZXIpID0+IG1hdGNoZXIubWF0Y2hlcygpKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWxsTWF0Y2hlciBpbXBsZW1lbnRzIE1hdGNoZXIge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbWF0Y2hlcnM6IE1hdGNoZXJbXSkge31cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG1hdGNoZXMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubWF0Y2hlcnMuZXZlcnkoKG1hdGNoZXIpID0+IG1hdGNoZXIubWF0Y2hlcygpKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTnRoRnJhZ21lbnRNYXRjaGVyIGltcGxlbWVudHMgTWF0Y2hlciB7XG4gIHN0YXRpYyBmcmFnbWVudEluZGljZXMgPSB7fTtcblxuICBzdGF0aWMgcmVnaXN0ZXJGcmFnbWVudEluZGV4KFxuICAgIGVsZW1lbnRPZmZzZXQ6IG51bWJlcixcbiAgICBmcmFnbWVudEluZGV4OiBudW1iZXIsXG4gICAgcHJpb3JpdHk6IG51bWJlcixcbiAgKSB7XG4gICAgY29uc3QgaW5kaWNlcyA9IE50aEZyYWdtZW50TWF0Y2hlci5mcmFnbWVudEluZGljZXM7XG4gICAgaWYgKFxuICAgICAgIWluZGljZXNbZWxlbWVudE9mZnNldF0gfHxcbiAgICAgIGluZGljZXNbZWxlbWVudE9mZnNldF0ucHJpb3JpdHkgPD0gcHJpb3JpdHlcbiAgICApIHtcbiAgICAgIGluZGljZXNbZWxlbWVudE9mZnNldF0gPSB7IGZyYWdtZW50SW5kZXgsIHByaW9yaXR5IH07XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGNsZWFyRnJhZ21lbnRJbmRpY2VzKCkge1xuICAgIE50aEZyYWdtZW50TWF0Y2hlci5mcmFnbWVudEluZGljZXMgPSB7fTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBlbGVtZW50T2Zmc2V0OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGE6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgYjogbnVtYmVyLFxuICApIHt9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBtYXRjaGVzKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGVudHJ5ID0gTnRoRnJhZ21lbnRNYXRjaGVyLmZyYWdtZW50SW5kaWNlc1t0aGlzLmVsZW1lbnRPZmZzZXRdO1xuICAgIHJldHVybiAoXG4gICAgICBlbnRyeSAhPSBudWxsICYmXG4gICAgICBlbnRyeS5mcmFnbWVudEluZGV4ICE9IG51bGwgJiZcbiAgICAgIG1hdGNoQU5QbHVzQihlbnRyeS5mcmFnbWVudEluZGV4LCB0aGlzLmEsIHRoaXMuYilcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNYXRjaGVyQnVpbGRlciB7XG4gIHN0YXRpYyBidWlsZFZpZXdDb25kaXRpb25NYXRjaGVyKFxuICAgIGVsZW1lbnRPZmZzZXQ6IG51bWJlcixcbiAgICB2aWV3Q29uZGl0aW9uOiBzdHJpbmcsXG4gICk6IE1hdGNoZXIge1xuICAgIGNvbnN0IHN0cnMgPSB2aWV3Q29uZGl0aW9uLnNwbGl0KFwiX1wiKTtcbiAgICBpZiAoc3Ryc1swXSA9PSBcIk5GU1wiKSB7XG4gICAgICByZXR1cm4gbmV3IE50aEZyYWdtZW50TWF0Y2hlcihcbiAgICAgICAgZWxlbWVudE9mZnNldCxcbiAgICAgICAgcGFyc2VJbnQoc3Ryc1sxXSwgMTApLFxuICAgICAgICBwYXJzZUludChzdHJzWzJdLCAxMCksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBBc3NlcnRzLmZhaWwoYHVua25vd24gdmlldyBjb25kaXRpb24uIGNvbmRpdGlvbj0ke3ZpZXdDb25kaXRpb259YCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYnVpbGRBbGxNYXRjaGVyKG1hdGNoZXJzOiBNYXRjaGVyW10pOiBNYXRjaGVyIHtcbiAgICByZXR1cm4gbmV3IEFsbE1hdGNoZXIobWF0Y2hlcnMpO1xuICB9XG5cbiAgc3RhdGljIGJ1aWxkQW55TWF0Y2hlcihtYXRjaGVyczogTWF0Y2hlcltdKTogTWF0Y2hlciB7XG4gICAgcmV0dXJuIG5ldyBBbnlNYXRjaGVyKG1hdGNoZXJzKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDc3NDYXNjYWRlIC0gQ1NTIENhc2NhZGUuXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NQYXJzZXIgZnJvbSBcIi4vY3NzLXBhcnNlclwiO1xuaW1wb3J0ICogYXMgQ3NzUHJvcCBmcm9tIFwiLi9jc3MtcHJvcFwiO1xuaW1wb3J0ICogYXMgQ3NzVG9rZW5pemVyIGZyb20gXCIuL2Nzcy10b2tlbml6ZXJcIjtcbmltcG9ydCAqIGFzIENzc1ZhbGlkYXRvciBmcm9tIFwiLi9jc3MtdmFsaWRhdG9yXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgKiBhcyBNYXRjaGVycyBmcm9tIFwiLi9tYXRjaGVyc1wiO1xuaW1wb3J0ICogYXMgUGx1Z2luIGZyb20gXCIuL3BsdWdpblwiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7IENzc0Nhc2NhZGUgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEVsZW1lbnRTdHlsZSBleHRlbmRzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIHt9XG5cbmV4cG9ydCBjb25zdCBpbmhlcml0ZWRQcm9wcyA9IHtcbiAgYXppbXV0aDogdHJ1ZSxcbiAgXCJib3JkZXItY29sbGFwc2VcIjogdHJ1ZSxcbiAgXCJib3JkZXItc3BhY2luZ1wiOiB0cnVlLFxuICBcImNhcHRpb24tc2lkZVwiOiB0cnVlLFxuICBcImNsaXAtcnVsZVwiOiB0cnVlLFxuICBjb2xvcjogdHJ1ZSxcbiAgXCJjb2xvci1pbnRlcnBvbGF0aW9uXCI6IHRydWUsXG4gIFwiY29sb3ItcmVuZGVyaW5nXCI6IHRydWUsXG4gIGN1cnNvcjogdHJ1ZSxcbiAgZGlyZWN0aW9uOiB0cnVlLFxuICBlbGV2YXRpb246IHRydWUsXG4gIFwiZW1wdHktY2VsbHNcIjogdHJ1ZSxcbiAgZmlsbDogdHJ1ZSxcbiAgXCJmaWxsLW9wYWNpdHlcIjogdHJ1ZSxcbiAgXCJmaWxsLXJ1bGVcIjogdHJ1ZSxcbiAgXCJmb250LWtlcm5pbmdcIjogdHJ1ZSxcbiAgXCJmb250LXNpemVcIjogdHJ1ZSxcbiAgXCJmb250LXNpemUtYWRqdXN0XCI6IHRydWUsXG4gIFwiZm9udC1mYW1pbHlcIjogdHJ1ZSxcbiAgXCJmb250LWZlYXR1cmUtc2V0dGluZ3NcIjogdHJ1ZSxcbiAgXCJmb250LXN0eWxlXCI6IHRydWUsXG4gIFwiZm9udC1zdHJldGNoXCI6IHRydWUsXG4gIFwiZm9udC12YXJpYW50XCI6IHRydWUsXG4gIFwiZm9udC13ZWlnaHRcIjogdHJ1ZSxcbiAgXCJnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbFwiOiB0cnVlLFxuICBoeXBoZW5zOiB0cnVlLFxuICBcImh5cGhlbmF0ZS1jaGFyYWN0ZXJcIjogdHJ1ZSxcbiAgXCJoeXBoZW5hdGUtbGltaXQtY2hhcnNcIjogdHJ1ZSxcbiAgXCJoeXBoZW5hdGUtbGltaXQtbGFzdFwiOiB0cnVlLFxuICBcImltYWdlLXJlbmRlcmluZ1wiOiB0cnVlLFxuICBcImltYWdlLXJlc29sdXRpb25cIjogdHJ1ZSxcbiAgXCJsZXR0ZXItc3BhY2luZ1wiOiB0cnVlLFxuICBcImxpbmUtYnJlYWtcIjogdHJ1ZSxcbiAgXCJsaW5lLWhlaWdodFwiOiB0cnVlLFxuICBcImxpc3Qtc3R5bGUtaW1hZ2VcIjogdHJ1ZSxcbiAgXCJsaXN0LXN0eWxlLXBvc2l0aW9uXCI6IHRydWUsXG4gIFwibGlzdC1zdHlsZS10eXBlXCI6IHRydWUsXG4gIG1hcmtlcjogdHJ1ZSxcbiAgXCJtYXJrZXItZW5kXCI6IHRydWUsXG4gIFwibWFya2VyLW1pZFwiOiB0cnVlLFxuICBcIm1hcmtlci1zdGFydFwiOiB0cnVlLFxuICBvcnBoYW5zOiB0cnVlLFxuICBcIm92ZXJmbG93LXdyYXBcIjogdHJ1ZSxcbiAgXCJwYWludC1vcmRlclwiOiB0cnVlLFxuICBcInBvaW50ZXItZXZlbnRzXCI6IHRydWUsXG4gIFwicGl0Y2gtcmFuZ2VcIjogdHJ1ZSxcbiAgcXVvdGVzOiB0cnVlLFxuICByaWNobmVzczogdHJ1ZSxcbiAgXCJydWJ5LWFsaWduXCI6IHRydWUsXG4gIFwicnVieS1wb3NpdGlvblwiOiB0cnVlLFxuICBcInNwZWFrLWhlYWRlclwiOiB0cnVlLFxuICBcInNwZWFrLW51bWVyYWxcIjogdHJ1ZSxcbiAgXCJzcGVhay1wdW5jdHVhdGlvblwiOiB0cnVlLFxuICBcInNwZWVjaC1yYXRlXCI6IHRydWUsXG4gIFwic2hhcGUtcmVuZGVyaW5nXCI6IHRydWUsXG4gIHN0cmVzczogdHJ1ZSxcbiAgc3Ryb2tlOiB0cnVlLFxuICBcInN0cm9rZS1kYXNoYXJyYXlcIjogdHJ1ZSxcbiAgXCJzdHJva2UtZGFzaG9mZnNldFwiOiB0cnVlLFxuICBcInN0cm9rZS1saW5lY2FwXCI6IHRydWUsXG4gIFwic3Ryb2tlLWxpbmVqb2luXCI6IHRydWUsXG4gIFwic3Ryb2tlLW1pdGVybGltaXRcIjogdHJ1ZSxcbiAgXCJzdHJva2Utb3BhY2l0eVwiOiB0cnVlLFxuICBcInN0cm9rZS13aWR0aFwiOiB0cnVlLFxuICBcInRhYi1zaXplXCI6IHRydWUsXG4gIFwidGV4dC1hbGlnblwiOiB0cnVlLFxuICBcInRleHQtYWxpZ24tbGFzdFwiOiB0cnVlLFxuICBcInRleHQtYW5jaG9yXCI6IHRydWUsXG4gIFwidGV4dC1kZWNvcmF0aW9uLXNraXBcIjogdHJ1ZSxcbiAgXCJ0ZXh0LWVtcGhhc2lzLWNvbG9yXCI6IHRydWUsXG4gIFwidGV4dC1lbXBoYXNpcy1wb3NpdGlvblwiOiB0cnVlLFxuICBcInRleHQtZW1waGFzaXMtc3R5bGVcIjogdHJ1ZSxcbiAgXCJ0ZXh0LWNvbWJpbmUtdXByaWdodFwiOiB0cnVlLFxuICBcInRleHQtaW5kZW50XCI6IHRydWUsXG4gIFwidGV4dC1qdXN0aWZ5XCI6IHRydWUsXG4gIFwidGV4dC1yZW5kZXJpbmdcIjogdHJ1ZSxcbiAgXCJ0ZXh0LXNpemUtYWRqdXN0XCI6IHRydWUsXG4gIFwidGV4dC10cmFuc2Zvcm1cIjogdHJ1ZSxcbiAgXCJ0ZXh0LXVuZGVybGluZS1wb3NpdGlvblwiOiB0cnVlLFxuICB2aXNpYmlsaXR5OiB0cnVlLFxuICBcInZvaWNlLWZhbWlseVwiOiB0cnVlLFxuICB2b2x1bWU6IHRydWUsXG4gIFwid2hpdGUtc3BhY2VcIjogdHJ1ZSxcbiAgd2lkb3dzOiB0cnVlLFxuICBcIndvcmQtYnJlYWtcIjogdHJ1ZSxcbiAgXCJ3b3JkLXNwYWNpbmdcIjogdHJ1ZSxcbiAgXCJ3b3JkLXdyYXBcIjogdHJ1ZSxcbiAgXCJ3cml0aW5nLW1vZGVcIjogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCBwb2x5ZmlsbGVkSW5oZXJpdGVkUHJvcHMgPSBbXG4gIFwiYm94LWRlY29yYXRpb24tYnJlYWtcIixcbiAgLy8gVE9ETzogYm94LWRlY29yYXRpb24tYmxvY2sgc2hvdWxkIG5vdCBiZSBpbmhlcml0ZWQuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92aXZsaW9zdHlsZS92aXZsaW9zdHlsZS5qcy9pc3N1ZXMvMjU5XG4gIFwiaW1hZ2UtcmVzb2x1dGlvblwiLFxuICBcIm9ycGhhbnNcIixcbiAgXCJ3aWRvd3NcIixcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb2x5ZmlsbGVkSW5oZXJpdGVkUHJvcHMoKTogc3RyaW5nW10ge1xuICBjb25zdCBob29rczogUGx1Z2luLlBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wc0hvb2tbXSA9IFBsdWdpbi5nZXRIb29rc0Zvck5hbWUoXG4gICAgUGx1Z2luLkhPT0tTLlBPTFlGSUxMRURfSU5IRVJJVEVEX1BST1BTLFxuICApO1xuICByZXR1cm4gaG9va3MucmVkdWNlKFxuICAgIChwcm9wcywgZikgPT4gcHJvcHMuY29uY2F0KGYoKSksXG4gICAgW10uY29uY2F0KHBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wcyksXG4gICk7XG59XG5cbmV4cG9ydCBjb25zdCBzdXBwb3J0ZWROYW1lc3BhY2VzID0ge1xuICBcImh0dHA6Ly93d3cuaWRwZi5vcmcvMjAwNy9vcHNcIjogdHJ1ZSxcbiAgXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI6IHRydWUsXG4gIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCBjb3VwbGVkUGF0dGVybnMgPSBbXG4gIFwibWFyZ2luLSVcIixcbiAgXCJwYWRkaW5nLSVcIixcbiAgXCJib3JkZXItJS13aWR0aFwiLFxuICBcImJvcmRlci0lLXN0eWxlXCIsXG4gIFwiYm9yZGVyLSUtY29sb3JcIixcbiAgXCIlXCIsXG5dO1xuXG5leHBvcnQgY29uc3QgY291cGxlZEV4dGVudFBhdHRlcm5zID0gW1wibWF4LSVcIiwgXCJtaW4tJVwiLCBcIiVcIl07XG5cbmV4cG9ydCBjb25zdCBnZW9tTmFtZXM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0gKCgpID0+IHtcbiAgY29uc3Qgc2lkZXMgPSBbXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJ0b3BcIiwgXCJib3R0b21cIl07XG4gIGNvbnN0IG5hbWVzID0ge1xuICAgIHdpZHRoOiB0cnVlLFxuICAgIGhlaWdodDogdHJ1ZSxcbiAgICBcIm1heC13aWR0aFwiOiB0cnVlLFxuICAgIFwibWF4LWhlaWdodFwiOiB0cnVlLFxuICAgIFwibWluLXdpZHRoXCI6IHRydWUsXG4gICAgXCJtaW4taGVpZ2h0XCI6IHRydWUsXG4gIH07XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY291cGxlZFBhdHRlcm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQgayA9IDA7IGsgPCBzaWRlcy5sZW5ndGg7IGsrKykge1xuICAgICAgY29uc3QgbmFtZSA9IGNvdXBsZWRQYXR0ZXJuc1tpXS5yZXBsYWNlKFwiJVwiLCBzaWRlc1trXSk7XG4gICAgICBuYW1lc1tuYW1lXSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBuYW1lcztcbn0pKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZENvdXBsaW5nTWFwKFxuICBzaWRlTWFwOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9LFxuICBleHRlbnRNYXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0sXG4pOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9IHtcbiAgY29uc3QgbWFwID0ge307XG4gIGZvciAoY29uc3QgcGF0dGVybiBvZiBjb3VwbGVkUGF0dGVybnMpIHtcbiAgICBmb3IgKGNvbnN0IHNpZGUgaW4gc2lkZU1hcCkge1xuICAgICAgY29uc3QgbmFtZTEgPSBwYXR0ZXJuLnJlcGxhY2UoXCIlXCIsIHNpZGUpO1xuICAgICAgY29uc3QgbmFtZTIgPSBwYXR0ZXJuLnJlcGxhY2UoXCIlXCIsIHNpZGVNYXBbc2lkZV0pO1xuICAgICAgbWFwW25hbWUxXSA9IG5hbWUyO1xuICAgICAgbWFwW25hbWUyXSA9IG5hbWUxO1xuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IGV4dGVudFBhdHRlcm4gb2YgY291cGxlZEV4dGVudFBhdHRlcm5zKSB7XG4gICAgZm9yIChjb25zdCBleHRlbnQgaW4gZXh0ZW50TWFwKSB7XG4gICAgICBjb25zdCBuYW1lMSA9IGV4dGVudFBhdHRlcm4ucmVwbGFjZShcIiVcIiwgZXh0ZW50KTtcbiAgICAgIGNvbnN0IG5hbWUyID0gZXh0ZW50UGF0dGVybi5yZXBsYWNlKFwiJVwiLCBleHRlbnRNYXBbZXh0ZW50XSk7XG4gICAgICBtYXBbbmFtZTFdID0gbmFtZTI7XG4gICAgICBtYXBbbmFtZTJdID0gbmFtZTE7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXA7XG59XG5cbmV4cG9ydCBjb25zdCBjb3VwbGluZ01hcFZlcnQgPSBidWlsZENvdXBsaW5nTWFwKFxuICB7XG4gICAgXCJibG9jay1zdGFydFwiOiBcInJpZ2h0XCIsXG4gICAgXCJibG9jay1lbmRcIjogXCJsZWZ0XCIsXG4gICAgXCJpbmxpbmUtc3RhcnRcIjogXCJ0b3BcIixcbiAgICBcImlubGluZS1lbmRcIjogXCJib3R0b21cIixcbiAgfSxcbiAgeyBcImJsb2NrLXNpemVcIjogXCJ3aWR0aFwiLCBcImlubGluZS1zaXplXCI6IFwiaGVpZ2h0XCIgfSxcbik7XG5cbmV4cG9ydCBjb25zdCBjb3VwbGluZ01hcEhvciA9IGJ1aWxkQ291cGxpbmdNYXAoXG4gIHtcbiAgICBcImJsb2NrLXN0YXJ0XCI6IFwidG9wXCIsXG4gICAgXCJibG9jay1lbmRcIjogXCJib3R0b21cIixcbiAgICBcImlubGluZS1zdGFydFwiOiBcImxlZnRcIixcbiAgICBcImlubGluZS1lbmRcIjogXCJyaWdodFwiLFxuICB9LFxuICB7IFwiYmxvY2stc2l6ZVwiOiBcImhlaWdodFwiLCBcImlubGluZS1zaXplXCI6IFwid2lkdGhcIiB9LFxuKTtcblxuZXhwb3J0IGNvbnN0IGNvdXBsaW5nTWFwVmVydFJ0bCA9IGJ1aWxkQ291cGxpbmdNYXAoXG4gIHtcbiAgICBcImJsb2NrLXN0YXJ0XCI6IFwicmlnaHRcIixcbiAgICBcImJsb2NrLWVuZFwiOiBcImxlZnRcIixcbiAgICBcImlubGluZS1zdGFydFwiOiBcImJvdHRvbVwiLFxuICAgIFwiaW5saW5lLWVuZFwiOiBcInRvcFwiLFxuICB9LFxuICB7IFwiYmxvY2stc2l6ZVwiOiBcIndpZHRoXCIsIFwiaW5saW5lLXNpemVcIjogXCJoZWlnaHRcIiB9LFxuKTtcblxuZXhwb3J0IGNvbnN0IGNvdXBsaW5nTWFwSG9yUnRsID0gYnVpbGRDb3VwbGluZ01hcChcbiAge1xuICAgIFwiYmxvY2stc3RhcnRcIjogXCJ0b3BcIixcbiAgICBcImJsb2NrLWVuZFwiOiBcImJvdHRvbVwiLFxuICAgIFwiaW5saW5lLXN0YXJ0XCI6IFwicmlnaHRcIixcbiAgICBcImlubGluZS1lbmRcIjogXCJsZWZ0XCIsXG4gIH0sXG4gIHsgXCJibG9jay1zaXplXCI6IFwiaGVpZ2h0XCIsIFwiaW5saW5lLXNpemVcIjogXCJ3aWR0aFwiIH0sXG4pO1xuXG5leHBvcnQgY2xhc3MgQ2FzY2FkZVZhbHVlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbHVlOiBDc3MuVmFsLFxuICAgIHB1YmxpYyByZWFkb25seSBwcmlvcml0eTogbnVtYmVyLFxuICApIHt9XG5cbiAgZ2V0QmFzZVZhbHVlKCk6IENhc2NhZGVWYWx1ZSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmaWx0ZXJWYWx1ZSh2aXNpdG9yOiBDc3MuVmlzaXRvcik6IENhc2NhZGVWYWx1ZSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlLnZpc2l0KHZpc2l0b3IpO1xuICAgIGlmICh2YWx1ZSA9PT0gdGhpcy52YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ2FzY2FkZVZhbHVlKHZhbHVlLCB0aGlzLnByaW9yaXR5KTtcbiAgfVxuXG4gIGluY3JlYXNlU3BlY2lmaWNpdHkoc3BlY2lmaWNpdHk6IG51bWJlcik6IENhc2NhZGVWYWx1ZSB7XG4gICAgaWYgKHNwZWNpZmljaXR5ID09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IENhc2NhZGVWYWx1ZSh0aGlzLnZhbHVlLCB0aGlzLnByaW9yaXR5ICsgc3BlY2lmaWNpdHkpO1xuICB9XG5cbiAgZXZhbHVhdGUoY29udGV4dDogRXhwcnMuQ29udGV4dCwgcHJvcE5hbWU6IHN0cmluZyk6IENzcy5WYWwge1xuICAgIHJldHVybiBDc3NQYXJzZXIuZXZhbHVhdGVDU1NUb0NTUyhjb250ZXh0LCB0aGlzLnZhbHVlLCBwcm9wTmFtZSk7XG4gIH1cblxuICBpc0VuYWJsZWQoY29udGV4dDogRXhwcnMuQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogSW50ZXJuYWwgc3ViY2xhc3Mgb2YgQ2FzY2FkZVZhbHVlLiBTaG91bGQgbmV2ZXIgYmUgc2VlbiBvdXRzaWRlIG9mIHRoZVxuICogY2FzY2FkZSBlbmdpbmUuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25kaXRpb25hbENhc2NhZGVWYWx1ZSBleHRlbmRzIENhc2NhZGVWYWx1ZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHZhbHVlOiBDc3MuVmFsLFxuICAgIHByaW9yaXR5OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbmRpdGlvbjogRXhwcnMuVmFsLFxuICApIHtcbiAgICBzdXBlcih2YWx1ZSwgcHJpb3JpdHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0QmFzZVZhbHVlKCk6IENhc2NhZGVWYWx1ZSB7XG4gICAgcmV0dXJuIG5ldyBDYXNjYWRlVmFsdWUodGhpcy52YWx1ZSwgdGhpcy5wcmlvcml0eSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmaWx0ZXJWYWx1ZSh2aXNpdG9yOiBDc3MuVmlzaXRvcik6IENhc2NhZGVWYWx1ZSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlLnZpc2l0KHZpc2l0b3IpO1xuICAgIGlmICh2YWx1ZSA9PT0gdGhpcy52YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ29uZGl0aW9uYWxDYXNjYWRlVmFsdWUodmFsdWUsIHRoaXMucHJpb3JpdHksIHRoaXMuY29uZGl0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGluY3JlYXNlU3BlY2lmaWNpdHkoc3BlY2lmaWNpdHk6IG51bWJlcik6IENhc2NhZGVWYWx1ZSB7XG4gICAgaWYgKHNwZWNpZmljaXR5ID09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IENvbmRpdGlvbmFsQ2FzY2FkZVZhbHVlKFxuICAgICAgdGhpcy52YWx1ZSxcbiAgICAgIHRoaXMucHJpb3JpdHkgKyBzcGVjaWZpY2l0eSxcbiAgICAgIHRoaXMuY29uZGl0aW9uLFxuICAgICk7XG4gIH1cblxuICBpc0VuYWJsZWQoY29udGV4dDogRXhwcnMuQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMuY29uZGl0aW9uLmV2YWx1YXRlKGNvbnRleHQpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHR2IGN1cnJlbnQgdmFsdWUgKGNhbm5vdCBiZSBjb25kaXRpb25hbClcbiAqIEBwYXJhbSBhdiBjYXNjYWRlZCB2YWx1ZSAoY2FuIGJlIGNvbmRpdGlvbmFsKVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FzY2FkZVZhbHVlcyhcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgdHY6IENhc2NhZGVWYWx1ZSxcbiAgYXY6IENhc2NhZGVWYWx1ZSxcbik6IENhc2NhZGVWYWx1ZSB7XG4gIGlmICgodHYgPT0gbnVsbCB8fCBhdi5wcmlvcml0eSA+IHR2LnByaW9yaXR5KSAmJiBhdi5pc0VuYWJsZWQoY29udGV4dCkpIHtcbiAgICByZXR1cm4gYXYuZ2V0QmFzZVZhbHVlKCk7XG4gIH1cbiAgcmV0dXJuIHR2O1xufVxuXG5leHBvcnQgdHlwZSBFbGVtZW50U3R5bGVNYXAgPSB7XG4gIFtrZXk6IHN0cmluZ106IEVsZW1lbnRTdHlsZTtcbn07XG5cbmV4cG9ydCBjb25zdCBTUEVDSUFMUyA9IHtcbiAgXCJyZWdpb24taWRcIjogdHJ1ZSxcbiAgXCJmcmFnbWVudC1zZWxlY3Rvci1pZFwiOiB0cnVlLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3BlY2lhbE5hbWUobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAhIVNQRUNJQUxTW25hbWVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNNYXBOYW1lKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gbmFtZS5jaGFyQXQoMCkgPT0gXCJfXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb3BOYW1lKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gbmFtZS5jaGFyQXQoMCkgIT0gXCJfXCIgJiYgIVNQRUNJQUxTW25hbWVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNJbmhlcml0ZWQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAhIWluaGVyaXRlZFByb3BzW25hbWVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvcChzdHlsZTogRWxlbWVudFN0eWxlLCBuYW1lOiBzdHJpbmcpOiBDYXNjYWRlVmFsdWUge1xuICByZXR1cm4gc3R5bGVbbmFtZV0gYXMgQ2FzY2FkZVZhbHVlO1xufVxuXG4vKipcbiAqIEByZXR1cm4gdm9pZFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0UHJvcChcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgbmFtZTogc3RyaW5nLFxuICB2YWx1ZTogQ2FzY2FkZVZhbHVlLFxuKTogYW55IHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIGRlbGV0ZSBzdHlsZVtuYW1lXTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZVtuYW1lXSA9IHZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHlsZU1hcChcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgbmFtZTogc3RyaW5nLFxuKTogRWxlbWVudFN0eWxlTWFwIHtcbiAgcmV0dXJuIHN0eWxlW25hbWVdIGFzIEVsZW1lbnRTdHlsZU1hcDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE11dGFibGVTdHlsZU1hcChcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgbmFtZTogc3RyaW5nLFxuKTogRWxlbWVudFN0eWxlTWFwIHtcbiAgbGV0IHIgPSBzdHlsZVtuYW1lXSBhcyBFbGVtZW50U3R5bGVNYXA7XG4gIGlmICghcikge1xuICAgIHIgPSB7fTtcbiAgICBzdHlsZVtuYW1lXSA9IHI7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCBjb25zdCBnZXRWaWV3Q29uZGl0aW9uYWxTdHlsZU1hcCA9IChcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbik6IHsgbWF0Y2hlcjogTWF0Y2hlcnMuTWF0Y2hlcjsgc3R5bGVzOiBFbGVtZW50U3R5bGVNYXAgfVtdID0+IHtcbiAgbGV0IHIgPSBzdHlsZVtcIl92aWV3Q29uZGl0aW9uYWxTdHlsZXNcIl0gYXMge1xuICAgIG1hdGNoZXI6IE1hdGNoZXJzLk1hdGNoZXI7XG4gICAgc3R5bGVzOiBFbGVtZW50U3R5bGVNYXA7XG4gIH1bXTtcbiAgaWYgKCFyKSB7XG4gICAgciA9IFtdO1xuICAgIHN0eWxlW1wiX3ZpZXdDb25kaXRpb25hbFN0eWxlc1wiXSA9IHI7XG4gIH1cbiAgcmV0dXJuIHI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3BlY2lhbChzdHlsZTogRWxlbWVudFN0eWxlLCBuYW1lOiBzdHJpbmcpOiBDYXNjYWRlVmFsdWVbXSB7XG4gIHJldHVybiBzdHlsZVtuYW1lXSBhcyBDYXNjYWRlVmFsdWVbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE11dGFibGVTcGVjaWFsKFxuICBzdHlsZTogRWxlbWVudFN0eWxlLFxuICBuYW1lOiBzdHJpbmcsXG4pOiBDYXNjYWRlVmFsdWVbXSB7XG4gIGxldCByID0gc3R5bGVbbmFtZV0gYXMgQ2FzY2FkZVZhbHVlW107XG4gIGlmICghcikge1xuICAgIHIgPSBbXTtcbiAgICBzdHlsZVtuYW1lXSA9IHI7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUluKFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICB0YXJnZXQ6IEVsZW1lbnRTdHlsZSxcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgc3BlY2lmaWNpdHk6IG51bWJlcixcbiAgcHNldWRvZWxlbWVudDogc3RyaW5nIHwgbnVsbCxcbiAgcmVnaW9uSWQ6IHN0cmluZyB8IG51bGwsXG4gIHZpZXdDb25kaXRpb25NYXRjaGVyOiBNYXRjaGVycy5NYXRjaGVyIHwgbnVsbCxcbik6IHZvaWQge1xuICBjb25zdCBoaWVyYXJjaHkgPSBbXG4gICAgeyBpZDogcHNldWRvZWxlbWVudCwgc3R5bGVLZXk6IFwiX3BzZXVkb3NcIiB9LFxuICAgIHsgaWQ6IHJlZ2lvbklkLCBzdHlsZUtleTogXCJfcmVnaW9uc1wiIH0sXG4gIF07XG4gIGhpZXJhcmNoeS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgaWYgKGl0ZW0uaWQpIHtcbiAgICAgIGNvbnN0IHN0eWxlTWFwID0gZ2V0TXV0YWJsZVN0eWxlTWFwKHRhcmdldCwgaXRlbS5zdHlsZUtleSk7XG4gICAgICB0YXJnZXQgPSBzdHlsZU1hcFtpdGVtLmlkXTtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldCA9IHt9IGFzIEVsZW1lbnRTdHlsZTtcbiAgICAgICAgc3R5bGVNYXBbaXRlbS5pZF0gPSB0YXJnZXQ7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgaWYgKHZpZXdDb25kaXRpb25NYXRjaGVyKSB7XG4gICAgY29uc3Qgc3R5bGVNYXAgPSBnZXRWaWV3Q29uZGl0aW9uYWxTdHlsZU1hcCh0YXJnZXQpO1xuICAgIHRhcmdldCA9IHt9IGFzIEVsZW1lbnRTdHlsZTtcbiAgICBzdHlsZU1hcC5wdXNoKHtcbiAgICAgIHN0eWxlczogdGFyZ2V0IGFzIEVsZW1lbnRTdHlsZU1hcCxcbiAgICAgIG1hdGNoZXI6IHZpZXdDb25kaXRpb25NYXRjaGVyLFxuICAgIH0pO1xuICB9XG4gIGZvciAoY29uc3QgcHJvcCBpbiBzdHlsZSkge1xuICAgIGlmIChpc01hcE5hbWUocHJvcCkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoaXNTcGVjaWFsTmFtZShwcm9wKSkge1xuICAgICAgLy8gc3BlY2lhbCBwcm9wZXJ0aWVzOiBsaXN0IG9mIGFsbCBhc3NpZ25lZCB2YWx1ZXNcbiAgICAgIGNvbnN0IGFzID0gZ2V0U3BlY2lhbChzdHlsZSwgcHJvcCk7XG4gICAgICBjb25zdCB0cyA9IGdldE11dGFibGVTcGVjaWFsKHRhcmdldCwgcHJvcCk7XG4gICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0cywgYXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyByZWd1bGFyIHByb3BlcnRpZXM6IGhpZ2hlciBwcmlvcml0eSB3aW5zXG4gICAgICBjb25zdCBhdiA9IGdldFByb3Aoc3R5bGUsIHByb3ApLmluY3JlYXNlU3BlY2lmaWNpdHkoc3BlY2lmaWNpdHkpO1xuICAgICAgY29uc3QgdHYgPSBnZXRQcm9wKHRhcmdldCwgcHJvcCk7XG4gICAgICBzZXRQcm9wKHRhcmdldCwgcHJvcCwgY2FzY2FkZVZhbHVlcyhjb250ZXh0LCB0diwgYXYpKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQWxsKFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICBzdHlsZXM6IEVsZW1lbnRTdHlsZVtdLFxuKTogRWxlbWVudFN0eWxlIHtcbiAgY29uc3QgdGFyZ2V0ID0ge30gYXMgRWxlbWVudFN0eWxlO1xuICBmb3IgKGxldCBrID0gMDsgayA8IHN0eWxlcy5sZW5ndGg7IGsrKykge1xuICAgIG1lcmdlSW4oY29udGV4dCwgdGFyZ2V0LCBzdHlsZXNba10sIDAsIG51bGwsIG51bGwsIG51bGwpO1xuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFpbkFjdGlvbnMoXG4gIGNoYWluOiBDaGFpbmVkQWN0aW9uW10sXG4gIGFjdGlvbjogQ2FzY2FkZUFjdGlvbixcbik6IENhc2NhZGVBY3Rpb24ge1xuICBpZiAoY2hhaW4ubGVuZ3RoID4gMCkge1xuICAgIGNoYWluLnNvcnQoKGEsIGIpID0+IGIuZ2V0UHJpb3JpdHkoKSAtIGEuZ2V0UHJpb3JpdHkoKSk7XG4gICAgbGV0IGNoYWluZWQ6IENoYWluZWRBY3Rpb24gfCBudWxsID0gbnVsbDtcbiAgICBmb3IgKGxldCBpID0gY2hhaW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNoYWluZWQgPSBjaGFpbltpXTtcbiAgICAgIGNoYWluZWQuY2hhaW5lZCA9IGFjdGlvbjtcbiAgICAgIGFjdGlvbiA9IGNoYWluZWQ7XG4gICAgfVxuICAgIHJldHVybiBjaGFpbmVkO1xuICB9XG4gIHJldHVybiBhY3Rpb247XG59XG5cbmV4cG9ydCBjbGFzcyBJbmhlcml0YW5jZVZpc2l0b3IgZXh0ZW5kcyBDc3MuRmlsdGVyVmlzaXRvciB7XG4gIHByb3BOYW1lOiBzdHJpbmcgPSBcIlwiO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBwcm9wczogRWxlbWVudFN0eWxlLFxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgc2V0UHJvcE5hbWUobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5wcm9wTmFtZSA9IG5hbWU7XG4gIH1cblxuICBwcml2YXRlIGdldEZvbnRTaXplKCkge1xuICAgIGNvbnN0IGNhc2N2YWwgPSBnZXRQcm9wKHRoaXMucHJvcHMsIFwiZm9udC1zaXplXCIpO1xuICAgIGNvbnN0IG4gPSBjYXNjdmFsLnZhbHVlIGFzIENzcy5OdW1lcmljO1xuICAgIGlmICghRXhwcnMuaXNBYnNvbHV0ZUxlbmd0aFVuaXQobi51bml0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBzdGF0ZVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG4ubnVtICogRXhwcnMuZGVmYXVsdFVuaXRTaXplc1tuLnVuaXRdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXROdW1lcmljKG51bWVyaWM6IENzcy5OdW1lcmljKTogQ3NzLlZhbCB7XG4gICAgQXNzZXJ0cy5hc3NlcnQodGhpcy5jb250ZXh0KTtcbiAgICBpZiAodGhpcy5wcm9wTmFtZSA9PT0gXCJmb250LXNpemVcIikge1xuICAgICAgcmV0dXJuIGNvbnZlcnRGb250U2l6ZVRvUHgobnVtZXJpYywgdGhpcy5nZXRGb250U2l6ZSgpLCB0aGlzLmNvbnRleHQpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBudW1lcmljLnVuaXQgPT0gXCJlbVwiIHx8XG4gICAgICBudW1lcmljLnVuaXQgPT0gXCJleFwiIHx8XG4gICAgICBudW1lcmljLnVuaXQgPT0gXCJyZW1cIlxuICAgICkge1xuICAgICAgcmV0dXJuIGNvbnZlcnRGb250UmVsYXRpdmVMZW5ndGhUb1B4KFxuICAgICAgICBudW1lcmljLFxuICAgICAgICB0aGlzLmdldEZvbnRTaXplKCksXG4gICAgICAgIHRoaXMuY29udGV4dCxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChudW1lcmljLnVuaXQgPT0gXCIlXCIpIHtcbiAgICAgIGlmICh0aGlzLnByb3BOYW1lID09PSBcImxpbmUtaGVpZ2h0XCIpIHtcbiAgICAgICAgcmV0dXJuIG51bWVyaWM7XG4gICAgICB9XG4gICAgICBjb25zdCB1bml0ID0gdGhpcy5wcm9wTmFtZS5tYXRjaCgvaGVpZ2h0fF4odG9wfGJvdHRvbSkkLykgPyBcInZoXCIgOiBcInZ3XCI7XG4gICAgICByZXR1cm4gbmV3IENzcy5OdW1lcmljKG51bWVyaWMubnVtLCB1bml0KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bWVyaWM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEV4cHIoZXhwcjogQ3NzLkV4cHIpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5wcm9wTmFtZSA9PSBcImZvbnQtc2l6ZVwiKSB7XG4gICAgICBjb25zdCB2YWwgPSBDc3NQYXJzZXIuZXZhbHVhdGVDU1NUb0NTUyh0aGlzLmNvbnRleHQsIGV4cHIsIHRoaXMucHJvcE5hbWUpO1xuICAgICAgcmV0dXJuIHZhbC52aXNpdCh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cHI7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRGb250UmVsYXRpdmVMZW5ndGhUb1B4KFxuICBudW1lcmljOiBDc3MuTnVtZXJpYyxcbiAgYmFzZUZvbnRTaXplOiBudW1iZXIsXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4pOiBDc3MuTnVtZXJpYyB7XG4gIGNvbnN0IHVuaXQgPSBudW1lcmljLnVuaXQ7XG4gIGNvbnN0IG51bSA9IG51bWVyaWMubnVtO1xuICBpZiAodW5pdCA9PT0gXCJlbVwiIHx8IHVuaXQgPT09IFwiZXhcIikge1xuICAgIGNvbnN0IHJhdGlvID0gRXhwcnMuZGVmYXVsdFVuaXRTaXplc1t1bml0XSAvIEV4cHJzLmRlZmF1bHRVbml0U2l6ZXNbXCJlbVwiXTtcbiAgICByZXR1cm4gbmV3IENzcy5OdW1lcmljKG51bSAqIHJhdGlvICogYmFzZUZvbnRTaXplLCBcInB4XCIpO1xuICB9IGVsc2UgaWYgKHVuaXQgPT09IFwicmVtXCIpIHtcbiAgICByZXR1cm4gbmV3IENzcy5OdW1lcmljKG51bSAqIGNvbnRleHQuZm9udFNpemUoKSwgXCJweFwiKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVtZXJpYztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydEZvbnRTaXplVG9QeChcbiAgbnVtZXJpYzogQ3NzLk51bWVyaWMsXG4gIHBhcmVudEZvbnRTaXplOiBudW1iZXIsXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4pOiBDc3MuTnVtZXJpYyB7XG4gIG51bWVyaWMgPSBjb252ZXJ0Rm9udFJlbGF0aXZlTGVuZ3RoVG9QeChudW1lcmljLCBwYXJlbnRGb250U2l6ZSwgY29udGV4dCk7XG4gIGNvbnN0IHVuaXQgPSBudW1lcmljLnVuaXQ7XG4gIGNvbnN0IG51bSA9IG51bWVyaWMubnVtO1xuICBpZiAodW5pdCA9PT0gXCJweFwiKSB7XG4gICAgcmV0dXJuIG51bWVyaWM7XG4gIH0gZWxzZSBpZiAodW5pdCA9PT0gXCIlXCIpIHtcbiAgICByZXR1cm4gbmV3IENzcy5OdW1lcmljKChudW0gLyAxMDApICogcGFyZW50Rm9udFNpemUsIFwicHhcIik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBDc3MuTnVtZXJpYyhudW0gKiBjb250ZXh0LnF1ZXJ5VW5pdFNpemUodW5pdCwgZmFsc2UpLCBcInB4XCIpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIEFjdGlvblRhYmxlID0ge1xuICBba2V5OiBzdHJpbmddOiBDYXNjYWRlQWN0aW9uO1xufTtcblxuZXhwb3J0IGNsYXNzIENhc2NhZGVBY3Rpb24ge1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge31cblxuICBtZXJnZVdpdGgob3RoZXI6IENhc2NhZGVBY3Rpb24pOiBDYXNjYWRlQWN0aW9uIHtcbiAgICByZXR1cm4gbmV3IENvbXBvdW5kQWN0aW9uKFt0aGlzLCBvdGhlcl0pO1xuICB9XG5cbiAgY2xvbmUoKTogQ2FzY2FkZUFjdGlvbiB7XG4gICAgLy8gTXV0YWJsZSBhY3Rpb25zIHdpbGwgb3ZlcnJpZGVcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29uZGl0aW9uSXRlbUFjdGlvbiBleHRlbmRzIENhc2NhZGVBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgY29uZGl0aW9uSXRlbTogQ29uZGl0aW9uSXRlbSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNhc2NhZGVJbnN0YW5jZS5wdXNoQ29uZGl0aW9uSXRlbShcbiAgICAgIHRoaXMuY29uZGl0aW9uSXRlbS5mcmVzaChjYXNjYWRlSW5zdGFuY2UpLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBvdW5kQWN0aW9uIGV4dGVuZHMgQ2FzY2FkZUFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBsaXN0OiBDYXNjYWRlQWN0aW9uW10pIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5saXN0W2ldLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbWVyZ2VXaXRoKG90aGVyOiBDYXNjYWRlQWN0aW9uKTogQ2FzY2FkZUFjdGlvbiB7XG4gICAgdGhpcy5saXN0LnB1c2gob3RoZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xvbmUoKTogQ2FzY2FkZUFjdGlvbiB7XG4gICAgcmV0dXJuIG5ldyBDb21wb3VuZEFjdGlvbihbXS5jb25jYXQodGhpcy5saXN0KSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFwcGx5UnVsZUFjdGlvbiBleHRlbmRzIENhc2NhZGVBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3BlY2lmaWNpdHk6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHNldWRvZWxlbWVudDogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVnaW9uSWQ6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIHJlYWRvbmx5IHZpZXdDb25kaXRpb25JZDogc3RyaW5nIHwgbnVsbCxcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgbWVyZ2VJbihcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jb250ZXh0LFxuICAgICAgY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRTdHlsZSxcbiAgICAgIHRoaXMuc3R5bGUsXG4gICAgICB0aGlzLnNwZWNpZmljaXR5LFxuICAgICAgdGhpcy5wc2V1ZG9lbGVtZW50LFxuICAgICAgdGhpcy5yZWdpb25JZCxcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5idWlsZFZpZXdDb25kaXRpb25NYXRjaGVyKHRoaXMudmlld0NvbmRpdGlvbklkKSxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGFpbmVkQWN0aW9uIGV4dGVuZHMgQ2FzY2FkZUFjdGlvbiB7XG4gIGNoYWluZWQ6IENhc2NhZGVBY3Rpb24gPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICB9XG5cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIG1ha2VQcmltYXJ5KGNhc2NhZGU6IENhc2NhZGUpOiBib29sZWFuIHtcbiAgICAvLyBjYW5ub3QgYmUgbWFkZSBwcmltYXJ5XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja0NsYXNzQWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBjbGFzc05hbWU6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChjYXNjYWRlSW5zdGFuY2UuY3VycmVudENsYXNzTmFtZXMuaW5jbHVkZXModGhpcy5jbGFzc05hbWUpKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAxMDtcbiAgfVxuICAvLyBjbGFzcyBzaG91bGQgYmUgY2hlY2tlZCBhZnRlciBpZFxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG1ha2VQcmltYXJ5KGNhc2NhZGU6IENhc2NhZGUpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5jaGFpbmVkKSB7XG4gICAgICBjYXNjYWRlLmluc2VydEluVGFibGUoY2FzY2FkZS5jbGFzc2VzLCB0aGlzLmNsYXNzTmFtZSwgdGhpcy5jaGFpbmVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoZWNrSWRBY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGlkOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudElkID09IHRoaXMuaWQgfHxcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50WG1sSWQgPT0gdGhpcy5pZFxuICAgICkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMTE7XG4gIH1cbiAgLy8gaWQgc2hvdWxkIGJlIGNoZWNrZWQgYWZ0ZXIgOnJvb3RcblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBtYWtlUHJpbWFyeShjYXNjYWRlOiBDYXNjYWRlKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuY2hhaW5lZCkge1xuICAgICAgY2FzY2FkZS5pbnNlcnRJblRhYmxlKGNhc2NhZGUuaWRzLCB0aGlzLmlkLCB0aGlzLmNoYWluZWQpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tMb2NhbE5hbWVBY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGxvY2FsTmFtZTogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50TG9jYWxOYW1lID09IHRoaXMubG9jYWxOYW1lKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiA4O1xuICB9XG4gIC8vIHRhZyBpcyBhIHByZXR0eSBnb29kIHRoaW5nIHRvIGNoZWNrLCBhZnRlciBlcHViOnR5cGVcblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBtYWtlUHJpbWFyeShjYXNjYWRlOiBDYXNjYWRlKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuY2hhaW5lZCkge1xuICAgICAgY2FzY2FkZS5pbnNlcnRJblRhYmxlKGNhc2NhZGUudGFncywgdGhpcy5sb2NhbE5hbWUsIHRoaXMuY2hhaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja05TVGFnQWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBuczogc3RyaW5nLCBwdWJsaWMgcmVhZG9ubHkgbG9jYWxOYW1lOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudExvY2FsTmFtZSA9PSB0aGlzLmxvY2FsTmFtZSAmJlxuICAgICAgY2FzY2FkZUluc3RhbmNlLmN1cnJlbnROYW1lc3BhY2UgPT0gdGhpcy5uc1xuICAgICkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gODtcbiAgfVxuICAvLyB0YWcgaXMgYSBwcmV0dHkgZ29vZCB0aGluZyB0byBjaGVjaywgYWZ0ZXIgZXB1Yjp0eXBlXG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbWFrZVByaW1hcnkoY2FzY2FkZTogQ2FzY2FkZSk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmNoYWluZWQpIHtcbiAgICAgIGxldCBwcmVmaXggPSBjYXNjYWRlLm5zUHJlZml4W3RoaXMubnNdO1xuICAgICAgaWYgKCFwcmVmaXgpIHtcbiAgICAgICAgcHJlZml4ID0gYG5zJHtjYXNjYWRlLm5zQ291bnQrK306YDtcbiAgICAgICAgY2FzY2FkZS5uc1ByZWZpeFt0aGlzLm5zXSA9IHByZWZpeDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5zVGFnID0gcHJlZml4ICsgdGhpcy5sb2NhbE5hbWU7XG4gICAgICBjYXNjYWRlLmluc2VydEluVGFibGUoY2FzY2FkZS5uc3RhZ3MsIG5zVGFnLCB0aGlzLmNoYWluZWQpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tUYXJnZXRFcHViVHlwZUFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgZXB1YlR5cGVQYXR0OiBSZWdFeHApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBjb25zdCBlbGVtID0gY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50O1xuICAgIGlmIChlbGVtICYmIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50TG9jYWxOYW1lID09IFwiYVwiKSB7XG4gICAgICBjb25zdCBocmVmID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgaWYgKGhyZWYgJiYgaHJlZi5tYXRjaCgvXiMvKSkge1xuICAgICAgICBjb25zdCBpZCA9IGhyZWYuc3Vic3RyaW5nKDEpO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBlbGVtLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgY29uc3QgZXB1YlR5cGUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlTlMoQmFzZS5OUy5lcHViLCBcInR5cGVcIik7XG4gICAgICAgICAgaWYgKGVwdWJUeXBlICYmIGVwdWJUeXBlLm1hdGNoKHRoaXMuZXB1YlR5cGVQYXR0KSkge1xuICAgICAgICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja05hbWVzcGFjZUFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbnM6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChjYXNjYWRlSW5zdGFuY2UuY3VycmVudE5hbWVzcGFjZSA9PSB0aGlzLm5zKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoZWNrQXR0cmlidXRlUHJlc2VudEFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbnM6IHN0cmluZywgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50RWxlbWVudCAmJlxuICAgICAgY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZU5TKHRoaXMubnMsIHRoaXMubmFtZSlcbiAgICApIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tBdHRyaWJ1dGVFcUFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbnM6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZTogc3RyaW5nLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQgJiZcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGVOUyh0aGlzLm5zLCB0aGlzLm5hbWUpID09XG4gICAgICAgIHRoaXMudmFsdWVcbiAgICApIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMubmFtZSA9PSBcInR5cGVcIiAmJiB0aGlzLm5zID09IEJhc2UuTlMuZXB1Yikge1xuICAgICAgcmV0dXJuIDk7IC8vIGVwdWI6dHlwZSBpcyBhIHByZXR0eSBnb29kIHRoaW5nIHRvIGNoZWNrXG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbWFrZVByaW1hcnkoY2FzY2FkZTogQ2FzY2FkZSk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLm5hbWUgPT0gXCJ0eXBlXCIgJiYgdGhpcy5ucyA9PSBCYXNlLk5TLmVwdWIpIHtcbiAgICAgIGlmICh0aGlzLmNoYWluZWQpIHtcbiAgICAgICAgY2FzY2FkZS5pbnNlcnRJblRhYmxlKGNhc2NhZGUuZXB1YnR5cGVzLCB0aGlzLnZhbHVlLCB0aGlzLmNoYWluZWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tOYW1lc3BhY2VTdXBwb3J0ZWRBY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG5zOiBzdHJpbmcsIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50KSB7XG4gICAgICBjb25zdCBucyA9IGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGVOUyhcbiAgICAgICAgdGhpcy5ucyxcbiAgICAgICAgdGhpcy5uYW1lLFxuICAgICAgKTtcbiAgICAgIGlmIChucyAmJiBzdXBwb3J0ZWROYW1lc3BhY2VzW25zXSkge1xuICAgICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbWFrZVByaW1hcnkoY2FzY2FkZTogQ2FzY2FkZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tBdHRyaWJ1dGVSZWdFeHBBY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IG5zOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVnZXhwOiBSZWdFeHAsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IGF0dHIgPSBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlTlMoXG4gICAgICAgIHRoaXMubnMsXG4gICAgICAgIHRoaXMubmFtZSxcbiAgICAgICk7XG4gICAgICBpZiAoYXR0ciAmJiBhdHRyLm1hdGNoKHRoaXMucmVnZXhwKSkge1xuICAgICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoZWNrTGFuZ0FjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbGFuZ1JlZ0V4cDogUmVnRXhwKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKGNhc2NhZGVJbnN0YW5jZS5sYW5nLm1hdGNoKHRoaXMubGFuZ1JlZ0V4cCkpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNGaXJzdEFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoY2FzY2FkZUluc3RhbmNlLmlzRmlyc3QpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDY7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzUm9vdEFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoY2FzY2FkZUluc3RhbmNlLmlzUm9vdCkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMTI7IC8vIDpyb290IGlzIHRoZSBmaXJzdCB0aGluZyB0byBjaGVja1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJc050aEFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgYTogbnVtYmVyLCBwdWJsaWMgcmVhZG9ubHkgYjogbnVtYmVyKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja2VzIHdoZXRoZXIgZ2l2ZW4gb3JkZXIgY2FuIGJlIHJlcHJlc2VudGVkIGFzIGFuK2Igd2l0aCBhIG5vbi1uZWdhdGl2ZVxuICAgKiBpbnRlcmdlciBuXG4gICAqL1xuICBwcm90ZWN0ZWQgbWF0Y2hBTlBsdXNCKG9yZGVyOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gTWF0Y2hlcnMubWF0Y2hBTlBsdXNCKG9yZGVyLCB0aGlzLmEsIHRoaXMuYik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzTnRoU2libGluZ0FjdGlvbiBleHRlbmRzIElzTnRoQWN0aW9uIHtcbiAgY29uc3RydWN0b3IoYTogbnVtYmVyLCBiOiBudW1iZXIpIHtcbiAgICBzdXBlcihhLCBiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubWF0Y2hBTlBsdXNCKGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50U2libGluZ09yZGVyKSkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNOdGhTaWJsaW5nT2ZUeXBlQWN0aW9uIGV4dGVuZHMgSXNOdGhBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihhOiBudW1iZXIsIGI6IG51bWJlcikge1xuICAgIHN1cGVyKGEsIGIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBjb25zdCBvcmRlciA9XG4gICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudFNpYmxpbmdUeXBlQ291bnRzW1xuICAgICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudE5hbWVzcGFjZVxuICAgICAgXVtjYXNjYWRlSW5zdGFuY2UuY3VycmVudExvY2FsTmFtZV07XG4gICAgaWYgKHRoaXMubWF0Y2hBTlBsdXNCKG9yZGVyKSkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNOdGhMYXN0U2libGluZ0FjdGlvbiBleHRlbmRzIElzTnRoQWN0aW9uIHtcbiAgY29uc3RydWN0b3IoYTogbnVtYmVyLCBiOiBudW1iZXIpIHtcbiAgICBzdXBlcihhLCBiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgbGV0IG9yZGVyID0gY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRGb2xsb3dpbmdTaWJsaW5nT3JkZXI7XG4gICAgaWYgKG9yZGVyID09PSBudWxsKSB7XG4gICAgICBvcmRlciA9IGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50Rm9sbG93aW5nU2libGluZ09yZGVyID1cbiAgICAgICAgY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50LnBhcmVudE5vZGUuY2hpbGRFbGVtZW50Q291bnQgLVxuICAgICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudFNpYmxpbmdPcmRlciArXG4gICAgICAgIDE7XG4gICAgfVxuICAgIGlmICh0aGlzLm1hdGNoQU5QbHVzQihvcmRlcikpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDQ7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzTnRoTGFzdFNpYmxpbmdPZlR5cGVBY3Rpb24gZXh0ZW5kcyBJc050aEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKGE6IG51bWJlciwgYjogbnVtYmVyKSB7XG4gICAgc3VwZXIoYSwgYik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IGNvdW50cyA9IGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50Rm9sbG93aW5nU2libGluZ1R5cGVDb3VudHM7XG4gICAgaWYgKCFjb3VudHNbY2FzY2FkZUluc3RhbmNlLmN1cnJlbnROYW1lc3BhY2VdKSB7XG4gICAgICBsZXQgZWxlbSA9IGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50RWxlbWVudDtcbiAgICAgIGRvIHtcbiAgICAgICAgY29uc3QgbnMgPSBlbGVtLm5hbWVzcGFjZVVSSTtcbiAgICAgICAgY29uc3QgbG9jYWxOYW1lID0gZWxlbS5sb2NhbE5hbWU7XG4gICAgICAgIGxldCBuc0NvdW50cyA9IGNvdW50c1tuc107XG4gICAgICAgIGlmICghbnNDb3VudHMpIHtcbiAgICAgICAgICBuc0NvdW50cyA9IGNvdW50c1tuc10gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBuc0NvdW50c1tsb2NhbE5hbWVdID0gKG5zQ291bnRzW2xvY2FsTmFtZV0gfHwgMCkgKyAxO1xuICAgICAgfSB3aGlsZSAoKGVsZW0gPSBlbGVtLm5leHRFbGVtZW50U2libGluZykpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLm1hdGNoQU5QbHVzQihcbiAgICAgICAgY291bnRzW2Nhc2NhZGVJbnN0YW5jZS5jdXJyZW50TmFtZXNwYWNlXVtcbiAgICAgICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudExvY2FsTmFtZVxuICAgICAgICBdLFxuICAgICAgKVxuICAgICkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNFbXB0eUFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBsZXQgbm9kZTogTm9kZSB8IG51bGwgPSBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQuZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgc3dpdGNoIChub2RlLm5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgTm9kZS5FTEVNRU5UX05PREU6XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIE5vZGUuVEVYVF9OT0RFOlxuICAgICAgICAgIGlmICgobm9kZSBhcyBUZXh0KS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNFbmFibGVkQWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IGVsZW0gPSBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQ7XG4gICAgaWYgKChlbGVtIGFzIGFueSkuZGlzYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiA1O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJc0Rpc2FibGVkQWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IGVsZW0gPSBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQ7XG4gICAgaWYgKChlbGVtIGFzIGFueSkuZGlzYWJsZWQgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzQ2hlY2tlZEFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBjb25zdCBlbGVtID0gY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50O1xuICAgIGlmICgoZWxlbSBhcyBhbnkpLnNlbGVjdGVkID09PSB0cnVlIHx8IChlbGVtIGFzIGFueSkuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tDb25kaXRpb25BY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGNvbmRpdGlvbjogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKGNhc2NhZGVJbnN0YW5jZS5jb25kaXRpb25zW3RoaXMuY29uZGl0aW9uXSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY2FzY2FkZUluc3RhbmNlLmRlcGVuZGVudENvbmRpdGlvbnMucHVzaCh0aGlzLmNvbmRpdGlvbik7XG4gICAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgY2FzY2FkZUluc3RhbmNlLmRlcGVuZGVudENvbmRpdGlvbnMucG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tBcHBsaWVkQWN0aW9uIGV4dGVuZHMgQ2FzY2FkZUFjdGlvbiB7XG4gIGFwcGxpZWQgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICB0aGlzLmFwcGxpZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xvbmUoKTogQ2FzY2FkZUFjdGlvbiB7XG4gICAgY29uc3QgY2xvbmVkID0gbmV3IENoZWNrQXBwbGllZEFjdGlvbigpO1xuICAgIGNsb25lZC5hcHBsaWVkID0gdGhpcy5hcHBsaWVkO1xuICAgIHJldHVybiBjbG9uZWQ7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5lZ2F0ZUFjdGlvbnNTZXQgZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY2hlY2tBcHBsaWVkQWN0aW9uOiBDaGVja0FwcGxpZWRBY3Rpb247XG4gIGZpcnN0QWN0aW9uOiBDYXNjYWRlQWN0aW9uO1xuXG4gIGNvbnN0cnVjdG9yKGxpc3Q6IENoYWluZWRBY3Rpb25bXSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jaGVja0FwcGxpZWRBY3Rpb24gPSBuZXcgQ2hlY2tBcHBsaWVkQWN0aW9uKCk7XG4gICAgdGhpcy5maXJzdEFjdGlvbiA9IGNoYWluQWN0aW9ucyhsaXN0LCB0aGlzLmNoZWNrQXBwbGllZEFjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIHRoaXMuZmlyc3RBY3Rpb24uYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICBpZiAoIXRoaXMuY2hlY2tBcHBsaWVkQWN0aW9uLmFwcGxpZWQpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgICB0aGlzLmNoZWNrQXBwbGllZEFjdGlvbi5hcHBsaWVkID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAodGhpcy5maXJzdEFjdGlvbiBhcyBDaGFpbmVkQWN0aW9uKS5nZXRQcmlvcml0eSgpO1xuICB9XG59XG5cbi8qKlxuICogQW4gb2JqZWN0IHRoYXQgaXMgbm90aWZpZWQgYXMgZWxlbWVudHMgYXJlIHB1c2hlZCBhbmQgcG9wcGVkIGFuZCB0eXBpY2FsbHlcbiAqIGNvbnRyb2xzIGEgXCJuYW1lZCBjb25kaXRpb25cIiAod2hpY2ggaXMgYSBjb3VudCBhc3NvY2lhdGVkIHdpdGggYSBuYW1lKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb25kaXRpb25JdGVtIHtcbiAgLyoqXG4gICAqIFJldHVybnMgYSBcImZyZXNoXCIgY29weSBvZiB0aGlzIGl0ZW0uIE1heSBiZSB0aGlzIGlmIGltbXV0YWJsZS5cbiAgICovXG4gIGZyZXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogQ29uZGl0aW9uSXRlbTtcblxuICAvKipcbiAgICogRGVwdGggaXMgMCBmb3IgZWxlbWVudCBpdHNlbGYgYW5kIGl0cyBzaWJsaW5ncywgMSBmb3IgZGlyZWN0IGNoaWxkcmVuIGFuZFxuICAgKiAtMSBmb3IgdGhlIHBhcmVudC5cbiAgICovXG4gIHB1c2goY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UsIGRlcHRoOiBudW1iZXIpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHJldHVybiB0cnVlIGlmIG5vIG1vcmUgbm90aWZpY2F0aW9ucyBhcmUgZGVzaXJlZFxuICAgKi9cbiAgcG9wKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIEFic3RyYWN0Q29uZGl0aW9uSXRlbSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBjb25kaXRpb246IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmlld0NvbmRpdGlvbklkOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSB2aWV3Q29uZGl0aW9uOiBNYXRjaGVycy5NYXRjaGVyLFxuICApIHt9XG5cbiAgaW5jcmVtZW50KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKSB7XG4gICAgY2FzY2FkZUluc3RhbmNlLmluY3JlbWVudCh0aGlzLmNvbmRpdGlvbiwgdGhpcy52aWV3Q29uZGl0aW9uKTtcbiAgfVxuXG4gIGRlY3JlbWVudChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSkge1xuICAgIGNhc2NhZGVJbnN0YW5jZS5kZWNyZW1lbnQodGhpcy5jb25kaXRpb24sIHRoaXMudmlld0NvbmRpdGlvbik7XG4gIH1cblxuICBidWlsZFZpZXdDb25kaXRpb25NYXRjaGVyKFxuICAgIGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLFxuICApOiBNYXRjaGVycy5NYXRjaGVyIHtcbiAgICByZXR1cm4gY2FzY2FkZUluc3RhbmNlLmJ1aWxkVmlld0NvbmRpdGlvbk1hdGNoZXIodGhpcy52aWV3Q29uZGl0aW9uSWQpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZXNjZW5kYW50Q29uZGl0aW9uSXRlbSBleHRlbmRzIEFic3RyYWN0Q29uZGl0aW9uSXRlbVxuICBpbXBsZW1lbnRzIENvbmRpdGlvbkl0ZW0ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBjb25kaXRpb246IHN0cmluZyxcbiAgICB2aWV3Q29uZGl0aW9uSWQ6IHN0cmluZyB8IG51bGwsXG4gICAgdmlld0NvbmRpdGlvbjogTWF0Y2hlcnMuTWF0Y2hlcixcbiAgKSB7XG4gICAgc3VwZXIoY29uZGl0aW9uLCB2aWV3Q29uZGl0aW9uSWQsIHZpZXdDb25kaXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZnJlc2goY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiBDb25kaXRpb25JdGVtIHtcbiAgICByZXR1cm4gbmV3IERlc2NlbmRhbnRDb25kaXRpb25JdGVtKFxuICAgICAgdGhpcy5jb25kaXRpb24sXG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCxcbiAgICAgIHRoaXMuYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcihjYXNjYWRlSW5zdGFuY2UpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwdXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgIHRoaXMuaW5jcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvcChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICB0aGlzLmRlY3JlbWVudChjYXNjYWRlSW5zdGFuY2UpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hpbGRDb25kaXRpb25JdGVtIGV4dGVuZHMgQWJzdHJhY3RDb25kaXRpb25JdGVtXG4gIGltcGxlbWVudHMgQ29uZGl0aW9uSXRlbSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvbmRpdGlvbjogc3RyaW5nLFxuICAgIHZpZXdDb25kaXRpb25JZDogc3RyaW5nIHwgbnVsbCxcbiAgICB2aWV3Q29uZGl0aW9uOiBNYXRjaGVycy5NYXRjaGVyLFxuICApIHtcbiAgICBzdXBlcihjb25kaXRpb24sIHZpZXdDb25kaXRpb25JZCwgdmlld0NvbmRpdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmcmVzaChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IENvbmRpdGlvbkl0ZW0ge1xuICAgIHJldHVybiBuZXcgQ2hpbGRDb25kaXRpb25JdGVtKFxuICAgICAgdGhpcy5jb25kaXRpb24sXG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCxcbiAgICAgIHRoaXMuYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcihjYXNjYWRlSW5zdGFuY2UpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwdXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgIHRoaXMuaW5jcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfSBlbHNlIGlmIChkZXB0aCA9PSAxKSB7XG4gICAgICB0aGlzLmRlY3JlbWVudChjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwb3AoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UsIGRlcHRoOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBpZiAoZGVwdGggPT0gMCkge1xuICAgICAgdGhpcy5kZWNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoZGVwdGggPT0gMSkge1xuICAgICAgdGhpcy5pbmNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBZGphY2VudFNpYmxpbmdDb25kaXRpb25JdGVtIGV4dGVuZHMgQWJzdHJhY3RDb25kaXRpb25JdGVtXG4gIGltcGxlbWVudHMgQ29uZGl0aW9uSXRlbSB7XG4gIGZpcmVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY29uZGl0aW9uOiBzdHJpbmcsXG4gICAgdmlld0NvbmRpdGlvbklkOiBzdHJpbmcgfCBudWxsLFxuICAgIHZpZXdDb25kaXRpb246IE1hdGNoZXJzLk1hdGNoZXIsXG4gICkge1xuICAgIHN1cGVyKGNvbmRpdGlvbiwgdmlld0NvbmRpdGlvbklkLCB2aWV3Q29uZGl0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZyZXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogQ29uZGl0aW9uSXRlbSB7XG4gICAgcmV0dXJuIG5ldyBBZGphY2VudFNpYmxpbmdDb25kaXRpb25JdGVtKFxuICAgICAgdGhpcy5jb25kaXRpb24sXG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCxcbiAgICAgIHRoaXMuYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcihjYXNjYWRlSW5zdGFuY2UpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwdXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuZmlyZWQpIHtcbiAgICAgIHRoaXMuZGVjcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9wKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuZmlyZWQpIHtcbiAgICAgIHRoaXMuZGVjcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgIC8vIExlYXZpbmcgZWxlbWVudCB0aGF0IHRyaWdnZXJlZCB0aGlzIGl0ZW0uXG4gICAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuaW5jcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRm9sbG93aW5nU2libGluZ0NvbmRpdGlvbkl0ZW0gZXh0ZW5kcyBBYnN0cmFjdENvbmRpdGlvbkl0ZW1cbiAgaW1wbGVtZW50cyBDb25kaXRpb25JdGVtIHtcbiAgZmlyZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjb25kaXRpb246IHN0cmluZyxcbiAgICB2aWV3Q29uZGl0aW9uSWQ6IHN0cmluZyB8IG51bGwsXG4gICAgdmlld0NvbmRpdGlvbjogTWF0Y2hlcnMuTWF0Y2hlcixcbiAgKSB7XG4gICAgc3VwZXIoY29uZGl0aW9uLCB2aWV3Q29uZGl0aW9uSWQsIHZpZXdDb25kaXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZnJlc2goY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiBDb25kaXRpb25JdGVtIHtcbiAgICByZXR1cm4gbmV3IEZvbGxvd2luZ1NpYmxpbmdDb25kaXRpb25JdGVtKFxuICAgICAgdGhpcy5jb25kaXRpb24sXG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCxcbiAgICAgIHRoaXMuYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcihjYXNjYWRlSW5zdGFuY2UpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwdXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuZmlyZWQpIHtcbiAgICAgIGlmIChkZXB0aCA9PSAtMSkge1xuICAgICAgICB0aGlzLmluY3JlbWVudChjYXNjYWRlSW5zdGFuY2UpO1xuICAgICAgfSBlbHNlIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICAgIHRoaXMuZGVjcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvcChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmZpcmVkKSB7XG4gICAgICBpZiAoZGVwdGggPT0gLTEpIHtcbiAgICAgICAgdGhpcy5kZWNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGRlcHRoID09IDApIHtcbiAgICAgICAgdGhpcy5pbmNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgICAgLy8gTGVhdmluZyBlbGVtZW50IHRoYXQgdHJpZ2dlcmVkIHRoaXMgaXRlbS5cbiAgICAgICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuaW5jcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIE5vdCBhIHRydWUgY29uZGl0aW9uIGl0ZW0sIHRoaXMgY2xhc3MgbWFuYWdlcyBwcm9wZXIgaGFuZGxpbmcgb2YgXCJhZnRlclwiXG4gKiBwc2V1ZG9lbGVtZW50LlxuICovXG5leHBvcnQgY2xhc3MgQWZ0ZXJQc2V1ZG9lbGVtZW50SXRlbSBpbXBsZW1lbnRzIENvbmRpdGlvbkl0ZW0ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgYWZ0ZXJwcm9wOiBFbGVtZW50U3R5bGUsXG4gICAgcHVibGljIHJlYWRvbmx5IGVsZW1lbnQ6IEVsZW1lbnQsXG4gICkge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmcmVzaChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IENvbmRpdGlvbkl0ZW0ge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHVzaChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvcChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICBjYXNjYWRlSW5zdGFuY2UucHJvY2Vzc1BzZXVkb2VsZW1lbnRQcm9wcyh0aGlzLmFmdGVycHJvcCwgdGhpcy5lbGVtZW50KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBOb3QgYSB0cnVlIGNvbmRpdGlvbiBpdGVtLCB0aGlzIGNsYXNzIHJlc3RvcmVzIGN1cnJlbnQgbGFuZ3VhZ2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXN0b3JlTGFuZ0l0ZW0gaW1wbGVtZW50cyBDb25kaXRpb25JdGVtIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGxhbmc6IHN0cmluZykge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmcmVzaChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IENvbmRpdGlvbkl0ZW0ge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHVzaChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvcChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICBjYXNjYWRlSW5zdGFuY2UubGFuZyA9IHRoaXMubGFuZztcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBOb3QgYSB0cnVlIGNvbmRpdGlvbiBpdGVtLCB0aGlzIGNsYXNzIG1hbmFnZXMgaW5oZXJpdGFuY2Ugb2YgcXVvdGVzIHByb3BlcnR5XG4gKi9cbmV4cG9ydCBjbGFzcyBRdW90ZXNTY29wZUl0ZW0gaW1wbGVtZW50cyBDb25kaXRpb25JdGVtIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG9sZFF1b3RlczogQ3NzLlN0cltdKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZyZXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogQ29uZGl0aW9uSXRlbSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwdXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9wKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5xdW90ZXMgPSB0aGlzLm9sZFF1b3RlcztcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmV4cG9ydCB0eXBlIENvdW50ZXJWYWx1ZXMgPSB7XG4gIFtrZXk6IHN0cmluZ106IG51bWJlcltdO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBDb3VudGVyTGlzdGVuZXIge1xuICBjb3VudGVyc09mSWQoaWQ6IHN0cmluZywgY291bnRlcnM6IENvdW50ZXJWYWx1ZXMpO1xuXG4gIGdldEV4cHJDb250ZW50TGlzdGVuZXIoKTogVnRyZWUuRXhwckNvbnRlbnRMaXN0ZW5lcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb3VudGVyUmVzb2x2ZXIge1xuICAvKipcbiAgICogUmV0dXJucyBhbiBFeHBycy5WYWwsIHdob3NlIHZhbHVlIGlzIGNhbGN1bGF0ZWQgYXQgdGhlIGxheW91dCB0aW1lIGJ5XG4gICAqIHJldHJpZXZpbmcgdGhlIGlubmVybW9zdCBwYWdlLWJhc2VkIGNvdW50ZXIgKG51bGwgaWYgaXQgZG9lcyBub3QgZXhpc3QpIGJ5XG4gICAqIGl0cyBuYW1lIGFuZCBmb3JtYXR0aW5nIHRoZSB2YWx1ZSBpbnRvIGEgc3RyaW5nLlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBwYWdlLWJhc2VkIGNvdW50ZXIgdG8gYmUgcmV0cmlldmVkXG4gICAqIEBwYXJhbSBmb3JtYXQgQSBmdW5jdGlvbiB0aGF0IGZvcm1hdHMgdGhlIGNvdW50ZXIgdmFsdWUgaW50byBhIHN0cmluZ1xuICAgKi9cbiAgZ2V0UGFnZUNvdW50ZXJWYWwoXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGZvcm1hdDogKHAxOiBudW1iZXIgfCBudWxsKSA9PiBzdHJpbmcsXG4gICk6IEV4cHJzLlZhbDtcblxuICAvKipcbiAgICogUmV0dXJucyBhbiBFeHBycy5WYWwsIHdob3NlIHZhbHVlIGlzIGNhbGN1bGF0ZWQgYXQgdGhlIGxheW91dCB0aW1lIGJ5XG4gICAqIHJldHJpZXZpbmcgdGhlIHBhZ2UtYmFzZWQgY291bnRlcnMgYnkgaXRzIG5hbWUgYW5kIGZvcm1hdHRpbmcgdGhlIHZhbHVlc1xuICAgKiBpbnRvIGEgc3RyaW5nLlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBwYWdlLWJhc2VkIGNvdW50ZXJzIHRvIGJlIHJldHJpZXZlZFxuICAgKiBAcGFyYW0gZm9ybWF0IEEgZnVuY3Rpb24gdGhhdCBmb3JtYXRzIHRoZSBjb3VudGVyIHZhbHVlcyAocGFzc2VkIGFzIGFuXG4gICAqICAgICBhcnJheSBvcmRlcmVkIGJ5IHRoZSBuZXN0aW5nIGRlcHRoIHdpdGggdGhlIG91dGVybW9zdCBjb3VudGVyIGZpcnN0IGFuZFxuICAgKiAgICAgdGhlIGlubmVybW9zdCBsYXN0KSBpbnRvIGEgc3RyaW5nXG4gICAqL1xuICBnZXRQYWdlQ291bnRlcnNWYWwobmFtZTogc3RyaW5nLCBmb3JtYXQ6IChwMTogbnVtYmVyW10pID0+IHN0cmluZyk6IEV4cHJzLlZhbDtcblxuICBnZXRUYXJnZXRDb3VudGVyVmFsKFxuICAgIHVybDogc3RyaW5nLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBmb3JtYXQ6IChwMTogbnVtYmVyIHwgbnVsbCkgPT4gc3RyaW5nLFxuICApOiBFeHBycy5WYWw7XG5cbiAgZ2V0VGFyZ2V0Q291bnRlcnNWYWwoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGZvcm1hdDogKHAxOiBudW1iZXJbXSkgPT4gc3RyaW5nLFxuICApOiBFeHBycy5WYWw7XG5cbiAgc2V0U3R5bGVyKHN0eWxlcjogYW55KTtcbn1cblxuZXhwb3J0IGNsYXNzIEF0dHJWYWx1ZUZpbHRlclZpc2l0b3IgZXh0ZW5kcyBDc3MuRmlsdGVyVmlzaXRvciB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50OiBFbGVtZW50KSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlVmFsdWVGcm9tU3RyaW5nKHN0cjogc3RyaW5nIHwgbnVsbCwgdHlwZTogc3RyaW5nKTogQ3NzLlZhbCB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwidXJsXCI6XG4gICAgICAgIGlmIChzdHIpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IENzcy5VUkwoc3RyKTsgLy8gVE9ETyBzaG91bGQgY29udmVydCB0byBhYnNvbHV0ZSBwYXRoXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDc3MuVVJMKFwiYWJvdXQ6aW52YWxpZFwiKTtcbiAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChzdHIpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IENzcy5TdHIoc3RyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENzcy5TdHIoXCJcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRGdW5jKGZ1bmM6IENzcy5GdW5jKTogQ3NzLlZhbCB7XG4gICAgaWYgKGZ1bmMubmFtZSAhPT0gXCJhdHRyXCIpIHtcbiAgICAgIHJldHVybiBzdXBlci52aXNpdEZ1bmMoZnVuYyk7XG4gICAgfVxuICAgIGxldCB0eXBlID0gXCJzdHJpbmdcIjtcbiAgICBsZXQgYXR0cmlidXRlTmFtZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGRlZmF1bHRWYWx1ZTogQ3NzLlZhbCA9IG51bGw7XG4gICAgaWYgKGZ1bmMudmFsdWVzWzBdIGluc3RhbmNlb2YgQ3NzLlNwYWNlTGlzdCkge1xuICAgICAgY29uc3QgdmFsdWVzID0gKGZ1bmMudmFsdWVzWzBdIGFzIENzcy5TcGFjZUxpc3QpLnZhbHVlcztcbiAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgdHlwZSA9IHZhbHVlc1sxXS5zdHJpbmdWYWx1ZSgpO1xuICAgICAgfVxuICAgICAgYXR0cmlidXRlTmFtZSA9IHZhbHVlc1swXS5zdHJpbmdWYWx1ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhdHRyaWJ1dGVOYW1lID0gZnVuYy52YWx1ZXNbMF0uc3RyaW5nVmFsdWUoKTtcbiAgICB9XG4gICAgaWYgKGZ1bmMudmFsdWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IHRoaXMuY3JlYXRlVmFsdWVGcm9tU3RyaW5nKFxuICAgICAgICBmdW5jLnZhbHVlc1sxXS5zdHJpbmdWYWx1ZSgpLFxuICAgICAgICB0eXBlLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVmYXVsdFZhbHVlID0gdGhpcy5jcmVhdGVWYWx1ZUZyb21TdHJpbmcobnVsbCwgdHlwZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmVsZW1lbnQgJiYgdGhpcy5lbGVtZW50Lmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlVmFsdWVGcm9tU3RyaW5nKFxuICAgICAgICB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpLFxuICAgICAgICB0eXBlLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29udGVudFByb3BWaXNpdG9yIGV4dGVuZHMgQ3NzLkZpbHRlclZpc2l0b3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgY2FzY2FkZTogQ2FzY2FkZUluc3RhbmNlLFxuICAgIHB1YmxpYyBlbGVtZW50OiBFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBjb3VudGVyUmVzb2x2ZXI6IENvdW50ZXJSZXNvbHZlcixcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0SWRlbnQoaWRlbnQ6IENzcy5JZGVudCk6IENzcy5WYWwge1xuICAgIGNvbnN0IGNhc2NhZGUgPSB0aGlzLmNhc2NhZGU7XG4gICAgY29uc3QgcXVvdGVzID0gY2FzY2FkZS5xdW90ZXM7XG4gICAgY29uc3QgbWF4RGVwdGggPSBNYXRoLmZsb29yKHF1b3Rlcy5sZW5ndGggLyAyKSAtIDE7XG4gICAgc3dpdGNoIChpZGVudC5uYW1lKSB7XG4gICAgICBjYXNlIFwib3Blbi1xdW90ZVwiOiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHF1b3Rlc1syICogTWF0aC5taW4obWF4RGVwdGgsIGNhc2NhZGUucXVvdGVEZXB0aCldO1xuICAgICAgICBjYXNjYWRlLnF1b3RlRGVwdGgrKztcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJjbG9zZS1xdW90ZVwiOlxuICAgICAgICBpZiAoY2FzY2FkZS5xdW90ZURlcHRoID4gMCkge1xuICAgICAgICAgIGNhc2NhZGUucXVvdGVEZXB0aC0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBxdW90ZXNbMiAqIE1hdGgubWluKG1heERlcHRoLCBjYXNjYWRlLnF1b3RlRGVwdGgpICsgMV07XG4gICAgICBjYXNlIFwibm8tb3Blbi1xdW90ZVwiOlxuICAgICAgICBjYXNjYWRlLnF1b3RlRGVwdGgrKztcbiAgICAgICAgcmV0dXJuIG5ldyBDc3MuU3RyKFwiXCIpO1xuICAgICAgY2FzZSBcIm5vLWNsb3NlLXF1b3RlXCI6XG4gICAgICAgIGlmIChjYXNjYWRlLnF1b3RlRGVwdGggPiAwKSB7XG4gICAgICAgICAgY2FzY2FkZS5xdW90ZURlcHRoLS07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDc3MuU3RyKFwiXCIpO1xuICAgIH1cbiAgICByZXR1cm4gaWRlbnQ7XG4gIH1cblxuICBwcml2YXRlIGZvcm1hdChudW06IG51bWJlciwgdHlwZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBsZXQgdXBwZXIgPSBmYWxzZTsgLy8gdHlwZSA9PSBcImFybWVuaWFuXCI7XG4gICAgLy8gY29udGVudC1jb3VudGVyLTEwLnhodCBhc3N1bWVzIGFybWVuaWFuIGlzIHVwcGVyY2FzZSwgZW5hYmxlIGlmIGRlc2lyZWRcblxuICAgIGxldCBsb3dlciA9IGZhbHNlO1xuICAgIGxldCByOiBSZWdFeHBNYXRjaEFycmF5O1xuICAgIGlmICgociA9IHR5cGUubWF0Y2goL151cHBlci0oLiopLykpICE9IG51bGwpIHtcbiAgICAgIHVwcGVyID0gdHJ1ZTtcbiAgICAgIHR5cGUgPSByWzFdO1xuICAgIH0gZWxzZSBpZiAoKHIgPSB0eXBlLm1hdGNoKC9ebG93ZXItKC4qKS8pKSAhPSBudWxsKSB7XG4gICAgICBsb3dlciA9IHRydWU7XG4gICAgICB0eXBlID0gclsxXTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgaWYgKGFkZGl0aXZlTnVtYmVyaW5nW3R5cGVdKSB7XG4gICAgICByZXN1bHQgPSBhZGRpdGl2ZUZvcm1hdChhZGRpdGl2ZU51bWJlcmluZ1t0eXBlXSwgbnVtKTtcbiAgICB9IGVsc2UgaWYgKGFscGhhYmV0aWNOdW1iZXJpbmdbdHlwZV0pIHtcbiAgICAgIHJlc3VsdCA9IGFscGhhYmV0aWNGb3JtYXQoYWxwaGFiZXRpY051bWJlcmluZ1t0eXBlXSwgbnVtKTtcbiAgICB9IGVsc2UgaWYgKGZpeGVkW3R5cGVdICE9IG51bGwpIHtcbiAgICAgIHJlc3VsdCA9IGZpeGVkW3R5cGVdO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcImRlY2ltYWwtbGVhZGluZy16ZXJvXCIpIHtcbiAgICAgIHJlc3VsdCA9IGAke251bX1gO1xuICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPT0gMSkge1xuICAgICAgICByZXN1bHQgPSBgMCR7cmVzdWx0fWA7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwiY2prLWlkZW9ncmFwaGljXCIgfHwgdHlwZSA9PSBcInRyYWQtY2hpbmVzZS1pbmZvcm1hbFwiKSB7XG4gICAgICByZXN1bHQgPSBjaGluZXNlQ291bnRlcihudW0sIGNoaW5lc2VUcmFkSW5mb3JtYWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBgJHtudW19YDtcbiAgICB9XG4gICAgaWYgKHVwcGVyKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuICAgIGlmIChsb3dlcikge1xuICAgICAgcmV0dXJuIHJlc3VsdC50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmlzaXRGdW5jQ291bnRlcih2YWx1ZXM6IENzcy5WYWxbXSk6IENzcy5WYWwge1xuICAgIGNvbnN0IGNvdW50ZXJOYW1lID0gdmFsdWVzWzBdLnRvU3RyaW5nKCk7XG4gICAgY29uc3QgdHlwZSA9IHZhbHVlcy5sZW5ndGggPiAxID8gdmFsdWVzWzFdLnN0cmluZ1ZhbHVlKCkgOiBcImRlY2ltYWxcIjtcbiAgICBjb25zdCBhcnIgPSB0aGlzLmNhc2NhZGUuY291bnRlcnNbY291bnRlck5hbWVdO1xuICAgIGlmIChhcnIgJiYgYXJyLmxlbmd0aCkge1xuICAgICAgY29uc3QgbnVtdmFsID0gKGFyciAmJiBhcnIubGVuZ3RoICYmIGFyclthcnIubGVuZ3RoIC0gMV0pIHx8IDA7XG4gICAgICByZXR1cm4gbmV3IENzcy5TdHIodGhpcy5mb3JtYXQobnVtdmFsLCB0eXBlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgY29uc3QgYyA9IG5ldyBDc3MuRXhwcihcbiAgICAgICAgdGhpcy5jb3VudGVyUmVzb2x2ZXIuZ2V0UGFnZUNvdW50ZXJWYWwoY291bnRlck5hbWUsIChudW12YWwpID0+XG4gICAgICAgICAgc2VsZi5mb3JtYXQobnVtdmFsIHx8IDAsIHR5cGUpLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBuZXcgQ3NzLlNwYWNlTGlzdChbY10pO1xuICAgIH1cbiAgfVxuXG4gIHZpc2l0RnVuY0NvdW50ZXJzKHZhbHVlczogQ3NzLlZhbFtdKTogQ3NzLlZhbCB7XG4gICAgY29uc3QgY291bnRlck5hbWUgPSB2YWx1ZXNbMF0udG9TdHJpbmcoKTtcbiAgICBjb25zdCBzZXBhcmF0b3IgPSB2YWx1ZXNbMV0uc3RyaW5nVmFsdWUoKTtcbiAgICBjb25zdCB0eXBlID0gdmFsdWVzLmxlbmd0aCA+IDIgPyB2YWx1ZXNbMl0uc3RyaW5nVmFsdWUoKSA6IFwiZGVjaW1hbFwiO1xuICAgIGNvbnN0IGFyciA9IHRoaXMuY2FzY2FkZS5jb3VudGVyc1tjb3VudGVyTmFtZV07XG4gICAgY29uc3Qgc2IgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgICBpZiAoYXJyICYmIGFyci5sZW5ndGgpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgIHNiLmFwcGVuZChzZXBhcmF0b3IpO1xuICAgICAgICB9XG4gICAgICAgIHNiLmFwcGVuZCh0aGlzLmZvcm1hdChhcnJbaV0sIHR5cGUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgYyA9IG5ldyBDc3MuRXhwcihcbiAgICAgIHRoaXMuY291bnRlclJlc29sdmVyLmdldFBhZ2VDb3VudGVyc1ZhbChjb3VudGVyTmFtZSwgKG51bXZhbHMpID0+IHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBbXSBhcyBzdHJpbmdbXTtcbiAgICAgICAgaWYgKG51bXZhbHMubGVuZ3RoKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW12YWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYXJ0cy5wdXNoKHNlbGYuZm9ybWF0KG51bXZhbHNbaV0sIHR5cGUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWxlbWVudENvdW50ZXJzID0gc2IudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKGVsZW1lbnRDb3VudGVycy5sZW5ndGgpIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKGVsZW1lbnRDb3VudGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBwYXJ0cy5qb2luKHNlcGFyYXRvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuZm9ybWF0KDAsIHR5cGUpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICApO1xuICAgIHJldHVybiBuZXcgQ3NzLlNwYWNlTGlzdChbY10pO1xuICB9XG5cbiAgdmlzaXRGdW5jVGFyZ2V0Q291bnRlcih2YWx1ZXM6IENzcy5WYWxbXSk6IENzcy5WYWwge1xuICAgIGNvbnN0IHRhcmdldFVybCA9IHZhbHVlc1swXTtcbiAgICBsZXQgdGFyZ2V0VXJsU3RyOiBzdHJpbmc7XG4gICAgaWYgKHRhcmdldFVybCBpbnN0YW5jZW9mIENzcy5VUkwpIHtcbiAgICAgIHRhcmdldFVybFN0ciA9IHRhcmdldFVybC51cmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldFVybFN0ciA9IHRhcmdldFVybC5zdHJpbmdWYWx1ZSgpO1xuICAgIH1cbiAgICBjb25zdCBjb3VudGVyTmFtZSA9IHZhbHVlc1sxXS50b1N0cmluZygpO1xuICAgIGNvbnN0IHR5cGUgPSB2YWx1ZXMubGVuZ3RoID4gMiA/IHZhbHVlc1syXS5zdHJpbmdWYWx1ZSgpIDogXCJkZWNpbWFsXCI7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgYyA9IG5ldyBDc3MuRXhwcihcbiAgICAgIHRoaXMuY291bnRlclJlc29sdmVyLmdldFRhcmdldENvdW50ZXJWYWwoXG4gICAgICAgIHRhcmdldFVybFN0cixcbiAgICAgICAgY291bnRlck5hbWUsXG4gICAgICAgIChudW12YWwpID0+IHNlbGYuZm9ybWF0KG51bXZhbCB8fCAwLCB0eXBlKSxcbiAgICAgICksXG4gICAgKTtcbiAgICByZXR1cm4gbmV3IENzcy5TcGFjZUxpc3QoW2NdKTtcbiAgfVxuXG4gIHZpc2l0RnVuY1RhcmdldENvdW50ZXJzKHZhbHVlczogQ3NzLlZhbFtdKTogQ3NzLlZhbCB7XG4gICAgY29uc3QgdGFyZ2V0VXJsID0gdmFsdWVzWzBdO1xuICAgIGxldCB0YXJnZXRVcmxTdHI6IHN0cmluZztcbiAgICBpZiAodGFyZ2V0VXJsIGluc3RhbmNlb2YgQ3NzLlVSTCkge1xuICAgICAgdGFyZ2V0VXJsU3RyID0gdGFyZ2V0VXJsLnVybDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0VXJsU3RyID0gdGFyZ2V0VXJsLnN0cmluZ1ZhbHVlKCk7XG4gICAgfVxuICAgIGNvbnN0IGNvdW50ZXJOYW1lID0gdmFsdWVzWzFdLnRvU3RyaW5nKCk7XG4gICAgY29uc3Qgc2VwYXJhdG9yID0gdmFsdWVzWzJdLnN0cmluZ1ZhbHVlKCk7XG4gICAgY29uc3QgdHlwZSA9IHZhbHVlcy5sZW5ndGggPiAzID8gdmFsdWVzWzNdLnN0cmluZ1ZhbHVlKCkgOiBcImRlY2ltYWxcIjtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBjID0gbmV3IENzcy5FeHByKFxuICAgICAgdGhpcy5jb3VudGVyUmVzb2x2ZXIuZ2V0VGFyZ2V0Q291bnRlcnNWYWwoXG4gICAgICAgIHRhcmdldFVybFN0cixcbiAgICAgICAgY291bnRlck5hbWUsXG4gICAgICAgIChudW12YWxzKSA9PiB7XG4gICAgICAgICAgY29uc3QgcGFydHMgPSBudW12YWxzLm1hcCgobnVtdmFsKSA9PiBzZWxmLmZvcm1hdChudW12YWwsIHR5cGUpKTtcbiAgICAgICAgICBpZiAocGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFydHMuam9pbihzZXBhcmF0b3IpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5mb3JtYXQoMCwgdHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICApO1xuICAgIHJldHVybiBuZXcgQ3NzLlNwYWNlTGlzdChbY10pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRGdW5jKGZ1bmM6IENzcy5GdW5jKTogQ3NzLlZhbCB7XG4gICAgc3dpdGNoIChmdW5jLm5hbWUpIHtcbiAgICAgIGNhc2UgXCJjb3VudGVyXCI6XG4gICAgICAgIGlmIChmdW5jLnZhbHVlcy5sZW5ndGggPD0gMikge1xuICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0RnVuY0NvdW50ZXIoZnVuYy52YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNvdW50ZXJzXCI6XG4gICAgICAgIGlmIChmdW5jLnZhbHVlcy5sZW5ndGggPD0gMykge1xuICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0RnVuY0NvdW50ZXJzKGZ1bmMudmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ0YXJnZXQtY291bnRlclwiOlxuICAgICAgICBpZiAoZnVuYy52YWx1ZXMubGVuZ3RoIDw9IDMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy52aXNpdEZ1bmNUYXJnZXRDb3VudGVyKGZ1bmMudmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ0YXJnZXQtY291bnRlcnNcIjpcbiAgICAgICAgaWYgKGZ1bmMudmFsdWVzLmxlbmd0aCA8PSA0KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudmlzaXRGdW5jVGFyZ2V0Q291bnRlcnMoZnVuYy52YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRV9DU1NfQ09OVEVOVF9QUk9QOlwiLCBmdW5jLnRvU3RyaW5nKCkpO1xuICAgIHJldHVybiBuZXcgQ3NzLlN0cihcIlwiKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcm9tYW4obnVtOiBudW1iZXIpOiBzdHJpbmcge1xuICBpZiAobnVtIDw9IDAgfHwgbnVtICE9IE1hdGgucm91bmQobnVtKSB8fCBudW0gPiAzOTk5KSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgY29uc3QgZGlnaXRzID0gW1wiSVwiLCBcIlZcIiwgXCJYXCIsIFwiTFwiLCBcIkNcIiwgXCJEXCIsIFwiTVwiXTtcbiAgbGV0IG9mZnNldCA9IDA7XG4gIGxldCBhY2MgPSBcIlwiO1xuICB3aGlsZSAobnVtID4gMCkge1xuICAgIGxldCBkaWdpdCA9IG51bSAlIDEwO1xuICAgIG51bSA9IChudW0gLSBkaWdpdCkgLyAxMDtcbiAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICBpZiAoZGlnaXQgPT0gOSkge1xuICAgICAgcmVzdWx0ICs9IGRpZ2l0c1tvZmZzZXRdICsgZGlnaXRzW29mZnNldCArIDJdO1xuICAgIH0gZWxzZSBpZiAoZGlnaXQgPT0gNCkge1xuICAgICAgcmVzdWx0ICs9IGRpZ2l0c1tvZmZzZXRdICsgZGlnaXRzW29mZnNldCArIDFdO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZGlnaXQgPj0gNSkge1xuICAgICAgICByZXN1bHQgKz0gZGlnaXRzW29mZnNldCArIDFdO1xuICAgICAgICBkaWdpdCAtPSA1O1xuICAgICAgfVxuICAgICAgd2hpbGUgKGRpZ2l0ID4gMCkge1xuICAgICAgICByZXN1bHQgKz0gZGlnaXRzW29mZnNldF07XG4gICAgICAgIGRpZ2l0LS07XG4gICAgICB9XG4gICAgfVxuICAgIGFjYyA9IHJlc3VsdCArIGFjYztcbiAgICBvZmZzZXQgKz0gMjtcbiAgfVxuICByZXR1cm4gYWNjO1xufVxuXG5leHBvcnQgY29uc3QgYWRkaXRpdmVOdW1iZXJpbmcgPSB7XG4gIHJvbWFuOiBbXG4gICAgNDk5OSxcbiAgICAxMDAwLFxuICAgIFwiTVwiLFxuICAgIDkwMCxcbiAgICBcIkNNXCIsXG4gICAgNTAwLFxuICAgIFwiRFwiLFxuICAgIDQwMCxcbiAgICBcIkNEXCIsXG4gICAgMTAwLFxuICAgIFwiQ1wiLFxuICAgIDkwLFxuICAgIFwiWENcIixcbiAgICA1MCxcbiAgICBcIkxcIixcbiAgICA0MCxcbiAgICBcIlhMXCIsXG4gICAgMTAsXG4gICAgXCJYXCIsXG4gICAgOSxcbiAgICBcIklYXCIsXG4gICAgNSxcbiAgICBcIlZcIixcbiAgICA0LFxuICAgIFwiSVZcIixcbiAgICAxLFxuICAgIFwiSVwiLFxuICBdLFxuICBhcm1lbmlhbjogW1xuICAgIDk5OTksXG4gICAgOTAwMCxcbiAgICBcIlxcdTA1ODRcIixcbiAgICA4MDAwLFxuICAgIFwiXFx1MDU4M1wiLFxuICAgIDcwMDAsXG4gICAgXCJcXHUwNTgyXCIsXG4gICAgNjAwMCxcbiAgICBcIlxcdTA1ODFcIixcbiAgICA1MDAwLFxuICAgIFwiXFx1MDU4MFwiLFxuICAgIDQwMDAsXG4gICAgXCJcXHUwNTdmXCIsXG4gICAgMzAwMCxcbiAgICBcIlxcdTA1N2VcIixcbiAgICAyMDAwLFxuICAgIFwiXFx1MDU3ZFwiLFxuICAgIDEwMDAsXG4gICAgXCJcXHUwNTdjXCIsXG4gICAgOTAwLFxuICAgIFwiXFx1MDU3YlwiLFxuICAgIDgwMCxcbiAgICBcIlxcdTA1N2FcIixcbiAgICA3MDAsXG4gICAgXCJcXHUwNTc5XCIsXG4gICAgNjAwLFxuICAgIFwiXFx1MDU3OFwiLFxuICAgIDUwMCxcbiAgICBcIlxcdTA1NzdcIixcbiAgICA0MDAsXG4gICAgXCJcXHUwNTc2XCIsXG4gICAgMzAwLFxuICAgIFwiXFx1MDU3NVwiLFxuICAgIDIwMCxcbiAgICBcIlxcdTA1NzRcIixcbiAgICAxMDAsXG4gICAgXCJcXHUwNTczXCIsXG4gICAgOTAsXG4gICAgXCJcXHUwNTcyXCIsXG4gICAgODAsXG4gICAgXCJcXHUwNTcxXCIsXG4gICAgNzAsXG4gICAgXCJcXHUwNTcwXCIsXG4gICAgNjAsXG4gICAgXCJcXHUwNTZmXCIsXG4gICAgNTAsXG4gICAgXCJcXHUwNTZlXCIsXG4gICAgNDAsXG4gICAgXCJcXHUwNTZkXCIsXG4gICAgMzAsXG4gICAgXCJcXHUwNTZjXCIsXG4gICAgMjAsXG4gICAgXCJcXHUwNTZiXCIsXG4gICAgMTAsXG4gICAgXCJcXHUwNTZhXCIsXG4gICAgOSxcbiAgICBcIlxcdTA1NjlcIixcbiAgICA4LFxuICAgIFwiXFx1MDU2OFwiLFxuICAgIDcsXG4gICAgXCJcXHUwNTY3XCIsXG4gICAgNixcbiAgICBcIlxcdTA1NjZcIixcbiAgICA1LFxuICAgIFwiXFx1MDU2NVwiLFxuICAgIDQsXG4gICAgXCJcXHUwNTY0XCIsXG4gICAgMyxcbiAgICBcIlxcdTA1NjNcIixcbiAgICAyLFxuICAgIFwiXFx1MDU2MlwiLFxuICAgIDEsXG4gICAgXCJcXHUwNTYxXCIsXG4gIF0sXG4gIGdlb3JnaWFuOiBbXG4gICAgMTk5OTksXG4gICAgMTAwMDAsXG4gICAgXCJcXHUxMGY1XCIsXG4gICAgOTAwMCxcbiAgICBcIlxcdTEwZjBcIixcbiAgICA4MDAwLFxuICAgIFwiXFx1MTBlZlwiLFxuICAgIDcwMDAsXG4gICAgXCJcXHUxMGY0XCIsXG4gICAgNjAwMCxcbiAgICBcIlxcdTEwZWVcIixcbiAgICA1MDAwLFxuICAgIFwiXFx1MTBlZFwiLFxuICAgIDQwMDAsXG4gICAgXCJcXHUxMGVjXCIsXG4gICAgMzAwMCxcbiAgICBcIlxcdTEwZWJcIixcbiAgICAyMDAwLFxuICAgIFwiXFx1MTBlYVwiLFxuICAgIDEwMDAsXG4gICAgXCJcXHUxMGU5XCIsXG4gICAgOTAwLFxuICAgIFwiXFx1MTBlOFwiLFxuICAgIDgwMCxcbiAgICBcIlxcdTEwZTdcIixcbiAgICA3MDAsXG4gICAgXCJcXHUxMGU2XCIsXG4gICAgNjAwLFxuICAgIFwiXFx1MTBlNVwiLFxuICAgIDUwMCxcbiAgICBcIlxcdTEwZTRcIixcbiAgICA0MDAsXG4gICAgXCJcXHUxMGYzXCIsXG4gICAgMzAwLFxuICAgIFwiXFx1MTBlMlwiLFxuICAgIDIwMCxcbiAgICBcIlxcdTEwZTFcIixcbiAgICAxMDAsXG4gICAgXCJcXHUxMGUwXCIsXG4gICAgOTAsXG4gICAgXCJcXHUxMGRmXCIsXG4gICAgODAsXG4gICAgXCJcXHUxMGRlXCIsXG4gICAgNzAsXG4gICAgXCJcXHUxMGRkXCIsXG4gICAgNjAsXG4gICAgXCJcXHUxMGYyXCIsXG4gICAgNTAsXG4gICAgXCJcXHUxMGRjXCIsXG4gICAgNDAsXG4gICAgXCJcXHUxMGRiXCIsXG4gICAgMzAsXG4gICAgXCJcXHUxMGRhXCIsXG4gICAgMjAsXG4gICAgXCJcXHUxMGQ5XCIsXG4gICAgMTAsXG4gICAgXCJcXHUxMGQ4XCIsXG4gICAgOSxcbiAgICBcIlxcdTEwZDdcIixcbiAgICA4LFxuICAgIFwiXFx1MTBmMVwiLFxuICAgIDcsXG4gICAgXCJcXHUxMGQ2XCIsXG4gICAgNixcbiAgICBcIlxcdTEwZDVcIixcbiAgICA1LFxuICAgIFwiXFx1MTBkNFwiLFxuICAgIDQsXG4gICAgXCJcXHUxMGQzXCIsXG4gICAgMyxcbiAgICBcIlxcdTEwZDJcIixcbiAgICAyLFxuICAgIFwiXFx1MTBkMVwiLFxuICAgIDEsXG4gICAgXCJcXHUxMGQwXCIsXG4gIF0sXG4gIGhlYnJldzogW1xuICAgIDk5OSxcbiAgICA0MDAsXG4gICAgXCJcXHUwNWVhXCIsXG4gICAgMzAwLFxuICAgIFwiXFx1MDVlOVwiLFxuICAgIDIwMCxcbiAgICBcIlxcdTA1ZThcIixcbiAgICAxMDAsXG4gICAgXCJcXHUwNWU3XCIsXG4gICAgOTAsXG4gICAgXCJcXHUwNWU2XCIsXG4gICAgODAsXG4gICAgXCJcXHUwNWU0XCIsXG4gICAgNzAsXG4gICAgXCJcXHUwNWUyXCIsXG4gICAgNjAsXG4gICAgXCJcXHUwNWUxXCIsXG4gICAgNTAsXG4gICAgXCJcXHUwNWUwXCIsXG4gICAgNDAsXG4gICAgXCJcXHUwNWRlXCIsXG4gICAgMzAsXG4gICAgXCJcXHUwNWRjXCIsXG4gICAgMjAsXG4gICAgXCJcXHUwNWRiXCIsXG4gICAgMTksXG4gICAgXCJcXHUwNWQ5XFx1MDVkOFwiLFxuICAgIDE4LFxuICAgIFwiXFx1MDVkOVxcdTA1ZDdcIixcbiAgICAxNyxcbiAgICBcIlxcdTA1ZDlcXHUwNWQ2XCIsXG4gICAgMTYsXG4gICAgXCJcXHUwNWQ4XFx1MDVkNlwiLFxuICAgIDE1LFxuICAgIFwiXFx1MDVkOFxcdTA1ZDVcIixcbiAgICAxMCxcbiAgICBcIlxcdTA1ZDlcIixcbiAgICA5LFxuICAgIFwiXFx1MDVkOFwiLFxuICAgIDgsXG4gICAgXCJcXHUwNWQ3XCIsXG4gICAgNyxcbiAgICBcIlxcdTA1ZDZcIixcbiAgICA2LFxuICAgIFwiXFx1MDVkNVwiLFxuICAgIDUsXG4gICAgXCJcXHUwNWQ0XCIsXG4gICAgNCxcbiAgICBcIlxcdTA1ZDNcIixcbiAgICAzLFxuICAgIFwiXFx1MDVkMlwiLFxuICAgIDIsXG4gICAgXCJcXHUwNWQxXCIsXG4gICAgMSxcbiAgICBcIlxcdTA1ZDBcIixcbiAgXSxcbn07XG5cbmV4cG9ydCBjb25zdCBhbHBoYWJldGljTnVtYmVyaW5nID0ge1xuICBsYXRpbjogXCJhLXpcIixcbiAgYWxwaGE6IFwiYS16XCIsXG4gIGdyZWVrOiBcIlxcdTAzYjEtXFx1MDNjMVxcdTAzYzMtXFx1MDNjOVwiLFxuICBydXNzaWFuOiBcIlxcdTA0MzAtXFx1MDQzOFxcdTA0M2EtXFx1MDQ0OVxcdTA0NGQtXFx1MDQ0ZlwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGZpeGVkID0ge1xuICBzcXVhcmU6IFwiXFx1MjVhMFwiLFxuICBkaXNjOiBcIlxcdTIwMjJcIixcbiAgY2lyY2xlOiBcIlxcdTI1ZTZcIixcbiAgbm9uZTogXCJcIixcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRpdGl2ZUZvcm1hdChlbnRyaWVzOiBhbnlbXSwgbnVtOiBudW1iZXIpOiBzdHJpbmcge1xuICBjb25zdCBtYXggPSBlbnRyaWVzWzBdIGFzIG51bWJlcjtcbiAgaWYgKG51bSA+IG1heCB8fCBudW0gPD0gMCB8fCBudW0gIT0gTWF0aC5yb3VuZChudW0pKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgZW50cmllcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIGNvbnN0IHZhbHVlID0gZW50cmllc1tpXSBhcyBudW1iZXI7XG4gICAgbGV0IGNvdW50ID0gTWF0aC5mbG9vcihudW0gLyB2YWx1ZSk7XG4gICAgaWYgKGNvdW50ID4gMjApIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBudW0gLT0gY291bnQgKiB2YWx1ZTtcbiAgICB3aGlsZSAoY291bnQgPiAwKSB7XG4gICAgICByZXN1bHQgKz0gZW50cmllc1tpICsgMV07XG4gICAgICBjb3VudC0tO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kQWxwaGFiZXQoc3RyOiBzdHJpbmcpOiBzdHJpbmdbXSB8IG51bGwge1xuICBjb25zdCBhcnIgPSBbXTtcbiAgbGV0IGkgPSAwO1xuICB3aGlsZSAoaSA8IHN0ci5sZW5ndGgpIHtcbiAgICBpZiAoc3RyLnN1YnN0cihpICsgMSwgMSkgPT0gXCItXCIpIHtcbiAgICAgIGNvbnN0IGZpcnN0ID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICBjb25zdCBsYXN0ID0gc3RyLmNoYXJDb2RlQXQoaSArIDIpO1xuICAgICAgaSArPSAzO1xuICAgICAgZm9yIChsZXQgayA9IGZpcnN0OyBrIDw9IGxhc3Q7IGsrKykge1xuICAgICAgICBhcnIucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGspKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYXJyLnB1c2goc3RyLnN1YnN0cihpKyssIDEpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFscGhhYmV0aWNGb3JtYXQoYWxwaGFiZXRTdHI6IHN0cmluZywgbnVtOiBudW1iZXIpOiBzdHJpbmcge1xuICBpZiAobnVtIDw9IDAgfHwgbnVtICE9IE1hdGgucm91bmQobnVtKSkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGNvbnN0IGFscGhhYmV0ID0gZXhwYW5kQWxwaGFiZXQoYWxwaGFiZXRTdHIpO1xuICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgZG8ge1xuICAgIG51bS0tO1xuICAgIGNvbnN0IGRpZ2l0ID0gbnVtICUgYWxwaGFiZXQubGVuZ3RoO1xuICAgIHJlc3VsdCA9IGFscGhhYmV0W2RpZ2l0XSArIHJlc3VsdDtcbiAgICBudW0gPSAobnVtIC0gZGlnaXQpIC8gYWxwaGFiZXQubGVuZ3RoO1xuICB9IHdoaWxlIChudW0gPiAwKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IHR5cGUgQ2hpbmVzZU51bWJlcmluZyA9IHtcbiAgZGlnaXRzOiBzdHJpbmc7XG4gIG1hcmtlcnM6IHN0cmluZztcbiAgbmVnYXRpdmU6IHN0cmluZztcbiAgZm9ybWFsOiBib29sZWFuO1xufTtcblxuLyoqXG4gKiBGcm9tIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtbGlzdHMvXG4gKi9cbmV4cG9ydCBjb25zdCBjaGluZXNlVHJhZEluZm9ybWFsOiBDaGluZXNlTnVtYmVyaW5nID0ge1xuICBmb3JtYWw6IGZhbHNlLFxuICBkaWdpdHM6IFwiXFx1OTZmNlxcdTRlMDBcXHU0ZThjXFx1NGUwOVxcdTU2ZGJcXHU0ZTk0XFx1NTE2ZFxcdTRlMDNcXHU1MTZiXFx1NGU1ZFwiLFxuICBtYXJrZXJzOiBcIlxcdTUzNDFcXHU3NjdlXFx1NTM0M1wiLFxuICBuZWdhdGl2ZTogXCJcXHU4Y2EwXCIsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY2hpbmVzZUNvdW50ZXIoXG4gIG51bTogbnVtYmVyLFxuICBudW1iZXJpbmc6IENoaW5lc2VOdW1iZXJpbmcsXG4pOiBzdHJpbmcge1xuICBpZiAobnVtID4gOTk5OSB8fCBudW0gPCAtOTk5OSkge1xuICAgIHJldHVybiBgJHtudW19YDsgLy8gVE9ETzogc2hvdWxkIGJlIGNqay1kZWNpbWFsXG4gIH1cbiAgaWYgKG51bSA9PSAwKSB7XG4gICAgcmV0dXJuIG51bWJlcmluZy5kaWdpdHMuY2hhckF0KDApO1xuICB9XG4gIGNvbnN0IHJlcyA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICBpZiAobnVtIDwgMCkge1xuICAgIHJlcy5hcHBlbmQobnVtYmVyaW5nLm5lZ2F0aXZlKTtcbiAgICBudW0gPSAtbnVtO1xuICB9XG4gIGlmIChudW0gPCAxMCkge1xuICAgIHJlcy5hcHBlbmQobnVtYmVyaW5nLmRpZ2l0cy5jaGFyQXQobnVtKSk7XG4gIH0gZWxzZSBpZiAoIW51bWJlcmluZy5mb3JtYWwgJiYgbnVtIDw9IDE5KSB7XG4gICAgcmVzLmFwcGVuZChudW1iZXJpbmcubWFya2Vycy5jaGFyQXQoMCkpO1xuICAgIGlmIChudW0gIT0gMCkge1xuICAgICAgcmVzLmFwcGVuZChudW1iZXJpbmcuZGlnaXRzLmNoYXJBdChudW0gLSAxMCkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0aG91c2FuZHMgPSBNYXRoLmZsb29yKG51bSAvIDEwMDApO1xuICAgIGlmICh0aG91c2FuZHMpIHtcbiAgICAgIHJlcy5hcHBlbmQobnVtYmVyaW5nLmRpZ2l0cy5jaGFyQXQodGhvdXNhbmRzKSk7XG4gICAgICByZXMuYXBwZW5kKG51bWJlcmluZy5tYXJrZXJzLmNoYXJBdCgyKSk7XG4gICAgfVxuICAgIGNvbnN0IGh1bmRyZWRzID0gTWF0aC5mbG9vcihudW0gLyAxMDApICUgMTA7XG4gICAgaWYgKGh1bmRyZWRzKSB7XG4gICAgICByZXMuYXBwZW5kKG51bWJlcmluZy5kaWdpdHMuY2hhckF0KGh1bmRyZWRzKSk7XG4gICAgICByZXMuYXBwZW5kKG51bWJlcmluZy5tYXJrZXJzLmNoYXJBdCgxKSk7XG4gICAgfVxuICAgIGNvbnN0IHRlbnMgPSBNYXRoLmZsb29yKG51bSAvIDEwKSAlIDEwO1xuICAgIGlmICh0ZW5zKSB7XG4gICAgICByZXMuYXBwZW5kKG51bWJlcmluZy5kaWdpdHMuY2hhckF0KHRlbnMpKTtcbiAgICAgIHJlcy5hcHBlbmQobnVtYmVyaW5nLm1hcmtlcnMuY2hhckF0KDApKTtcbiAgICB9XG4gICAgY29uc3Qgb25lcyA9IG51bSAlIDEwO1xuICAgIGlmIChvbmVzKSB7XG4gICAgICByZXMuYXBwZW5kKG51bWJlcmluZy5kaWdpdHMuY2hhckF0KG9uZXMpKTtcbiAgICB9XG4gIH1cblxuICAvLyByZXMuYXBwZW5kKFwiXFx1MzAwMVwiKTtcbiAgcmV0dXJuIHJlcy50b1N0cmluZygpO1xufVxuXG4vKipcbiAqIEZpdHRpbmcgb3JkZXIgYW5kIHNwZWNpZmljaXR5IGluIHRoZSBzYW1lIG51bWJlci4gT3JkZXIgaXMgcmVjb3JkZWQgaW4gdGhlXG4gKiBmcmFjdGlvbmFsIHBhcnQuIFNlbGVjdCB2YWx1ZSBzbyB0aGF0XG4gKlxuICogICAweDdGRkZGRkZGICE9IDB4N0ZGRkZGRkYgKyBPUkRFUl9JTkNSRU1FTlRcbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBPUkRFUl9JTkNSRU1FTlQgPSAxIC8gMTA0ODU3NjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHlUYWJsZShzcmM6IEFjdGlvblRhYmxlLCBkc3Q6IEFjdGlvblRhYmxlKTogdm9pZCB7XG4gIGZvciAoY29uc3QgbiBpbiBzcmMpIHtcbiAgICBkc3Rbbl0gPSBzcmNbbl0uY2xvbmUoKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2FzY2FkZSB7XG4gIG5zQ291bnQ6IG51bWJlciA9IDA7XG4gIG5zUHJlZml4OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XG4gIHRhZ3M6IEFjdGlvblRhYmxlID0ge307XG4gIG5zdGFnczogQWN0aW9uVGFibGUgPSB7fTtcbiAgZXB1YnR5cGVzOiBBY3Rpb25UYWJsZSA9IHt9O1xuICBjbGFzc2VzOiBBY3Rpb25UYWJsZSA9IHt9O1xuICBpZHM6IEFjdGlvblRhYmxlID0ge307XG4gIHBhZ2V0eXBlczogQWN0aW9uVGFibGUgPSB7fTtcbiAgb3JkZXI6IG51bWJlciA9IDA7XG5cbiAgY2xvbmUoKTogQ2FzY2FkZSB7XG4gICAgY29uc3QgciA9IG5ldyBDYXNjYWRlKCk7XG4gICAgci5uc0NvdW50ID0gdGhpcy5uc0NvdW50O1xuICAgIGZvciAoY29uc3QgcCBpbiB0aGlzLm5zUHJlZml4KSB7XG4gICAgICByLm5zUHJlZml4W3BdID0gdGhpcy5uc1ByZWZpeFtwXTtcbiAgICB9XG4gICAgY29weVRhYmxlKHRoaXMudGFncywgci50YWdzKTtcbiAgICBjb3B5VGFibGUodGhpcy5uc3RhZ3MsIHIubnN0YWdzKTtcbiAgICBjb3B5VGFibGUodGhpcy5lcHVidHlwZXMsIHIuZXB1YnR5cGVzKTtcbiAgICBjb3B5VGFibGUodGhpcy5jbGFzc2VzLCByLmNsYXNzZXMpO1xuICAgIGNvcHlUYWJsZSh0aGlzLmlkcywgci5pZHMpO1xuICAgIGNvcHlUYWJsZSh0aGlzLnBhZ2V0eXBlcywgci5wYWdldHlwZXMpO1xuICAgIHIub3JkZXIgPSB0aGlzLm9yZGVyO1xuICAgIHJldHVybiByO1xuICB9XG5cbiAgaW5zZXJ0SW5UYWJsZSh0YWJsZTogQWN0aW9uVGFibGUsIGtleTogc3RyaW5nLCBhY3Rpb246IENhc2NhZGVBY3Rpb24pOiB2b2lkIHtcbiAgICBjb25zdCBhID0gdGFibGVba2V5XTtcbiAgICBpZiAoYSkge1xuICAgICAgYWN0aW9uID0gYS5tZXJnZVdpdGgoYWN0aW9uKTtcbiAgICB9XG4gICAgdGFibGVba2V5XSA9IGFjdGlvbjtcbiAgfVxuXG4gIGNyZWF0ZUluc3RhbmNlKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY291bnRlckxpc3RlbmVyOiBDb3VudGVyTGlzdGVuZXIsXG4gICAgY291bnRlclJlc29sdmVyOiBDb3VudGVyUmVzb2x2ZXIsXG4gICAgbGFuZyxcbiAgKTogQ2FzY2FkZUluc3RhbmNlIHtcbiAgICByZXR1cm4gbmV3IENhc2NhZGVJbnN0YW5jZShcbiAgICAgIHRoaXMsXG4gICAgICBjb250ZXh0LFxuICAgICAgY291bnRlckxpc3RlbmVyLFxuICAgICAgY291bnRlclJlc29sdmVyLFxuICAgICAgbGFuZyxcbiAgICApO1xuICB9XG5cbiAgbmV4dE9yZGVyKCk6IG51bWJlciB7XG4gICAgcmV0dXJuICh0aGlzLm9yZGVyICs9IE9SREVSX0lOQ1JFTUVOVCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENhc2NhZGVJbnN0YW5jZSB7XG4gIGNvZGU6IENhc2NhZGU7XG4gIHN0YWNrID0gW1tdLCBbXV0gYXMgQ29uZGl0aW9uSXRlbVtdW107XG4gIGNvbmRpdGlvbnMgPSB7fSBhcyB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xuICBjdXJyZW50RWxlbWVudDogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBjdXJyZW50RWxlbWVudE9mZnNldDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIGN1cnJlbnRTdHlsZTogRWxlbWVudFN0eWxlIHwgbnVsbCA9IG51bGw7XG4gIGN1cnJlbnRDbGFzc05hbWVzOiBzdHJpbmdbXSB8IG51bGwgPSBudWxsO1xuICBjdXJyZW50TG9jYWxOYW1lOiBzdHJpbmcgPSBcIlwiO1xuICBjdXJyZW50TmFtZXNwYWNlOiBzdHJpbmcgPSBcIlwiO1xuICBjdXJyZW50SWQ6IHN0cmluZyA9IFwiXCI7XG4gIGN1cnJlbnRYbWxJZDogc3RyaW5nID0gXCJcIjtcbiAgY3VycmVudE5TVGFnOiBzdHJpbmcgPSBcIlwiO1xuICBjdXJyZW50RXB1YlR5cGVzOiBzdHJpbmdbXSB8IG51bGwgPSBudWxsO1xuICBjdXJyZW50UGFnZVR5cGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBpc0ZpcnN0OiBib29sZWFuID0gdHJ1ZTtcbiAgaXNSb290OiBib29sZWFuID0gdHJ1ZTtcbiAgY291bnRlcnM6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyW10gfSA9IHt9O1xuICBjb3VudGVyU2NvcGluZzogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH1bXSA9IFt7fV07XG4gIHF1b3RlczogQ3NzLlN0cltdO1xuICBxdW90ZURlcHRoOiBudW1iZXIgPSAwO1xuICBsYW5nOiBzdHJpbmcgPSBcIlwiO1xuICBzaWJsaW5nT3JkZXJTdGFjazogbnVtYmVyW10gPSBbMF07XG4gIGN1cnJlbnRTaWJsaW5nT3JkZXI6IG51bWJlciA9IDA7XG4gIHNpYmxpbmdUeXBlQ291bnRzU3RhY2s6IHsgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSB9W10gPSBbe31dO1xuICBjdXJyZW50U2libGluZ1R5cGVDb3VudHM6IHsgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSB9O1xuICBjdXJyZW50Rm9sbG93aW5nU2libGluZ09yZGVyOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgZm9sbG93aW5nU2libGluZ09yZGVyU3RhY2s6IChudW1iZXIgfCBudWxsKVtdO1xuICBmb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50c1N0YWNrOiB7XG4gICAgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbiAgfVtdID0gW3t9XTtcbiAgY3VycmVudEZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzOiB7XG4gICAgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbiAgfTtcbiAgdmlld0NvbmRpdGlvbnM6IHsgW2tleTogc3RyaW5nXTogTWF0Y2hlcnMuTWF0Y2hlcltdIH0gPSB7fTtcbiAgZGVwZW5kZW50Q29uZGl0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgZWxlbWVudFN0YWNrOiBFbGVtZW50W107XG4gIGN1cnJlbnREb2M/OiBEb2N1bWVudCB8IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY2FzY2FkZTogQ2FzY2FkZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnRlckxpc3RlbmVyOiBDb3VudGVyTGlzdGVuZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvdW50ZXJSZXNvbHZlcjogQ291bnRlclJlc29sdmVyLFxuICAgIGxhbmc6IHN0cmluZyxcbiAgKSB7XG4gICAgdGhpcy5jb2RlID0gY2FzY2FkZTtcbiAgICB0aGlzLnF1b3RlcyA9IFtcbiAgICAgIG5ldyBDc3MuU3RyKFwiXFx1MjAxY1wiKSxcbiAgICAgIG5ldyBDc3MuU3RyKFwiXFx1MjAxZFwiKSxcbiAgICAgIG5ldyBDc3MuU3RyKFwiXFx1MjAxOFwiKSxcbiAgICAgIG5ldyBDc3MuU3RyKFwiXFx1MjAxOVwiKSxcbiAgICBdO1xuICAgIHRoaXMuY3VycmVudFNpYmxpbmdUeXBlQ291bnRzID0gdGhpcy5zaWJsaW5nVHlwZUNvdW50c1N0YWNrWzBdO1xuICAgIHRoaXMuZm9sbG93aW5nU2libGluZ09yZGVyU3RhY2sgPSBbdGhpcy5jdXJyZW50Rm9sbG93aW5nU2libGluZ09yZGVyXTtcbiAgICB0aGlzLmN1cnJlbnRGb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50cyA9IHRoaXMuc2libGluZ1R5cGVDb3VudHNTdGFja1swXTtcbiAgICBpZiAoVklWTElPU1RZTEVfREVCVUcpIHtcbiAgICAgIHRoaXMuZWxlbWVudFN0YWNrID0gW107XG4gICAgfVxuICB9XG5cbiAgcHVzaENvbmRpdGlvbkl0ZW0oaXRlbTogQ29uZGl0aW9uSXRlbSk6IHZvaWQge1xuICAgIHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXS5wdXNoKGl0ZW0pO1xuICB9XG5cbiAgaW5jcmVtZW50KGNvbmRpdGlvbjogc3RyaW5nLCB2aWV3Q29uZGl0aW9uOiBNYXRjaGVycy5NYXRjaGVyKTogdm9pZCB7XG4gICAgdGhpcy5jb25kaXRpb25zW2NvbmRpdGlvbl0gPSAodGhpcy5jb25kaXRpb25zW2NvbmRpdGlvbl0gfHwgMCkgKyAxO1xuICAgIGlmICghdmlld0NvbmRpdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy52aWV3Q29uZGl0aW9uc1tjb25kaXRpb25dKSB7XG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25zW2NvbmRpdGlvbl0ucHVzaCh2aWV3Q29uZGl0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy52aWV3Q29uZGl0aW9uc1tjb25kaXRpb25dID0gW3ZpZXdDb25kaXRpb25dO1xuICAgIH1cbiAgfVxuXG4gIGRlY3JlbWVudChjb25kaXRpb246IHN0cmluZywgdmlld0NvbmRpdGlvbjogTWF0Y2hlcnMuTWF0Y2hlcik6IHZvaWQge1xuICAgIHRoaXMuY29uZGl0aW9uc1tjb25kaXRpb25dLS07XG4gICAgaWYgKCF0aGlzLnZpZXdDb25kaXRpb25zW2NvbmRpdGlvbl0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy52aWV3Q29uZGl0aW9uc1tjb25kaXRpb25dID0gdGhpcy52aWV3Q29uZGl0aW9uc1tjb25kaXRpb25dLmZpbHRlcihcbiAgICAgIChpdGVtKSA9PiBpdGVtICE9PSB2aWV3Q29uZGl0aW9uLFxuICAgICk7XG4gICAgaWYgKHRoaXMudmlld0NvbmRpdGlvbnNbY29uZGl0aW9uXS5sZW5ndGggPT09IDApIHtcbiAgICAgIGRlbGV0ZSB0aGlzLnZpZXdDb25kaXRpb25zW2NvbmRpdGlvbl07XG4gICAgfVxuICB9XG5cbiAgYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcih2aWV3Q29uZGl0aW9uSWQ6IHN0cmluZyB8IG51bGwpOiBNYXRjaGVycy5NYXRjaGVyIHtcbiAgICBsZXQgbWF0Y2hlcjogTWF0Y2hlcnMuTWF0Y2hlciA9IG51bGw7XG4gICAgaWYgKHZpZXdDb25kaXRpb25JZCkge1xuICAgICAgQXNzZXJ0cy5hc3NlcnQodGhpcy5jdXJyZW50RWxlbWVudE9mZnNldCk7XG4gICAgICBtYXRjaGVyID0gTWF0Y2hlcnMuTWF0Y2hlckJ1aWxkZXIuYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcihcbiAgICAgICAgdGhpcy5jdXJyZW50RWxlbWVudE9mZnNldCxcbiAgICAgICAgdmlld0NvbmRpdGlvbklkLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgZGVwZW5kZW50Q29uZGl0aW9uTWF0Y2hlcnMgPSB0aGlzLmRlcGVuZGVudENvbmRpdGlvbnNcbiAgICAgIC5tYXAoKGNvbmRpdGlvbklkKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbmRpdGlvbnMgPSB0aGlzLnZpZXdDb25kaXRpb25zW2NvbmRpdGlvbklkXTtcbiAgICAgICAgaWYgKGNvbmRpdGlvbnMgJiYgY29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbmRpdGlvbnMubGVuZ3RoID09PSAxXG4gICAgICAgICAgICA/IGNvbmRpdGlvbnNbMF1cbiAgICAgICAgICAgIDogTWF0Y2hlcnMuTWF0Y2hlckJ1aWxkZXIuYnVpbGRBbnlNYXRjaGVyKFtdLmNvbmNhdChjb25kaXRpb25zKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtKTtcbiAgICBpZiAoZGVwZW5kZW50Q29uZGl0aW9uTWF0Y2hlcnMubGVuZ3RoIDw9IDApIHtcbiAgICAgIHJldHVybiBtYXRjaGVyO1xuICAgIH1cbiAgICBpZiAobWF0Y2hlciA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGRlcGVuZGVudENvbmRpdGlvbk1hdGNoZXJzLmxlbmd0aCA9PT0gMVxuICAgICAgICA/IGRlcGVuZGVudENvbmRpdGlvbk1hdGNoZXJzWzBdXG4gICAgICAgIDogTWF0Y2hlcnMuTWF0Y2hlckJ1aWxkZXIuYnVpbGRBbGxNYXRjaGVyKGRlcGVuZGVudENvbmRpdGlvbk1hdGNoZXJzKTtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGNoZXJzLk1hdGNoZXJCdWlsZGVyLmJ1aWxkQWxsTWF0Y2hlcihcbiAgICAgIFttYXRjaGVyXS5jb25jYXQoZGVwZW5kZW50Q29uZGl0aW9uTWF0Y2hlcnMpLFxuICAgICk7XG4gIH1cblxuICBhcHBseUFjdGlvbih0YWJsZTogQWN0aW9uVGFibGUsIGtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgYWN0aW9uID0gdGFibGVba2V5XTtcbiAgICBpZiAoYWN0aW9uKSB7XG4gICAgICBhY3Rpb24uYXBwbHkodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgcHVzaFJ1bGUoXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICAgcGFnZVR5cGU6IHN0cmluZyB8IG51bGwsXG4gICAgYmFzZVN0eWxlOiBFbGVtZW50U3R5bGUsXG4gICk6IHZvaWQge1xuICAgIHRoaXMuY3VycmVudEVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuY3VycmVudEVsZW1lbnRPZmZzZXQgPSBudWxsO1xuICAgIHRoaXMuY3VycmVudFN0eWxlID0gYmFzZVN0eWxlO1xuICAgIHRoaXMuY3VycmVudE5hbWVzcGFjZSA9IFwiXCI7XG4gICAgdGhpcy5jdXJyZW50TG9jYWxOYW1lID0gXCJcIjtcbiAgICB0aGlzLmN1cnJlbnRJZCA9IFwiXCI7XG4gICAgdGhpcy5jdXJyZW50WG1sSWQgPSBcIlwiO1xuICAgIHRoaXMuY3VycmVudENsYXNzTmFtZXMgPSBjbGFzc2VzO1xuICAgIHRoaXMuY3VycmVudE5TVGFnID0gXCJcIjtcbiAgICB0aGlzLmN1cnJlbnRFcHViVHlwZXMgPSBFTVBUWTtcbiAgICB0aGlzLmN1cnJlbnRQYWdlVHlwZSA9IHBhZ2VUeXBlO1xuICAgIHRoaXMuYXBwbHlBY3Rpb25zKCk7XG4gIH1cblxuICBkZWZpbmVDb3VudGVyKGNvdW50ZXJOYW1lOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5jb3VudGVyc1tjb3VudGVyTmFtZV0pIHtcbiAgICAgIHRoaXMuY291bnRlcnNbY291bnRlck5hbWVdLnB1c2godmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvdW50ZXJzW2NvdW50ZXJOYW1lXSA9IFt2YWx1ZV07XG4gICAgfVxuICAgIGxldCBzY29waW5nID0gdGhpcy5jb3VudGVyU2NvcGluZ1t0aGlzLmNvdW50ZXJTY29waW5nLmxlbmd0aCAtIDFdO1xuICAgIGlmICghc2NvcGluZykge1xuICAgICAgc2NvcGluZyA9IHt9O1xuICAgICAgdGhpcy5jb3VudGVyU2NvcGluZ1t0aGlzLmNvdW50ZXJTY29waW5nLmxlbmd0aCAtIDFdID0gc2NvcGluZztcbiAgICB9XG4gICAgc2NvcGluZ1tjb3VudGVyTmFtZV0gPSB0cnVlO1xuICB9XG5cbiAgcHVzaENvdW50ZXJzKHByb3BzOiBFbGVtZW50U3R5bGUpOiB2b2lkIHtcbiAgICBsZXQgZGlzcGxheVZhbCA9IENzcy5pZGVudC5pbmxpbmU7XG4gICAgY29uc3QgZGlzcGxheSA9IHByb3BzW1wiZGlzcGxheVwiXTtcbiAgICBpZiAoZGlzcGxheSkge1xuICAgICAgZGlzcGxheVZhbCA9IGRpc3BsYXkuZXZhbHVhdGUodGhpcy5jb250ZXh0KTtcbiAgICB9XG4gICAgbGV0IHJlc2V0TWFwOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0gbnVsbDtcbiAgICBsZXQgaW5jcmVtZW50TWFwOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0gbnVsbDtcbiAgICBsZXQgc2V0TWFwOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0gbnVsbDtcbiAgICBjb25zdCByZXNldCA9IHByb3BzW1wiY291bnRlci1yZXNldFwiXTtcbiAgICBpZiAocmVzZXQpIHtcbiAgICAgIGNvbnN0IHJlc2V0VmFsID0gcmVzZXQuZXZhbHVhdGUodGhpcy5jb250ZXh0KTtcbiAgICAgIGlmIChyZXNldFZhbCkge1xuICAgICAgICByZXNldE1hcCA9IENzc1Byb3AudG9Db3VudGVycyhyZXNldFZhbCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNldCA9IHByb3BzW1wiY291bnRlci1zZXRcIl07XG4gICAgaWYgKHNldCkge1xuICAgICAgY29uc3Qgc2V0VmFsID0gc2V0LmV2YWx1YXRlKHRoaXMuY29udGV4dCk7XG4gICAgICBpZiAoc2V0VmFsKSB7XG4gICAgICAgIHNldE1hcCA9IENzc1Byb3AudG9Db3VudGVycyhzZXRWYWwsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaW5jcmVtZW50ID0gcHJvcHNbXCJjb3VudGVyLWluY3JlbWVudFwiXTtcbiAgICBpZiAoaW5jcmVtZW50KSB7XG4gICAgICBjb25zdCBpbmNyZW1lbnRWYWwgPSBpbmNyZW1lbnQuZXZhbHVhdGUodGhpcy5jb250ZXh0KTtcbiAgICAgIGlmIChpbmNyZW1lbnRWYWwpIHtcbiAgICAgICAgaW5jcmVtZW50TWFwID0gQ3NzUHJvcC50b0NvdW50ZXJzKGluY3JlbWVudFZhbCwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoXG4gICAgICAodGhpcy5jdXJyZW50TG9jYWxOYW1lID09IFwib2xcIiB8fCB0aGlzLmN1cnJlbnRMb2NhbE5hbWUgPT0gXCJ1bFwiKSAmJlxuICAgICAgdGhpcy5jdXJyZW50TmFtZXNwYWNlID09IEJhc2UuTlMuWEhUTUxcbiAgICApIHtcbiAgICAgIGlmICghcmVzZXRNYXApIHtcbiAgICAgICAgcmVzZXRNYXAgPSB7fTtcbiAgICAgIH1cbiAgICAgIHJlc2V0TWFwW1widWEtbGlzdC1pdGVtXCJdID0gMDtcbiAgICB9XG4gICAgaWYgKGRpc3BsYXlWYWwgPT09IENzcy5pZGVudC5saXN0X2l0ZW0pIHtcbiAgICAgIGlmICghaW5jcmVtZW50TWFwKSB7XG4gICAgICAgIGluY3JlbWVudE1hcCA9IHt9O1xuICAgICAgfVxuICAgICAgaW5jcmVtZW50TWFwW1widWEtbGlzdC1pdGVtXCJdID0gMTtcbiAgICB9XG4gICAgaWYgKHJlc2V0TWFwKSB7XG4gICAgICBmb3IgKGNvbnN0IHJlc2V0Q291bnRlck5hbWUgaW4gcmVzZXRNYXApIHtcbiAgICAgICAgdGhpcy5kZWZpbmVDb3VudGVyKHJlc2V0Q291bnRlck5hbWUsIHJlc2V0TWFwW3Jlc2V0Q291bnRlck5hbWVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNldE1hcCkge1xuICAgICAgZm9yIChjb25zdCBzZXRDb3VudGVyTmFtZSBpbiBzZXRNYXApIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvdW50ZXJzW3NldENvdW50ZXJOYW1lXSkge1xuICAgICAgICAgIHRoaXMuZGVmaW5lQ291bnRlcihzZXRDb3VudGVyTmFtZSwgc2V0TWFwW3NldENvdW50ZXJOYW1lXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgY291bnRlclZhbHVlcyA9IHRoaXMuY291bnRlcnNbc2V0Q291bnRlck5hbWVdO1xuICAgICAgICAgIGNvdW50ZXJWYWx1ZXNbY291bnRlclZhbHVlcy5sZW5ndGggLSAxXSA9IHNldE1hcFtzZXRDb3VudGVyTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluY3JlbWVudE1hcCkge1xuICAgICAgZm9yIChjb25zdCBpbmNyZW1lbnRDb3VudGVyTmFtZSBpbiBpbmNyZW1lbnRNYXApIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvdW50ZXJzW2luY3JlbWVudENvdW50ZXJOYW1lXSkge1xuICAgICAgICAgIHRoaXMuZGVmaW5lQ291bnRlcihpbmNyZW1lbnRDb3VudGVyTmFtZSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY291bnRlclZhbHVlcyA9IHRoaXMuY291bnRlcnNbaW5jcmVtZW50Q291bnRlck5hbWVdO1xuICAgICAgICBjb3VudGVyVmFsdWVzW2NvdW50ZXJWYWx1ZXMubGVuZ3RoIC0gMV0gKz1cbiAgICAgICAgICBpbmNyZW1lbnRNYXBbaW5jcmVtZW50Q291bnRlck5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGlzcGxheVZhbCA9PT0gQ3NzLmlkZW50Lmxpc3RfaXRlbSkge1xuICAgICAgY29uc3QgbGlzdEl0ZW1Db3VudHMgPSB0aGlzLmNvdW50ZXJzW1widWEtbGlzdC1pdGVtXCJdO1xuICAgICAgY29uc3QgbGlzdEl0ZW1Db3VudCA9IGxpc3RJdGVtQ291bnRzW2xpc3RJdGVtQ291bnRzLmxlbmd0aCAtIDFdO1xuICAgICAgcHJvcHNbXCJ1YS1saXN0LWl0ZW0tY291bnRcIl0gPSBuZXcgQ2FzY2FkZVZhbHVlKFxuICAgICAgICBuZXcgQ3NzLk51bShsaXN0SXRlbUNvdW50KSxcbiAgICAgICAgMCxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuY291bnRlclNjb3BpbmcucHVzaChudWxsKTtcbiAgfVxuXG4gIHBvcENvdW50ZXJzKCk6IHZvaWQge1xuICAgIGNvbnN0IHNjb3BpbmcgPSB0aGlzLmNvdW50ZXJTY29waW5nLnBvcCgpO1xuICAgIGlmIChzY29waW5nKSB7XG4gICAgICBmb3IgKGNvbnN0IGNvdW50ZXJOYW1lIGluIHNjb3BpbmcpIHtcbiAgICAgICAgY29uc3QgYXJyID0gdGhpcy5jb3VudGVyc1tjb3VudGVyTmFtZV07XG4gICAgICAgIGlmIChhcnIpIHtcbiAgICAgICAgICBpZiAoYXJyLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jb3VudGVyc1tjb3VudGVyTmFtZV07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFyci5wb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcm9jZXNzUHNldWRvZWxlbWVudFByb3BzKHBzZXVkb3Byb3BzOiBFbGVtZW50U3R5bGUsIGVsZW1lbnQ6IEVsZW1lbnQpOiB2b2lkIHtcbiAgICB0aGlzLnB1c2hDb3VudGVycyhwc2V1ZG9wcm9wcyk7XG4gICAgaWYgKHBzZXVkb3Byb3BzW1wiY29udGVudFwiXSkge1xuICAgICAgcHNldWRvcHJvcHNbXCJjb250ZW50XCJdID0gcHNldWRvcHJvcHNbXCJjb250ZW50XCJdLmZpbHRlclZhbHVlKFxuICAgICAgICBuZXcgQ29udGVudFByb3BWaXNpdG9yKHRoaXMsIGVsZW1lbnQsIHRoaXMuY291bnRlclJlc29sdmVyKSxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMucG9wQ291bnRlcnMoKTtcbiAgfVxuXG4gIHB1c2hFbGVtZW50KFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgYmFzZVN0eWxlOiBFbGVtZW50U3R5bGUsXG4gICAgZWxlbWVudE9mZnNldDogbnVtYmVyLFxuICApOiB2b2lkIHtcbiAgICBpZiAoVklWTElPU1RZTEVfREVCVUcpIHtcbiAgICAgIHRoaXMuZWxlbWVudFN0YWNrLnB1c2goZWxlbWVudCk7XG4gICAgfVxuXG4gICAgLy8gZG8gbm90IGFwcGx5IHBhZ2UgcnVsZXNcbiAgICB0aGlzLmN1cnJlbnRQYWdlVHlwZSA9IG51bGw7XG4gICAgdGhpcy5jdXJyZW50RWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5jdXJyZW50RWxlbWVudE9mZnNldCA9IGVsZW1lbnRPZmZzZXQ7XG4gICAgdGhpcy5jdXJyZW50U3R5bGUgPSBiYXNlU3R5bGU7XG4gICAgdGhpcy5jdXJyZW50TmFtZXNwYWNlID0gZWxlbWVudC5uYW1lc3BhY2VVUkk7XG4gICAgdGhpcy5jdXJyZW50TG9jYWxOYW1lID0gZWxlbWVudC5sb2NhbE5hbWU7XG4gICAgY29uc3QgcHJlZml4ID0gdGhpcy5jb2RlLm5zUHJlZml4W3RoaXMuY3VycmVudE5hbWVzcGFjZV07XG4gICAgaWYgKHByZWZpeCkge1xuICAgICAgdGhpcy5jdXJyZW50TlNUYWcgPSBwcmVmaXggKyB0aGlzLmN1cnJlbnRMb2NhbE5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3VycmVudE5TVGFnID0gXCJcIjtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50SWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImlkXCIpO1xuICAgIHRoaXMuY3VycmVudFhtbElkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGVOUyhCYXNlLk5TLlhNTCwgXCJpZFwiKTtcbiAgICBjb25zdCBjbGFzc2VzID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICBpZiAoY2xhc3Nlcykge1xuICAgICAgdGhpcy5jdXJyZW50Q2xhc3NOYW1lcyA9IGNsYXNzZXMuc3BsaXQoL1xccysvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50Q2xhc3NOYW1lcyA9IEVNUFRZO1xuICAgIH1cbiAgICBjb25zdCB0eXBlcyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlTlMoQmFzZS5OUy5lcHViLCBcInR5cGVcIik7XG4gICAgaWYgKHR5cGVzKSB7XG4gICAgICB0aGlzLmN1cnJlbnRFcHViVHlwZXMgPSB0eXBlcy5zcGxpdCgvXFxzKy8pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmN1cnJlbnRFcHViVHlwZXMgPSBFTVBUWTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdGhpcy5jdXJyZW50TG9jYWxOYW1lID09IFwic3R5bGVcIiAmJlxuICAgICAgdGhpcy5jdXJyZW50TmFtZXNwYWNlID09IEJhc2UuTlMuRkIyXG4gICAgKSB7XG4gICAgICAvLyBzcGVjaWFsIGNhc2VcbiAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSB8fCBcIlwiO1xuICAgICAgdGhpcy5jdXJyZW50Q2xhc3NOYW1lcyA9IFtjbGFzc05hbWVdO1xuICAgIH1cbiAgICBjb25zdCBsYW5nID0gQmFzZS5nZXRMYW5nQXR0cmlidXRlKGVsZW1lbnQpO1xuICAgIGlmIChsYW5nKSB7XG4gICAgICB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMV0ucHVzaChuZXcgUmVzdG9yZUxhbmdJdGVtKHRoaXMubGFuZykpO1xuICAgICAgdGhpcy5sYW5nID0gbGFuZy50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICBjb25zdCBpc1Jvb3QgPSB0aGlzLmlzUm9vdDtcbiAgICBjb25zdCBzaWJsaW5nT3JkZXJTdGFjayA9IHRoaXMuc2libGluZ09yZGVyU3RhY2s7XG4gICAgdGhpcy5jdXJyZW50U2libGluZ09yZGVyID0gKytzaWJsaW5nT3JkZXJTdGFja1tcbiAgICAgIHNpYmxpbmdPcmRlclN0YWNrLmxlbmd0aCAtIDFcbiAgICBdO1xuICAgIHNpYmxpbmdPcmRlclN0YWNrLnB1c2goMCk7XG4gICAgY29uc3Qgc2libGluZ1R5cGVDb3VudHNTdGFjayA9IHRoaXMuc2libGluZ1R5cGVDb3VudHNTdGFjaztcbiAgICBjb25zdCBjdXJyZW50U2libGluZ1R5cGVDb3VudHMgPSAodGhpcy5jdXJyZW50U2libGluZ1R5cGVDb3VudHMgPVxuICAgICAgc2libGluZ1R5cGVDb3VudHNTdGFja1tzaWJsaW5nVHlwZUNvdW50c1N0YWNrLmxlbmd0aCAtIDFdKTtcbiAgICBsZXQgY3VycmVudE5hbWVzcGFjZVR5cGVDb3VudHMgPVxuICAgICAgY3VycmVudFNpYmxpbmdUeXBlQ291bnRzW3RoaXMuY3VycmVudE5hbWVzcGFjZV07XG4gICAgaWYgKCFjdXJyZW50TmFtZXNwYWNlVHlwZUNvdW50cykge1xuICAgICAgY3VycmVudE5hbWVzcGFjZVR5cGVDb3VudHMgPSBjdXJyZW50U2libGluZ1R5cGVDb3VudHNbXG4gICAgICAgIHRoaXMuY3VycmVudE5hbWVzcGFjZVxuICAgICAgXSA9IHt9O1xuICAgIH1cbiAgICBjdXJyZW50TmFtZXNwYWNlVHlwZUNvdW50c1t0aGlzLmN1cnJlbnRMb2NhbE5hbWVdID1cbiAgICAgIChjdXJyZW50TmFtZXNwYWNlVHlwZUNvdW50c1t0aGlzLmN1cnJlbnRMb2NhbE5hbWVdIHx8IDApICsgMTtcbiAgICBzaWJsaW5nVHlwZUNvdW50c1N0YWNrLnB1c2goe30pO1xuICAgIGNvbnN0IGZvbGxvd2luZ1NpYmxpbmdPcmRlclN0YWNrID0gdGhpcy5mb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFjaztcbiAgICBpZiAoXG4gICAgICBmb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFja1tmb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFjay5sZW5ndGggLSAxXSAhPT0gbnVsbFxuICAgICkge1xuICAgICAgdGhpcy5jdXJyZW50Rm9sbG93aW5nU2libGluZ09yZGVyID0gLS1mb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFja1tcbiAgICAgICAgZm9sbG93aW5nU2libGluZ09yZGVyU3RhY2subGVuZ3RoIC0gMVxuICAgICAgXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50Rm9sbG93aW5nU2libGluZ09yZGVyID0gbnVsbDtcbiAgICB9XG4gICAgZm9sbG93aW5nU2libGluZ09yZGVyU3RhY2sucHVzaChudWxsKTtcbiAgICBjb25zdCBmb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50c1N0YWNrID0gdGhpc1xuICAgICAgLmZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzU3RhY2s7XG4gICAgY29uc3QgY3VycmVudEZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzID0gKHRoaXMuY3VycmVudEZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzID1cbiAgICAgIGZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzU3RhY2tbXG4gICAgICAgIGZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzU3RhY2subGVuZ3RoIC0gMVxuICAgICAgXSk7XG4gICAgaWYgKFxuICAgICAgY3VycmVudEZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzICYmXG4gICAgICBjdXJyZW50Rm9sbG93aW5nU2libGluZ1R5cGVDb3VudHNbdGhpcy5jdXJyZW50TmFtZXNwYWNlXVxuICAgICkge1xuICAgICAgY3VycmVudEZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzW3RoaXMuY3VycmVudE5hbWVzcGFjZV1bXG4gICAgICAgIHRoaXMuY3VycmVudExvY2FsTmFtZVxuICAgICAgXS0tO1xuICAgIH1cbiAgICBmb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50c1N0YWNrLnB1c2goe30pO1xuICAgIHRoaXMuYXBwbHlBY3Rpb25zKCk7XG4gICAgdGhpcy5hcHBseUF0dHJGaWx0ZXIoZWxlbWVudCk7XG4gICAgY29uc3QgcXVvdGVzQ2FzYyA9IGJhc2VTdHlsZVtcInF1b3Rlc1wiXTtcbiAgICBsZXQgaXRlbVRvUHVzaExhc3Q6IFF1b3Rlc1Njb3BlSXRlbSB8IG51bGwgPSBudWxsO1xuICAgIGlmIChxdW90ZXNDYXNjKSB7XG4gICAgICBjb25zdCBxdW90ZXNWYWwgPSBxdW90ZXNDYXNjLmV2YWx1YXRlKHRoaXMuY29udGV4dCk7XG4gICAgICBpZiAocXVvdGVzVmFsKSB7XG4gICAgICAgIGl0ZW1Ub1B1c2hMYXN0ID0gbmV3IFF1b3Rlc1Njb3BlSXRlbSh0aGlzLnF1b3Rlcyk7XG4gICAgICAgIGlmIChxdW90ZXNWYWwgPT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgICAgICAgdGhpcy5xdW90ZXMgPSBbbmV3IENzcy5TdHIoXCJcIiksIG5ldyBDc3MuU3RyKFwiXCIpXTtcbiAgICAgICAgfSBlbHNlIGlmIChxdW90ZXNWYWwgaW5zdGFuY2VvZiBDc3MuU3BhY2VMaXN0KSB7XG4gICAgICAgICAgdGhpcy5xdW90ZXMgPSAocXVvdGVzVmFsIGFzIENzcy5TcGFjZUxpc3QpLnZhbHVlcyBhcyBDc3MuU3RyW107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5wdXNoQ291bnRlcnModGhpcy5jdXJyZW50U3R5bGUpO1xuICAgIGNvbnN0IGlkID1cbiAgICAgIHRoaXMuY3VycmVudElkIHx8IHRoaXMuY3VycmVudFhtbElkIHx8IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSB8fCBcIlwiO1xuICAgIGlmIChpc1Jvb3QgfHwgaWQpIHtcbiAgICAgIGNvbnN0IGNvdW50ZXJzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlcltdIH0gPSB7fTtcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMuY291bnRlcnMpLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgY291bnRlcnNbbmFtZV0gPSBBcnJheS5mcm9tKHRoaXMuY291bnRlcnNbbmFtZV0pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmNvdW50ZXJMaXN0ZW5lci5jb3VudGVyc09mSWQoaWQsIGNvdW50ZXJzKTtcbiAgICB9XG4gICAgY29uc3QgcHNldWRvcyA9IGdldFN0eWxlTWFwKHRoaXMuY3VycmVudFN0eWxlLCBcIl9wc2V1ZG9zXCIpO1xuICAgIGlmIChwc2V1ZG9zKSB7XG4gICAgICBsZXQgYmVmb3JlID0gdHJ1ZTtcbiAgICAgIGZvciAoY29uc3QgcHNldWRvTmFtZSBvZiBwc2V1ZG9OYW1lcykge1xuICAgICAgICBpZiAoIXBzZXVkb05hbWUpIHtcbiAgICAgICAgICAvLyBjb250ZW50XG4gICAgICAgICAgYmVmb3JlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHNldWRvUHJvcHMgPSBwc2V1ZG9zW3BzZXVkb05hbWVdO1xuICAgICAgICBpZiAocHNldWRvUHJvcHMpIHtcbiAgICAgICAgICBpZiAoYmVmb3JlKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQc2V1ZG9lbGVtZW50UHJvcHMocHNldWRvUHJvcHMsIGVsZW1lbnQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMl0ucHVzaChcbiAgICAgICAgICAgICAgbmV3IEFmdGVyUHNldWRvZWxlbWVudEl0ZW0ocHNldWRvUHJvcHMsIGVsZW1lbnQpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGl0ZW1Ub1B1c2hMYXN0KSB7XG4gICAgICB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMl0ucHVzaChpdGVtVG9QdXNoTGFzdCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhcHBseUF0dHJGaWx0ZXJJbm5lcih2aXNpdG9yLCBlbGVtZW50U3R5bGUpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIGVsZW1lbnRTdHlsZSkge1xuICAgICAgaWYgKGlzUHJvcE5hbWUocHJvcE5hbWUpKSB7XG4gICAgICAgIGVsZW1lbnRTdHlsZVtwcm9wTmFtZV0gPSBlbGVtZW50U3R5bGVbcHJvcE5hbWVdLmZpbHRlclZhbHVlKHZpc2l0b3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXBwbHlBdHRyRmlsdGVyKGVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb25zdCB2aXNpdG9yID0gbmV3IEF0dHJWYWx1ZUZpbHRlclZpc2l0b3IoZWxlbWVudCk7XG4gICAgY29uc3QgY3VycmVudFN0eWxlID0gdGhpcy5jdXJyZW50U3R5bGU7XG4gICAgY29uc3QgcHNldWRvTWFwID0gZ2V0U3R5bGVNYXAoY3VycmVudFN0eWxlLCBcIl9wc2V1ZG9zXCIpO1xuICAgIGZvciAoY29uc3QgcHNldWRvTmFtZSBpbiBwc2V1ZG9NYXApIHtcbiAgICAgIHRoaXMuYXBwbHlBdHRyRmlsdGVySW5uZXIodmlzaXRvciwgcHNldWRvTWFwW3BzZXVkb05hbWVdKTtcbiAgICB9XG4gICAgdGhpcy5hcHBseUF0dHJGaWx0ZXJJbm5lcih2aXNpdG9yLCBjdXJyZW50U3R5bGUpO1xuICB9XG5cbiAgcHJpdmF0ZSBhcHBseUFjdGlvbnMoKTogdm9pZCB7XG4gICAgbGV0IGk6IG51bWJlcjtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5jdXJyZW50Q2xhc3NOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5hcHBseUFjdGlvbih0aGlzLmNvZGUuY2xhc3NlcywgdGhpcy5jdXJyZW50Q2xhc3NOYW1lc1tpXSk7XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmN1cnJlbnRFcHViVHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuYXBwbHlBY3Rpb24odGhpcy5jb2RlLmVwdWJ0eXBlcywgdGhpcy5jdXJyZW50RXB1YlR5cGVzW2ldKTtcbiAgICB9XG4gICAgdGhpcy5hcHBseUFjdGlvbih0aGlzLmNvZGUuaWRzLCB0aGlzLmN1cnJlbnRJZCk7XG4gICAgdGhpcy5hcHBseUFjdGlvbih0aGlzLmNvZGUudGFncywgdGhpcy5jdXJyZW50TG9jYWxOYW1lKTtcbiAgICBpZiAodGhpcy5jdXJyZW50TG9jYWxOYW1lICE9IFwiXCIpIHtcbiAgICAgIC8vIFVuaXZlcnNhbCBzZWxlY3RvciBkb2VzIG5vdCBhcHBseSB0byBwYWdlLW1hc3Rlci1yZWxhdGVkIHJ1bGVzLlxuICAgICAgdGhpcy5hcHBseUFjdGlvbih0aGlzLmNvZGUudGFncywgXCIqXCIpO1xuICAgIH1cbiAgICB0aGlzLmFwcGx5QWN0aW9uKHRoaXMuY29kZS5uc3RhZ3MsIHRoaXMuY3VycmVudE5TVGFnKTtcblxuICAgIC8vIEFwcGx5IHBhZ2UgcnVsZXMgb25seSB3aGVuIGN1cnJlbnRQYWdlVHlwZSBpcyBub3QgbnVsbFxuICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlVHlwZSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5hcHBseUFjdGlvbih0aGlzLmNvZGUucGFnZXR5cGVzLCB0aGlzLmN1cnJlbnRQYWdlVHlwZSk7XG5cbiAgICAgIC8vIFdlIHJlcHJlc2VudCBwYWdlIHJ1bGVzIHdpdGhvdXQgc2VsZWN0b3JzIGJ5ICosIHRob3VnaCBpdCBpcyBpbGxlZ2FsIGluXG4gICAgICAvLyBDU1NcbiAgICAgIHRoaXMuYXBwbHlBY3Rpb24odGhpcy5jb2RlLnBhZ2V0eXBlcywgXCIqXCIpO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRFbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnREb2MgPSBudWxsO1xuICAgIHRoaXMuc3RhY2sucHVzaChbXSk7XG4gICAgZm9yIChsZXQgZGVwdGggPSAxOyBkZXB0aCA+PSAtMTsgLS1kZXB0aCkge1xuICAgICAgY29uc3QgbGlzdCA9IHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSBkZXB0aCAtIDJdO1xuICAgICAgaSA9IDA7XG4gICAgICB3aGlsZSAoaSA8IGxpc3QubGVuZ3RoKSB7XG4gICAgICAgIGlmIChsaXN0W2ldLnB1c2godGhpcywgZGVwdGgpKSB7XG4gICAgICAgICAgLy8gZG9uZVxuICAgICAgICAgIGxpc3Quc3BsaWNlKGksIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmlzRmlyc3QgPSB0cnVlO1xuICAgIHRoaXMuaXNSb290ID0gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIHBvcCgpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBkZXB0aCA9IDE7IGRlcHRoID49IC0xOyAtLWRlcHRoKSB7XG4gICAgICBjb25zdCBsaXN0ID0gdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aCAtIGRlcHRoIC0gMl07XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICB3aGlsZSAoaSA8IGxpc3QubGVuZ3RoKSB7XG4gICAgICAgIGlmIChsaXN0W2ldLnBvcCh0aGlzLCBkZXB0aCkpIHtcbiAgICAgICAgICAvLyBkb25lXG4gICAgICAgICAgbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc3RhY2sucG9wKCk7XG4gICAgdGhpcy5pc0ZpcnN0ID0gZmFsc2U7XG4gIH1cblxuICBwb3BSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMucG9wKCk7XG4gIH1cblxuICBwb3BFbGVtZW50KGVsZW1lbnQ6IEVsZW1lbnQpOiB2b2lkIHtcbiAgICBpZiAoVklWTElPU1RZTEVfREVCVUcpIHtcbiAgICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRTdGFjay5wb3AoKTtcbiAgICAgIGlmIChlICE9PSBlbGVtZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY2FsbCB0byBwb3BFbGVtZW50XCIpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnNpYmxpbmdPcmRlclN0YWNrLnBvcCgpO1xuICAgIHRoaXMuc2libGluZ1R5cGVDb3VudHNTdGFjay5wb3AoKTtcbiAgICB0aGlzLmZvbGxvd2luZ1NpYmxpbmdPcmRlclN0YWNrLnBvcCgpO1xuICAgIHRoaXMuZm9sbG93aW5nU2libGluZ1R5cGVDb3VudHNTdGFjay5wb3AoKTtcbiAgICB0aGlzLnBvcCgpO1xuICAgIHRoaXMucG9wQ291bnRlcnMoKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgRU1QVFkgPSBbXTtcblxuLyoqXG4gKiBQc2V1ZG9lbGVtZW50IG5hbWVzIGluIHRoZSBvcmRlciB0aGV5IHNob3VsZCBiZSBwcm9jZXNzZWQsIGVtcHR5IHN0cmluZyBpc1xuICogdGhlIHBsYWNlIHdoZXJlIHRoZSBlbGVtZW50J3MgRE9NIGNoaWxkcmVuIGFyZSBwcm9jZXNzZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBwc2V1ZG9OYW1lcyA9IFtcbiAgXCJiZWZvcmVcIixcbiAgXCJ0cmFuc2NsdXNpb24tYmVmb3JlXCIsXG4gIFwiZm9vdG5vdGUtY2FsbFwiLFxuICBcImZvb3Rub3RlLW1hcmtlclwiLFxuICBcImlubmVyXCIsXG4gIFwiZmlyc3QtbGV0dGVyXCIsXG4gIFwiZmlyc3QtbGluZVwiLFxuICBcIlwiLFxuICAvKiBjb250ZW50ICovXG4gIFwidHJhbnNjbHVzaW9uLWFmdGVyXCIsXG4gIFwiYWZ0ZXJcIixcbl07XG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGVudW0gUGFyc2VTdGF0ZSB7XG4gIFRPUCxcbiAgU0VMRUNUT1IsXG4gIFJVTEUsXG59XG5cbi8qKlxuICogQ2FzY2FkZSBmb3IgYmFzZSBVc2VyIEFnZW50IHN0eWxlc2hlZXQuXG4gKi9cbmV4cG9ydCBsZXQgdWFCYXNlQ2FzY2FkZTogQ2FzY2FkZSA9IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gc2V0VUFCYXNlQ2FzY2FkZSh2YWx1ZTogQ2FzY2FkZSk6IHZvaWQge1xuICB1YUJhc2VDYXNjYWRlID0gdmFsdWU7XG59XG5cbi8vLS0tLS0tLS0tLS0tLSBwYXJzaW5nIC0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIENhc2NhZGVQYXJzZXJIYW5kbGVyIGV4dGVuZHMgQ3NzUGFyc2VyLlNsYXZlUGFyc2VySGFuZGxlclxuICBpbXBsZW1lbnRzIENzc1ZhbGlkYXRvci5Qcm9wZXJ0eVJlY2VpdmVyIHtcbiAgY2hhaW46IENoYWluZWRBY3Rpb25bXSA9IG51bGw7XG4gIHNwZWNpZmljaXR5OiBudW1iZXIgPSAwO1xuICBlbGVtZW50U3R5bGU6IEVsZW1lbnRTdHlsZSA9IG51bGw7XG4gIGNvbmRpdGlvbkNvdW50OiBudW1iZXIgPSAwO1xuICBwc2V1ZG9lbGVtZW50OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgZm9vdG5vdGVDb250ZW50OiBib29sZWFuID0gZmFsc2U7XG4gIGNhc2NhZGU6IENhc2NhZGU7XG4gIHN0YXRlOiBQYXJzZVN0YXRlO1xuICB2aWV3Q29uZGl0aW9uSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBpbnNpZGVTZWxlY3RvclJ1bGU6IFBhcnNlU3RhdGU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogQ3NzUGFyc2VyLkRpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29uZGl0aW9uOiBFeHBycy5WYWwsXG4gICAgcGFyZW50OiBDYXNjYWRlUGFyc2VySGFuZGxlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVnaW9uSWQ6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCxcbiAgICB0b3BMZXZlbDogYm9vbGVhbixcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG93bmVyLCB0b3BMZXZlbCk7XG4gICAgdGhpcy5jYXNjYWRlID0gcGFyZW50XG4gICAgICA/IHBhcmVudC5jYXNjYWRlXG4gICAgICA6IHVhQmFzZUNhc2NhZGVcbiAgICAgID8gdWFCYXNlQ2FzY2FkZS5jbG9uZSgpXG4gICAgICA6IG5ldyBDYXNjYWRlKCk7XG4gICAgdGhpcy5zdGF0ZSA9IFBhcnNlU3RhdGUuVE9QO1xuICB9XG5cbiAgcHJvdGVjdGVkIGluc2VydE5vblByaW1hcnkoYWN0aW9uOiBDYXNjYWRlQWN0aW9uKTogdm9pZCB7XG4gICAgdGhpcy5jYXNjYWRlLmluc2VydEluVGFibGUodGhpcy5jYXNjYWRlLnRhZ3MsIFwiKlwiLCBhY3Rpb24pO1xuICB9XG5cbiAgcHJvY2Vzc0NoYWluKGFjdGlvbjogQ2FzY2FkZUFjdGlvbik6IHZvaWQge1xuICAgIGNvbnN0IGNoYWluZWQgPSBjaGFpbkFjdGlvbnModGhpcy5jaGFpbiwgYWN0aW9uKTtcbiAgICBpZiAoXG4gICAgICBjaGFpbmVkICE9PSBhY3Rpb24gJiZcbiAgICAgIChjaGFpbmVkIGFzIENoYWluZWRBY3Rpb24pLm1ha2VQcmltYXJ5KHRoaXMuY2FzY2FkZSlcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pbnNlcnROb25QcmltYXJ5KGNoYWluZWQpO1xuICB9XG5cbiAgaXNJbnNpZGVTZWxlY3RvclJ1bGUobW5lbW9uaWNzOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5zdGF0ZSAhPSBQYXJzZVN0YXRlLlRPUCkge1xuICAgICAgdGhpcy5yZXBvcnRBbmRTa2lwKG1uZW1vbmljcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGFnU2VsZWN0b3IobnM6IHN0cmluZyB8IG51bGwsIG5hbWU6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICBpZiAoIW5hbWUgJiYgIW5zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc3BlY2lmaWNpdHkgKz0gMTtcbiAgICBpZiAobmFtZSAmJiBucykge1xuICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja05TVGFnQWN0aW9uKG5zLCBuYW1lLnRvTG93ZXJDYXNlKCkpKTtcbiAgICB9IGVsc2UgaWYgKG5hbWUpIHtcbiAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tMb2NhbE5hbWVBY3Rpb24obmFtZS50b0xvd2VyQ2FzZSgpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tOYW1lc3BhY2VBY3Rpb24obnMgYXMgc3RyaW5nKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xhc3NTZWxlY3RvcihuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wc2V1ZG9lbGVtZW50KSB7XG4gICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGA6OiR7dGhpcy5wc2V1ZG9lbGVtZW50fWAsIGBmb2xsb3dlZCBieSAuJHtuYW1lfWApO1xuICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKSk7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNwZWNpZmljaXR5ICs9IDI1NjtcbiAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ2xhc3NBY3Rpb24obmFtZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHNldWRvY2xhc3NTZWxlY3RvcihuYW1lOiBzdHJpbmcsIHBhcmFtczogKG51bWJlciB8IHN0cmluZylbXSk6IHZvaWQge1xuICAgIGlmICh0aGlzLnBzZXVkb2VsZW1lbnQpIHtcbiAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oYDo6JHt0aGlzLnBzZXVkb2VsZW1lbnR9YCwgYGZvbGxvd2VkIGJ5IDoke25hbWV9YCk7XG4gICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAobmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjYXNlIFwiZW5hYmxlZFwiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzRW5hYmxlZEFjdGlvbigpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGlzYWJsZWRcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc0Rpc2FibGVkQWN0aW9uKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJjaGVja2VkXCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNDaGVja2VkQWN0aW9uKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyb290XCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNSb290QWN0aW9uKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tMb2NhbE5hbWVBY3Rpb24oXCJhXCIpKTtcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0F0dHJpYnV0ZVByZXNlbnRBY3Rpb24oXCJcIiwgXCJocmVmXCIpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiLWFkYXB0LWhyZWYtZXB1Yi10eXBlXCI6XG4gICAgICBjYXNlIFwiaHJlZi1lcHViLXR5cGVcIjpcbiAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMubGVuZ3RoID09IDEgJiYgdHlwZW9mIHBhcmFtc1swXSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJhbXNbMF0gYXMgc3RyaW5nO1xuICAgICAgICAgIGNvbnN0IHBhdHQgPSBuZXcgUmVnRXhwKGAoXnxzKSR7QmFzZS5lc2NhcGVSZWdFeHAodmFsdWUpfShcXCR8cylgKTtcbiAgICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrVGFyZ2V0RXB1YlR5cGVBY3Rpb24ocGF0dCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIikpOyAvLyBhbHdheXMgZmFpbHNcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCItYWRhcHQtZm9vdG5vdGUtY29udGVudFwiOlxuICAgICAgY2FzZSBcImZvb3Rub3RlLWNvbnRlbnRcIjpcbiAgICAgICAgLy8gY29udGVudCBpbnNpZGUgdGhlIGZvb3Rub3RlXG4gICAgICAgIHRoaXMuZm9vdG5vdGVDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidmlzaXRlZFwiOlxuICAgICAgY2FzZSBcImFjdGl2ZVwiOlxuICAgICAgY2FzZSBcImhvdmVyXCI6XG4gICAgICBjYXNlIFwiZm9jdXNcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKSk7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsYW5nXCI6XG4gICAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmxlbmd0aCA9PSAxICYmIHR5cGVvZiBwYXJhbXNbMF0gPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIGNvbnN0IGxhbmdWYWx1ZSA9IHBhcmFtc1swXSBhcyBzdHJpbmc7XG4gICAgICAgICAgdGhpcy5jaGFpbi5wdXNoKFxuICAgICAgICAgICAgbmV3IENoZWNrTGFuZ0FjdGlvbihcbiAgICAgICAgICAgICAgbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICAgICBgXiR7QmFzZS5lc2NhcGVSZWdFeHAobGFuZ1ZhbHVlLnRvTG93ZXJDYXNlKCkpfShcXCR8LSlgLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIikpOyAvLyBhbHdheXMgZmFpc1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm50aC1jaGlsZFwiOlxuICAgICAgY2FzZSBcIm50aC1sYXN0LWNoaWxkXCI6XG4gICAgICBjYXNlIFwibnRoLW9mLXR5cGVcIjpcbiAgICAgIGNhc2UgXCJudGgtbGFzdC1vZi10eXBlXCI6IHtcbiAgICAgICAgY29uc3QgQWN0aW9uQ2xhc3MgPSBudGhTZWxlY3RvckFjdGlvbkNsYXNzZXNbbmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICB0aGlzLmNoYWluLnB1c2goXG4gICAgICAgICAgICBuZXcgQWN0aW9uQ2xhc3MocGFyYW1zWzBdIGFzIG51bWJlciwgcGFyYW1zWzFdIGFzIG51bWJlciksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiZmlyc3QtY2hpbGRcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc0ZpcnN0QWN0aW9uKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsYXN0LWNoaWxkXCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNOdGhMYXN0U2libGluZ0FjdGlvbigwLCAxKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZpcnN0LW9mLXR5cGVcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc050aFNpYmxpbmdPZlR5cGVBY3Rpb24oMCwgMSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsYXN0LW9mLXR5cGVcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc050aExhc3RTaWJsaW5nT2ZUeXBlQWN0aW9uKDAsIDEpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwib25seS1jaGlsZFwiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzRmlyc3RBY3Rpb24oKSk7XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNOdGhMYXN0U2libGluZ0FjdGlvbigwLCAxKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm9ubHktb2YtdHlwZVwiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzTnRoU2libGluZ09mVHlwZUFjdGlvbigwLCAxKSk7XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNOdGhMYXN0U2libGluZ09mVHlwZUFjdGlvbigwLCAxKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVtcHR5XCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNFbXB0eUFjdGlvbigpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYmVmb3JlXCI6XG4gICAgICBjYXNlIFwiYWZ0ZXJcIjpcbiAgICAgIGNhc2UgXCJmaXJzdC1saW5lXCI6XG4gICAgICBjYXNlIFwiZmlyc3QtbGV0dGVyXCI6XG4gICAgICAgIHRoaXMucHNldWRvZWxlbWVudFNlbGVjdG9yKG5hbWUsIHBhcmFtcyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oYHVua25vd24gcHNldWRvLWNsYXNzIHNlbGVjdG9yOiAke25hbWV9YCk7XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIikpOyAvLyBhbHdheXMgZmFpbHNcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMuc3BlY2lmaWNpdHkgKz0gMjU2O1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHNldWRvZWxlbWVudFNlbGVjdG9yKG5hbWU6IHN0cmluZywgcGFyYW1zOiAobnVtYmVyIHwgc3RyaW5nKVtdKTogdm9pZCB7XG4gICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICBjYXNlIFwiYmVmb3JlXCI6XG4gICAgICBjYXNlIFwiYWZ0ZXJcIjpcbiAgICAgIGNhc2UgXCJmaXJzdC1saW5lXCI6XG4gICAgICBjYXNlIFwiZmlyc3QtbGV0dGVyXCI6XG4gICAgICBjYXNlIFwiZm9vdG5vdGUtY2FsbFwiOlxuICAgICAgY2FzZSBcImZvb3Rub3RlLW1hcmtlclwiOlxuICAgICAgY2FzZSBcImlubmVyXCI6XG4gICAgICBjYXNlIFwiYWZ0ZXItaWYtY29udGludWVzXCI6XG4gICAgICAgIGlmICghdGhpcy5wc2V1ZG9lbGVtZW50KSB7XG4gICAgICAgICAgdGhpcy5wc2V1ZG9lbGVtZW50ID0gbmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFxuICAgICAgICAgICAgYERvdWJsZSBwc2V1ZG9lbGVtZW50IDo6JHt0aGlzLnBzZXVkb2VsZW1lbnR9Ojoke25hbWV9YCxcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIikpOyAvLyBhbHdheXMgZmFpbHNcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJmaXJzdC1uLWxpbmVzXCI6XG4gICAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmxlbmd0aCA9PSAxICYmIHR5cGVvZiBwYXJhbXNbMF0gPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIGNvbnN0IG4gPSBNYXRoLnJvdW5kKHBhcmFtc1swXSBhcyBudW1iZXIpO1xuICAgICAgICAgIGlmIChuID4gMCAmJiBuID09IHBhcmFtc1swXSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBzZXVkb2VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgdGhpcy5wc2V1ZG9lbGVtZW50ID0gYGZpcnN0LSR7bn0tbGluZXNgO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcbiAgICAgICAgICAgICAgICBgRG91YmxlIHBzZXVkb2VsZW1lbnQgOjoke3RoaXMucHNldWRvZWxlbWVudH06OiR7bmFtZX1gLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKSk7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJudGgtZnJhZ21lbnRcIjpcbiAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCA9IGBORlNfJHtwYXJhbXNbMF19XyR7cGFyYW1zWzFdfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKSk7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihgVW5yZWNvZ25pemVkIHBzZXVkb2VsZW1lbnQ6IDo6JHtuYW1lfWApO1xuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0aGlzLnNwZWNpZmljaXR5ICs9IDE7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpZFNlbGVjdG9yKGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNwZWNpZmljaXR5ICs9IDY1NTM2O1xuICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tJZEFjdGlvbihpZCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXR0cmlidXRlU2VsZWN0b3IoXG4gICAgbnM6IHN0cmluZyxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgb3A6IENzc1Rva2VuaXplci5Ub2tlblR5cGUsXG4gICAgdmFsdWU6IHN0cmluZyB8IG51bGwsXG4gICk6IHZvaWQge1xuICAgIHRoaXMuc3BlY2lmaWNpdHkgKz0gMjU2O1xuICAgIG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsdWUgPSB2YWx1ZSB8fCBcIlwiO1xuICAgIGxldCBhY3Rpb247XG4gICAgc3dpdGNoIChvcCkge1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRjpcbiAgICAgICAgYWN0aW9uID0gbmV3IENoZWNrQXR0cmlidXRlUHJlc2VudEFjdGlvbihucywgbmFtZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVROlxuICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tBdHRyaWJ1dGVFcUFjdGlvbihucywgbmFtZSwgdmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5USUxERV9FUTpcbiAgICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZS5tYXRjaCgvXFxzLykpIHtcbiAgICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIik7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0F0dHJpYnV0ZVJlZ0V4cEFjdGlvbihcbiAgICAgICAgICAgIG5zLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIG5ldyBSZWdFeHAoYChefFxcXFxzKSR7QmFzZS5lc2NhcGVSZWdFeHAodmFsdWUpfShcXCR8XFxcXHMpYCksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5CQVJfRVE6XG4gICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0F0dHJpYnV0ZVJlZ0V4cEFjdGlvbihcbiAgICAgICAgICBucyxcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIG5ldyBSZWdFeHAoYF4ke0Jhc2UuZXNjYXBlUmVnRXhwKHZhbHVlKX0oXFwkfC0pYCksXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkhBVF9FUTpcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWN0aW9uID0gbmV3IENoZWNrQXR0cmlidXRlUmVnRXhwQWN0aW9uKFxuICAgICAgICAgICAgbnMsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgbmV3IFJlZ0V4cChgXiR7QmFzZS5lc2NhcGVSZWdFeHAodmFsdWUpfWApLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuRE9MTEFSX0VROlxuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgYWN0aW9uID0gbmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpOyAvLyBhbHdheXMgZmFpbHNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tBdHRyaWJ1dGVSZWdFeHBBY3Rpb24oXG4gICAgICAgICAgICBucyxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBuZXcgUmVnRXhwKGAke0Jhc2UuZXNjYXBlUmVnRXhwKHZhbHVlKX1cXCRgKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUQVJfRVE6XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIik7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0F0dHJpYnV0ZVJlZ0V4cEFjdGlvbihcbiAgICAgICAgICAgIG5zLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIG5ldyBSZWdFeHAoQmFzZS5lc2NhcGVSZWdFeHAodmFsdWUpKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTF9DT0w6XG4gICAgICAgIGlmICh2YWx1ZSA9PSBcInN1cHBvcnRlZFwiKSB7XG4gICAgICAgICAgYWN0aW9uID0gbmV3IENoZWNrTmFtZXNwYWNlU3VwcG9ydGVkQWN0aW9uKG5zLCBuYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiVW5zdXBwb3J0ZWQgOjogYXR0ciBzZWxlY3RvciBvcDpcIiwgdmFsdWUpO1xuICAgICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiVW5zdXBwb3J0ZWQgYXR0ciBzZWxlY3RvcjpcIiwgb3ApO1xuICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIik7IC8vIGFsd2F5cyBmYWlsc1xuICAgIH1cbiAgICB0aGlzLmNoYWluLnB1c2goYWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRlc2NlbmRhbnRTZWxlY3RvcigpOiB2b2lkIHtcbiAgICBjb25zdCBjb25kaXRpb24gPSBgZCR7Y29uZGl0aW9uQ291bnQrK31gO1xuICAgIHRoaXMucHJvY2Vzc0NoYWluKFxuICAgICAgbmV3IENvbmRpdGlvbkl0ZW1BY3Rpb24oXG4gICAgICAgIG5ldyBEZXNjZW5kYW50Q29uZGl0aW9uSXRlbShjb25kaXRpb24sIHRoaXMudmlld0NvbmRpdGlvbklkLCBudWxsKSxcbiAgICAgICksXG4gICAgKTtcbiAgICB0aGlzLmNoYWluID0gW25ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihjb25kaXRpb24pXTtcbiAgICB0aGlzLnZpZXdDb25kaXRpb25JZCA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjaGlsZFNlbGVjdG9yKCk6IHZvaWQge1xuICAgIGNvbnN0IGNvbmRpdGlvbiA9IGBjJHtjb25kaXRpb25Db3VudCsrfWA7XG4gICAgdGhpcy5wcm9jZXNzQ2hhaW4oXG4gICAgICBuZXcgQ29uZGl0aW9uSXRlbUFjdGlvbihcbiAgICAgICAgbmV3IENoaWxkQ29uZGl0aW9uSXRlbShjb25kaXRpb24sIHRoaXMudmlld0NvbmRpdGlvbklkLCBudWxsKSxcbiAgICAgICksXG4gICAgKTtcbiAgICB0aGlzLmNoYWluID0gW25ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihjb25kaXRpb24pXTtcbiAgICB0aGlzLnZpZXdDb25kaXRpb25JZCA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhZGphY2VudFNpYmxpbmdTZWxlY3RvcigpOiB2b2lkIHtcbiAgICBjb25zdCBjb25kaXRpb24gPSBgYSR7Y29uZGl0aW9uQ291bnQrK31gO1xuICAgIHRoaXMucHJvY2Vzc0NoYWluKFxuICAgICAgbmV3IENvbmRpdGlvbkl0ZW1BY3Rpb24oXG4gICAgICAgIG5ldyBBZGphY2VudFNpYmxpbmdDb25kaXRpb25JdGVtKGNvbmRpdGlvbiwgdGhpcy52aWV3Q29uZGl0aW9uSWQsIG51bGwpLFxuICAgICAgKSxcbiAgICApO1xuICAgIHRoaXMuY2hhaW4gPSBbbmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKGNvbmRpdGlvbildO1xuICAgIHRoaXMudmlld0NvbmRpdGlvbklkID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZvbGxvd2luZ1NpYmxpbmdTZWxlY3RvcigpOiB2b2lkIHtcbiAgICBjb25zdCBjb25kaXRpb24gPSBgZiR7Y29uZGl0aW9uQ291bnQrK31gO1xuICAgIHRoaXMucHJvY2Vzc0NoYWluKFxuICAgICAgbmV3IENvbmRpdGlvbkl0ZW1BY3Rpb24oXG4gICAgICAgIG5ldyBGb2xsb3dpbmdTaWJsaW5nQ29uZGl0aW9uSXRlbShcbiAgICAgICAgICBjb25kaXRpb24sXG4gICAgICAgICAgdGhpcy52aWV3Q29uZGl0aW9uSWQsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgKSxcbiAgICAgICksXG4gICAgKTtcbiAgICB0aGlzLmNoYWluID0gW25ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihjb25kaXRpb24pXTtcbiAgICB0aGlzLnZpZXdDb25kaXRpb25JZCA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBuZXh0U2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5maW5pc2hDaGFpbigpO1xuICAgIHRoaXMucHNldWRvZWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5mb290bm90ZUNvbnRlbnQgPSBmYWxzZTtcbiAgICB0aGlzLnNwZWNpZmljaXR5ID0gMDtcbiAgICB0aGlzLmNoYWluID0gW107XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFNlbGVjdG9yUnVsZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc0luc2lkZVNlbGVjdG9yUnVsZShcIkVfQ1NTX1VORVhQRUNURURfU0VMRUNUT1JcIikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZSA9IFBhcnNlU3RhdGUuU0VMRUNUT1I7XG4gICAgdGhpcy5lbGVtZW50U3R5bGUgPSB7fSBhcyBFbGVtZW50U3R5bGU7XG4gICAgdGhpcy5wc2V1ZG9lbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLnNwZWNpZmljaXR5ID0gMDtcbiAgICB0aGlzLmZvb3Rub3RlQ29udGVudCA9IGZhbHNlO1xuICAgIHRoaXMuY2hhaW4gPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVycm9yKG1uZW1vbmljczogc3RyaW5nLCB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuKTogdm9pZCB7XG4gICAgc3VwZXIuZXJyb3IobW5lbW9uaWNzLCB0b2tlbik7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gUGFyc2VTdGF0ZS5TRUxFQ1RPUikge1xuICAgICAgdGhpcy5zdGF0ZSA9IFBhcnNlU3RhdGUuVE9QO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0U3R5bGVzaGVldChmbGF2b3I6IENzc1BhcnNlci5TdHlsZXNoZWV0Rmxhdm9yKTogdm9pZCB7XG4gICAgc3VwZXIuc3RhcnRTdHlsZXNoZWV0KGZsYXZvcik7XG4gICAgdGhpcy5zdGF0ZSA9IFBhcnNlU3RhdGUuVE9QO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRSdWxlQm9keSgpOiB2b2lkIHtcbiAgICB0aGlzLmZpbmlzaENoYWluKCk7XG4gICAgc3VwZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgIGlmICh0aGlzLnN0YXRlID09IFBhcnNlU3RhdGUuU0VMRUNUT1IpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBQYXJzZVN0YXRlLlRPUDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBlbmRSdWxlKCk6IHZvaWQge1xuICAgIHN1cGVyLmVuZFJ1bGUoKTtcbiAgICB0aGlzLmluc2lkZVNlbGVjdG9yUnVsZSA9IFBhcnNlU3RhdGUuVE9QO1xuICB9XG5cbiAgZmluaXNoQ2hhaW4oKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY2hhaW4pIHtcbiAgICAgIGNvbnN0IHNwZWNpZmljaXR5OiBudW1iZXIgPSB0aGlzLnNwZWNpZmljaXR5ICsgdGhpcy5jYXNjYWRlLm5leHRPcmRlcigpO1xuICAgICAgdGhpcy5wcm9jZXNzQ2hhaW4odGhpcy5tYWtlQXBwbHlSdWxlQWN0aW9uKHNwZWNpZmljaXR5KSk7XG4gICAgICB0aGlzLmNoYWluID0gbnVsbDtcbiAgICAgIHRoaXMucHNldWRvZWxlbWVudCA9IG51bGw7XG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCA9IG51bGw7XG4gICAgICB0aGlzLmZvb3Rub3RlQ29udGVudCA9IGZhbHNlO1xuICAgICAgdGhpcy5zcGVjaWZpY2l0eSA9IDA7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIG1ha2VBcHBseVJ1bGVBY3Rpb24oc3BlY2lmaWNpdHk6IG51bWJlcik6IEFwcGx5UnVsZUFjdGlvbiB7XG4gICAgbGV0IHJlZ2lvbklkID0gdGhpcy5yZWdpb25JZDtcbiAgICBpZiAodGhpcy5mb290bm90ZUNvbnRlbnQpIHtcbiAgICAgIGlmIChyZWdpb25JZCkge1xuICAgICAgICByZWdpb25JZCA9IFwieHh4LWJvZ3VzLXh4eFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVnaW9uSWQgPSBcImZvb3Rub3RlXCI7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgQXBwbHlSdWxlQWN0aW9uKFxuICAgICAgdGhpcy5lbGVtZW50U3R5bGUsXG4gICAgICBzcGVjaWZpY2l0eSxcbiAgICAgIHRoaXMucHNldWRvZWxlbWVudCxcbiAgICAgIHJlZ2lvbklkLFxuICAgICAgdGhpcy52aWV3Q29uZGl0aW9uSWQsXG4gICAgKTtcbiAgfVxuXG4gIHNwZWNpYWwobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCkge1xuICAgIGxldCB2YWw6IENhc2NhZGVWYWx1ZTtcbiAgICBpZiAoIXRoaXMuY29uZGl0aW9uKSB7XG4gICAgICB2YWwgPSBuZXcgQ2FzY2FkZVZhbHVlKHZhbHVlLCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsID0gbmV3IENvbmRpdGlvbmFsQ2FzY2FkZVZhbHVlKHZhbHVlLCAwLCB0aGlzLmNvbmRpdGlvbik7XG4gICAgfVxuICAgIGNvbnN0IGFyciA9IGdldE11dGFibGVTcGVjaWFsKHRoaXMuZWxlbWVudFN0eWxlLCBuYW1lKTtcbiAgICBhcnIucHVzaCh2YWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50OiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy52YWxpZGF0b3JTZXQudmFsaWRhdGVQcm9wZXJ0eUFuZEhhbmRsZVNob3J0aGFuZChcbiAgICAgIG5hbWUsXG4gICAgICB2YWx1ZSxcbiAgICAgIGltcG9ydGFudCxcbiAgICAgIHRoaXMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGludmFsaWRQcm9wZXJ0eVZhbHVlKG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydChgRV9JTlZBTElEX1BST1BFUlRZX1ZBTFVFICR7bmFtZX06ICR7dmFsdWUudG9TdHJpbmcoKX1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHVua25vd25Qcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnQoYEVfSU5WQUxJRF9QUk9QRVJUWSAke25hbWV9OiAke3ZhbHVlLnRvU3RyaW5nKCl9YCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzaW1wbGVQcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICBuYW1lID09IFwiZGlzcGxheVwiICYmXG4gICAgICAodmFsdWUgPT09IENzcy5pZGVudC5vZWJfcGFnZV9oZWFkIHx8IHZhbHVlID09PSBDc3MuaWRlbnQub2ViX3BhZ2VfZm9vdClcbiAgICApIHtcbiAgICAgIHRoaXMuc2ltcGxlUHJvcGVydHkoXG4gICAgICAgIFwiZmxvdy1vcHRpb25zXCIsXG4gICAgICAgIG5ldyBDc3MuU3BhY2VMaXN0KFtDc3MuaWRlbnQuZXhjbHVzaXZlLCBDc3MuaWRlbnQuX3N0YXRpY10pLFxuICAgICAgICBpbXBvcnRhbnQsXG4gICAgICApO1xuICAgICAgdGhpcy5zaW1wbGVQcm9wZXJ0eShcImZsb3ctaW50b1wiLCB2YWx1ZSwgaW1wb3J0YW50KTtcbiAgICAgIHZhbHVlID0gQ3NzLmlkZW50LmJsb2NrO1xuICAgIH1cbiAgICBjb25zdCBob29rcyA9IFBsdWdpbi5nZXRIb29rc0Zvck5hbWUoXCJTSU1QTEVfUFJPUEVSVFlcIik7XG4gICAgaG9va3MuZm9yRWFjaCgoaG9vaykgPT4ge1xuICAgICAgY29uc3Qgb3JpZ2luYWwgPSB7IG5hbWU6IG5hbWUsIHZhbHVlOiB2YWx1ZSwgaW1wb3J0YW50OiBpbXBvcnRhbnQgfTtcbiAgICAgIGNvbnN0IGNvbnZlcnRlZCA9IGhvb2sob3JpZ2luYWwpO1xuICAgICAgbmFtZSA9IGNvbnZlcnRlZFtcIm5hbWVcIl07XG4gICAgICB2YWx1ZSA9IGNvbnZlcnRlZFtcInZhbHVlXCJdO1xuICAgICAgaW1wb3J0YW50ID0gY29udmVydGVkW1wiaW1wb3J0YW50XCJdO1xuICAgIH0pO1xuICAgIGNvbnN0IHNwZWNpZmljaXR5ID0gaW1wb3J0YW50XG4gICAgICA/IHRoaXMuZ2V0SW1wb3J0YW50U3BlY2lmaWNpdHkoKVxuICAgICAgOiB0aGlzLmdldEJhc2VTcGVjaWZpY2l0eSgpO1xuICAgIGNvbnN0IGNhc2N2YWwgPSB0aGlzLmNvbmRpdGlvblxuICAgICAgPyBuZXcgQ29uZGl0aW9uYWxDYXNjYWRlVmFsdWUodmFsdWUsIHNwZWNpZmljaXR5LCB0aGlzLmNvbmRpdGlvbilcbiAgICAgIDogbmV3IENhc2NhZGVWYWx1ZSh2YWx1ZSwgc3BlY2lmaWNpdHkpO1xuICAgIHNldFByb3AodGhpcy5lbGVtZW50U3R5bGUsIG5hbWUsIGNhc2N2YWwpO1xuICB9XG5cbiAgZmluaXNoKCk6IENhc2NhZGUge1xuICAgIHJldHVybiB0aGlzLmNhc2NhZGU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydEZ1bmNXaXRoU2VsZWN0b3IoZnVuY05hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHN3aXRjaCAoZnVuY05hbWUpIHtcbiAgICAgIGNhc2UgXCJub3RcIjoge1xuICAgICAgICBjb25zdCBub3RQYXJzZXJIYW5kbGVyID0gbmV3IE5vdFBhcmFtZXRlclBhcnNlckhhbmRsZXIodGhpcyk7XG4gICAgICAgIG5vdFBhcnNlckhhbmRsZXIuc3RhcnRTZWxlY3RvclJ1bGUoKTtcbiAgICAgICAgdGhpcy5vd25lci5wdXNoSGFuZGxlcihub3RQYXJzZXJIYW5kbGVyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbnRoU2VsZWN0b3JBY3Rpb25DbGFzc2VzOiB7IFtrZXk6IHN0cmluZ106IHR5cGVvZiBJc050aEFjdGlvbiB9ID0ge1xuICBcIm50aC1jaGlsZFwiOiBJc050aFNpYmxpbmdBY3Rpb24sXG4gIFwibnRoLW9mLXR5cGVcIjogSXNOdGhTaWJsaW5nT2ZUeXBlQWN0aW9uLFxuICBcIm50aC1sYXN0LWNoaWxkXCI6IElzTnRoTGFzdFNpYmxpbmdBY3Rpb24sXG4gIFwibnRoLWxhc3Qtb2YtdHlwZVwiOiBJc050aExhc3RTaWJsaW5nT2ZUeXBlQWN0aW9uLFxufTtcblxuZXhwb3J0IGxldCBjb25kaXRpb25Db3VudDogbnVtYmVyID0gMDtcblxuZXhwb3J0IGNsYXNzIE5vdFBhcmFtZXRlclBhcnNlckhhbmRsZXIgZXh0ZW5kcyBDYXNjYWRlUGFyc2VySGFuZGxlciB7XG4gIHBhcmVudENoYWluOiBDaGFpbmVkQWN0aW9uW107XG5cbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHBhcmVudDogQ2FzY2FkZVBhcnNlckhhbmRsZXIpIHtcbiAgICBzdXBlcihcbiAgICAgIHBhcmVudC5zY29wZSxcbiAgICAgIHBhcmVudC5vd25lcixcbiAgICAgIHBhcmVudC5jb25kaXRpb24sXG4gICAgICBwYXJlbnQsXG4gICAgICBwYXJlbnQucmVnaW9uSWQsXG4gICAgICBwYXJlbnQudmFsaWRhdG9yU2V0LFxuICAgICAgZmFsc2UsXG4gICAgKTtcbiAgICB0aGlzLnBhcmVudENoYWluID0gcGFyZW50LmNoYWluO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRGdW5jV2l0aFNlbGVjdG9yKGZ1bmNOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoZnVuY05hbWUgPT0gXCJub3RcIikge1xuICAgICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9OT1RcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRSdWxlQm9keSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX1JVTEVfQk9EWVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG5leHRTZWxlY3RvcigpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX05FWFRfU0VMRUNUT1JcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBlbmRGdW5jV2l0aFNlbGVjdG9yKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmNoYWluICYmIHRoaXMuY2hhaW4ubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5wYXJlbnRDaGFpbi5wdXNoKG5ldyBOZWdhdGVBY3Rpb25zU2V0KHRoaXMuY2hhaW4pKTtcbiAgICB9XG4gICAgdGhpcy5wYXJlbnQuc3BlY2lmaWNpdHkgKz0gdGhpcy5zcGVjaWZpY2l0eTtcbiAgICB0aGlzLm93bmVyLnBvcEhhbmRsZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVycm9yKG1uZW1vbmljczogc3RyaW5nLCB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuKTogdm9pZCB7XG4gICAgc3VwZXIuZXJyb3IobW5lbW9uaWNzLCB0b2tlbik7XG4gICAgdGhpcy5vd25lci5wb3BIYW5kbGVyKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAb3ZlcnJpZGVcbiAqL1xuZXhwb3J0IGNsYXNzIERlZmluZVBhcnNlckhhbmRsZXIgZXh0ZW5kcyBDc3NQYXJzZXIuU2xhdmVQYXJzZXJIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogQ3NzUGFyc2VyLkRpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG93bmVyLCBmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zY29wZS52YWx1ZXNbbmFtZV0pIHtcbiAgICAgIHRoaXMuZXJyb3IoYEVfQ1NTX05BTUVfUkVERUZJTkVEICR7bmFtZX1gLCB0aGlzLmdldEN1cnJlbnRUb2tlbigpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdW5pdCA9IG5hbWUubWF0Y2goL2hlaWdodHxeKHRvcHxib3R0b20pJC8pID8gXCJ2aFwiIDogXCJ2d1wiO1xuICAgICAgY29uc3QgZGltID0gbmV3IEV4cHJzLk51bWVyaWModGhpcy5zY29wZSwgMTAwLCB1bml0KTtcbiAgICAgIHRoaXMuc2NvcGUuZGVmaW5lTmFtZShuYW1lLCB2YWx1ZS50b0V4cHIodGhpcy5zY29wZSwgZGltKSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9wU2V0UGFyc2VySGFuZGxlciBleHRlbmRzIENzc1BhcnNlci5TbGF2ZVBhcnNlckhhbmRsZXJcbiAgaW1wbGVtZW50cyBDc3NWYWxpZGF0b3IuUHJvcGVydHlSZWNlaXZlciB7XG4gIG9yZGVyOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogQ3NzUGFyc2VyLkRpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29uZGl0aW9uOiBFeHBycy5WYWwsXG4gICAgcHVibGljIHJlYWRvbmx5IGVsZW1lbnRTdHlsZTogRWxlbWVudFN0eWxlLFxuICAgIHB1YmxpYyByZWFkb25seSB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBvd25lciwgZmFsc2UpO1xuICAgIHRoaXMub3JkZXIgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50OiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKGltcG9ydGFudCkge1xuICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcIkVfSU1QT1JUQU5UX05PVF9BTExPV0VEXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnZhbGlkYXRvclNldC52YWxpZGF0ZVByb3BlcnR5QW5kSGFuZGxlU2hvcnRoYW5kKFxuICAgICAgICBuYW1lLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgaW1wb3J0YW50LFxuICAgICAgICB0aGlzLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbnZhbGlkUHJvcGVydHlWYWx1ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsKTogdm9pZCB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihcbiAgICAgIFwiRV9JTlZBTElEX1BST1BFUlRZX1ZBTFVFXCIsXG4gICAgICBgJHtuYW1lfTpgLFxuICAgICAgdmFsdWUudG9TdHJpbmcoKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdW5rbm93blByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRV9JTlZBTElEX1BST1BFUlRZXCIsIGAke25hbWV9OmAsIHZhbHVlLnRvU3RyaW5nKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2ltcGxlUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50KTogdm9pZCB7XG4gICAgbGV0IHNwZWNpZmljaXR5ID0gaW1wb3J0YW50XG4gICAgICA/IHRoaXMuZ2V0SW1wb3J0YW50U3BlY2lmaWNpdHkoKVxuICAgICAgOiB0aGlzLmdldEJhc2VTcGVjaWZpY2l0eSgpO1xuICAgIHNwZWNpZmljaXR5ICs9IHRoaXMub3JkZXI7XG4gICAgdGhpcy5vcmRlciArPSBPUkRFUl9JTkNSRU1FTlQ7XG4gICAgY29uc3QgYXYgPSB0aGlzLmNvbmRpdGlvblxuICAgICAgPyBuZXcgQ29uZGl0aW9uYWxDYXNjYWRlVmFsdWUodmFsdWUsIHNwZWNpZmljaXR5LCB0aGlzLmNvbmRpdGlvbilcbiAgICAgIDogbmV3IENhc2NhZGVWYWx1ZSh2YWx1ZSwgc3BlY2lmaWNpdHkpO1xuICAgIHNldFByb3AodGhpcy5lbGVtZW50U3R5bGUsIG5hbWUsIGF2KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJvcGVydHlQYXJzZXJIYW5kbGVyIGV4dGVuZHMgQ3NzUGFyc2VyLkVycm9ySGFuZGxlclxuICBpbXBsZW1lbnRzIENzc1ZhbGlkYXRvci5Qcm9wZXJ0eVJlY2VpdmVyIHtcbiAgZWxlbWVudFN0eWxlID0ge30gYXMgRWxlbWVudFN0eWxlO1xuICBvcmRlcjogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIHB1YmxpYyByZWFkb25seSB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwsIGltcG9ydGFudDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMudmFsaWRhdG9yU2V0LnZhbGlkYXRlUHJvcGVydHlBbmRIYW5kbGVTaG9ydGhhbmQoXG4gICAgICBuYW1lLFxuICAgICAgdmFsdWUsXG4gICAgICBpbXBvcnRhbnQsXG4gICAgICB0aGlzLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbnZhbGlkUHJvcGVydHlWYWx1ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsKTogdm9pZCB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihcbiAgICAgIFwiRV9JTlZBTElEX1BST1BFUlRZX1ZBTFVFXCIsXG4gICAgICBgJHtuYW1lfTpgLFxuICAgICAgdmFsdWUudG9TdHJpbmcoKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdW5rbm93blByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRV9JTlZBTElEX1BST1BFUlRZXCIsIGAke25hbWV9OmAsIHZhbHVlLnRvU3RyaW5nKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2ltcGxlUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50KTogdm9pZCB7XG4gICAgbGV0IHNwZWNpZmljaXR5ID0gaW1wb3J0YW50XG4gICAgICA/IENzc1BhcnNlci5TUEVDSUZJQ0lUWV9TVFlMRV9JTVBPUlRBTlRcbiAgICAgIDogQ3NzUGFyc2VyLlNQRUNJRklDSVRZX1NUWUxFO1xuICAgIHNwZWNpZmljaXR5ICs9IHRoaXMub3JkZXI7XG4gICAgdGhpcy5vcmRlciArPSBPUkRFUl9JTkNSRU1FTlQ7XG4gICAgY29uc3QgY2FzY3ZhbCA9IG5ldyBDYXNjYWRlVmFsdWUodmFsdWUsIHNwZWNpZmljaXR5KTtcbiAgICBzZXRQcm9wKHRoaXMuZWxlbWVudFN0eWxlLCBuYW1lLCBjYXNjdmFsKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaFZpZXdDb25kaXRpb25hbFN0eWxlcyhcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgY2FsbGJhY2s6IChwMTogRWxlbWVudFN0eWxlKSA9PiBhbnksXG4pOiB2b2lkIHtcbiAgY29uc3Qgdmlld0NvbmRpdGlvbmFsU3R5bGVzID0gZ2V0Vmlld0NvbmRpdGlvbmFsU3R5bGVNYXAoc3R5bGUpO1xuICBpZiAoIXZpZXdDb25kaXRpb25hbFN0eWxlcykge1xuICAgIHJldHVybjtcbiAgfVxuICB2aWV3Q29uZGl0aW9uYWxTdHlsZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICBpZiAoIWVudHJ5Lm1hdGNoZXIubWF0Y2hlcygpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhbGxiYWNrKGVudHJ5LnN0eWxlcyk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VWaWV3Q29uZGl0aW9uYWxTdHlsZXMoXG4gIGNhc2NNYXA6IHsgW2tleTogc3RyaW5nXTogQ2FzY2FkZVZhbHVlIH0sXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gIHN0eWxlOiBFbGVtZW50U3R5bGUsXG4pOiB2b2lkIHtcbiAgZm9yRWFjaFZpZXdDb25kaXRpb25hbFN0eWxlcyhzdHlsZSwgKHZpZXdDb25kaXRpb25hbFN0eWxlcykgPT4ge1xuICAgIG1lcmdlU3R5bGUoY2FzY01hcCwgdmlld0NvbmRpdGlvbmFsU3R5bGVzLCBjb250ZXh0KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0eWxlQXR0cmlidXRlKFxuICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQsXG4gIGJhc2VVUkw6IHN0cmluZyxcbiAgc3R5bGVBdHRyVmFsdWU6IHN0cmluZyxcbik6IEVsZW1lbnRTdHlsZSB7XG4gIGNvbnN0IGhhbmRsZXIgPSBuZXcgUHJvcGVydHlQYXJzZXJIYW5kbGVyKHNjb3BlLCB2YWxpZGF0b3JTZXQpO1xuICBjb25zdCB0b2tlbml6ZXIgPSBuZXcgQ3NzVG9rZW5pemVyLlRva2VuaXplcihzdHlsZUF0dHJWYWx1ZSwgaGFuZGxlcik7XG4gIHRyeSB7XG4gICAgQ3NzUGFyc2VyLnBhcnNlU3R5bGVBdHRyaWJ1dGUodG9rZW5pemVyLCBoYW5kbGVyLCBiYXNlVVJMKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIsIFwiU3R5bGUgYXR0cmlidXRlIHBhcnNlIGVycm9yOlwiKTtcbiAgfVxuICByZXR1cm4gaGFuZGxlci5lbGVtZW50U3R5bGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZlcnRpY2FsKFxuICBjYXNjYWRlZDogeyBba2V5OiBzdHJpbmddOiBDYXNjYWRlVmFsdWUgfSxcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgdmVydGljYWw6IGJvb2xlYW4sXG4pOiBib29sZWFuIHtcbiAgY29uc3Qgd3JpdGluZ01vZGVDYXNjID0gY2FzY2FkZWRbXCJ3cml0aW5nLW1vZGVcIl07XG4gIGlmICh3cml0aW5nTW9kZUNhc2MpIHtcbiAgICBjb25zdCB3cml0aW5nTW9kZSA9IHdyaXRpbmdNb2RlQ2FzYy5ldmFsdWF0ZShjb250ZXh0LCBcIndyaXRpbmctbW9kZVwiKTtcbiAgICBpZiAod3JpdGluZ01vZGUgJiYgd3JpdGluZ01vZGUgIT09IENzcy5pZGVudC5pbmhlcml0KSB7XG4gICAgICByZXR1cm4gd3JpdGluZ01vZGUgPT09IENzcy5pZGVudC52ZXJ0aWNhbF9ybDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZlcnRpY2FsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNSdGwoXG4gIGNhc2NhZGVkOiB7IFtrZXk6IHN0cmluZ106IENhc2NhZGVWYWx1ZSB9LFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICBydGw6IGJvb2xlYW4sXG4pOiBib29sZWFuIHtcbiAgY29uc3QgZGlyZWN0aW9uQ2FzYyA9IGNhc2NhZGVkW1wiZGlyZWN0aW9uXCJdO1xuICBpZiAoZGlyZWN0aW9uQ2FzYykge1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGRpcmVjdGlvbkNhc2MuZXZhbHVhdGUoY29udGV4dCwgXCJkaXJlY3Rpb25cIik7XG4gICAgaWYgKGRpcmVjdGlvbiAmJiBkaXJlY3Rpb24gIT09IENzcy5pZGVudC5pbmhlcml0KSB7XG4gICAgICByZXR1cm4gZGlyZWN0aW9uID09PSBDc3MuaWRlbnQucnRsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcnRsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbkNhc2NhZGVkU3R5bGUoXG4gIHN0eWxlOiBFbGVtZW50U3R5bGUsXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gIHJlZ2lvbklkczogc3RyaW5nW10sXG4gIGlzRm9vdG5vdGU6IGJvb2xlYW4sXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbik6IHsgW2tleTogc3RyaW5nXTogQ2FzY2FkZVZhbHVlIH0ge1xuICBjb25zdCBjYXNjTWFwID0ge30gYXMgeyBba2V5OiBzdHJpbmddOiBDYXNjYWRlVmFsdWUgfTtcbiAgZm9yIChjb25zdCBuIGluIHN0eWxlKSB7XG4gICAgaWYgKGlzUHJvcE5hbWUobikpIHtcbiAgICAgIGNhc2NNYXBbbl0gPSBnZXRQcm9wKHN0eWxlLCBuKTtcbiAgICB9XG4gIH1cbiAgbWVyZ2VWaWV3Q29uZGl0aW9uYWxTdHlsZXMoY2FzY01hcCwgY29udGV4dCwgc3R5bGUpO1xuICBmb3JFYWNoU3R5bGVzSW5SZWdpb24oXG4gICAgc3R5bGUsXG4gICAgcmVnaW9uSWRzLFxuICAgIGlzRm9vdG5vdGUsXG4gICAgKHJlZ2lvbklkLCByZWdpb25TdHlsZSkgPT4ge1xuICAgICAgbWVyZ2VTdHlsZShjYXNjTWFwLCByZWdpb25TdHlsZSwgY29udGV4dCk7XG4gICAgICBtZXJnZVZpZXdDb25kaXRpb25hbFN0eWxlcyhjYXNjTWFwLCBjb250ZXh0LCByZWdpb25TdHlsZSk7XG4gICAgfSxcbiAgKTtcbiAgcmV0dXJuIGNhc2NNYXA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoU3R5bGVzSW5SZWdpb24oXG4gIHN0eWxlOiBFbGVtZW50U3R5bGUsXG4gIHJlZ2lvbklkczogc3RyaW5nW10sXG4gIGlzRm9vdG5vdGU6IGJvb2xlYW4sXG4gIGNhbGxiYWNrOiAocDE6IHN0cmluZywgcDI6IEVsZW1lbnRTdHlsZSkgPT4gYW55LFxuKTogdm9pZCB7XG4gIGNvbnN0IHJlZ2lvbnMgPSBnZXRTdHlsZU1hcChzdHlsZSwgXCJfcmVnaW9uc1wiKTtcbiAgaWYgKChyZWdpb25JZHMgfHwgaXNGb290bm90ZSkgJiYgcmVnaW9ucykge1xuICAgIGlmIChpc0Zvb3Rub3RlKSB7XG4gICAgICBjb25zdCBmb290bm90ZVJlZ2lvbiA9IFtcImZvb3Rub3RlXCJdO1xuICAgICAgaWYgKCFyZWdpb25JZHMpIHtcbiAgICAgICAgcmVnaW9uSWRzID0gZm9vdG5vdGVSZWdpb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWdpb25JZHMgPSByZWdpb25JZHMuY29uY2F0KGZvb3Rub3RlUmVnaW9uKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCByZWdpb25JZCBvZiByZWdpb25JZHMpIHtcbiAgICAgIGNvbnN0IHJlZ2lvblN0eWxlID0gcmVnaW9uc1tyZWdpb25JZF07XG4gICAgICBpZiAocmVnaW9uU3R5bGUpIHtcbiAgICAgICAgY2FsbGJhY2socmVnaW9uSWQsIHJlZ2lvblN0eWxlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlU3R5bGUoXG4gIHRvOiB7IFtrZXk6IHN0cmluZ106IENhc2NhZGVWYWx1ZSB9LFxuICBmcm9tOiBFbGVtZW50U3R5bGUsXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4pOiB2b2lkIHtcbiAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBmcm9tKSB7XG4gICAgaWYgKGlzUHJvcE5hbWUocHJvcGVydHkpKSB7XG4gICAgICBjb25zdCBuZXdWYWwgPSBnZXRQcm9wKGZyb20sIHByb3BlcnR5KTtcbiAgICAgIGNvbnN0IG9sZFZhbCA9IHRvW3Byb3BlcnR5XTtcbiAgICAgIHRvW3Byb3BlcnR5XSA9IGNhc2NhZGVWYWx1ZXMoY29udGV4dCwgb2xkVmFsLCBuZXdWYWwgYXMgQ2FzY2FkZVZhbHVlKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0IGxvZ2ljYWwgcHJvcGVydGllcyB0byBwaHlzaWNhbCBvbmVzLCB0YWtpbmcgc3BlY2lmaWNpdHkgaW50byBhY2NvdW50LlxuICogQHBhcmFtIHNyYyBTb3VyY2UgcHJvcGVydGllcyBtYXBcbiAqIEBwYXJhbSBkZXN0IERlc3RpbmF0aW9uIG1hcFxuICogQHBhcmFtIHRyYW5zZm9ybSBJZiBzdXBwbGllZCwgcHJvcGVydHkgdmFsdWVzIGFyZSB0cmFuc2Zvcm1lZCBieSB0aGlzXG4gKiAgICAgZnVuY3Rpb24gYmVmb3JlIGluc2VydGVkIGludG8gdGhlIGRlc3RpbmF0aW9uIG1hcC4gVGhlIGZpcnN0IHBhcmFtZXRlciBpc1xuICogICAgIHRoZSBwcm9wZXJ0eSBuYW1lIGFuZCB0aGUgc2Vjb25kIG9uZSBpcyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgY29uc3QgY29udmVydFRvUGh5c2ljYWwgPSA8VD4oXG4gIHNyYzogeyBba2V5OiBzdHJpbmddOiBDYXNjYWRlVmFsdWUgfSxcbiAgZGVzdDogeyBba2V5OiBzdHJpbmddOiBUIH0sXG4gIHZlcnRpY2FsOiBib29sZWFuLFxuICBydGw6IGJvb2xlYW4sXG4gIHRyYW5zZm9ybTogKHAxOiBzdHJpbmcsIHAyOiBDYXNjYWRlVmFsdWUpID0+IFQsXG4pID0+IHtcbiAgY29uc3QgY291cGxpbmdNYXAgPSB2ZXJ0aWNhbFxuICAgID8gcnRsXG4gICAgICA/IGNvdXBsaW5nTWFwVmVydFJ0bFxuICAgICAgOiBjb3VwbGluZ01hcFZlcnRcbiAgICA6IHJ0bFxuICAgID8gY291cGxpbmdNYXBIb3JSdGxcbiAgICA6IGNvdXBsaW5nTWFwSG9yO1xuICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIHNyYykge1xuICAgIGlmIChzcmMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICBjb25zdCBjYXNjVmFsID0gc3JjW3Byb3BOYW1lXTtcbiAgICAgIGlmICghY2FzY1ZhbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvdXBsZWROYW1lID0gY291cGxpbmdNYXBbcHJvcE5hbWVdO1xuICAgICAgbGV0IHRhcmdldE5hbWU6IHN0cmluZztcbiAgICAgIGlmIChjb3VwbGVkTmFtZSkge1xuICAgICAgICBjb25zdCBjb3VwbGVkQ2FzY1ZhbCA9IHNyY1tjb3VwbGVkTmFtZV07XG4gICAgICAgIGlmIChjb3VwbGVkQ2FzY1ZhbCAmJiBjb3VwbGVkQ2FzY1ZhbC5wcmlvcml0eSA+IGNhc2NWYWwucHJpb3JpdHkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXROYW1lID0gZ2VvbU5hbWVzW2NvdXBsZWROYW1lXSA/IGNvdXBsZWROYW1lIDogcHJvcE5hbWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXROYW1lID0gcHJvcE5hbWU7XG4gICAgICB9XG4gICAgICBkZXN0W3RhcmdldE5hbWVdID0gdHJhbnNmb3JtKHByb3BOYW1lLCBjYXNjVmFsKTtcbiAgICB9XG4gIH1cbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDc3NMb2dpY2FsVXRpbCAtIFV0aWxpdGllcyByZWxhdGVkIHRvIENTUyBMb2dpY2FsIFByb3BlcnRpZXMgYW5kIFZhbHVlcyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLWxvZ2ljYWwvXG4gKi9cbnR5cGUgQ29udmVyc2lvbk1hcCA9IHtcbiAgcmVnZXhwOiBSZWdFeHA7XG4gIHRvOiBzdHJpbmc7XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVSZWdFeHBNYXAoXG4gIHZhbHVlTWFwczoge1xuICAgIFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogeyBsb2dpY2FsOiBzdHJpbmc7IHBoeXNpY2FsOiBzdHJpbmcgfVtdIH07XG4gIH0sXG4gIHRvUGh5c2ljYWw6IGJvb2xlYW4sXG4pOiB7IFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogQ29udmVyc2lvbk1hcFtdIH0gfSB7XG4gIGNvbnN0IG1hcCA9IHt9O1xuICBPYmplY3Qua2V5cyh2YWx1ZU1hcHMgYXMgb2JqZWN0KS5mb3JFYWNoKCh3cml0aW5nTW9kZSkgPT4ge1xuICAgIGNvbnN0IGRlc3QgPSAobWFwW3dyaXRpbmdNb2RlXSA9IHt9KTtcbiAgICBjb25zdCBzcmMgPSB2YWx1ZU1hcHNbd3JpdGluZ01vZGVdO1xuICAgIE9iamVjdC5rZXlzKHNyYyBhcyBvYmplY3QpLmZvckVhY2goKGRpcmVjdGlvbikgPT4ge1xuICAgICAgZGVzdFtkaXJlY3Rpb25dID0gc3JjW2RpcmVjdGlvbl0ubWFwKChwKSA9PiB7XG4gICAgICAgIGNvbnN0IGZyb20gPSB0b1BoeXNpY2FsID8gcC5sb2dpY2FsIDogcC5waHlzaWNhbDtcbiAgICAgICAgY29uc3QgdG8gPSB0b1BoeXNpY2FsID8gcC5waHlzaWNhbCA6IHAubG9naWNhbDtcbiAgICAgICAgcmV0dXJuIHsgcmVnZXhwOiBuZXcgUmVnRXhwKGAoLT8pJHtmcm9tfSgtPylgKSwgdG86IGBcXCQxJHt0b31cXCQyYCB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gbWFwO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0KFxuICB2YWx1ZTogc3RyaW5nLFxuICB3cml0aW5nTW9kZTogc3RyaW5nLFxuICBkaXJlY3Rpb246IHN0cmluZyB8IG51bGwsXG4gIG1hcHM6IHsgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiBDb252ZXJzaW9uTWFwW10gfSB9LFxuKTogc3RyaW5nIHtcbiAgY29uc3QgbWFwczIgPSBtYXBzW3dyaXRpbmdNb2RlXTtcbiAgaWYgKCFtYXBzMikge1xuICAgIHRocm93IG5ldyBFcnJvcihgdW5rbm93biB3cml0aW5nLW1vZGU6ICR7d3JpdGluZ01vZGV9YCk7XG4gIH1cbiAgY29uc3QgbWFwID0gbWFwczJbZGlyZWN0aW9uIHx8IFwibHRyXCJdO1xuICBpZiAoIW1hcCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgdW5rbm93biBkaXJlY3Rpb246ICR7ZGlyZWN0aW9ufWApO1xuICB9XG4gIGZvciAoY29uc3QgcCBvZiBtYXApIHtcbiAgICBjb25zdCByZXBsYWNlZCA9IHZhbHVlLnJlcGxhY2UocC5yZWdleHAsIHAudG8pO1xuICAgIGlmIChyZXBsYWNlZCAhPT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiByZXBsYWNlZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuY29uc3QgdmFsdWVzOiB7XG4gIFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogeyBsb2dpY2FsOiBzdHJpbmc7IHBoeXNpY2FsOiBzdHJpbmcgfVtdIH07XG59ID0ge1xuICBcImhvcml6b250YWwtdGJcIjoge1xuICAgIGx0cjogW1xuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zdGFydFwiLCBwaHlzaWNhbDogXCJsZWZ0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtZW5kXCIsIHBoeXNpY2FsOiBcInJpZ2h0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1zdGFydFwiLCBwaHlzaWNhbDogXCJ0b3BcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImJsb2NrLWVuZFwiLCBwaHlzaWNhbDogXCJib3R0b21cIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zaXplXCIsIHBoeXNpY2FsOiBcIndpZHRoXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1zaXplXCIsIHBoeXNpY2FsOiBcImhlaWdodFwiIH0sXG4gICAgXSxcbiAgICBydGw6IFtcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtc3RhcnRcIiwgcGh5c2ljYWw6IFwicmlnaHRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1lbmRcIiwgcGh5c2ljYWw6IFwibGVmdFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc3RhcnRcIiwgcGh5c2ljYWw6IFwidG9wXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1lbmRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtc2l6ZVwiLCBwaHlzaWNhbDogXCJ3aWR0aFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc2l6ZVwiLCBwaHlzaWNhbDogXCJoZWlnaHRcIiB9LFxuICAgIF0sXG4gIH0sXG4gIFwidmVydGljYWwtcmxcIjoge1xuICAgIGx0cjogW1xuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zdGFydFwiLCBwaHlzaWNhbDogXCJ0b3BcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1lbmRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1zdGFydFwiLCBwaHlzaWNhbDogXCJyaWdodFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stZW5kXCIsIHBoeXNpY2FsOiBcImxlZnRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zaXplXCIsIHBoeXNpY2FsOiBcImhlaWdodFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc2l6ZVwiLCBwaHlzaWNhbDogXCJ3aWR0aFwiIH0sXG4gICAgXSxcbiAgICBydGw6IFtcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtc3RhcnRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtZW5kXCIsIHBoeXNpY2FsOiBcInRvcFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc3RhcnRcIiwgcGh5c2ljYWw6IFwicmlnaHRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImJsb2NrLWVuZFwiLCBwaHlzaWNhbDogXCJsZWZ0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtc2l6ZVwiLCBwaHlzaWNhbDogXCJoZWlnaHRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImJsb2NrLXNpemVcIiwgcGh5c2ljYWw6IFwid2lkdGhcIiB9LFxuICAgIF0sXG4gIH0sXG4gIFwidmVydGljYWwtbHJcIjoge1xuICAgIGx0cjogW1xuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zdGFydFwiLCBwaHlzaWNhbDogXCJ0b3BcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1lbmRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1zdGFydFwiLCBwaHlzaWNhbDogXCJsZWZ0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1lbmRcIiwgcGh5c2ljYWw6IFwicmlnaHRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zaXplXCIsIHBoeXNpY2FsOiBcImhlaWdodFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc2l6ZVwiLCBwaHlzaWNhbDogXCJ3aWR0aFwiIH0sXG4gICAgXSxcbiAgICBydGw6IFtcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtc3RhcnRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtZW5kXCIsIHBoeXNpY2FsOiBcInRvcFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc3RhcnRcIiwgcGh5c2ljYWw6IFwibGVmdFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stZW5kXCIsIHBoeXNpY2FsOiBcInJpZ2h0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtc2l6ZVwiLCBwaHlzaWNhbDogXCJoZWlnaHRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImJsb2NrLXNpemVcIiwgcGh5c2ljYWw6IFwid2lkdGhcIiB9LFxuICAgIF0sXG4gIH0sXG59O1xuY29uc3QgdG9QaHlzaWNhbE1hcHMgPSBjcmVhdGVSZWdFeHBNYXAodmFsdWVzLCB0cnVlKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRvUGh5c2ljYWwoXG4gIHZhbHVlOiBzdHJpbmcsXG4gIHdyaXRpbmdNb2RlOiBzdHJpbmcsXG4gIGRpcmVjdGlvbj86IHN0cmluZyB8IG51bGwsXG4pOiBzdHJpbmcge1xuICByZXR1cm4gY29udmVydCh2YWx1ZSwgd3JpdGluZ01vZGUsIGRpcmVjdGlvbiB8fCBudWxsLCB0b1BoeXNpY2FsTWFwcyk7XG59XG5jb25zdCB0b0xvZ2ljYWxNYXBzID0gY3JlYXRlUmVnRXhwTWFwKHZhbHVlcywgZmFsc2UpO1xuXG5leHBvcnQgZnVuY3Rpb24gdG9Mb2dpY2FsKFxuICB2YWx1ZTogc3RyaW5nLFxuICB3cml0aW5nTW9kZTogc3RyaW5nLFxuICBkaXJlY3Rpb24/OiBzdHJpbmcgfCBudWxsLFxuKTogc3RyaW5nIHtcbiAgcmV0dXJuIGNvbnZlcnQodmFsdWUsIHdyaXRpbmdNb2RlLCBkaXJlY3Rpb24gfHwgbnVsbCwgdG9Mb2dpY2FsTWFwcyk7XG59XG5jb25zdCBsaW5lUmVsYXRpdmVWYWx1ZXM6IHtcbiAgW2tleTogc3RyaW5nXTogeyBsb2dpY2FsOiBzdHJpbmc7IHBoeXNpY2FsOiBzdHJpbmcgfVtdO1xufSA9IHtcbiAgXCJob3Jpem9udGFsLXRiXCI6IFtcbiAgICB7IGxvZ2ljYWw6IFwibGluZS1sZWZ0XCIsIHBoeXNpY2FsOiBcImxlZnRcIiB9LFxuICAgIHsgbG9naWNhbDogXCJsaW5lLXJpZ2h0XCIsIHBoeXNpY2FsOiBcInJpZ2h0XCIgfSxcbiAgICB7IGxvZ2ljYWw6IFwib3ZlclwiLCBwaHlzaWNhbDogXCJ0b3BcIiB9LFxuICAgIHsgbG9naWNhbDogXCJ1bmRlclwiLCBwaHlzaWNhbDogXCJib3R0b21cIiB9LFxuICBdLFxuICBcInZlcnRpY2FsLXJsXCI6IFtcbiAgICB7IGxvZ2ljYWw6IFwibGluZS1sZWZ0XCIsIHBoeXNpY2FsOiBcInRvcFwiIH0sXG4gICAgeyBsb2dpY2FsOiBcImxpbmUtcmlnaHRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICB7IGxvZ2ljYWw6IFwib3ZlclwiLCBwaHlzaWNhbDogXCJyaWdodFwiIH0sXG4gICAgeyBsb2dpY2FsOiBcInVuZGVyXCIsIHBoeXNpY2FsOiBcImxlZnRcIiB9LFxuICBdLFxuICBcInZlcnRpY2FsLWxyXCI6IFtcbiAgICB7IGxvZ2ljYWw6IFwibGluZS1sZWZ0XCIsIHBoeXNpY2FsOiBcInRvcFwiIH0sXG4gICAgeyBsb2dpY2FsOiBcImxpbmUtcmlnaHRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICB7IGxvZ2ljYWw6IFwib3ZlclwiLCBwaHlzaWNhbDogXCJyaWdodFwiIH0sXG4gICAgeyBsb2dpY2FsOiBcInVuZGVyXCIsIHBoeXNpY2FsOiBcImxlZnRcIiB9LFxuICBdLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRvTGluZVJlbGF0aXZlKHZhbHVlOiBzdHJpbmcsIHdyaXRpbmdNb2RlOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBtYXBzID0gbGluZVJlbGF0aXZlVmFsdWVzW3dyaXRpbmdNb2RlXTtcbiAgaWYgKCFtYXBzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIHdyaXRpbmctbW9kZTogJHt3cml0aW5nTW9kZX1gKTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG1hcHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAobWFwc1tpXS5waHlzaWNhbCA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiBtYXBzW2ldLmxvZ2ljYWw7XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFNpemluZyAtIENTUyBJbnRyaW5zaWMgJiBFeHRyaW5zaWMgU2l6aW5nXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcblxuLyoqXG4gKiBCb3ggc2l6ZXMgZGVmaW5lZCBpbiBjc3Mtc2l6aW5nLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gU2l6ZSB7XG4gIEZJTExfQVZBSUxBQkxFX0lOTElORV9TSVpFID0gXCJmaWxsLWF2YWlsYWJsZSBpbmxpbmUgc2l6ZVwiLFxuICBGSUxMX0FWQUlMQUJMRV9CTE9DS19TSVpFID0gXCJmaWxsLWF2YWlsYWJsZSBibG9jayBzaXplXCIsXG4gIEZJTExfQVZBSUxBQkxFX1dJRFRIID0gXCJmaWxsLWF2YWlsYWJsZSB3aWR0aFwiLFxuICBGSUxMX0FWQUlMQUJMRV9IRUlHSFQgPSBcImZpbGwtYXZhaWxhYmxlIGhlaWdodFwiLFxuICBNQVhfQ09OVEVOVF9JTkxJTkVfU0laRSA9IFwibWF4LWNvbnRlbnQgaW5saW5lIHNpemVcIixcbiAgTUFYX0NPTlRFTlRfQkxPQ0tfU0laRSA9IFwibWF4LWNvbnRlbnQgYmxvY2sgc2l6ZVwiLFxuICBNQVhfQ09OVEVOVF9XSURUSCA9IFwibWF4LWNvbnRlbnQgd2lkdGhcIixcbiAgTUFYX0NPTlRFTlRfSEVJR0hUID0gXCJtYXgtY29udGVudCBoZWlnaHRcIixcbiAgTUlOX0NPTlRFTlRfSU5MSU5FX1NJWkUgPSBcIm1pbi1jb250ZW50IGlubGluZSBzaXplXCIsXG4gIE1JTl9DT05URU5UX0JMT0NLX1NJWkUgPSBcIm1pbi1jb250ZW50IGJsb2NrIHNpemVcIixcbiAgTUlOX0NPTlRFTlRfV0lEVEggPSBcIm1pbi1jb250ZW50IHdpZHRoXCIsXG4gIE1JTl9DT05URU5UX0hFSUdIVCA9IFwibWluLWNvbnRlbnQgaGVpZ2h0XCIsXG4gIEZJVF9DT05URU5UX0lOTElORV9TSVpFID0gXCJmaXQtY29udGVudCBpbmxpbmUgc2l6ZVwiLFxuICBGSVRfQ09OVEVOVF9CTE9DS19TSVpFID0gXCJmaXQtY29udGVudCBibG9jayBzaXplXCIsXG4gIEZJVF9DT05URU5UX1dJRFRIID0gXCJmaXQtY29udGVudCB3aWR0aFwiLFxuICBGSVRfQ09OVEVOVF9IRUlHSFQgPSBcImZpdC1jb250ZW50IGhlaWdodFwiLFxufVxuXG4vKipcbiAqIEdldCBzcGVjaWZpZWQgc2l6ZXMgZm9yIHRoZSBlbGVtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2l6ZShcbiAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXG4gIHNpemVzOiBTaXplW10sXG4pOiB7IFtrZXkgaW4gU2l6ZV06IG51bWJlciB9IHtcbiAgY29uc3Qgb3JpZ2luYWwgPSB7XG4gICAgZGlzcGxheTogKGVsZW1lbnQgYXMgYW55KS5zdHlsZS5kaXNwbGF5LFxuICAgIHBvc2l0aW9uOiAoZWxlbWVudCBhcyBhbnkpLnN0eWxlLnBvc2l0aW9uLFxuICAgIHdpZHRoOiAoZWxlbWVudCBhcyBhbnkpLnN0eWxlLndpZHRoIGFzIHN0cmluZyxcbiAgICBtYXhXaWR0aDogKGVsZW1lbnQgYXMgYW55KS5zdHlsZS5tYXhXaWR0aCBhcyBzdHJpbmcsXG4gICAgbWluV2lkdGg6IChlbGVtZW50IGFzIGFueSkuc3R5bGUubWluV2lkdGggYXMgc3RyaW5nLFxuICAgIGhlaWdodDogKGVsZW1lbnQgYXMgYW55KS5zdHlsZS5oZWlnaHQgYXMgc3RyaW5nLFxuICAgIG1heEhlaWdodDogKGVsZW1lbnQgYXMgYW55KS5zdHlsZS5tYXhIZWlnaHQgYXMgc3RyaW5nLFxuICAgIG1pbkhlaWdodDogKGVsZW1lbnQgYXMgYW55KS5zdHlsZS5taW5IZWlnaHQgYXMgc3RyaW5nLFxuICB9O1xuICBjb25zdCBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gIGNvbnN0IHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcblxuICAvLyB3cmFwIHRoZSBlbGVtZW50IHdpdGggYSBkdW1teSBjb250YWluZXIgZWxlbWVudFxuICBjb25zdCBjb250YWluZXIgPSBkb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIsIFwicG9zaXRpb25cIiwgb3JpZ2luYWwucG9zaXRpb24pO1xuICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNvbnRhaW5lciwgZWxlbWVudCk7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcIndpZHRoXCIsIFwiYXV0b1wiKTtcbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcIm1heC13aWR0aFwiLCBcIm5vbmVcIik7XG4gIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJtaW4td2lkdGhcIiwgXCIwXCIpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwiaGVpZ2h0XCIsIFwiYXV0b1wiKTtcbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcIm1heC1oZWlnaHRcIiwgXCJub25lXCIpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwibWluLWhlaWdodFwiLCBcIjBcIik7XG5cbiAgZnVuY3Rpb24gZ2V0Q29tcHV0ZWRWYWx1ZShuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBjbGllbnRMYXlvdXQuZ2V0RWxlbWVudENvbXB1dGVkU3R5bGUoZWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKTtcbiAgfVxuICBjb25zdCB3cml0aW5nTW9kZVByb3BlcnR5ID0gQmFzZS5nZXRQcmVmaXhlZFByb3BlcnR5TmFtZXMoXCJ3cml0aW5nLW1vZGVcIik7XG4gIGNvbnN0IHdyaXRpbmdNb2RlVmFsdWUgPVxuICAgICh3cml0aW5nTW9kZVByb3BlcnR5ID8gZ2V0Q29tcHV0ZWRWYWx1ZSh3cml0aW5nTW9kZVByb3BlcnR5WzBdKSA6IG51bGwpIHx8XG4gICAgZ2V0Q29tcHV0ZWRWYWx1ZShcIndyaXRpbmctbW9kZVwiKTtcbiAgY29uc3QgaXNWZXJ0aWNhbCA9XG4gICAgd3JpdGluZ01vZGVWYWx1ZSA9PT0gXCJ2ZXJ0aWNhbC1ybFwiIHx8XG4gICAgd3JpdGluZ01vZGVWYWx1ZSA9PT0gXCJ0Yi1ybFwiIHx8XG4gICAgd3JpdGluZ01vZGVWYWx1ZSA9PT0gXCJ2ZXJ0aWNhbC1sclwiIHx8XG4gICAgd3JpdGluZ01vZGVWYWx1ZSA9PT0gXCJ0Yi1sclwiO1xuICBjb25zdCBpbmxpbmVTaXplTmFtZSA9IGlzVmVydGljYWwgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiO1xuICBjb25zdCBibG9ja1NpemVOYW1lID0gaXNWZXJ0aWNhbCA/IFwid2lkdGhcIiA6IFwiaGVpZ2h0XCI7XG5cbiAgZnVuY3Rpb24gZ2V0RmlsbEF2YWlsYWJsZUlubGluZSgpOiBzdHJpbmcge1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcInBvc2l0aW9uXCIsIFwic3RhdGljXCIpO1xuICAgIHJldHVybiBnZXRDb21wdXRlZFZhbHVlKGlubGluZVNpemVOYW1lKTtcbiAgfVxuXG4gIC8vIElubGluZSBzaXplIG9mIGFuIGlubGluZS1ibG9jayBlbGVtZW50IGlzIHRoZSBmaXQtY29udGVudFxuICAvLyAoc2hyaW5rLXRvLWZpdCkgaW5saW5lIHNpemUuXG4gIGZ1bmN0aW9uIGdldE1heENvbnRlbnRJbmxpbmUoKTogc3RyaW5nIHtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwiZGlzcGxheVwiLCBcImlubGluZS1ibG9ja1wiKTtcblxuICAgIC8vIFdoZW4gdGhlIGF2YWlsYWJsZSBpbmxpbmUgc2l6ZSBpcyBzdWZmaWNpZW50bHkgbGFyZ2UsIHRoZSBmaXQtY29udGVudFxuICAgIC8vIGlubGluZSBzaXplIGVxdWFscyB0byB0aGUgbWF4LWNvbnRlbnQgaW5saW5lIHNpemUuXG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIsIGlubGluZVNpemVOYW1lLCBcIjk5OTk5OTk5cHhcIik7IC8vICdzdWZmaWNpZW50bHkgbGFyZ2UnIHZhbHVlXG4gICAgY29uc3QgciA9IGdldENvbXB1dGVkVmFsdWUoaW5saW5lU2l6ZU5hbWUpO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLCBpbmxpbmVTaXplTmFtZSwgXCJcIik7XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNaW5Db250ZW50SW5saW5lKCk6IHN0cmluZyB7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcImRpc3BsYXlcIiwgXCJpbmxpbmUtYmxvY2tcIik7XG5cbiAgICAvLyBXaGVuIHRoZSBhdmFpbGFibGUgaW5saW5lIHNpemUgaXMgemVybywgdGhlIGZpdC1jb250ZW50IGlubGluZSBzaXplXG4gICAgLy8gZXF1YWxzIHRvIHRoZSBtaW4tY29udGVudCBpbmxpbmUgc2l6ZS5cbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lciwgaW5saW5lU2l6ZU5hbWUsIFwiMFwiKTtcbiAgICBjb25zdCByID0gZ2V0Q29tcHV0ZWRWYWx1ZShpbmxpbmVTaXplTmFtZSk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIsIGlubGluZVNpemVOYW1lLCBcIlwiKTtcbiAgICByZXR1cm4gcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEZpdENvbnRlbnRJbmxpbmUoKTogc3RyaW5nIHtcbiAgICBjb25zdCBmaWxsQXZhaWxhYmxlSW5saW5lID0gZ2V0RmlsbEF2YWlsYWJsZUlubGluZSgpO1xuICAgIGNvbnN0IG1pbkNvbnRlbnRJbmxpbmUgPSBnZXRNaW5Db250ZW50SW5saW5lKCk7XG4gICAgY29uc3QgcGFyc2VkRmlsbEF2YWlsYWJsZSA9IHBhcnNlRmxvYXQoZmlsbEF2YWlsYWJsZUlubGluZSk7XG4gICAgaWYgKHBhcnNlZEZpbGxBdmFpbGFibGUgPD0gcGFyc2VGbG9hdChtaW5Db250ZW50SW5saW5lKSkge1xuICAgICAgcmV0dXJuIG1pbkNvbnRlbnRJbmxpbmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1heENvbnRlbnRJbmxpbmUgPSBnZXRNYXhDb250ZW50SW5saW5lKCk7XG4gICAgICBpZiAocGFyc2VkRmlsbEF2YWlsYWJsZSA8PSBwYXJzZUZsb2F0KG1heENvbnRlbnRJbmxpbmUpKSB7XG4gICAgICAgIHJldHVybiBmaWxsQXZhaWxhYmxlSW5saW5lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1heENvbnRlbnRJbmxpbmU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SWRlYWxCbG9jaygpOiBzdHJpbmcge1xuICAgIHJldHVybiBnZXRDb21wdXRlZFZhbHVlKGJsb2NrU2l6ZU5hbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RmlsbEF2YWlsYWJsZUJsb2NrKCk6IHN0cmluZyB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiR2V0dGluZyBmaWxsLWF2YWlsYWJsZSBibG9jayBzaXplIGlzIG5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSB7fSBhcyB7IFtrZXkgaW4gU2l6ZV06IG51bWJlciB9O1xuICBzaXplcy5mb3JFYWNoKChzaXplKSA9PiB7XG4gICAgbGV0IHI6IHN0cmluZztcbiAgICBzd2l0Y2ggKHNpemUpIHtcbiAgICAgIGNhc2UgU2l6ZS5GSUxMX0FWQUlMQUJMRV9JTkxJTkVfU0laRTpcbiAgICAgICAgciA9IGdldEZpbGxBdmFpbGFibGVJbmxpbmUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuTUFYX0NPTlRFTlRfSU5MSU5FX1NJWkU6XG4gICAgICAgIHIgPSBnZXRNYXhDb250ZW50SW5saW5lKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTaXplLk1JTl9DT05URU5UX0lOTElORV9TSVpFOlxuICAgICAgICByID0gZ2V0TWluQ29udGVudElubGluZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2l6ZS5GSVRfQ09OVEVOVF9JTkxJTkVfU0laRTpcbiAgICAgICAgciA9IGdldEZpdENvbnRlbnRJbmxpbmUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuRklMTF9BVkFJTEFCTEVfQkxPQ0tfU0laRTpcbiAgICAgICAgciA9IGdldEZpbGxBdmFpbGFibGVCbG9jaygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2l6ZS5NQVhfQ09OVEVOVF9CTE9DS19TSVpFOlxuICAgICAgY2FzZSBTaXplLk1JTl9DT05URU5UX0JMT0NLX1NJWkU6XG4gICAgICBjYXNlIFNpemUuRklUX0NPTlRFTlRfQkxPQ0tfU0laRTpcbiAgICAgICAgciA9IGdldElkZWFsQmxvY2soKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuRklMTF9BVkFJTEFCTEVfV0lEVEg6XG4gICAgICAgIHIgPSBpc1ZlcnRpY2FsID8gZ2V0RmlsbEF2YWlsYWJsZUJsb2NrKCkgOiBnZXRGaWxsQXZhaWxhYmxlSW5saW5lKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTaXplLkZJTExfQVZBSUxBQkxFX0hFSUdIVDpcbiAgICAgICAgciA9IGlzVmVydGljYWwgPyBnZXRGaWxsQXZhaWxhYmxlSW5saW5lKCkgOiBnZXRGaWxsQXZhaWxhYmxlQmxvY2soKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuTUFYX0NPTlRFTlRfV0lEVEg6XG4gICAgICAgIHIgPSBpc1ZlcnRpY2FsID8gZ2V0SWRlYWxCbG9jaygpIDogZ2V0TWF4Q29udGVudElubGluZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2l6ZS5NQVhfQ09OVEVOVF9IRUlHSFQ6XG4gICAgICAgIHIgPSBpc1ZlcnRpY2FsID8gZ2V0TWF4Q29udGVudElubGluZSgpIDogZ2V0SWRlYWxCbG9jaygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2l6ZS5NSU5fQ09OVEVOVF9XSURUSDpcbiAgICAgICAgciA9IGlzVmVydGljYWwgPyBnZXRJZGVhbEJsb2NrKCkgOiBnZXRNaW5Db250ZW50SW5saW5lKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTaXplLk1JTl9DT05URU5UX0hFSUdIVDpcbiAgICAgICAgciA9IGlzVmVydGljYWwgPyBnZXRNaW5Db250ZW50SW5saW5lKCkgOiBnZXRJZGVhbEJsb2NrKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTaXplLkZJVF9DT05URU5UX1dJRFRIOlxuICAgICAgICByID0gaXNWZXJ0aWNhbCA/IGdldElkZWFsQmxvY2soKSA6IGdldEZpdENvbnRlbnRJbmxpbmUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuRklUX0NPTlRFTlRfSEVJR0hUOlxuICAgICAgICByID0gaXNWZXJ0aWNhbCA/IGdldEZpdENvbnRlbnRJbmxpbmUoKSA6IGdldElkZWFsQmxvY2soKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJlc3VsdFtzaXplXSA9IHBhcnNlRmxvYXQocik7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcInBvc2l0aW9uXCIsIG9yaWdpbmFsLnBvc2l0aW9uKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwiZGlzcGxheVwiLCBvcmlnaW5hbC5kaXNwbGF5KTtcbiAgfSk7XG4gIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJ3aWR0aFwiLCBvcmlnaW5hbC53aWR0aCk7XG4gIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJtYXgtd2lkdGhcIiwgb3JpZ2luYWwubWF4V2lkdGgpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwibWluLXdpZHRoXCIsIG9yaWdpbmFsLm1pbldpZHRoKTtcbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcImhlaWdodFwiLCBvcmlnaW5hbC5oZWlnaHQpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwibWF4LWhlaWdodFwiLCBvcmlnaW5hbC5tYXhIZWlnaHQpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwibWluLWhlaWdodFwiLCBvcmlnaW5hbC5taW5IZWlnaHQpO1xuICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGVsZW1lbnQsIGNvbnRhaW5lcik7XG4gIHBhcmVudC5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuIiwiLyoqXG4gKiBUaGlzIGxpYnJhcnkgbW9kaWZpZXMgdGhlIGRpZmYtcGF0Y2gtbWF0Y2ggbGlicmFyeSBieSBOZWlsIEZyYXNlclxuICogYnkgcmVtb3ZpbmcgdGhlIHBhdGNoIGFuZCBtYXRjaCBmdW5jdGlvbmFsaXR5IGFuZCBjZXJ0YWluIGFkdmFuY2VkXG4gKiBvcHRpb25zIGluIHRoZSBkaWZmIGZ1bmN0aW9uLiBUaGUgb3JpZ2luYWwgbGljZW5zZSBpcyBhcyBmb2xsb3dzOlxuICpcbiAqID09PVxuICpcbiAqIERpZmYgTWF0Y2ggYW5kIFBhdGNoXG4gKlxuICogQ29weXJpZ2h0IDIwMDYgR29vZ2xlIEluYy5cbiAqIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9nb29nbGUtZGlmZi1tYXRjaC1wYXRjaC9cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblxuLyoqXG4gKiBUaGUgZGF0YSBzdHJ1Y3R1cmUgcmVwcmVzZW50aW5nIGEgZGlmZiBpcyBhbiBhcnJheSBvZiB0dXBsZXM6XG4gKiBbW0RJRkZfREVMRVRFLCAnSGVsbG8nXSwgW0RJRkZfSU5TRVJULCAnR29vZGJ5ZSddLCBbRElGRl9FUVVBTCwgJyB3b3JsZC4nXV1cbiAqIHdoaWNoIG1lYW5zOiBkZWxldGUgJ0hlbGxvJywgYWRkICdHb29kYnllJyBhbmQga2VlcCAnIHdvcmxkLidcbiAqL1xudmFyIERJRkZfREVMRVRFID0gLTE7XG52YXIgRElGRl9JTlNFUlQgPSAxO1xudmFyIERJRkZfRVFVQUwgPSAwO1xuXG5cbi8qKlxuICogRmluZCB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiB0d28gdGV4dHMuICBTaW1wbGlmaWVzIHRoZSBwcm9ibGVtIGJ5IHN0cmlwcGluZ1xuICogYW55IGNvbW1vbiBwcmVmaXggb3Igc3VmZml4IG9mZiB0aGUgdGV4dHMgYmVmb3JlIGRpZmZpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDEgT2xkIHN0cmluZyB0byBiZSBkaWZmZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDIgTmV3IHN0cmluZyB0byBiZSBkaWZmZWQuXG4gKiBAcGFyYW0ge0ludHxPYmplY3R9IFtjdXJzb3JfcG9zXSBFZGl0IHBvc2l0aW9uIGluIHRleHQxIG9yIG9iamVjdCB3aXRoIG1vcmUgaW5mb1xuICogQHJldHVybiB7QXJyYXl9IEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICovXG5mdW5jdGlvbiBkaWZmX21haW4odGV4dDEsIHRleHQyLCBjdXJzb3JfcG9zLCBfZml4X3VuaWNvZGUpIHtcbiAgLy8gQ2hlY2sgZm9yIGVxdWFsaXR5XG4gIGlmICh0ZXh0MSA9PT0gdGV4dDIpIHtcbiAgICBpZiAodGV4dDEpIHtcbiAgICAgIHJldHVybiBbW0RJRkZfRVFVQUwsIHRleHQxXV07XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGlmIChjdXJzb3JfcG9zICE9IG51bGwpIHtcbiAgICB2YXIgZWRpdGRpZmYgPSBmaW5kX2N1cnNvcl9lZGl0X2RpZmYodGV4dDEsIHRleHQyLCBjdXJzb3JfcG9zKTtcbiAgICBpZiAoZWRpdGRpZmYpIHtcbiAgICAgIHJldHVybiBlZGl0ZGlmZjtcbiAgICB9XG4gIH1cblxuICAvLyBUcmltIG9mZiBjb21tb24gcHJlZml4IChzcGVlZHVwKS5cbiAgdmFyIGNvbW1vbmxlbmd0aCA9IGRpZmZfY29tbW9uUHJlZml4KHRleHQxLCB0ZXh0Mik7XG4gIHZhciBjb21tb25wcmVmaXggPSB0ZXh0MS5zdWJzdHJpbmcoMCwgY29tbW9ubGVuZ3RoKTtcbiAgdGV4dDEgPSB0ZXh0MS5zdWJzdHJpbmcoY29tbW9ubGVuZ3RoKTtcbiAgdGV4dDIgPSB0ZXh0Mi5zdWJzdHJpbmcoY29tbW9ubGVuZ3RoKTtcblxuICAvLyBUcmltIG9mZiBjb21tb24gc3VmZml4IChzcGVlZHVwKS5cbiAgY29tbW9ubGVuZ3RoID0gZGlmZl9jb21tb25TdWZmaXgodGV4dDEsIHRleHQyKTtcbiAgdmFyIGNvbW1vbnN1ZmZpeCA9IHRleHQxLnN1YnN0cmluZyh0ZXh0MS5sZW5ndGggLSBjb21tb25sZW5ndGgpO1xuICB0ZXh0MSA9IHRleHQxLnN1YnN0cmluZygwLCB0ZXh0MS5sZW5ndGggLSBjb21tb25sZW5ndGgpO1xuICB0ZXh0MiA9IHRleHQyLnN1YnN0cmluZygwLCB0ZXh0Mi5sZW5ndGggLSBjb21tb25sZW5ndGgpO1xuXG4gIC8vIENvbXB1dGUgdGhlIGRpZmYgb24gdGhlIG1pZGRsZSBibG9jay5cbiAgdmFyIGRpZmZzID0gZGlmZl9jb21wdXRlXyh0ZXh0MSwgdGV4dDIpO1xuXG4gIC8vIFJlc3RvcmUgdGhlIHByZWZpeCBhbmQgc3VmZml4LlxuICBpZiAoY29tbW9ucHJlZml4KSB7XG4gICAgZGlmZnMudW5zaGlmdChbRElGRl9FUVVBTCwgY29tbW9ucHJlZml4XSk7XG4gIH1cbiAgaWYgKGNvbW1vbnN1ZmZpeCkge1xuICAgIGRpZmZzLnB1c2goW0RJRkZfRVFVQUwsIGNvbW1vbnN1ZmZpeF0pO1xuICB9XG4gIGRpZmZfY2xlYW51cE1lcmdlKGRpZmZzLCBfZml4X3VuaWNvZGUpO1xuICByZXR1cm4gZGlmZnM7XG59O1xuXG5cbi8qKlxuICogRmluZCB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiB0d28gdGV4dHMuICBBc3N1bWVzIHRoYXQgdGhlIHRleHRzIGRvIG5vdFxuICogaGF2ZSBhbnkgY29tbW9uIHByZWZpeCBvciBzdWZmaXguXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDEgT2xkIHN0cmluZyB0byBiZSBkaWZmZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDIgTmV3IHN0cmluZyB0byBiZSBkaWZmZWQuXG4gKiBAcmV0dXJuIHtBcnJheX0gQXJyYXkgb2YgZGlmZiB0dXBsZXMuXG4gKi9cbmZ1bmN0aW9uIGRpZmZfY29tcHV0ZV8odGV4dDEsIHRleHQyKSB7XG4gIHZhciBkaWZmcztcblxuICBpZiAoIXRleHQxKSB7XG4gICAgLy8gSnVzdCBhZGQgc29tZSB0ZXh0IChzcGVlZHVwKS5cbiAgICByZXR1cm4gW1tESUZGX0lOU0VSVCwgdGV4dDJdXTtcbiAgfVxuXG4gIGlmICghdGV4dDIpIHtcbiAgICAvLyBKdXN0IGRlbGV0ZSBzb21lIHRleHQgKHNwZWVkdXApLlxuICAgIHJldHVybiBbW0RJRkZfREVMRVRFLCB0ZXh0MV1dO1xuICB9XG5cbiAgdmFyIGxvbmd0ZXh0ID0gdGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoID8gdGV4dDEgOiB0ZXh0MjtcbiAgdmFyIHNob3J0dGV4dCA9IHRleHQxLmxlbmd0aCA+IHRleHQyLmxlbmd0aCA/IHRleHQyIDogdGV4dDE7XG4gIHZhciBpID0gbG9uZ3RleHQuaW5kZXhPZihzaG9ydHRleHQpO1xuICBpZiAoaSAhPT0gLTEpIHtcbiAgICAvLyBTaG9ydGVyIHRleHQgaXMgaW5zaWRlIHRoZSBsb25nZXIgdGV4dCAoc3BlZWR1cCkuXG4gICAgZGlmZnMgPSBbXG4gICAgICBbRElGRl9JTlNFUlQsIGxvbmd0ZXh0LnN1YnN0cmluZygwLCBpKV0sXG4gICAgICBbRElGRl9FUVVBTCwgc2hvcnR0ZXh0XSxcbiAgICAgIFtESUZGX0lOU0VSVCwgbG9uZ3RleHQuc3Vic3RyaW5nKGkgKyBzaG9ydHRleHQubGVuZ3RoKV1cbiAgICBdO1xuICAgIC8vIFN3YXAgaW5zZXJ0aW9ucyBmb3IgZGVsZXRpb25zIGlmIGRpZmYgaXMgcmV2ZXJzZWQuXG4gICAgaWYgKHRleHQxLmxlbmd0aCA+IHRleHQyLmxlbmd0aCkge1xuICAgICAgZGlmZnNbMF1bMF0gPSBkaWZmc1syXVswXSA9IERJRkZfREVMRVRFO1xuICAgIH1cbiAgICByZXR1cm4gZGlmZnM7XG4gIH1cblxuICBpZiAoc2hvcnR0ZXh0Lmxlbmd0aCA9PT0gMSkge1xuICAgIC8vIFNpbmdsZSBjaGFyYWN0ZXIgc3RyaW5nLlxuICAgIC8vIEFmdGVyIHRoZSBwcmV2aW91cyBzcGVlZHVwLCB0aGUgY2hhcmFjdGVyIGNhbid0IGJlIGFuIGVxdWFsaXR5LlxuICAgIHJldHVybiBbW0RJRkZfREVMRVRFLCB0ZXh0MV0sIFtESUZGX0lOU0VSVCwgdGV4dDJdXTtcbiAgfVxuXG4gIC8vIENoZWNrIHRvIHNlZSBpZiB0aGUgcHJvYmxlbSBjYW4gYmUgc3BsaXQgaW4gdHdvLlxuICB2YXIgaG0gPSBkaWZmX2hhbGZNYXRjaF8odGV4dDEsIHRleHQyKTtcbiAgaWYgKGhtKSB7XG4gICAgLy8gQSBoYWxmLW1hdGNoIHdhcyBmb3VuZCwgc29ydCBvdXQgdGhlIHJldHVybiBkYXRhLlxuICAgIHZhciB0ZXh0MV9hID0gaG1bMF07XG4gICAgdmFyIHRleHQxX2IgPSBobVsxXTtcbiAgICB2YXIgdGV4dDJfYSA9IGhtWzJdO1xuICAgIHZhciB0ZXh0Ml9iID0gaG1bM107XG4gICAgdmFyIG1pZF9jb21tb24gPSBobVs0XTtcbiAgICAvLyBTZW5kIGJvdGggcGFpcnMgb2ZmIGZvciBzZXBhcmF0ZSBwcm9jZXNzaW5nLlxuICAgIHZhciBkaWZmc19hID0gZGlmZl9tYWluKHRleHQxX2EsIHRleHQyX2EpO1xuICAgIHZhciBkaWZmc19iID0gZGlmZl9tYWluKHRleHQxX2IsIHRleHQyX2IpO1xuICAgIC8vIE1lcmdlIHRoZSByZXN1bHRzLlxuICAgIHJldHVybiBkaWZmc19hLmNvbmNhdChbW0RJRkZfRVFVQUwsIG1pZF9jb21tb25dXSwgZGlmZnNfYik7XG4gIH1cblxuICByZXR1cm4gZGlmZl9iaXNlY3RfKHRleHQxLCB0ZXh0Mik7XG59O1xuXG5cbi8qKlxuICogRmluZCB0aGUgJ21pZGRsZSBzbmFrZScgb2YgYSBkaWZmLCBzcGxpdCB0aGUgcHJvYmxlbSBpbiB0d29cbiAqIGFuZCByZXR1cm4gdGhlIHJlY3Vyc2l2ZWx5IGNvbnN0cnVjdGVkIGRpZmYuXG4gKiBTZWUgTXllcnMgMTk4NiBwYXBlcjogQW4gTyhORCkgRGlmZmVyZW5jZSBBbGdvcml0aG0gYW5kIEl0cyBWYXJpYXRpb25zLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIE9sZCBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIE5ldyBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHJldHVybiB7QXJyYXl9IEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZGlmZl9iaXNlY3RfKHRleHQxLCB0ZXh0Mikge1xuICAvLyBDYWNoZSB0aGUgdGV4dCBsZW5ndGhzIHRvIHByZXZlbnQgbXVsdGlwbGUgY2FsbHMuXG4gIHZhciB0ZXh0MV9sZW5ndGggPSB0ZXh0MS5sZW5ndGg7XG4gIHZhciB0ZXh0Ml9sZW5ndGggPSB0ZXh0Mi5sZW5ndGg7XG4gIHZhciBtYXhfZCA9IE1hdGguY2VpbCgodGV4dDFfbGVuZ3RoICsgdGV4dDJfbGVuZ3RoKSAvIDIpO1xuICB2YXIgdl9vZmZzZXQgPSBtYXhfZDtcbiAgdmFyIHZfbGVuZ3RoID0gMiAqIG1heF9kO1xuICB2YXIgdjEgPSBuZXcgQXJyYXkodl9sZW5ndGgpO1xuICB2YXIgdjIgPSBuZXcgQXJyYXkodl9sZW5ndGgpO1xuICAvLyBTZXR0aW5nIGFsbCBlbGVtZW50cyB0byAtMSBpcyBmYXN0ZXIgaW4gQ2hyb21lICYgRmlyZWZveCB0aGFuIG1peGluZ1xuICAvLyBpbnRlZ2VycyBhbmQgdW5kZWZpbmVkLlxuICBmb3IgKHZhciB4ID0gMDsgeCA8IHZfbGVuZ3RoOyB4KyspIHtcbiAgICB2MVt4XSA9IC0xO1xuICAgIHYyW3hdID0gLTE7XG4gIH1cbiAgdjFbdl9vZmZzZXQgKyAxXSA9IDA7XG4gIHYyW3Zfb2Zmc2V0ICsgMV0gPSAwO1xuICB2YXIgZGVsdGEgPSB0ZXh0MV9sZW5ndGggLSB0ZXh0Ml9sZW5ndGg7XG4gIC8vIElmIHRoZSB0b3RhbCBudW1iZXIgb2YgY2hhcmFjdGVycyBpcyBvZGQsIHRoZW4gdGhlIGZyb250IHBhdGggd2lsbCBjb2xsaWRlXG4gIC8vIHdpdGggdGhlIHJldmVyc2UgcGF0aC5cbiAgdmFyIGZyb250ID0gKGRlbHRhICUgMiAhPT0gMCk7XG4gIC8vIE9mZnNldHMgZm9yIHN0YXJ0IGFuZCBlbmQgb2YgayBsb29wLlxuICAvLyBQcmV2ZW50cyBtYXBwaW5nIG9mIHNwYWNlIGJleW9uZCB0aGUgZ3JpZC5cbiAgdmFyIGsxc3RhcnQgPSAwO1xuICB2YXIgazFlbmQgPSAwO1xuICB2YXIgazJzdGFydCA9IDA7XG4gIHZhciBrMmVuZCA9IDA7XG4gIGZvciAodmFyIGQgPSAwOyBkIDwgbWF4X2Q7IGQrKykge1xuICAgIC8vIFdhbGsgdGhlIGZyb250IHBhdGggb25lIHN0ZXAuXG4gICAgZm9yICh2YXIgazEgPSAtZCArIGsxc3RhcnQ7IGsxIDw9IGQgLSBrMWVuZDsgazEgKz0gMikge1xuICAgICAgdmFyIGsxX29mZnNldCA9IHZfb2Zmc2V0ICsgazE7XG4gICAgICB2YXIgeDE7XG4gICAgICBpZiAoazEgPT09IC1kIHx8IChrMSAhPT0gZCAmJiB2MVtrMV9vZmZzZXQgLSAxXSA8IHYxW2sxX29mZnNldCArIDFdKSkge1xuICAgICAgICB4MSA9IHYxW2sxX29mZnNldCArIDFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeDEgPSB2MVtrMV9vZmZzZXQgLSAxXSArIDE7XG4gICAgICB9XG4gICAgICB2YXIgeTEgPSB4MSAtIGsxO1xuICAgICAgd2hpbGUgKFxuICAgICAgICB4MSA8IHRleHQxX2xlbmd0aCAmJiB5MSA8IHRleHQyX2xlbmd0aCAmJlxuICAgICAgICB0ZXh0MS5jaGFyQXQoeDEpID09PSB0ZXh0Mi5jaGFyQXQoeTEpXG4gICAgICApIHtcbiAgICAgICAgeDErKztcbiAgICAgICAgeTErKztcbiAgICAgIH1cbiAgICAgIHYxW2sxX29mZnNldF0gPSB4MTtcbiAgICAgIGlmICh4MSA+IHRleHQxX2xlbmd0aCkge1xuICAgICAgICAvLyBSYW4gb2ZmIHRoZSByaWdodCBvZiB0aGUgZ3JhcGguXG4gICAgICAgIGsxZW5kICs9IDI7XG4gICAgICB9IGVsc2UgaWYgKHkxID4gdGV4dDJfbGVuZ3RoKSB7XG4gICAgICAgIC8vIFJhbiBvZmYgdGhlIGJvdHRvbSBvZiB0aGUgZ3JhcGguXG4gICAgICAgIGsxc3RhcnQgKz0gMjtcbiAgICAgIH0gZWxzZSBpZiAoZnJvbnQpIHtcbiAgICAgICAgdmFyIGsyX29mZnNldCA9IHZfb2Zmc2V0ICsgZGVsdGEgLSBrMTtcbiAgICAgICAgaWYgKGsyX29mZnNldCA+PSAwICYmIGsyX29mZnNldCA8IHZfbGVuZ3RoICYmIHYyW2syX29mZnNldF0gIT09IC0xKSB7XG4gICAgICAgICAgLy8gTWlycm9yIHgyIG9udG8gdG9wLWxlZnQgY29vcmRpbmF0ZSBzeXN0ZW0uXG4gICAgICAgICAgdmFyIHgyID0gdGV4dDFfbGVuZ3RoIC0gdjJbazJfb2Zmc2V0XTtcbiAgICAgICAgICBpZiAoeDEgPj0geDIpIHtcbiAgICAgICAgICAgIC8vIE92ZXJsYXAgZGV0ZWN0ZWQuXG4gICAgICAgICAgICByZXR1cm4gZGlmZl9iaXNlY3RTcGxpdF8odGV4dDEsIHRleHQyLCB4MSwgeTEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdhbGsgdGhlIHJldmVyc2UgcGF0aCBvbmUgc3RlcC5cbiAgICBmb3IgKHZhciBrMiA9IC1kICsgazJzdGFydDsgazIgPD0gZCAtIGsyZW5kOyBrMiArPSAyKSB7XG4gICAgICB2YXIgazJfb2Zmc2V0ID0gdl9vZmZzZXQgKyBrMjtcbiAgICAgIHZhciB4MjtcbiAgICAgIGlmIChrMiA9PT0gLWQgfHwgKGsyICE9PSBkICYmIHYyW2syX29mZnNldCAtIDFdIDwgdjJbazJfb2Zmc2V0ICsgMV0pKSB7XG4gICAgICAgIHgyID0gdjJbazJfb2Zmc2V0ICsgMV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4MiA9IHYyW2syX29mZnNldCAtIDFdICsgMTtcbiAgICAgIH1cbiAgICAgIHZhciB5MiA9IHgyIC0gazI7XG4gICAgICB3aGlsZSAoXG4gICAgICAgIHgyIDwgdGV4dDFfbGVuZ3RoICYmIHkyIDwgdGV4dDJfbGVuZ3RoICYmXG4gICAgICAgIHRleHQxLmNoYXJBdCh0ZXh0MV9sZW5ndGggLSB4MiAtIDEpID09PSB0ZXh0Mi5jaGFyQXQodGV4dDJfbGVuZ3RoIC0geTIgLSAxKVxuICAgICAgKSB7XG4gICAgICAgIHgyKys7XG4gICAgICAgIHkyKys7XG4gICAgICB9XG4gICAgICB2MltrMl9vZmZzZXRdID0geDI7XG4gICAgICBpZiAoeDIgPiB0ZXh0MV9sZW5ndGgpIHtcbiAgICAgICAgLy8gUmFuIG9mZiB0aGUgbGVmdCBvZiB0aGUgZ3JhcGguXG4gICAgICAgIGsyZW5kICs9IDI7XG4gICAgICB9IGVsc2UgaWYgKHkyID4gdGV4dDJfbGVuZ3RoKSB7XG4gICAgICAgIC8vIFJhbiBvZmYgdGhlIHRvcCBvZiB0aGUgZ3JhcGguXG4gICAgICAgIGsyc3RhcnQgKz0gMjtcbiAgICAgIH0gZWxzZSBpZiAoIWZyb250KSB7XG4gICAgICAgIHZhciBrMV9vZmZzZXQgPSB2X29mZnNldCArIGRlbHRhIC0gazI7XG4gICAgICAgIGlmIChrMV9vZmZzZXQgPj0gMCAmJiBrMV9vZmZzZXQgPCB2X2xlbmd0aCAmJiB2MVtrMV9vZmZzZXRdICE9PSAtMSkge1xuICAgICAgICAgIHZhciB4MSA9IHYxW2sxX29mZnNldF07XG4gICAgICAgICAgdmFyIHkxID0gdl9vZmZzZXQgKyB4MSAtIGsxX29mZnNldDtcbiAgICAgICAgICAvLyBNaXJyb3IgeDIgb250byB0b3AtbGVmdCBjb29yZGluYXRlIHN5c3RlbS5cbiAgICAgICAgICB4MiA9IHRleHQxX2xlbmd0aCAtIHgyO1xuICAgICAgICAgIGlmICh4MSA+PSB4Mikge1xuICAgICAgICAgICAgLy8gT3ZlcmxhcCBkZXRlY3RlZC5cbiAgICAgICAgICAgIHJldHVybiBkaWZmX2Jpc2VjdFNwbGl0Xyh0ZXh0MSwgdGV4dDIsIHgxLCB5MSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIERpZmYgdG9vayB0b28gbG9uZyBhbmQgaGl0IHRoZSBkZWFkbGluZSBvclxuICAvLyBudW1iZXIgb2YgZGlmZnMgZXF1YWxzIG51bWJlciBvZiBjaGFyYWN0ZXJzLCBubyBjb21tb25hbGl0eSBhdCBhbGwuXG4gIHJldHVybiBbW0RJRkZfREVMRVRFLCB0ZXh0MV0sIFtESUZGX0lOU0VSVCwgdGV4dDJdXTtcbn07XG5cblxuLyoqXG4gKiBHaXZlbiB0aGUgbG9jYXRpb24gb2YgdGhlICdtaWRkbGUgc25ha2UnLCBzcGxpdCB0aGUgZGlmZiBpbiB0d28gcGFydHNcbiAqIGFuZCByZWN1cnNlLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIE9sZCBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIE5ldyBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtudW1iZXJ9IHggSW5kZXggb2Ygc3BsaXQgcG9pbnQgaW4gdGV4dDEuXG4gKiBAcGFyYW0ge251bWJlcn0geSBJbmRleCBvZiBzcGxpdCBwb2ludCBpbiB0ZXh0Mi5cbiAqIEByZXR1cm4ge0FycmF5fSBBcnJheSBvZiBkaWZmIHR1cGxlcy5cbiAqL1xuZnVuY3Rpb24gZGlmZl9iaXNlY3RTcGxpdF8odGV4dDEsIHRleHQyLCB4LCB5KSB7XG4gIHZhciB0ZXh0MWEgPSB0ZXh0MS5zdWJzdHJpbmcoMCwgeCk7XG4gIHZhciB0ZXh0MmEgPSB0ZXh0Mi5zdWJzdHJpbmcoMCwgeSk7XG4gIHZhciB0ZXh0MWIgPSB0ZXh0MS5zdWJzdHJpbmcoeCk7XG4gIHZhciB0ZXh0MmIgPSB0ZXh0Mi5zdWJzdHJpbmcoeSk7XG5cbiAgLy8gQ29tcHV0ZSBib3RoIGRpZmZzIHNlcmlhbGx5LlxuICB2YXIgZGlmZnMgPSBkaWZmX21haW4odGV4dDFhLCB0ZXh0MmEpO1xuICB2YXIgZGlmZnNiID0gZGlmZl9tYWluKHRleHQxYiwgdGV4dDJiKTtcblxuICByZXR1cm4gZGlmZnMuY29uY2F0KGRpZmZzYik7XG59O1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lIHRoZSBjb21tb24gcHJlZml4IG9mIHR3byBzdHJpbmdzLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIEZpcnN0IHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MiBTZWNvbmQgc3RyaW5nLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgY29tbW9uIHRvIHRoZSBzdGFydCBvZiBlYWNoXG4gKiAgICAgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBkaWZmX2NvbW1vblByZWZpeCh0ZXh0MSwgdGV4dDIpIHtcbiAgLy8gUXVpY2sgY2hlY2sgZm9yIGNvbW1vbiBudWxsIGNhc2VzLlxuICBpZiAoIXRleHQxIHx8ICF0ZXh0MiB8fCB0ZXh0MS5jaGFyQXQoMCkgIT09IHRleHQyLmNoYXJBdCgwKSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIC8vIEJpbmFyeSBzZWFyY2guXG4gIC8vIFBlcmZvcm1hbmNlIGFuYWx5c2lzOiBodHRwOi8vbmVpbC5mcmFzZXIubmFtZS9uZXdzLzIwMDcvMTAvMDkvXG4gIHZhciBwb2ludGVybWluID0gMDtcbiAgdmFyIHBvaW50ZXJtYXggPSBNYXRoLm1pbih0ZXh0MS5sZW5ndGgsIHRleHQyLmxlbmd0aCk7XG4gIHZhciBwb2ludGVybWlkID0gcG9pbnRlcm1heDtcbiAgdmFyIHBvaW50ZXJzdGFydCA9IDA7XG4gIHdoaWxlIChwb2ludGVybWluIDwgcG9pbnRlcm1pZCkge1xuICAgIGlmIChcbiAgICAgIHRleHQxLnN1YnN0cmluZyhwb2ludGVyc3RhcnQsIHBvaW50ZXJtaWQpID09XG4gICAgICB0ZXh0Mi5zdWJzdHJpbmcocG9pbnRlcnN0YXJ0LCBwb2ludGVybWlkKVxuICAgICkge1xuICAgICAgcG9pbnRlcm1pbiA9IHBvaW50ZXJtaWQ7XG4gICAgICBwb2ludGVyc3RhcnQgPSBwb2ludGVybWluO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb2ludGVybWF4ID0gcG9pbnRlcm1pZDtcbiAgICB9XG4gICAgcG9pbnRlcm1pZCA9IE1hdGguZmxvb3IoKHBvaW50ZXJtYXggLSBwb2ludGVybWluKSAvIDIgKyBwb2ludGVybWluKTtcbiAgfVxuXG4gIGlmIChpc19zdXJyb2dhdGVfcGFpcl9zdGFydCh0ZXh0MS5jaGFyQ29kZUF0KHBvaW50ZXJtaWQgLSAxKSkpIHtcbiAgICBwb2ludGVybWlkLS07XG4gIH1cblxuICByZXR1cm4gcG9pbnRlcm1pZDtcbn07XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgdGhlIGNvbW1vbiBzdWZmaXggb2YgdHdvIHN0cmluZ3MuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDEgRmlyc3Qgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIFNlY29uZCBzdHJpbmcuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBjb21tb24gdG8gdGhlIGVuZCBvZiBlYWNoIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZGlmZl9jb21tb25TdWZmaXgodGV4dDEsIHRleHQyKSB7XG4gIC8vIFF1aWNrIGNoZWNrIGZvciBjb21tb24gbnVsbCBjYXNlcy5cbiAgaWYgKCF0ZXh0MSB8fCAhdGV4dDIgfHwgdGV4dDEuc2xpY2UoLTEpICE9PSB0ZXh0Mi5zbGljZSgtMSkpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICAvLyBCaW5hcnkgc2VhcmNoLlxuICAvLyBQZXJmb3JtYW5jZSBhbmFseXNpczogaHR0cDovL25laWwuZnJhc2VyLm5hbWUvbmV3cy8yMDA3LzEwLzA5L1xuICB2YXIgcG9pbnRlcm1pbiA9IDA7XG4gIHZhciBwb2ludGVybWF4ID0gTWF0aC5taW4odGV4dDEubGVuZ3RoLCB0ZXh0Mi5sZW5ndGgpO1xuICB2YXIgcG9pbnRlcm1pZCA9IHBvaW50ZXJtYXg7XG4gIHZhciBwb2ludGVyZW5kID0gMDtcbiAgd2hpbGUgKHBvaW50ZXJtaW4gPCBwb2ludGVybWlkKSB7XG4gICAgaWYgKFxuICAgICAgdGV4dDEuc3Vic3RyaW5nKHRleHQxLmxlbmd0aCAtIHBvaW50ZXJtaWQsIHRleHQxLmxlbmd0aCAtIHBvaW50ZXJlbmQpID09XG4gICAgICB0ZXh0Mi5zdWJzdHJpbmcodGV4dDIubGVuZ3RoIC0gcG9pbnRlcm1pZCwgdGV4dDIubGVuZ3RoIC0gcG9pbnRlcmVuZClcbiAgICApIHtcbiAgICAgIHBvaW50ZXJtaW4gPSBwb2ludGVybWlkO1xuICAgICAgcG9pbnRlcmVuZCA9IHBvaW50ZXJtaW47XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvaW50ZXJtYXggPSBwb2ludGVybWlkO1xuICAgIH1cbiAgICBwb2ludGVybWlkID0gTWF0aC5mbG9vcigocG9pbnRlcm1heCAtIHBvaW50ZXJtaW4pIC8gMiArIHBvaW50ZXJtaW4pO1xuICB9XG5cbiAgaWYgKGlzX3N1cnJvZ2F0ZV9wYWlyX2VuZCh0ZXh0MS5jaGFyQ29kZUF0KHRleHQxLmxlbmd0aCAtIHBvaW50ZXJtaWQpKSkge1xuICAgIHBvaW50ZXJtaWQtLTtcbiAgfVxuXG4gIHJldHVybiBwb2ludGVybWlkO1xufTtcblxuXG4vKipcbiAqIERvIHRoZSB0d28gdGV4dHMgc2hhcmUgYSBzdWJzdHJpbmcgd2hpY2ggaXMgYXQgbGVhc3QgaGFsZiB0aGUgbGVuZ3RoIG9mIHRoZVxuICogbG9uZ2VyIHRleHQ/XG4gKiBUaGlzIHNwZWVkdXAgY2FuIHByb2R1Y2Ugbm9uLW1pbmltYWwgZGlmZnMuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDEgRmlyc3Qgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIFNlY29uZCBzdHJpbmcuXG4gKiBAcmV0dXJuIHtBcnJheS48c3RyaW5nPn0gRml2ZSBlbGVtZW50IEFycmF5LCBjb250YWluaW5nIHRoZSBwcmVmaXggb2ZcbiAqICAgICB0ZXh0MSwgdGhlIHN1ZmZpeCBvZiB0ZXh0MSwgdGhlIHByZWZpeCBvZiB0ZXh0MiwgdGhlIHN1ZmZpeCBvZlxuICogICAgIHRleHQyIGFuZCB0aGUgY29tbW9uIG1pZGRsZS4gIE9yIG51bGwgaWYgdGhlcmUgd2FzIG5vIG1hdGNoLlxuICovXG5mdW5jdGlvbiBkaWZmX2hhbGZNYXRjaF8odGV4dDEsIHRleHQyKSB7XG4gIHZhciBsb25ndGV4dCA9IHRleHQxLmxlbmd0aCA+IHRleHQyLmxlbmd0aCA/IHRleHQxIDogdGV4dDI7XG4gIHZhciBzaG9ydHRleHQgPSB0ZXh0MS5sZW5ndGggPiB0ZXh0Mi5sZW5ndGggPyB0ZXh0MiA6IHRleHQxO1xuICBpZiAobG9uZ3RleHQubGVuZ3RoIDwgNCB8fCBzaG9ydHRleHQubGVuZ3RoICogMiA8IGxvbmd0ZXh0Lmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsOyAgLy8gUG9pbnRsZXNzLlxuICB9XG5cbiAgLyoqXG4gICAqIERvZXMgYSBzdWJzdHJpbmcgb2Ygc2hvcnR0ZXh0IGV4aXN0IHdpdGhpbiBsb25ndGV4dCBzdWNoIHRoYXQgdGhlIHN1YnN0cmluZ1xuICAgKiBpcyBhdCBsZWFzdCBoYWxmIHRoZSBsZW5ndGggb2YgbG9uZ3RleHQ/XG4gICAqIENsb3N1cmUsIGJ1dCBkb2VzIG5vdCByZWZlcmVuY2UgYW55IGV4dGVybmFsIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvbmd0ZXh0IExvbmdlciBzdHJpbmcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzaG9ydHRleHQgU2hvcnRlciBzdHJpbmcuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpIFN0YXJ0IGluZGV4IG9mIHF1YXJ0ZXIgbGVuZ3RoIHN1YnN0cmluZyB3aXRoaW4gbG9uZ3RleHQuXG4gICAqIEByZXR1cm4ge0FycmF5LjxzdHJpbmc+fSBGaXZlIGVsZW1lbnQgQXJyYXksIGNvbnRhaW5pbmcgdGhlIHByZWZpeCBvZlxuICAgKiAgICAgbG9uZ3RleHQsIHRoZSBzdWZmaXggb2YgbG9uZ3RleHQsIHRoZSBwcmVmaXggb2Ygc2hvcnR0ZXh0LCB0aGUgc3VmZml4XG4gICAqICAgICBvZiBzaG9ydHRleHQgYW5kIHRoZSBjb21tb24gbWlkZGxlLiAgT3IgbnVsbCBpZiB0aGVyZSB3YXMgbm8gbWF0Y2guXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBkaWZmX2hhbGZNYXRjaElfKGxvbmd0ZXh0LCBzaG9ydHRleHQsIGkpIHtcbiAgICAvLyBTdGFydCB3aXRoIGEgMS80IGxlbmd0aCBzdWJzdHJpbmcgYXQgcG9zaXRpb24gaSBhcyBhIHNlZWQuXG4gICAgdmFyIHNlZWQgPSBsb25ndGV4dC5zdWJzdHJpbmcoaSwgaSArIE1hdGguZmxvb3IobG9uZ3RleHQubGVuZ3RoIC8gNCkpO1xuICAgIHZhciBqID0gLTE7XG4gICAgdmFyIGJlc3RfY29tbW9uID0gJyc7XG4gICAgdmFyIGJlc3RfbG9uZ3RleHRfYSwgYmVzdF9sb25ndGV4dF9iLCBiZXN0X3Nob3J0dGV4dF9hLCBiZXN0X3Nob3J0dGV4dF9iO1xuICAgIHdoaWxlICgoaiA9IHNob3J0dGV4dC5pbmRleE9mKHNlZWQsIGogKyAxKSkgIT09IC0xKSB7XG4gICAgICB2YXIgcHJlZml4TGVuZ3RoID0gZGlmZl9jb21tb25QcmVmaXgoXG4gICAgICAgIGxvbmd0ZXh0LnN1YnN0cmluZyhpKSwgc2hvcnR0ZXh0LnN1YnN0cmluZyhqKSk7XG4gICAgICB2YXIgc3VmZml4TGVuZ3RoID0gZGlmZl9jb21tb25TdWZmaXgoXG4gICAgICAgIGxvbmd0ZXh0LnN1YnN0cmluZygwLCBpKSwgc2hvcnR0ZXh0LnN1YnN0cmluZygwLCBqKSk7XG4gICAgICBpZiAoYmVzdF9jb21tb24ubGVuZ3RoIDwgc3VmZml4TGVuZ3RoICsgcHJlZml4TGVuZ3RoKSB7XG4gICAgICAgIGJlc3RfY29tbW9uID0gc2hvcnR0ZXh0LnN1YnN0cmluZyhcbiAgICAgICAgICBqIC0gc3VmZml4TGVuZ3RoLCBqKSArIHNob3J0dGV4dC5zdWJzdHJpbmcoaiwgaiArIHByZWZpeExlbmd0aCk7XG4gICAgICAgIGJlc3RfbG9uZ3RleHRfYSA9IGxvbmd0ZXh0LnN1YnN0cmluZygwLCBpIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgICAgYmVzdF9sb25ndGV4dF9iID0gbG9uZ3RleHQuc3Vic3RyaW5nKGkgKyBwcmVmaXhMZW5ndGgpO1xuICAgICAgICBiZXN0X3Nob3J0dGV4dF9hID0gc2hvcnR0ZXh0LnN1YnN0cmluZygwLCBqIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgICAgYmVzdF9zaG9ydHRleHRfYiA9IHNob3J0dGV4dC5zdWJzdHJpbmcoaiArIHByZWZpeExlbmd0aCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChiZXN0X2NvbW1vbi5sZW5ndGggKiAyID49IGxvbmd0ZXh0Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgYmVzdF9sb25ndGV4dF9hLCBiZXN0X2xvbmd0ZXh0X2IsXG4gICAgICAgIGJlc3Rfc2hvcnR0ZXh0X2EsIGJlc3Rfc2hvcnR0ZXh0X2IsIGJlc3RfY29tbW9uXG4gICAgICBdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2Vjb25kIHF1YXJ0ZXIgaXMgdGhlIHNlZWQgZm9yIGEgaGFsZi1tYXRjaC5cbiAgdmFyIGhtMSA9IGRpZmZfaGFsZk1hdGNoSV8obG9uZ3RleHQsIHNob3J0dGV4dCwgTWF0aC5jZWlsKGxvbmd0ZXh0Lmxlbmd0aCAvIDQpKTtcbiAgLy8gQ2hlY2sgYWdhaW4gYmFzZWQgb24gdGhlIHRoaXJkIHF1YXJ0ZXIuXG4gIHZhciBobTIgPSBkaWZmX2hhbGZNYXRjaElfKGxvbmd0ZXh0LCBzaG9ydHRleHQsIE1hdGguY2VpbChsb25ndGV4dC5sZW5ndGggLyAyKSk7XG4gIHZhciBobTtcbiAgaWYgKCFobTEgJiYgIWhtMikge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2UgaWYgKCFobTIpIHtcbiAgICBobSA9IGhtMTtcbiAgfSBlbHNlIGlmICghaG0xKSB7XG4gICAgaG0gPSBobTI7XG4gIH0gZWxzZSB7XG4gICAgLy8gQm90aCBtYXRjaGVkLiAgU2VsZWN0IHRoZSBsb25nZXN0LlxuICAgIGhtID0gaG0xWzRdLmxlbmd0aCA+IGhtMls0XS5sZW5ndGggPyBobTEgOiBobTI7XG4gIH1cblxuICAvLyBBIGhhbGYtbWF0Y2ggd2FzIGZvdW5kLCBzb3J0IG91dCB0aGUgcmV0dXJuIGRhdGEuXG4gIHZhciB0ZXh0MV9hLCB0ZXh0MV9iLCB0ZXh0Ml9hLCB0ZXh0Ml9iO1xuICBpZiAodGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoKSB7XG4gICAgdGV4dDFfYSA9IGhtWzBdO1xuICAgIHRleHQxX2IgPSBobVsxXTtcbiAgICB0ZXh0Ml9hID0gaG1bMl07XG4gICAgdGV4dDJfYiA9IGhtWzNdO1xuICB9IGVsc2Uge1xuICAgIHRleHQyX2EgPSBobVswXTtcbiAgICB0ZXh0Ml9iID0gaG1bMV07XG4gICAgdGV4dDFfYSA9IGhtWzJdO1xuICAgIHRleHQxX2IgPSBobVszXTtcbiAgfVxuICB2YXIgbWlkX2NvbW1vbiA9IGhtWzRdO1xuICByZXR1cm4gW3RleHQxX2EsIHRleHQxX2IsIHRleHQyX2EsIHRleHQyX2IsIG1pZF9jb21tb25dO1xufTtcblxuXG4vKipcbiAqIFJlb3JkZXIgYW5kIG1lcmdlIGxpa2UgZWRpdCBzZWN0aW9ucy4gIE1lcmdlIGVxdWFsaXRpZXMuXG4gKiBBbnkgZWRpdCBzZWN0aW9uIGNhbiBtb3ZlIGFzIGxvbmcgYXMgaXQgZG9lc24ndCBjcm9zcyBhbiBlcXVhbGl0eS5cbiAqIEBwYXJhbSB7QXJyYXl9IGRpZmZzIEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICogQHBhcmFtIHtib29sZWFufSBmaXhfdW5pY29kZSBXaGV0aGVyIHRvIG5vcm1hbGl6ZSB0byBhIHVuaWNvZGUtY29ycmVjdCBkaWZmXG4gKi9cbmZ1bmN0aW9uIGRpZmZfY2xlYW51cE1lcmdlKGRpZmZzLCBmaXhfdW5pY29kZSkge1xuICBkaWZmcy5wdXNoKFtESUZGX0VRVUFMLCAnJ10pOyAgLy8gQWRkIGEgZHVtbXkgZW50cnkgYXQgdGhlIGVuZC5cbiAgdmFyIHBvaW50ZXIgPSAwO1xuICB2YXIgY291bnRfZGVsZXRlID0gMDtcbiAgdmFyIGNvdW50X2luc2VydCA9IDA7XG4gIHZhciB0ZXh0X2RlbGV0ZSA9ICcnO1xuICB2YXIgdGV4dF9pbnNlcnQgPSAnJztcbiAgdmFyIGNvbW1vbmxlbmd0aDtcbiAgd2hpbGUgKHBvaW50ZXIgPCBkaWZmcy5sZW5ndGgpIHtcbiAgICBpZiAocG9pbnRlciA8IGRpZmZzLmxlbmd0aCAtIDEgJiYgIWRpZmZzW3BvaW50ZXJdWzFdKSB7XG4gICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciwgMSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgc3dpdGNoIChkaWZmc1twb2ludGVyXVswXSkge1xuICAgICAgY2FzZSBESUZGX0lOU0VSVDpcblxuICAgICAgICBjb3VudF9pbnNlcnQrKztcbiAgICAgICAgdGV4dF9pbnNlcnQgKz0gZGlmZnNbcG9pbnRlcl1bMV07XG4gICAgICAgIHBvaW50ZXIrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfREVMRVRFOlxuICAgICAgICBjb3VudF9kZWxldGUrKztcbiAgICAgICAgdGV4dF9kZWxldGUgKz0gZGlmZnNbcG9pbnRlcl1bMV07XG4gICAgICAgIHBvaW50ZXIrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfRVFVQUw6XG4gICAgICAgIHZhciBwcmV2aW91c19lcXVhbGl0eSA9IHBvaW50ZXIgLSBjb3VudF9pbnNlcnQgLSBjb3VudF9kZWxldGUgLSAxO1xuICAgICAgICBpZiAoZml4X3VuaWNvZGUpIHtcbiAgICAgICAgICAvLyBwcmV2ZW50IHNwbGl0dGluZyBvZiB1bmljb2RlIHN1cnJvZ2F0ZSBwYWlycy4gIHdoZW4gZml4X3VuaWNvZGUgaXMgdHJ1ZSxcbiAgICAgICAgICAvLyB3ZSBhc3N1bWUgdGhhdCB0aGUgb2xkIGFuZCBuZXcgdGV4dCBpbiB0aGUgZGlmZiBhcmUgY29tcGxldGUgYW5kIGNvcnJlY3RcbiAgICAgICAgICAvLyB1bmljb2RlLWVuY29kZWQgSlMgc3RyaW5ncywgYnV0IHRoZSB0dXBsZSBib3VuZGFyaWVzIG1heSBmYWxsIGJldHdlZW5cbiAgICAgICAgICAvLyBzdXJyb2dhdGUgcGFpcnMuICB3ZSBmaXggdGhpcyBieSBzaGF2aW5nIG9mZiBzdHJheSBzdXJyb2dhdGVzIGZyb20gdGhlIGVuZFxuICAgICAgICAgIC8vIG9mIHRoZSBwcmV2aW91cyBlcXVhbGl0eSBhbmQgdGhlIGJlZ2lubmluZyBvZiB0aGlzIGVxdWFsaXR5LiAgdGhpcyBtYXkgY3JlYXRlXG4gICAgICAgICAgLy8gZW1wdHkgZXF1YWxpdGllcyBvciBhIGNvbW1vbiBwcmVmaXggb3Igc3VmZml4LiAgZm9yIGV4YW1wbGUsIGlmIEFCIGFuZCBBQyBhcmVcbiAgICAgICAgICAvLyBlbW9qaXMsIGBbWzAsICdBJ10sIFstMSwgJ0JBJ10sIFswLCAnQyddXWAgd291bGQgdHVybiBpbnRvIGRlbGV0aW5nICdBQkFDJyBhbmRcbiAgICAgICAgICAvLyBpbnNlcnRpbmcgJ0FDJywgYW5kIHRoZW4gdGhlIGNvbW1vbiBzdWZmaXggJ0FDJyB3aWxsIGJlIGVsaW1pbmF0ZWQuICBpbiB0aGlzXG4gICAgICAgICAgLy8gcGFydGljdWxhciBjYXNlLCBib3RoIGVxdWFsaXRpZXMgZ28gYXdheSwgd2UgYWJzb3JiIGFueSBwcmV2aW91cyBpbmVxdWFsaXRpZXMsXG4gICAgICAgICAgLy8gYW5kIHdlIGtlZXAgc2Nhbm5pbmcgZm9yIHRoZSBuZXh0IGVxdWFsaXR5IGJlZm9yZSByZXdyaXRpbmcgdGhlIHR1cGxlcy5cbiAgICAgICAgICBpZiAocHJldmlvdXNfZXF1YWxpdHkgPj0gMCAmJiBlbmRzX3dpdGhfcGFpcl9zdGFydChkaWZmc1twcmV2aW91c19lcXVhbGl0eV1bMV0pKSB7XG4gICAgICAgICAgICB2YXIgc3RyYXkgPSBkaWZmc1twcmV2aW91c19lcXVhbGl0eV1bMV0uc2xpY2UoLTEpO1xuICAgICAgICAgICAgZGlmZnNbcHJldmlvdXNfZXF1YWxpdHldWzFdID0gZGlmZnNbcHJldmlvdXNfZXF1YWxpdHldWzFdLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICAgIHRleHRfZGVsZXRlID0gc3RyYXkgKyB0ZXh0X2RlbGV0ZTtcbiAgICAgICAgICAgIHRleHRfaW5zZXJ0ID0gc3RyYXkgKyB0ZXh0X2luc2VydDtcbiAgICAgICAgICAgIGlmICghZGlmZnNbcHJldmlvdXNfZXF1YWxpdHldWzFdKSB7XG4gICAgICAgICAgICAgIC8vIGVtcHRpZWQgb3V0IHByZXZpb3VzIGVxdWFsaXR5LCBzbyBkZWxldGUgaXQgYW5kIGluY2x1ZGUgcHJldmlvdXMgZGVsZXRlL2luc2VydFxuICAgICAgICAgICAgICBkaWZmcy5zcGxpY2UocHJldmlvdXNfZXF1YWxpdHksIDEpO1xuICAgICAgICAgICAgICBwb2ludGVyLS07XG4gICAgICAgICAgICAgIHZhciBrID0gcHJldmlvdXNfZXF1YWxpdHkgLSAxO1xuICAgICAgICAgICAgICBpZiAoZGlmZnNba10gJiYgZGlmZnNba11bMF0gPT09IERJRkZfSU5TRVJUKSB7XG4gICAgICAgICAgICAgICAgY291bnRfaW5zZXJ0Kys7XG4gICAgICAgICAgICAgICAgdGV4dF9pbnNlcnQgPSBkaWZmc1trXVsxXSArIHRleHRfaW5zZXJ0O1xuICAgICAgICAgICAgICAgIGstLTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoZGlmZnNba10gJiYgZGlmZnNba11bMF0gPT09IERJRkZfREVMRVRFKSB7XG4gICAgICAgICAgICAgICAgY291bnRfZGVsZXRlKys7XG4gICAgICAgICAgICAgICAgdGV4dF9kZWxldGUgPSBkaWZmc1trXVsxXSArIHRleHRfZGVsZXRlO1xuICAgICAgICAgICAgICAgIGstLTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwcmV2aW91c19lcXVhbGl0eSA9IGs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdGFydHNfd2l0aF9wYWlyX2VuZChkaWZmc1twb2ludGVyXVsxXSkpIHtcbiAgICAgICAgICAgIHZhciBzdHJheSA9IGRpZmZzW3BvaW50ZXJdWzFdLmNoYXJBdCgwKTtcbiAgICAgICAgICAgIGRpZmZzW3BvaW50ZXJdWzFdID0gZGlmZnNbcG9pbnRlcl1bMV0uc2xpY2UoMSk7XG4gICAgICAgICAgICB0ZXh0X2RlbGV0ZSArPSBzdHJheTtcbiAgICAgICAgICAgIHRleHRfaW5zZXJ0ICs9IHN0cmF5O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocG9pbnRlciA8IGRpZmZzLmxlbmd0aCAtIDEgJiYgIWRpZmZzW3BvaW50ZXJdWzFdKSB7XG4gICAgICAgICAgLy8gZm9yIGVtcHR5IGVxdWFsaXR5IG5vdCBhdCBlbmQsIHdhaXQgZm9yIG5leHQgZXF1YWxpdHlcbiAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciwgMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRleHRfZGVsZXRlLmxlbmd0aCA+IDAgfHwgdGV4dF9pbnNlcnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vIG5vdGUgdGhhdCBkaWZmX2NvbW1vblByZWZpeCBhbmQgZGlmZl9jb21tb25TdWZmaXggYXJlIHVuaWNvZGUtYXdhcmVcbiAgICAgICAgICBpZiAodGV4dF9kZWxldGUubGVuZ3RoID4gMCAmJiB0ZXh0X2luc2VydC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBGYWN0b3Igb3V0IGFueSBjb21tb24gcHJlZml4ZXMuXG4gICAgICAgICAgICBjb21tb25sZW5ndGggPSBkaWZmX2NvbW1vblByZWZpeCh0ZXh0X2luc2VydCwgdGV4dF9kZWxldGUpO1xuICAgICAgICAgICAgaWYgKGNvbW1vbmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICBpZiAocHJldmlvdXNfZXF1YWxpdHkgPj0gMCkge1xuICAgICAgICAgICAgICAgIGRpZmZzW3ByZXZpb3VzX2VxdWFsaXR5XVsxXSArPSB0ZXh0X2luc2VydC5zdWJzdHJpbmcoMCwgY29tbW9ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaWZmcy5zcGxpY2UoMCwgMCwgW0RJRkZfRVFVQUwsIHRleHRfaW5zZXJ0LnN1YnN0cmluZygwLCBjb21tb25sZW5ndGgpXSk7XG4gICAgICAgICAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRleHRfaW5zZXJ0ID0gdGV4dF9pbnNlcnQuc3Vic3RyaW5nKGNvbW1vbmxlbmd0aCk7XG4gICAgICAgICAgICAgIHRleHRfZGVsZXRlID0gdGV4dF9kZWxldGUuc3Vic3RyaW5nKGNvbW1vbmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGYWN0b3Igb3V0IGFueSBjb21tb24gc3VmZml4ZXMuXG4gICAgICAgICAgICBjb21tb25sZW5ndGggPSBkaWZmX2NvbW1vblN1ZmZpeCh0ZXh0X2luc2VydCwgdGV4dF9kZWxldGUpO1xuICAgICAgICAgICAgaWYgKGNvbW1vbmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICBkaWZmc1twb2ludGVyXVsxXSA9XG4gICAgICAgICAgICAgICAgdGV4dF9pbnNlcnQuc3Vic3RyaW5nKHRleHRfaW5zZXJ0Lmxlbmd0aCAtIGNvbW1vbmxlbmd0aCkgKyBkaWZmc1twb2ludGVyXVsxXTtcbiAgICAgICAgICAgICAgdGV4dF9pbnNlcnQgPSB0ZXh0X2luc2VydC5zdWJzdHJpbmcoMCwgdGV4dF9pbnNlcnQubGVuZ3RoIC0gY29tbW9ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgdGV4dF9kZWxldGUgPSB0ZXh0X2RlbGV0ZS5zdWJzdHJpbmcoMCwgdGV4dF9kZWxldGUubGVuZ3RoIC0gY29tbW9ubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gRGVsZXRlIHRoZSBvZmZlbmRpbmcgcmVjb3JkcyBhbmQgYWRkIHRoZSBtZXJnZWQgb25lcy5cbiAgICAgICAgICB2YXIgbiA9IGNvdW50X2luc2VydCArIGNvdW50X2RlbGV0ZTtcbiAgICAgICAgICBpZiAodGV4dF9kZWxldGUubGVuZ3RoID09PSAwICYmIHRleHRfaW5zZXJ0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIgLSBuLCBuKTtcbiAgICAgICAgICAgIHBvaW50ZXIgPSBwb2ludGVyIC0gbjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRleHRfZGVsZXRlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIgLSBuLCBuLCBbRElGRl9JTlNFUlQsIHRleHRfaW5zZXJ0XSk7XG4gICAgICAgICAgICBwb2ludGVyID0gcG9pbnRlciAtIG4gKyAxO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGV4dF9pbnNlcnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciAtIG4sIG4sIFtESUZGX0RFTEVURSwgdGV4dF9kZWxldGVdKTtcbiAgICAgICAgICAgIHBvaW50ZXIgPSBwb2ludGVyIC0gbiArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyIC0gbiwgbiwgW0RJRkZfREVMRVRFLCB0ZXh0X2RlbGV0ZV0sIFtESUZGX0lOU0VSVCwgdGV4dF9pbnNlcnRdKTtcbiAgICAgICAgICAgIHBvaW50ZXIgPSBwb2ludGVyIC0gbiArIDI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwb2ludGVyICE9PSAwICYmIGRpZmZzW3BvaW50ZXIgLSAxXVswXSA9PT0gRElGRl9FUVVBTCkge1xuICAgICAgICAgIC8vIE1lcmdlIHRoaXMgZXF1YWxpdHkgd2l0aCB0aGUgcHJldmlvdXMgb25lLlxuICAgICAgICAgIGRpZmZzW3BvaW50ZXIgLSAxXVsxXSArPSBkaWZmc1twb2ludGVyXVsxXTtcbiAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICB9XG4gICAgICAgIGNvdW50X2luc2VydCA9IDA7XG4gICAgICAgIGNvdW50X2RlbGV0ZSA9IDA7XG4gICAgICAgIHRleHRfZGVsZXRlID0gJyc7XG4gICAgICAgIHRleHRfaW5zZXJ0ID0gJyc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZiAoZGlmZnNbZGlmZnMubGVuZ3RoIC0gMV1bMV0gPT09ICcnKSB7XG4gICAgZGlmZnMucG9wKCk7ICAvLyBSZW1vdmUgdGhlIGR1bW15IGVudHJ5IGF0IHRoZSBlbmQuXG4gIH1cblxuICAvLyBTZWNvbmQgcGFzczogbG9vayBmb3Igc2luZ2xlIGVkaXRzIHN1cnJvdW5kZWQgb24gYm90aCBzaWRlcyBieSBlcXVhbGl0aWVzXG4gIC8vIHdoaWNoIGNhbiBiZSBzaGlmdGVkIHNpZGV3YXlzIHRvIGVsaW1pbmF0ZSBhbiBlcXVhbGl0eS5cbiAgLy8gZS5nOiBBPGlucz5CQTwvaW5zPkMgLT4gPGlucz5BQjwvaW5zPkFDXG4gIHZhciBjaGFuZ2VzID0gZmFsc2U7XG4gIHBvaW50ZXIgPSAxO1xuICAvLyBJbnRlbnRpb25hbGx5IGlnbm9yZSB0aGUgZmlyc3QgYW5kIGxhc3QgZWxlbWVudCAoZG9uJ3QgbmVlZCBjaGVja2luZykuXG4gIHdoaWxlIChwb2ludGVyIDwgZGlmZnMubGVuZ3RoIC0gMSkge1xuICAgIGlmIChkaWZmc1twb2ludGVyIC0gMV1bMF0gPT09IERJRkZfRVFVQUwgJiZcbiAgICAgIGRpZmZzW3BvaW50ZXIgKyAxXVswXSA9PT0gRElGRl9FUVVBTCkge1xuICAgICAgLy8gVGhpcyBpcyBhIHNpbmdsZSBlZGl0IHN1cnJvdW5kZWQgYnkgZXF1YWxpdGllcy5cbiAgICAgIGlmIChkaWZmc1twb2ludGVyXVsxXS5zdWJzdHJpbmcoZGlmZnNbcG9pbnRlcl1bMV0ubGVuZ3RoIC1cbiAgICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzFdLmxlbmd0aCkgPT09IGRpZmZzW3BvaW50ZXIgLSAxXVsxXSkge1xuICAgICAgICAvLyBTaGlmdCB0aGUgZWRpdCBvdmVyIHRoZSBwcmV2aW91cyBlcXVhbGl0eS5cbiAgICAgICAgZGlmZnNbcG9pbnRlcl1bMV0gPSBkaWZmc1twb2ludGVyIC0gMV1bMV0gK1xuICAgICAgICAgIGRpZmZzW3BvaW50ZXJdWzFdLnN1YnN0cmluZygwLCBkaWZmc1twb2ludGVyXVsxXS5sZW5ndGggLVxuICAgICAgICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzFdLmxlbmd0aCk7XG4gICAgICAgIGRpZmZzW3BvaW50ZXIgKyAxXVsxXSA9IGRpZmZzW3BvaW50ZXIgLSAxXVsxXSArIGRpZmZzW3BvaW50ZXIgKyAxXVsxXTtcbiAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIgLSAxLCAxKTtcbiAgICAgICAgY2hhbmdlcyA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGRpZmZzW3BvaW50ZXJdWzFdLnN1YnN0cmluZygwLCBkaWZmc1twb2ludGVyICsgMV1bMV0ubGVuZ3RoKSA9PVxuICAgICAgICBkaWZmc1twb2ludGVyICsgMV1bMV0pIHtcbiAgICAgICAgLy8gU2hpZnQgdGhlIGVkaXQgb3ZlciB0aGUgbmV4dCBlcXVhbGl0eS5cbiAgICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzFdICs9IGRpZmZzW3BvaW50ZXIgKyAxXVsxXTtcbiAgICAgICAgZGlmZnNbcG9pbnRlcl1bMV0gPVxuICAgICAgICAgIGRpZmZzW3BvaW50ZXJdWzFdLnN1YnN0cmluZyhkaWZmc1twb2ludGVyICsgMV1bMV0ubGVuZ3RoKSArXG4gICAgICAgICAgZGlmZnNbcG9pbnRlciArIDFdWzFdO1xuICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciArIDEsIDEpO1xuICAgICAgICBjaGFuZ2VzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcG9pbnRlcisrO1xuICB9XG4gIC8vIElmIHNoaWZ0cyB3ZXJlIG1hZGUsIHRoZSBkaWZmIG5lZWRzIHJlb3JkZXJpbmcgYW5kIGFub3RoZXIgc2hpZnQgc3dlZXAuXG4gIGlmIChjaGFuZ2VzKSB7XG4gICAgZGlmZl9jbGVhbnVwTWVyZ2UoZGlmZnMsIGZpeF91bmljb2RlKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gaXNfc3Vycm9nYXRlX3BhaXJfc3RhcnQoY2hhckNvZGUpIHtcbiAgcmV0dXJuIGNoYXJDb2RlID49IDB4RDgwMCAmJiBjaGFyQ29kZSA8PSAweERCRkY7XG59XG5cbmZ1bmN0aW9uIGlzX3N1cnJvZ2F0ZV9wYWlyX2VuZChjaGFyQ29kZSkge1xuICByZXR1cm4gY2hhckNvZGUgPj0gMHhEQzAwICYmIGNoYXJDb2RlIDw9IDB4REZGRjtcbn1cblxuZnVuY3Rpb24gc3RhcnRzX3dpdGhfcGFpcl9lbmQoc3RyKSB7XG4gIHJldHVybiBpc19zdXJyb2dhdGVfcGFpcl9lbmQoc3RyLmNoYXJDb2RlQXQoMCkpO1xufVxuXG5mdW5jdGlvbiBlbmRzX3dpdGhfcGFpcl9zdGFydChzdHIpIHtcbiAgcmV0dXJuIGlzX3N1cnJvZ2F0ZV9wYWlyX3N0YXJ0KHN0ci5jaGFyQ29kZUF0KHN0ci5sZW5ndGggLSAxKSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZV9lbXB0eV90dXBsZXModHVwbGVzKSB7XG4gIHZhciByZXQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0dXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodHVwbGVzW2ldWzFdLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldC5wdXNoKHR1cGxlc1tpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIG1ha2VfZWRpdF9zcGxpY2UoYmVmb3JlLCBvbGRNaWRkbGUsIG5ld01pZGRsZSwgYWZ0ZXIpIHtcbiAgaWYgKGVuZHNfd2l0aF9wYWlyX3N0YXJ0KGJlZm9yZSkgfHwgc3RhcnRzX3dpdGhfcGFpcl9lbmQoYWZ0ZXIpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHJlbW92ZV9lbXB0eV90dXBsZXMoW1xuICAgIFtESUZGX0VRVUFMLCBiZWZvcmVdLFxuICAgIFtESUZGX0RFTEVURSwgb2xkTWlkZGxlXSxcbiAgICBbRElGRl9JTlNFUlQsIG5ld01pZGRsZV0sXG4gICAgW0RJRkZfRVFVQUwsIGFmdGVyXVxuICBdKTtcbn1cblxuZnVuY3Rpb24gZmluZF9jdXJzb3JfZWRpdF9kaWZmKG9sZFRleHQsIG5ld1RleHQsIGN1cnNvcl9wb3MpIHtcbiAgLy8gbm90ZTogdGhpcyBydW5zIGFmdGVyIGVxdWFsaXR5IGNoZWNrIGhhcyBydWxlZCBvdXQgZXhhY3QgZXF1YWxpdHlcbiAgdmFyIG9sZFJhbmdlID0gdHlwZW9mIGN1cnNvcl9wb3MgPT09ICdudW1iZXInID9cbiAgICB7IGluZGV4OiBjdXJzb3JfcG9zLCBsZW5ndGg6IDAgfSA6IGN1cnNvcl9wb3Mub2xkUmFuZ2U7XG4gIHZhciBuZXdSYW5nZSA9IHR5cGVvZiBjdXJzb3JfcG9zID09PSAnbnVtYmVyJyA/XG4gICAgbnVsbCA6IGN1cnNvcl9wb3MubmV3UmFuZ2U7XG4gIC8vIHRha2UgaW50byBhY2NvdW50IHRoZSBvbGQgYW5kIG5ldyBzZWxlY3Rpb24gdG8gZ2VuZXJhdGUgdGhlIGJlc3QgZGlmZlxuICAvLyBwb3NzaWJsZSBmb3IgYSB0ZXh0IGVkaXQuICBmb3IgZXhhbXBsZSwgYSB0ZXh0IGNoYW5nZSBmcm9tIFwieHh4XCIgdG8gXCJ4eFwiXG4gIC8vIGNvdWxkIGJlIGEgZGVsZXRlIG9yIGZvcndhcmRzLWRlbGV0ZSBvZiBhbnkgb25lIG9mIHRoZSB4J3MsIG9yIHRoZVxuICAvLyByZXN1bHQgb2Ygc2VsZWN0aW5nIHR3byBvZiB0aGUgeCdzIGFuZCB0eXBpbmcgXCJ4XCIuXG4gIHZhciBvbGRMZW5ndGggPSBvbGRUZXh0Lmxlbmd0aDtcbiAgdmFyIG5ld0xlbmd0aCA9IG5ld1RleHQubGVuZ3RoO1xuICBpZiAob2xkUmFuZ2UubGVuZ3RoID09PSAwICYmIChuZXdSYW5nZSA9PT0gbnVsbCB8fCBuZXdSYW5nZS5sZW5ndGggPT09IDApKSB7XG4gICAgLy8gc2VlIGlmIHdlIGhhdmUgYW4gaW5zZXJ0IG9yIGRlbGV0ZSBiZWZvcmUgb3IgYWZ0ZXIgY3Vyc29yXG4gICAgdmFyIG9sZEN1cnNvciA9IG9sZFJhbmdlLmluZGV4O1xuICAgIHZhciBvbGRCZWZvcmUgPSBvbGRUZXh0LnNsaWNlKDAsIG9sZEN1cnNvcik7XG4gICAgdmFyIG9sZEFmdGVyID0gb2xkVGV4dC5zbGljZShvbGRDdXJzb3IpO1xuICAgIHZhciBtYXliZU5ld0N1cnNvciA9IG5ld1JhbmdlID8gbmV3UmFuZ2UuaW5kZXggOiBudWxsO1xuICAgIGVkaXRCZWZvcmU6IHtcbiAgICAgIC8vIGlzIHRoaXMgYW4gaW5zZXJ0IG9yIGRlbGV0ZSByaWdodCBiZWZvcmUgb2xkQ3Vyc29yP1xuICAgICAgdmFyIG5ld0N1cnNvciA9IG9sZEN1cnNvciArIG5ld0xlbmd0aCAtIG9sZExlbmd0aDtcbiAgICAgIGlmIChtYXliZU5ld0N1cnNvciAhPT0gbnVsbCAmJiBtYXliZU5ld0N1cnNvciAhPT0gbmV3Q3Vyc29yKSB7XG4gICAgICAgIGJyZWFrIGVkaXRCZWZvcmU7XG4gICAgICB9XG4gICAgICBpZiAobmV3Q3Vyc29yIDwgMCB8fCBuZXdDdXJzb3IgPiBuZXdMZW5ndGgpIHtcbiAgICAgICAgYnJlYWsgZWRpdEJlZm9yZTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdCZWZvcmUgPSBuZXdUZXh0LnNsaWNlKDAsIG5ld0N1cnNvcik7XG4gICAgICB2YXIgbmV3QWZ0ZXIgPSBuZXdUZXh0LnNsaWNlKG5ld0N1cnNvcik7XG4gICAgICBpZiAobmV3QWZ0ZXIgIT09IG9sZEFmdGVyKSB7XG4gICAgICAgIGJyZWFrIGVkaXRCZWZvcmU7XG4gICAgICB9XG4gICAgICB2YXIgcHJlZml4TGVuZ3RoID0gTWF0aC5taW4ob2xkQ3Vyc29yLCBuZXdDdXJzb3IpO1xuICAgICAgdmFyIG9sZFByZWZpeCA9IG9sZEJlZm9yZS5zbGljZSgwLCBwcmVmaXhMZW5ndGgpO1xuICAgICAgdmFyIG5ld1ByZWZpeCA9IG5ld0JlZm9yZS5zbGljZSgwLCBwcmVmaXhMZW5ndGgpO1xuICAgICAgaWYgKG9sZFByZWZpeCAhPT0gbmV3UHJlZml4KSB7XG4gICAgICAgIGJyZWFrIGVkaXRCZWZvcmU7XG4gICAgICB9XG4gICAgICB2YXIgb2xkTWlkZGxlID0gb2xkQmVmb3JlLnNsaWNlKHByZWZpeExlbmd0aCk7XG4gICAgICB2YXIgbmV3TWlkZGxlID0gbmV3QmVmb3JlLnNsaWNlKHByZWZpeExlbmd0aCk7XG4gICAgICByZXR1cm4gbWFrZV9lZGl0X3NwbGljZShvbGRQcmVmaXgsIG9sZE1pZGRsZSwgbmV3TWlkZGxlLCBvbGRBZnRlcik7XG4gICAgfVxuICAgIGVkaXRBZnRlcjoge1xuICAgICAgLy8gaXMgdGhpcyBhbiBpbnNlcnQgb3IgZGVsZXRlIHJpZ2h0IGFmdGVyIG9sZEN1cnNvcj9cbiAgICAgIGlmIChtYXliZU5ld0N1cnNvciAhPT0gbnVsbCAmJiBtYXliZU5ld0N1cnNvciAhPT0gb2xkQ3Vyc29yKSB7XG4gICAgICAgIGJyZWFrIGVkaXRBZnRlcjtcbiAgICAgIH1cbiAgICAgIHZhciBjdXJzb3IgPSBvbGRDdXJzb3I7XG4gICAgICB2YXIgbmV3QmVmb3JlID0gbmV3VGV4dC5zbGljZSgwLCBjdXJzb3IpO1xuICAgICAgdmFyIG5ld0FmdGVyID0gbmV3VGV4dC5zbGljZShjdXJzb3IpO1xuICAgICAgaWYgKG5ld0JlZm9yZSAhPT0gb2xkQmVmb3JlKSB7XG4gICAgICAgIGJyZWFrIGVkaXRBZnRlcjtcbiAgICAgIH1cbiAgICAgIHZhciBzdWZmaXhMZW5ndGggPSBNYXRoLm1pbihvbGRMZW5ndGggLSBjdXJzb3IsIG5ld0xlbmd0aCAtIGN1cnNvcik7XG4gICAgICB2YXIgb2xkU3VmZml4ID0gb2xkQWZ0ZXIuc2xpY2Uob2xkQWZ0ZXIubGVuZ3RoIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgIHZhciBuZXdTdWZmaXggPSBuZXdBZnRlci5zbGljZShuZXdBZnRlci5sZW5ndGggLSBzdWZmaXhMZW5ndGgpO1xuICAgICAgaWYgKG9sZFN1ZmZpeCAhPT0gbmV3U3VmZml4KSB7XG4gICAgICAgIGJyZWFrIGVkaXRBZnRlcjtcbiAgICAgIH1cbiAgICAgIHZhciBvbGRNaWRkbGUgPSBvbGRBZnRlci5zbGljZSgwLCBvbGRBZnRlci5sZW5ndGggLSBzdWZmaXhMZW5ndGgpO1xuICAgICAgdmFyIG5ld01pZGRsZSA9IG5ld0FmdGVyLnNsaWNlKDAsIG5ld0FmdGVyLmxlbmd0aCAtIHN1ZmZpeExlbmd0aCk7XG4gICAgICByZXR1cm4gbWFrZV9lZGl0X3NwbGljZShvbGRCZWZvcmUsIG9sZE1pZGRsZSwgbmV3TWlkZGxlLCBvbGRTdWZmaXgpO1xuICAgIH1cbiAgfVxuICBpZiAob2xkUmFuZ2UubGVuZ3RoID4gMCAmJiBuZXdSYW5nZSAmJiBuZXdSYW5nZS5sZW5ndGggPT09IDApIHtcbiAgICByZXBsYWNlUmFuZ2U6IHtcbiAgICAgIC8vIHNlZSBpZiBkaWZmIGNvdWxkIGJlIGEgc3BsaWNlIG9mIHRoZSBvbGQgc2VsZWN0aW9uIHJhbmdlXG4gICAgICB2YXIgb2xkUHJlZml4ID0gb2xkVGV4dC5zbGljZSgwLCBvbGRSYW5nZS5pbmRleCk7XG4gICAgICB2YXIgb2xkU3VmZml4ID0gb2xkVGV4dC5zbGljZShvbGRSYW5nZS5pbmRleCArIG9sZFJhbmdlLmxlbmd0aCk7XG4gICAgICB2YXIgcHJlZml4TGVuZ3RoID0gb2xkUHJlZml4Lmxlbmd0aDtcbiAgICAgIHZhciBzdWZmaXhMZW5ndGggPSBvbGRTdWZmaXgubGVuZ3RoO1xuICAgICAgaWYgKG5ld0xlbmd0aCA8IHByZWZpeExlbmd0aCArIHN1ZmZpeExlbmd0aCkge1xuICAgICAgICBicmVhayByZXBsYWNlUmFuZ2U7XG4gICAgICB9XG4gICAgICB2YXIgbmV3UHJlZml4ID0gbmV3VGV4dC5zbGljZSgwLCBwcmVmaXhMZW5ndGgpO1xuICAgICAgdmFyIG5ld1N1ZmZpeCA9IG5ld1RleHQuc2xpY2UobmV3TGVuZ3RoIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgIGlmIChvbGRQcmVmaXggIT09IG5ld1ByZWZpeCB8fCBvbGRTdWZmaXggIT09IG5ld1N1ZmZpeCkge1xuICAgICAgICBicmVhayByZXBsYWNlUmFuZ2U7XG4gICAgICB9XG4gICAgICB2YXIgb2xkTWlkZGxlID0gb2xkVGV4dC5zbGljZShwcmVmaXhMZW5ndGgsIG9sZExlbmd0aCAtIHN1ZmZpeExlbmd0aCk7XG4gICAgICB2YXIgbmV3TWlkZGxlID0gbmV3VGV4dC5zbGljZShwcmVmaXhMZW5ndGgsIG5ld0xlbmd0aCAtIHN1ZmZpeExlbmd0aCk7XG4gICAgICByZXR1cm4gbWFrZV9lZGl0X3NwbGljZShvbGRQcmVmaXgsIG9sZE1pZGRsZSwgbmV3TWlkZGxlLCBvbGRTdWZmaXgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBkaWZmKHRleHQxLCB0ZXh0MiwgY3Vyc29yX3Bvcykge1xuICAvLyBvbmx5IHBhc3MgZml4X3VuaWNvZGU9dHJ1ZSBhdCB0aGUgdG9wIGxldmVsLCBub3Qgd2hlbiBkaWZmX21haW4gaXNcbiAgLy8gcmVjdXJzaXZlbHkgaW52b2tlZFxuICByZXR1cm4gZGlmZl9tYWluKHRleHQxLCB0ZXh0MiwgY3Vyc29yX3BvcywgdHJ1ZSk7XG59XG5cbmRpZmYuSU5TRVJUID0gRElGRl9JTlNFUlQ7XG5kaWZmLkRFTEVURSA9IERJRkZfREVMRVRFO1xuZGlmZi5FUVVBTCA9IERJRkZfRVFVQUw7XG5cbm1vZHVsZS5leHBvcnRzID0gZGlmZjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBUeXBlcyAtIFR5cGUgZGVmaW5paW9ucy5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBEaWZmIGZyb20gXCIuL2RpZmZcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBHZW9tZXRyeVV0aWwgZnJvbSBcIi4vZ2VvbWV0cnktdXRpbFwiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBUYXNrVXRpbCBmcm9tIFwiLi90YXNrLXV0aWxcIjtcblxuZXhwb3J0IHR5cGUgRm9ybWF0dGluZ0NvbnRleHRUeXBlID1cbiAgfCBcIkJsb2NrXCJcbiAgfCBcIlJlcGV0aXRpdmVFbGVtZW50c093bmVyXCJcbiAgfCBcIlRhYmxlXCI7XG5cbmV4cG9ydCB0eXBlIEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUgPVxuICB8IFwiQWZ0ZXJJZkNvbnRpbnVlXCJcbiAgfCBcIkVudGlyZVRhYmxlXCJcbiAgfCBcIlJlcGV0aXRpdmVFbGVtZW50c093bmVyXCJcbiAgfCBcIlRhYmxlUm93XCI7XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ3NzQ2FzY2FkZSB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudFN0eWxlIHt9XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ3NzU3R5bGVyIHtcbiAgZXhwb3J0IGludGVyZmFjZSBBYnN0cmFjdFN0eWxlciB7XG4gICAgZ2V0U3R5bGUoZWxlbWVudDogRWxlbWVudCwgZGVlcDogYm9vbGVhbik6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICAgIHByb2Nlc3NDb250ZW50KGVsZW1lbnQ6IEVsZW1lbnQsIHN0eWxlczogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0pO1xuICB9XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgTGF5b3V0IHtcbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgYSBjb25zdHJhaW50IG9uIGxheW91dFxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBMYXlvdXRDb25zdHJhaW50IHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGlmIHRoaXMgY29uc3RyYWludCBhbGxvd3MgdGhlIG5vZGUgY29udGV4dCB0byBiZSBsYWlkIG91dCBhdCB0aGVcbiAgICAgKiBjdXJyZW50IHBvc2l0aW9uLlxuICAgICAqL1xuICAgIGFsbG93TGF5b3V0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gIH1cbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgY29uc3RyYWludHMgb24gbGF5aW5nIG91dCBmcmFnbWVudHNcbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50IHtcbiAgICBmbGFnbWVudExheW91dENvbnN0cmFpbnRUeXBlOiBGcmFnbWVudExheW91dENvbnN0cmFpbnRUeXBlO1xuICAgIGFsbG93TGF5b3V0KFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgb3ZlcmZsb3duTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgY29sdW1uOiBDb2x1bW4sXG4gICAgKTogYm9vbGVhbjtcbiAgICBuZXh0Q2FuZGlkYXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gICAgcG9zdExheW91dChcbiAgICAgIGFsbG93ZWQ6IGJvb2xlYW4sXG4gICAgICBwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBjb2x1bW46IENvbHVtbixcbiAgICApO1xuICAgIGZpbmlzaEJyZWFrKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgY29sdW1uOiBDb2x1bW4sXG4gICAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgZXF1YWxzVG8oY29uc3RyYWludDogRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50KTogYm9vbGVhbjtcbiAgICBnZXRQcmlvcml0eU9mRmluaXNoQnJlYWsoKTogbnVtYmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIFBvdGVudGlhbCBicmVha2luZyBwb3NpdGlvbi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgQnJlYWtQb3NpdGlvbiB7XG4gICAgLyoqXG4gICAgICogQHJldHVybiBicmVhayBwb3NpdGlvbiwgaWYgZm91bmRcbiAgICAgKi9cbiAgICBmaW5kQWNjZXB0YWJsZUJyZWFrKGNvbHVtbjogQ29sdW1uLCBwZW5hbHR5OiBudW1iZXIpOiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHBlbmFsdHkgZm9yIHRoaXMgYnJlYWsgcG9zaXRpb25cbiAgICAgKi9cbiAgICBnZXRNaW5CcmVha1BlbmFsdHkoKTogbnVtYmVyO1xuICAgIGNhbGN1bGF0ZU9mZnNldChjb2x1bW46IENvbHVtbik6IHsgY3VycmVudDogbnVtYmVyOyBtaW5pbXVtOiBudW1iZXIgfTtcbiAgICBicmVha1Bvc2l0aW9uQ2hvc2VuKGNvbHVtbjogQ29sdW1uKTogdm9pZDtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQWJzdHJhY3RCcmVha1Bvc2l0aW9uIGV4dGVuZHMgQnJlYWtQb3NpdGlvbiB7XG4gICAgZ2V0Tm9kZUNvbnRleHQoKTogVnRyZWUuTm9kZUNvbnRleHQ7XG4gIH1cblxuICBleHBvcnQgdHlwZSBCcmVha1Bvc2l0aW9uQW5kTm9kZUNvbnRleHQgPSB7XG4gICAgYnJlYWtQb3NpdGlvbjogQnJlYWtQb3NpdGlvbjtcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBvdGVudGlhbCBicmVha2luZyBwb3NpdGlvbiBpbnNpZGUgQ1NTIGJveCAoYmV0d2VlbiBsaW5lcykuXG4gICAqIEBwYXJhbSBjaGVja1BvaW50cyBhcnJheSBvZiBicmVha2luZyBwb2ludHMgZm9yXG4gICAqICAgIGJyZWFrYWJsZSBibG9ja1xuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBCb3hCcmVha1Bvc2l0aW9uIGV4dGVuZHMgQWJzdHJhY3RCcmVha1Bvc2l0aW9uIHtcbiAgICBicmVha05vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICByZWFkb25seSBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXTtcbiAgICByZWFkb25seSBwZW5hbHR5OiBudW1iZXI7XG4gIH1cblxuICAvKipcbiAgICogUG90ZW50aWFsIGVkZ2UgYnJlYWtpbmcgcG9zaXRpb24uXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEVkZ2VCcmVha1Bvc2l0aW9uIGV4dGVuZHMgQWJzdHJhY3RCcmVha1Bvc2l0aW9uIHtcbiAgICBvdmVyZmxvd0lmUmVwZXRpdGl2ZUVsZW1lbnRzRHJvcHBlZDogYm9vbGVhbjtcbiAgICByZWFkb25seSBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgcmVhZG9ubHkgYnJlYWtPbkVkZ2U6IHN0cmluZyB8IG51bGw7XG4gICAgb3ZlcmZsb3dzOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IGNvbXB1dGVkQmxvY2tTaXplOiBudW1iZXI7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIENvbHVtbiBleHRlbmRzIFZ0cmVlLkNvbnRhaW5lciB7XG4gICAgbGFzdDogTm9kZTtcbiAgICB2aWV3RG9jdW1lbnQ6IERvY3VtZW50O1xuICAgIGZsb3dSb290Rm9ybWF0dGluZ0NvbnRleHQ6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0O1xuICAgIGlzRmxvYXQ6IGJvb2xlYW47XG4gICAgaXNGb290bm90ZTogYm9vbGVhbjtcbiAgICBzdGFydEVkZ2U6IG51bWJlcjtcbiAgICBlbmRFZGdlOiBudW1iZXI7XG4gICAgYmVmb3JlRWRnZTogbnVtYmVyO1xuICAgIGFmdGVyRWRnZTogbnVtYmVyO1xuICAgIGZvb3Rub3RlRWRnZTogbnVtYmVyO1xuICAgIGJveDogR2VvbWV0cnlVdGlsLlJlY3Q7XG4gICAgY2h1bmtQb3NpdGlvbnM6IFZ0cmVlLkNodW5rUG9zaXRpb25bXTtcbiAgICBiYW5kczogR2VvbWV0cnlVdGlsLkJhbmRbXTtcbiAgICBvdmVyZmxvd246IGJvb2xlYW47XG4gICAgYnJlYWtQb3NpdGlvbnM6IEJyZWFrUG9zaXRpb25bXTtcbiAgICBwYWdlQnJlYWtUeXBlOiBzdHJpbmcgfCBudWxsO1xuICAgIGZvcmNlTm9uZml0dGluZzogYm9vbGVhbjtcbiAgICBsZWZ0RmxvYXRFZGdlOiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogYm90dG9tIG9mIHRoZSBib3R0b21tb3N0IGxlZnQgZmxvYXRcbiAgICAgKi9cbiAgICByaWdodEZsb2F0RWRnZTogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIGJvdHRvbSBvZiB0aGUgYm90dG9tbW9zdCByaWdodCBmbG9hdFxuICAgICAqL1xuICAgIGJvdHRvbW1vc3RGbG9hdFRvcDogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIFRvcCBvZiB0aGUgYm90dG9tbW9zdCBmbG9hdFxuICAgICAqL1xuICAgIHN0b3BBdE92ZXJmbG93OiBib29sZWFuO1xuICAgIGxhc3RBZnRlclBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24gfCBudWxsO1xuICAgIGZyYWdtZW50TGF5b3V0Q29uc3RyYWludHM6IEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFtdO1xuICAgIHBzZXVkb1BhcmVudDogQ29sdW1uO1xuICAgIG5vZGVDb250ZXh0T3ZlcmZsb3dpbmdEdWVUb1JlcGV0aXRpdmVFbGVtZW50czogVnRyZWUuTm9kZUNvbnRleHQgfCBudWxsO1xuICAgIGJsb2NrRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzOiBudW1iZXI7XG4gICAgY29tcHV0ZWRCbG9ja1NpemU6IG51bWJlcjtcblxuICAgIGxheW91dENvbnRleHQ6IFZ0cmVlLkxheW91dENvbnRleHQ7XG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQ7XG4gICAgcmVhZG9ubHkgbGF5b3V0Q29uc3RyYWludDogTGF5b3V0Q29uc3RyYWludDtcbiAgICByZWFkb25seSBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQ7XG5cbiAgICBnZXRUb3BFZGdlKCk6IG51bWJlcjtcbiAgICBnZXRCb3R0b21FZGdlKCk6IG51bWJlcjtcbiAgICBnZXRMZWZ0RWRnZSgpOiBudW1iZXI7XG4gICAgZ2V0UmlnaHRFZGdlKCk6IG51bWJlcjtcbiAgICBpc0Zsb2F0Tm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbjtcbiAgICBzdG9wQnlPdmVyZmxvdyhub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuO1xuICAgIGlzT3ZlcmZsb3duKGVkZ2U6IG51bWJlcik6IGJvb2xlYW47XG4gICAgZ2V0RXhjbHVzaW9ucygpOiBHZW9tZXRyeVV0aWwuU2hhcGVbXTtcbiAgICBvcGVuQWxsVmlld3MocG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbik6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICBjYWxjdWxhdGVPZmZzZXRJbk5vZGVGb3JOb2RlQ29udGV4dChwb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uKTogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb3VudCBmaXJzdC1YWFggbmVzdGluZyBpZGVudGlmaWVyXG4gICAgICovXG4gICAgbWF5YmVQZWVsT2ZmKFxuICAgICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgY291bnQ6IG51bWJlcixcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgLyoqXG4gICAgICogQnVpbGRzIHRoZSB2aWV3IHVudGlsIGEgQ1NTIGJveCBlZGdlIGlzIHJlYWNoZWQuXG4gICAgICogQHBhcmFtIHBvc2l0aW9uIHN0YXJ0IHNvdXJjZSBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0gY2hlY2tQb2ludHMgYXJyYXkgdG8gYXBwZW5kIHBvc3NpYmxlIGJyZWFraW5nIHBvaW50cy5cbiAgICAgKiBAcmV0dXJuIGhvbGRpbmcgYm94IGVkZ2UgcG9zaXRpb24gcmVhY2hlZCBvciBudWxsIGlmIHRoZSBzb3VyY2UgaXMgZXhoYXVzdGVkLlxuICAgICAqL1xuICAgIGJ1aWxkVmlld1RvTmV4dEJsb2NrRWRnZShcbiAgICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICBuZXh0SW5UcmVlKFxuICAgICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgYXRVbmZvcmNlZEJyZWFrPzogYm9vbGVhbixcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgLyoqXG4gICAgICogQnVpbGRzIHRoZSB2aWV3IGZvciBhIHNpbmdsZSB1bmJyZWFrYWJsZSBlbGVtZW50LlxuICAgICAqIEBwYXJhbSBwb3NpdGlvbiBzdGFydCBzb3VyY2UgcG9zaXRpb24uXG4gICAgICogQHJldHVybiBob2xkaW5nIGJveCBlZGdlIHBvc2l0aW9uIHJlYWNoZWQgb3IgbnVsbCBpZiB0aGUgc291cmNlIGlzIGV4aGF1c3RlZC5cbiAgICAgKi9cbiAgICBidWlsZERlZXBFbGVtZW50VmlldyhcbiAgICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBzaW5nbGUgZmxvYXRpbmcgZWxlbWVudCAoZm9yIGV4Y2x1c2lvbiBhcmVhcykuXG4gICAgICogQHBhcmFtIHJlZiBjb250YWluZXIncyBjaGlsZCB0byBpbnNlcnQgZmxvYXQgYmVmb3JlIChjYW4gYmUgbnVsbCkuXG4gICAgICogQHBhcmFtIHNpZGUgZmxvYXQgc2lkZSAoXCJsZWZ0XCIgb3IgXCJyaWdodFwiKS5cbiAgICAgKiBAcGFyYW0gd2lkdGggZmxvYXQgaW5saW5lIGRpbWVuc2lvbi5cbiAgICAgKiBAcGFyYW0gaGVpZ2h0IGZsb2F0IGJveCBwcm9ncmVzc2lvbiBkaW1lbnNpb24uXG4gICAgICogQHJldHVybiBuZXdseSBjcmVhdGVkIGZsb2F0IGVsZW1lbnQuXG4gICAgICovXG4gICAgY3JlYXRlRmxvYXQoXG4gICAgICByZWY6IE5vZGUsXG4gICAgICBzaWRlOiBzdHJpbmcsXG4gICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgKTogRWxlbWVudDtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIHRoZSBleGNsdXNpb24gZmxvYXRzLlxuICAgICAqL1xuICAgIGtpbGxGbG9hdHMoKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgZXhjbHVzaW9uIGZsb2F0cyBmb3IgYSBjb2x1bW4uXG4gICAgICovXG4gICAgY3JlYXRlRmxvYXRzKCk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG5vZGVDb250ZXh0IHBvc2l0aW9uIGFmdGVyIHRoZSBibG9ja1xuICAgICAqIEBwYXJhbSBjaGVja1BvaW50cyBhcnJheSBvZiBwb3NzaWJsZSBicmVha2luZyBwb2ludHMuXG4gICAgICogQHBhcmFtIGluZGV4IGluZGV4IG9mIHRoZSBicmVha2luZyBwb2ludFxuICAgICAqIEBwYXJhbSBib3hPZmZzZXQgYm94IG9mZnNldFxuICAgICAqIEByZXR1cm4gZWRnZSBwb3NpdGlvblxuICAgICAqL1xuICAgIGNhbGN1bGF0ZUVkZ2UoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICAgIGluZGV4OiBudW1iZXIsXG4gICAgICBib3hPZmZzZXQ6IG51bWJlcixcbiAgICApOiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogUGFyc2UgQ1NTIGNvbXB1dGVkIGxlbmd0aCAoaW4gcGl4ZWxzKVxuICAgICAqIEBwYXJhbSB2YWwgQ1NTIGxlbmd0aCBpbiBcInB4XCIgdW5pdHMgb3IgYSBudW1iZXIuXG4gICAgICogQHJldHVybiB2YWx1ZSBpbiBwaXhlbHMgb3IgMCBpZiBub3QgcGFyc2FibGVcbiAgICAgKi9cbiAgICBwYXJzZUNvbXB1dGVkTGVuZ3RoKHZhbDogc3RyaW5nIHwgbnVtYmVyKTogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIFJlYWRzIGVsZW1lbnQncyBjb21wdXRlZCBDU1MgbWFyZ2luLlxuICAgICAqL1xuICAgIGdldENvbXB1dGVkTWFyZ2luKGVsZW1lbnQ6IEVsZW1lbnQpOiBHZW9tZXRyeVV0aWwuSW5zZXRzO1xuICAgIC8qKlxuICAgICAqIFJlYWRzIGVsZW1lbnQncyBjb21wdXRlZCBwYWRkaW5nICsgYm9yZGVycy5cbiAgICAgKi9cbiAgICBnZXRDb21wdXRlZFBhZGRpbmdCb3JkZXIoZWxlbWVudDogRWxlbWVudCk6IEdlb21ldHJ5VXRpbC5JbnNldHM7XG4gICAgLyoqXG4gICAgICogUmVhZHMgZWxlbWVudCdzIGNvbXB1dGVkIENTUyBpbnNldHMobWFyZ2lucyArIGJvcmRlciArIHBhZGRpbmcgb3IgbWFyZ2lucyA6XG4gICAgICogZGVwZW5kcyBvbiBib3gtc2l6aW5nKVxuICAgICAqL1xuICAgIGdldENvbXB1dGVkSW5zZXRzKGVsZW1lbnQ6IEVsZW1lbnQpOiBHZW9tZXRyeVV0aWwuSW5zZXRzO1xuICAgIC8qKlxuICAgICAqIFNldCBlbGVtZW50J3MgY29tcHV0ZWQgQ1NTIGluc2V0cyB0byBDb2x1bW4gQ29udGFpbmVyXG4gICAgICovXG4gICAgc2V0Q29tcHV0ZWRJbnNldHMoZWxlbWVudDogRWxlbWVudCwgY29udGFpbmVyOiBDb2x1bW4pOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIFNldCBlbGVtZW50J3MgY29tcHV0ZWQgd2lkdGggYW5kIGhlaWdodCB0byBDb2x1bW4gQ29udGFpbmVyXG4gICAgICovXG4gICAgc2V0Q29tcHV0ZWRXaWR0aEFuZEhlaWdodChlbGVtZW50OiBFbGVtZW50LCBjb250YWluZXI6IENvbHVtbik6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogTGF5b3V0IGEgc2luZ2xlIHVuYnJlYWthYmxlIGVsZW1lbnQuXG4gICAgICovXG4gICAgbGF5b3V0VW5icmVha2FibGUoXG4gICAgICBub2RlQ29udGV4dEluOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgLyoqXG4gICAgICogTGF5b3V0IGEgc2luZ2xlIGZsb2F0IGVsZW1lbnQuXG4gICAgICovXG4gICAgbGF5b3V0RmxvYXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuXG4gICAgc2V0dXBGbG9hdEFyZWEoXG4gICAgICBhcmVhOiBQYWdlRmxvYXRBcmVhLFxuICAgICAgZmxvYXRSZWZlcmVuY2U6IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UsXG4gICAgICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICAgIGFuY2hvckVkZ2U6IG51bWJlciB8IG51bGwsXG4gICAgICBzdHJhdGVneTogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneSxcbiAgICAgIGNvbmRpdGlvbjogUGFnZUZsb2F0cy5QYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24sXG4gICAgKTogYm9vbGVhbjtcbiAgICBjcmVhdGVQYWdlRmxvYXRBcmVhKFxuICAgICAgZmxvYXQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0IHwgbnVsbCxcbiAgICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgICAgYW5jaG9yRWRnZTogbnVtYmVyIHwgbnVsbCxcbiAgICAgIHN0cmF0ZWd5OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5LFxuICAgICAgY29uZGl0aW9uOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbixcbiAgICApOiBQYWdlRmxvYXRBcmVhIHwgbnVsbDtcbiAgICBsYXlvdXRTaW5nbGVQYWdlRmxvYXRGcmFnbWVudChcbiAgICAgIGNvbnRpbnVhdGlvbnM6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0Q29udGludWF0aW9uW10sXG4gICAgICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICAgIGNsZWFyU2lkZTogc3RyaW5nIHwgbnVsbCxcbiAgICAgIGFsbG93RnJhZ21lbnRlZDogYm9vbGVhbixcbiAgICAgIHN0cmF0ZWd5OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5LFxuICAgICAgYW5jaG9yRWRnZTogbnVtYmVyIHwgbnVsbCxcbiAgICAgIHBhZ2VGbG9hdEZyYWdtZW50PzogUGFnZUZsb2F0cy5QYWdlRmxvYXRGcmFnbWVudCB8IG51bGwsXG4gICAgKTogVGFzay5SZXN1bHQ8U2luZ2xlUGFnZUZsb2F0TGF5b3V0UmVzdWx0PjtcbiAgICBsYXlvdXRQYWdlRmxvYXRJbm5lcihcbiAgICAgIGNvbnRpbnVhdGlvbjogUGFnZUZsb2F0cy5QYWdlRmxvYXRDb250aW51YXRpb24sXG4gICAgICBzdHJhdGVneTogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneSxcbiAgICAgIGFuY2hvckVkZ2U6IG51bWJlciB8IG51bGwsXG4gICAgICBwYWdlRmxvYXRGcmFnbWVudD86IFBhZ2VGbG9hdHMuUGFnZUZsb2F0RnJhZ21lbnQsXG4gICAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgc2V0RmxvYXRBbmNob3JWaWV3Tm9kZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICByZXNvbHZlRmxvYXRSZWZlcmVuY2VGcm9tQ29sdW1uU3BhbihcbiAgICAgIGZsb2F0UmVmZXJlbmNlOiBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLFxuICAgICAgY29sdW1uU3BhbjogQ3NzLlZhbCxcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlPjtcbiAgICBsYXlvdXRQYWdlRmxvYXQoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuICAgIGNyZWF0ZUp1c3RpZmljYXRpb25BZGp1c3RtZW50RWxlbWVudChcbiAgICAgIGluc2VydGlvblBvaW50OiBOb2RlLFxuICAgICAgZG9jOiBEb2N1bWVudCxcbiAgICAgIHBhcmVudE5vZGU6IE5vZGUsXG4gICAgICB2ZXJ0aWNhbDogYm9vbGVhbixcbiAgICApOiBIVE1MRWxlbWVudDtcbiAgICBhZGRBbmRBZGp1c3RKdXN0aWZpY2F0aW9uRWxlbWVudChcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGluc2VydEFmdGVyOiBib29sZWFuLFxuICAgICAgbm9kZTogTm9kZSxcbiAgICAgIGluc2VydGlvblBvaW50OiBOb2RlLFxuICAgICAgZG9jOiBEb2N1bWVudCxcbiAgICAgIHBhcmVudE5vZGU6IE5vZGUsXG4gICAgKTogSFRNTEVsZW1lbnQ7XG4gICAgY29tcGVuc2F0ZUp1c3RpZmljYXRpb25MaW5lSGVpZ2h0KFxuICAgICAgc3BhbjogRWxlbWVudCxcbiAgICAgIGJyOiBFbGVtZW50LFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogRml4IGp1c3RpZmljYXRpb24gb2YgdGhlIGxhc3QgbGluZSBvZiB0ZXh0IGJyb2tlbiBhY3Jvc3MgcGFnZXMgKGlmXG4gICAgICogbmVlZGVkKS5cbiAgICAgKi9cbiAgICBmaXhKdXN0aWZpY2F0aW9uSWZOZWVkZWQoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBlbmRPZkNvbHVtbjogYm9vbGVhbixcbiAgICApOiB2b2lkO1xuICAgIHByb2Nlc3NMaW5lU3R5bGluZyhcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIHJlc05vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICBpc0xvbmVJbWFnZShjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSk6IGJvb2xlYW47XG4gICAgZ2V0VHJhaWxpbmdNYXJnaW5FZGdlQWRqdXN0bWVudChcbiAgICAgIHRyYWlsaW5nRWRnZUNvbnRleHRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgICk6IG51bWJlcjtcbiAgICAvKipcbiAgICAgKiBMYXlvdXQgYSBzaW5nbGUgQ1NTIGJveC5cbiAgICAgKi9cbiAgICBsYXlvdXRCcmVha2FibGVCbG9jayhcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgcG9zdExheW91dEJsb2NrKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgKTogdm9pZDtcbiAgICBmaW5kRW5kT2ZMaW5lKFxuICAgICAgbGluZVBvc2l0aW9uOiBudW1iZXIsXG4gICAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICAgIGlzVXBkYXRlTWF4UmVhY2hlZEFmdGVyRWRnZTogYm9vbGVhbixcbiAgICApOiB7XG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgICBpbmRleDogbnVtYmVyO1xuICAgICAgY2hlY2tQb2ludEluZGV4OiBudW1iZXI7XG4gICAgfTtcbiAgICBmaW5kQWNjZXB0YWJsZUJyZWFrSW5zaWRlKFxuICAgICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgICBlZGdlUG9zaXRpb246IG51bWJlcixcbiAgICAgIGZvcmNlOiBib29sZWFuLFxuICAgICk6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgIHJlc29sdmVUZXh0Tm9kZUJyZWFrZXIobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogVGV4dE5vZGVCcmVha2VyO1xuICAgIC8qKlxuICAgICAqIFJlYWQgcmFuZ2VzIHNraXBwaW5nIHNwZWNpYWwgZWxtZW50c1xuICAgICAqL1xuICAgIGdldFJhbmdlQm94ZXMoc3RhcnQ6IE5vZGUsIGVuZDogTm9kZSk6IFZ0cmVlLkNsaWVudFJlY3RbXTtcbiAgICAvKipcbiAgICAgKiBHaXZlIGJsb2NrJ3MgaW5pdGlhbCBhbmQgZmluYWwgbm9kZXMsIGZpbmQgcG9zaXRpb25zIG9mIHRoZSBsaW5lIGJvdHRvbXMuXG4gICAgICogVGhpcyBpcywgb2YgY291cnNlLCBzb21ld2hhdCBoYWNreSBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHBvc2l0aW9uIG9mIGxpbmUgYnJlYWtzXG4gICAgICovXG4gICAgZmluZExpbmVQb3NpdGlvbnMoY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10pOiBudW1iZXJbXTtcbiAgICBjYWxjdWxhdGVDbG9uZWRQYWRkaW5nQm9yZGVyKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IG51bWJlcjtcbiAgICBmaW5kQm94QnJlYWtQb3NpdGlvbihcbiAgICAgIGJwOiBCb3hCcmVha1Bvc2l0aW9uLFxuICAgICAgZm9yY2U6IGJvb2xlYW4sXG4gICAgKTogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgZ2V0QWZ0ZXJFZGdlT2ZCbG9ja0NvbnRhaW5lcihub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBudW1iZXI7XG4gICAgZmluZEZpcnN0T3ZlcmZsb3dpbmdFZGdlQW5kQ2hlY2tQb2ludChcbiAgICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgICk6IHsgZWRnZTogbnVtYmVyOyBjaGVja1BvaW50OiBWdHJlZS5Ob2RlQ29udGV4dCB8IG51bGwgfTtcbiAgICBmaW5kRWRnZUJyZWFrUG9zaXRpb24oYnA6IEVkZ2VCcmVha1Bvc2l0aW9uKTogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgLyoqXG4gICAgICogRmluYWxpemUgYSBsaW5lIGJyZWFrLlxuICAgICAqIEByZXR1cm4gaG9saW5nIHRydWVcbiAgICAgKi9cbiAgICBmaW5pc2hCcmVhayhcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGZvcmNlUmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgICAgIGVuZE9mQ29sdW1uOiBib29sZWFuLFxuICAgICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+O1xuICAgIGZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbigpOiBCcmVha1Bvc2l0aW9uQW5kTm9kZUNvbnRleHQ7XG4gICAgZG9GaW5pc2hCcmVhayhcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGluaXRpYWxOb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBpbml0aWFsQ29tcHV0ZWRCbG9ja1NpemU6IG51bWJlcixcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBhIHBhZ2UgYnJlYWsgaXMgYWNjZXB0YWJsZSBhdCB0aGlzIHBvc2l0aW9uXG4gICAgICovXG4gICAgaXNCcmVha2FibGUoZmxvd1Bvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBhbiBpbmRlbnQgdmFsdWUgaXMgemVyb1xuICAgICAqL1xuICAgIHplcm9JbmRlbnQodmFsOiBzdHJpbmcgfCBudW1iZXIpOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBvdmVyZmxvd3NcbiAgICAgKi9cbiAgICBjaGVja092ZXJmbG93QW5kU2F2ZUVkZ2UoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICB0cmFpbGluZ0VkZ2VDb250ZXh0czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICApOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIFNhdmUgYSBwb3NzaWJsZSBwYWdlIGJyZWFrIHBvc2l0aW9uIG9uIGEgQ1NTIGJsb2NrIGVkZ2UuIENoZWNrIGlmIGl0XG4gICAgICogb3ZlcmZsb3dzLlxuICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBvdmVyZmxvd3NcbiAgICAgKi9cbiAgICBjaGVja092ZXJmbG93QW5kU2F2ZUVkZ2VBbmRCcmVha1Bvc2l0aW9uKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgdHJhaWxpbmdFZGdlQ29udGV4dHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgICBzYXZlRXZlbk92ZXJmbG93bjogYm9vbGVhbixcbiAgICAgIGJyZWFrQXRUaGVFZGdlOiBzdHJpbmcgfCBudWxsLFxuICAgICk6IGJvb2xlYW47XG4gICAgYXBwbHlDbGVhcmFuY2Uobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbjtcbiAgICBpc0JGQyhmb3JtYXR0aW5nQ29udGV4dDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQpOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIFNraXBzIHBvc2l0aW9ucyB1bnRpbCBlaXRoZXIgdGhlIHN0YXJ0IG9mIHVuYnJlYWthYmxlIGJsb2NrIG9yIGlubGluZVxuICAgICAqIGNvbnRlbnQuIEFsc28gc2V0cyBicmVha0JlZm9yZSBvbiB0aGUgcmVzdWx0IGNvbWJpbmluZyBicmVhay1iZWZvcmUgYW5kXG4gICAgICogYnJlYWstYWZ0ZXIgcHJvcGVydGllcyBmcm9tIGFsbCBlbGVtZW50cyB0aGF0IG1lZXQgYXQgdGhlIGVkZ2UuXG4gICAgICovXG4gICAgc2tpcEVkZ2VzKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICAgICBmb3JjZWRCcmVha1ZhbHVlOiBzdHJpbmcgfCBudWxsLFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICAvKipcbiAgICAgKiBTa2lwcyBub24tcmVuZGVyYWJsZSBwb3NpdGlvbnMgdW50aWwgaXQgaGl0cyB0aGUgZW5kIG9mIHRoZSBmbG93IG9yIHNvbWVcbiAgICAgKiByZW5kZXJhYmxlIGNvbnRlbnQuIFJldHVybnMgdGhlIG5vZGVDb250ZXh0IHRoYXQgd2FzIHBhc3NlZCBpbiBpZiBzb21lXG4gICAgICogY29udGVudCByZW1haW5zIGFuZCBudWxsIGlmIGFsbCBjb250ZW50IGNvdWxkIGJlIHNraXBwZWQuXG4gICAgICovXG4gICAgc2tpcFRhaWxFZGdlcyhcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgbGF5b3V0RmxvYXRPckZvb3Rub3RlKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICAvKipcbiAgICAgKiBMYXlvdXQgbmV4dCBwb3J0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAgICovXG4gICAgbGF5b3V0TmV4dChcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICAgICAgZm9yY2VkQnJlYWtWYWx1ZT86IHN0cmluZyB8IG51bGwsXG4gICAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuICAgIGNsZWFyT3ZlcmZsb3duVmlld05vZGVzKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgcmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgICApOiB2b2lkO1xuICAgIGluaXRHZW9tKCk6IHZvaWQ7XG4gICAgaW5pdCgpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIFNhdmUgdGhlIHBvdGVudGlhbCBicmVha2luZyBwb3NpdGlvbiBhdCB0aGUgZWRnZS4gU2hvdWxkLCBpbiBnZW5lcmFsLCBzYXZlXG4gICAgICogXCJhZnRlclwiIHBvc2l0aW9uIGJ1dCBvbmx5IGFmdGVyIHNraXBwaW5nIGFsbCBvZiB0aGUgXCJiZWZvcmVcIiBvbmVzIGFuZFxuICAgICAqIGdldHRpbmcgdG8gdGhlIG5vbi1lbXB0eSBjb250ZW50ICh0byBnZXQgYnJlYWtBdEVkZ2UgcmlnaHQpLlxuICAgICAqL1xuICAgIHNhdmVFZGdlQnJlYWtQb3NpdGlvbihcbiAgICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGJyZWFrQXRFZGdlOiBzdHJpbmcgfCBudWxsLFxuICAgICAgb3ZlcmZsb3dzOiBib29sZWFuLFxuICAgICk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNoZWNrUG9pbnRzIGFycmF5IG9mIGJyZWFraW5nIHBvaW50cyBmb3IgYnJlYWthYmxlIGJsb2NrXG4gICAgICovXG4gICAgc2F2ZUJveEJyZWFrUG9zaXRpb24oY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10pOiB2b2lkO1xuICAgIHVwZGF0ZU1heFJlYWNoZWRBZnRlckVkZ2UoYWZ0ZXJFZGdlOiBudW1iZXIpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjaHVua1Bvc2l0aW9uIHN0YXJ0aW5nIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm4gaG9sZGluZyBlbmQgcG9zaXRpb24uXG4gICAgICovXG4gICAgbGF5b3V0KFxuICAgICAgY2h1bmtQb3NpdGlvbjogVnRyZWUuQ2h1bmtQb3NpdGlvbixcbiAgICAgIGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICAgICAgYnJlYWtBZnRlcj86IHN0cmluZyB8IG51bGwsXG4gICAgKTogVGFzay5SZXN1bHQ8VnRyZWUuQ2h1bmtQb3NpdGlvbj47XG4gICAgaXNGdWxsV2l0aFBhZ2VGbG9hdHMoKTogYm9vbGVhbjtcbiAgICBnZXRNYXhCbG9ja1NpemVPZlBhZ2VGbG9hdHMoKTogbnVtYmVyO1xuICAgIGRvRmluaXNoQnJlYWtPZkZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMobm9kZUNvbnRleHQpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBub2RlQ29udGV4dCBzdGFydGluZyBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJuIGhvbGRpbmcgZW5kIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIGRvTGF5b3V0KFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICAgICBicmVha0FmdGVyPzogc3RyaW5nIHwgbnVsbCxcbiAgICApOiBUYXNrLlJlc3VsdDx7XG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgICBvdmVyZmxvd25Ob2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgfT47XG4gICAgLyoqXG4gICAgICogUmUtbGF5b3V0IGFscmVhZHkgbGFpZC1vdXQgY2h1bmtzLiBSZXR1cm4gdGhlIHBvc2l0aW9uIG9mIHRoZSBsYXN0IGZsb3cgaWZcbiAgICAgKiB0aGVyZSBpcyBhbiBvdmVyZmxvdy5cbiAgICAgKiBUT0RPOiBkZWFsIHdpdGggY2h1bmtzIHRoYXQgZGlkIG5vdCBmaXQgYXQgYWxsLlxuICAgICAqIEByZXR1cm4gaG9sZGluZyBlbmQgcG9zaXRpb24uXG4gICAgICovXG4gICAgcmVkb0xheW91dCgpOiBUYXNrLlJlc3VsdDxWdHJlZS5DaHVua1Bvc2l0aW9uPjtcbiAgICBzYXZlRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzKCk6IHZvaWQ7XG4gICAgY29sbGVjdEVsZW1lbnRzT2Zmc2V0KCk6IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0W107XG4gIH1cblxuICBleHBvcnQgdHlwZSBTaW5nbGVQYWdlRmxvYXRMYXlvdXRSZXN1bHQgPSB7XG4gICAgZmxvYXRBcmVhOiBQYWdlRmxvYXRBcmVhIHwgbnVsbDtcbiAgICBwYWdlRmxvYXRGcmFnbWVudDogUGFnZUZsb2F0cy5QYWdlRmxvYXRGcmFnbWVudCB8IG51bGw7XG4gICAgbmV3UG9zaXRpb246IFZ0cmVlLkNodW5rUG9zaXRpb24gfCBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBicmVha2luZyBwb2ludCByZXNvbHZlciBmb3IgVGV4dCBOb2RlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUZXh0Tm9kZUJyZWFrZXIge1xuICAgIGJyZWFrVGV4dE5vZGUoXG4gICAgICB0ZXh0Tm9kZTogVGV4dCxcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGxvdzogbnVtYmVyLFxuICAgICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgICBjaGVja3BvaW50SW5kZXg6IG51bWJlcixcbiAgICAgIGZvcmNlOiBib29sZWFuLFxuICAgICk6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgIGJyZWFrQWZ0ZXJTb2Z0SHlwaGVuKFxuICAgICAgdGV4dE5vZGU6IFRleHQsXG4gICAgICB0ZXh0OiBzdHJpbmcsXG4gICAgICB2aWV3SW5kZXg6IG51bWJlcixcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBudW1iZXI7XG4gICAgYnJlYWtBZnRlck90aGVyQ2hhcmFjdGVyKFxuICAgICAgdGV4dE5vZGU6IFRleHQsXG4gICAgICB0ZXh0OiBzdHJpbmcsXG4gICAgICB2aWV3SW5kZXg6IG51bWJlcixcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBudW1iZXI7XG4gICAgdXBkYXRlTm9kZUNvbnRleHQoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICB2aWV3SW5kZXg6IG51bWJlcixcbiAgICAgIHRleHROb2RlOiBUZXh0LFxuICAgICk6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBMYXlvdXRNb2RlIHtcbiAgICBkb0xheW91dChcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgYWNjZXB0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXQuQ29sdW1uKTogYm9vbGVhbjtcbiAgICBwb3N0TGF5b3V0KFxuICAgICAgcG9zaXRpb25BZnRlcjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgICAgYWNjZXB0ZWQ6IGJvb2xlYW4sXG4gICAgKTogYm9vbGVhbjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgUGFnZUZsb2F0QXJlYSBleHRlbmRzIENvbHVtbiB7XG4gICAgYWRqdXN0Q29udGVudFJlbGF0aXZlU2l6ZTogYm9vbGVhbjtcbiAgICByZWFkb25seSBmbG9hdFNpZGU6IHN0cmluZztcbiAgICByZWFkb25seSBwYXJlbnRDb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcjtcblxuICAgIGNvbnZlcnRQZXJjZW50YWdlU2l6ZXNUb1B4KHRhcmdldDogRWxlbWVudCk6IHZvaWQ7XG4gICAgZml4RmxvYXRTaXplQW5kUG9zaXRpb24obm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogdm9pZDtcbiAgICBnZXRDb250ZW50SW5saW5lU2l6ZSgpOiBudW1iZXI7XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBMYXlvdXRQcm9jZXNzb3Ige1xuICBleHBvcnQgaW50ZXJmYWNlIEJsb2NrRm9ybWF0dGluZ0NvbnRleHQgZXh0ZW5kcyBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCB7fVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBpc0luc3RhbmNlT2ZCbG9ja0Zvcm1hdHRpbmdDb250ZXh0KFxuICAgIG9iamVjdDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQsXG4gICk6IG9iamVjdCBpcyBCbG9ja0Zvcm1hdHRpbmdDb250ZXh0IHtcbiAgICByZXR1cm4gb2JqZWN0ICYmIG9iamVjdC5mb3JtYXR0aW5nQ29udGV4dFR5cGUgPT09IFwiQmxvY2tcIjtcbiAgfVxufVxuXG5leHBvcnQgbmFtZXNwYWNlIE5ldCB7XG4gIGV4cG9ydCB0eXBlIFJlc3BvbnNlID0ge1xuICAgIHN0YXR1czogbnVtYmVyO1xuICAgIHN0YXR1c1RleHQ6IHN0cmluZyB8IG51bGw7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgY29udGVudFR5cGU6IHN0cmluZyB8IG51bGw7XG4gICAgcmVzcG9uc2VUZXh0OiBzdHJpbmcgfCBudWxsO1xuICAgIHJlc3BvbnNlWE1MOiBEb2N1bWVudDtcbiAgICByZXNwb25zZUJsb2I6IEJsb2I7XG4gIH07XG5cbiAgZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZVN0b3JlPFJlc291cmNlPiB7XG4gICAgcmVzb3VyY2VzOiB7IFtrZXk6IHN0cmluZ106IFJlc291cmNlIH07XG4gICAgZmV0Y2hlcnM6IHsgW2tleTogc3RyaW5nXTogVGFza1V0aWwuRmV0Y2hlcjxSZXNvdXJjZT4gfTtcbiAgICByZWFkb25seSBwYXJzZXI6IChcbiAgICAgIHAxOiBSZXNwb25zZSxcbiAgICAgIHAyOiBSZXNvdXJjZVN0b3JlPFJlc291cmNlPixcbiAgICApID0+IFRhc2suUmVzdWx0PFJlc291cmNlPjtcbiAgICByZWFkb25seSB0eXBlOiBYTUxIdHRwUmVxdWVzdFJlc3BvbnNlVHlwZTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gcmVzb3VyY2UgZm9yIHRoZSBnaXZlbiBVUkxcbiAgICAgKi9cbiAgICBsb2FkKFxuICAgICAgdXJsOiBzdHJpbmcsXG4gICAgICBvcHRfcmVxdWlyZWQ/OiBib29sZWFuLFxuICAgICAgb3B0X21lc3NhZ2U/OiBzdHJpbmcsXG4gICAgKTogVGFzay5SZXN1bHQ8UmVzb3VyY2U+O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gZmV0Y2hlciBmb3IgdGhlIHJlc291cmNlIGZvciB0aGUgZ2l2ZW4gVVJMXG4gICAgICovXG4gICAgZmV0Y2goXG4gICAgICB1cmw6IHN0cmluZyxcbiAgICAgIG9wdF9yZXF1aXJlZD86IGJvb2xlYW4sXG4gICAgICBvcHRfbWVzc2FnZT86IHN0cmluZyxcbiAgICApOiBUYXNrVXRpbC5GZXRjaGVyPFJlc291cmNlPjtcbiAgICBnZXQodXJsOiBzdHJpbmcpOiBYbWxEb2MuWE1MRG9jSG9sZGVyO1xuICAgIGRlbGV0ZSh1cmw6IHN0cmluZyk6IHZvaWQ7XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBQYWdlRmxvYXRzIHtcbiAgLyoqXG4gICAqIEBlbnVtIHtzdHJpbmd9XG4gICAqL1xuICBleHBvcnQgZW51bSBGbG9hdFJlZmVyZW5jZSB7XG4gICAgSU5MSU5FID0gXCJpbmxpbmVcIixcbiAgICBDT0xVTU4gPSBcImNvbHVtblwiLFxuICAgIFJFR0lPTiA9IFwicmVnaW9uXCIsXG4gICAgUEFHRSA9IFwicGFnZVwiLFxuICB9XG5cbiAgZXhwb3J0IHR5cGUgUGFnZUZsb2F0SUQgPSBzdHJpbmc7XG5cbiAgZXhwb3J0IGludGVyZmFjZSBQYWdlRmxvYXQge1xuICAgIG9yZGVyOiBudW1iZXIgfCBudWxsO1xuICAgIGlkOiBQYWdlRmxvYXRJRCB8IG51bGw7XG4gICAgcmVhZG9ubHkgbm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb247XG4gICAgcmVhZG9ubHkgZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlO1xuICAgIHJlYWRvbmx5IGZsb2F0U2lkZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IGNsZWFyU2lkZTogc3RyaW5nIHwgbnVsbDtcbiAgICByZWFkb25seSBmbG93TmFtZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IGZsb2F0TWluV3JhcEJsb2NrOiBDc3MuTnVtZXJpYyB8IG51bGw7XG5cbiAgICBnZXRPcmRlcigpOiBudW1iZXI7XG4gICAgZ2V0SWQoKTogUGFnZUZsb2F0SUQ7XG4gICAgaXNBbGxvd2VkT25Db250ZXh0KHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQpOiBib29sZWFuO1xuICAgIGlzQWxsb3dlZFRvUHJlY2VkZShvdGhlcjogUGFnZUZsb2F0KTogYm9vbGVhbjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgUGFnZUZsb2F0RnJhZ21lbnQge1xuICAgIHJlYWRvbmx5IGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZTtcbiAgICByZWFkb25seSBmbG9hdFNpZGU6IHN0cmluZztcbiAgICByZWFkb25seSBjb250aW51YXRpb25zOiBQYWdlRmxvYXRDb250aW51YXRpb25bXTtcbiAgICByZWFkb25seSBhcmVhOiBWdHJlZS5Db250YWluZXI7XG4gICAgcmVhZG9ubHkgY29udGludWVzOiBib29sZWFuO1xuXG4gICAgaGFzRmxvYXQoZmxvYXQ6IFBhZ2VGbG9hdCk6IGJvb2xlYW47XG4gICAgZmluZE5vdEFsbG93ZWRGbG9hdChjb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0KTogUGFnZUZsb2F0IHwgbnVsbDtcbiAgICBnZXRPdXRlclNoYXBlKCk6IEdlb21ldHJ5VXRpbC5TaGFwZTtcbiAgICBnZXRPdXRlclJlY3QoKTogR2VvbWV0cnlVdGlsLlJlY3Q7XG4gICAgZ2V0T3JkZXIoKTogbnVtYmVyO1xuICAgIHNob3VsZEJlU3Rhc2hlZEJlZm9yZShmbG9hdDogUGFnZUZsb2F0KTogYm9vbGVhbjtcbiAgICBhZGRDb250aW51YXRpb25zKGNvbnRpbnVhdGlvbnM6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdKTogdm9pZDtcbiAgICBnZXRGbG93TmFtZSgpOiBzdHJpbmc7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFBhZ2VGbG9hdENvbnRpbnVhdGlvbiB7XG4gICAgcmVhZG9ubHkgZmxvYXQ6IFBhZ2VGbG9hdDtcbiAgICByZWFkb25seSBub2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbjtcblxuICAgIGVxdWFscyhvdGhlcjogUGFnZUZsb2F0Q29udGludWF0aW9uIHwgbnVsbCk6IGJvb2xlYW47XG4gIH1cblxuICBleHBvcnQgdHlwZSBQYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24gPSB7XG4gICAgW2tleTogc3RyaW5nXTogYm9vbGVhbjtcbiAgfTtcblxuICBleHBvcnQgaW50ZXJmYWNlIFBhZ2VGbG9hdExheW91dENvbnRleHQge1xuICAgIHdyaXRpbmdNb2RlOiBDc3MuVmFsO1xuICAgIGRpcmVjdGlvbjogQ3NzLlZhbDtcbiAgICBmbG9hdEZyYWdtZW50czogUGFnZUZsb2F0RnJhZ21lbnRbXTtcbiAgICByZWFkb25seSBwYXJlbnQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQ7XG4gICAgcmVhZG9ubHkgZmxvd05hbWU6IHN0cmluZyB8IG51bGw7XG4gICAgcmVhZG9ubHkgZ2VuZXJhdGluZ05vZGVQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uIHwgbnVsbDtcblxuICAgIGdldENvbnRhaW5lcihmbG9hdFJlZmVyZW5jZT86IEZsb2F0UmVmZXJlbmNlKTogVnRyZWUuQ29udGFpbmVyO1xuICAgIHNldENvbnRhaW5lcihjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcik7XG4gICAgYWRkUGFnZUZsb2F0KGZsb2F0OiBQYWdlRmxvYXQpOiB2b2lkO1xuICAgIGdldFBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UsXG4gICAgKTogUGFnZUZsb2F0TGF5b3V0Q29udGV4dDtcbiAgICBmaW5kUGFnZUZsb2F0QnlOb2RlUG9zaXRpb24oXG4gICAgICBub2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbixcbiAgICApOiBQYWdlRmxvYXQgfCBudWxsO1xuICAgIGlzRm9yYmlkZGVuKGZsb2F0OiBQYWdlRmxvYXQpOiBib29sZWFuO1xuICAgIGFkZFBhZ2VGbG9hdEZyYWdtZW50KFxuICAgICAgZmxvYXRGcmFnbWVudDogUGFnZUZsb2F0RnJhZ21lbnQsXG4gICAgICBkb250SW52YWxpZGF0ZT86IGJvb2xlYW4sXG4gICAgKTogdm9pZDtcbiAgICByZW1vdmVQYWdlRmxvYXRGcmFnbWVudChcbiAgICAgIGZsb2F0RnJhZ21lbnQ6IFBhZ2VGbG9hdEZyYWdtZW50LFxuICAgICAgZG9udEludmFsaWRhdGU/OiBib29sZWFuLFxuICAgICk6IHZvaWQ7XG4gICAgZmluZFBhZ2VGbG9hdEZyYWdtZW50KGZsb2F0OiBQYWdlRmxvYXQpOiBQYWdlRmxvYXRGcmFnbWVudCB8IG51bGw7XG4gICAgaGFzRmxvYXRGcmFnbWVudHMoY29uZGl0aW9uPzogKHAxOiBQYWdlRmxvYXRGcmFnbWVudCkgPT4gYm9vbGVhbik6IGJvb2xlYW47XG4gICAgaGFzQ29udGludWluZ0Zsb2F0RnJhZ21lbnRzSW5GbG93KGZsb3dOYW1lOiBzdHJpbmcpOiBib29sZWFuO1xuICAgIHJlZ2lzdGVyUGFnZUZsb2F0QW5jaG9yKGZsb2F0OiBQYWdlRmxvYXQsIGFuY2hvclZpZXdOb2RlOiBOb2RlKTogdm9pZDtcbiAgICBjb2xsZWN0UGFnZUZsb2F0QW5jaG9ycygpOiBhbnk7XG4gICAgaXNBbmNob3JBbHJlYWR5QXBwZWFyZWQoZmxvYXRJZDogUGFnZUZsb2F0SUQpOiBib29sZWFuO1xuICAgIGRlZmVyUGFnZUZsb2F0KGNvbnRpbnVhdGlvbjogUGFnZUZsb2F0Q29udGludWF0aW9uKTogdm9pZDtcbiAgICBoYXNQcmVjZWRpbmdGbG9hdHNEZWZlcnJlZFRvTmV4dChcbiAgICAgIGZsb2F0OiBQYWdlRmxvYXQsXG4gICAgICBpZ25vcmVSZWZlcmVuY2U/OiBib29sZWFuLFxuICAgICk6IGJvb2xlYW47XG4gICAgZ2V0TGFzdEZvbGxvd2luZ0Zsb2F0SW5GcmFnbWVudHMoZmxvYXQ6IFBhZ2VGbG9hdCk6IFBhZ2VGbG9hdCB8IG51bGw7XG4gICAgZ2V0RGVmZXJyZWRQYWdlRmxvYXRDb250aW51YXRpb25zKFxuICAgICAgZmxvd05hbWU/OiBzdHJpbmcgfCBudWxsLFxuICAgICk6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdO1xuICAgIGdldFBhZ2VGbG9hdENvbnRpbnVhdGlvbnNEZWZlcnJlZFRvTmV4dChcbiAgICAgIGZsb3dOYW1lPzogc3RyaW5nIHwgbnVsbCxcbiAgICApOiBQYWdlRmxvYXRDb250aW51YXRpb25bXTtcbiAgICBnZXRGbG9hdHNEZWZlcnJlZFRvTmV4dEluQ2hpbGRDb250ZXh0cygpOiBQYWdlRmxvYXRbXTtcbiAgICBjaGVja0FuZEZvcmJpZE5vdEFsbG93ZWRGbG9hdCgpOiBib29sZWFuO1xuICAgIGNoZWNrQW5kRm9yYmlkRmxvYXRGb2xsb3dpbmdEZWZlcnJlZEZsb2F0KCk6IGJvb2xlYW47XG4gICAgZmluaXNoKCk6IHZvaWQ7XG4gICAgaGFzU2FtZUNvbnRhaW5lckFzKG90aGVyOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0KTogYm9vbGVhbjtcbiAgICBpbnZhbGlkYXRlKCk6IHZvaWQ7XG4gICAgZGV0YWNoQ2hpbGRyZW4oKTogUGFnZUZsb2F0TGF5b3V0Q29udGV4dFtdO1xuICAgIGF0dGFjaENoaWxkcmVuKGNoaWxkcmVuOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0W10pOiB2b2lkO1xuICAgIGlzSW52YWxpZGF0ZWQoKTogYm9vbGVhbjtcbiAgICB2YWxpZGF0ZSgpOiB2b2lkO1xuICAgIHJlbW92ZUVuZEZsb2F0RnJhZ21lbnRzKGZsb2F0U2lkZTogc3RyaW5nKTogdm9pZDtcbiAgICBzdGFzaEVuZEZsb2F0RnJhZ21lbnRzKGZsb2F0OiBQYWdlRmxvYXQpOiB2b2lkO1xuICAgIHJlc3RvcmVTdGFzaGVkRnJhZ21lbnRzKGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSk6IHZvaWQ7XG4gICAgZGlzY2FyZFN0YXNoZWRGcmFnbWVudHMoZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlKTogdm9pZDtcbiAgICBnZXRTdGFzaGVkRmxvYXRGcmFnbWVudHMoXG4gICAgICBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UsXG4gICAgKTogUGFnZUZsb2F0RnJhZ21lbnRbXTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYW5jaG9yRWRnZSBOdWxsIGluZGljYXRlcyB0aGF0IHRoZSBhbmNob3IgaXMgbm90IGluIHRoZSBjdXJyZW50XG4gICAgICogICAgIGNvbnRhaW5lci5cbiAgICAgKiBAcmV0dXJuIExvZ2ljYWwgZmxvYXQgc2lkZSAoc25hcC1ibG9jayBpcyByZXNvbHZlZCB3aGVuIGluaXQ9ZmFsc2UpLiBOdWxsXG4gICAgICogICAgIGluZGljYXRlcyB0aGF0IHRoZSBmbG9hdCBhcmVhIGRvZXMgbm90IGZpdCBpbnNpZGUgdGhlIGNvbnRhaW5lclxuICAgICAqL1xuICAgIHNldEZsb2F0QXJlYURpbWVuc2lvbnMoXG4gICAgICBhcmVhOiBMYXlvdXQuUGFnZUZsb2F0QXJlYSxcbiAgICAgIGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSxcbiAgICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgICAgYW5jaG9yRWRnZTogbnVtYmVyIHwgbnVsbCxcbiAgICAgIGluaXQ6IGJvb2xlYW4sXG4gICAgICBmb3JjZTogYm9vbGVhbixcbiAgICAgIGNvbmRpdGlvbjogUGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uLFxuICAgICk6IHN0cmluZyB8IG51bGw7XG4gICAgZ2V0RmxvYXRGcmFnbWVudEV4Y2x1c2lvbnMoKTogR2VvbWV0cnlVdGlsLlNoYXBlW107XG4gICAgZ2V0TWF4UmVhY2hlZEFmdGVyRWRnZSgpOiBudW1iZXI7XG4gICAgZ2V0QmxvY2tTdGFydEVkZ2VPZkJsb2NrRW5kRmxvYXRzKCk6IG51bWJlcjtcbiAgICBnZXRQYWdlRmxvYXRDbGVhckVkZ2UoY2xlYXI6IHN0cmluZywgY29sdW1uOiBMYXlvdXQuQ29sdW1uKTogbnVtYmVyO1xuICAgIGdldFBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbihcbiAgICAgIGZsb2F0OiBQYWdlRmxvYXQsXG4gICAgICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICAgIGNsZWFyU2lkZTogc3RyaW5nIHwgbnVsbCxcbiAgICApOiBQYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb247XG4gICAgZ2V0TGF5b3V0Q29uc3RyYWludHMoKTogTGF5b3V0LkxheW91dENvbnN0cmFpbnRbXTtcbiAgICBhZGRMYXlvdXRDb25zdHJhaW50KFxuICAgICAgbGF5b3V0Q29uc3RyYWludDogTGF5b3V0LkxheW91dENvbnN0cmFpbnQsXG4gICAgICBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UsXG4gICAgKTogdm9pZDtcbiAgICBnZXRNYXhCbG9ja1NpemVPZlBhZ2VGbG9hdHMoKTogbnVtYmVyO1xuICAgIGxvY2soKTogdm9pZDtcbiAgICB1bmxvY2soKTogdm9pZDtcbiAgICBpc0xvY2tlZCgpOiBib29sZWFuO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBQYWdlRmxvYXRMYXlvdXRTdHJhdGVneSB7XG4gICAgYXBwbGllc1RvTm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbjtcbiAgICBhcHBsaWVzVG9GbG9hdChmbG9hdDogUGFnZUZsb2F0KTogYm9vbGVhbjtcbiAgICBjcmVhdGVQYWdlRmxvYXQoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgICk6IFRhc2suUmVzdWx0PFBhZ2VGbG9hdD47XG4gICAgY3JlYXRlUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgICBjb250aW51YXRpb25zOiBQYWdlRmxvYXRDb250aW51YXRpb25bXSxcbiAgICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgICAgZmxvYXRBcmVhOiBMYXlvdXQuUGFnZUZsb2F0QXJlYSxcbiAgICAgIGNvbnRpbnVlczogYm9vbGVhbixcbiAgICApOiBQYWdlRmxvYXRGcmFnbWVudDtcbiAgICBmaW5kUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgICBmbG9hdDogUGFnZUZsb2F0LFxuICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICApOiBQYWdlRmxvYXRGcmFnbWVudCB8IG51bGw7XG4gICAgYWRqdXN0UGFnZUZsb2F0QXJlYShcbiAgICAgIGZsb2F0QXJlYTogTGF5b3V0LlBhZ2VGbG9hdEFyZWEsXG4gICAgICBmbG9hdENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgICk7XG4gICAgZm9yYmlkKGZsb2F0OiBQYWdlRmxvYXQsIHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQpO1xuICB9XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgU2VsZWN0b3JzIHtcbiAgZXhwb3J0IGludGVyZmFjZSBBZnRlcklmQ29udGludWVzIHtcbiAgICByZWFkb25seSBzb3VyY2VOb2RlOiBFbGVtZW50O1xuICAgIHJlYWRvbmx5IHN0eWxlcjogUHNldWRvRWxlbWVudC5Qc2V1ZG9lbGVtZW50U3R5bGVyO1xuXG4gICAgY3JlYXRlRWxlbWVudChcbiAgICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICAgIHBhcmVudE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxFbGVtZW50PjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnRcbiAgICBleHRlbmRzIExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnQge1xuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICBhZnRlcklmQ29udGludWVzOiBBZnRlcklmQ29udGludWVzO1xuICAgIHBzZXVkb0VsZW1lbnRIZWlnaHQ6IG51bWJlcjtcblxuICAgIGdldFJlcGV0aXRpdmVFbGVtZW50cygpOiBBZnRlcklmQ29udGludWVzRWxlbWVudHNPZmZzZXQ7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gaXNJbnN0YW5jZU9mQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQoXG4gICAgb2JqZWN0OiBMYXlvdXQuRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50LFxuICApOiBvYmplY3QgaXMgQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQge1xuICAgIHJldHVybiBvYmplY3QgJiYgb2JqZWN0LmZsYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUgPT0gXCJBZnRlcklmQ29udGludWVcIjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQWZ0ZXJJZkNvbnRpbnVlc0VsZW1lbnRzT2Zmc2V0XG4gICAgZXh0ZW5kcyBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldCB7XG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgIHBzZXVkb0VsZW1lbnRIZWlnaHQ6IG51bWJlcjtcblxuICAgIGFmZmVjdFRvKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBQc2V1ZG9FbGVtZW50IHtcbiAgZXhwb3J0IGludGVyZmFjZSBQc2V1ZG9lbGVtZW50U3R5bGVyIGV4dGVuZHMgQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyIHtcbiAgICBjb250ZW50UHJvY2Vzc2VkOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfTtcbiAgICByZWFkb25seSBlbGVtZW50OiBFbGVtZW50O1xuICAgIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgICBzdHlsZXI6IENzc1N0eWxlci5BYnN0cmFjdFN0eWxlcjtcbiAgICByZWFkb25seSBjb250ZXh0OiBFeHBycy5Db250ZXh0O1xuICAgIHJlYWRvbmx5IGV4cHJDb250ZW50TGlzdGVuZXI6IFZ0cmVlLkV4cHJDb250ZW50TGlzdGVuZXI7XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSZXBldGl0aXZlRWxlbWVudCB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dFxuICAgIGV4dGVuZHMgVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQge1xuICAgIGlzUm9vdDogYm9vbGVhbjtcbiAgICByZXBldGl0aXZlRWxlbWVudHM6IFJlcGV0aXRpdmVFbGVtZW50cztcbiAgICByZWFkb25seSBwYXJlbnQ6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0O1xuICAgIHJlYWRvbmx5IHJvb3RTb3VyY2VOb2RlOiBFbGVtZW50O1xuICAgIGdldFJlcGV0aXRpdmVFbGVtZW50cygpOiBSZXBldGl0aXZlRWxlbWVudHM7XG4gICAgZ2V0Um9vdFZpZXdOb2RlKHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCk6IEVsZW1lbnQgfCBudWxsO1xuICAgIGdldFJvb3ROb2RlQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBWdHJlZS5Ob2RlQ29udGV4dCB8IG51bGw7XG4gICAgaW5pdGlhbGl6ZVJlcGV0aXRpdmVFbGVtZW50cyh2ZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQ7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gaXNJbnN0YW5jZU9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICBvYmplY3Q6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0LFxuICApOiBvYmplY3QgaXMgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCB7XG4gICAgaWYgKCFvYmplY3QpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IG9iamVjdC5mb3JtYXR0aW5nQ29udGV4dFR5cGU7XG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGUgPT09IFwiUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJcIiB8fFxuICAgICAgVGFibGUuaXNJbnN0YW5jZU9mVGFibGVGb3JtYXR0aW5nQ29udGV4dChvYmplY3QpXG4gICAgKTsgLy8gc3Vic2V0XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIEVsZW1lbnRzT2Zmc2V0IHtcbiAgICBjYWxjdWxhdGVPZmZzZXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogbnVtYmVyO1xuICAgIGNhbGN1bGF0ZU1pbmltdW1PZmZzZXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogbnVtYmVyO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBSZXBldGl0aXZlRWxlbWVudHMgZXh0ZW5kcyBFbGVtZW50c09mZnNldCB7XG4gICAgaXNTa2lwSGVhZGVyOiBib29sZWFuO1xuICAgIGlzU2tpcEZvb3RlcjogYm9vbGVhbjtcbiAgICBlbmFibGVTa2lwcGluZ0Zvb3RlcjogYm9vbGVhbjtcbiAgICBlbmFibGVTa2lwcGluZ0hlYWRlcjogYm9vbGVhbjtcbiAgICBkb25lSW5pdGlhbExheW91dDogYm9vbGVhbjtcbiAgICBmaXJzdENvbnRlbnRTb3VyY2VOb2RlOiBFbGVtZW50IHwgbnVsbDtcbiAgICBsYXN0Q29udGVudFNvdXJjZU5vZGU6IEVsZW1lbnQgfCBudWxsO1xuICAgIGFsbG93SW5zZXJ0OiBib29sZWFuO1xuICAgIGFsbG93SW5zZXJ0UmVwZWF0aXRpdmVFbGVtZW50czogYm9vbGVhbjtcbiAgICBvd25lclNvdXJjZU5vZGU6IEVsZW1lbnQ7XG5cbiAgICBzZXRIZWFkZXJOb2RlQ29udGV4dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiB2b2lkO1xuICAgIHNldEZvb3Rlck5vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IHZvaWQ7XG4gICAgdXBkYXRlSGVpZ2h0KGNvbHVtbjogTGF5b3V0LkNvbHVtbik6IHZvaWQ7XG4gICAgcHJlcGFyZUxheW91dEZyYWdtZW50KCk6IHZvaWQ7XG4gICAgYXBwZW5kSGVhZGVyVG9GcmFnbWVudChcbiAgICAgIHJvb3ROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBmaXJzdENoaWxkOiBOb2RlIHwgbnVsbCxcbiAgICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICApOiBUYXNrLlJlc3VsdDxib29sZWFuPjtcbiAgICBhcHBlbmRGb290ZXJUb0ZyYWdtZW50KFxuICAgICAgcm9vdE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGZpcnN0Q2hpbGQ6IE5vZGUgfCBudWxsLFxuICAgICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+O1xuICAgIGFwcGVuZEVsZW1lbnRUb0ZyYWdtZW50KFxuICAgICAgbm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24sXG4gICAgICByb290Tm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgZmlyc3RDaGlsZDogTm9kZSB8IG51bGwsXG4gICAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgbW92ZUNoaWxkcmVuKGZyb206IEVsZW1lbnQsIHRvOiBFbGVtZW50LCBmaXJzdENoaWxkOiBOb2RlIHwgbnVsbCk6IHZvaWQ7XG4gICAgaXNBZnRlckxhc3RDb250ZW50KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gICAgaXNGaXJzdENvbnRlbnROb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gICAgaXNFbmFibGVUb1VwZGF0ZVN0YXRlKCk6IGJvb2xlYW47XG4gICAgdXBkYXRlU3RhdGUoKTogdm9pZDtcbiAgICBwcmV2ZW50U2tpcHBpbmdIZWFkZXIoKTogdm9pZDtcbiAgICBwcmV2ZW50U2tpcHBpbmdGb290ZXIoKTogdm9pZDtcbiAgICBpc0hlYWRlclJlZ2lzdGVyZWQoKTogYm9vbGVhbjtcbiAgICBpc0Zvb3RlclJlZ2lzdGVyZWQoKTogYm9vbGVhbjtcbiAgICBpc0hlYWRlclNvdXJjZU5vZGUobm9kZTogTm9kZSk6IGJvb2xlYW47XG4gICAgaXNGb290ZXJTb3VyY2VOb2RlKG5vZGU6IE5vZGUpOiBib29sZWFuO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnRcbiAgICBleHRlbmRzIExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnQge1xuICAgIGdldFJlcGV0aXRpdmVFbGVtZW50cygpOiBSZXBldGl0aXZlRWxlbWVudHM7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gaXNJbnN0YW5jZU9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50KFxuICAgIG9iamVjdDogTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludCxcbiAgKTogb2JqZWN0IGlzIFJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludCB7XG4gICAgaWYgKCFvYmplY3QpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IG9iamVjdC5mbGFnbWVudExheW91dENvbnN0cmFpbnRUeXBlO1xuICAgIHJldHVybiAoXG4gICAgICB0eXBlID09PSBcIlJlcGV0aXRpdmVFbGVtZW50c093bmVyXCIgfHxcbiAgICAgIFRhYmxlLmlzSW5zdGFuY2VPZlRhYmxlUm93TGF5b3V0Q29uc3RyYWludChvYmplY3QpXG4gICAgKTsgLy8gc3Vic2V0XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBUYWJsZSB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgVGFibGVGb3JtYXR0aW5nQ29udGV4dFxuICAgIGV4dGVuZHMgUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCB7XG4gICAgLy8gRklYTUVcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBpc0luc3RhbmNlT2ZUYWJsZUZvcm1hdHRpbmdDb250ZXh0KFxuICAgIG9iamVjdDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQsXG4gICk6IG9iamVjdCBpcyBUYWJsZUZvcm1hdHRpbmdDb250ZXh0IHtcbiAgICByZXR1cm4gb2JqZWN0ICYmIG9iamVjdC5mb3JtYXR0aW5nQ29udGV4dFR5cGUgPT09IFwiVGFibGVcIjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGFibGVSb3dMYXlvdXRDb25zdHJhaW50XG4gICAgZXh0ZW5kcyBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnQge1xuICAgIGNlbGxGcmFnbWVudExheW91dENvbnN0cmFpbnRzOiB7XG4gICAgICBjb25zdHJhaW50czogTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludFtdO1xuICAgICAgYnJlYWtQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgfVtdO1xuXG4gICAgcmVtb3ZlRHVtbXlSb3dOb2Rlcyhub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiB2b2lkO1xuICAgIGdldEVsZW1lbnRzT2Zmc2V0c0ZvclRhYmxlQ2VsbChcbiAgICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICApOiBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldFtdO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGlzSW5zdGFuY2VPZlRhYmxlUm93TGF5b3V0Q29uc3RyYWludChcbiAgICBvYmplY3Q6IExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnQsXG4gICk6IG9iamVjdCBpcyBUYWJsZVJvd0xheW91dENvbnN0cmFpbnQge1xuICAgIHJldHVybiBvYmplY3QgJiYgb2JqZWN0LmZsYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUgPT09IFwiVGFibGVSb3dcIjtcbiAgfVxufVxuXG5leHBvcnQgbmFtZXNwYWNlIFZ0cmVlIHtcbiAgZXhwb3J0IHR5cGUgQ2xpZW50UmVjdCA9IHtcbiAgICBsZWZ0OiBudW1iZXI7XG4gICAgdG9wOiBudW1iZXI7XG4gICAgcmlnaHQ6IG51bWJlcjtcbiAgICBib3R0b206IG51bWJlcjtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnRlcmZhY2UgdG8gcmVhZCB0aGUgcG9zaXRpb24gYXNzaWduZWQgdG8gdGhlIGVsZW1lbnRzIGFuZCByYW5nZXMgYnkgdGhlXG4gICAqIGJyb3dzZXIuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIENsaWVudExheW91dCB7XG4gICAgZ2V0UmFuZ2VDbGllbnRSZWN0cyhyYW5nZTogUmFuZ2UpOiBDbGllbnRSZWN0W107XG4gICAgZ2V0RWxlbWVudENsaWVudFJlY3QoZWxlbWVudDogRWxlbWVudCk6IENsaWVudFJlY3Q7XG4gICAgLyoqXG4gICAgICogQHJldHVybiBlbGVtZW50J3MgY29tcHV0ZWQgc3R5bGVcbiAgICAgKi9cbiAgICBnZXRFbGVtZW50Q29tcHV0ZWRTdHlsZShlbGVtZW50OiBFbGVtZW50KTogQ1NTU3R5bGVEZWNsYXJhdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdHlsaW5nLCBjcmVhdGluZyBhIHNpbmdsZSBub2RlJ3MgdmlldywgZXRjLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBMYXlvdXRDb250ZXh0IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQsIGJ1dCB1bmluaXRpYWxpemVkIGxheW91dCBjb250ZXh0LFxuICAgICAqIHN1aXRhYmxlIGZvciBidWlsZGluZyBhIHNlcGFyYXRlIGNvbHVtbi5cbiAgICAgKi9cbiAgICBjbG9uZSgpOiBMYXlvdXRDb250ZXh0O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY3VycmVudCBzb3VyY2Ugbm9kZSBhbmQgY3JlYXRlIGEgdmlldy4gUGFyYW1ldGVyIGZpcnN0VGltZVxuICAgICAqIGlzIHRydWUgKGFuZCBwb3NzaWJseSBvZmZzZXRJbk5vZGUgPiAwKSBpZiBub2RlIHdhcyBicm9rZW4gb25cbiAgICAgKiB0aGUgcHJldmlvdXMgcGFnZS5cbiAgICAgKiBAcmV0dXJuIHRydWUgaWYgY2hpbGRyZW4gc2hvdWxkIGJlIHByb2Nlc3NlZCBhcyB3ZWxsXG4gICAgICovXG4gICAgc2V0Q3VycmVudChcbiAgICAgIG5vZGVDb250ZXh0OiBOb2RlQ29udGV4dCxcbiAgICAgIGZpcnN0VGltZTogYm9vbGVhbixcbiAgICAgIGF0VW5mb3JjZWRCcmVhaz86IGJvb2xlYW4sXG4gICAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjb250YWluZXIgZWxlbWVudCB0aGF0IGhvbGRzIHZpZXcgZWxlbWVudHMgcHJvZHVjZWQgZnJvbSB0aGVcbiAgICAgKiBzb3VyY2UuXG4gICAgICovXG4gICAgc2V0Vmlld1Jvb3Qodmlld1Jvb3Q6IEVsZW1lbnQsIGlzRm9vdG5vdGU6IGJvb2xlYW4pO1xuICAgIC8qKlxuICAgICAqIE1vdmVzIHRvIHRoZSBuZXh0IHZpZXcgbm9kZSwgY3JlYXRpbmcgaXQgYW5kIGFwcGVuZGluZyBpdCB0byB0aGUgdmlldyB0cmVlXG4gICAgICogaWYgbmVlZGVkLlxuICAgICAqIEByZXR1cm4gdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgbmV4dCB2aWV3IG5vZGVcbiAgICAgKi9cbiAgICBuZXh0SW5UcmVlKFxuICAgICAgbm9kZUNvbnRleHQ6IE5vZGVDb250ZXh0LFxuICAgICAgYXRVbmZvcmNlZEJyZWFrPzogYm9vbGVhbixcbiAgICApOiBUYXNrLlJlc3VsdDxOb2RlQ29udGV4dD47XG4gICAgLyoqXG4gICAgICogQXBwbHkgcHNldWRvLWVsZW1lbnQgc3R5bGVzIChpZiBhbnkpLlxuICAgICAqIEBwYXJhbSB0YXJnZXQgZWxlbWVudCB0byBhcHBseSBzdHlsZXMgdG9cbiAgICAgKi9cbiAgICBhcHBseVBzZXVkb2VsZW1lbnRTdHlsZShcbiAgICAgIG5vZGVDb250ZXh0OiBOb2RlQ29udGV4dCxcbiAgICAgIHBzZXVkb05hbWU6IHN0cmluZyxcbiAgICAgIHRhcmdldDogRWxlbWVudCxcbiAgICApOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIEFwcGx5IHN0eWxlcyB0byBmb290bm90ZSBjb250YWluZXIuXG4gICAgICogQHBhcmFtIHRhcmdldCBlbGVtZW50IHRvIGFwcGx5IHN0eWxlcyB0b1xuICAgICAqIEByZXR1cm4gdmVydGljYWxcbiAgICAgKi9cbiAgICBhcHBseUZvb3Rub3RlU3R5bGUoXG4gICAgICB2ZXJ0aWNhbDogYm9vbGVhbixcbiAgICAgIHJ0bDogYm9vbGVhbixcbiAgICAgIHRhcmdldDogRWxlbWVudCxcbiAgICApOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIFBlZWwgb2ZmIGlubmVybW9zdCBmaXJzdC1YWFggcHNldWRvZWxlbWVudCwgY3JlYXRlIGFuZCBjcmVhdGUgdmlldyBub2Rlc1xuICAgICAqIGFmdGVyIHRoZSBlbmQgb2YgdGhhdCBwc2V1ZG9lbGVtZW50LlxuICAgICAqL1xuICAgIHBlZWxPZmYoXG4gICAgICBub2RlQ29udGV4dDogTm9kZUNvbnRleHQsXG4gICAgICBub2RlT2Zmc2V0OiBudW1iZXIsXG4gICAgKTogVGFzay5SZXN1bHQ8Tm9kZUNvbnRleHQ+O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgYSBibG9jay1lbmQgZWRnZSBvZiBhIGZyYWdtZW50ZWQgYmxvY2suXG4gICAgICovXG4gICAgcHJvY2Vzc0ZyYWdtZW50ZWRCbG9ja0VkZ2Uobm9kZUNvbnRleHQ6IE5vZGVDb250ZXh0KTtcbiAgICBjb252ZXJ0TGVuZ3RoVG9QeChcbiAgICAgIG51bWVyaWM6IENzcy5OdW1lcmljLFxuICAgICAgdmlld05vZGU6IE5vZGUsXG4gICAgICBjbGllbnRMYXlvdXQ6IENsaWVudExheW91dCxcbiAgICApOiBudW1iZXIgfCBDc3MuTnVtZXJpYztcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGlmIHR3byBOb2RlUG9zaXRpb25zIHJlcHJlc2VudHMgdGhlIHNhbWUgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50LlxuICAgICAqL1xuICAgIGlzU2FtZU5vZGVQb3NpdGlvbihcbiAgICAgIG5vZGVQb3NpdGlvbjE6IE5vZGVQb3NpdGlvbixcbiAgICAgIG5vZGVQb3NpdGlvbjI6IE5vZGVQb3NpdGlvbixcbiAgICApOiBib29sZWFuO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICB0eXBlOiBzdHJpbmcsXG4gICAgICBsaXN0ZW5lcjogQmFzZS5FdmVudExpc3RlbmVyLFxuICAgICAgY2FwdHVyZT86IGJvb2xlYW4sXG4gICAgKTogdm9pZDtcbiAgICByZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgdHlwZTogc3RyaW5nLFxuICAgICAgbGlzdGVuZXI6IEJhc2UuRXZlbnRMaXN0ZW5lcixcbiAgICAgIGNhcHR1cmU/OiBib29sZWFuLFxuICAgICk6IHZvaWQ7XG4gICAgZGlzcGF0Y2hFdmVudChldnQ6IEJhc2UuRXZlbnQpOiB2b2lkO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdHRpbmcgY29udGV4dC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRm9ybWF0dGluZ0NvbnRleHQge1xuICAgIGZvcm1hdHRpbmdDb250ZXh0VHlwZTogRm9ybWF0dGluZ0NvbnRleHRUeXBlO1xuICAgIGdldE5hbWUoKTogc3RyaW5nO1xuICAgIGlzRmlyc3RUaW1lKG5vZGVDb250ZXh0OiBOb2RlQ29udGV4dCwgZmlyc3RUaW1lOiBib29sZWFuKTogYm9vbGVhbjtcbiAgICBnZXRQYXJlbnQoKTogRm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgc2F2ZVN0YXRlKCk6IGFueTtcbiAgICByZXN0b3JlU3RhdGUoc3RhdGU6IGFueSk7XG4gIH1cblxuICBleHBvcnQgdHlwZSBOb2RlUG9zaXRpb25TdGVwID0ge1xuICAgIG5vZGU6IE5vZGU7XG4gICAgc2hhZG93VHlwZTogU2hhZG93VHlwZTtcbiAgICBzaGFkb3dDb250ZXh0OiBTaGFkb3dDb250ZXh0IHwgbnVsbDtcbiAgICBub2RlU2hhZG93OiBTaGFkb3dDb250ZXh0IHwgbnVsbDtcbiAgICBzaGFkb3dTaWJsaW5nOiBOb2RlUG9zaXRpb25TdGVwIHwgbnVsbDtcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogRm9ybWF0dGluZ0NvbnRleHQgfCBudWxsO1xuICAgIGZyYWdtZW50SW5kZXg6IG51bWJlcjtcbiAgfTtcblxuICBleHBvcnQgdHlwZSBOb2RlUG9zaXRpb24gPSB7XG4gICAgc3RlcHM6IE5vZGVQb3NpdGlvblN0ZXBbXTtcbiAgICBvZmZzZXRJbk5vZGU6IG51bWJlcjtcbiAgICBhZnRlcjogYm9vbGVhbjtcbiAgICBwcmVwcm9jZXNzZWRUZXh0Q29udGVudDogRGlmZi5DaGFuZ2VbXSB8IG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsaW5nIG9mIHB1cmVseSB3aGl0ZXNwYWNlIHNlcXVlbmNlcyBiZXR3ZWVuIGJsb2Nrc1xuICAgKiBAZW51bSB7bnVtYmVyfVxuICAgKi9cbiAgZXhwb3J0IGVudW0gV2hpdGVzcGFjZSB7XG4gICAgLyoqXG4gICAgICogV2hpdGVzcGFjZSBzZXF1ZW5jZSBiZXR3ZWVuIGJsb2NrcyBpcyBpZ25vcmVkXG4gICAgICovXG4gICAgSUdOT1JFLFxuICAgIC8qKlxuICAgICAqIFdoaXRlc3BhY2Ugc2VxdWVuY2UgYmV0d2VlbiBibG9ja3MgaXMgaWdub3JlZCB1bmxlc3MgaXQgY29udGFpbmVzIG5ld2xpbmVcbiAgICAgKi9cbiAgICBORVdMSU5FLFxuICAgIC8qKlxuICAgICAqIFdoaXRlc3BhY2Ugc2VxdWVuY2UgYmV0d2VlbiBibG9ja3MgaXMgcHJlc2VydmVkXG4gICAgICovXG4gICAgUFJFU0VSVkUsXG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIENvbnRhaW5lciB7XG4gICAgbGVmdDogbnVtYmVyO1xuICAgIHRvcDogbnVtYmVyO1xuICAgIG1hcmdpbkxlZnQ6IG51bWJlcjtcbiAgICBtYXJnaW5SaWdodDogbnVtYmVyO1xuICAgIG1hcmdpblRvcDogbnVtYmVyO1xuICAgIG1hcmdpbkJvdHRvbTogbnVtYmVyO1xuICAgIGJvcmRlckxlZnQ6IG51bWJlcjtcbiAgICBib3JkZXJSaWdodDogbnVtYmVyO1xuICAgIGJvcmRlclRvcDogbnVtYmVyO1xuICAgIGJvcmRlckJvdHRvbTogbnVtYmVyO1xuICAgIHBhZGRpbmdMZWZ0OiBudW1iZXI7XG4gICAgcGFkZGluZ1JpZ2h0OiBudW1iZXI7XG4gICAgcGFkZGluZ1RvcDogbnVtYmVyO1xuICAgIHBhZGRpbmdCb3R0b206IG51bWJlcjtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIG9yaWdpblg6IG51bWJlcjtcbiAgICBvcmlnaW5ZOiBudW1iZXI7XG4gICAgZXhjbHVzaW9uczogR2VvbWV0cnlVdGlsLlNoYXBlW107XG4gICAgaW5uZXJTaGFwZTogR2VvbWV0cnlVdGlsLlNoYXBlO1xuICAgIGNvbXB1dGVkQmxvY2tTaXplOiBudW1iZXI7XG4gICAgc25hcFdpZHRoOiBudW1iZXI7XG4gICAgc25hcEhlaWdodDogbnVtYmVyO1xuICAgIHNuYXBPZmZzZXRYOiBudW1iZXI7XG4gICAgc25hcE9mZnNldFk6IG51bWJlcjtcbiAgICB2ZXJ0aWNhbDogYm9vbGVhbjsgLy8gdmVydGljYWwgd3JpdGluZ1xuICAgIGVsZW1lbnQ6IEVsZW1lbnQ7XG5cbiAgICBnZXRJbnNldFRvcCgpOiBudW1iZXI7XG4gICAgZ2V0SW5zZXRCb3R0b20oKTogbnVtYmVyO1xuICAgIGdldEluc2V0TGVmdCgpOiBudW1iZXI7XG4gICAgZ2V0SW5zZXRSaWdodCgpOiBudW1iZXI7XG4gICAgZ2V0SW5zZXRCZWZvcmUoKTogbnVtYmVyO1xuICAgIGdldEluc2V0QWZ0ZXIoKTogbnVtYmVyO1xuICAgIGdldEluc2V0U3RhcnQoKTogbnVtYmVyO1xuICAgIGdldEluc2V0RW5kKCk6IG51bWJlcjtcbiAgICBnZXRCZWZvcmVFZGdlKGJveDogQ2xpZW50UmVjdCk6IG51bWJlcjtcbiAgICBnZXRBZnRlckVkZ2UoYm94OiBDbGllbnRSZWN0KTogbnVtYmVyO1xuICAgIGdldFN0YXJ0RWRnZShib3g6IENsaWVudFJlY3QpOiBudW1iZXI7XG4gICAgZ2V0RW5kRWRnZShib3g6IENsaWVudFJlY3QpOiBudW1iZXI7XG4gICAgZ2V0SW5saW5lU2l6ZShib3g6IENsaWVudFJlY3QpOiBudW1iZXI7XG4gICAgZ2V0Qm94U2l6ZShib3g6IENsaWVudFJlY3QpOiBudW1iZXI7XG4gICAgZ2V0Qm94RGlyKCk6IG51bWJlcjtcbiAgICBnZXRJbmxpbmVEaXIoKTogbnVtYmVyO1xuICAgIGNvcHlGcm9tKG90aGVyOiBDb250YWluZXIpOiB2b2lkO1xuICAgIHNldFZlcnRpY2FsUG9zaXRpb24odG9wOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZDtcbiAgICBzZXRIb3Jpem9udGFsUG9zaXRpb24obGVmdDogbnVtYmVyLCB3aWR0aDogbnVtYmVyKTogdm9pZDtcbiAgICBzZXRCbG9ja1Bvc2l0aW9uKHN0YXJ0OiBudW1iZXIsIGV4dGVudDogbnVtYmVyKTogdm9pZDtcbiAgICBzZXRJbmxpbmVQb3NpdGlvbihzdGFydDogbnVtYmVyLCBleHRlbnQ6IG51bWJlcik6IHZvaWQ7XG4gICAgY2xlYXIoKTogdm9pZDtcbiAgICBnZXRJbm5lclNoYXBlKCk6IEdlb21ldHJ5VXRpbC5TaGFwZTtcbiAgICBnZXRJbm5lclJlY3QoKTogR2VvbWV0cnlVdGlsLlJlY3Q7XG4gICAgZ2V0UGFkZGluZ1JlY3QoKTogR2VvbWV0cnlVdGlsLlJlY3Q7XG4gICAgZ2V0T3V0ZXJTaGFwZShcbiAgICAgIG91dGVyU2hhcGVQcm9wOiBDc3MuVmFsLFxuICAgICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICApOiBHZW9tZXRyeVV0aWwuU2hhcGU7XG4gICAgZ2V0T3V0ZXJSZWN0KCk6IEdlb21ldHJ5VXRpbC5SZWN0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBlbnVtIHtudW1iZXJ9XG4gICAqL1xuICBleHBvcnQgZW51bSBTaGFkb3dUeXBlIHtcbiAgICBOT05FLFxuICAgIENPTlRFTlQsXG4gICAgUk9PVExFU1MsXG4gICAgUk9PVEVELFxuICB9XG5cbiAgLyoqXG4gICAqIERhdGEgYWJvdXQgc2hhZG93IHRyZWUgaW5zdGFuY2UuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFNoYWRvd0NvbnRleHQge1xuICAgIHJlYWRvbmx5IG93bmVyOiBFbGVtZW50O1xuICAgIHJlYWRvbmx5IHJvb3Q6IEVsZW1lbnQ7XG4gICAgcmVhZG9ubHkgeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyO1xuICAgIHJlYWRvbmx5IHBhcmVudFNoYWRvdzogU2hhZG93Q29udGV4dDtcbiAgICBzdWJTaGFkb3c6IFNoYWRvd0NvbnRleHQ7XG4gICAgcmVhZG9ubHkgdHlwZTogVnRyZWUuU2hhZG93VHlwZTtcbiAgICByZWFkb25seSBzdHlsZXI6IG9iamVjdDtcblxuICAgIGVxdWFscyhvdGhlcjogU2hhZG93Q29udGV4dCk6IGJvb2xlYW47XG4gIH1cblxuICAvKipcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgOmZpcnN0LWxldHRlciBvciA6Zmlyc3QtbGluZSBwc2V1ZG9lbGVtZW50c1xuICAgKiBAcGFyYW0gY291bnQgMCAtIGZpcnN0LWxldHRlciwgMSBvciBtb3JlIC0gZmlyc3QgbGluZShzKVxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGaXJzdFBzZXVkbyB7XG4gICAgcmVhZG9ubHkgb3V0ZXI6IEZpcnN0UHNldWRvO1xuICAgIHJlYWRvbmx5IGNvdW50OiBudW1iZXI7XG4gIH1cblxuICAvKipcbiAgICogTm9kZUNvbnRleHQgcmVwcmVzZW50cyBhIHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudCArIGxheW91dC1yZWxhdGVkXG4gICAqIGluZm9ybWF0aW9uIGF0dGFjaGVkIHRvIGl0LiBXaGVuIGFmdGVyPWZhbHNlIGFuZCBvZmZzZXRJbk5vZGU9MCwgdGhlXG4gICAqIHBvc2l0aW9uIGlzIGluc2lkZSB0aGUgZWxlbWVudCAobm9kZSksIGJ1dCBqdXN0IGJlZm9yZSBpdHMgZmlyc3QgY2hpbGQuXG4gICAqIFdoZW4gb2Zmc2V0SW5Ob2RlPjAgaXQgcmVwcmVzZW50cyBvZmZzZXQgaW4gdGhlIHRleHR1YWwgY29udGVudCBvZiB0aGVcbiAgICogbm9kZS4gV2hlbiBhZnRlcj10cnVlIGl0IHJlcHJlc2VudHMgcG9zaXRpb24gcmlnaHQgYWZ0ZXIgdGhlIGxhc3QgY2hpbGRcbiAgICogb2YgdGhlIG5vZGUuIGJveE9mZnNldCBpcyBpbmNyZW1lbnRlZCBieSAxIGZvciBhbnkgdmFsaWQgbm9kZSBwb3NpdGlvbi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgTm9kZUNvbnRleHQge1xuICAgIC8vIHBvc2l0aW9uIGl0c2VsZlxuICAgIG9mZnNldEluTm9kZTogbnVtYmVyO1xuICAgIGFmdGVyOiBib29sZWFuO1xuICAgIHNoYWRvd1R5cGU6IFNoYWRvd1R5cGU7IC8vIHBhcmVudCdzIHNoYWRvdyB0eXBlXG4gICAgc2hhZG93Q29udGV4dDogVnRyZWUuU2hhZG93Q29udGV4dDtcbiAgICBub2RlU2hhZG93OiBWdHJlZS5TaGFkb3dDb250ZXh0O1xuICAgIHNoYWRvd1NpYmxpbmc6IE5vZGVDb250ZXh0OyAvLyBuZXh0IFwic2libGluZ1wiIGluIHRoZSBzaGFkb3cgdHJlZVxuICAgIC8vIG90aGVyIHN0dWZmXG4gICAgc2hhcmVkOiBib29sZWFuO1xuICAgIGlubGluZTogYm9vbGVhbjtcbiAgICBvdmVyZmxvdzogYm9vbGVhbjtcbiAgICBicmVha1BlbmFsdHk6IG51bWJlcjtcbiAgICBkaXNwbGF5OiBzdHJpbmcgfCBudWxsO1xuICAgIGZsb2F0UmVmZXJlbmNlOiBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlO1xuICAgIGZsb2F0U2lkZTogc3RyaW5nIHwgbnVsbDtcbiAgICBjbGVhclNpZGU6IHN0cmluZyB8IG51bGw7XG4gICAgZmxvYXRNaW5XcmFwQmxvY2s6IENzcy5OdW1lcmljIHwgbnVsbDtcbiAgICBjb2x1bW5TcGFuOiBDc3MuVmFsIHwgbnVsbDtcbiAgICB2ZXJ0aWNhbEFsaWduOiBzdHJpbmc7XG4gICAgY2FwdGlvblNpZGU6IHN0cmluZztcbiAgICBpbmxpbmVCb3JkZXJTcGFjaW5nOiBudW1iZXI7XG4gICAgYmxvY2tCb3JkZXJTcGFjaW5nOiBudW1iZXI7XG4gICAgZmxleENvbnRhaW5lcjogYm9vbGVhbjtcbiAgICB3aGl0ZXNwYWNlOiBXaGl0ZXNwYWNlO1xuICAgIGh5cGhlbmF0ZUNoYXJhY3Rlcjogc3RyaW5nIHwgbnVsbDtcbiAgICBicmVha1dvcmQ6IGJvb2xlYW47XG4gICAgZXN0YWJsaXNoZXNCRkM6IGJvb2xlYW47XG4gICAgY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGU6IGJvb2xlYW47XG4gICAgYnJlYWtCZWZvcmU6IHN0cmluZyB8IG51bGw7XG4gICAgYnJlYWtBZnRlcjogc3RyaW5nIHwgbnVsbDtcbiAgICB2aWV3Tm9kZTogTm9kZTtcbiAgICBjbGVhclNwYWNlcjogTm9kZTtcbiAgICBpbmhlcml0ZWRQcm9wczogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfCBzdHJpbmcgfCBDc3MuVmFsIH07XG4gICAgdmVydGljYWw6IGJvb2xlYW47XG4gICAgZGlyZWN0aW9uOiBzdHJpbmc7XG4gICAgZmlyc3RQc2V1ZG86IEZpcnN0UHNldWRvO1xuICAgIGxhbmc6IHN0cmluZyB8IG51bGw7XG4gICAgcHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQ6IERpZmYuQ2hhbmdlW10gfCBudWxsO1xuICAgIGZvcm1hdHRpbmdDb250ZXh0OiBGb3JtYXR0aW5nQ29udGV4dDtcbiAgICByZXBlYXRPbkJyZWFrOiBzdHJpbmcgfCBudWxsO1xuICAgIHBsdWdpblByb3BzOiB7XG4gICAgICBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCB1bmRlZmluZWQgfCBudWxsIHwgKG51bWJlciB8IG51bGwpW107XG4gICAgfTtcbiAgICBmcmFnbWVudEluZGV4OiBudW1iZXI7XG4gICAgYWZ0ZXJJZkNvbnRpbnVlczogU2VsZWN0b3JzLkFmdGVySWZDb250aW51ZXM7XG4gICAgZm9vdG5vdGVQb2xpY3k6IENzcy5JZGVudCB8IG51bGw7XG5cbiAgICBzb3VyY2VOb2RlOiBOb2RlO1xuICAgIHBhcmVudDogTm9kZUNvbnRleHQ7XG4gICAgYm94T2Zmc2V0OiBudW1iZXI7XG5cbiAgICByZXNldFZpZXcoKTogdm9pZDtcbiAgICBtb2RpZnkoKTogTm9kZUNvbnRleHQ7XG4gICAgY29weSgpOiBOb2RlQ29udGV4dDtcbiAgICBjbG9uZSgpOiBOb2RlQ29udGV4dDtcbiAgICB0b05vZGVQb3NpdGlvblN0ZXAoKTogTm9kZVBvc2l0aW9uU3RlcDtcbiAgICB0b05vZGVQb3NpdGlvbigpOiBOb2RlUG9zaXRpb247XG4gICAgaXNJbnNpZGVCRkMoKTogYm9vbGVhbjtcbiAgICBnZXRDb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSgpOiBOb2RlQ29udGV4dDtcbiAgICAvKipcbiAgICAgKiBXYWxrIHVwIE5vZGVDb250ZXh0IHRyZWUgKHN0YXJ0aW5nIGZyb20gaXRzZWxmKSBhbmQgY2FsbCB0aGUgY2FsbGJhY2sgZm9yXG4gICAgICogZWFjaCBibG9jay5cbiAgICAgKi9cbiAgICB3YWxrVXBCbG9ja3MoY2FsbGJhY2s6IChwMTogTm9kZUNvbnRleHQpID0+IGFueSk6IHZvaWQ7XG4gICAgYmVsb25nc1RvKGZvcm1hdHRpbmdDb250ZXh0OiBGb3JtYXR0aW5nQ29udGV4dCk6IGJvb2xlYW47XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIENodW5rUG9zaXRpb24ge1xuICAgIGZsb2F0czogTm9kZVBvc2l0aW9uW107XG4gICAgcHJpbWFyeTogTm9kZVBvc2l0aW9uO1xuXG4gICAgY2xvbmUoKTogQ2h1bmtQb3NpdGlvbjtcbiAgICBpc1NhbWVQb3NpdGlvbihvdGhlcjogQ2h1bmtQb3NpdGlvbik6IGJvb2xlYW47XG4gIH1cblxuICBleHBvcnQgdHlwZSBFeHByQ29udGVudExpc3RlbmVyID0gKFxuICAgIHAxOiBFeHBycy5WYWwsXG4gICAgcDI6IHN0cmluZyxcbiAgICBwMzogRG9jdW1lbnQsXG4gICkgPT4gTm9kZSB8IG51bGw7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgWG1sRG9jIHtcbiAgZXhwb3J0IGludGVyZmFjZSBYTUxEb2NIb2xkZXIge1xuICAgIGxhbmc6IHN0cmluZyB8IG51bGw7XG4gICAgdG90YWxPZmZzZXQ6IG51bWJlcjtcbiAgICByb290OiBFbGVtZW50O1xuICAgIGJvZHk6IEVsZW1lbnQ7XG4gICAgaGVhZDogRWxlbWVudDtcbiAgICBsYXN0OiBFbGVtZW50O1xuICAgIGxhc3RPZmZzZXQ6IG51bWJlcjtcbiAgICBpZE1hcDogeyBba2V5OiBzdHJpbmddOiBFbGVtZW50IH07XG4gICAgcmVhZG9ubHkgc3RvcmU6IFhNTERvY1N0b3JlO1xuICAgIHJlYWRvbmx5IHVybDogc3RyaW5nO1xuICAgIHJlYWRvbmx5IGRvY3VtZW50OiBEb2N1bWVudDtcblxuICAgIGRvYygpOiBOb2RlTGlzdDtcbiAgICBnZXRFbGVtZW50T2Zmc2V0KGVsZW1lbnQ6IEVsZW1lbnQpOiBudW1iZXI7XG4gICAgZ2V0Tm9kZU9mZnNldChzcmNOb2RlOiBOb2RlLCBvZmZzZXRJbk5vZGU6IG51bWJlciwgYWZ0ZXI6IGJvb2xlYW4pOiBudW1iZXI7XG4gICAgZ2V0VG90YWxPZmZzZXQoKTogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gbGFzdCBub2RlIHN1Y2ggdGhhdCBpdHMgb2Zmc2V0IGlzIGxlc3Mgb3IgZXF1YWwgdG8gdGhlIGdpdmVuXG4gICAgICovXG4gICAgZ2V0Tm9kZUJ5T2Zmc2V0KG9mZnNldDogbnVtYmVyKTogTm9kZTtcbiAgICAvKipcbiAgICAgKiBHZXQgZWxlbWVudCBieSBVUkwgaW4gdGhlIHNvdXJjZSBkb2N1bWVudChzKS4gVVJMIG11c3QgYmUgaW4gZWl0aGVyICcjaWQnXG4gICAgICogb3IgJ3VybCNpZCcgZm9ybS5cbiAgICAgKi9cbiAgICBnZXRFbGVtZW50KHVybDogc3RyaW5nKTogRWxlbWVudCB8IG51bGw7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFByZWRpY2F0ZSB7XG4gICAgcmVhZG9ubHkgZm46IChwMTogTm9kZSkgPT4gYm9vbGVhbjtcblxuICAgIGNoZWNrKG5vZGU6IE5vZGUpOiBib29sZWFuO1xuICAgIHdpdGhBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogUHJlZGljYXRlO1xuICAgIHdpdGhDaGlsZChuYW1lOiBzdHJpbmcsIG9wdF9jaGlsZFByZWRpY2F0ZT86IFByZWRpY2F0ZSk6IFByZWRpY2F0ZTtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgTm9kZUxpc3Qge1xuICAgIHJlYWRvbmx5IG5vZGVzOiBOb2RlW107XG5cbiAgICBhc0FycmF5KCk6IE5vZGVbXTtcbiAgICBzaXplKCk6IG51bWJlcjtcbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgd2l0aCBwcmVkaWNhdGVcbiAgICAgKi9cbiAgICBwcmVkaWNhdGUocHI6IFByZWRpY2F0ZSk6IE5vZGVMaXN0O1xuICAgIGZvckVhY2hOb2RlKGZuOiAocDE6IE5vZGUsIHAyOiAocDE6IE5vZGUpID0+IHZvaWQpID0+IHZvaWQpOiBOb2RlTGlzdDtcbiAgICBmb3JFYWNoPFQ+KGZuOiAocDE6IE5vZGUpID0+IFQpOiBUW107XG4gICAgZm9yRWFjaE5vbk51bGw8VD4oZm46IChwMTogTm9kZSkgPT4gVCk6IFRbXTtcbiAgICBjaGlsZCh0YWc6IHN0cmluZyk6IE5vZGVMaXN0O1xuICAgIGNoaWxkRWxlbWVudHMoKTogTm9kZUxpc3Q7XG4gICAgYXR0cmlidXRlKG5hbWU6IHN0cmluZyk6IChzdHJpbmcgfCBudWxsKVtdO1xuICAgIHRleHRDb250ZW50KCk6IChzdHJpbmcgfCBudWxsKVtdO1xuICB9XG5cbiAgZXhwb3J0IHR5cGUgWE1MRG9jU3RvcmUgPSBOZXQuUmVzb3VyY2VTdG9yZTxYTUxEb2NIb2xkZXI+O1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgRGlmZiB1dGlsaXR5XG4gKi9cblxuaW1wb3J0IGZhc3RkaWZmIGZyb20gXCJmYXN0LWRpZmZcIjtcblxuZXhwb3J0IHR5cGUgQ2hhbmdlID0gKG51bWJlciB8IHN0cmluZylbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRpZmZDaGFycyhvcmlnaW5hbFRleHQ6IHN0cmluZywgbmV3VGV4dDogc3RyaW5nKTogQ2hhbmdlW10ge1xuICByZXR1cm4gZmFzdGRpZmYob3JpZ2luYWxUZXh0LCBuZXdUZXh0LCAwKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc3RvcmVPcmlnaW5hbFRleHQoY2hhbmdlczogQ2hhbmdlW10pOiBhbnkge1xuICByZXR1cm4gY2hhbmdlcy5yZWR1Y2UoKHJlc3VsdCwgaXRlbSkgPT4ge1xuICAgIGlmIChpdGVtWzBdID09PSBmYXN0ZGlmZi5JTlNFUlQpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQgKyBpdGVtWzFdO1xuICB9LCBcIlwiKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc3RvcmVOZXdUZXh0KGNoYW5nZXM6IENoYW5nZVtdKTogYW55IHtcbiAgcmV0dXJuIGNoYW5nZXMucmVkdWNlKChyZXN1bHQsIGl0ZW0pID0+IHtcbiAgICBpZiAoaXRlbVswXSA9PT0gZmFzdGRpZmYuREVMRVRFKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0ICsgaXRlbVsxXTtcbiAgfSwgXCJcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlTmV3SW5kZXgoY2hhbmdlczogQ2hhbmdlW10sIG9sZEluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gcmVzb2x2ZUluZGV4KGNoYW5nZXMsIG9sZEluZGV4LCAxKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVPcmlnaW5hbEluZGV4KFxuICBjaGFuZ2VzOiBDaGFuZ2VbXSxcbiAgbmV3SW5kZXg6IG51bWJlcixcbik6IG51bWJlciB7XG4gIHJldHVybiByZXNvbHZlSW5kZXgoY2hhbmdlcywgbmV3SW5kZXgsIC0xKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVJbmRleChcbiAgY2hhbmdlczogQ2hhbmdlW10sXG4gIGluZGV4OiBudW1iZXIsXG4gIGNvZWY6IG51bWJlcixcbik6IG51bWJlciB7XG4gIGxldCBkaWZmID0gMDtcbiAgbGV0IGN1cnJlbnQgPSAwO1xuICBjaGFuZ2VzLnNvbWUoKGNoYW5nZSkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgKGNoYW5nZVsxXSBhcyBzdHJpbmcpLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzd2l0Y2ggKChjaGFuZ2VbMF0gYXMgbnVtYmVyKSAqIGNvZWYpIHtcbiAgICAgICAgY2FzZSBmYXN0ZGlmZi5JTlNFUlQ6XG4gICAgICAgICAgZGlmZisrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGZhc3RkaWZmLkRFTEVURTpcbiAgICAgICAgICBkaWZmLS07XG4gICAgICAgICAgY3VycmVudCsrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGZhc3RkaWZmLkVRVUFMOlxuICAgICAgICAgIGN1cnJlbnQrKztcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50ID4gaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG4gIHJldHVybiBNYXRoLm1heChNYXRoLm1pbihpbmRleCwgY3VycmVudCAtIDEpICsgZGlmZiwgMCk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFZ0cmVlIC0gQmFzaWMgdmlldyB0cmVlIGRhdGEgc3RydWN0dXJlcyBhbmQgc3VwcG9ydCB1dGlsaXRpZXMuXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgQ3NzUGFyc2VyIGZyb20gXCIuL2Nzcy1wYXJzZXJcIjtcbmltcG9ydCAqIGFzIENzc1Byb3AgZnJvbSBcIi4vY3NzLXByb3BcIjtcbmltcG9ydCAqIGFzIENzc1Rva2VuaXplciBmcm9tIFwiLi9jc3MtdG9rZW5pemVyXCI7XG5pbXBvcnQgKiBhcyBEaWZmIGZyb20gXCIuL2RpZmZcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBHZW9tZXRyeVV0aWwgZnJvbSBcIi4vZ2VvbWV0cnktdXRpbFwiO1xuaW1wb3J0ICogYXMgVGFza1V0aWwgZnJvbSBcIi4vdGFzay11dGlsXCI7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgeyBQYWdlRmxvYXRzLCBTZWxlY3RvcnMsIFZ0cmVlLCBYbWxEb2MgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgZGVsYXllZFByb3BzID0ge1xuICB0cmFuc2Zvcm06IHRydWUsXG4gIFwidHJhbnNmb3JtLW9yaWdpblwiOiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IGRlbGF5ZWRQcm9wc0lmUmVsYXRpdmVQb3NpdGlvbmVkID0ge1xuICB0b3A6IHRydWUsXG4gIGJvdHRvbTogdHJ1ZSxcbiAgbGVmdDogdHJ1ZSxcbiAgcmlnaHQ6IHRydWUsXG59O1xuXG5leHBvcnQgY2xhc3MgRGVsYXllZEl0ZW0ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgdGFyZ2V0OiBFbGVtZW50LFxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcsXG4gICAgcHVibGljIHZhbHVlOiBDc3MuVmFsLFxuICApIHt9XG59XG5cbmV4cG9ydCB0eXBlIFBhZ2VIeXBlcmxpbmtFdmVudCA9IHtcbiAgdHlwZTogc3RyaW5nO1xuICB0YXJnZXQ7XG4gIGN1cnJlbnRUYXJnZXQ7XG4gIGFuY2hvckVsZW1lbnQ6IEVsZW1lbnQ7XG4gIGhyZWY6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIFRyaWdnZXIgPSB7XG4gIG9ic2VydmVyOiBzdHJpbmc7XG4gIGV2ZW50OiBzdHJpbmc7XG4gIGFjdGlvbjogc3RyaW5nO1xuICByZWY6IHN0cmluZztcbn07XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zID0ge1xuICBzaG93OiBmdW5jdGlvbihvYmopIHtcbiAgICBvYmouc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICB9LFxuICBoaWRlOiBmdW5jdGlvbihvYmopIHtcbiAgICBvYmouc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gIH0sXG4gIHBsYXk6IGZ1bmN0aW9uKG9iaikge1xuICAgIG9iai5jdXJyZW50VGltZSA9IDA7XG4gICAgb2JqLnBsYXkoKTtcbiAgfSxcbiAgcGF1c2U6IGZ1bmN0aW9uKG9iaikge1xuICAgIG9iai5wYXVzZSgpO1xuICB9LFxuICByZXN1bWU6IGZ1bmN0aW9uKG9iaikge1xuICAgIG9iai5wbGF5KCk7XG4gIH0sXG4gIG11dGU6IGZ1bmN0aW9uKG9iaikge1xuICAgIG9iai5tdXRlZCA9IHRydWU7XG4gIH0sXG4gIHVubXV0ZTogZnVuY3Rpb24ob2JqKSB7XG4gICAgb2JqLm11dGVkID0gZmFsc2U7XG4gIH0sXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUxpc3RlbmVyKFxuICByZWZzOiBFbGVtZW50W10sXG4gIGFjdGlvbjogc3RyaW5nLFxuKTogRXZlbnRMaXN0ZW5lciB8IG51bGwge1xuICBjb25zdCBhY3Rpb25GbiA9IGFjdGlvbnNbYWN0aW9uXTtcbiAgaWYgKGFjdGlvbkZuKSB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgcmVmcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGFjdGlvbkZuKHJlZnNba10pO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHt9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2UgZXh0ZW5kcyBCYXNlLlNpbXBsZUV2ZW50VGFyZ2V0IHtcbiAgcHJpdmF0ZSBzdGF0aWMgQVVUT19QQUdFX1dJRFRIX0FUVFJJQlVURTogc3RyaW5nID1cbiAgICBcImRhdGEtdml2bGlvc3R5bGUtYXV0by1wYWdlLXdpZHRoXCI7XG4gIHByaXZhdGUgc3RhdGljIEFVVE9fUEFHRV9IRUlHSFRfQVRUUklCVVRFOiBzdHJpbmcgPVxuICAgIFwiZGF0YS12aXZsaW9zdHlsZS1hdXRvLXBhZ2UtaGVpZ2h0XCI7XG4gIHBhZ2VBcmVhRWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgZGVsYXllZEl0ZW1zOiBEZWxheWVkSXRlbVtdID0gW107XG4gIGhyZWZIYW5kbGVyOiAoZTogRXZlbnQpID0+IHZvaWQ7XG4gIGVsZW1lbnRzQnlJZDogeyBba2V5OiBzdHJpbmddOiBFbGVtZW50W10gfSA9IHt9O1xuICBkaW1lbnNpb25zOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH0gPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgaXNGaXJzdFBhZ2U6IGJvb2xlYW4gPSBmYWxzZTtcbiAgaXNMYXN0UGFnZTogYm9vbGVhbiA9IGZhbHNlO1xuICBpc0F1dG9QYWdlV2lkdGg6IGJvb2xlYW4gPSB0cnVlO1xuICBpc0F1dG9QYWdlSGVpZ2h0OiBib29sZWFuID0gdHJ1ZTtcbiAgc3BpbmVJbmRleDogbnVtYmVyID0gMDtcbiAgcG9zaXRpb246IExheW91dFBvc2l0aW9uID0gbnVsbDtcbiAgb2Zmc2V0OiBudW1iZXIgPSAtMTtcbiAgc2lkZTogQ29uc3RhbnRzLlBhZ2VTaWRlIHwgbnVsbCA9IG51bGw7XG4gIGZldGNoZXJzOiBUYXNrVXRpbC5GZXRjaGVyPHt9PltdID0gW107XG4gIG1hcmdpbkJveGVzOiB7XG4gICAgdG9wOiB7IFtrZXk6IHN0cmluZ106IENvbnRhaW5lciB9O1xuICAgIGJvdHRvbTogeyBba2V5OiBzdHJpbmddOiBDb250YWluZXIgfTtcbiAgICBsZWZ0OiB7IFtrZXk6IHN0cmluZ106IENvbnRhaW5lciB9O1xuICAgIHJpZ2h0OiB7IFtrZXk6IHN0cmluZ106IENvbnRhaW5lciB9O1xuICB9ID0geyB0b3A6IHt9LCBib3R0b206IHt9LCBsZWZ0OiB7fSwgcmlnaHQ6IHt9IH07XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgcHVibGljIHJlYWRvbmx5IGJsZWVkQm94OiBIVE1MRWxlbWVudCxcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLmhyZWZIYW5kbGVyID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBhbmNob3JFbGVtZW50ID0gZS5jdXJyZW50VGFyZ2V0IGFzIEVsZW1lbnQ7XG4gICAgICBjb25zdCBocmVmID1cbiAgICAgICAgYW5jaG9yRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpIHx8XG4gICAgICAgIGFuY2hvckVsZW1lbnQuZ2V0QXR0cmlidXRlTlMoQmFzZS5OUy5YTElOSywgXCJocmVmXCIpO1xuICAgICAgaWYgKGhyZWYpIHtcbiAgICAgICAgY29uc3QgZXZ0ID0ge1xuICAgICAgICAgIHR5cGU6IFwiaHlwZXJsaW5rXCIsXG4gICAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICAgIGN1cnJlbnRUYXJnZXQ6IG51bGwsXG4gICAgICAgICAgYW5jaG9yRWxlbWVudCxcbiAgICAgICAgICBocmVmLFxuICAgICAgICAgIHByZXZlbnREZWZhdWx0KCkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHNlbGYuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBzZXRBdXRvUGFnZVdpZHRoKGlzQXV0bzogYm9vbGVhbikge1xuICAgIHRoaXMuaXNBdXRvUGFnZVdpZHRoID0gaXNBdXRvO1xuICAgIGlmIChpc0F1dG8pIHtcbiAgICAgIHRoaXMuY29udGFpbmVyLnNldEF0dHJpYnV0ZShQYWdlLkFVVE9fUEFHRV9XSURUSF9BVFRSSUJVVEUsIFwidHJ1ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlQXR0cmlidXRlKFBhZ2UuQVVUT19QQUdFX1dJRFRIX0FUVFJJQlVURSk7XG4gICAgfVxuICB9XG5cbiAgc2V0QXV0b1BhZ2VIZWlnaHQoaXNBdXRvOiBib29sZWFuKSB7XG4gICAgdGhpcy5pc0F1dG9QYWdlSGVpZ2h0ID0gaXNBdXRvO1xuICAgIGlmIChpc0F1dG8pIHtcbiAgICAgIHRoaXMuY29udGFpbmVyLnNldEF0dHJpYnV0ZShQYWdlLkFVVE9fUEFHRV9IRUlHSFRfQVRUUklCVVRFLCBcInRydWVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZShQYWdlLkFVVE9fUEFHRV9IRUlHSFRfQVRUUklCVVRFKTtcbiAgICB9XG4gIH1cblxuICByZWdpc3RlckVsZW1lbnRXaXRoSWQoZWxlbWVudDogRWxlbWVudCwgaWQ6IHN0cmluZykge1xuICAgIGNvbnN0IGFyciA9IHRoaXMuZWxlbWVudHNCeUlkW2lkXTtcbiAgICBpZiAoIWFycikge1xuICAgICAgdGhpcy5lbGVtZW50c0J5SWRbaWRdID0gW2VsZW1lbnRdO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcnIucHVzaChlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBmaW5pc2godHJpZ2dlcnM6IFRyaWdnZXJbXSwgY2xpZW50TGF5b3V0OiBDbGllbnRMYXlvdXQpOiB2b2lkIHtcbiAgICAvLyBSZW1vdmUgSUQgb2YgZWxlbWVudHMgd2hpY2ggZXZlbnR1YWxseSBkaWQgbm90IGZpdCBpbiB0aGUgcGFnZVxuICAgIC8vIChTb21lIG5vZGVzIG1heSBoYXZlIGJlZW4gcmVtb3ZlZCBhZnRlciByZWdpc3RyYXRpb24gaWYgdGhleSBkaWQgbm90IGZpdFxuICAgIC8vIGluIHRoZSBwYWdlKVxuICAgIE9iamVjdC5rZXlzKHRoaXMuZWxlbWVudHNCeUlkKS5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgY29uc3QgZWxlbXMgPSB0aGlzLmVsZW1lbnRzQnlJZFtpZF07XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1zLmxlbmd0aDsgKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRhaW5lci5jb250YWlucyhlbGVtc1tpXSkpIHtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbXMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZWxlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmVsZW1lbnRzQnlJZFtpZF07XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgbGlzdCA9IHRoaXMuZGVsYXllZEl0ZW1zO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaXRlbSA9IGxpc3RbaV07XG4gICAgICBpZiAoXG4gICAgICAgIGl0ZW0udGFyZ2V0ID09PSB0aGlzLmNvbnRhaW5lciAmJlxuICAgICAgICBpdGVtLm5hbWUgPT09IFwidHJhbnNmb3JtXCIgJiZcbiAgICAgICAgIXRoaXMuaXNBdXRvUGFnZVdpZHRoICYmXG4gICAgICAgICF0aGlzLmlzQXV0b1BhZ2VIZWlnaHRcbiAgICAgICkge1xuICAgICAgICAvLyBXaGVuIGZpeGVkIHBhZ2Ugc2l6ZSBpcyBzcGVjaWZpZWQsIGNhbmNlbCB0aGUgdHJhbnNmb3JtIHByb3BlcnR5XG4gICAgICAgIC8vIHNldCBhdCBPUEZWaWV3Lm1ha2VQYWdlKCkgZm9yIHRoZSBzcGVjaWZpZWQgdmlld3BvcnQgc2l6ZVxuICAgICAgICAvLyAoZS5nLiBgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPTEzMDcsIGhlaWdodD0xOTIwXCIvPmApXG4gICAgICAgIC8vIHRvIGF2b2lkIHdyb25nIHBhZ2UgcmVzaXppbmcuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShpdGVtLnRhcmdldCwgaXRlbS5uYW1lLCBpdGVtLnZhbHVlLnRvU3RyaW5nKCkpO1xuICAgIH1cblxuICAgIC8vIHVzZSBzaXplIG9mIHRoZSBjb250YWluZXIgb2YgdGhlIFBhZ2VNYXN0ZXJJbnN0YW5jZVxuICAgIGNvbnN0IHJlY3QgPSBjbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3QodGhpcy5jb250YWluZXIpO1xuICAgIHRoaXMuZGltZW5zaW9ucy53aWR0aCA9IHJlY3Qud2lkdGg7XG4gICAgdGhpcy5kaW1lbnNpb25zLmhlaWdodCA9IHJlY3QuaGVpZ2h0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpZ2dlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHRyaWdnZXIgPSB0cmlnZ2Vyc1tpXTtcbiAgICAgIGNvbnN0IHJlZnMgPSB0aGlzLmVsZW1lbnRzQnlJZFt0cmlnZ2VyLnJlZl07XG4gICAgICBjb25zdCBvYnNlcnZlcnMgPSB0aGlzLmVsZW1lbnRzQnlJZFt0cmlnZ2VyLm9ic2VydmVyXTtcbiAgICAgIGlmIChyZWZzICYmIG9ic2VydmVycykge1xuICAgICAgICBjb25zdCBsaXN0ZW5lciA9IG1ha2VMaXN0ZW5lcihyZWZzLCB0cmlnZ2VyLmFjdGlvbik7XG4gICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgb2JzZXJ2ZXJzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICBvYnNlcnZlcnNba10uYWRkRXZlbnRMaXN0ZW5lcih0cmlnZ2VyLmV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBab29tIHBhZ2UuXG4gICAqIEBwYXJhbSBzY2FsZSBGYWN0b3IgdG8gd2hpY2ggdGhlIHBhZ2Ugd2lsbCBiZSBzY2FsZWQuXG4gICAqL1xuICB6b29tKHNjYWxlOiBudW1iZXIpIHtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMuY29udGFpbmVyLCBcInRyYW5zZm9ybVwiLCBgc2NhbGUoJHtzY2FsZX0pYCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcGFnZSBhcmVhIGVsZW1lbnQuXG4gICAqL1xuICBnZXRQYWdlQXJlYUVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xuICAgIHJldHVybiB0aGlzLnBhZ2VBcmVhRWxlbWVudCB8fCB0aGlzLmNvbnRhaW5lcjtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBTcHJlYWQgPSB7XG4gIGxlZnQ6IFBhZ2U7XG4gIHJpZ2h0OiBQYWdlO1xufTtcblxuLyoqXG4gKiBNYXJrcyBhbiBlbGVtZW50IGFzIFwic3BlY2lhbFwiLiBJdCBzaG91bGQgbm90IGJlIHVzZWQgaW4gYmJveCBjYWxjdWxhdGlvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBTUEVDSUFMX0FUVFIgPSBcImRhdGEtYWRhcHQtc3BlY1wiO1xuXG5leHBvcnQgY29uc3QgV2hpdGVzcGFjZSA9IFZ0cmVlLldoaXRlc3BhY2U7XG5leHBvcnQgdHlwZSBXaGl0ZXNwYWNlID0gVnRyZWUuV2hpdGVzcGFjZTtcblxuLyoqXG4gKiBSZXNvbHZlcyBXaGl0ZXNwYWNlIHZhbHVlIGZyb20gYSB2YWx1ZSBvZiAnd2hpdGUtc3BhY2UnIHByb3BlcnR5XG4gKiBAcGFyYW0gd2hpdGVzcGFjZSBUaGUgdmFsdWUgb2YgJ3doaXRlLXNwYWNlJyBwcm9wZXJ0eVxuICovXG5leHBvcnQgZnVuY3Rpb24gd2hpdGVzcGFjZUZyb21Qcm9wZXJ0eVZhbHVlKFxuICB3aGl0ZXNwYWNlOiBzdHJpbmcsXG4pOiBXaGl0ZXNwYWNlIHwgbnVsbCB7XG4gIHN3aXRjaCAod2hpdGVzcGFjZSkge1xuICAgIGNhc2UgXCJub3JtYWxcIjpcbiAgICBjYXNlIFwibm93cmFwXCI6XG4gICAgICByZXR1cm4gV2hpdGVzcGFjZS5JR05PUkU7XG4gICAgY2FzZSBcInByZS1saW5lXCI6XG4gICAgICByZXR1cm4gV2hpdGVzcGFjZS5ORVdMSU5FO1xuICAgIGNhc2UgXCJwcmVcIjpcbiAgICBjYXNlIFwicHJlLXdyYXBcIjpcbiAgICAgIHJldHVybiBXaGl0ZXNwYWNlLlBSRVNFUlZFO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FuSWdub3JlKG5vZGU6IE5vZGUsIHdoaXRlc3BhY2U6IFdoaXRlc3BhY2UpOiBib29sZWFuIHtcbiAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB0ZXh0ID0gbm9kZS50ZXh0Q29udGVudDtcbiAgc3dpdGNoICh3aGl0ZXNwYWNlKSB7XG4gICAgY2FzZSBXaGl0ZXNwYWNlLklHTk9SRTpcbiAgICAgIHJldHVybiAhIXRleHQubWF0Y2goL15cXHMqJC8pO1xuICAgIGNhc2UgV2hpdGVzcGFjZS5ORVdMSU5FOlxuICAgICAgcmV0dXJuICEhdGV4dC5tYXRjaCgvXlsgXFx0XFxmXSokLyk7XG4gICAgY2FzZSBXaGl0ZXNwYWNlLlBSRVNFUlZFOlxuICAgICAgcmV0dXJuIHRleHQubGVuZ3RoID09IDA7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHdoaXRlc3BhY2U6ICR7d2hpdGVzcGFjZX1gKTtcbn1cblxuZXhwb3J0IGNsYXNzIEZsb3cge1xuICBmb3JjZWRCcmVha09mZnNldHMgPSBbXSBhcyBudW1iZXJbXTtcbiAgZm9ybWF0dGluZ0NvbnRleHQ6IEZvcm1hdHRpbmdDb250ZXh0IHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGZsb3dOYW1lOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmVudEZsb3dOYW1lOiBzdHJpbmcgfCBudWxsLFxuICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBGbG93Q2h1bmsge1xuICBzdGFydFBhZ2U6IG51bWJlciA9IC0xO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBmbG93TmFtZTogc3RyaW5nLFxuICAgIHB1YmxpYyBlbGVtZW50OiBFbGVtZW50LFxuICAgIHB1YmxpYyBzdGFydE9mZnNldDogbnVtYmVyLFxuICAgIHB1YmxpYyBwcmlvcml0eTogbnVtYmVyLFxuICAgIHB1YmxpYyBsaW5nZXI6IG51bWJlcixcbiAgICBwdWJsaWMgZXhjbHVzaXZlOiBib29sZWFuLFxuICAgIHB1YmxpYyByZXBlYXRlZDogYm9vbGVhbixcbiAgICBwdWJsaWMgbGFzdDogYm9vbGVhbixcbiAgICBwdWJsaWMgYnJlYWtCZWZvcmU6IHN0cmluZyB8IG51bGwsXG4gICkge31cblxuICBpc0JldHRlcihvdGhlcjogRmxvd0NodW5rKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmV4Y2x1c2l2ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIW90aGVyLmV4Y2x1c2l2ZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLnByaW9yaXR5ID4gb3RoZXIucHJpb3JpdHkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5sYXN0O1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIENsaWVudFJlY3QgPSBWdHJlZS5DbGllbnRSZWN0O1xuXG5leHBvcnQgZnVuY3Rpb24gY2xpZW50cmVjdEluY3JlYXNpbmdUb3AoXG4gIHIxOiBDbGllbnRSZWN0LFxuICByMjogQ2xpZW50UmVjdCxcbik6IG51bWJlciB7XG4gIHJldHVybiByMS50b3AgLSByMi50b3A7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGllbnRyZWN0RGVjcmVhc2luZ1JpZ2h0KFxuICByMTogQ2xpZW50UmVjdCxcbiAgcjI6IENsaWVudFJlY3QsXG4pOiBudW1iZXIge1xuICByZXR1cm4gcjIucmlnaHQgLSByMS5yaWdodDtcbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgdG8gcmVhZCB0aGUgcG9zaXRpb24gYXNzaWduZWQgdG8gdGhlIGVsZW1lbnRzIGFuZCByYW5nZXMgYnkgdGhlXG4gKiBicm93c2VyLlxuICovXG5leHBvcnQgdHlwZSBDbGllbnRMYXlvdXQgPSBWdHJlZS5DbGllbnRMYXlvdXQ7XG5cbi8qKlxuICogU3R5bGluZywgY3JlYXRpbmcgYSBzaW5nbGUgbm9kZSdzIHZpZXcsIGV0Yy5cbiAqL1xuZXhwb3J0IHR5cGUgTGF5b3V0Q29udGV4dCA9IFZ0cmVlLkxheW91dENvbnRleHQ7XG5cbi8qKlxuICogRm9ybWF0dGluZyBjb250ZXh0LlxuICovXG5leHBvcnQgdHlwZSBGb3JtYXR0aW5nQ29udGV4dCA9IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0O1xuXG5leHBvcnQgZnVuY3Rpb24gZWFjaEFuY2VzdG9yRm9ybWF0dGluZ0NvbnRleHQoXG4gIG5vZGVDb250ZXh0OiBOb2RlQ29udGV4dCxcbiAgY2FsbGJhY2s6IChwMTogRm9ybWF0dGluZ0NvbnRleHQpID0+IGFueSxcbik6IHZvaWQge1xuICBpZiAoIW5vZGVDb250ZXh0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAobGV0IGZjID0gbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQ7IGZjOyBmYyA9IGZjLmdldFBhcmVudCgpKSB7XG4gICAgY2FsbGJhY2soZmMpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIE5vZGVQb3NpdGlvblN0ZXAgPSBWdHJlZS5Ob2RlUG9zaXRpb25TdGVwO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNTYW1lTm9kZVBvc2l0aW9uU3RlcChcbiAgbnBzMTogTm9kZVBvc2l0aW9uU3RlcCxcbiAgbnBzMjogTm9kZVBvc2l0aW9uU3RlcCxcbik6IGJvb2xlYW4ge1xuICBpZiAobnBzMSA9PT0gbnBzMikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICghbnBzMSB8fCAhbnBzMikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gKFxuICAgIG5wczEubm9kZSA9PT0gbnBzMi5ub2RlICYmXG4gICAgbnBzMS5zaGFkb3dUeXBlID09PSBucHMyLnNoYWRvd1R5cGUgJiZcbiAgICBpc1NhbWVTaGFkb3dDb250ZXh0KG5wczEuc2hhZG93Q29udGV4dCwgbnBzMi5zaGFkb3dDb250ZXh0KSAmJlxuICAgIGlzU2FtZVNoYWRvd0NvbnRleHQobnBzMS5ub2RlU2hhZG93LCBucHMyLm5vZGVTaGFkb3cpICYmXG4gICAgaXNTYW1lTm9kZVBvc2l0aW9uU3RlcChucHMxLnNoYWRvd1NpYmxpbmcsIG5wczIuc2hhZG93U2libGluZylcbiAgKTtcbn1cblxuZXhwb3J0IHR5cGUgTm9kZVBvc2l0aW9uID0gVnRyZWUuTm9kZVBvc2l0aW9uO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNTYW1lTm9kZVBvc2l0aW9uKFxuICBucDE6IE5vZGVQb3NpdGlvbiB8IG51bGwsXG4gIG5wMjogTm9kZVBvc2l0aW9uIHwgbnVsbCxcbik6IGJvb2xlYW4ge1xuICBpZiAobnAxID09PSBucDIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoIW5wMSB8fCAhbnAyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChcbiAgICBucDEub2Zmc2V0SW5Ob2RlICE9PSBucDIub2Zmc2V0SW5Ob2RlIHx8XG4gICAgbnAxLmFmdGVyICE9PSBucDIuYWZ0ZXIgfHxcbiAgICBucDEuc3RlcHMubGVuZ3RoICE9PSBucDIuc3RlcHMubGVuZ3RoXG4gICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5wMS5zdGVwcy5sZW5ndGg7IGkrKykge1xuICAgIGlmICghaXNTYW1lTm9kZVBvc2l0aW9uU3RlcChucDEuc3RlcHNbaV0sIG5wMi5zdGVwc1tpXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXdOb2RlUG9zaXRpb25Gcm9tTm9kZShub2RlOiBOb2RlKTogTm9kZVBvc2l0aW9uIHtcbiAgY29uc3Qgc3RlcDogTm9kZVBvc2l0aW9uU3RlcCA9IHtcbiAgICBub2RlLFxuICAgIHNoYWRvd1R5cGU6IFNoYWRvd1R5cGUuTk9ORSxcbiAgICBzaGFkb3dDb250ZXh0OiBudWxsLFxuICAgIG5vZGVTaGFkb3c6IG51bGwsXG4gICAgc2hhZG93U2libGluZzogbnVsbCxcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogbnVsbCxcbiAgICBmcmFnbWVudEluZGV4OiAwLFxuICB9O1xuICByZXR1cm4ge1xuICAgIHN0ZXBzOiBbc3RlcF0sXG4gICAgb2Zmc2V0SW5Ob2RlOiAwLFxuICAgIGFmdGVyOiBmYWxzZSxcbiAgICBwcmVwcm9jZXNzZWRUZXh0Q29udGVudDogbnVsbCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5ld05vZGVQb3NpdGlvbkZyb21Ob2RlQ29udGV4dChcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBpbml0aWFsRnJhZ21lbnRJbmRleDogbnVtYmVyIHwgbnVsbCxcbik6IE5vZGVQb3NpdGlvbiB7XG4gIGNvbnN0IHN0ZXA6IE5vZGVQb3NpdGlvblN0ZXAgPSB7XG4gICAgbm9kZTogbm9kZUNvbnRleHQuc291cmNlTm9kZSxcbiAgICBzaGFkb3dUeXBlOiBTaGFkb3dUeXBlLk5PTkUsXG4gICAgc2hhZG93Q29udGV4dDogbm9kZUNvbnRleHQuc2hhZG93Q29udGV4dCxcbiAgICBub2RlU2hhZG93OiBudWxsLFxuICAgIHNoYWRvd1NpYmxpbmc6IG51bGwsXG4gICAgZm9ybWF0dGluZ0NvbnRleHQ6IG51bGwsXG4gICAgZnJhZ21lbnRJbmRleDpcbiAgICAgIGluaXRpYWxGcmFnbWVudEluZGV4ICE9IG51bGxcbiAgICAgICAgPyBpbml0aWFsRnJhZ21lbnRJbmRleFxuICAgICAgICA6IG5vZGVDb250ZXh0LmZyYWdtZW50SW5kZXgsXG4gIH07XG4gIHJldHVybiB7XG4gICAgc3RlcHM6IFtzdGVwXSxcbiAgICBvZmZzZXRJbk5vZGU6IDAsXG4gICAgYWZ0ZXI6IGZhbHNlLFxuICAgIHByZXByb2Nlc3NlZFRleHRDb250ZW50OiBub2RlQ29udGV4dC5wcmVwcm9jZXNzZWRUZXh0Q29udGVudCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VOb2RlQ29udGV4dEZyb21Ob2RlUG9zaXRpb25TdGVwKFxuICBzdGVwOiBOb2RlUG9zaXRpb25TdGVwLFxuICBwYXJlbnQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuKTogTm9kZUNvbnRleHQge1xuICBjb25zdCBub2RlQ29udGV4dCA9IG5ldyBOb2RlQ29udGV4dChzdGVwLm5vZGUsIHBhcmVudCBhcyBOb2RlQ29udGV4dCwgMCk7XG4gIG5vZGVDb250ZXh0LnNoYWRvd1R5cGUgPSBzdGVwLnNoYWRvd1R5cGU7XG4gIG5vZGVDb250ZXh0LnNoYWRvd0NvbnRleHQgPSBzdGVwLnNoYWRvd0NvbnRleHQ7XG4gIG5vZGVDb250ZXh0Lm5vZGVTaGFkb3cgPSBzdGVwLm5vZGVTaGFkb3c7XG4gIG5vZGVDb250ZXh0LnNoYWRvd1NpYmxpbmcgPSBzdGVwLnNoYWRvd1NpYmxpbmdcbiAgICA/IG1ha2VOb2RlQ29udGV4dEZyb21Ob2RlUG9zaXRpb25TdGVwKHN0ZXAuc2hhZG93U2libGluZywgcGFyZW50LmNvcHkoKSlcbiAgICA6IG51bGw7XG4gIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0ID0gc3RlcC5mb3JtYXR0aW5nQ29udGV4dDtcbiAgbm9kZUNvbnRleHQuZnJhZ21lbnRJbmRleCA9IHN0ZXAuZnJhZ21lbnRJbmRleCArIDE7XG4gIHJldHVybiBub2RlQ29udGV4dDtcbn1cblxuZXhwb3J0IGNvbnN0IFNoYWRvd1R5cGUgPSBWdHJlZS5TaGFkb3dUeXBlO1xuZXhwb3J0IHR5cGUgU2hhZG93VHlwZSA9IFZ0cmVlLlNoYWRvd1R5cGU7XG5cbi8qKlxuICogRGF0YSBhYm91dCBzaGFkb3cgdHJlZSBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFNoYWRvd0NvbnRleHQgaW1wbGVtZW50cyBWdHJlZS5TaGFkb3dDb250ZXh0IHtcbiAgc3ViU2hhZG93OiBTaGFkb3dDb250ZXh0ID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgb3duZXI6IEVsZW1lbnQsXG4gICAgcHVibGljIHJlYWRvbmx5IHJvb3Q6IEVsZW1lbnQsXG4gICAgcHVibGljIHJlYWRvbmx5IHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyZW50U2hhZG93OiBTaGFkb3dDb250ZXh0LFxuICAgIHN1cGVyU2hhZG93OiBTaGFkb3dDb250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlOiBTaGFkb3dUeXBlLFxuICAgIHB1YmxpYyByZWFkb25seSBzdHlsZXI6IG9iamVjdCxcbiAgKSB7XG4gICAgaWYgKHN1cGVyU2hhZG93KSB7XG4gICAgICBzdXBlclNoYWRvdy5zdWJTaGFkb3cgPSB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIGVxdWFscyhvdGhlcjogU2hhZG93Q29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGlmICghb3RoZXIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMub3duZXIgPT09IG90aGVyLm93bmVyICYmXG4gICAgICB0aGlzLnhtbGRvYyA9PT0gb3RoZXIueG1sZG9jICYmXG4gICAgICB0aGlzLnR5cGUgPT09IG90aGVyLnR5cGUgJiZcbiAgICAgIGlzU2FtZVNoYWRvd0NvbnRleHQodGhpcy5wYXJlbnRTaGFkb3csIG90aGVyLnBhcmVudFNoYWRvdylcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVTaGFkb3dDb250ZXh0KFxuICBzYzE6IFNoYWRvd0NvbnRleHQsXG4gIHNjMjogU2hhZG93Q29udGV4dCxcbik6IGJvb2xlYW4ge1xuICByZXR1cm4gc2MxID09PSBzYzIgfHwgKCEhc2MxICYmICEhc2MyICYmIHNjMS5lcXVhbHMoc2MyKSk7XG59XG5cbi8qKlxuICogSW5mb3JtYXRpb24gYWJvdXQgOmZpcnN0LWxldHRlciBvciA6Zmlyc3QtbGluZSBwc2V1ZG9lbGVtZW50c1xuICogQHBhcmFtIGNvdW50IDAgLSBmaXJzdC1sZXR0ZXIsIDEgb3IgbW9yZSAtIGZpcnN0IGxpbmUocylcbiAqL1xuZXhwb3J0IGNsYXNzIEZpcnN0UHNldWRvIGltcGxlbWVudHMgVnRyZWUuRmlyc3RQc2V1ZG8ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgb3V0ZXI6IEZpcnN0UHNldWRvLFxuICAgIHB1YmxpYyByZWFkb25seSBjb3VudDogbnVtYmVyLFxuICApIHt9XG59XG5cbi8qKlxuICogTm9kZUNvbnRleHQgcmVwcmVzZW50cyBhIHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudCArIGxheW91dC1yZWxhdGVkXG4gKiBpbmZvcm1hdGlvbiBhdHRhY2hlZCB0byBpdC4gV2hlbiBhZnRlcj1mYWxzZSBhbmQgb2Zmc2V0SW5Ob2RlPTAsIHRoZVxuICogcG9zaXRpb24gaXMgaW5zaWRlIHRoZSBlbGVtZW50IChub2RlKSwgYnV0IGp1c3QgYmVmb3JlIGl0cyBmaXJzdCBjaGlsZC5cbiAqIFdoZW4gb2Zmc2V0SW5Ob2RlPjAgaXQgcmVwcmVzZW50cyBvZmZzZXQgaW4gdGhlIHRleHR1YWwgY29udGVudCBvZiB0aGVcbiAqIG5vZGUuIFdoZW4gYWZ0ZXI9dHJ1ZSBpdCByZXByZXNlbnRzIHBvc2l0aW9uIHJpZ2h0IGFmdGVyIHRoZSBsYXN0IGNoaWxkXG4gKiBvZiB0aGUgbm9kZS4gYm94T2Zmc2V0IGlzIGluY3JlbWVudGVkIGJ5IDEgZm9yIGFueSB2YWxpZCBub2RlIHBvc2l0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgTm9kZUNvbnRleHQgaW1wbGVtZW50cyBWdHJlZS5Ob2RlQ29udGV4dCB7XG4gIC8vIHBvc2l0aW9uIGl0c2VsZlxuICBvZmZzZXRJbk5vZGU6IG51bWJlciA9IDA7XG4gIGFmdGVyOiBib29sZWFuID0gZmFsc2U7XG4gIHNoYWRvd1R5cGU6IFNoYWRvd1R5cGU7XG5cbiAgLy8gcGFyZW50J3Mgc2hhZG93IHR5cGVcbiAgc2hhZG93Q29udGV4dDogU2hhZG93Q29udGV4dDtcbiAgbm9kZVNoYWRvdzogU2hhZG93Q29udGV4dCA9IG51bGw7XG4gIHNoYWRvd1NpYmxpbmc6IE5vZGVDb250ZXh0ID0gbnVsbDtcblxuICAvLyBuZXh0IFwic2libGluZ1wiIGluIHRoZSBzaGFkb3cgdHJlZVxuICAvLyBvdGhlciBzdHVmZlxuICBzaGFyZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgaW5saW5lOiBib29sZWFuID0gdHJ1ZTtcbiAgb3ZlcmZsb3c6IGJvb2xlYW4gPSBmYWxzZTtcbiAgYnJlYWtQZW5hbHR5OiBudW1iZXI7XG4gIGRpc3BsYXk6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBmbG9hdFJlZmVyZW5jZTogUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZTtcbiAgZmxvYXRTaWRlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgY2xlYXJTaWRlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgZmxvYXRNaW5XcmFwQmxvY2s6IENzcy5OdW1lcmljIHwgbnVsbCA9IG51bGw7XG4gIGNvbHVtblNwYW46IENzcy5WYWwgfCBudWxsID0gbnVsbDtcbiAgdmVydGljYWxBbGlnbjogc3RyaW5nID0gXCJiYXNlbGluZVwiO1xuICBjYXB0aW9uU2lkZTogc3RyaW5nID0gXCJ0b3BcIjtcbiAgaW5saW5lQm9yZGVyU3BhY2luZzogbnVtYmVyID0gMDtcbiAgYmxvY2tCb3JkZXJTcGFjaW5nOiBudW1iZXIgPSAwO1xuICBmbGV4Q29udGFpbmVyOiBib29sZWFuID0gZmFsc2U7XG4gIHdoaXRlc3BhY2U6IFdoaXRlc3BhY2U7XG4gIGh5cGhlbmF0ZUNoYXJhY3Rlcjogc3RyaW5nIHwgbnVsbDtcbiAgYnJlYWtXb3JkOiBib29sZWFuO1xuICBlc3RhYmxpc2hlc0JGQzogYm9vbGVhbiA9IGZhbHNlO1xuICBjb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZTogYm9vbGVhbiA9IGZhbHNlO1xuICBicmVha0JlZm9yZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGJyZWFrQWZ0ZXI6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICB2aWV3Tm9kZTogTm9kZSA9IG51bGw7XG4gIGNsZWFyU3BhY2VyOiBOb2RlID0gbnVsbDtcbiAgaW5oZXJpdGVkUHJvcHM6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIHwgc3RyaW5nIHwgQ3NzLlZhbCB9O1xuICB2ZXJ0aWNhbDogYm9vbGVhbjtcbiAgZGlyZWN0aW9uOiBzdHJpbmc7XG4gIGZpcnN0UHNldWRvOiBGaXJzdFBzZXVkbztcbiAgbGFuZzogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByZXByb2Nlc3NlZFRleHRDb250ZW50OiBEaWZmLkNoYW5nZVtdIHwgbnVsbCA9IG51bGw7XG4gIGZvcm1hdHRpbmdDb250ZXh0OiBGb3JtYXR0aW5nQ29udGV4dDtcbiAgcmVwZWF0T25CcmVhazogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHBsdWdpblByb3BzOiB7XG4gICAgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgdW5kZWZpbmVkIHwgbnVsbCB8IChudW1iZXIgfCBudWxsKVtdO1xuICB9ID0ge307XG4gIGZyYWdtZW50SW5kZXg6IG51bWJlciA9IDE7XG4gIGFmdGVySWZDb250aW51ZXM6IFNlbGVjdG9ycy5BZnRlcklmQ29udGludWVzID0gbnVsbDtcbiAgZm9vdG5vdGVQb2xpY3k6IENzcy5JZGVudCB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBzb3VyY2VOb2RlOiBOb2RlLFxuICAgIHB1YmxpYyBwYXJlbnQ6IE5vZGVDb250ZXh0LFxuICAgIHB1YmxpYyBib3hPZmZzZXQ6IG51bWJlcixcbiAgKSB7XG4gICAgdGhpcy5zaGFkb3dUeXBlID0gU2hhZG93VHlwZS5OT05FO1xuICAgIHRoaXMuc2hhZG93Q29udGV4dCA9IHBhcmVudCA/IHBhcmVudC5zaGFkb3dDb250ZXh0IDogbnVsbDtcbiAgICB0aGlzLmJyZWFrUGVuYWx0eSA9IHBhcmVudCA/IHBhcmVudC5icmVha1BlbmFsdHkgOiAwO1xuICAgIHRoaXMuZmxvYXRSZWZlcmVuY2UgPSBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLklOTElORTtcbiAgICB0aGlzLndoaXRlc3BhY2UgPSBwYXJlbnQgPyBwYXJlbnQud2hpdGVzcGFjZSA6IFdoaXRlc3BhY2UuSUdOT1JFO1xuICAgIHRoaXMuaHlwaGVuYXRlQ2hhcmFjdGVyID0gcGFyZW50ID8gcGFyZW50Lmh5cGhlbmF0ZUNoYXJhY3RlciA6IG51bGw7XG4gICAgdGhpcy5icmVha1dvcmQgPSBwYXJlbnQgPyBwYXJlbnQuYnJlYWtXb3JkIDogZmFsc2U7XG4gICAgdGhpcy5pbmhlcml0ZWRQcm9wcyA9IHBhcmVudCA/IHBhcmVudC5pbmhlcml0ZWRQcm9wcyA6IHt9O1xuICAgIHRoaXMudmVydGljYWwgPSBwYXJlbnQgPyBwYXJlbnQudmVydGljYWwgOiBmYWxzZTtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IHBhcmVudCA/IHBhcmVudC5kaXJlY3Rpb24gOiBcImx0clwiO1xuICAgIHRoaXMuZmlyc3RQc2V1ZG8gPSBwYXJlbnQgPyBwYXJlbnQuZmlyc3RQc2V1ZG8gOiBudWxsO1xuICAgIHRoaXMuZm9ybWF0dGluZ0NvbnRleHQgPSBwYXJlbnQgPyBwYXJlbnQuZm9ybWF0dGluZ0NvbnRleHQgOiBudWxsO1xuICB9XG5cbiAgcmVzZXRWaWV3KCk6IHZvaWQge1xuICAgIHRoaXMuaW5saW5lID0gdHJ1ZTtcbiAgICB0aGlzLmJyZWFrUGVuYWx0eSA9IHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQuYnJlYWtQZW5hbHR5IDogMDtcbiAgICB0aGlzLnZpZXdOb2RlID0gbnVsbDtcbiAgICB0aGlzLmNsZWFyU3BhY2VyID0gbnVsbDtcbiAgICB0aGlzLm9mZnNldEluTm9kZSA9IDA7XG4gICAgdGhpcy5hZnRlciA9IGZhbHNlO1xuICAgIHRoaXMuZGlzcGxheSA9IG51bGw7XG4gICAgdGhpcy5mbG9hdFJlZmVyZW5jZSA9IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuSU5MSU5FO1xuICAgIHRoaXMuZmxvYXRTaWRlID0gbnVsbDtcbiAgICB0aGlzLmNsZWFyU2lkZSA9IG51bGw7XG4gICAgdGhpcy5mbG9hdE1pbldyYXBCbG9jayA9IG51bGw7XG4gICAgdGhpcy5jb2x1bW5TcGFuID0gbnVsbDtcbiAgICB0aGlzLnZlcnRpY2FsQWxpZ24gPSBcImJhc2VsaW5lXCI7XG4gICAgdGhpcy5mbGV4Q29udGFpbmVyID0gZmFsc2U7XG4gICAgdGhpcy53aGl0ZXNwYWNlID0gdGhpcy5wYXJlbnQgPyB0aGlzLnBhcmVudC53aGl0ZXNwYWNlIDogV2hpdGVzcGFjZS5JR05PUkU7XG4gICAgdGhpcy5oeXBoZW5hdGVDaGFyYWN0ZXIgPSB0aGlzLnBhcmVudFxuICAgICAgPyB0aGlzLnBhcmVudC5oeXBoZW5hdGVDaGFyYWN0ZXJcbiAgICAgIDogbnVsbDtcbiAgICB0aGlzLmJyZWFrV29yZCA9IHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQuYnJlYWtXb3JkIDogZmFsc2U7XG4gICAgdGhpcy5icmVha0JlZm9yZSA9IG51bGw7XG4gICAgdGhpcy5icmVha0FmdGVyID0gbnVsbDtcbiAgICB0aGlzLm5vZGVTaGFkb3cgPSBudWxsO1xuICAgIHRoaXMuZXN0YWJsaXNoZXNCRkMgPSBmYWxzZTtcbiAgICB0aGlzLmNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlID0gZmFsc2U7XG4gICAgdGhpcy52ZXJ0aWNhbCA9IHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQudmVydGljYWwgOiBmYWxzZTtcbiAgICB0aGlzLm5vZGVTaGFkb3cgPSBudWxsO1xuICAgIHRoaXMucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQgPSBudWxsO1xuICAgIHRoaXMuZm9ybWF0dGluZ0NvbnRleHQgPSB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LmZvcm1hdHRpbmdDb250ZXh0IDogbnVsbDtcbiAgICB0aGlzLnJlcGVhdE9uQnJlYWsgPSBudWxsO1xuICAgIHRoaXMucGx1Z2luUHJvcHMgPSB7fTtcbiAgICB0aGlzLmZyYWdtZW50SW5kZXggPSAxO1xuICAgIHRoaXMuYWZ0ZXJJZkNvbnRpbnVlcyA9IG51bGw7XG4gICAgdGhpcy5mb290bm90ZVBvbGljeSA9IG51bGw7XG4gIH1cblxuICBwcml2YXRlIGNsb25lSXRlbSgpOiBOb2RlQ29udGV4dCB7XG4gICAgY29uc3QgbnAgPSBuZXcgTm9kZUNvbnRleHQodGhpcy5zb3VyY2VOb2RlLCB0aGlzLnBhcmVudCwgdGhpcy5ib3hPZmZzZXQpO1xuICAgIG5wLm9mZnNldEluTm9kZSA9IHRoaXMub2Zmc2V0SW5Ob2RlO1xuICAgIG5wLmFmdGVyID0gdGhpcy5hZnRlcjtcbiAgICBucC5ub2RlU2hhZG93ID0gdGhpcy5ub2RlU2hhZG93O1xuICAgIG5wLnNoYWRvd1R5cGUgPSB0aGlzLnNoYWRvd1R5cGU7XG4gICAgbnAuc2hhZG93Q29udGV4dCA9IHRoaXMuc2hhZG93Q29udGV4dDtcbiAgICBucC5zaGFkb3dTaWJsaW5nID0gdGhpcy5zaGFkb3dTaWJsaW5nO1xuICAgIG5wLmlubGluZSA9IHRoaXMuaW5saW5lO1xuICAgIG5wLmJyZWFrUGVuYWx0eSA9IHRoaXMuYnJlYWtQZW5hbHR5O1xuICAgIG5wLmRpc3BsYXkgPSB0aGlzLmRpc3BsYXk7XG4gICAgbnAuZmxvYXRSZWZlcmVuY2UgPSB0aGlzLmZsb2F0UmVmZXJlbmNlO1xuICAgIG5wLmZsb2F0U2lkZSA9IHRoaXMuZmxvYXRTaWRlO1xuICAgIG5wLmNsZWFyU2lkZSA9IHRoaXMuY2xlYXJTaWRlO1xuICAgIG5wLmZsb2F0TWluV3JhcEJsb2NrID0gdGhpcy5mbG9hdE1pbldyYXBCbG9jaztcbiAgICBucC5jb2x1bW5TcGFuID0gdGhpcy5jb2x1bW5TcGFuO1xuICAgIG5wLnZlcnRpY2FsQWxpZ24gPSB0aGlzLnZlcnRpY2FsQWxpZ247XG4gICAgbnAuY2FwdGlvblNpZGUgPSB0aGlzLmNhcHRpb25TaWRlO1xuICAgIG5wLmlubGluZUJvcmRlclNwYWNpbmcgPSB0aGlzLmlubGluZUJvcmRlclNwYWNpbmc7XG4gICAgbnAuYmxvY2tCb3JkZXJTcGFjaW5nID0gdGhpcy5ibG9ja0JvcmRlclNwYWNpbmc7XG4gICAgbnAuZXN0YWJsaXNoZXNCRkMgPSB0aGlzLmVzdGFibGlzaGVzQkZDO1xuICAgIG5wLmNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlID0gdGhpcy5jb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZTtcbiAgICBucC5mbGV4Q29udGFpbmVyID0gdGhpcy5mbGV4Q29udGFpbmVyO1xuICAgIG5wLndoaXRlc3BhY2UgPSB0aGlzLndoaXRlc3BhY2U7XG4gICAgbnAuaHlwaGVuYXRlQ2hhcmFjdGVyID0gdGhpcy5oeXBoZW5hdGVDaGFyYWN0ZXI7XG4gICAgbnAuYnJlYWtXb3JkID0gdGhpcy5icmVha1dvcmQ7XG4gICAgbnAuYnJlYWtCZWZvcmUgPSB0aGlzLmJyZWFrQmVmb3JlO1xuICAgIG5wLmJyZWFrQWZ0ZXIgPSB0aGlzLmJyZWFrQWZ0ZXI7XG4gICAgbnAudmlld05vZGUgPSB0aGlzLnZpZXdOb2RlO1xuICAgIG5wLmNsZWFyU3BhY2VyID0gdGhpcy5jbGVhclNwYWNlcjtcbiAgICBucC5maXJzdFBzZXVkbyA9IHRoaXMuZmlyc3RQc2V1ZG87XG4gICAgbnAudmVydGljYWwgPSB0aGlzLnZlcnRpY2FsO1xuICAgIG5wLm92ZXJmbG93ID0gdGhpcy5vdmVyZmxvdztcbiAgICBucC5wcmVwcm9jZXNzZWRUZXh0Q29udGVudCA9IHRoaXMucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQ7XG4gICAgbnAuZm9ybWF0dGluZ0NvbnRleHQgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgIG5wLnJlcGVhdE9uQnJlYWsgPSB0aGlzLnJlcGVhdE9uQnJlYWs7XG4gICAgbnAucGx1Z2luUHJvcHMgPSBPYmplY3QuY3JlYXRlKHRoaXMucGx1Z2luUHJvcHMpO1xuICAgIG5wLmZyYWdtZW50SW5kZXggPSB0aGlzLmZyYWdtZW50SW5kZXg7XG4gICAgbnAuYWZ0ZXJJZkNvbnRpbnVlcyA9IHRoaXMuYWZ0ZXJJZkNvbnRpbnVlcztcbiAgICBucC5mb290bm90ZVBvbGljeSA9IHRoaXMuZm9vdG5vdGVQb2xpY3k7XG4gICAgcmV0dXJuIG5wO1xuICB9XG5cbiAgbW9kaWZ5KCk6IE5vZGVDb250ZXh0IHtcbiAgICBpZiAoIXRoaXMuc2hhcmVkKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY2xvbmVJdGVtKCk7XG4gIH1cblxuICBjb3B5KCk6IE5vZGVDb250ZXh0IHtcbiAgICBsZXQgbnA6IE5vZGVDb250ZXh0ID0gdGhpcztcbiAgICBkbyB7XG4gICAgICBpZiAobnAuc2hhcmVkKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbnAuc2hhcmVkID0gdHJ1ZTtcbiAgICAgIG5wID0gbnAucGFyZW50O1xuICAgIH0gd2hpbGUgKG5wKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNsb25lKCk6IE5vZGVDb250ZXh0IHtcbiAgICBjb25zdCBucCA9IHRoaXMuY2xvbmVJdGVtKCk7XG4gICAgbGV0IG5wYyA9IG5wO1xuICAgIGxldCBucHA6IE5vZGVDb250ZXh0O1xuICAgIHdoaWxlICgobnBwID0gbnBjLnBhcmVudCkgIT0gbnVsbCkge1xuICAgICAgbnBwID0gbnBwLmNsb25lSXRlbSgpO1xuICAgICAgbnBjLnBhcmVudCA9IG5wcDtcbiAgICAgIG5wYyA9IG5wcDtcbiAgICB9XG4gICAgcmV0dXJuIG5wO1xuICB9XG5cbiAgdG9Ob2RlUG9zaXRpb25TdGVwKCk6IE5vZGVQb3NpdGlvblN0ZXAge1xuICAgIHJldHVybiB7XG4gICAgICBub2RlOiB0aGlzLnNvdXJjZU5vZGUsXG4gICAgICBzaGFkb3dUeXBlOiB0aGlzLnNoYWRvd1R5cGUsXG4gICAgICBzaGFkb3dDb250ZXh0OiB0aGlzLnNoYWRvd0NvbnRleHQsXG4gICAgICBub2RlU2hhZG93OiB0aGlzLm5vZGVTaGFkb3csXG4gICAgICBzaGFkb3dTaWJsaW5nOiB0aGlzLnNoYWRvd1NpYmxpbmdcbiAgICAgICAgPyB0aGlzLnNoYWRvd1NpYmxpbmcudG9Ob2RlUG9zaXRpb25TdGVwKClcbiAgICAgICAgOiBudWxsLFxuICAgICAgZm9ybWF0dGluZ0NvbnRleHQ6IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICBmcmFnbWVudEluZGV4OiB0aGlzLmZyYWdtZW50SW5kZXgsXG4gICAgfTtcbiAgfVxuXG4gIHRvTm9kZVBvc2l0aW9uKCk6IE5vZGVQb3NpdGlvbiB7XG4gICAgbGV0IG5jOiBOb2RlQ29udGV4dCA9IHRoaXM7XG4gICAgY29uc3Qgc3RlcHMgPSBbXTtcbiAgICBkbyB7XG4gICAgICAvLyBXZSBuZWVkIGZ1bGx5IFwicGVlbGVkXCIgcGF0aCwgc28gZG9uJ3QgcmVjb3JkIGZpcnN0LVhYWCBwc2V1ZG9lbGVtZW50XG4gICAgICAvLyBjb250YWluZXJzXG4gICAgICBpZiAoXG4gICAgICAgICFuYy5maXJzdFBzZXVkbyB8fFxuICAgICAgICAhbmMucGFyZW50IHx8XG4gICAgICAgIG5jLnBhcmVudC5maXJzdFBzZXVkbyA9PT0gbmMuZmlyc3RQc2V1ZG9cbiAgICAgICkge1xuICAgICAgICBzdGVwcy5wdXNoKG5jLnRvTm9kZVBvc2l0aW9uU3RlcCgpKTtcbiAgICAgIH1cbiAgICAgIG5jID0gbmMucGFyZW50O1xuICAgIH0gd2hpbGUgKG5jKTtcbiAgICBjb25zdCBhY3R1YWxPZmZzZXRJbk5vZGUgPSB0aGlzLnByZXByb2Nlc3NlZFRleHRDb250ZW50XG4gICAgICA/IERpZmYucmVzb2x2ZU9yaWdpbmFsSW5kZXgoXG4gICAgICAgICAgdGhpcy5wcmVwcm9jZXNzZWRUZXh0Q29udGVudCxcbiAgICAgICAgICB0aGlzLm9mZnNldEluTm9kZSxcbiAgICAgICAgKVxuICAgICAgOiB0aGlzLm9mZnNldEluTm9kZTtcbiAgICByZXR1cm4ge1xuICAgICAgc3RlcHMsXG4gICAgICBvZmZzZXRJbk5vZGU6IGFjdHVhbE9mZnNldEluTm9kZSxcbiAgICAgIGFmdGVyOiB0aGlzLmFmdGVyLFxuICAgICAgcHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQ6IHRoaXMucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuXG4gIGlzSW5zaWRlQkZDKCk6IGJvb2xlYW4ge1xuICAgIGxldCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICBpZiAocGFyZW50LmVzdGFibGlzaGVzQkZDKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZ2V0Q29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGUoKTogTm9kZUNvbnRleHQge1xuICAgIGxldCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICBpZiAocGFyZW50LmNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlKSB7XG4gICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICB9XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBXYWxrIHVwIE5vZGVDb250ZXh0IHRyZWUgKHN0YXJ0aW5nIGZyb20gaXRzZWxmKSBhbmQgY2FsbCB0aGUgY2FsbGJhY2sgZm9yXG4gICAqIGVhY2ggYmxvY2suXG4gICAqL1xuICB3YWxrVXBCbG9ja3MoY2FsbGJhY2s6IChwMTogTm9kZUNvbnRleHQpID0+IGFueSkge1xuICAgIGxldCBub2RlQ29udGV4dDogTm9kZUNvbnRleHQgPSB0aGlzO1xuICAgIHdoaWxlIChub2RlQ29udGV4dCkge1xuICAgICAgaWYgKCFub2RlQ29udGV4dC5pbmxpbmUpIHtcbiAgICAgICAgY2FsbGJhY2sobm9kZUNvbnRleHQpO1xuICAgICAgfVxuICAgICAgbm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5wYXJlbnQ7XG4gICAgfVxuICB9XG5cbiAgYmVsb25nc1RvKGZvcm1hdHRpbmdDb250ZXh0OiBGb3JtYXR0aW5nQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0ID09PSBmb3JtYXR0aW5nQ29udGV4dCAmJlxuICAgICAgISF0aGlzLnBhcmVudCAmJlxuICAgICAgdGhpcy5wYXJlbnQuZm9ybWF0dGluZ0NvbnRleHQgPT09IGZvcm1hdHRpbmdDb250ZXh0XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2h1bmtQb3NpdGlvbiBpbXBsZW1lbnRzIFZ0cmVlLkNodW5rUG9zaXRpb24ge1xuICBmbG9hdHM6IE5vZGVQb3NpdGlvbltdID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcHJpbWFyeTogTm9kZVBvc2l0aW9uKSB7fVxuXG4gIGNsb25lKCk6IENodW5rUG9zaXRpb24ge1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBDaHVua1Bvc2l0aW9uKHRoaXMucHJpbWFyeSk7XG4gICAgaWYgKHRoaXMuZmxvYXRzKSB7XG4gICAgICByZXN1bHQuZmxvYXRzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmxvYXRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJlc3VsdC5mbG9hdHNbaV0gPSB0aGlzLmZsb2F0c1tpXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlzU2FtZVBvc2l0aW9uKG90aGVyOiBDaHVua1Bvc2l0aW9uKTogYm9vbGVhbiB7XG4gICAgaWYgKCFvdGhlcikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhpcyA9PT0gb3RoZXIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIWlzU2FtZU5vZGVQb3NpdGlvbih0aGlzLnByaW1hcnksIG90aGVyLnByaW1hcnkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0aGlzLmZsb2F0cykge1xuICAgICAgaWYgKCFvdGhlci5mbG9hdHMgfHwgdGhpcy5mbG9hdHMubGVuZ3RoICE9PSBvdGhlci5mbG9hdHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5mbG9hdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFpc1NhbWVOb2RlUG9zaXRpb24odGhpcy5mbG9hdHNbaV0sIG90aGVyLmZsb2F0c1tpXSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG90aGVyLmZsb2F0cykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmxvd0NodW5rUG9zaXRpb24ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgY2h1bmtQb3NpdGlvbjogQ2h1bmtQb3NpdGlvbixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmxvd0NodW5rOiBGbG93Q2h1bmssXG4gICkge31cblxuICBjbG9uZSgpOiBGbG93Q2h1bmtQb3NpdGlvbiB7XG4gICAgcmV0dXJuIG5ldyBGbG93Q2h1bmtQb3NpdGlvbih0aGlzLmNodW5rUG9zaXRpb24uY2xvbmUoKSwgdGhpcy5mbG93Q2h1bmspO1xuICB9XG5cbiAgaXNTYW1lUG9zaXRpb24ob3RoZXI6IEZsb3dDaHVua1Bvc2l0aW9uKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgICEhb3RoZXIgJiZcbiAgICAgICh0aGlzID09PSBvdGhlciB8fCB0aGlzLmNodW5rUG9zaXRpb24uaXNTYW1lUG9zaXRpb24ob3RoZXIuY2h1bmtQb3NpdGlvbikpXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmxvd1Bvc2l0aW9uIHtcbiAgcG9zaXRpb25zOiBGbG93Q2h1bmtQb3NpdGlvbltdID0gW107XG4gIHN0YXJ0U2lkZTogc3RyaW5nID0gXCJhbnlcIjtcbiAgYnJlYWtBZnRlcjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgY2xvbmUoKTogRmxvd1Bvc2l0aW9uIHtcbiAgICBjb25zdCBuZXdmcCA9IG5ldyBGbG93UG9zaXRpb24oKTtcbiAgICBjb25zdCBhcnIgPSB0aGlzLnBvc2l0aW9ucztcbiAgICBjb25zdCBuZXdhcnIgPSBuZXdmcC5wb3NpdGlvbnM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgIG5ld2FycltpXSA9IGFycltpXS5jbG9uZSgpO1xuICAgIH1cbiAgICBuZXdmcC5zdGFydFNpZGUgPSB0aGlzLnN0YXJ0U2lkZTtcbiAgICBuZXdmcC5icmVha0FmdGVyID0gdGhpcy5icmVha0FmdGVyO1xuICAgIHJldHVybiBuZXdmcDtcbiAgfVxuXG4gIGlzU2FtZVBvc2l0aW9uKG90aGVyOiBGbG93UG9zaXRpb24pOiBib29sZWFuIHtcbiAgICBpZiAodGhpcyA9PT0gb3RoZXIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIW90aGVyIHx8IHRoaXMucG9zaXRpb25zLmxlbmd0aCAhPT0gb3RoZXIucG9zaXRpb25zLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucG9zaXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIXRoaXMucG9zaXRpb25zW2ldLmlzU2FtZVBvc2l0aW9uKG90aGVyLnBvc2l0aW9uc1tpXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGhhc0NvbnRlbnQob2Zmc2V0OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5wb3NpdGlvbnMubGVuZ3RoID4gMCAmJlxuICAgICAgdGhpcy5wb3NpdGlvbnNbMF0uZmxvd0NodW5rLnN0YXJ0T2Zmc2V0IDw9IG9mZnNldFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExheW91dFBvc2l0aW9uIHtcbiAgLyoqXG4gICAqIE9uZS1iYXNlZCwgaW5jcmVtZW50ZWQgYmVmb3JlIGxheW91dC5cbiAgICovXG4gIHBhZ2U6IG51bWJlciA9IDA7XG4gIGZsb3dzOiB7IFtrZXk6IHN0cmluZ106IEZsb3cgfSA9IHt9O1xuICBmbG93UG9zaXRpb25zOiB7IFtrZXk6IHN0cmluZ106IEZsb3dQb3NpdGlvbiB9ID0ge307XG5cbiAgLyoqXG4gICAqIGZsb3dQb3NpdGlvbnMgaXMgYnVpbHQgdXAgdG8gdGhpcyBvZmZzZXQuXG4gICAqL1xuICBoaWdoZXN0U2Vlbk9mZnNldDogbnVtYmVyID0gMDtcblxuICAvLyBGSVhNRTogVGhpcyBwcm9wZXJ0aWVzIHNlZW0gdG8gYmUgbm90IHVzZWRcbiAgaGlnaGVzdFNlZW5Ob2RlOiBOb2RlO1xuICBsb29rdXBQb3NpdGlvbk9mZnNldDogbnVtYmVyO1xuXG4gIGNsb25lKCk6IExheW91dFBvc2l0aW9uIHtcbiAgICBjb25zdCBuZXdjcCA9IG5ldyBMYXlvdXRQb3NpdGlvbigpO1xuICAgIG5ld2NwLnBhZ2UgPSB0aGlzLnBhZ2U7XG4gICAgbmV3Y3AuaGlnaGVzdFNlZW5Ob2RlID0gdGhpcy5oaWdoZXN0U2Vlbk5vZGU7XG4gICAgbmV3Y3AuaGlnaGVzdFNlZW5PZmZzZXQgPSB0aGlzLmhpZ2hlc3RTZWVuT2Zmc2V0O1xuICAgIG5ld2NwLmxvb2t1cFBvc2l0aW9uT2Zmc2V0ID0gdGhpcy5sb29rdXBQb3NpdGlvbk9mZnNldDtcbiAgICBuZXdjcC5mbG93cyA9IHRoaXMuZmxvd3M7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIHRoaXMuZmxvd1Bvc2l0aW9ucykge1xuICAgICAgbmV3Y3AuZmxvd1Bvc2l0aW9uc1tuYW1lXSA9IHRoaXMuZmxvd1Bvc2l0aW9uc1tuYW1lXS5jbG9uZSgpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3Y3A7XG4gIH1cblxuICBpc1NhbWVQb3NpdGlvbihvdGhlcjogTGF5b3V0UG9zaXRpb24pOiBib29sZWFuIHtcbiAgICBpZiAodGhpcyA9PT0gb3RoZXIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAhb3RoZXIgfHxcbiAgICAgIHRoaXMucGFnZSAhPT0gb3RoZXIucGFnZSB8fFxuICAgICAgdGhpcy5oaWdoZXN0U2Vlbk9mZnNldCAhPT0gb3RoZXIuaGlnaGVzdFNlZW5PZmZzZXRcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgdGhpc0Zsb3dOYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMuZmxvd1Bvc2l0aW9ucyk7XG4gICAgY29uc3Qgb3RoZXJGbG93TmFtZXMgPSBPYmplY3Qua2V5cyhvdGhlci5mbG93UG9zaXRpb25zKTtcbiAgICBpZiAodGhpc0Zsb3dOYW1lcy5sZW5ndGggIT09IG90aGVyRmxvd05hbWVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGZsb3dOYW1lIG9mIHRoaXNGbG93TmFtZXMpIHtcbiAgICAgIGlmIChcbiAgICAgICAgIXRoaXMuZmxvd1Bvc2l0aW9uc1tmbG93TmFtZV0uaXNTYW1lUG9zaXRpb24oXG4gICAgICAgICAgb3RoZXIuZmxvd1Bvc2l0aW9uc1tmbG93TmFtZV0sXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBuYW1lIGZsb3cgbmFtZS5cbiAgICovXG4gIGhhc0NvbnRlbnQobmFtZTogc3RyaW5nLCBvZmZzZXQ6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGZsb3dQb3MgPSB0aGlzLmZsb3dQb3NpdGlvbnNbbmFtZV07XG4gICAgaWYgKCFmbG93UG9zKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBmbG93UG9zLmhhc0NvbnRlbnQob2Zmc2V0KTtcbiAgfVxuXG4gIHN0YXJ0U2lkZU9mRmxvdyhuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGZsb3dQb3MgPSB0aGlzLmZsb3dQb3NpdGlvbnNbbmFtZV07XG4gICAgaWYgKCFmbG93UG9zKSB7XG4gICAgICByZXR1cm4gXCJhbnlcIjtcbiAgICB9XG4gICAgcmV0dXJuIGZsb3dQb3Muc3RhcnRTaWRlO1xuICB9XG5cbiAgZmlyc3RGbG93Q2h1bmtPZkZsb3cobmFtZTogc3RyaW5nKTogRmxvd0NodW5rIHwgbnVsbCB7XG4gICAgY29uc3QgZmxvd1BvcyA9IHRoaXMuZmxvd1Bvc2l0aW9uc1tuYW1lXTtcbiAgICBpZiAoIWZsb3dQb3MpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBmbG93Q2h1bmtQb3NpdGlvbiA9IGZsb3dQb3MucG9zaXRpb25zWzBdO1xuICAgIGlmICghZmxvd0NodW5rUG9zaXRpb24pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZmxvd0NodW5rUG9zaXRpb24uZmxvd0NodW5rO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb250YWluZXIgaW1wbGVtZW50cyBWdHJlZS5Db250YWluZXIge1xuICBsZWZ0OiBudW1iZXIgPSAwO1xuICB0b3A6IG51bWJlciA9IDA7XG4gIG1hcmdpbkxlZnQ6IG51bWJlciA9IDA7XG4gIG1hcmdpblJpZ2h0OiBudW1iZXIgPSAwO1xuICBtYXJnaW5Ub3A6IG51bWJlciA9IDA7XG4gIG1hcmdpbkJvdHRvbTogbnVtYmVyID0gMDtcbiAgYm9yZGVyTGVmdDogbnVtYmVyID0gMDtcbiAgYm9yZGVyUmlnaHQ6IG51bWJlciA9IDA7XG4gIGJvcmRlclRvcDogbnVtYmVyID0gMDtcbiAgYm9yZGVyQm90dG9tOiBudW1iZXIgPSAwO1xuICBwYWRkaW5nTGVmdDogbnVtYmVyID0gMDtcbiAgcGFkZGluZ1JpZ2h0OiBudW1iZXIgPSAwO1xuICBwYWRkaW5nVG9wOiBudW1iZXIgPSAwO1xuICBwYWRkaW5nQm90dG9tOiBudW1iZXIgPSAwO1xuICB3aWR0aDogbnVtYmVyID0gMDtcbiAgaGVpZ2h0OiBudW1iZXIgPSAwO1xuICBvcmlnaW5YOiBudW1iZXIgPSAwO1xuICBvcmlnaW5ZOiBudW1iZXIgPSAwO1xuICBleGNsdXNpb25zOiBHZW9tZXRyeVV0aWwuU2hhcGVbXSA9IG51bGw7XG4gIGlubmVyU2hhcGU6IEdlb21ldHJ5VXRpbC5TaGFwZSA9IG51bGw7XG4gIGNvbXB1dGVkQmxvY2tTaXplOiBudW1iZXIgPSAwO1xuICBzbmFwV2lkdGg6IG51bWJlciA9IDA7XG4gIHNuYXBIZWlnaHQ6IG51bWJlciA9IDA7XG4gIHNuYXBPZmZzZXRYOiBudW1iZXIgPSAwO1xuICBzbmFwT2Zmc2V0WTogbnVtYmVyID0gMDtcbiAgdmVydGljYWw6IGJvb2xlYW4gPSBmYWxzZTsgLy8gdmVydGljYWwgd3JpdGluZ1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50OiBFbGVtZW50KSB7fVxuXG4gIGdldEluc2V0VG9wKCkge1xuICAgIHJldHVybiB0aGlzLm1hcmdpblRvcCArIHRoaXMuYm9yZGVyVG9wICsgdGhpcy5wYWRkaW5nVG9wO1xuICB9XG5cbiAgZ2V0SW5zZXRCb3R0b20oKSB7XG4gICAgcmV0dXJuIHRoaXMubWFyZ2luQm90dG9tICsgdGhpcy5ib3JkZXJCb3R0b20gKyB0aGlzLnBhZGRpbmdCb3R0b207XG4gIH1cblxuICBnZXRJbnNldExlZnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFyZ2luTGVmdCArIHRoaXMuYm9yZGVyTGVmdCArIHRoaXMucGFkZGluZ0xlZnQ7XG4gIH1cblxuICBnZXRJbnNldFJpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLm1hcmdpblJpZ2h0ICsgdGhpcy5ib3JkZXJSaWdodCArIHRoaXMucGFkZGluZ1JpZ2h0O1xuICB9XG5cbiAgZ2V0SW5zZXRCZWZvcmUoKSB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEluc2V0UmlnaHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zZXRUb3AoKTtcbiAgICB9XG4gIH1cblxuICBnZXRJbnNldEFmdGVyKCkge1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRJbnNldExlZnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zZXRCb3R0b20oKTtcbiAgICB9XG4gIH1cblxuICBnZXRJbnNldFN0YXJ0KCkge1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRJbnNldFRvcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRJbnNldExlZnQoKTtcbiAgICB9XG4gIH1cblxuICBnZXRJbnNldEVuZCgpIHtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zZXRCb3R0b20oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zZXRSaWdodCgpO1xuICAgIH1cbiAgfVxuXG4gIGdldEJlZm9yZUVkZ2UoYm94OiBDbGllbnRSZWN0KTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbCA/IGJveC5yaWdodCA6IGJveC50b3A7XG4gIH1cblxuICBnZXRBZnRlckVkZ2UoYm94OiBDbGllbnRSZWN0KTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbCA/IGJveC5sZWZ0IDogYm94LmJvdHRvbTtcbiAgfVxuXG4gIGdldFN0YXJ0RWRnZShib3g6IENsaWVudFJlY3QpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZlcnRpY2FsID8gYm94LnRvcCA6IGJveC5sZWZ0O1xuICB9XG5cbiAgZ2V0RW5kRWRnZShib3g6IENsaWVudFJlY3QpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZlcnRpY2FsID8gYm94LmJvdHRvbSA6IGJveC5yaWdodDtcbiAgfVxuXG4gIGdldElubGluZVNpemUoYm94OiBDbGllbnRSZWN0KTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbCA/IGJveC5ib3R0b20gLSBib3gudG9wIDogYm94LnJpZ2h0IC0gYm94LmxlZnQ7XG4gIH1cblxuICBnZXRCb3hTaXplKGJveDogQ2xpZW50UmVjdCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudmVydGljYWwgPyBib3gucmlnaHQgLSBib3gubGVmdCA6IGJveC5ib3R0b20gLSBib3gudG9wO1xuICB9XG5cbiAgZ2V0Qm94RGlyKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudmVydGljYWwgPyAtMSA6IDE7XG4gIH1cblxuICBnZXRJbmxpbmVEaXIoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIGNvcHlGcm9tKG90aGVyOiBDb250YWluZXIpOiB2b2lkIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBvdGhlci5lbGVtZW50O1xuICAgIHRoaXMubGVmdCA9IG90aGVyLmxlZnQ7XG4gICAgdGhpcy50b3AgPSBvdGhlci50b3A7XG4gICAgdGhpcy5tYXJnaW5MZWZ0ID0gb3RoZXIubWFyZ2luTGVmdDtcbiAgICB0aGlzLm1hcmdpblJpZ2h0ID0gb3RoZXIubWFyZ2luUmlnaHQ7XG4gICAgdGhpcy5tYXJnaW5Ub3AgPSBvdGhlci5tYXJnaW5Ub3A7XG4gICAgdGhpcy5tYXJnaW5Cb3R0b20gPSBvdGhlci5tYXJnaW5Cb3R0b207XG4gICAgdGhpcy5ib3JkZXJMZWZ0ID0gb3RoZXIuYm9yZGVyTGVmdDtcbiAgICB0aGlzLmJvcmRlclJpZ2h0ID0gb3RoZXIuYm9yZGVyUmlnaHQ7XG4gICAgdGhpcy5ib3JkZXJUb3AgPSBvdGhlci5ib3JkZXJUb3A7XG4gICAgdGhpcy5ib3JkZXJCb3R0b20gPSBvdGhlci5ib3JkZXJCb3R0b207XG4gICAgdGhpcy5wYWRkaW5nTGVmdCA9IG90aGVyLnBhZGRpbmdMZWZ0O1xuICAgIHRoaXMucGFkZGluZ1JpZ2h0ID0gb3RoZXIucGFkZGluZ1JpZ2h0O1xuICAgIHRoaXMucGFkZGluZ1RvcCA9IG90aGVyLnBhZGRpbmdUb3A7XG4gICAgdGhpcy5wYWRkaW5nQm90dG9tID0gb3RoZXIucGFkZGluZ0JvdHRvbTtcbiAgICB0aGlzLndpZHRoID0gb3RoZXIud2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBvdGhlci5oZWlnaHQ7XG4gICAgdGhpcy5vcmlnaW5YID0gb3RoZXIub3JpZ2luWDtcbiAgICB0aGlzLm9yaWdpblkgPSBvdGhlci5vcmlnaW5ZO1xuICAgIHRoaXMuaW5uZXJTaGFwZSA9IG90aGVyLmlubmVyU2hhcGU7XG4gICAgdGhpcy5leGNsdXNpb25zID0gb3RoZXIuZXhjbHVzaW9ucztcbiAgICB0aGlzLmNvbXB1dGVkQmxvY2tTaXplID0gb3RoZXIuY29tcHV0ZWRCbG9ja1NpemU7XG4gICAgdGhpcy5zbmFwV2lkdGggPSBvdGhlci5zbmFwV2lkdGg7XG4gICAgdGhpcy5zbmFwSGVpZ2h0ID0gb3RoZXIuc25hcEhlaWdodDtcbiAgICB0aGlzLnZlcnRpY2FsID0gb3RoZXIudmVydGljYWw7XG4gIH1cblxuICBzZXRWZXJ0aWNhbFBvc2l0aW9uKHRvcDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMudG9wID0gdG9wO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5lbGVtZW50LCBcInRvcFwiLCBgJHt0b3B9cHhgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMuZWxlbWVudCwgXCJoZWlnaHRcIiwgYCR7aGVpZ2h0fXB4YCk7XG4gIH1cblxuICBzZXRIb3Jpem9udGFsUG9zaXRpb24obGVmdDogbnVtYmVyLCB3aWR0aDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmVsZW1lbnQsIFwibGVmdFwiLCBgJHtsZWZ0fXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmVsZW1lbnQsIFwid2lkdGhcIiwgYCR7d2lkdGh9cHhgKTtcbiAgfVxuXG4gIHNldEJsb2NrUG9zaXRpb24oc3RhcnQ6IG51bWJlciwgZXh0ZW50OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy5zZXRIb3Jpem9udGFsUG9zaXRpb24oc3RhcnQgKyBleHRlbnQgKiB0aGlzLmdldEJveERpcigpLCBleHRlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFZlcnRpY2FsUG9zaXRpb24oc3RhcnQsIGV4dGVudCk7XG4gICAgfVxuICB9XG5cbiAgc2V0SW5saW5lUG9zaXRpb24oc3RhcnQ6IG51bWJlciwgZXh0ZW50OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy5zZXRWZXJ0aWNhbFBvc2l0aW9uKHN0YXJ0LCBleHRlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldEhvcml6b250YWxQb3NpdGlvbihzdGFydCwgZXh0ZW50KTtcbiAgICB9XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgbGV0IGM6IE5vZGU7XG4gICAgd2hpbGUgKChjID0gcGFyZW50Lmxhc3RDaGlsZCkpIHtcbiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChjKTtcbiAgICB9XG4gIH1cblxuICBnZXRJbm5lclNoYXBlKCk6IEdlb21ldHJ5VXRpbC5TaGFwZSB7XG4gICAgY29uc3QgcmVjdCA9IHRoaXMuZ2V0SW5uZXJSZWN0KCk7XG4gICAgaWYgKHRoaXMuaW5uZXJTaGFwZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5uZXJTaGFwZS53aXRoT2Zmc2V0KHJlY3QueDEsIHJlY3QueTEpO1xuICAgIH1cbiAgICByZXR1cm4gR2VvbWV0cnlVdGlsLnNoYXBlRm9yUmVjdChyZWN0LngxLCByZWN0LnkxLCByZWN0LngyLCByZWN0LnkyKTtcbiAgfVxuXG4gIGdldElubmVyUmVjdCgpOiBHZW9tZXRyeVV0aWwuUmVjdCB7XG4gICAgY29uc3Qgb2Zmc2V0WCA9IHRoaXMub3JpZ2luWCArIHRoaXMubGVmdCArIHRoaXMuZ2V0SW5zZXRMZWZ0KCk7XG4gICAgY29uc3Qgb2Zmc2V0WSA9IHRoaXMub3JpZ2luWSArIHRoaXMudG9wICsgdGhpcy5nZXRJbnNldFRvcCgpO1xuICAgIHJldHVybiBuZXcgR2VvbWV0cnlVdGlsLlJlY3QoXG4gICAgICBvZmZzZXRYLFxuICAgICAgb2Zmc2V0WSxcbiAgICAgIG9mZnNldFggKyB0aGlzLndpZHRoLFxuICAgICAgb2Zmc2V0WSArIHRoaXMuaGVpZ2h0LFxuICAgICk7XG4gIH1cblxuICBnZXRQYWRkaW5nUmVjdCgpOiBHZW9tZXRyeVV0aWwuUmVjdCB7XG4gICAgY29uc3QgcGFkZGluZ1ggPVxuICAgICAgdGhpcy5vcmlnaW5YICsgdGhpcy5sZWZ0ICsgdGhpcy5tYXJnaW5MZWZ0ICsgdGhpcy5ib3JkZXJMZWZ0O1xuICAgIGNvbnN0IHBhZGRpbmdZID0gdGhpcy5vcmlnaW5ZICsgdGhpcy50b3AgKyB0aGlzLm1hcmdpblRvcCArIHRoaXMuYm9yZGVyVG9wO1xuICAgIGNvbnN0IHBhZGRpbmdXaWR0aCA9IHRoaXMucGFkZGluZ0xlZnQgKyB0aGlzLndpZHRoICsgdGhpcy5wYWRkaW5nUmlnaHQ7XG4gICAgY29uc3QgcGFkZGluZ0hlaWdodCA9IHRoaXMucGFkZGluZ1RvcCArIHRoaXMuaGVpZ2h0ICsgdGhpcy5wYWRkaW5nQm90dG9tO1xuICAgIHJldHVybiBuZXcgR2VvbWV0cnlVdGlsLlJlY3QoXG4gICAgICBwYWRkaW5nWCxcbiAgICAgIHBhZGRpbmdZLFxuICAgICAgcGFkZGluZ1ggKyBwYWRkaW5nV2lkdGgsXG4gICAgICBwYWRkaW5nWSArIHBhZGRpbmdIZWlnaHQsXG4gICAgKTtcbiAgfVxuXG4gIGdldE91dGVyU2hhcGUoXG4gICAgb3V0ZXJTaGFwZVByb3A6IENzcy5WYWwsXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgKTogR2VvbWV0cnlVdGlsLlNoYXBlIHtcbiAgICBjb25zdCByZWN0ID0gdGhpcy5nZXRPdXRlclJlY3QoKTtcbiAgICByZXR1cm4gQ3NzUHJvcC50b1NoYXBlKFxuICAgICAgb3V0ZXJTaGFwZVByb3AsXG4gICAgICByZWN0LngxLFxuICAgICAgcmVjdC55MSxcbiAgICAgIHJlY3QueDIgLSByZWN0LngxLFxuICAgICAgcmVjdC55MiAtIHJlY3QueTEsXG4gICAgICBjb250ZXh0LFxuICAgICk7XG4gIH1cblxuICBnZXRPdXRlclJlY3QoKTogR2VvbWV0cnlVdGlsLlJlY3Qge1xuICAgIGNvbnN0IG91dGVyWCA9IHRoaXMub3JpZ2luWCArIHRoaXMubGVmdDtcbiAgICBjb25zdCBvdXRlclkgPSB0aGlzLm9yaWdpblkgKyB0aGlzLnRvcDtcbiAgICBjb25zdCBvdXRlcldpZHRoID0gdGhpcy5nZXRJbnNldExlZnQoKSArIHRoaXMud2lkdGggKyB0aGlzLmdldEluc2V0UmlnaHQoKTtcbiAgICBjb25zdCBvdXRlckhlaWdodCA9XG4gICAgICB0aGlzLmdldEluc2V0VG9wKCkgKyB0aGlzLmhlaWdodCArIHRoaXMuZ2V0SW5zZXRCb3R0b20oKTtcbiAgICByZXR1cm4gbmV3IEdlb21ldHJ5VXRpbC5SZWN0KFxuICAgICAgb3V0ZXJYLFxuICAgICAgb3V0ZXJZLFxuICAgICAgb3V0ZXJYICsgb3V0ZXJXaWR0aCxcbiAgICAgIG91dGVyWSArIG91dGVySGVpZ2h0LFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgRXhwckNvbnRlbnRMaXN0ZW5lciA9IFZ0cmVlLkV4cHJDb250ZW50TGlzdGVuZXI7XG5cbmV4cG9ydCBjbGFzcyBDb250ZW50UHJvcGVydHlIYW5kbGVyIGV4dGVuZHMgQ3NzLlZpc2l0b3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZWxlbTogRWxlbWVudCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcm9vdENvbnRlbnRWYWx1ZTogQ3NzLlZhbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZXhwckNvbnRlbnRMaXN0ZW5lcjogRXhwckNvbnRlbnRMaXN0ZW5lcixcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgdmlzaXRTdHJJbm5lcihzdHI6IHN0cmluZywgbm9kZT86IE5vZGUgfCBudWxsKSB7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICBub2RlID0gdGhpcy5lbGVtLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3RyKTtcbiAgICB9XG4gICAgdGhpcy5lbGVtLmFwcGVuZENoaWxkKG5vZGUpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdFN0cihzdHI6IENzcy5TdHIpOiBDc3MuVmFsIHtcbiAgICB0aGlzLnZpc2l0U3RySW5uZXIoc3RyLnN0cik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHZpc2l0VVJMKHVybDogQ3NzLlVSTCk6IENzcy5WYWwge1xuICAgIGlmICgodGhpcy5yb290Q29udGVudFZhbHVlIGFzIGFueSkudXJsKSB7XG4gICAgICB0aGlzLmVsZW0uc2V0QXR0cmlidXRlKFwic3JjXCIsIHVybC51cmwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpbWcgPSB0aGlzLmVsZW0ub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoQmFzZS5OUy5YSFRNTCwgXCJpbWdcIik7XG4gICAgICBpbWcuc2V0QXR0cmlidXRlKFwic3JjXCIsIHVybC51cmwpO1xuICAgICAgdGhpcy5lbGVtLmFwcGVuZENoaWxkKGltZyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBDc3MuU3BhY2VMaXN0KTogQ3NzLlZhbCB7XG4gICAgdGhpcy52aXNpdFZhbHVlcyhsaXN0LnZhbHVlcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHZpc2l0RXhwcihleHByOiBDc3MuRXhwcik6IENzcy5WYWwge1xuICAgIGNvbnN0IGV4ID0gZXhwci50b0V4cHIoKTtcbiAgICBsZXQgdmFsID0gZXguZXZhbHVhdGUodGhpcy5jb250ZXh0KTtcbiAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgaWYgKGV4IGluc3RhbmNlb2YgRXhwcnMuTmFtZWQpIHtcbiAgICAgICAgLy8gRm9yIGVudihwdWItdGl0bGUpIGFuZCBlbnYoZG9jLXRpdGxlKVxuICAgICAgICAvLyBOZWVkIHRvIHVucXVvdGUgdGhlIHJlc3VsdC4gVG8gYmUgY29uc2lzdGVudCB3aXRoIGNzc3BhcnNlLmV2YWx1YXRlRXhwclRvQ1NTKClcbiAgICAgICAgdmFsID0gQ3NzUGFyc2VyLnBhcnNlVmFsdWUoXG4gICAgICAgICAgZXguc2NvcGUsXG4gICAgICAgICAgbmV3IENzc1Rva2VuaXplci5Ub2tlbml6ZXIodmFsLCBudWxsKSxcbiAgICAgICAgICBcIlwiLFxuICAgICAgICApLnN0cmluZ1ZhbHVlKCk7XG4gICAgICB9XG4gICAgICBhc3NlcnQodGhpcy5lbGVtLm93bmVyRG9jdW1lbnQpO1xuICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuZXhwckNvbnRlbnRMaXN0ZW5lcihleCwgdmFsLCB0aGlzLmVsZW0ub3duZXJEb2N1bWVudCk7XG4gICAgICB0aGlzLnZpc2l0U3RySW5uZXIodmFsLCBub2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vblRyaXZpYWxDb250ZW50KHZhbDogQ3NzLlZhbCk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIHZhbCAhPSBudWxsICYmXG4gICAgdmFsICE9PSBDc3MuaWRlbnQubm9ybWFsICYmXG4gICAgdmFsICE9PSBDc3MuaWRlbnQubm9uZSAmJlxuICAgIHZhbCAhPT0gQ3NzLmlkZW50LmluaGVyaXRcbiAgKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFBhZ2VGbG9hdHMgLSBDU1MgUGFnZSBGbG9hdHNcbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBHZW9tZXRyeVV0aWwgZnJvbSBcIi4vZ2VvbWV0cnktdXRpbFwiO1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgKiBhcyBDc3NMb2dpY2FsVXRpbCBmcm9tIFwiLi9jc3MtbG9naWNhbC11dGlsXCI7XG5pbXBvcnQgKiBhcyBTaXppbmcgZnJvbSBcIi4vc2l6aW5nXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFZ0cmVlSW1wbCBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0IHsgTGF5b3V0IGFzIExheW91dFR5cGUsIFBhZ2VGbG9hdHMsIFZ0cmVlIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IEZsb2F0UmVmZXJlbmNlID0gUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZTtcbmV4cG9ydCB0eXBlIEZsb2F0UmVmZXJlbmNlID0gUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZTtcblxudHlwZSBQYWdlRmxvYXRJRCA9IFBhZ2VGbG9hdHMuUGFnZUZsb2F0SUQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBmbG9hdFJlZmVyZW5jZU9mKHN0cjogc3RyaW5nKTogRmxvYXRSZWZlcmVuY2Uge1xuICBzd2l0Y2ggKHN0cikge1xuICAgIGNhc2UgXCJpbmxpbmVcIjpcbiAgICAgIHJldHVybiBGbG9hdFJlZmVyZW5jZS5JTkxJTkU7XG4gICAgY2FzZSBcImNvbHVtblwiOlxuICAgICAgcmV0dXJuIEZsb2F0UmVmZXJlbmNlLkNPTFVNTjtcbiAgICBjYXNlIFwicmVnaW9uXCI6XG4gICAgICByZXR1cm4gRmxvYXRSZWZlcmVuY2UuUkVHSU9OO1xuICAgIGNhc2UgXCJwYWdlXCI6XG4gICAgICByZXR1cm4gRmxvYXRSZWZlcmVuY2UuUEFHRTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZsb2F0LXJlZmVyZW5jZTogJHtzdHJ9YCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUGFnZUZsb2F0KGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSk6IGJvb2xlYW4ge1xuICBzd2l0Y2ggKGZsb2F0UmVmZXJlbmNlKSB7XG4gICAgY2FzZSBGbG9hdFJlZmVyZW5jZS5JTkxJTkU6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2FzZSBGbG9hdFJlZmVyZW5jZS5DT0xVTU46XG4gICAgY2FzZSBGbG9hdFJlZmVyZW5jZS5SRUdJT046XG4gICAgY2FzZSBGbG9hdFJlZmVyZW5jZS5QQUdFOlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBmbG9hdC1yZWZlcmVuY2U6ICR7ZmxvYXRSZWZlcmVuY2V9YCk7XG4gIH1cbn1cblxuLyoqXG4gKiBJbnRlcnByZXQgYSBmbG9hdCB2YWx1ZSB3aXRoIHRoZSB3cml0aW5nLW1vZGUgYW5kIGRpcmVjdGlvbiBhc3N1bWluZyB0aGVcbiAqIGZsb2F0LXJlZmVyZW5jZSBpcyBpbmxpbmUgYW5kIHJldHVybnMgXCJsZWZ0XCIgb3IgXCJyaWdodFwiLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUlubGluZUZsb2F0RGlyZWN0aW9uKFxuICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgdmVydGljYWw6IGJvb2xlYW4sXG4gIGRpcmVjdGlvbjogc3RyaW5nLFxuKTogc3RyaW5nIHtcbiAgY29uc3Qgd3JpdGluZ01vZGUgPSB2ZXJ0aWNhbCA/IFwidmVydGljYWwtcmxcIiA6IFwiaG9yaXpvbnRhbC10YlwiO1xuICBpZiAoZmxvYXRTaWRlID09PSBcInRvcFwiIHx8IGZsb2F0U2lkZSA9PT0gXCJib3R0b21cIikge1xuICAgIGZsb2F0U2lkZSA9IENzc0xvZ2ljYWxVdGlsLnRvTG9naWNhbChmbG9hdFNpZGUsIHdyaXRpbmdNb2RlLCBkaXJlY3Rpb24pO1xuICB9XG4gIGlmIChmbG9hdFNpZGUgPT09IFwiYmxvY2stc3RhcnRcIikge1xuICAgIGZsb2F0U2lkZSA9IFwiaW5saW5lLXN0YXJ0XCI7XG4gIH1cbiAgaWYgKGZsb2F0U2lkZSA9PT0gXCJibG9jay1lbmRcIikge1xuICAgIGZsb2F0U2lkZSA9IFwiaW5saW5lLWVuZFwiO1xuICB9XG4gIGlmIChmbG9hdFNpZGUgPT09IFwiaW5saW5lLXN0YXJ0XCIgfHwgZmxvYXRTaWRlID09PSBcImlubGluZS1lbmRcIikge1xuICAgIGNvbnN0IHBoeXNpY2FsVmFsdWUgPSBDc3NMb2dpY2FsVXRpbC50b1BoeXNpY2FsKFxuICAgICAgZmxvYXRTaWRlLFxuICAgICAgd3JpdGluZ01vZGUsXG4gICAgICBkaXJlY3Rpb24sXG4gICAgKTtcbiAgICBjb25zdCBsaW5lUmVsYXRpdmVWYWx1ZSA9IENzc0xvZ2ljYWxVdGlsLnRvTGluZVJlbGF0aXZlKFxuICAgICAgcGh5c2ljYWxWYWx1ZSxcbiAgICAgIHdyaXRpbmdNb2RlLFxuICAgICk7XG4gICAgaWYgKGxpbmVSZWxhdGl2ZVZhbHVlID09PSBcImxpbmUtbGVmdFwiKSB7XG4gICAgICBmbG9hdFNpZGUgPSBcImxlZnRcIjtcbiAgICB9IGVsc2UgaWYgKGxpbmVSZWxhdGl2ZVZhbHVlID09PSBcImxpbmUtcmlnaHRcIikge1xuICAgICAgZmxvYXRTaWRlID0gXCJyaWdodFwiO1xuICAgIH1cbiAgfVxuICBpZiAoZmxvYXRTaWRlICE9PSBcImxlZnRcIiAmJiBmbG9hdFNpZGUgIT09IFwicmlnaHRcIikge1xuICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oYEludmFsaWQgZmxvYXQgdmFsdWU6ICR7ZmxvYXRTaWRlfS4gRmFsbGJhY2sgdG8gbGVmdC5gKTtcbiAgICBmbG9hdFNpZGUgPSBcImxlZnRcIjtcbiAgfVxuICByZXR1cm4gZmxvYXRTaWRlO1xufVxuXG5leHBvcnQgY2xhc3MgUGFnZUZsb2F0IGltcGxlbWVudHMgUGFnZUZsb2F0cy5QYWdlRmxvYXQge1xuICBvcmRlcjogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIGlkOiBQYWdlRmxvYXRJRCB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBub2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlLFxuICAgIHB1YmxpYyByZWFkb25seSBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2xlYXJTaWRlOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSBmbG93TmFtZTogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSBmbG9hdE1pbldyYXBCbG9jazogQ3NzLk51bWVyaWMgfCBudWxsLFxuICApIHt9XG5cbiAgZ2V0T3JkZXIoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5vcmRlciA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHBhZ2UgZmxvYXQgaXMgbm90IHlldCBhZGRlZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMub3JkZXI7XG4gIH1cblxuICBnZXRJZCgpOiBQYWdlRmxvYXRJRCB7XG4gICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcGFnZSBmbG9hdCBpcyBub3QgeWV0IGFkZGVkXCIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5pZDtcbiAgfVxuXG4gIGlzQWxsb3dlZE9uQ29udGV4dChwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHBhZ2VGbG9hdExheW91dENvbnRleHQuaXNBbmNob3JBbHJlYWR5QXBwZWFyZWQodGhpcy5nZXRJZCgpKTtcbiAgfVxuXG4gIGlzQWxsb3dlZFRvUHJlY2VkZShvdGhlcjogUGFnZUZsb2F0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYWdlRmxvYXRTdG9yZSB7XG4gIHByaXZhdGUgZmxvYXRzOiBQYWdlRmxvYXRbXSA9IFtdO1xuICBwcml2YXRlIG5leHRQYWdlRmxvYXRJbmRleDogbnVtYmVyID0gMDtcblxuICBwcml2YXRlIG5leHRPcmRlcigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm5leHRQYWdlRmxvYXRJbmRleCsrO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVQYWdlRmxvYXRJZChvcmRlcjogbnVtYmVyKTogUGFnZUZsb2F0SUQge1xuICAgIHJldHVybiBgcGYke29yZGVyfWA7XG4gIH1cblxuICBhZGRQYWdlRmxvYXQoZmxvYXQ6IFBhZ2VGbG9hdCkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5mbG9hdHMuZmluZEluZGV4KChmKSA9PlxuICAgICAgVnRyZWVJbXBsLmlzU2FtZU5vZGVQb3NpdGlvbihmLm5vZGVQb3NpdGlvbiwgZmxvYXQubm9kZVBvc2l0aW9uKSxcbiAgICApO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiQSBwYWdlIGZsb2F0IHdpdGggdGhlIHNhbWUgc291cmNlIG5vZGUgaXMgYWxyZWFkeSByZWdpc3RlcmVkXCIsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBvcmRlciA9IChmbG9hdC5vcmRlciA9IHRoaXMubmV4dE9yZGVyKCkpO1xuICAgICAgZmxvYXQuaWQgPSB0aGlzLmNyZWF0ZVBhZ2VGbG9hdElkKG9yZGVyKTtcbiAgICAgIHRoaXMuZmxvYXRzLnB1c2goZmxvYXQpO1xuICAgIH1cbiAgfVxuXG4gIGZpbmRQYWdlRmxvYXRCeU5vZGVQb3NpdGlvbihcbiAgICBub2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbixcbiAgKTogUGFnZUZsb2F0IHwgbnVsbCB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmZsb2F0cy5maW5kSW5kZXgoKGYpID0+XG4gICAgICBWdHJlZUltcGwuaXNTYW1lTm9kZVBvc2l0aW9uKGYubm9kZVBvc2l0aW9uLCBub2RlUG9zaXRpb24pLFxuICAgICk7XG4gICAgcmV0dXJuIGluZGV4ID49IDAgPyB0aGlzLmZsb2F0c1tpbmRleF0gOiBudWxsO1xuICB9XG5cbiAgZmluZFBhZ2VGbG9hdEJ5SWQoaWQ6IFBhZ2VGbG9hdElEKSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmZsb2F0cy5maW5kSW5kZXgoKGYpID0+IGYuaWQgPT09IGlkKTtcbiAgICByZXR1cm4gaW5kZXggPj0gMCA/IHRoaXMuZmxvYXRzW2luZGV4XSA6IG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0gY29udGludWVzIFJlcHJlc2VudHMgd2hldGhlciB0aGUgZmxvYXQgaXMgZnJhZ21lbnRlZCBhbmQgY29udGludWVzXG4gKiAgICAgYWZ0ZXIgdGhpcyBmcmFnbWVudFxuICovXG5leHBvcnQgY2xhc3MgUGFnZUZsb2F0RnJhZ21lbnQgaW1wbGVtZW50cyBQYWdlRmxvYXRzLlBhZ2VGbG9hdEZyYWdtZW50IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmxvYXRTaWRlOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRpbnVhdGlvbnM6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdLFxuICAgIHB1YmxpYyByZWFkb25seSBhcmVhOiBWdHJlZS5Db250YWluZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRpbnVlczogYm9vbGVhbixcbiAgKSB7fVxuXG4gIGhhc0Zsb2F0KGZsb2F0OiBQYWdlRmxvYXQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb250aW51YXRpb25zLnNvbWUoKGMpID0+IGMuZmxvYXQgPT09IGZsb2F0KTtcbiAgfVxuXG4gIGZpbmROb3RBbGxvd2VkRmxvYXQoY29udGV4dDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCk6IFBhZ2VGbG9hdCB8IG51bGwge1xuICAgIGZvciAobGV0IGkgPSB0aGlzLmNvbnRpbnVhdGlvbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IGYgPSB0aGlzLmNvbnRpbnVhdGlvbnNbaV0uZmxvYXQ7XG4gICAgICBpZiAoIWYuaXNBbGxvd2VkT25Db250ZXh0KGNvbnRleHQpKSB7XG4gICAgICAgIHJldHVybiBmO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldE91dGVyU2hhcGUoKTogR2VvbWV0cnlVdGlsLlNoYXBlIHtcbiAgICByZXR1cm4gdGhpcy5hcmVhLmdldE91dGVyU2hhcGUobnVsbCwgbnVsbCk7XG4gIH1cblxuICBnZXRPdXRlclJlY3QoKTogR2VvbWV0cnlVdGlsLlJlY3Qge1xuICAgIHJldHVybiB0aGlzLmFyZWEuZ2V0T3V0ZXJSZWN0KCk7XG4gIH1cblxuICBnZXRPcmRlcigpOiBudW1iZXIge1xuICAgIGNvbnN0IGZsb2F0cyA9IHRoaXMuY29udGludWF0aW9ucy5tYXAoKGMpID0+IGMuZmxvYXQpO1xuICAgIHJldHVybiBNYXRoLm1pbi5hcHBseShcbiAgICAgIG51bGwsXG4gICAgICBmbG9hdHMubWFwKChmKSA9PiBmLmdldE9yZGVyKCkpLFxuICAgICk7XG4gIH1cblxuICBzaG91bGRCZVN0YXNoZWRCZWZvcmUoZmxvYXQ6IFBhZ2VGbG9hdCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmdldE9yZGVyKCkgPCBmbG9hdC5nZXRPcmRlcigpO1xuICB9XG5cbiAgYWRkQ29udGludWF0aW9ucyhjb250aW51YXRpb25zOiBQYWdlRmxvYXRDb250aW51YXRpb25bXSkge1xuICAgIGNvbnRpbnVhdGlvbnMuZm9yRWFjaCgoYykgPT4ge1xuICAgICAgdGhpcy5jb250aW51YXRpb25zLnB1c2goYyk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRGbG93TmFtZSgpOiBzdHJpbmcge1xuICAgIGNvbnN0IGZsb3dOYW1lID0gdGhpcy5jb250aW51YXRpb25zWzBdLmZsb2F0LmZsb3dOYW1lO1xuICAgIEFzc2VydHMuYXNzZXJ0KFxuICAgICAgdGhpcy5jb250aW51YXRpb25zLmV2ZXJ5KChjKSA9PiBjLmZsb2F0LmZsb3dOYW1lID09PSBmbG93TmFtZSksXG4gICAgKTtcbiAgICByZXR1cm4gZmxvd05hbWU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2VGbG9hdENvbnRpbnVhdGlvbiBpbXBsZW1lbnRzIFBhZ2VGbG9hdHMuUGFnZUZsb2F0Q29udGludWF0aW9uIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGZsb2F0OiBQYWdlRmxvYXQsXG4gICAgcHVibGljIHJlYWRvbmx5IG5vZGVQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uLFxuICApIHt9XG5cbiAgZXF1YWxzKG90aGVyOiBQYWdlRmxvYXRDb250aW51YXRpb24gfCBudWxsKTogYm9vbGVhbiB7XG4gICAgaWYgKCFvdGhlcikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhpcyA9PT0gb3RoZXIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5mbG9hdCA9PT0gb3RoZXIuZmxvYXQgJiZcbiAgICAgIFZ0cmVlSW1wbC5pc1NhbWVOb2RlUG9zaXRpb24odGhpcy5ub2RlUG9zaXRpb24sIG90aGVyLm5vZGVQb3NpdGlvbilcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbiA9IFBhZ2VGbG9hdHMuUGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uO1xuXG4vKipcbiAqIEBwYXJhbSBnZW5lcmF0aW5nTm9kZVBvc2l0aW9uIFNvdXJjZSBOb2RlUG9zaXRpb24gZ2VuZXJhdGluZyB0aGUgY29udGV4dC5cbiAqICAgICBTcGVjaWZ5IHdoZW4gYSBjb2x1bW4gY29udGV4dCBpcyBnZW5lcmF0ZWQgYnkgYSBub24tcm9vdCBlbGVtZW50IChmb3JcbiAqICAgICBleGFtcGxlIHBhZ2UgZmxvYXRzKVxuICovXG5leHBvcnQgY2xhc3MgUGFnZUZsb2F0TGF5b3V0Q29udGV4dFxuICBpbXBsZW1lbnRzIFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCB7XG4gIHByaXZhdGUgY2hpbGRyZW46IFBhZ2VGbG9hdExheW91dENvbnRleHRbXSA9IFtdO1xuICB3cml0aW5nTW9kZTogQ3NzLlZhbDtcbiAgZGlyZWN0aW9uOiBDc3MuVmFsO1xuICBwcml2YXRlIGludmFsaWRhdGVkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgZmxvYXRTdG9yZTogUGFnZUZsb2F0U3RvcmU7XG4gIHByaXZhdGUgZm9yYmlkZGVuRmxvYXRzOiBQYWdlRmxvYXRJRFtdID0gW107XG4gIGZsb2F0RnJhZ21lbnRzOiBQYWdlRmxvYXRGcmFnbWVudFtdID0gW107XG4gIHByaXZhdGUgc3Rhc2hlZEZsb2F0RnJhZ21lbnRzOiBQYWdlRmxvYXRGcmFnbWVudFtdID0gW107XG4gIHByaXZhdGUgZmxvYXRBbmNob3JzOiB7IFtrZXkgaW4gUGFnZUZsb2F0SURdOiBOb2RlIH0gPSB7fTtcbiAgcHJpdmF0ZSBmbG9hdHNEZWZlcnJlZFRvTmV4dDogUGFnZUZsb2F0Q29udGludWF0aW9uW10gPSBbXTtcbiAgcHJpdmF0ZSBmbG9hdHNEZWZlcnJlZEZyb21QcmV2aW91czogUGFnZUZsb2F0Q29udGludWF0aW9uW107XG4gIHByaXZhdGUgbGF5b3V0Q29uc3RyYWludHM6IExheW91dFR5cGUuTGF5b3V0Q29uc3RyYWludFtdID0gW107XG4gIHByaXZhdGUgbG9ja2VkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmVudDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSB8IG51bGwsXG4gICAgcHJpdmF0ZSBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmxvd05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIHJlYWRvbmx5IGdlbmVyYXRpbmdOb2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbiB8IG51bGwsXG4gICAgd3JpdGluZ01vZGU6IENzcy5WYWwgfCBudWxsLFxuICAgIGRpcmVjdGlvbjogQ3NzLlZhbCB8IG51bGwsXG4gICkge1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHBhcmVudC5jaGlsZHJlbi5wdXNoKHRoaXMpO1xuICAgIH1cbiAgICB0aGlzLndyaXRpbmdNb2RlID1cbiAgICAgIHdyaXRpbmdNb2RlIHx8IChwYXJlbnQgJiYgcGFyZW50LndyaXRpbmdNb2RlKSB8fCBDc3MuaWRlbnQuaG9yaXpvbnRhbF90YjtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbiB8fCAocGFyZW50ICYmIHBhcmVudC5kaXJlY3Rpb24pIHx8IENzcy5pZGVudC5sdHI7XG4gICAgdGhpcy5mbG9hdFN0b3JlID0gcGFyZW50ID8gcGFyZW50LmZsb2F0U3RvcmUgOiBuZXcgUGFnZUZsb2F0U3RvcmUoKTtcbiAgICBjb25zdCBwcmV2aW91c1NpYmxpbmcgPSB0aGlzLmdldFByZXZpb3VzU2libGluZygpO1xuICAgIHRoaXMuZmxvYXRzRGVmZXJyZWRGcm9tUHJldmlvdXMgPSBwcmV2aW91c1NpYmxpbmdcbiAgICAgID8gW10uY29uY2F0KHByZXZpb3VzU2libGluZy5mbG9hdHNEZWZlcnJlZFRvTmV4dClcbiAgICAgIDogW107XG4gIH1cblxuICBwcml2YXRlIGdldFBhcmVudChmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UpOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0IHtcbiAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIFBhZ2VGbG9hdExheW91dENvbnRleHQgZm9yICR7ZmxvYXRSZWZlcmVuY2V9YCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnBhcmVudDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0UHJldmlvdXNTaWJsaW5nT2YoXG4gICAgY2hpbGQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQgfCBudWxsLFxuICAgIGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSB8IG51bGwsXG4gICAgZmxvd05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgZ2VuZXJhdGluZ05vZGVQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uIHwgbnVsbCxcbiAgKTogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCB8IG51bGwge1xuICAgIGxldCBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCBhcyBQYWdlRmxvYXRMYXlvdXRDb250ZXh0KTtcbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICBpbmRleCA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gaW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICBpZiAoXG4gICAgICAgIHJlc3VsdC5mbG9hdFJlZmVyZW5jZSA9PT0gZmxvYXRSZWZlcmVuY2UgJiZcbiAgICAgICAgcmVzdWx0LmZsb3dOYW1lID09PSBmbG93TmFtZSAmJlxuICAgICAgICBWdHJlZUltcGwuaXNTYW1lTm9kZVBvc2l0aW9uKFxuICAgICAgICAgIHJlc3VsdC5nZW5lcmF0aW5nTm9kZVBvc2l0aW9uLFxuICAgICAgICAgIGdlbmVyYXRpbmdOb2RlUG9zaXRpb24sXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmdldFByZXZpb3VzU2libGluZ09mKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgZmxvYXRSZWZlcmVuY2UsXG4gICAgICAgICAgZmxvd05hbWUsXG4gICAgICAgICAgZ2VuZXJhdGluZ05vZGVQb3NpdGlvbixcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBwcml2YXRlIGdldFByZXZpb3VzU2libGluZygpOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0IHwgbnVsbCB7XG4gICAgbGV0IGNoaWxkOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0ID0gdGhpcztcbiAgICBsZXQgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gICAgbGV0IHJlc3VsdDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dDtcbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICByZXN1bHQgPSBwYXJlbnQuZ2V0UHJldmlvdXNTaWJsaW5nT2YoXG4gICAgICAgIGNoaWxkLFxuICAgICAgICB0aGlzLmZsb2F0UmVmZXJlbmNlLFxuICAgICAgICB0aGlzLmZsb3dOYW1lLFxuICAgICAgICB0aGlzLmdlbmVyYXRpbmdOb2RlUG9zaXRpb24sXG4gICAgICApO1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgY2hpbGQgPSBwYXJlbnQ7XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldENvbnRhaW5lcihmbG9hdFJlZmVyZW5jZT86IEZsb2F0UmVmZXJlbmNlKTogVnRyZWUuQ29udGFpbmVyIHtcbiAgICBpZiAoIWZsb2F0UmVmZXJlbmNlIHx8IGZsb2F0UmVmZXJlbmNlID09PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdldFBhcmVudChmbG9hdFJlZmVyZW5jZSkuZ2V0Q29udGFpbmVyKGZsb2F0UmVmZXJlbmNlKTtcbiAgfVxuXG4gIHNldENvbnRhaW5lcihjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcikge1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMucmVhdHRhY2hGbG9hdEZyYWdtZW50cygpO1xuICB9XG5cbiAgYWRkUGFnZUZsb2F0KGZsb2F0OiBQYWdlRmxvYXQpIHtcbiAgICB0aGlzLmZsb2F0U3RvcmUuYWRkUGFnZUZsb2F0KGZsb2F0KTtcbiAgfVxuXG4gIGdldFBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlLFxuICApOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0IHtcbiAgICBpZiAoZmxvYXRSZWZlcmVuY2UgPT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5nZXRQYXJlbnQoZmxvYXRSZWZlcmVuY2UpLmdldFBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICBmbG9hdFJlZmVyZW5jZSxcbiAgICApO1xuICB9XG5cbiAgZmluZFBhZ2VGbG9hdEJ5Tm9kZVBvc2l0aW9uKFxuICAgIG5vZGVQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uLFxuICApOiBQYWdlRmxvYXQgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5mbG9hdFN0b3JlLmZpbmRQYWdlRmxvYXRCeU5vZGVQb3NpdGlvbihub2RlUG9zaXRpb24pO1xuICB9XG5cbiAgcHJpdmF0ZSBmb3JiaWQoZmxvYXQ6IFBhZ2VGbG9hdCkge1xuICAgIGNvbnN0IGlkID0gZmxvYXQuZ2V0SWQoKTtcbiAgICBjb25zdCBmbG9hdFJlZmVyZW5jZSA9IGZsb2F0LmZsb2F0UmVmZXJlbmNlO1xuICAgIGlmIChmbG9hdFJlZmVyZW5jZSA9PT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgaWYgKCF0aGlzLmZvcmJpZGRlbkZsb2F0cy5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgdGhpcy5mb3JiaWRkZW5GbG9hdHMucHVzaChpZCk7XG4gICAgICAgIGNvbnN0IHN0cmF0ZWd5ID0gbmV3IFBhZ2VGbG9hdExheW91dFN0cmF0ZWd5UmVzb2x2ZXIoKS5maW5kQnlGbG9hdChcbiAgICAgICAgICBmbG9hdCxcbiAgICAgICAgKTtcbiAgICAgICAgc3RyYXRlZ3kuZm9yYmlkKGZsb2F0LCB0aGlzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoZmxvYXRSZWZlcmVuY2UpO1xuICAgICAgcGFyZW50LmZvcmJpZChmbG9hdCk7XG4gICAgfVxuICB9XG5cbiAgaXNGb3JiaWRkZW4oZmxvYXQ6IFBhZ2VGbG9hdCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGlkID0gZmxvYXQuZ2V0SWQoKTtcbiAgICBjb25zdCBmbG9hdFJlZmVyZW5jZSA9IGZsb2F0LmZsb2F0UmVmZXJlbmNlO1xuICAgIGlmIChmbG9hdFJlZmVyZW5jZSA9PT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZm9yYmlkZGVuRmxvYXRzLmluY2x1ZGVzKGlkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoZmxvYXRSZWZlcmVuY2UpO1xuICAgICAgcmV0dXJuIHBhcmVudC5pc0ZvcmJpZGRlbihmbG9hdCk7XG4gICAgfVxuICB9XG5cbiAgYWRkUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgZmxvYXRGcmFnbWVudDogUGFnZUZsb2F0RnJhZ21lbnQsXG4gICAgZG9udEludmFsaWRhdGU/OiBib29sZWFuLFxuICApIHtcbiAgICBjb25zdCBmbG9hdFJlZmVyZW5jZSA9IGZsb2F0RnJhZ21lbnQuZmxvYXRSZWZlcmVuY2U7XG4gICAgaWYgKGZsb2F0UmVmZXJlbmNlICE9PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmdldFBhcmVudChmbG9hdFJlZmVyZW5jZSk7XG4gICAgICBwYXJlbnQuYWRkUGFnZUZsb2F0RnJhZ21lbnQoZmxvYXRGcmFnbWVudCwgZG9udEludmFsaWRhdGUpO1xuICAgIH0gZWxzZSBpZiAoIXRoaXMuZmxvYXRGcmFnbWVudHMuaW5jbHVkZXMoZmxvYXRGcmFnbWVudCkpIHtcbiAgICAgIHRoaXMuZmxvYXRGcmFnbWVudHMucHVzaChmbG9hdEZyYWdtZW50KTtcbiAgICAgIHRoaXMuZmxvYXRGcmFnbWVudHMuc29ydCgoZnIxLCBmcjIpID0+IGZyMS5nZXRPcmRlcigpIC0gZnIyLmdldE9yZGVyKCkpO1xuICAgIH1cbiAgICBpZiAoIWRvbnRJbnZhbGlkYXRlKSB7XG4gICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICB9XG4gIH1cblxuICByZW1vdmVQYWdlRmxvYXRGcmFnbWVudChcbiAgICBmbG9hdEZyYWdtZW50OiBQYWdlRmxvYXRGcmFnbWVudCxcbiAgICBkb250SW52YWxpZGF0ZT86IGJvb2xlYW4sXG4gICkge1xuICAgIGNvbnN0IGZsb2F0UmVmZXJlbmNlID0gZmxvYXRGcmFnbWVudC5mbG9hdFJlZmVyZW5jZTtcbiAgICBpZiAoZmxvYXRSZWZlcmVuY2UgIT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KGZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIHBhcmVudC5yZW1vdmVQYWdlRmxvYXRGcmFnbWVudChmbG9hdEZyYWdtZW50LCBkb250SW52YWxpZGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5mbG9hdEZyYWdtZW50cy5pbmRleE9mKGZsb2F0RnJhZ21lbnQpO1xuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSB0aGlzLmZsb2F0RnJhZ21lbnRzLnNwbGljZShpbmRleCwgMSlbMF07XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBmcmFnbWVudC5hcmVhICYmIGZyYWdtZW50LmFyZWEuZWxlbWVudDtcbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZG9udEludmFsaWRhdGUpIHtcbiAgICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZpbmRQYWdlRmxvYXRGcmFnbWVudChmbG9hdDogUGFnZUZsb2F0KTogUGFnZUZsb2F0RnJhZ21lbnQgfCBudWxsIHtcbiAgICBpZiAoZmxvYXQuZmxvYXRSZWZlcmVuY2UgIT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KGZsb2F0LmZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIHJldHVybiBwYXJlbnQuZmluZFBhZ2VGbG9hdEZyYWdtZW50KGZsb2F0KTtcbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmZsb2F0RnJhZ21lbnRzLmZpbmRJbmRleCgoZikgPT4gZi5oYXNGbG9hdChmbG9hdCkpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5mbG9hdEZyYWdtZW50c1tpbmRleF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGhhc0Zsb2F0RnJhZ21lbnRzKGNvbmRpdGlvbj86IChwMTogUGFnZUZsb2F0RnJhZ21lbnQpID0+IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5mbG9hdEZyYWdtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoIWNvbmRpdGlvbiB8fCB0aGlzLmZsb2F0RnJhZ21lbnRzLnNvbWUoY29uZGl0aW9uKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbnQuaGFzRmxvYXRGcmFnbWVudHMoY29uZGl0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGhhc0NvbnRpbnVpbmdGbG9hdEZyYWdtZW50c0luRmxvdyhmbG93TmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaGFzRmxvYXRGcmFnbWVudHMoXG4gICAgICAoZnJhZ21lbnQpID0+IGZyYWdtZW50LmNvbnRpbnVlcyAmJiBmcmFnbWVudC5nZXRGbG93TmFtZSgpID09PSBmbG93TmFtZSxcbiAgICApO1xuICB9XG5cbiAgcmVnaXN0ZXJQYWdlRmxvYXRBbmNob3IoZmxvYXQ6IFBhZ2VGbG9hdCwgYW5jaG9yVmlld05vZGU6IE5vZGUpIHtcbiAgICB0aGlzLmZsb2F0QW5jaG9yc1tmbG9hdC5nZXRJZCgpXSA9IGFuY2hvclZpZXdOb2RlO1xuICB9XG5cbiAgY29sbGVjdFBhZ2VGbG9hdEFuY2hvcnMoKSB7XG4gICAgY29uc3QgYW5jaG9ycyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZmxvYXRBbmNob3JzKTtcbiAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5yZWR1Y2UoXG4gICAgICAocHJldiwgY2hpbGQpID0+IE9iamVjdC5hc3NpZ24ocHJldiwgY2hpbGQuY29sbGVjdFBhZ2VGbG9hdEFuY2hvcnMoKSksXG4gICAgICBhbmNob3JzLFxuICAgICk7XG4gIH1cblxuICBpc0FuY2hvckFscmVhZHlBcHBlYXJlZChmbG9hdElkOiBQYWdlRmxvYXRJRCkge1xuICAgIGNvbnN0IGRlZmVycmVkRmxvYXRzID0gdGhpcy5nZXREZWZlcnJlZFBhZ2VGbG9hdENvbnRpbnVhdGlvbnMoKTtcbiAgICBpZiAoZGVmZXJyZWRGbG9hdHMuc29tZSgoY29udCkgPT4gY29udC5mbG9hdC5nZXRJZCgpID09PSBmbG9hdElkKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IGZsb2F0QW5jaG9ycyA9IHRoaXMuY29sbGVjdFBhZ2VGbG9hdEFuY2hvcnMoKTtcbiAgICBjb25zdCBhbmNob3JWaWV3Tm9kZSA9IGZsb2F0QW5jaG9yc1tmbG9hdElkXTtcbiAgICBpZiAoIWFuY2hvclZpZXdOb2RlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0aGlzLmNvbnRhaW5lciAmJiB0aGlzLmNvbnRhaW5lci5lbGVtZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZWxlbWVudC5jb250YWlucyhhbmNob3JWaWV3Tm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGRlZmVyUGFnZUZsb2F0KGNvbnRpbnVhdGlvbjogUGFnZUZsb2F0Q29udGludWF0aW9uKSB7XG4gICAgY29uc3QgZmxvYXQgPSBjb250aW51YXRpb24uZmxvYXQ7XG4gICAgaWYgKGZsb2F0LmZsb2F0UmVmZXJlbmNlID09PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMuZmxvYXRzRGVmZXJyZWRUb05leHQuZmluZEluZGV4KFxuICAgICAgICAoYykgPT4gYy5mbG9hdCA9PT0gZmxvYXQsXG4gICAgICApO1xuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgdGhpcy5mbG9hdHNEZWZlcnJlZFRvTmV4dC5zcGxpY2UoaW5kZXgsIDEsIGNvbnRpbnVhdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmZsb2F0c0RlZmVycmVkVG9OZXh0LnB1c2goY29udGludWF0aW9uKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoZmxvYXQuZmxvYXRSZWZlcmVuY2UpO1xuICAgICAgcGFyZW50LmRlZmVyUGFnZUZsb2F0KGNvbnRpbnVhdGlvbik7XG4gICAgfVxuICB9XG5cbiAgaGFzUHJlY2VkaW5nRmxvYXRzRGVmZXJyZWRUb05leHQoXG4gICAgZmxvYXQ6IFBhZ2VGbG9hdCxcbiAgICBpZ25vcmVSZWZlcmVuY2U/OiBib29sZWFuLFxuICApOiBib29sZWFuIHtcbiAgICBpZiAoIWlnbm9yZVJlZmVyZW5jZSAmJiBmbG9hdC5mbG9hdFJlZmVyZW5jZSAhPT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0UGFyZW50KFxuICAgICAgICBmbG9hdC5mbG9hdFJlZmVyZW5jZSxcbiAgICAgICkuaGFzUHJlY2VkaW5nRmxvYXRzRGVmZXJyZWRUb05leHQoZmxvYXQsIGZhbHNlKTtcbiAgICB9XG4gICAgY29uc3Qgb3JkZXIgPSBmbG9hdC5nZXRPcmRlcigpO1xuICAgIGNvbnN0IGhhc1ByZWNlZGluZ0Zsb2F0c0RlZmVycmVkVG9OZXh0ID0gdGhpcy5mbG9hdHNEZWZlcnJlZFRvTmV4dC5zb21lKFxuICAgICAgKGMpID0+IGMuZmxvYXQuZ2V0T3JkZXIoKSA8IG9yZGVyICYmICFmbG9hdC5pc0FsbG93ZWRUb1ByZWNlZGUoYy5mbG9hdCksXG4gICAgKTtcbiAgICBpZiAoaGFzUHJlY2VkaW5nRmxvYXRzRGVmZXJyZWRUb05leHQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhcmVudC5oYXNQcmVjZWRpbmdGbG9hdHNEZWZlcnJlZFRvTmV4dChmbG9hdCwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBnZXRMYXN0Rm9sbG93aW5nRmxvYXRJbkZyYWdtZW50cyhmbG9hdDogUGFnZUZsb2F0KTogUGFnZUZsb2F0IHwgbnVsbCB7XG4gICAgY29uc3Qgb3JkZXIgPSBmbG9hdC5nZXRPcmRlcigpO1xuICAgIGxldCBsYXN0Rm9sbG93aW5nOiBQYWdlRmxvYXQgPSBudWxsO1xuICAgIHRoaXMuZmxvYXRGcmFnbWVudHMuZm9yRWFjaCgoZnJhZ21lbnQpID0+IHtcbiAgICAgIGZyYWdtZW50LmNvbnRpbnVhdGlvbnMuZm9yRWFjaCgoYykgPT4ge1xuICAgICAgICBjb25zdCBmID0gYy5mbG9hdDtcbiAgICAgICAgY29uc3QgbyA9IGYuZ2V0T3JkZXIoKTtcbiAgICAgICAgaWYgKG8gPiBvcmRlciAmJiAoIWxhc3RGb2xsb3dpbmcgfHwgbyA+IGxhc3RGb2xsb3dpbmcuZ2V0T3JkZXIoKSkpIHtcbiAgICAgICAgICBsYXN0Rm9sbG93aW5nID0gZjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICBjb25zdCBsYXN0Rm9sbG93aW5nT2ZQYXJlbnQgPSB0aGlzLnBhcmVudC5nZXRMYXN0Rm9sbG93aW5nRmxvYXRJbkZyYWdtZW50cyhcbiAgICAgICAgZmxvYXQsXG4gICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICBsYXN0Rm9sbG93aW5nT2ZQYXJlbnQgJiZcbiAgICAgICAgKCFsYXN0Rm9sbG93aW5nIHx8XG4gICAgICAgICAgbGFzdEZvbGxvd2luZ09mUGFyZW50LmdldE9yZGVyKCkgPiBsYXN0Rm9sbG93aW5nLmdldE9yZGVyKCkpXG4gICAgICApIHtcbiAgICAgICAgbGFzdEZvbGxvd2luZyA9IGxhc3RGb2xsb3dpbmdPZlBhcmVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxhc3RGb2xsb3dpbmc7XG4gIH1cblxuICBnZXREZWZlcnJlZFBhZ2VGbG9hdENvbnRpbnVhdGlvbnMoXG4gICAgZmxvd05hbWU/OiBzdHJpbmcgfCBudWxsLFxuICApOiBQYWdlRmxvYXRDb250aW51YXRpb25bXSB7XG4gICAgZmxvd05hbWUgPSBmbG93TmFtZSB8fCB0aGlzLmZsb3dOYW1lO1xuICAgIGxldCByZXN1bHQgPSB0aGlzLmZsb2F0c0RlZmVycmVkRnJvbVByZXZpb3VzLmZpbHRlcihcbiAgICAgIChjb250KSA9PiAhZmxvd05hbWUgfHwgY29udC5mbG9hdC5mbG93TmFtZSA9PT0gZmxvd05hbWUsXG4gICAgKTtcbiAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgIHJlc3VsdCA9IHRoaXMucGFyZW50XG4gICAgICAgIC5nZXREZWZlcnJlZFBhZ2VGbG9hdENvbnRpbnVhdGlvbnMoZmxvd05hbWUpXG4gICAgICAgIC5jb25jYXQocmVzdWx0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5zb3J0KChjMSwgYzIpID0+IGMxLmZsb2F0LmdldE9yZGVyKCkgLSBjMi5mbG9hdC5nZXRPcmRlcigpKTtcbiAgfVxuXG4gIGdldFBhZ2VGbG9hdENvbnRpbnVhdGlvbnNEZWZlcnJlZFRvTmV4dChcbiAgICBmbG93TmFtZT86IHN0cmluZyB8IG51bGwsXG4gICk6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdIHtcbiAgICBmbG93TmFtZSA9IGZsb3dOYW1lIHx8IHRoaXMuZmxvd05hbWU7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5mbG9hdHNEZWZlcnJlZFRvTmV4dC5maWx0ZXIoXG4gICAgICAoY29udCkgPT4gIWZsb3dOYW1lIHx8IGNvbnQuZmxvYXQuZmxvd05hbWUgPT09IGZsb3dOYW1lLFxuICAgICk7XG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbnRcbiAgICAgICAgLmdldFBhZ2VGbG9hdENvbnRpbnVhdGlvbnNEZWZlcnJlZFRvTmV4dChmbG93TmFtZSlcbiAgICAgICAgLmNvbmNhdChyZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfVxuXG4gIGdldEZsb2F0c0RlZmVycmVkVG9OZXh0SW5DaGlsZENvbnRleHRzKCk6IFBhZ2VGbG9hdFtdIHtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgY29uc3QgZG9uZSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICBpZiAoZG9uZS5pbmNsdWRlcyhjaGlsZC5mbG93TmFtZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBkb25lLnB1c2goY2hpbGQuZmxvd05hbWUpO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChjaGlsZC5mbG9hdHNEZWZlcnJlZFRvTmV4dC5tYXAoKGMpID0+IGMuZmxvYXQpKTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoY2hpbGQuZ2V0RmxvYXRzRGVmZXJyZWRUb05leHRJbkNoaWxkQ29udGV4dHMoKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBjaGVja0FuZEZvcmJpZE5vdEFsbG93ZWRGbG9hdCgpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5jaGVja0FuZEZvcmJpZEZsb2F0Rm9sbG93aW5nRGVmZXJyZWRGbG9hdCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuZmxvYXRGcmFnbWVudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IGZyYWdtZW50ID0gdGhpcy5mbG9hdEZyYWdtZW50c1tpXTtcbiAgICAgIGNvbnN0IG5vdEFsbG93ZWRGbG9hdCA9IGZyYWdtZW50LmZpbmROb3RBbGxvd2VkRmxvYXQodGhpcyk7XG4gICAgICBpZiAobm90QWxsb3dlZEZsb2F0KSB7XG4gICAgICAgIGlmICh0aGlzLmxvY2tlZCkge1xuICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucmVtb3ZlUGFnZUZsb2F0RnJhZ21lbnQoZnJhZ21lbnQpO1xuICAgICAgICAgIHRoaXMuZm9yYmlkKG5vdEFsbG93ZWRGbG9hdCk7XG5cbiAgICAgICAgICAvLyBJZiB0aGUgcmVtb3ZlZCBmbG9hdCBpcyBhIGJsb2NrLWVuZC9pbmxpbmUtZW5kIGZsb2F0LFxuICAgICAgICAgIC8vIHdlIHNob3VsZCByZS1sYXlvdXQgcHJlY2VkaW5nIGZsb2F0cyB3aXRoIHRoZSBzYW1lIGZsb2F0IGRpcmVjdGlvbi5cbiAgICAgICAgICB0aGlzLnJlbW92ZUVuZEZsb2F0RnJhZ21lbnRzKGZyYWdtZW50LmZsb2F0U2lkZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmZsb2F0UmVmZXJlbmNlID09PSBGbG9hdFJlZmVyZW5jZS5SRUdJT04gJiYgdGhpcy5wYXJlbnQubG9ja2VkKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbnQuY2hlY2tBbmRGb3JiaWROb3RBbGxvd2VkRmxvYXQoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY2hlY2tBbmRGb3JiaWRGbG9hdEZvbGxvd2luZ0RlZmVycmVkRmxvYXQoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZGVmZXJyZWRGbG9hdHMgPSB0aGlzLmdldEZsb2F0c0RlZmVycmVkVG9OZXh0SW5DaGlsZENvbnRleHRzKCk7XG4gICAgY29uc3QgZmxvYXRzSW5GcmFnbWVudHMgPSB0aGlzLmZsb2F0RnJhZ21lbnRzLnJlZHVjZShcbiAgICAgIChyLCBmcikgPT4gci5jb25jYXQoZnIuY29udGludWF0aW9ucy5tYXAoKGMpID0+IGMuZmxvYXQpKSxcbiAgICAgIFtdLFxuICAgICk7XG4gICAgZmxvYXRzSW5GcmFnbWVudHMuc29ydCgoZjEsIGYyKSA9PiBmMi5nZXRPcmRlcigpIC0gZjEuZ2V0T3JkZXIoKSk7XG4gICAgZm9yIChjb25zdCBmbG9hdCBvZiBmbG9hdHNJbkZyYWdtZW50cykge1xuICAgICAgY29uc3Qgb3JkZXIgPSBmbG9hdC5nZXRPcmRlcigpO1xuICAgICAgaWYgKFxuICAgICAgICBkZWZlcnJlZEZsb2F0cy5zb21lKFxuICAgICAgICAgIChkKSA9PiAhZmxvYXQuaXNBbGxvd2VkVG9QcmVjZWRlKGQpICYmIG9yZGVyID4gZC5nZXRPcmRlcigpLFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgaWYgKHRoaXMubG9ja2VkKSB7XG4gICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5mb3JiaWQoZmxvYXQpO1xuICAgICAgICAgIGNvbnN0IGZyYWdtZW50ID0gdGhpcy5maW5kUGFnZUZsb2F0RnJhZ21lbnQoZmxvYXQpO1xuICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KGZyYWdtZW50KTtcbiAgICAgICAgICB0aGlzLnJlbW92ZVBhZ2VGbG9hdEZyYWdtZW50KGZyYWdtZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZmluaXNoKCkge1xuICAgIGlmICh0aGlzLmNoZWNrQW5kRm9yYmlkTm90QWxsb3dlZEZsb2F0KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuZmxvYXRzRGVmZXJyZWRUb05leHQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IGNvbnRpbnVhdGlvbiA9IHRoaXMuZmxvYXRzRGVmZXJyZWRUb05leHRbaV07XG4gICAgICBpZiAoIWNvbnRpbnVhdGlvbi5mbG9hdC5pc0FsbG93ZWRPbkNvbnRleHQodGhpcykpIHtcbiAgICAgICAgaWYgKHRoaXMubG9ja2VkKSB7XG4gICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmxvYXRzRGVmZXJyZWRUb05leHQuc3BsaWNlKGksIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmZsb2F0c0RlZmVycmVkRnJvbVByZXZpb3VzLmZvckVhY2goKGNvbnRpbnVhdGlvbikgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmZsb2F0c0RlZmVycmVkVG9OZXh0LmZpbmRJbmRleCgoYykgPT4gY29udGludWF0aW9uLmVxdWFscyhjKSkgPj0gMFxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmZsb2F0RnJhZ21lbnRzLnNvbWUoKGYpID0+IGYuaGFzRmxvYXQoY29udGludWF0aW9uLmZsb2F0KSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5mbG9hdHNEZWZlcnJlZFRvTmV4dC5wdXNoKGNvbnRpbnVhdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBoYXNTYW1lQ29udGFpbmVyQXMob3RoZXI6IFBhZ2VGbG9hdExheW91dENvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgISF0aGlzLmNvbnRhaW5lciAmJlxuICAgICAgISFvdGhlci5jb250YWluZXIgJiZcbiAgICAgIHRoaXMuY29udGFpbmVyLmVsZW1lbnQgPT09IG90aGVyLmNvbnRhaW5lci5lbGVtZW50XG4gICAgKTtcbiAgfVxuXG4gIGludmFsaWRhdGUoKSB7XG4gICAgdGhpcy5pbnZhbGlkYXRlZCA9IHRydWU7XG4gICAgaWYgKHRoaXMubG9ja2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmNvbnRhaW5lcikge1xuICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAvLyBTaW5jZSB0aGUgc2FtZSBjb250YWluZXIgZWxlbWVudCBpcyBzaGFyZWQgYnkgYSByZWdpb24gcGFnZSBmbG9hdFxuICAgICAgICAvLyBsYXlvdXQgY29udGV4dCBhbmQgYSBjb2x1bW4gcGFnZSBmbG9hdCBsYXlvdXQgY29udGV4dCBpbiBhIHNpbmdsZVxuICAgICAgICAvLyBjb2x1bW4gcmVnaW9uLCB2aWV3IGVsZW1lbnRzIG9mIGZsb2F0IGZyYWdtZW50cyBvZiB0aGUgY2hpbGQgKGNvbHVtbilcbiAgICAgICAgLy8gY29udGV4dCBuZWVkIHRvIGJlIHJlbW92ZWQgaGVyZS5cbiAgICAgICAgaWYgKHRoaXMuaGFzU2FtZUNvbnRhaW5lckFzKGNoaWxkKSkge1xuICAgICAgICAgIGNoaWxkLmZsb2F0RnJhZ21lbnRzLmZvckVhY2goKGZyYWdtZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtID0gZnJhZ21lbnQuYXJlYS5lbGVtZW50O1xuICAgICAgICAgICAgaWYgKGVsZW0gJiYgZWxlbS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgIGVsZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLmNvbnRhaW5lci5jbGVhcigpO1xuICAgIH1cbiAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICBjaGlsZC5sYXlvdXRDb25zdHJhaW50cy5zcGxpY2UoMCk7XG4gICAgfSk7XG4gICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoMCk7XG4gICAgT2JqZWN0LmtleXModGhpcy5mbG9hdEFuY2hvcnMpLmZvckVhY2goKGspID0+IHtcbiAgICAgIGRlbGV0ZSB0aGlzLmZsb2F0QW5jaG9yc1trXTtcbiAgICB9KTtcbiAgfVxuXG4gIGRldGFjaENoaWxkcmVuKCk6IFBhZ2VGbG9hdExheW91dENvbnRleHRbXSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuLnNwbGljZSgwKTtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgY2hpbGQuZmxvYXRGcmFnbWVudHMuZm9yRWFjaCgoZnJhZ21lbnQpID0+IHtcbiAgICAgICAgY29uc3QgZWxlbSA9IGZyYWdtZW50LmFyZWEuZWxlbWVudDtcbiAgICAgICAgaWYgKGVsZW0gJiYgZWxlbS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgZWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cblxuICBhdHRhY2hDaGlsZHJlbihjaGlsZHJlbjogUGFnZUZsb2F0TGF5b3V0Q29udGV4dFtdKSB7XG4gICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICBjaGlsZC5yZWF0dGFjaEZsb2F0RnJhZ21lbnRzKCk7XG4gICAgfSk7XG4gIH1cblxuICBpc0ludmFsaWRhdGVkKCkge1xuICAgIHJldHVybiB0aGlzLmludmFsaWRhdGVkIHx8ICghIXRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LmlzSW52YWxpZGF0ZWQoKSk7XG4gIH1cblxuICB2YWxpZGF0ZSgpIHtcbiAgICB0aGlzLmludmFsaWRhdGVkID0gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIHRvTG9naWNhbChzaWRlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHdyaXRpbmdNb2RlID0gdGhpcy53cml0aW5nTW9kZS50b1N0cmluZygpO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuZGlyZWN0aW9uLnRvU3RyaW5nKCk7XG4gICAgcmV0dXJuIENzc0xvZ2ljYWxVdGlsLnRvTG9naWNhbChzaWRlLCB3cml0aW5nTW9kZSwgZGlyZWN0aW9uKTtcbiAgfVxuXG4gIHByaXZhdGUgdG9QaHlzaWNhbChzaWRlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHdyaXRpbmdNb2RlID0gdGhpcy53cml0aW5nTW9kZS50b1N0cmluZygpO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuZGlyZWN0aW9uLnRvU3RyaW5nKCk7XG4gICAgcmV0dXJuIENzc0xvZ2ljYWxVdGlsLnRvUGh5c2ljYWwoc2lkZSwgd3JpdGluZ01vZGUsIGRpcmVjdGlvbik7XG4gIH1cblxuICByZW1vdmVFbmRGbG9hdEZyYWdtZW50cyhmbG9hdFNpZGU6IHN0cmluZykge1xuICAgIGNvbnN0IGxvZ2ljYWxGbG9hdFNpZGUgPSB0aGlzLnRvTG9naWNhbChmbG9hdFNpZGUpO1xuICAgIGlmIChsb2dpY2FsRmxvYXRTaWRlID09PSBcImJsb2NrLWVuZFwiIHx8IGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwiaW5saW5lLWVuZFwiKSB7XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICB3aGlsZSAoaSA8IHRoaXMuZmxvYXRGcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gdGhpcy5mbG9hdEZyYWdtZW50c1tpXTtcbiAgICAgICAgY29uc3QgbG9naWNhbEZsb2F0U2lkZTIgPSB0aGlzLnRvTG9naWNhbChmcmFnbWVudC5mbG9hdFNpZGUpO1xuICAgICAgICBpZiAobG9naWNhbEZsb2F0U2lkZTIgPT09IGxvZ2ljYWxGbG9hdFNpZGUpIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZVBhZ2VGbG9hdEZyYWdtZW50KGZyYWdtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGFzaEVuZEZsb2F0RnJhZ21lbnRzKGZsb2F0OiBQYWdlRmxvYXQpIHtcbiAgICBjb25zdCBmbG9hdFJlZmVyZW5jZSA9IGZsb2F0LmZsb2F0UmVmZXJlbmNlO1xuICAgIGlmIChmbG9hdFJlZmVyZW5jZSAhPT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgdGhpcy5nZXRQYXJlbnQoZmxvYXRSZWZlcmVuY2UpLnN0YXNoRW5kRmxvYXRGcmFnbWVudHMoZmxvYXQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBsb2dpY2FsRmxvYXRTaWRlID0gdGhpcy50b0xvZ2ljYWwoZmxvYXQuZmxvYXRTaWRlKTtcbiAgICBpZiAoXG4gICAgICBsb2dpY2FsRmxvYXRTaWRlID09PSBcImJsb2NrLWVuZFwiIHx8XG4gICAgICBsb2dpY2FsRmxvYXRTaWRlID09PSBcInNuYXAtYmxvY2tcIiB8fFxuICAgICAgbG9naWNhbEZsb2F0U2lkZSA9PT0gXCJpbmxpbmUtZW5kXCJcbiAgICApIHtcbiAgICAgIGxldCBpID0gMDtcbiAgICAgIHdoaWxlIChpIDwgdGhpcy5mbG9hdEZyYWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSB0aGlzLmZsb2F0RnJhZ21lbnRzW2ldO1xuICAgICAgICBjb25zdCBmcmFnbWVudEZsb2F0U2lkZSA9IHRoaXMudG9Mb2dpY2FsKGZyYWdtZW50LmZsb2F0U2lkZSk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoZnJhZ21lbnRGbG9hdFNpZGUgPT09IGxvZ2ljYWxGbG9hdFNpZGUgfHxcbiAgICAgICAgICAgIChsb2dpY2FsRmxvYXRTaWRlID09PSBcInNuYXAtYmxvY2tcIiAmJlxuICAgICAgICAgICAgICBmcmFnbWVudEZsb2F0U2lkZSA9PT0gXCJibG9jay1lbmRcIikpICYmXG4gICAgICAgICAgZnJhZ21lbnQuc2hvdWxkQmVTdGFzaGVkQmVmb3JlKGZsb2F0KVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLnN0YXNoZWRGbG9hdEZyYWdtZW50cy5wdXNoKGZyYWdtZW50KTtcbiAgICAgICAgICB0aGlzLmZsb2F0RnJhZ21lbnRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXN0b3JlU3Rhc2hlZEZyYWdtZW50cyhmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UpIHtcbiAgICBpZiAoZmxvYXRSZWZlcmVuY2UgIT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIHRoaXMuZ2V0UGFyZW50KGZsb2F0UmVmZXJlbmNlKS5yZXN0b3JlU3Rhc2hlZEZyYWdtZW50cyhmbG9hdFJlZmVyZW5jZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc3Rhc2hlZEZsb2F0RnJhZ21lbnRzLmZvckVhY2goKHN0YXNoZWQpID0+IHtcbiAgICAgIHRoaXMuYWRkUGFnZUZsb2F0RnJhZ21lbnQoc3Rhc2hlZCwgdHJ1ZSk7XG4gICAgfSk7XG4gICAgdGhpcy5zdGFzaGVkRmxvYXRGcmFnbWVudHMuc3BsaWNlKDApO1xuICB9XG5cbiAgZGlzY2FyZFN0YXNoZWRGcmFnbWVudHMoZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlKSB7XG4gICAgaWYgKGZsb2F0UmVmZXJlbmNlICE9PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICB0aGlzLmdldFBhcmVudChmbG9hdFJlZmVyZW5jZSkuZGlzY2FyZFN0YXNoZWRGcmFnbWVudHMoZmxvYXRSZWZlcmVuY2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnN0YXNoZWRGbG9hdEZyYWdtZW50cy5zcGxpY2UoMCk7XG4gIH1cblxuICBnZXRTdGFzaGVkRmxvYXRGcmFnbWVudHMoXG4gICAgZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlLFxuICApOiBQYWdlRmxvYXRGcmFnbWVudFtdIHtcbiAgICBpZiAoZmxvYXRSZWZlcmVuY2UgPT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXNoZWRGbG9hdEZyYWdtZW50c1xuICAgICAgICAuY29uY2F0KClcbiAgICAgICAgLnNvcnQoKGZyMSwgZnIyKSA9PiBmcjIuZ2V0T3JkZXIoKSAtIGZyMS5nZXRPcmRlcigpKTsgLy8gcmV0dXJuIGluIHJldmVyc2Ugb3JkZXJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0UGFyZW50KGZsb2F0UmVmZXJlbmNlKS5nZXRTdGFzaGVkRmxvYXRGcmFnbWVudHMoXG4gICAgICAgIGZsb2F0UmVmZXJlbmNlLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldExpbWl0VmFsdWUoXG4gICAgc2lkZTogc3RyaW5nLFxuICAgIGxheW91dENvbnRleHQ6IFZ0cmVlLkxheW91dENvbnRleHQsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICAgY29uZGl0aW9uPzogKHAxOiBQYWdlRmxvYXRGcmFnbWVudCwgcDI6IFBhZ2VGbG9hdExheW91dENvbnRleHQpID0+IGJvb2xlYW4sXG4gICk6IG51bWJlciB7XG4gICAgQXNzZXJ0cy5hc3NlcnQodGhpcy5jb250YWluZXIpO1xuICAgIGNvbnN0IGxvZ2ljYWxTaWRlID0gdGhpcy50b0xvZ2ljYWwoc2lkZSk7XG4gICAgY29uc3QgcGh5c2ljYWxTaWRlID0gdGhpcy50b1BoeXNpY2FsKHNpZGUpO1xuICAgIGNvbnN0IGxpbWl0ID0gdGhpcy5nZXRMaW1pdFZhbHVlSW5uZXIoXG4gICAgICBsb2dpY2FsU2lkZSxcbiAgICAgIGxheW91dENvbnRleHQsXG4gICAgICBjbGllbnRMYXlvdXQsXG4gICAgICBjb25kaXRpb24sXG4gICAgKTtcbiAgICBpZiAodGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQuY29udGFpbmVyKSB7XG4gICAgICBjb25zdCBwYXJlbnRMaW1pdCA9IHRoaXMucGFyZW50LmdldExpbWl0VmFsdWUoXG4gICAgICAgIHBoeXNpY2FsU2lkZSxcbiAgICAgICAgbGF5b3V0Q29udGV4dCxcbiAgICAgICAgY2xpZW50TGF5b3V0LFxuICAgICAgICBjb25kaXRpb24sXG4gICAgICApO1xuICAgICAgc3dpdGNoIChwaHlzaWNhbFNpZGUpIHtcbiAgICAgICAgY2FzZSBcInRvcFwiOlxuICAgICAgICAgIHJldHVybiBNYXRoLm1heChsaW1pdCwgcGFyZW50TGltaXQpO1xuICAgICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgICAgIHJldHVybiBNYXRoLm1heChsaW1pdCwgcGFyZW50TGltaXQpO1xuICAgICAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWluKGxpbWl0LCBwYXJlbnRMaW1pdCk7XG4gICAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICAgIHJldHVybiBNYXRoLm1pbihsaW1pdCwgcGFyZW50TGltaXQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIEFzc2VydHMuZmFpbChcIlNob3VsZCBiZSB1bnJlYWNoYWJsZVwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxpbWl0O1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRMaW1pdFZhbHVlSW5uZXIoXG4gICAgbG9naWNhbFNpZGU6IHN0cmluZyxcbiAgICBsYXlvdXRDb250ZXh0OiBWdHJlZS5MYXlvdXRDb250ZXh0LFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICAgIGNvbmRpdGlvbj86IChwMTogUGFnZUZsb2F0RnJhZ21lbnQsIHAyOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0KSA9PiBib29sZWFuLFxuICApOiBudW1iZXIge1xuICAgIEFzc2VydHMuYXNzZXJ0KHRoaXMuY29udGFpbmVyKTtcbiAgICBjb25zdCBsaW1pdHMgPSB0aGlzLmdldExpbWl0VmFsdWVzSW5uZXIoXG4gICAgICBsYXlvdXRDb250ZXh0LFxuICAgICAgY2xpZW50TGF5b3V0LFxuICAgICAgY29uZGl0aW9uLFxuICAgICk7XG4gICAgc3dpdGNoIChsb2dpY2FsU2lkZSkge1xuICAgICAgY2FzZSBcImJsb2NrLXN0YXJ0XCI6XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci52ZXJ0aWNhbCA/IGxpbWl0cy5yaWdodCA6IGxpbWl0cy50b3A7XG4gICAgICBjYXNlIFwiYmxvY2stZW5kXCI6XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci52ZXJ0aWNhbCA/IGxpbWl0cy5sZWZ0IDogbGltaXRzLmJvdHRvbTtcbiAgICAgIGNhc2UgXCJpbmxpbmUtc3RhcnRcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLnZlcnRpY2FsID8gbGltaXRzLnRvcCA6IGxpbWl0cy5sZWZ0O1xuICAgICAgY2FzZSBcImlubGluZS1lbmRcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLnZlcnRpY2FsID8gbGltaXRzLmJvdHRvbSA6IGxpbWl0cy5yaWdodDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBsb2dpY2FsIHNpZGU6ICR7bG9naWNhbFNpZGV9YCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRMaW1pdFZhbHVlc0lubmVyKFxuICAgIGxheW91dENvbnRleHQ6IFZ0cmVlLkxheW91dENvbnRleHQsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICAgY29uZGl0aW9uPzogKHAxOiBQYWdlRmxvYXRGcmFnbWVudCwgcDI6IFBhZ2VGbG9hdExheW91dENvbnRleHQpID0+IGJvb2xlYW4sXG4gICk6IHtcbiAgICB0b3A6IG51bWJlcjtcbiAgICBsZWZ0OiBudW1iZXI7XG4gICAgYm90dG9tOiBudW1iZXI7XG4gICAgcmlnaHQ6IG51bWJlcjtcbiAgICBmbG9hdE1pbldyYXBCbG9ja1N0YXJ0OiBudW1iZXI7XG4gICAgZmxvYXRNaW5XcmFwQmxvY2tFbmQ6IG51bWJlcjtcbiAgfSB7XG4gICAgQXNzZXJ0cy5hc3NlcnQodGhpcy5jb250YWluZXIpO1xuICAgIGNvbnN0IG9mZnNldFggPSB0aGlzLmNvbnRhaW5lci5vcmlnaW5YO1xuICAgIGNvbnN0IG9mZnNldFkgPSB0aGlzLmNvbnRhaW5lci5vcmlnaW5ZO1xuICAgIGNvbnN0IHBhZGRpbmdSZWN0ID0gdGhpcy5jb250YWluZXIuZ2V0UGFkZGluZ1JlY3QoKTtcbiAgICBsZXQgbGltaXRzID0ge1xuICAgICAgdG9wOiBwYWRkaW5nUmVjdC55MSAtIG9mZnNldFksXG4gICAgICBsZWZ0OiBwYWRkaW5nUmVjdC54MSAtIG9mZnNldFgsXG4gICAgICBib3R0b206IHBhZGRpbmdSZWN0LnkyIC0gb2Zmc2V0WSxcbiAgICAgIHJpZ2h0OiBwYWRkaW5nUmVjdC54MiAtIG9mZnNldFgsXG4gICAgICBmbG9hdE1pbldyYXBCbG9ja1N0YXJ0OiAwLFxuICAgICAgZmxvYXRNaW5XcmFwQmxvY2tFbmQ6IDAsXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHJlc29sdmVMZW5ndGhQZXJjZW50YWdlKG51bWVyaWMsIHZpZXdOb2RlLCBjb250YWluZXJMZW5ndGgpIHtcbiAgICAgIGlmIChudW1lcmljLnVuaXQgPT09IFwiJVwiKSB7XG4gICAgICAgIHJldHVybiAoY29udGFpbmVyTGVuZ3RoICogbnVtZXJpYy5udW0pIC8gMTAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGxheW91dENvbnRleHQuY29udmVydExlbmd0aFRvUHgobnVtZXJpYywgdmlld05vZGUsIGNsaWVudExheW91dCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGZyYWdtZW50cyA9IHRoaXMuZmxvYXRGcmFnbWVudHM7XG4gICAgaWYgKGZyYWdtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBsaW1pdHMgPSBmcmFnbWVudHMucmVkdWNlKChsLCBmKSA9PiB7XG4gICAgICAgIGlmIChjb25kaXRpb24gJiYgIWNvbmRpdGlvbihmLCB0aGlzKSkge1xuICAgICAgICAgIHJldHVybiBsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvZ2ljYWxGbG9hdFNpZGUgPSB0aGlzLnRvTG9naWNhbChmLmZsb2F0U2lkZSk7XG4gICAgICAgIGNvbnN0IGFyZWEgPSBmLmFyZWE7XG4gICAgICAgIGNvbnN0IGZsb2F0TWluV3JhcEJsb2NrID0gZi5jb250aW51YXRpb25zWzBdLmZsb2F0LmZsb2F0TWluV3JhcEJsb2NrO1xuICAgICAgICBsZXQgdG9wID0gbC50b3A7XG4gICAgICAgIGxldCBsZWZ0ID0gbC5sZWZ0O1xuICAgICAgICBsZXQgYm90dG9tID0gbC5ib3R0b207XG4gICAgICAgIGxldCByaWdodCA9IGwucmlnaHQ7XG4gICAgICAgIGxldCBmbG9hdE1pbldyYXBCbG9ja1N0YXJ0ID0gbC5mbG9hdE1pbldyYXBCbG9ja1N0YXJ0O1xuICAgICAgICBsZXQgZmxvYXRNaW5XcmFwQmxvY2tFbmQgPSBsLmZsb2F0TWluV3JhcEJsb2NrRW5kO1xuICAgICAgICBzd2l0Y2ggKGxvZ2ljYWxGbG9hdFNpZGUpIHtcbiAgICAgICAgICBjYXNlIFwiaW5saW5lLXN0YXJ0XCI6XG4gICAgICAgICAgICBpZiAoYXJlYS52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICB0b3AgPSBNYXRoLm1heCh0b3AsIGFyZWEudG9wICsgYXJlYS5oZWlnaHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbGVmdCA9IE1hdGgubWF4KGxlZnQsIGFyZWEubGVmdCArIGFyZWEud2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImJsb2NrLXN0YXJ0XCI6XG4gICAgICAgICAgICBpZiAoYXJlYS52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICBpZiAoZmxvYXRNaW5XcmFwQmxvY2sgJiYgYXJlYS5sZWZ0IDwgcmlnaHQpIHtcbiAgICAgICAgICAgICAgICBmbG9hdE1pbldyYXBCbG9ja1N0YXJ0ID0gcmVzb2x2ZUxlbmd0aFBlcmNlbnRhZ2UoXG4gICAgICAgICAgICAgICAgICBmbG9hdE1pbldyYXBCbG9jayxcbiAgICAgICAgICAgICAgICAgIChhcmVhIGFzIGFueSkucm9vdFZpZXdOb2Rlc1swXSxcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmdSZWN0LngyIC0gcGFkZGluZ1JlY3QueDEsXG4gICAgICAgICAgICAgICAgKSBhcyBudW1iZXI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmlnaHQgPSBNYXRoLm1pbihyaWdodCwgYXJlYS5sZWZ0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChmbG9hdE1pbldyYXBCbG9jayAmJiBhcmVhLnRvcCArIGFyZWEuaGVpZ2h0ID4gdG9wKSB7XG4gICAgICAgICAgICAgICAgZmxvYXRNaW5XcmFwQmxvY2tTdGFydCA9IHJlc29sdmVMZW5ndGhQZXJjZW50YWdlKFxuICAgICAgICAgICAgICAgICAgZmxvYXRNaW5XcmFwQmxvY2ssXG4gICAgICAgICAgICAgICAgICAoYXJlYSBhcyBhbnkpLnJvb3RWaWV3Tm9kZXNbMF0sXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nUmVjdC55MiAtIHBhZGRpbmdSZWN0LnkxLFxuICAgICAgICAgICAgICAgICkgYXMgbnVtYmVyO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRvcCA9IE1hdGgubWF4KHRvcCwgYXJlYS50b3AgKyBhcmVhLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiaW5saW5lLWVuZFwiOlxuICAgICAgICAgICAgaWYgKGFyZWEudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgYm90dG9tID0gTWF0aC5taW4oYm90dG9tLCBhcmVhLnRvcCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByaWdodCA9IE1hdGgubWluKHJpZ2h0LCBhcmVhLmxlZnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImJsb2NrLWVuZFwiOlxuICAgICAgICAgICAgaWYgKGFyZWEudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgaWYgKGZsb2F0TWluV3JhcEJsb2NrICYmIGFyZWEubGVmdCArIGFyZWEud2lkdGggPiBsZWZ0KSB7XG4gICAgICAgICAgICAgICAgZmxvYXRNaW5XcmFwQmxvY2tFbmQgPSByZXNvbHZlTGVuZ3RoUGVyY2VudGFnZShcbiAgICAgICAgICAgICAgICAgIGZsb2F0TWluV3JhcEJsb2NrLFxuICAgICAgICAgICAgICAgICAgKGFyZWEgYXMgYW55KS5yb290Vmlld05vZGVzWzBdLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZ1JlY3QueDIgLSBwYWRkaW5nUmVjdC54MSxcbiAgICAgICAgICAgICAgICApIGFzIG51bWJlcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsZWZ0ID0gTWF0aC5tYXgobGVmdCwgYXJlYS5sZWZ0ICsgYXJlYS53aWR0aCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoZmxvYXRNaW5XcmFwQmxvY2sgJiYgYXJlYS50b3AgPCBib3R0b20pIHtcbiAgICAgICAgICAgICAgICBmbG9hdE1pbldyYXBCbG9ja0VuZCA9IHJlc29sdmVMZW5ndGhQZXJjZW50YWdlKFxuICAgICAgICAgICAgICAgICAgZmxvYXRNaW5XcmFwQmxvY2ssXG4gICAgICAgICAgICAgICAgICAoYXJlYSBhcyBhbnkpLnJvb3RWaWV3Tm9kZXNbMF0sXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nUmVjdC55MiAtIHBhZGRpbmdSZWN0LnkxLFxuICAgICAgICAgICAgICAgICkgYXMgbnVtYmVyO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJvdHRvbSA9IE1hdGgubWluKGJvdHRvbSwgYXJlYS50b3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBsb2dpY2FsIGZsb2F0IHNpZGU6ICR7bG9naWNhbEZsb2F0U2lkZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRvcCxcbiAgICAgICAgICBsZWZ0LFxuICAgICAgICAgIGJvdHRvbSxcbiAgICAgICAgICByaWdodCxcbiAgICAgICAgICBmbG9hdE1pbldyYXBCbG9ja1N0YXJ0LFxuICAgICAgICAgIGZsb2F0TWluV3JhcEJsb2NrRW5kLFxuICAgICAgICB9O1xuICAgICAgfSwgbGltaXRzKTtcbiAgICB9XG4gICAgbGltaXRzLmxlZnQgKz0gb2Zmc2V0WDtcbiAgICBsaW1pdHMucmlnaHQgKz0gb2Zmc2V0WDtcbiAgICBsaW1pdHMudG9wICs9IG9mZnNldFk7XG4gICAgbGltaXRzLmJvdHRvbSArPSBvZmZzZXRZO1xuICAgIHJldHVybiBsaW1pdHM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGFuY2hvckVkZ2UgTnVsbCBpbmRpY2F0ZXMgdGhhdCB0aGUgYW5jaG9yIGlzIG5vdCBpbiB0aGUgY3VycmVudFxuICAgKiAgICAgY29udGFpbmVyLlxuICAgKiBAcmV0dXJuIExvZ2ljYWwgZmxvYXQgc2lkZSAoc25hcC1ibG9jayBpcyByZXNvbHZlZCB3aGVuIGluaXQ9ZmFsc2UpLiBOdWxsXG4gICAqICAgICBpbmRpY2F0ZXMgdGhhdCB0aGUgZmxvYXQgYXJlYSBkb2VzIG5vdCBmaXQgaW5zaWRlIHRoZSBjb250YWluZXJcbiAgICovXG4gIHNldEZsb2F0QXJlYURpbWVuc2lvbnMoXG4gICAgYXJlYTogTGF5b3V0VHlwZS5QYWdlRmxvYXRBcmVhLFxuICAgIGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSxcbiAgICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICBhbmNob3JFZGdlOiBudW1iZXIgfCBudWxsLFxuICAgIGluaXQ6IGJvb2xlYW4sXG4gICAgZm9yY2U6IGJvb2xlYW4sXG4gICAgY29uZGl0aW9uOiBQYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24sXG4gICk6IHN0cmluZyB8IG51bGwge1xuICAgIGlmIChmbG9hdFJlZmVyZW5jZSAhPT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoZmxvYXRSZWZlcmVuY2UpO1xuICAgICAgcmV0dXJuIHBhcmVudC5zZXRGbG9hdEFyZWFEaW1lbnNpb25zKFxuICAgICAgICBhcmVhLFxuICAgICAgICBmbG9hdFJlZmVyZW5jZSxcbiAgICAgICAgZmxvYXRTaWRlLFxuICAgICAgICBhbmNob3JFZGdlLFxuICAgICAgICBpbml0LFxuICAgICAgICBmb3JjZSxcbiAgICAgICAgY29uZGl0aW9uLFxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IGxvZ2ljYWxGbG9hdFNpZGUgPSB0aGlzLnRvTG9naWNhbChmbG9hdFNpZGUpO1xuICAgIGlmIChsb2dpY2FsRmxvYXRTaWRlID09PSBcInNuYXAtYmxvY2tcIikge1xuICAgICAgaWYgKCFjb25kaXRpb25bXCJibG9jay1zdGFydFwiXSAmJiAhY29uZGl0aW9uW1wiYmxvY2stZW5kXCJdKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWNvbmRpdGlvbltsb2dpY2FsRmxvYXRTaWRlXSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgQXNzZXJ0cy5hc3NlcnQoYXJlYS5jbGllbnRMYXlvdXQpO1xuICAgIGxldCBibG9ja1N0YXJ0ID0gdGhpcy5nZXRMaW1pdFZhbHVlKFxuICAgICAgXCJibG9jay1zdGFydFwiLFxuICAgICAgYXJlYS5sYXlvdXRDb250ZXh0LFxuICAgICAgYXJlYS5jbGllbnRMYXlvdXQsXG4gICAgKTtcbiAgICBsZXQgYmxvY2tFbmQgPSB0aGlzLmdldExpbWl0VmFsdWUoXG4gICAgICBcImJsb2NrLWVuZFwiLFxuICAgICAgYXJlYS5sYXlvdXRDb250ZXh0LFxuICAgICAgYXJlYS5jbGllbnRMYXlvdXQsXG4gICAgKTtcbiAgICBsZXQgaW5saW5lU3RhcnQgPSB0aGlzLmdldExpbWl0VmFsdWUoXG4gICAgICBcImlubGluZS1zdGFydFwiLFxuICAgICAgYXJlYS5sYXlvdXRDb250ZXh0LFxuICAgICAgYXJlYS5jbGllbnRMYXlvdXQsXG4gICAgKTtcbiAgICBsZXQgaW5saW5lRW5kID0gdGhpcy5nZXRMaW1pdFZhbHVlKFxuICAgICAgXCJpbmxpbmUtZW5kXCIsXG4gICAgICBhcmVhLmxheW91dENvbnRleHQsXG4gICAgICBhcmVhLmNsaWVudExheW91dCxcbiAgICApO1xuICAgIGNvbnN0IGJsb2NrT2Zmc2V0ID0gYXJlYS52ZXJ0aWNhbCA/IGFyZWEub3JpZ2luWCA6IGFyZWEub3JpZ2luWTtcbiAgICBjb25zdCBpbmxpbmVPZmZzZXQgPSBhcmVhLnZlcnRpY2FsID8gYXJlYS5vcmlnaW5ZIDogYXJlYS5vcmlnaW5YO1xuICAgIGJsb2NrU3RhcnQgPSBhcmVhLnZlcnRpY2FsXG4gICAgICA/IE1hdGgubWluKFxuICAgICAgICAgIGJsb2NrU3RhcnQsXG4gICAgICAgICAgYXJlYS5sZWZ0ICtcbiAgICAgICAgICAgIGFyZWEuZ2V0SW5zZXRMZWZ0KCkgK1xuICAgICAgICAgICAgYXJlYS53aWR0aCArXG4gICAgICAgICAgICBhcmVhLmdldEluc2V0UmlnaHQoKSArXG4gICAgICAgICAgICBibG9ja09mZnNldCxcbiAgICAgICAgKVxuICAgICAgOiBNYXRoLm1heChibG9ja1N0YXJ0LCBhcmVhLnRvcCArIGJsb2NrT2Zmc2V0KTtcbiAgICBibG9ja0VuZCA9IGFyZWEudmVydGljYWxcbiAgICAgID8gTWF0aC5tYXgoYmxvY2tFbmQsIGFyZWEubGVmdCArIGJsb2NrT2Zmc2V0KVxuICAgICAgOiBNYXRoLm1pbihcbiAgICAgICAgICBibG9ja0VuZCxcbiAgICAgICAgICBhcmVhLnRvcCArXG4gICAgICAgICAgICBhcmVhLmdldEluc2V0VG9wKCkgK1xuICAgICAgICAgICAgYXJlYS5oZWlnaHQgK1xuICAgICAgICAgICAgYXJlYS5nZXRJbnNldEJvdHRvbSgpICtcbiAgICAgICAgICAgIGJsb2NrT2Zmc2V0LFxuICAgICAgICApO1xuXG4gICAgZnVuY3Rpb24gbGltaXRCbG9ja1N0YXJ0RW5kVmFsdWVXaXRoT3BlblJlY3QoZ2V0UmVjdCwgcmVjdCkge1xuICAgICAgbGV0IG9wZW5SZWN0ID0gZ2V0UmVjdChhcmVhLmJhbmRzLCByZWN0KTtcbiAgICAgIGlmIChvcGVuUmVjdCkge1xuICAgICAgICBpZiAoYXJlYS52ZXJ0aWNhbCkge1xuICAgICAgICAgIG9wZW5SZWN0ID0gR2VvbWV0cnlVdGlsLnVucm90YXRlQm94KG9wZW5SZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBibG9ja1N0YXJ0ID0gYXJlYS52ZXJ0aWNhbFxuICAgICAgICAgID8gTWF0aC5taW4oYmxvY2tTdGFydCwgb3BlblJlY3QueDIpXG4gICAgICAgICAgOiBNYXRoLm1heChibG9ja1N0YXJ0LCBvcGVuUmVjdC55MSk7XG4gICAgICAgIGJsb2NrRW5kID0gYXJlYS52ZXJ0aWNhbFxuICAgICAgICAgID8gTWF0aC5tYXgoYmxvY2tFbmQsIG9wZW5SZWN0LngxKVxuICAgICAgICAgIDogTWF0aC5taW4oYmxvY2tFbmQsIG9wZW5SZWN0LnkyKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZm9yY2U7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBibG9ja1NpemU6IG51bWJlcjtcbiAgICBsZXQgaW5saW5lU2l6ZTogbnVtYmVyO1xuICAgIGxldCBvdXRlckJsb2NrU2l6ZTogbnVtYmVyO1xuICAgIGxldCBvdXRlcklubGluZVNpemU6IG51bWJlcjtcbiAgICBpZiAoaW5pdCkge1xuICAgICAgY29uc3QgcmVjdCA9IGFyZWEudmVydGljYWxcbiAgICAgICAgPyBHZW9tZXRyeVV0aWwucm90YXRlQm94KFxuICAgICAgICAgICAgbmV3IEdlb21ldHJ5VXRpbC5SZWN0KGJsb2NrRW5kLCBpbmxpbmVTdGFydCwgYmxvY2tTdGFydCwgaW5saW5lRW5kKSxcbiAgICAgICAgICApXG4gICAgICAgIDogbmV3IEdlb21ldHJ5VXRpbC5SZWN0KGlubGluZVN0YXJ0LCBibG9ja1N0YXJ0LCBpbmxpbmVFbmQsIGJsb2NrRW5kKTtcbiAgICAgIGlmIChcbiAgICAgICAgbG9naWNhbEZsb2F0U2lkZSA9PT0gXCJibG9jay1zdGFydFwiIHx8XG4gICAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwic25hcC1ibG9ja1wiIHx8XG4gICAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwiaW5saW5lLXN0YXJ0XCJcbiAgICAgICkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIWxpbWl0QmxvY2tTdGFydEVuZFZhbHVlV2l0aE9wZW5SZWN0KFxuICAgICAgICAgICAgR2VvbWV0cnlVdGlsLmZpbmRVcHBlcm1vc3RGdWxseU9wZW5SZWN0LFxuICAgICAgICAgICAgcmVjdCxcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwiYmxvY2stZW5kXCIgfHxcbiAgICAgICAgbG9naWNhbEZsb2F0U2lkZSA9PT0gXCJzbmFwLWJsb2NrXCIgfHxcbiAgICAgICAgbG9naWNhbEZsb2F0U2lkZSA9PT0gXCJpbmxpbmUtZW5kXCJcbiAgICAgICkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIWxpbWl0QmxvY2tTdGFydEVuZFZhbHVlV2l0aE9wZW5SZWN0KFxuICAgICAgICAgICAgR2VvbWV0cnlVdGlsLmZpbmRCb3R0b21tb3N0RnVsbHlPcGVuUmVjdCxcbiAgICAgICAgICAgIHJlY3QsXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgb3V0ZXJCbG9ja1NpemUgPSAoYmxvY2tFbmQgLSBibG9ja1N0YXJ0KSAqIGFyZWEuZ2V0Qm94RGlyKCk7XG4gICAgICBibG9ja1NpemUgPSBvdXRlckJsb2NrU2l6ZSAtIGFyZWEuZ2V0SW5zZXRCZWZvcmUoKSAtIGFyZWEuZ2V0SW5zZXRBZnRlcigpO1xuICAgICAgb3V0ZXJJbmxpbmVTaXplID0gaW5saW5lRW5kIC0gaW5saW5lU3RhcnQ7XG4gICAgICBpbmxpbmVTaXplID0gb3V0ZXJJbmxpbmVTaXplIC0gYXJlYS5nZXRJbnNldFN0YXJ0KCkgLSBhcmVhLmdldEluc2V0RW5kKCk7XG4gICAgICBpZiAoIWZvcmNlICYmIChibG9ja1NpemUgPD0gMCB8fCBpbmxpbmVTaXplIDw9IDApKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBibG9ja1NpemUgPSBhcmVhLmNvbXB1dGVkQmxvY2tTaXplO1xuICAgICAgb3V0ZXJCbG9ja1NpemUgPSBibG9ja1NpemUgKyBhcmVhLmdldEluc2V0QmVmb3JlKCkgKyBhcmVhLmdldEluc2V0QWZ0ZXIoKTtcbiAgICAgIGNvbnN0IGF2YWlsYWJsZUJsb2NrU2l6ZSA9IChibG9ja0VuZCAtIGJsb2NrU3RhcnQpICogYXJlYS5nZXRCb3hEaXIoKTtcbiAgICAgIGlmIChsb2dpY2FsRmxvYXRTaWRlID09PSBcInNuYXAtYmxvY2tcIikge1xuICAgICAgICBpZiAoYW5jaG9yRWRnZSA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIERlZmVycmVkIGZyb20gcHJldmlvdXMgY29udGFpbmVyXG4gICAgICAgICAgbG9naWNhbEZsb2F0U2lkZSA9IFwiYmxvY2stc3RhcnRcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBjb250YWluZXJSZWN0ID0gdGhpcy5jb250YWluZXIuZ2V0UGFkZGluZ1JlY3QoKTtcbiAgICAgICAgICBjb25zdCBmcm9tU3RhcnQgPVxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0Qm94RGlyKCkgKlxuICAgICAgICAgICAgKGFuY2hvckVkZ2UgLVxuICAgICAgICAgICAgICAodGhpcy5jb250YWluZXIudmVydGljYWwgPyBjb250YWluZXJSZWN0LngyIDogY29udGFpbmVyUmVjdC55MSkpO1xuICAgICAgICAgIGNvbnN0IGZyb21FbmQgPVxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0Qm94RGlyKCkgKlxuICAgICAgICAgICAgKCh0aGlzLmNvbnRhaW5lci52ZXJ0aWNhbCA/IGNvbnRhaW5lclJlY3QueDEgOiBjb250YWluZXJSZWN0LnkyKSAtXG4gICAgICAgICAgICAgIGFuY2hvckVkZ2UgLVxuICAgICAgICAgICAgICBvdXRlckJsb2NrU2l6ZSk7XG4gICAgICAgICAgaWYgKGZyb21TdGFydCA8PSBmcm9tRW5kKSB7XG4gICAgICAgICAgICBsb2dpY2FsRmxvYXRTaWRlID0gXCJibG9jay1zdGFydFwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dpY2FsRmxvYXRTaWRlID0gXCJibG9jay1lbmRcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb25kaXRpb25bbG9naWNhbEZsb2F0U2lkZV0pIHtcbiAgICAgICAgICBpZiAoY29uZGl0aW9uW1wiYmxvY2stZW5kXCJdKSB7XG4gICAgICAgICAgICBsb2dpY2FsRmxvYXRTaWRlID0gXCJibG9jay1lbmRcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWZvcmNlICYmIGF2YWlsYWJsZUJsb2NrU2l6ZSA8IG91dGVyQmxvY2tTaXplKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBsb2dpY2FsRmxvYXRTaWRlID09PSBcImlubGluZS1zdGFydFwiIHx8XG4gICAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwiaW5saW5lLWVuZFwiXG4gICAgICApIHtcbiAgICAgICAgaW5saW5lU2l6ZSA9IFNpemluZy5nZXRTaXplKGFyZWEuY2xpZW50TGF5b3V0LCBhcmVhLmVsZW1lbnQsIFtcbiAgICAgICAgICBTaXppbmcuU2l6ZS5GSVRfQ09OVEVOVF9JTkxJTkVfU0laRSxcbiAgICAgICAgXSlbU2l6aW5nLlNpemUuRklUX0NPTlRFTlRfSU5MSU5FX1NJWkVdO1xuICAgICAgfSBlbHNlIGlmIChhcmVhLmFkanVzdENvbnRlbnRSZWxhdGl2ZVNpemUpIHtcbiAgICAgICAgaW5saW5lU2l6ZSA9IGFyZWEuZ2V0Q29udGVudElubGluZVNpemUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlubGluZVNpemUgPSBhcmVhLnZlcnRpY2FsID8gYXJlYS5oZWlnaHQgOiBhcmVhLndpZHRoO1xuICAgICAgfVxuICAgICAgb3V0ZXJJbmxpbmVTaXplID0gaW5saW5lU2l6ZSArIGFyZWEuZ2V0SW5zZXRTdGFydCgpICsgYXJlYS5nZXRJbnNldEVuZCgpO1xuICAgICAgY29uc3QgYXZhaWxhYmxlSW5saW5lU2l6ZSA9IGlubGluZUVuZCAtIGlubGluZVN0YXJ0O1xuICAgICAgaWYgKCFmb3JjZSAmJiBhdmFpbGFibGVJbmxpbmVTaXplIDwgb3V0ZXJJbmxpbmVTaXplKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBibG9ja1N0YXJ0IC09IGJsb2NrT2Zmc2V0O1xuICAgIGJsb2NrRW5kIC09IGJsb2NrT2Zmc2V0O1xuICAgIGlubGluZVN0YXJ0IC09IGlubGluZU9mZnNldDtcbiAgICBpbmxpbmVFbmQgLT0gaW5saW5lT2Zmc2V0O1xuICAgIHN3aXRjaCAobG9naWNhbEZsb2F0U2lkZSkge1xuICAgICAgY2FzZSBcImlubGluZS1zdGFydFwiOlxuICAgICAgY2FzZSBcImJsb2NrLXN0YXJ0XCI6XG4gICAgICBjYXNlIFwic25hcC1ibG9ja1wiOlxuICAgICAgICBhcmVhLnNldElubGluZVBvc2l0aW9uKGlubGluZVN0YXJ0LCBpbmxpbmVTaXplKTtcbiAgICAgICAgYXJlYS5zZXRCbG9ja1Bvc2l0aW9uKGJsb2NrU3RhcnQsIGJsb2NrU2l6ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImlubGluZS1lbmRcIjpcbiAgICAgIGNhc2UgXCJibG9jay1lbmRcIjpcbiAgICAgICAgYXJlYS5zZXRJbmxpbmVQb3NpdGlvbihpbmxpbmVFbmQgLSBvdXRlcklubGluZVNpemUsIGlubGluZVNpemUpO1xuICAgICAgICBhcmVhLnNldEJsb2NrUG9zaXRpb24oXG4gICAgICAgICAgYmxvY2tFbmQgLSBvdXRlckJsb2NrU2l6ZSAqIGFyZWEuZ2V0Qm94RGlyKCksXG4gICAgICAgICAgYmxvY2tTaXplLFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5rbm93biBmbG9hdCBkaXJlY3Rpb246ICR7ZmxvYXRTaWRlfWApO1xuICAgIH1cbiAgICByZXR1cm4gbG9naWNhbEZsb2F0U2lkZTtcbiAgfVxuXG4gIGdldEZsb2F0RnJhZ21lbnRFeGNsdXNpb25zKCk6IEdlb21ldHJ5VXRpbC5TaGFwZVtdIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmZsb2F0RnJhZ21lbnRzLm1hcCgoZnJhZ21lbnQpID0+XG4gICAgICBmcmFnbWVudC5nZXRPdXRlclNoYXBlKCksXG4gICAgKTtcbiAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhcmVudC5nZXRGbG9hdEZyYWdtZW50RXhjbHVzaW9ucygpLmNvbmNhdChyZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVhdHRhY2hGbG9hdEZyYWdtZW50cygpIHtcbiAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmNvbnRhaW5lci5lbGVtZW50ICYmIHRoaXMuY29udGFpbmVyLmVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICB0aGlzLmZsb2F0RnJhZ21lbnRzLmZvckVhY2goKGZyYWdtZW50KSA9PiB7XG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChmcmFnbWVudC5hcmVhLmVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0TWF4UmVhY2hlZEFmdGVyRWRnZSgpOiBudW1iZXIge1xuICAgIGNvbnN0IGlzVmVydGljYWwgPSB0aGlzLmdldENvbnRhaW5lcigpLnZlcnRpY2FsO1xuICAgIHJldHVybiB0aGlzLmZsb2F0RnJhZ21lbnRzLnJlZHVjZShcbiAgICAgIChlZGdlLCBmcmFnbWVudCkgPT4ge1xuICAgICAgICBjb25zdCByZWN0ID0gZnJhZ21lbnQuZ2V0T3V0ZXJSZWN0KCk7XG4gICAgICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWluKGVkZ2UsIHJlY3QueDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBNYXRoLm1heChlZGdlLCByZWN0LnkyKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGlzVmVydGljYWwgPyBJbmZpbml0eSA6IDAsXG4gICAgKTtcbiAgfVxuXG4gIGdldEJsb2NrU3RhcnRFZGdlT2ZCbG9ja0VuZEZsb2F0cygpOiBudW1iZXIge1xuICAgIGNvbnN0IGlzVmVydGljYWwgPSB0aGlzLmdldENvbnRhaW5lcigpLnZlcnRpY2FsO1xuICAgIHJldHVybiB0aGlzLmZsb2F0RnJhZ21lbnRzXG4gICAgICAuZmlsdGVyKChmcmFnbWVudCkgPT4gZnJhZ21lbnQuZmxvYXRTaWRlID09PSBcImJsb2NrLWVuZFwiKVxuICAgICAgLnJlZHVjZShcbiAgICAgICAgKGVkZ2UsIGZyYWdtZW50KSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVjdCA9IGZyYWdtZW50LmdldE91dGVyUmVjdCgpO1xuICAgICAgICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoZWRnZSwgcmVjdC54Mik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbihlZGdlLCByZWN0LnkxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGlzVmVydGljYWwgPyAwIDogSW5maW5pdHksXG4gICAgICApO1xuICB9XG5cbiAgZ2V0UGFnZUZsb2F0Q2xlYXJFZGdlKGNsZWFyOiBzdHJpbmcsIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4pOiBudW1iZXIge1xuICAgIGZ1bmN0aW9uIGlzQ29udGludWF0aW9uT2ZBbHJlYWR5QXBwZWFyZWRGbG9hdChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gKGNvbnRpbnVhdGlvbikgPT5cbiAgICAgICAgY29udGV4dC5pc0FuY2hvckFscmVhZHlBcHBlYXJlZChjb250aW51YXRpb24uZmxvYXQuZ2V0SWQoKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNGcmFnbWVudFdpdGhBbHJlYWR5QXBwZWFyZWRGbG9hdChmcmFnbWVudCwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIGZyYWdtZW50LmNvbnRpbnVhdGlvbnMuc29tZShcbiAgICAgICAgaXNDb250aW51YXRpb25PZkFscmVhZHlBcHBlYXJlZEZsb2F0KGNvbnRleHQpLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgY29sdW1uUmVjdCA9IGNvbHVtbi5nZXRQYWRkaW5nUmVjdCgpO1xuICAgIGNvbnN0IGNvbHVtbkJsb2NrRW5kID0gY29sdW1uLnZlcnRpY2FsID8gY29sdW1uUmVjdC54MSA6IGNvbHVtblJlY3QueTI7XG4gICAgbGV0IGNvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQgPSB0aGlzO1xuICAgIHdoaWxlIChjb250ZXh0KSB7XG4gICAgICBpZiAoXG4gICAgICAgIGNvbnRleHQuZmxvYXRzRGVmZXJyZWRUb05leHQuc29tZShcbiAgICAgICAgICBpc0NvbnRpbnVhdGlvbk9mQWxyZWFkeUFwcGVhcmVkRmxvYXQoY29udGV4dCksXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gY29sdW1uQmxvY2tFbmQ7XG4gICAgICB9XG4gICAgICBjb250ZXh0ID0gY29udGV4dC5wYXJlbnQ7XG4gICAgfVxuICAgIEFzc2VydHMuYXNzZXJ0KGNvbHVtbi5jbGllbnRMYXlvdXQpO1xuICAgIGNvbnN0IGJsb2NrU3RhcnRMaW1pdCA9IHRoaXMuZ2V0TGltaXRWYWx1ZShcbiAgICAgIFwiYmxvY2stc3RhcnRcIixcbiAgICAgIGNvbHVtbi5sYXlvdXRDb250ZXh0LFxuICAgICAgY29sdW1uLmNsaWVudExheW91dCxcbiAgICAgIGlzRnJhZ21lbnRXaXRoQWxyZWFkeUFwcGVhcmVkRmxvYXQsXG4gICAgKTtcbiAgICBjb25zdCBibG9ja0VuZExpbWl0ID0gdGhpcy5nZXRMaW1pdFZhbHVlKFxuICAgICAgXCJibG9jay1lbmRcIixcbiAgICAgIGNvbHVtbi5sYXlvdXRDb250ZXh0LFxuICAgICAgY29sdW1uLmNsaWVudExheW91dCxcbiAgICAgIGlzRnJhZ21lbnRXaXRoQWxyZWFkeUFwcGVhcmVkRmxvYXQsXG4gICAgKTtcbiAgICBpZiAoXG4gICAgICBibG9ja0VuZExpbWl0ICogY29sdW1uLmdldEJveERpcigpIDxcbiAgICAgIGNvbHVtbkJsb2NrRW5kICogY29sdW1uLmdldEJveERpcigpXG4gICAgKSB7XG4gICAgICByZXR1cm4gY29sdW1uQmxvY2tFbmQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBibG9ja1N0YXJ0TGltaXQ7XG4gICAgfVxuICB9XG5cbiAgZ2V0UGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uKFxuICAgIGZsb2F0OiBQYWdlRmxvYXQsXG4gICAgZmxvYXRTaWRlOiBzdHJpbmcsXG4gICAgY2xlYXJTaWRlOiBzdHJpbmcgfCBudWxsLFxuICApOiBQYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24ge1xuICAgIGlmIChmbG9hdC5mbG9hdFJlZmVyZW5jZSAhPT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoZmxvYXQuZmxvYXRSZWZlcmVuY2UpO1xuICAgICAgcmV0dXJuIHBhcmVudC5nZXRQYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24oZmxvYXQsIGZsb2F0U2lkZSwgY2xlYXJTaWRlKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0OiBQYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24gPSB7XG4gICAgICBcImJsb2NrLXN0YXJ0XCI6IHRydWUsXG4gICAgICBcImJsb2NrLWVuZFwiOiB0cnVlLFxuICAgICAgXCJpbmxpbmUtc3RhcnRcIjogdHJ1ZSxcbiAgICAgIFwiaW5saW5lLWVuZFwiOiB0cnVlLFxuICAgIH07XG4gICAgaWYgKCFjbGVhclNpZGUpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGNvbnN0IGxvZ2ljYWxGbG9hdFNpZGUgPSB0aGlzLnRvTG9naWNhbChmbG9hdFNpZGUpO1xuICAgIGNvbnN0IGxvZ2ljYWxDbGVhclNpZGUgPSB0aGlzLnRvTG9naWNhbChjbGVhclNpZGUpO1xuICAgIGxldCBsb2dpY2FsU2lkZXM6IHN0cmluZ1tdO1xuICAgIGlmIChsb2dpY2FsQ2xlYXJTaWRlID09PSBcImFsbFwiKSB7XG4gICAgICBsb2dpY2FsU2lkZXMgPSBbXCJibG9jay1zdGFydFwiLCBcImJsb2NrLWVuZFwiLCBcImlubGluZS1zdGFydFwiLCBcImlubGluZS1lbmRcIl07XG4gICAgfSBlbHNlIGlmIChsb2dpY2FsQ2xlYXJTaWRlID09PSBcImJvdGhcIikge1xuICAgICAgbG9naWNhbFNpZGVzID0gW1wiaW5saW5lLXN0YXJ0XCIsIFwiaW5saW5lLWVuZFwiXTtcbiAgICB9IGVsc2UgaWYgKGxvZ2ljYWxDbGVhclNpZGUgPT09IFwic2FtZVwiKSB7XG4gICAgICBpZiAobG9naWNhbEZsb2F0U2lkZSA9PT0gXCJzbmFwLWJsb2NrXCIpIHtcbiAgICAgICAgbG9naWNhbFNpZGVzID0gW1wiYmxvY2stc3RhcnRcIiwgXCJibG9jay1lbmRcIl07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dpY2FsU2lkZXMgPSBbbG9naWNhbEZsb2F0U2lkZV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ2ljYWxTaWRlcyA9IFtsb2dpY2FsQ2xlYXJTaWRlXTtcbiAgICB9XG4gICAgY29uc3QgZmxvYXRPcmRlciA9IGZsb2F0LmdldE9yZGVyKCk7XG5cbiAgICBmdW5jdGlvbiBpc1ByZWNlZGluZ0ZyYWdtZW50KFxuICAgICAgc2lkZTogc3RyaW5nLFxuICAgICk6IChwMTogUGFnZUZsb2F0RnJhZ21lbnQpID0+IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIChmcmFnbWVudCkgPT5cbiAgICAgICAgZnJhZ21lbnQuZmxvYXRTaWRlID09PSBzaWRlICYmIGZyYWdtZW50LmdldE9yZGVyKCkgPCBmbG9hdE9yZGVyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhc1ByZWNlZGluZ0ZyYWdtZW50SW5DaGlsZHJlbihcbiAgICAgIGNvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICBzaWRlOiBzdHJpbmcsXG4gICAgKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gY29udGV4dC5jaGlsZHJlbi5zb21lKFxuICAgICAgICAoY2hpbGQpID0+XG4gICAgICAgICAgY2hpbGQuZmxvYXRGcmFnbWVudHMuc29tZShpc1ByZWNlZGluZ0ZyYWdtZW50KHNpZGUpKSB8fFxuICAgICAgICAgIGhhc1ByZWNlZGluZ0ZyYWdtZW50SW5DaGlsZHJlbihjaGlsZCwgc2lkZSksXG4gICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhc1ByZWNlZGluZ0ZyYWdtZW50SW5QYXJlbnRzKFxuICAgICAgY29udGV4dDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgIHNpZGU6IHN0cmluZyxcbiAgICApOiBib29sZWFuIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IGNvbnRleHQucGFyZW50O1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgISFwYXJlbnQgJiZcbiAgICAgICAgKHBhcmVudC5mbG9hdEZyYWdtZW50cy5zb21lKGlzUHJlY2VkaW5nRnJhZ21lbnQoc2lkZSkpIHx8XG4gICAgICAgICAgaGFzUHJlY2VkaW5nRnJhZ21lbnRJblBhcmVudHMocGFyZW50LCBzaWRlKSlcbiAgICAgICk7XG4gICAgfVxuICAgIGxvZ2ljYWxTaWRlcy5mb3JFYWNoKChzaWRlKSA9PiB7XG4gICAgICBzd2l0Y2ggKHNpZGUpIHtcbiAgICAgICAgY2FzZSBcImJsb2NrLXN0YXJ0XCI6XG4gICAgICAgIGNhc2UgXCJpbmxpbmUtc3RhcnRcIjpcbiAgICAgICAgICByZXN1bHRbc2lkZV0gPSAhaGFzUHJlY2VkaW5nRnJhZ21lbnRJbkNoaWxkcmVuKHRoaXMsIHNpZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYmxvY2stZW5kXCI6XG4gICAgICAgIGNhc2UgXCJpbmxpbmUtZW5kXCI6XG4gICAgICAgICAgcmVzdWx0W3NpZGVdID0gIWhhc1ByZWNlZGluZ0ZyYWdtZW50SW5QYXJlbnRzKHRoaXMsIHNpZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBzaWRlOiAke3NpZGV9YCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGdldExheW91dENvbnN0cmFpbnRzKCk6IExheW91dFR5cGUuTGF5b3V0Q29uc3RyYWludFtdIHtcbiAgICBjb25zdCBjb25zdHJhaW50cyA9IHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQuZ2V0TGF5b3V0Q29uc3RyYWludHMoKSA6IFtdO1xuICAgIHJldHVybiBjb25zdHJhaW50cy5jb25jYXQodGhpcy5sYXlvdXRDb25zdHJhaW50cyk7XG4gIH1cblxuICBhZGRMYXlvdXRDb25zdHJhaW50KFxuICAgIGxheW91dENvbnN0cmFpbnQ6IExheW91dFR5cGUuTGF5b3V0Q29uc3RyYWludCxcbiAgICBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UsXG4gICkge1xuICAgIGlmIChmbG9hdFJlZmVyZW5jZSA9PT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgdGhpcy5sYXlvdXRDb25zdHJhaW50cy5wdXNoKGxheW91dENvbnN0cmFpbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmdldFBhcmVudChmbG9hdFJlZmVyZW5jZSkuYWRkTGF5b3V0Q29uc3RyYWludChcbiAgICAgICAgbGF5b3V0Q29uc3RyYWludCxcbiAgICAgICAgZmxvYXRSZWZlcmVuY2UsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGlzQ29sdW1uRnVsbFdpdGhQYWdlRmxvYXRzKGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4pOiBib29sZWFuIHtcbiAgICBjb25zdCBsYXlvdXRDb250ZXh0ID0gY29sdW1uLmxheW91dENvbnRleHQ7XG4gICAgY29uc3QgY2xpZW50TGF5b3V0ID0gY29sdW1uLmNsaWVudExheW91dDtcbiAgICBBc3NlcnRzLmFzc2VydChjbGllbnRMYXlvdXQpO1xuICAgIGxldCBjb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0ID0gdGhpcztcbiAgICBsZXQgbGltaXRzOiB7XG4gICAgICB0b3A6IG51bWJlcjtcbiAgICAgIGxlZnQ6IG51bWJlcjtcbiAgICAgIGJvdHRvbTogbnVtYmVyO1xuICAgICAgcmlnaHQ6IG51bWJlcjtcbiAgICAgIGZsb2F0TWluV3JhcEJsb2NrU3RhcnQ6IG51bWJlcjtcbiAgICAgIGZsb2F0TWluV3JhcEJsb2NrRW5kOiBudW1iZXI7XG4gICAgfSA9IG51bGw7XG4gICAgd2hpbGUgKGNvbnRleHQgJiYgY29udGV4dC5jb250YWluZXIpIHtcbiAgICAgIGNvbnN0IGwgPSBjb250ZXh0LmdldExpbWl0VmFsdWVzSW5uZXIobGF5b3V0Q29udGV4dCwgY2xpZW50TGF5b3V0KTtcbiAgICAgIGlmIChsaW1pdHMpIHtcbiAgICAgICAgaWYgKGNvbHVtbi52ZXJ0aWNhbCkge1xuICAgICAgICAgIGlmIChsLnJpZ2h0IDwgbGltaXRzLnJpZ2h0KSB7XG4gICAgICAgICAgICBsaW1pdHMucmlnaHQgPSBsLnJpZ2h0O1xuICAgICAgICAgICAgbGltaXRzLmZsb2F0TWluV3JhcEJsb2NrU3RhcnQgPSBsLmZsb2F0TWluV3JhcEJsb2NrU3RhcnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChsLmxlZnQgPiBsaW1pdHMubGVmdCkge1xuICAgICAgICAgICAgbGltaXRzLmxlZnQgPSBsLmxlZnQ7XG4gICAgICAgICAgICBsaW1pdHMuZmxvYXRNaW5XcmFwQmxvY2tFbmQgPSBsLmZsb2F0TWluV3JhcEJsb2NrRW5kO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobC50b3AgPiBsaW1pdHMudG9wKSB7XG4gICAgICAgICAgICBsaW1pdHMudG9wID0gbC50b3A7XG4gICAgICAgICAgICBsaW1pdHMuZmxvYXRNaW5XcmFwQmxvY2tTdGFydCA9IGwuZmxvYXRNaW5XcmFwQmxvY2tTdGFydDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGwuYm90dG9tIDwgbGltaXRzLmJvdHRvbSkge1xuICAgICAgICAgICAgbGltaXRzLmJvdHRvbSA9IGwuYm90dG9tO1xuICAgICAgICAgICAgbGltaXRzLmZsb2F0TWluV3JhcEJsb2NrRW5kID0gbC5mbG9hdE1pbldyYXBCbG9ja0VuZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpbWl0cyA9IGw7XG4gICAgICB9XG4gICAgICBjb250ZXh0ID0gY29udGV4dC5wYXJlbnQ7XG4gICAgfVxuICAgIGNvbnN0IGZsb2F0TWluV3JhcEJsb2NrID0gTWF0aC5tYXgoXG4gICAgICBsaW1pdHMuZmxvYXRNaW5XcmFwQmxvY2tTdGFydCxcbiAgICAgIGxpbWl0cy5mbG9hdE1pbldyYXBCbG9ja0VuZCxcbiAgICApO1xuICAgIGNvbnN0IGJsb2NrU3BhY2UgPSBjb2x1bW4udmVydGljYWxcbiAgICAgID8gbGltaXRzLnJpZ2h0IC0gbGltaXRzLmxlZnRcbiAgICAgIDogbGltaXRzLmJvdHRvbSAtIGxpbWl0cy50b3A7XG4gICAgcmV0dXJuIGJsb2NrU3BhY2UgPD0gZmxvYXRNaW5XcmFwQmxvY2s7XG4gIH1cblxuICBnZXRNYXhCbG9ja1NpemVPZlBhZ2VGbG9hdHMoKTogbnVtYmVyIHtcbiAgICBjb25zdCBpc1ZlcnRpY2FsID0gdGhpcy5nZXRDb250YWluZXIoKS52ZXJ0aWNhbDtcbiAgICBpZiAoIXRoaXMuZmxvYXRGcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KFxuICAgICAgbnVsbCxcbiAgICAgIHRoaXMuZmxvYXRGcmFnbWVudHMubWFwKChmcmFnbWVudCkgPT4ge1xuICAgICAgICBjb25zdCBhcmVhID0gZnJhZ21lbnQuYXJlYTtcbiAgICAgICAgaWYgKGlzVmVydGljYWwpIHtcbiAgICAgICAgICByZXR1cm4gYXJlYS53aWR0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gYXJlYS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICBsb2NrKCkge1xuICAgIHRoaXMubG9ja2VkID0gdHJ1ZTtcbiAgfVxuXG4gIHVubG9jaygpIHtcbiAgICB0aGlzLmxvY2tlZCA9IGZhbHNlO1xuICB9XG5cbiAgaXNMb2NrZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubG9ja2VkO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3lcbiAgZXh0ZW5kcyBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5IHt9XG5cbmNvbnN0IHBhZ2VGbG9hdExheW91dFN0cmF0ZWdpZXM6IFBhZ2VGbG9hdExheW91dFN0cmF0ZWd5W10gPSBbXTtcblxuZXhwb3J0IGNsYXNzIFBhZ2VGbG9hdExheW91dFN0cmF0ZWd5UmVzb2x2ZXIge1xuICBzdGF0aWMgcmVnaXN0ZXIoc3RyYXRlZ3k6IFBhZ2VGbG9hdExheW91dFN0cmF0ZWd5KSB7XG4gICAgcGFnZUZsb2F0TGF5b3V0U3RyYXRlZ2llcy5wdXNoKHN0cmF0ZWd5KTtcbiAgfVxuXG4gIGZpbmRCeU5vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IFBhZ2VGbG9hdExheW91dFN0cmF0ZWd5IHtcbiAgICBmb3IgKGxldCBpID0gcGFnZUZsb2F0TGF5b3V0U3RyYXRlZ2llcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3Qgc3RyYXRlZ3kgPSBwYWdlRmxvYXRMYXlvdXRTdHJhdGVnaWVzW2ldO1xuICAgICAgaWYgKHN0cmF0ZWd5LmFwcGxpZXNUb05vZGVDb250ZXh0KG5vZGVDb250ZXh0KSkge1xuICAgICAgICByZXR1cm4gc3RyYXRlZ3k7XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgTm8gUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3kgZm91bmQgZm9yICR7bm9kZUNvbnRleHR9YCk7XG4gIH1cblxuICBmaW5kQnlGbG9hdChmbG9hdDogUGFnZUZsb2F0KTogUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3kge1xuICAgIGZvciAobGV0IGkgPSBwYWdlRmxvYXRMYXlvdXRTdHJhdGVnaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBzdHJhdGVneSA9IHBhZ2VGbG9hdExheW91dFN0cmF0ZWdpZXNbaV07XG4gICAgICBpZiAoc3RyYXRlZ3kuYXBwbGllc1RvRmxvYXQoZmxvYXQpKSB7XG4gICAgICAgIHJldHVybiBzdHJhdGVneTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBObyBQYWdlRmxvYXRMYXlvdXRTdHJhdGVneSBmb3VuZCBmb3IgJHtmbG9hdH1gKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTm9ybWFsUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3kgaW1wbGVtZW50cyBQYWdlRmxvYXRMYXlvdXRTdHJhdGVneSB7XG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGxpZXNUb05vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBpc1BhZ2VGbG9hdChub2RlQ29udGV4dC5mbG9hdFJlZmVyZW5jZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBsaWVzVG9GbG9hdChmbG9hdDogUGFnZUZsb2F0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjcmVhdGVQYWdlRmxvYXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8UGFnZUZsb2F0PiB7XG4gICAgbGV0IGZsb2F0UmVmZXJlbmNlID0gbm9kZUNvbnRleHQuZmxvYXRSZWZlcmVuY2U7XG4gICAgQXNzZXJ0cy5hc3NlcnQobm9kZUNvbnRleHQuZmxvYXRTaWRlKTtcbiAgICBjb25zdCBmbG9hdFNpZGU6IHN0cmluZyA9IG5vZGVDb250ZXh0LmZsb2F0U2lkZTtcbiAgICBjb25zdCBub2RlUG9zaXRpb24gPSBub2RlQ29udGV4dC50b05vZGVQb3NpdGlvbigpO1xuICAgIHJldHVybiBjb2x1bW5cbiAgICAgIC5yZXNvbHZlRmxvYXRSZWZlcmVuY2VGcm9tQ29sdW1uU3BhbihcbiAgICAgICAgZmxvYXRSZWZlcmVuY2UsXG4gICAgICAgIG5vZGVDb250ZXh0LmNvbHVtblNwYW4sXG4gICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgKVxuICAgICAgLnRoZW5Bc3luYygocmVmKSA9PiB7XG4gICAgICAgIGZsb2F0UmVmZXJlbmNlID0gcmVmO1xuICAgICAgICBBc3NlcnRzLmFzc2VydChwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmZsb3dOYW1lKTtcbiAgICAgICAgY29uc3QgZmxvYXQgPSBuZXcgUGFnZUZsb2F0KFxuICAgICAgICAgIG5vZGVQb3NpdGlvbixcbiAgICAgICAgICBmbG9hdFJlZmVyZW5jZSxcbiAgICAgICAgICBmbG9hdFNpZGUsXG4gICAgICAgICAgbm9kZUNvbnRleHQuY2xlYXJTaWRlLFxuICAgICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuZmxvd05hbWUsXG4gICAgICAgICAgbm9kZUNvbnRleHQuZmxvYXRNaW5XcmFwQmxvY2ssXG4gICAgICAgICk7XG4gICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuYWRkUGFnZUZsb2F0KGZsb2F0KTtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGZsb2F0KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY3JlYXRlUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgY29udGludWF0aW9uczogUGFnZUZsb2F0Q29udGludWF0aW9uW10sXG4gICAgZmxvYXRTaWRlOiBzdHJpbmcsXG4gICAgZmxvYXRBcmVhOiBMYXlvdXRUeXBlLlBhZ2VGbG9hdEFyZWEsXG4gICAgY29udGludWVzOiBib29sZWFuLFxuICApOiBQYWdlRmxvYXRGcmFnbWVudCB7XG4gICAgY29uc3QgZiA9IGNvbnRpbnVhdGlvbnNbMF0uZmxvYXQ7XG4gICAgcmV0dXJuIG5ldyBQYWdlRmxvYXRGcmFnbWVudChcbiAgICAgIGYuZmxvYXRSZWZlcmVuY2UsXG4gICAgICBmbG9hdFNpZGUsXG4gICAgICBjb250aW51YXRpb25zLFxuICAgICAgZmxvYXRBcmVhLFxuICAgICAgY29udGludWVzLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmaW5kUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgZmxvYXQ6IFBhZ2VGbG9hdCxcbiAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICApOiBQYWdlRmxvYXRGcmFnbWVudCB8IG51bGwge1xuICAgIHJldHVybiBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmZpbmRQYWdlRmxvYXRGcmFnbWVudChmbG9hdCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhZGp1c3RQYWdlRmxvYXRBcmVhKFxuICAgIGZsb2F0QXJlYTogTGF5b3V0VHlwZS5QYWdlRmxvYXRBcmVhLFxuICAgIGZsb2F0Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZvcmJpZChmbG9hdDogUGFnZUZsb2F0LCBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0KSB7fVxufVxuXG5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneVJlc29sdmVyLnJlZ2lzdGVyKG5ldyBOb3JtYWxQYWdlRmxvYXRMYXlvdXRTdHJhdGVneSgpKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IEZvb3Rub3Rlc1xuICovXG5pbXBvcnQgKiBhcyBBc3NlcnRzIGZyb20gXCIuL2Fzc2VydHNcIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIFBhZ2VGbG9hdHMgZnJvbSBcIi4vcGFnZS1mbG9hdHNcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7IExheW91dCB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmNvbnN0IFBhZ2VGbG9hdEZyYWdtZW50ID0gUGFnZUZsb2F0cy5QYWdlRmxvYXRGcmFnbWVudDtcblxuZXhwb3J0IGNsYXNzIEZvb3Rub3RlIGV4dGVuZHMgUGFnZUZsb2F0cy5QYWdlRmxvYXQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBub2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbixcbiAgICBmbG9hdFJlZmVyZW5jZTogUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZSxcbiAgICBmbG93TmFtZTogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSBmb290bm90ZVBvbGljeTogQ3NzLklkZW50IHwgbnVsbCxcbiAgICBmbG9hdE1pbldyYXBCbG9jazogQ3NzLk51bWVyaWMgfCBudWxsLFxuICApIHtcbiAgICBzdXBlcihcbiAgICAgIG5vZGVQb3NpdGlvbixcbiAgICAgIGZsb2F0UmVmZXJlbmNlLFxuICAgICAgXCJibG9jay1lbmRcIixcbiAgICAgIG51bGwsXG4gICAgICBmbG93TmFtZSxcbiAgICAgIGZsb2F0TWluV3JhcEJsb2NrLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpc0FsbG93ZWRUb1ByZWNlZGUob3RoZXI6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEob3RoZXIgaW5zdGFuY2VvZiBGb290bm90ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAZXh0ZW5kcyBQYWdlRmxvYXRGcmFnbWVudFxuICovXG5leHBvcnQgY2xhc3MgRm9vdG5vdGVGcmFnbWVudCBleHRlbmRzIFBhZ2VGbG9hdEZyYWdtZW50IHtcbiAgY29uc3RydWN0b3IoXG4gICAgZmxvYXRSZWZlcmVuY2U6IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UsXG4gICAgY29udGludWF0aW9uczogUGFnZUZsb2F0cy5QYWdlRmxvYXRDb250aW51YXRpb25bXSxcbiAgICBhcmVhOiBWdHJlZS5Db250YWluZXIsXG4gICAgY29udGludWVzOiBib29sZWFuLFxuICApIHtcbiAgICBzdXBlcihmbG9hdFJlZmVyZW5jZSwgXCJibG9jay1lbmRcIiwgY29udGludWF0aW9ucywgYXJlYSwgY29udGludWVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9yZGVyKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIEluZmluaXR5O1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2hvdWxkQmVTdGFzaGVkQmVmb3JlKGZsb2F0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdCk6IGJvb2xlYW4ge1xuICAgIGlmIChmbG9hdCBpbnN0YW5jZW9mIEZvb3Rub3RlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0T3JkZXIoKSA8IGZsb2F0LmdldE9yZGVyKCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaW5lRm9vdG5vdGVQb2xpY3lMYXlvdXRDb25zdHJhaW50XG4gIGltcGxlbWVudHMgTGF5b3V0LkxheW91dENvbnN0cmFpbnQge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgZm9vdG5vdGU6IEZvb3Rub3RlKSB7fVxuXG4gIGFsbG93TGF5b3V0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG5vZGVQb3NpdGlvbiA9IG5vZGVDb250ZXh0LnRvTm9kZVBvc2l0aW9uKCk7XG4gICAgcmV0dXJuICFWdHJlZS5pc1NhbWVOb2RlUG9zaXRpb24obm9kZVBvc2l0aW9uLCB0aGlzLmZvb3Rub3RlLm5vZGVQb3NpdGlvbik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZvb3Rub3RlTGF5b3V0U3RyYXRlZ3lcbiAgaW1wbGVtZW50cyBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5IHtcbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbGllc1RvTm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIG5vZGVDb250ZXh0LmZsb2F0U2lkZSA9PT0gXCJmb290bm90ZVwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbGllc1RvRmxvYXQoZmxvYXQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZsb2F0IGluc3RhbmNlb2YgRm9vdG5vdGU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjcmVhdGVQYWdlRmxvYXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VGbG9hdHMuUGFnZUZsb2F0PiB7XG4gICAgbGV0IGZsb2F0UmVmZXJlbmNlID0gUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5SRUdJT047XG5cbiAgICAvLyBJZiB0aGUgcmVnaW9uIGNvbnRleHQgaGFzIHRoZSBzYW1lIGNvbnRhaW5lciBhcyB0aGUgcGFnZSBjb250ZXh0LFxuICAgIC8vIHVzZSB0aGUgcGFnZSBjb250ZXh0IGFzIHRoZSBjb250ZXh0IGZvciB0aGUgZm9vdG5vdGUuXG4gICAgY29uc3QgcmVnaW9uQ29udGV4dCA9IHBhZ2VGbG9hdExheW91dENvbnRleHQuZ2V0UGFnZUZsb2F0TGF5b3V0Q29udGV4dChcbiAgICAgIGZsb2F0UmVmZXJlbmNlLFxuICAgICk7XG4gICAgY29uc3QgcGFnZUNvbnRleHQgPSBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmdldFBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLlBBR0UsXG4gICAgKTtcbiAgICBpZiAocGFnZUNvbnRleHQuaGFzU2FtZUNvbnRhaW5lckFzKHJlZ2lvbkNvbnRleHQpKSB7XG4gICAgICBmbG9hdFJlZmVyZW5jZSA9IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuUEFHRTtcbiAgICB9XG4gICAgY29uc3Qgbm9kZVBvc2l0aW9uID0gbm9kZUNvbnRleHQudG9Ob2RlUG9zaXRpb24oKTtcbiAgICBBc3NlcnRzLmFzc2VydChwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmZsb3dOYW1lKTtcbiAgICBjb25zdCBmbG9hdDogUGFnZUZsb2F0cy5QYWdlRmxvYXQgPSBuZXcgRm9vdG5vdGUoXG4gICAgICBub2RlUG9zaXRpb24sXG4gICAgICBmbG9hdFJlZmVyZW5jZSxcbiAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuZmxvd05hbWUsXG4gICAgICBub2RlQ29udGV4dC5mb290bm90ZVBvbGljeSxcbiAgICAgIG5vZGVDb250ZXh0LmZsb2F0TWluV3JhcEJsb2NrLFxuICAgICk7XG4gICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5hZGRQYWdlRmxvYXQoZmxvYXQpO1xuICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChmbG9hdCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjcmVhdGVQYWdlRmxvYXRGcmFnbWVudChcbiAgICBjb250aW51YXRpb25zOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdENvbnRpbnVhdGlvbltdLFxuICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgIGZsb2F0QXJlYTogTGF5b3V0LlBhZ2VGbG9hdEFyZWEsXG4gICAgY29udGludWVzOiBib29sZWFuLFxuICApOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdEZyYWdtZW50IHtcbiAgICBjb25zdCBmID0gY29udGludWF0aW9uc1swXS5mbG9hdDtcbiAgICByZXR1cm4gbmV3IEZvb3Rub3RlRnJhZ21lbnQoXG4gICAgICBmLmZsb2F0UmVmZXJlbmNlLFxuICAgICAgY29udGludWF0aW9ucyxcbiAgICAgIGZsb2F0QXJlYSxcbiAgICAgIGNvbnRpbnVlcyxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZmluZFBhZ2VGbG9hdEZyYWdtZW50KFxuICAgIGZsb2F0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdCxcbiAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICk6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0RnJhZ21lbnQgfCBudWxsIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5nZXRQYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgICAgZmxvYXQuZmxvYXRSZWZlcmVuY2UsXG4gICAgKTtcbiAgICBjb25zdCBmcmFnbWVudHMgPSBjb250ZXh0LmZsb2F0RnJhZ21lbnRzLmZpbHRlcihcbiAgICAgIChmcikgPT4gZnIgaW5zdGFuY2VvZiBGb290bm90ZUZyYWdtZW50LFxuICAgICk7XG4gICAgQXNzZXJ0cy5hc3NlcnQoZnJhZ21lbnRzLmxlbmd0aCA8PSAxKTtcbiAgICByZXR1cm4gZnJhZ21lbnRzWzBdIHx8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhZGp1c3RQYWdlRmxvYXRBcmVhKFxuICAgIGZsb2F0QXJlYTogTGF5b3V0LlBhZ2VGbG9hdEFyZWEsXG4gICAgZmxvYXRDb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICkge1xuICAgIGZsb2F0QXJlYS5pc0Zvb3Rub3RlID0gdHJ1ZTtcbiAgICBmbG9hdEFyZWEuYWRqdXN0Q29udGVudFJlbGF0aXZlU2l6ZSA9IGZhbHNlO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBmbG9hdEFyZWEuZWxlbWVudDtcbiAgICBBc3NlcnRzLmFzc2VydChlbGVtZW50KTtcbiAgICBmbG9hdEFyZWEudmVydGljYWwgPSBjb2x1bW4ubGF5b3V0Q29udGV4dC5hcHBseUZvb3Rub3RlU3R5bGUoXG4gICAgICBmbG9hdENvbnRhaW5lci52ZXJ0aWNhbCxcbiAgICAgIChjb2x1bW4ubGF5b3V0Q29udGV4dCBhcyBhbnkpLm5vZGVDb250ZXh0ICYmXG4gICAgICAgIChjb2x1bW4ubGF5b3V0Q29udGV4dCBhcyBhbnkpLm5vZGVDb250ZXh0LmRpcmVjdGlvbiA9PT0gXCJydGxcIixcbiAgICAgIGVsZW1lbnQsXG4gICAgKTtcbiAgICBmbG9hdEFyZWEuY29udmVydFBlcmNlbnRhZ2VTaXplc1RvUHgoZWxlbWVudCk7XG4gICAgY29sdW1uLnNldENvbXB1dGVkSW5zZXRzKGVsZW1lbnQsIGZsb2F0QXJlYSk7XG4gICAgY29sdW1uLnNldENvbXB1dGVkV2lkdGhBbmRIZWlnaHQoZWxlbWVudCwgZmxvYXRBcmVhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZvcmJpZChcbiAgICBmbG9hdDogUGFnZUZsb2F0cy5QYWdlRmxvYXQsXG4gICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICApIHtcbiAgICBjb25zdCBmb290bm90ZSA9IGZsb2F0IGFzIEZvb3Rub3RlO1xuICAgIHN3aXRjaCAoZm9vdG5vdGUuZm9vdG5vdGVQb2xpY3kpIHtcbiAgICAgIGNhc2UgQ3NzLmlkZW50LmxpbmU6IHtcbiAgICAgICAgY29uc3QgY29uc3RyYWludCA9IG5ldyBMaW5lRm9vdG5vdGVQb2xpY3lMYXlvdXRDb25zdHJhaW50KGZvb3Rub3RlKTtcbiAgICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5hZGRMYXlvdXRDb25zdHJhaW50KFxuICAgICAgICAgIGNvbnN0cmFpbnQsXG4gICAgICAgICAgZm9vdG5vdGUuZmxvYXRSZWZlcmVuY2UsXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5QYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5UmVzb2x2ZXIucmVnaXN0ZXIoXG4gIG5ldyBGb290bm90ZUxheW91dFN0cmF0ZWd5KCksXG4pO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgQnJlYWsgLSBDb250cm9sIGZyYWdtZW50YXRpb24uXG4gKi9cbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIFBsdWdpbiBmcm9tIFwiLi9wbHVnaW5cIjtcblxuLyoqXG4gKiBDb252ZXJ0IG9sZCBwYWdlLWJyZWFrLSogcHJvcGVydGllcyB0byBicmVhay0qIHByb3BlcnRpZXMgd2l0aCBhcHByb3ByaWF0ZVxuICogdmFsdWVzIGFzIHNwZWNpZmllZCBieSBDU1MgRnJhZ21lbnRhdGlvbiBtb2R1bGU6XG4gKiBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLWJyZWFrLyNwYWdlLWJyZWFrLXByb3BlcnRpZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRQYWdlQnJlYWtBbGlhc2VzKG9yaWdpbmFsOiB7XG4gIG5hbWU6IHN0cmluZztcbiAgdmFsdWU6IENzcy5WYWw7XG4gIGltcG9ydGFudDogYm9vbGVhbjtcbn0pOiB7IG5hbWU6IHN0cmluZzsgdmFsdWU6IENzcy5WYWw7IGltcG9ydGFudDogYm9vbGVhbiB9IHtcbiAgY29uc3QgbmFtZSA9IG9yaWdpbmFsW1wibmFtZVwiXTtcbiAgY29uc3QgdmFsdWUgPSBvcmlnaW5hbFtcInZhbHVlXCJdO1xuICBzd2l0Y2ggKG5hbWUpIHtcbiAgICBjYXNlIFwicGFnZS1icmVhay1iZWZvcmVcIjpcbiAgICBjYXNlIFwicGFnZS1icmVhay1hZnRlclwiOlxuICAgIGNhc2UgXCJwYWdlLWJyZWFrLWluc2lkZVwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogbmFtZS5yZXBsYWNlKC9ecGFnZS0vLCBcIlwiKSxcbiAgICAgICAgdmFsdWU6IHZhbHVlID09PSBDc3MuaWRlbnQuYWx3YXlzID8gQ3NzLmlkZW50LnBhZ2UgOiB2YWx1ZSxcbiAgICAgICAgaW1wb3J0YW50OiBvcmlnaW5hbFtcImltcG9ydGFudFwiXSxcbiAgICAgIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBvcmlnaW5hbDtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZm9yY2VkQnJlYWtWYWx1ZXM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB8IG51bGwgfSA9IHtcbiAgcGFnZTogdHJ1ZSxcbiAgbGVmdDogdHJ1ZSxcbiAgcmlnaHQ6IHRydWUsXG4gIHJlY3RvOiB0cnVlLFxuICB2ZXJzbzogdHJ1ZSxcbiAgY29sdW1uOiB0cnVlLFxuICByZWdpb246IHRydWUsXG59O1xuXG4vKipcbiAqIFJldHVybnMgaWYgdGhlIHZhbHVlIGlzIG9uZSBvZiB0aGUgZm9yY2VkIGJyZWFrIHZhbHVlcy5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgYnJlYWsgdmFsdWUgdG8gYmUganVkZ2VkLiBUcmVhdHMgbnVsbCBhcyAnYXV0bycuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ZvcmNlZEJyZWFrVmFsdWUodmFsdWU6IHN0cmluZyB8IG51bGwpOiBib29sZWFuIHtcbiAgcmV0dXJuICEhZm9yY2VkQnJlYWtWYWx1ZXNbdmFsdWVdO1xufVxuXG5leHBvcnQgY29uc3QgYXZvaWRCcmVha1ZhbHVlczogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIHwgbnVsbCB9ID0ge1xuICBhdm9pZDogdHJ1ZSxcbiAgXCJhdm9pZC1wYWdlXCI6IHRydWUsXG4gIFwiYXZvaWQtY29sdW1uXCI6IHRydWUsXG4gIFwiYXZvaWQtcmVnaW9uXCI6IHRydWUsXG59O1xuXG4vKipcbiAqIFJldHVybnMgaWYgdGhlIHZhbHVlIGlzIG9uZSBvZiB0aGUgYXZvaWQgYnJlYWsgdmFsdWVzLlxuICogQHBhcmFtIHZhbHVlIFRoZSBicmVhayB2YWx1ZSB0byBiZSBqdWRnZWQuIFRyZWF0cyBudWxsIGFzICdhdXRvJy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXZvaWRCcmVha1ZhbHVlKHZhbHVlOiBzdHJpbmcgfCBudWxsKTogYm9vbGVhbiB7XG4gIHJldHVybiAhIWF2b2lkQnJlYWtWYWx1ZXNbdmFsdWVdO1xufVxuXG4vKipcbiAqIFJlc29sdmVzIHRoZSBlZmZlY3RpdmUgYnJlYWsgdmFsdWUgZ2l2ZW4gdHdvIGJyZWFrIHZhbHVlcyBhdCBhIHNpbmdsZSBicmVha1xuICogcG9pbnQuIFRoZSBvcmRlciBvZiB0aGUgYXJndW1lbnRzIGFyZSByZWxldmFudCwgc2luY2UgYSB2YWx1ZSBzcGVjaWZpZWQgb25cbiAqIHRoZSBsYXR0ZXIgZWxlbWVudCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgb25lIG9uIHRoZSBmb3JtZXIuIEEgZm9yY2VkIGJyZWFrXG4gKiB2YWx1ZSBpcyBjaG9zZW4gaWYgcHJlc2VudC4gT3RoZXJ3aXNlLCBhbiBhdm9pZCBicmVhayB2YWx1ZSBpcyBjaG9zZW4gaWZcbiAqIHByZXNlbnQuIFNlZSBDU1MgRnJhZ21lbnRhdGlvbiBNb2R1bGUgZm9yIHRoZSBydWxlOlxuICogIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtYnJlYWsvI2ZvcmNlZC1icmVha3NcbiAqICBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLWJyZWFrLyN1bmZvcmNlZC1icmVha3NcbiAqIE5vdGUgdGhhdCB0aG91Z2ggdGhlIHNwZWMgcmVxdWlyZXMgdG8gaG9ub3IgbXVsdGlwbGUgYnJlYWsgdmFsdWVzIGF0IGEgc2luZ2xlXG4gKiBicmVhayBwb2ludCwgdGhlIGN1cnJlbnQgaW1wbGVtZW50YXRpb24gY2hvb3NlIG9uZSBvZiB0aGVtIGFuZCBkaXNjYXJkIHRoZVxuICogb3RoZXJzLlxuICogQHBhcmFtIGZpcnN0IFRoZSBicmVhayB2YWx1ZSBzcGVjaWZpZWQgb24gdGhlIGZvcm1lciBlbGVtZW50LiBudWxsIG1lYW5zXG4gKiAgICAgJ2F1dG8nIChub3Qgc3BlY2lmaWVkKVxuICogQHBhcmFtIHNlY29uZCBUaGUgYnJlYWsgdmFsdWUgc3BlY2lmaWVkIG9uIHRoZSBsYXR0ZXIgZWxlbWVudC4gbnVsbCBtZWFuc1xuICogICAgICdhdXRvJyAobm90IHNwZWNpZmllZClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICBmaXJzdDogc3RyaW5nIHwgbnVsbCxcbiAgc2Vjb25kOiBzdHJpbmcgfCBudWxsLFxuKTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmICghZmlyc3QpIHtcbiAgICByZXR1cm4gc2Vjb25kO1xuICB9IGVsc2UgaWYgKCFzZWNvbmQpIHtcbiAgICByZXR1cm4gZmlyc3Q7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgZmlyc3RJc0ZvcmNlZEJyZWFrVmFsdWUgPSBpc0ZvcmNlZEJyZWFrVmFsdWUoZmlyc3QpO1xuICAgIGNvbnN0IHNlY29uZElzRm9yY2VkQnJlYWtWYWx1ZSA9IGlzRm9yY2VkQnJlYWtWYWx1ZShzZWNvbmQpO1xuICAgIGlmIChmaXJzdElzRm9yY2VkQnJlYWtWYWx1ZSAmJiBzZWNvbmRJc0ZvcmNlZEJyZWFrVmFsdWUpIHtcbiAgICAgIHN3aXRjaCAoc2Vjb25kKSB7XG4gICAgICAgIGNhc2UgXCJjb2x1bW5cIjpcbiAgICAgICAgICAvLyBcImNvbHVtblwiIGlzIHRoZSB3ZWFrZXN0IHZhbHVlXG4gICAgICAgICAgcmV0dXJuIGZpcnN0O1xuICAgICAgICBjYXNlIFwicmVnaW9uXCI6XG4gICAgICAgICAgLy8gXCJyZWdpb25cIiBpcyBzdHJvbmdlciB0aGFuIFwiY29sdW1uXCIgYnV0IHdlYWtlciB0aGFuIHBhZ2VcbiAgICAgICAgICAvLyB2YWx1ZXNcbiAgICAgICAgICByZXR1cm4gZmlyc3QgPT09IFwiY29sdW1uXCIgPyBzZWNvbmQgOiBmaXJzdDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBwYWdlIHZhbHVlcyBhcmUgc3Ryb25nZXN0XG4gICAgICAgICAgcmV0dXJuIHNlY29uZDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNlY29uZElzRm9yY2VkQnJlYWtWYWx1ZSkge1xuICAgICAgcmV0dXJuIHNlY29uZDtcbiAgICB9IGVsc2UgaWYgKGZpcnN0SXNGb3JjZWRCcmVha1ZhbHVlKSB7XG4gICAgICByZXR1cm4gZmlyc3Q7XG4gICAgfSBlbHNlIGlmIChpc0F2b2lkQnJlYWtWYWx1ZShzZWNvbmQpKSB7XG4gICAgICByZXR1cm4gc2Vjb25kO1xuICAgIH0gZWxzZSBpZiAoaXNBdm9pZEJyZWFrVmFsdWUoZmlyc3QpKSB7XG4gICAgICByZXR1cm4gZmlyc3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzZWNvbmQ7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBicmVha1ZhbHVlVG9TdGFydFNpZGVWYWx1ZShicmVha1ZhbHVlOiBzdHJpbmcgfCBudWxsKTogc3RyaW5nIHtcbiAgc3dpdGNoIChicmVha1ZhbHVlKSB7XG4gICAgY2FzZSBcImxlZnRcIjpcbiAgICBjYXNlIFwicmlnaHRcIjpcbiAgICBjYXNlIFwicmVjdG9cIjpcbiAgICBjYXNlIFwidmVyc29cIjpcbiAgICAgIHJldHVybiBicmVha1ZhbHVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gXCJhbnlcIjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRTaWRlVmFsdWVUb0JyZWFrVmFsdWUoXG4gIHN0YXJ0U2lkZVZhbHVlOiBzdHJpbmcsXG4pOiBzdHJpbmcgfCBudWxsIHtcbiAgc3dpdGNoIChzdGFydFNpZGVWYWx1ZSkge1xuICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgY2FzZSBcInJlY3RvXCI6XG4gICAgY2FzZSBcInZlcnNvXCI6XG4gICAgICByZXR1cm4gc3RhcnRTaWRlVmFsdWU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cblBsdWdpbi5yZWdpc3Rlckhvb2soXCJTSU1QTEVfUFJPUEVSVFlcIiwgY29udmVydFBhZ2VCcmVha0FsaWFzZXMpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IExheW91dEhlbHBlciAtIEhlbHBlciBmdW5jdGlvbnMgb2YgTGF5b3V0LlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgVnRyZWVJbXBsIGZyb20gXCIuL3Z0cmVlXCI7XG5pbXBvcnQgeyBMYXlvdXQsIFZ0cmVlIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuLyoqXG4gKiBUaG91Z2ggbWV0aG9kIHVzZWQgdG8gYmUgdXNlZCBhcyBhIHdvcmthcm91bmQgZm9yIENocm9tZSBidWcsIGl0IHNlZW1zIHRoYXRcbiAqIHRoZSBidWcgaGFzIGJlZW4gYWxyZWFkeSBmaXhlZDpcbiAqICAgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mjk3ODA4XG4gKiBXZSBub3cgdXNlIHRoaXMgbWV0aG9kIGFzIGEgd29ya2Fyb3VuZCBmb3IgRmlyZWZveCBidWc6XG4gKiAgIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTExNTkzMDlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpeEJveGVzRm9yTm9kZShcbiAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gIGJveGVzOiBWdHJlZS5DbGllbnRSZWN0W10sXG4gIG5vZGU6IE5vZGUsXG4pOiBWdHJlZS5DbGllbnRSZWN0W10ge1xuICBjb25zdCBmdWxsUmFuZ2UgPSBub2RlLm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgZnVsbFJhbmdlLnNldFN0YXJ0KG5vZGUsIDApO1xuICBmdWxsUmFuZ2Uuc2V0RW5kKG5vZGUsIG5vZGUudGV4dENvbnRlbnQubGVuZ3RoKTtcbiAgY29uc3QgZnVsbEJveGVzID0gY2xpZW50TGF5b3V0LmdldFJhbmdlQ2xpZW50UmVjdHMoZnVsbFJhbmdlKTtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGZvciAoY29uc3QgYm94IG9mIGJveGVzKSB7XG4gICAgbGV0IGs6IG51bWJlcjtcbiAgICBmb3IgKGsgPSAwOyBrIDwgZnVsbEJveGVzLmxlbmd0aDsgaysrKSB7XG4gICAgICBjb25zdCBmdWxsQm94ID0gZnVsbEJveGVzW2tdO1xuICAgICAgaWYgKFxuICAgICAgICBib3gudG9wID49IGZ1bGxCb3gudG9wICYmXG4gICAgICAgIGJveC5ib3R0b20gPD0gZnVsbEJveC5ib3R0b20gJiZcbiAgICAgICAgTWF0aC5hYnMoYm94LmxlZnQgLSBmdWxsQm94LmxlZnQpIDwgMVxuICAgICAgKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICB0b3A6IGJveC50b3AsXG4gICAgICAgICAgbGVmdDogZnVsbEJveC5sZWZ0LFxuICAgICAgICAgIGJvdHRvbTogYm94LmJvdHRvbSxcbiAgICAgICAgICByaWdodDogZnVsbEJveC5yaWdodCxcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoayA9PSBmdWxsQm94ZXMubGVuZ3RoKSB7XG4gICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiQ291bGQgbm90IGZpeCBjaGFyYWN0ZXIgYm94XCIpO1xuICAgICAgcmVzdWx0LnB1c2goYm94KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBcImFmdGVyXCIgZWRnZSBpbiB0aGUgYmxvY2stcHJvZ3Jlc3Npb25cbiAqIGRpbWVuc2lvbi4gUmV0dXJuIDAgaWYgcG9zaXRpb24gd2FzIGRldGVybWluZWQgc3VjY2Vzc2Z1bGx5IGFuZCByZXR1cm5cbiAqIG5vbi16ZXJvIGlmIHBvc2l0aW9uIGNvdWxkIG5vdCBiZSBkZXRlcm1pbmVkIGFuZCB0aGUgbm9kZSBzaG91bGQgYmVcbiAqIGNvbnNpZGVyZWQgemVyby1oZWlnaHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVFZGdlKFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICBleHRyYU9mZnNldDogbnVtYmVyLFxuICB2ZXJ0aWNhbDogYm9vbGVhbixcbik6IG51bWJlciB7XG4gIGNvbnN0IG5vZGUgPSBub2RlQ29udGV4dC52aWV3Tm9kZTtcbiAgaWYgKCFub2RlKSB7XG4gICAgcmV0dXJuIE5hTjtcbiAgfVxuICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgaWYgKG5vZGVDb250ZXh0LmFmdGVyIHx8ICFub2RlQ29udGV4dC5pbmxpbmUpIHtcbiAgICAgIGNvbnN0IGNib3ggPSBjbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3Qobm9kZSBhcyBFbGVtZW50KTtcbiAgICAgIGlmIChjYm94LnJpZ2h0ID49IGNib3gubGVmdCAmJiBjYm94LmJvdHRvbSA+PSBjYm94LnRvcCkge1xuICAgICAgICBpZiAobm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICByZXR1cm4gdmVydGljYWwgPyBjYm94LmxlZnQgOiBjYm94LmJvdHRvbTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdmVydGljYWwgPyBjYm94LnJpZ2h0IDogY2JveC50b3A7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIE5hTjtcbiAgfSBlbHNlIHtcbiAgICBsZXQgZWRnZSA9IE5hTjtcbiAgICBjb25zdCByYW5nZSA9IG5vZGUub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIGNvbnN0IGxlbmd0aCA9IG5vZGUudGV4dENvbnRlbnQubGVuZ3RoO1xuICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICByZXR1cm4gTmFOO1xuICAgIH1cbiAgICBpZiAobm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgIGV4dHJhT2Zmc2V0ICs9IGxlbmd0aDtcbiAgICB9XG4gICAgaWYgKGV4dHJhT2Zmc2V0ID49IGxlbmd0aCkge1xuICAgICAgZXh0cmFPZmZzZXQgPSBsZW5ndGggLSAxO1xuICAgIH1cbiAgICByYW5nZS5zZXRTdGFydChub2RlLCBleHRyYU9mZnNldCk7XG4gICAgcmFuZ2Uuc2V0RW5kKG5vZGUsIGV4dHJhT2Zmc2V0ICsgMSk7XG4gICAgbGV0IGJveGVzID0gY2xpZW50TGF5b3V0LmdldFJhbmdlQ2xpZW50UmVjdHMocmFuZ2UpO1xuICAgIGlmICh2ZXJ0aWNhbCAmJiBCYXNlLmNoZWNrVmVydGljYWxCQm94QnVnKGRvY3VtZW50LmJvZHkpKSB7XG4gICAgICBib3hlcyA9IGZpeEJveGVzRm9yTm9kZShjbGllbnRMYXlvdXQsIGJveGVzLCBub2RlKTtcbiAgICB9XG4gICAgbGV0IG1heFNpemUgPSAwO1xuXG4gICAgLy8gR2V0IGZpcnN0IG9mIHRoZSB3aWRlc3QgYm94ZXMgKHdvcmtzIGFyb3VuZCBDaHJvbWUgcmVzdWx0cyBmb3Igc29mdFxuICAgIC8vIGh5cGhlbnMpLlxuICAgIGZvciAoY29uc3QgYm94IG9mIGJveGVzKSB7XG4gICAgICBjb25zdCBib3hTaXplID0gdmVydGljYWwgPyBib3guYm90dG9tIC0gYm94LnRvcCA6IGJveC5yaWdodCAtIGJveC5sZWZ0O1xuICAgICAgaWYgKFxuICAgICAgICBib3gucmlnaHQgPiBib3gubGVmdCAmJlxuICAgICAgICBib3guYm90dG9tID4gYm94LnRvcCAmJlxuICAgICAgICAoaXNOYU4oZWRnZSkgfHwgYm94U2l6ZSA+IG1heFNpemUpXG4gICAgICApIHtcbiAgICAgICAgZWRnZSA9IHZlcnRpY2FsID8gYm94LmxlZnQgOiBib3guYm90dG9tO1xuICAgICAgICBtYXhTaXplID0gYm94U2l6ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVkZ2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRIZWlnaHQoXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXG4gIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgdmVydGljYWw6IGJvb2xlYW4sXG4pOiBudW1iZXIge1xuICBjb25zdCByZWN0ID0gY29sdW1uLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChlbGVtZW50KTtcbiAgY29uc3QgbWFyZ2luID0gY29sdW1uLmdldENvbXB1dGVkTWFyZ2luKGVsZW1lbnQpO1xuICByZXR1cm4gdmVydGljYWxcbiAgICA/IHJlY3RbXCJ3aWR0aFwiXSArIG1hcmdpbltcImxlZnRcIl0gKyBtYXJnaW5bXCJyaWdodFwiXVxuICAgIDogcmVjdFtcImhlaWdodFwiXSArIG1hcmdpbltcInRvcFwiXSArIG1hcmdpbltcImJvdHRvbVwiXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT3JwaGFuKG5vZGU6IE5vZGUpOiBib29sZWFuIHtcbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBpZiAobm9kZS5wYXJlbnROb2RlID09PSBub2RlLm93bmVyRG9jdW1lbnQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUZvbGxvd2luZ1NpYmxpbmdzKFxuICBwYXJlbnROb2RlOiBOb2RlLFxuICB2aWV3Tm9kZTogTm9kZSxcbik6IHZvaWQge1xuICBpZiAoIXBhcmVudE5vZGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGxhc3RDaGlsZDogTm9kZTtcbiAgd2hpbGUgKChsYXN0Q2hpbGQgPSBwYXJlbnROb2RlLmxhc3RDaGlsZCkgIT0gdmlld05vZGUpIHtcbiAgICBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxhc3RDaGlsZCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3BlY2lhbChlOiBFbGVtZW50KTogYm9vbGVhbiB7XG4gIHJldHVybiAhIWUuZ2V0QXR0cmlidXRlKFZ0cmVlSW1wbC5TUEVDSUFMX0FUVFIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTcGVjaWFsTm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gIGlmICghbm9kZUNvbnRleHQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3Qgdmlld05vZGUgPSBub2RlQ29udGV4dC52aWV3Tm9kZTtcbiAgaWYgKHZpZXdOb2RlICYmIHZpZXdOb2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgcmV0dXJuIGlzU3BlY2lhbCh2aWV3Tm9kZSBhcyBFbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBCcmVha1Bvc2l0aW9uIC0gRGVmaW5pdGlvbnMgb2YgQnJlYWtQb3NpdGlvbi5cbiAqL1xuaW1wb3J0ICogYXMgQnJlYWsgZnJvbSBcIi4vYnJlYWtcIjtcbmltcG9ydCAqIGFzIExheW91dEhlbHBlciBmcm9tIFwiLi9sYXlvdXQtaGVscGVyXCI7XG5pbXBvcnQgeyBMYXlvdXQsIFJlcGV0aXRpdmVFbGVtZW50LCBWdHJlZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8qKlxuICogUG90ZW50aWFsIGJyZWFraW5nIHBvc2l0aW9uLlxuICovXG5leHBvcnQgdHlwZSBCcmVha1Bvc2l0aW9uID0gTGF5b3V0LkJyZWFrUG9zaXRpb247XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdEJyZWFrUG9zaXRpb25cbiAgaW1wbGVtZW50cyBMYXlvdXQuQWJzdHJhY3RCcmVha1Bvc2l0aW9uIHtcbiAgYWJzdHJhY3QgZmluZEFjY2VwdGFibGVCcmVhayhcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgcGVuYWx0eTogbnVtYmVyLFxuICApOiBWdHJlZS5Ob2RlQ29udGV4dDtcblxuICBhYnN0cmFjdCBnZXRNaW5CcmVha1BlbmFsdHkoKTogbnVtYmVyO1xuXG4gIGNhbGN1bGF0ZU9mZnNldChjb2x1bW4pOiB7IGN1cnJlbnQ6IG51bWJlcjsgbWluaW11bTogbnVtYmVyIH0ge1xuICAgIHJldHVybiBjYWxjdWxhdGVPZmZzZXQoXG4gICAgICB0aGlzLmdldE5vZGVDb250ZXh0KCksXG4gICAgICBjb2x1bW4uY29sbGVjdEVsZW1lbnRzT2Zmc2V0KCksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGJyZWFrUG9zaXRpb25DaG9zZW4oY29sdW1uOiBMYXlvdXQuQ29sdW1uKTogdm9pZCB7fVxuXG4gIGdldE5vZGVDb250ZXh0KCk6IFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlT2Zmc2V0KFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gIGVsZW1lbnRzT2Zmc2V0czogUmVwZXRpdGl2ZUVsZW1lbnQuRWxlbWVudHNPZmZzZXRbXSxcbik6IHsgY3VycmVudDogbnVtYmVyOyBtaW5pbXVtOiBudW1iZXIgfSB7XG4gIHJldHVybiB7XG4gICAgY3VycmVudDogZWxlbWVudHNPZmZzZXRzLnJlZHVjZShcbiAgICAgICh2YWwsIHJlcGV0aXRpdmVFbGVtZW50KSA9PlxuICAgICAgICB2YWwgKyByZXBldGl0aXZlRWxlbWVudC5jYWxjdWxhdGVPZmZzZXQobm9kZUNvbnRleHQpLFxuICAgICAgMCxcbiAgICApLFxuICAgIG1pbmltdW06IGVsZW1lbnRzT2Zmc2V0cy5yZWR1Y2UoXG4gICAgICAodmFsLCByZXBldGl0aXZlRWxlbWVudCkgPT5cbiAgICAgICAgdmFsICsgcmVwZXRpdGl2ZUVsZW1lbnQuY2FsY3VsYXRlTWluaW11bU9mZnNldChub2RlQ29udGV4dCksXG4gICAgICAwLFxuICAgICksXG4gIH07XG59XG5cbi8qKlxuICogUG90ZW50aWFsIGVkZ2UgYnJlYWtpbmcgcG9zaXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBFZGdlQnJlYWtQb3NpdGlvbiBleHRlbmRzIEFic3RyYWN0QnJlYWtQb3NpdGlvblxuICBpbXBsZW1lbnRzIExheW91dC5FZGdlQnJlYWtQb3NpdGlvbiB7XG4gIG92ZXJmbG93SWZSZXBldGl0aXZlRWxlbWVudHNEcm9wcGVkOiBib29sZWFuO1xuICBwcm90ZWN0ZWQgaXNFZGdlVXBkYXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGVkZ2U6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgYnJlYWtPbkVkZ2U6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIG92ZXJmbG93czogYm9vbGVhbixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29tcHV0ZWRCbG9ja1NpemU6IG51bWJlcixcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm92ZXJmbG93SWZSZXBldGl0aXZlRWxlbWVudHNEcm9wcGVkID0gb3ZlcmZsb3dzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZmluZEFjY2VwdGFibGVCcmVhayhcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgcGVuYWx0eTogbnVtYmVyLFxuICApOiBWdHJlZS5Ob2RlQ29udGV4dCB7XG4gICAgdGhpcy51cGRhdGVPdmVyZmxvd3MoY29sdW1uKTtcbiAgICBpZiAocGVuYWx0eSA8IHRoaXMuZ2V0TWluQnJlYWtQZW5hbHR5KCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY29sdW1uLmZpbmRFZGdlQnJlYWtQb3NpdGlvbih0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE1pbkJyZWFrUGVuYWx0eSgpOiBudW1iZXIge1xuICAgIGlmICghdGhpcy5pc0VkZ2VVcGRhdGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFZGdlQnJlYWtQb3NpdGlvbi5wcm90b3R5cGUudXBkYXRlRWRnZSBub3QgY2FsbGVkXCIpO1xuICAgIH1cbiAgICBjb25zdCBwcmVmZXJEcm9wcGluZyA9XG4gICAgICB0aGlzLmlzRmlyc3RDb250ZW50T2ZSZXBldGl0aXZlRWxlbWVudHNPd25lcigpICYmXG4gICAgICAhdGhpcy5vdmVyZmxvd0lmUmVwZXRpdGl2ZUVsZW1lbnRzRHJvcHBlZDtcbiAgICByZXR1cm4gKFxuICAgICAgKEJyZWFrLmlzQXZvaWRCcmVha1ZhbHVlKHRoaXMuYnJlYWtPbkVkZ2UpID8gMSA6IDApICtcbiAgICAgICh0aGlzLm92ZXJmbG93cyAmJiAhcHJlZmVyRHJvcHBpbmcgPyAzIDogMCkgK1xuICAgICAgKHRoaXMucG9zaXRpb24ucGFyZW50ID8gdGhpcy5wb3NpdGlvbi5wYXJlbnQuYnJlYWtQZW5hbHR5IDogMClcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVFZGdlKGNvbHVtbjogTGF5b3V0LkNvbHVtbikge1xuICAgIGNvbnN0IGNsb25lZFBhZGRpbmdCb3JkZXIgPSBjb2x1bW4uY2FsY3VsYXRlQ2xvbmVkUGFkZGluZ0JvcmRlcihcbiAgICAgIHRoaXMucG9zaXRpb24sXG4gICAgKTtcbiAgICB0aGlzLmVkZ2UgPVxuICAgICAgTGF5b3V0SGVscGVyLmNhbGN1bGF0ZUVkZ2UoXG4gICAgICAgIHRoaXMucG9zaXRpb24sXG4gICAgICAgIGNvbHVtbi5jbGllbnRMYXlvdXQsXG4gICAgICAgIDAsXG4gICAgICAgIGNvbHVtbi52ZXJ0aWNhbCxcbiAgICAgICkgKyBjbG9uZWRQYWRkaW5nQm9yZGVyO1xuICAgIHRoaXMuaXNFZGdlVXBkYXRlZCA9IHRydWU7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZU92ZXJmbG93cyhjb2x1bW46IExheW91dC5Db2x1bW4pIHtcbiAgICBpZiAoIXRoaXMuaXNFZGdlVXBkYXRlZCkge1xuICAgICAgdGhpcy51cGRhdGVFZGdlKGNvbHVtbik7XG4gICAgfVxuICAgIGNvbnN0IGVkZ2UgPSB0aGlzLmVkZ2U7XG4gICAgY29uc3Qgb2Zmc2V0cyA9IHRoaXMuY2FsY3VsYXRlT2Zmc2V0KGNvbHVtbik7XG4gICAgdGhpcy5vdmVyZmxvd0lmUmVwZXRpdGl2ZUVsZW1lbnRzRHJvcHBlZCA9IGNvbHVtbi5pc092ZXJmbG93bihcbiAgICAgIGVkZ2UgKyAoY29sdW1uLnZlcnRpY2FsID8gLTEgOiAxKSAqIG9mZnNldHMubWluaW11bSxcbiAgICApO1xuICAgIHRoaXMub3ZlcmZsb3dzID0gdGhpcy5wb3NpdGlvbi5vdmVyZmxvdyA9IGNvbHVtbi5pc092ZXJmbG93bihcbiAgICAgIGVkZ2UgKyAoY29sdW1uLnZlcnRpY2FsID8gLTEgOiAxKSAqIG9mZnNldHMuY3VycmVudCxcbiAgICApO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXROb2RlQ29udGV4dCgpOiBWdHJlZS5Ob2RlQ29udGV4dCB7XG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb247XG4gIH1cblxuICBwcml2YXRlIGlzRmlyc3RDb250ZW50T2ZSZXBldGl0aXZlRWxlbWVudHNPd25lcigpOiBib29sZWFuIHtcbiAgICBjb25zdCBub2RlQ29udGV4dCA9IHRoaXMuZ2V0Tm9kZUNvbnRleHQoKTtcbiAgICBpZiAoIW5vZGVDb250ZXh0IHx8ICFub2RlQ29udGV4dC5wYXJlbnQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgeyBmb3JtYXR0aW5nQ29udGV4dCB9ID0gbm9kZUNvbnRleHQucGFyZW50O1xuICAgIGlmIChcbiAgICAgICFSZXBldGl0aXZlRWxlbWVudC5pc0luc3RhbmNlT2ZSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgICBmb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgIClcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gcmVwZXRpdGl2ZUVsZW1lbnRzLmlzRmlyc3RDb250ZW50Tm9kZShub2RlQ29udGV4dCk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IERpc3BsYXkgLSBDU1MgRGlzcGxheSBNb2R1bGVcbiAqL1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuXG5leHBvcnQgY29uc3QgRkxPV19ST09UX0FUVFIgPSBcImRhdGEtdml2bGlvc3R5bGUtZmxvdy1yb290XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Zsb3dSb290KGVsZW1lbnQ6IEVsZW1lbnQpOiBib29sZWFuIHtcbiAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKEZMT1dfUk9PVF9BVFRSKSA9PT0gXCJ0cnVlXCI7XG59XG5cbi8qKlxuICogJ0Jsb2NraWZ5JyBhIGRpc3BsYXkgdmFsdWUuXG4gKiBjZi4gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy1kaXNwbGF5LyN0cmFuc2Zvcm1hdGlvbnNcbiAqICAgICBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzMi92aXN1cmVuLmh0bWwjZGlzLXBvcy1mbG9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJsb2NraWZ5KGRpc3BsYXk6IENzcy5JZGVudCk6IENzcy5JZGVudCB7XG4gIGNvbnN0IGRpc3BsYXlTdHIgPSBkaXNwbGF5LnRvU3RyaW5nKCk7XG4gIGxldCBibG9ja2lmaWVkU3RyOiBzdHJpbmc7XG4gIHN3aXRjaCAoZGlzcGxheVN0cikge1xuICAgIGNhc2UgXCJpbmxpbmUtZmxleFwiOlxuICAgICAgYmxvY2tpZmllZFN0ciA9IFwiZmxleFwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImlubGluZS1ncmlkXCI6XG4gICAgICBibG9ja2lmaWVkU3RyID0gXCJncmlkXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiaW5saW5lLXRhYmxlXCI6XG4gICAgICBibG9ja2lmaWVkU3RyID0gXCJ0YWJsZVwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImlubGluZVwiOlxuICAgIGNhc2UgXCJ0YWJsZS1yb3ctZ3JvdXBcIjpcbiAgICBjYXNlIFwidGFibGUtY29sdW1uXCI6XG4gICAgY2FzZSBcInRhYmxlLWNvbHVtbi1ncm91cFwiOlxuICAgIGNhc2UgXCJ0YWJsZS1oZWFkZXItZ3JvdXBcIjpcbiAgICBjYXNlIFwidGFibGUtZm9vdGVyLWdyb3VwXCI6XG4gICAgY2FzZSBcInRhYmxlLXJvd1wiOlxuICAgIGNhc2UgXCJ0YWJsZS1jZWxsXCI6XG4gICAgY2FzZSBcInRhYmxlLWNhcHRpb25cIjpcbiAgICBjYXNlIFwiaW5saW5lLWJsb2NrXCI6XG4gICAgICBibG9ja2lmaWVkU3RyID0gXCJibG9ja1wiO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGJsb2NraWZpZWRTdHIgPSBkaXNwbGF5U3RyO1xuICB9XG4gIHJldHVybiBDc3MuZ2V0TmFtZShibG9ja2lmaWVkU3RyKTtcbn1cblxuLyoqXG4gKiBKdWRnZSBpZiB0aGUgZ2VuZXJhdGVkIGJveCBpcyBhYnNvbHV0ZWx5IHBvc2l0aW9uZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Fic29sdXRlbHlQb3NpdGlvbmVkKHBvc2l0aW9uOiBDc3MuSWRlbnQpOiBib29sZWFuIHtcbiAgcmV0dXJuIHBvc2l0aW9uID09PSBDc3MuaWRlbnQuYWJzb2x1dGUgfHwgcG9zaXRpb24gPT09IENzcy5pZGVudC5maXhlZDtcbn1cblxuLyoqXG4gKiBHZXQgY29tcHV0ZWQgdmFsdWVzIG9mIGRpc3BsYXksIHBvc2l0aW9uIGFuZCBmbG9hdC5cbiAqIGNmLiBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLWRpc3BsYXkvI3RyYW5zZm9ybWF0aW9uc1xuICogICAgIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MyL3Zpc3VyZW4uaHRtbCNkaXMtcG9zLWZsb1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29tcHV0ZWREaXNsYXlWYWx1ZShcbiAgZGlzcGxheTogQ3NzLklkZW50LFxuICBwb3NpdGlvbjogQ3NzLklkZW50LFxuICBmbG9hdDogQ3NzLklkZW50LFxuICBpc1Jvb3Q6IGJvb2xlYW4sXG4pOiB7IGRpc3BsYXk6IENzcy5JZGVudDsgcG9zaXRpb246IENzcy5JZGVudDsgZmxvYXQ6IENzcy5JZGVudCB9IHtcbiAgaWYgKGRpc3BsYXkgPT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgLy8gbm8gbmVlZCB0byBjb252ZXJ0IHZhbHVlcyB3aGVuICdkaXNwbGF5JyBpcyAnbm9uZSdcbiAgfSBlbHNlIGlmIChpc0Fic29sdXRlbHlQb3NpdGlvbmVkKHBvc2l0aW9uKSkge1xuICAgIGZsb2F0ID0gQ3NzLmlkZW50Lm5vbmU7XG4gICAgZGlzcGxheSA9IGJsb2NraWZ5KGRpc3BsYXkpO1xuICB9IGVsc2UgaWYgKChmbG9hdCAmJiBmbG9hdCAhPT0gQ3NzLmlkZW50Lm5vbmUpIHx8IGlzUm9vdCkge1xuICAgIGRpc3BsYXkgPSBibG9ja2lmeShkaXNwbGF5KTtcbiAgfVxuICByZXR1cm4geyBkaXNwbGF5LCBwb3NpdGlvbiwgZmxvYXQgfTtcbn1cblxuLyoqXG4gKiBKdWRnZXMgaWYgdGhlIGdlbmVyYXRlZCBib3ggaXMgYmxvY2suXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Jsb2NrKFxuICBkaXNwbGF5OiBDc3MuSWRlbnQsXG4gIHBvc2l0aW9uOiBDc3MuSWRlbnQsXG4gIGZsb2F0OiBDc3MuSWRlbnQsXG4gIGlzUm9vdDogYm9vbGVhbixcbik6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIGdldENvbXB1dGVkRGlzbGF5VmFsdWUoZGlzcGxheSwgcG9zaXRpb24sIGZsb2F0LCBpc1Jvb3QpLmRpc3BsYXkgPT09XG4gICAgQ3NzLmlkZW50LmJsb2NrXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0lubGluZUxldmVsKGRpc3BsYXk6IENzcy5JZGVudCk6IGJvb2xlYW4ge1xuICBzd2l0Y2ggKGRpc3BsYXkudG9TdHJpbmcoKSkge1xuICAgIGNhc2UgXCJpbmxpbmVcIjpcbiAgICBjYXNlIFwiaW5saW5lLWJsb2NrXCI6XG4gICAgY2FzZSBcImlubGluZS1saXN0LWl0ZW1cIjpcbiAgICBjYXNlIFwiaW5saW5lLWZsZXhcIjpcbiAgICBjYXNlIFwiaW5saW5lLWdyaWRcIjpcbiAgICBjYXNlIFwicnVieVwiOlxuICAgIGNhc2UgXCJpbmxpbmUtdGFibGVcIjpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUnVieUludGVybmFsRGlzcGxheShkaXNwbGF5OiBDc3MuSWRlbnQpOiBib29sZWFuIHtcbiAgc3dpdGNoIChkaXNwbGF5LnRvU3RyaW5nKCkpIHtcbiAgICBjYXNlIFwicnVieS1iYXNlXCI6XG4gICAgY2FzZSBcInJ1YnktdGV4dFwiOlxuICAgIGNhc2UgXCJydWJ5LWJhc2UtY29udGFpbmVyXCI6XG4gICAgY2FzZSBcInJ1YnktdGV4dC1jb250YWluZXJcIjpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBKdWRnZXMgaWYgdGhlIGdlbmVyYXRlZCBib3ggZXN0YWJsaXNoZXMgYSBuZXcgYmxvY2sgZm9ybWF0dGluZyBjb250ZXh0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXN0YWJsaXNoZXNCRkMoXG4gIGRpc3BsYXk6IENzcy5JZGVudCxcbiAgcG9zaXRpb246IENzcy5JZGVudCxcbiAgZmxvYXQ6IENzcy5JZGVudCxcbiAgb3ZlcmZsb3c6IENzcy5JZGVudCxcbiAgd3JpdGluZ01vZGU/OiBDc3MuSWRlbnQsXG4gIHBhcmVudFdyaXRpbmdNb2RlPzogQ3NzLklkZW50LFxuICBpc0Zsb3dSb290PzogYm9vbGVhbixcbik6IGJvb2xlYW4ge1xuICB3cml0aW5nTW9kZSA9IHdyaXRpbmdNb2RlIHx8IHBhcmVudFdyaXRpbmdNb2RlIHx8IENzcy5pZGVudC5ob3Jpem9udGFsX3RiO1xuICByZXR1cm4gKFxuICAgICEhaXNGbG93Um9vdCB8fFxuICAgICghIWZsb2F0ICYmIGZsb2F0ICE9PSBDc3MuaWRlbnQubm9uZSkgfHxcbiAgICBpc0Fic29sdXRlbHlQb3NpdGlvbmVkKHBvc2l0aW9uKSB8fFxuICAgIGRpc3BsYXkgPT09IENzcy5pZGVudC5pbmxpbmVfYmxvY2sgfHxcbiAgICBkaXNwbGF5ID09PSBDc3MuaWRlbnQudGFibGVfY2VsbCB8fFxuICAgIGRpc3BsYXkgPT09IENzcy5pZGVudC50YWJsZV9jYXB0aW9uIHx8XG4gICAgZGlzcGxheSA9PSBDc3MuaWRlbnQuZmxleCB8fFxuICAgICgoZGlzcGxheSA9PT0gQ3NzLmlkZW50LmJsb2NrIHx8IGRpc3BsYXkgPT09IENzcy5pZGVudC5saXN0X2l0ZW0pICYmXG4gICAgICAhIW92ZXJmbG93ICYmXG4gICAgICBvdmVyZmxvdyAhPT0gQ3NzLmlkZW50LnZpc2libGUpIHx8XG4gICAgKCEhcGFyZW50V3JpdGluZ01vZGUgJiYgd3JpdGluZ01vZGUgIT09IHBhcmVudFdyaXRpbmdNb2RlKVxuICApO1xufVxuXG4vKipcbiAqIEp1ZGdlcyBpZiB0aGUgZ2VuZXJhdGVkIGJveCBlc3RhYmxpc2hlcyBhIGNvbnRhaW5pbmcgYmxvY2sgZm9yIGRlc2NlbmRhbnRcbiAqIGJveGVzIHdpdGggJ3Bvc2l0aW9uOiBhYnNvbHV0ZScuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlc3RhYmxpc2hlc0NCRm9yQWJzb2x1dGUocG9zaXRpb246IENzcy5JZGVudCk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIHBvc2l0aW9uID09PSBDc3MuaWRlbnQucmVsYXRpdmUgfHxcbiAgICBwb3NpdGlvbiA9PT0gQ3NzLmlkZW50LmFic29sdXRlIHx8XG4gICAgcG9zaXRpb24gPT09IENzcy5pZGVudC5maXhlZFxuICApO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IExheW91dFByb2Nlc3NvciAtIERlZmluaXRpb25zIG9mIExheW91dFByb2Nlc3Nvci5cbiAqL1xuaW1wb3J0ICogYXMgQnJlYWtQb3NpdGlvbiBmcm9tIFwiLi9icmVhay1wb3NpdGlvblwiO1xuaW1wb3J0ICogYXMgRGlzcGxheSBmcm9tIFwiLi9kaXNwbGF5XCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRIZWxwZXIgZnJvbSBcIi4vbGF5b3V0LWhlbHBlclwiO1xuaW1wb3J0ICogYXMgUGx1Z2luIGZyb20gXCIuL3BsdWdpblwiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgeyBGb3JtYXR0aW5nQ29udGV4dFR5cGUsIExheW91dCwgTGF5b3V0UHJvY2Vzc29yLCBWdHJlZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8qKlxuICogUHJvY2Vzc29yIGRvaW5nIHNvbWUgc3BlY2lhbCBsYXlvdXQgKGUuZy4gdGFibGUgbGF5b3V0KVxuICovXG5leHBvcnQgaW50ZXJmYWNlIExheW91dFByb2Nlc3NvciB7XG4gIC8qKlxuICAgKiBEbyBhY3R1YWwgbGF5b3V0IGluIHRoZSBjb2x1bW4gc3RhcnRpbmcgZnJvbSBnaXZlbiBOb2RlQ29udGV4dC5cbiAgICovXG4gIGxheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG5cbiAgLyoqXG4gICAqIFBvdGVudGlhbCBlZGdlIGJyZWFraW5nIHBvc2l0aW9uLlxuICAgKi9cbiAgY3JlYXRlRWRnZUJyZWFrUG9zaXRpb24oXG4gICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGJyZWFrT25FZGdlOiBzdHJpbmcgfCBudWxsLFxuICAgIG92ZXJmbG93czogYm9vbGVhbixcbiAgICBjb2x1bW5CbG9ja1NpemU6IG51bWJlcixcbiAgKTogTGF5b3V0LkJyZWFrUG9zaXRpb247XG5cbiAgLyoqXG4gICAqIHByb2Nlc3Mgbm9kZWNvbnRleHQgYXQgdGhlIHN0YXJ0IG9mIGEgbm9uIGlubGluZSBlbGVtZW50LlxuICAgKiBAcmV0dXJuIHJldHVybiB0cnVlIGlmIHlvdSBza2lwIHRoZSBzdWJzZXF1ZW50IG5vZGVzXG4gICAqL1xuICBzdGFydE5vbklubGluZUVsZW1lbnROb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIHByb2Nlc3Mgbm9kZWNvbnRleHQgYWZ0ZXIgYSBub24gaW5saW5lIGVsZW1lbnQuXG4gICAqIEByZXR1cm4gcmV0dXJuIHRydWUgaWYgeW91IHNraXAgdGhlIHN1YnNlcXVlbnQgbm9kZXNcbiAgICovXG4gIGFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHN0b3BBdE92ZXJmbG93OiBib29sZWFuLFxuICApOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGhvbGluZyB0cnVlXG4gICAqL1xuICBmaW5pc2hCcmVhayhcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZvcmNlUmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgICBlbmRPZkNvbHVtbjogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG5cbiAgY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIHBhcmVudE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgcmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgKTtcbn1cblxuLyoqXG4gKiBSZXNvbHZlciBmaW5kaW5nIGFuIGFwcHJvcHJpYXRlIExheW91dFByb2Nlc3NvciBnaXZlbiBhIGZvcm1hdHRpbmcgY29udGV4dFxuICovXG5leHBvcnQgY2xhc3MgTGF5b3V0UHJvY2Vzc29yUmVzb2x2ZXIge1xuICAvKipcbiAgICogRmluZCBMYXlvdXRQcm9jZXNzb3IgY29ycmVzcG9uZGluZyB0byBnaXZlbiBmb3JtYXR0aW5nIGNvbnRleHQuXG4gICAqL1xuICBmaW5kKGZvcm1hdHRpbmdDb250ZXh0OiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCk6IExheW91dFByb2Nlc3NvciB7XG4gICAgY29uc3QgaG9va3M6IFBsdWdpbi5SZXNvbHZlTGF5b3V0UHJvY2Vzc29ySG9va1tdID0gUGx1Z2luLmdldEhvb2tzRm9yTmFtZShcbiAgICAgIFBsdWdpbi5IT09LUy5SRVNPTFZFX0xBWU9VVF9QUk9DRVNTT1IsXG4gICAgKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvb2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwcm9jZXNzb3IgPSBob29rc1tpXShmb3JtYXR0aW5nQ29udGV4dCk7XG4gICAgICBpZiAocHJvY2Vzc29yKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzb3I7XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBObyBwcm9jZXNzb3IgZm91bmQgZm9yIGEgZm9ybWF0dGluZyBjb250ZXh0OiAke2Zvcm1hdHRpbmdDb250ZXh0LmdldE5hbWUoKX1gLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJsb2NrTGF5b3V0UHJvY2Vzc29yIGltcGxlbWVudHMgTGF5b3V0UHJvY2Vzc29yIHtcbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgaWYgKGNvbHVtbi5pc0Zsb2F0Tm9kZUNvbnRleHQobm9kZUNvbnRleHQpKSB7XG4gICAgICByZXR1cm4gY29sdW1uLmxheW91dEZsb2F0T3JGb290bm90ZShub2RlQ29udGV4dCk7XG4gICAgfSBlbHNlIGlmIChjb2x1bW4uaXNCcmVha2FibGUobm9kZUNvbnRleHQpKSB7XG4gICAgICByZXR1cm4gY29sdW1uLmxheW91dEJyZWFrYWJsZUJsb2NrKG5vZGVDb250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNvbHVtbi5sYXlvdXRVbmJyZWFrYWJsZShub2RlQ29udGV4dCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY3JlYXRlRWRnZUJyZWFrUG9zaXRpb24oXG4gICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGJyZWFrT25FZGdlOiBzdHJpbmcgfCBudWxsLFxuICAgIG92ZXJmbG93czogYm9vbGVhbixcbiAgICBjb2x1bW5CbG9ja1NpemU6IG51bWJlcixcbiAgKTogTGF5b3V0LkJyZWFrUG9zaXRpb24ge1xuICAgIHJldHVybiBuZXcgQnJlYWtQb3NpdGlvbi5FZGdlQnJlYWtQb3NpdGlvbihcbiAgICAgIHBvc2l0aW9uLmNvcHkoKSxcbiAgICAgIGJyZWFrT25FZGdlLFxuICAgICAgb3ZlcmZsb3dzLFxuICAgICAgY29sdW1uQmxvY2tTaXplLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydE5vbklubGluZUVsZW1lbnROb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHN0b3BBdE92ZXJmbG93OiBib29sZWFuLFxuICApOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjbGVhck92ZXJmbG93blZpZXdOb2RlcyhcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgcGFyZW50Tm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICByZW1vdmVTZWxmOiBib29sZWFuLFxuICApIHtcbiAgICBpZiAoIW5vZGVDb250ZXh0LnZpZXdOb2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghbm9kZUNvbnRleHQudmlld05vZGUucGFyZW50Tm9kZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwYXJlbnROb2RlID0gbm9kZUNvbnRleHQudmlld05vZGUucGFyZW50Tm9kZTtcbiAgICBMYXlvdXRIZWxwZXIucmVtb3ZlRm9sbG93aW5nU2libGluZ3MocGFyZW50Tm9kZSwgbm9kZUNvbnRleHQudmlld05vZGUpO1xuICAgIGlmIChyZW1vdmVTZWxmKSB7XG4gICAgICBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBob2xpbmcgdHJ1ZVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZpbmlzaEJyZWFrKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgZm9yY2VSZW1vdmVTZWxmOiBib29sZWFuLFxuICAgIGVuZE9mQ29sdW1uOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgcmVtb3ZlU2VsZiA9XG4gICAgICBmb3JjZVJlbW92ZVNlbGYgfHxcbiAgICAgIChub2RlQ29udGV4dC52aWV3Tm9kZSAhPSBudWxsICYmXG4gICAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlLm5vZGVUeXBlID09IDEgJiZcbiAgICAgICAgIW5vZGVDb250ZXh0LmFmdGVyKTtcbiAgICBjb2x1bW4uY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMobm9kZUNvbnRleHQsIHJlbW92ZVNlbGYpO1xuICAgIGlmIChlbmRPZkNvbHVtbikge1xuICAgICAgY29sdW1uLmZpeEp1c3RpZmljYXRpb25JZk5lZWRlZChub2RlQ29udGV4dCwgdHJ1ZSk7XG4gICAgICBjb2x1bW4ubGF5b3V0Q29udGV4dC5wcm9jZXNzRnJhZ21lbnRlZEJsb2NrRWRnZShcbiAgICAgICAgcmVtb3ZlU2VsZiA/IG5vZGVDb250ZXh0IDogbm9kZUNvbnRleHQucGFyZW50LFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCbG9ja0Zvcm1hdHRpbmdDb250ZXh0XG4gIGltcGxlbWVudHMgTGF5b3V0UHJvY2Vzc29yLkJsb2NrRm9ybWF0dGluZ0NvbnRleHQge1xuICBmb3JtYXR0aW5nQ29udGV4dFR5cGU6IEZvcm1hdHRpbmdDb250ZXh0VHlwZSA9IFwiQmxvY2tcIjtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IHBhcmVudDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQpIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0TmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIkJsb2NrIGZvcm1hdHRpbmcgY29udGV4dCAoQmxvY2tGb3JtYXR0aW5nQ29udGV4dClcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGlzRmlyc3RUaW1lKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgZmlyc3RUaW1lOiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZpcnN0VGltZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFBhcmVudCgpOiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCB7XG4gICAgcmV0dXJuIHRoaXMucGFyZW50O1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzYXZlU3RhdGUoKTogYW55IHt9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICByZXN0b3JlU3RhdGUoc3RhdGU6IGFueSkge31cbn1cblxuZXhwb3J0IGNvbnN0IGJsb2NrTGF5b3V0UHJvY2Vzc29yID0gbmV3IEJsb2NrTGF5b3V0UHJvY2Vzc29yKCk7XG5cbmV4cG9ydCBjb25zdCBpc0luc3RhbmNlT2ZCbG9ja0Zvcm1hdHRpbmdDb250ZXh0ID1cbiAgTGF5b3V0UHJvY2Vzc29yLmlzSW5zdGFuY2VPZkJsb2NrRm9ybWF0dGluZ0NvbnRleHQ7XG5cblBsdWdpbi5yZWdpc3Rlckhvb2soXG4gIFBsdWdpbi5IT09LUy5SRVNPTFZFX0ZPUk1BVFRJTkdfQ09OVEVYVCxcbiAgKG5vZGVDb250ZXh0LCBmaXJzdFRpbWUsIGRpc3BsYXksIHBvc2l0aW9uLCBmbG9hdFNpZGUsIGlzUm9vdCkgPT4ge1xuICAgIGNvbnN0IHBhcmVudCA9IG5vZGVDb250ZXh0LnBhcmVudDtcbiAgICBpZiAoIXBhcmVudCAmJiBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHBhcmVudCAmJlxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQgIT09IHBhcmVudC5mb3JtYXR0aW5nQ29udGV4dFxuICAgICkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIG5vZGVDb250ZXh0LmVzdGFibGlzaGVzQkZDIHx8XG4gICAgICAoIW5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0ICYmXG4gICAgICAgIERpc3BsYXkuaXNCbG9jayhkaXNwbGF5LCBwb3NpdGlvbiwgZmxvYXRTaWRlLCBpc1Jvb3QpKVxuICAgICkge1xuICAgICAgcmV0dXJuIG5ldyBCbG9ja0Zvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgICBwYXJlbnQgPyBwYXJlbnQuZm9ybWF0dGluZ0NvbnRleHQgOiBudWxsLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LFxuKTtcblxuUGx1Z2luLnJlZ2lzdGVySG9vayhcbiAgUGx1Z2luLkhPT0tTLlJFU09MVkVfTEFZT1VUX1BST0NFU1NPUixcbiAgKGZvcm1hdHRpbmdDb250ZXh0KSA9PiB7XG4gICAgaWYgKGZvcm1hdHRpbmdDb250ZXh0IGluc3RhbmNlb2YgQmxvY2tGb3JtYXR0aW5nQ29udGV4dCkge1xuICAgICAgcmV0dXJuIGJsb2NrTGF5b3V0UHJvY2Vzc29yO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbik7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgTGF5b3V0UmV0cnllcnMgLSBEZWZpbml0aW9ucyBvZiBMYXlvdXRSZXRyeWVyLlxuICovXG5pbXBvcnQgKiBhcyBBc3NlcnRzIGZyb20gXCIuL2Fzc2VydHNcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0IHsgTGF5b3V0LCBWdHJlZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8qKlxuICogQGFic3RyYWN0XG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdExheW91dFJldHJ5ZXIge1xuICBpbml0aWFsQnJlYWtQb3NpdGlvbnM6IExheW91dC5CcmVha1Bvc2l0aW9uW10gPSBudWxsO1xuICBpbml0aWFsU3RhdGVPZkZvcm1hdHRpbmdDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCA9IG51bGw7XG4gIGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQ7XG4gIGluaXRpYWxGcmFnbWVudExheW91dENvbnN0cmFpbnRzOiBMYXlvdXQuRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50W107XG5cbiAgbGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgdGhpcy5wcmVwYXJlTGF5b3V0KG5vZGVDb250ZXh0LCBjb2x1bW4pO1xuICAgIHJldHVybiB0aGlzLnRyeUxheW91dChub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgfVxuXG4gIHByaXZhdGUgdHJ5TGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PihcbiAgICAgIFwiQWJzdHJhY3RMYXlvdXRSZXRyeWVyLnRyeUxheW91dFwiLFxuICAgICk7XG4gICAgdGhpcy5zYXZlU3RhdGUobm9kZUNvbnRleHQsIGNvbHVtbik7XG4gICAgY29uc3QgbW9kZSA9IHRoaXMucmVzb2x2ZUxheW91dE1vZGUobm9kZUNvbnRleHQpO1xuICAgIG1vZGUuZG9MYXlvdXQobm9kZUNvbnRleHQsIGNvbHVtbikudGhlbigocG9zaXRpb25BZnRlcikgPT4ge1xuICAgICAgbGV0IGFjY2VwdGVkID0gbW9kZS5hY2NlcHQocG9zaXRpb25BZnRlciwgY29sdW1uKTtcbiAgICAgIGFjY2VwdGVkID0gbW9kZS5wb3N0TGF5b3V0KFxuICAgICAgICBwb3NpdGlvbkFmdGVyLFxuICAgICAgICB0aGlzLmluaXRpYWxQb3NpdGlvbixcbiAgICAgICAgY29sdW1uLFxuICAgICAgICBhY2NlcHRlZCxcbiAgICAgICk7XG4gICAgICBpZiAoYWNjZXB0ZWQpIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHBvc2l0aW9uQWZ0ZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgQXNzZXJ0cy5hc3NlcnQodGhpcy5pbml0aWFsUG9zaXRpb24pO1xuICAgICAgICB0aGlzLmNsZWFyTm9kZXModGhpcy5pbml0aWFsUG9zaXRpb24pO1xuICAgICAgICB0aGlzLnJlc3RvcmVTdGF0ZShub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgICAgICAgdGhpcy50cnlMYXlvdXQodGhpcy5pbml0aWFsUG9zaXRpb24sIGNvbHVtbikudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgYWJzdHJhY3QgcmVzb2x2ZUxheW91dE1vZGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogTGF5b3V0LkxheW91dE1vZGU7XG5cbiAgcHJlcGFyZUxheW91dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsIGNvbHVtbjogTGF5b3V0LkNvbHVtbikge31cblxuICBjbGVhck5vZGVzKGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQpIHtcbiAgICBjb25zdCB2aWV3Tm9kZSA9XG4gICAgICBpbml0aWFsUG9zaXRpb24udmlld05vZGUgfHwgaW5pdGlhbFBvc2l0aW9uLnBhcmVudC52aWV3Tm9kZTtcbiAgICBsZXQgY2hpbGQ6IE5vZGU7XG4gICAgd2hpbGUgKChjaGlsZCA9IHZpZXdOb2RlLmxhc3RDaGlsZCkpIHtcbiAgICAgIHZpZXdOb2RlLnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICB9XG4gICAgbGV0IHNpYmxpbmc6IE5vZGU7XG4gICAgd2hpbGUgKChzaWJsaW5nID0gdmlld05vZGUubmV4dFNpYmxpbmcpKSB7XG4gICAgICBzaWJsaW5nLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2libGluZyk7XG4gICAgfVxuICB9XG5cbiAgc2F2ZVN0YXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXQuQ29sdW1uKSB7XG4gICAgdGhpcy5pbml0aWFsUG9zaXRpb24gPSBub2RlQ29udGV4dC5jb3B5KCk7XG4gICAgdGhpcy5pbml0aWFsQnJlYWtQb3NpdGlvbnMgPSBbXS5jb25jYXQoY29sdW1uLmJyZWFrUG9zaXRpb25zKTtcbiAgICB0aGlzLmluaXRpYWxGcmFnbWVudExheW91dENvbnN0cmFpbnRzID0gW10uY29uY2F0KFxuICAgICAgY29sdW1uLmZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMsXG4gICAgKTtcbiAgICBpZiAobm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQpIHtcbiAgICAgIHRoaXMuaW5pdGlhbFN0YXRlT2ZGb3JtYXR0aW5nQ29udGV4dCA9IG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LnNhdmVTdGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHJlc3RvcmVTdGF0ZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsIGNvbHVtbjogTGF5b3V0LkNvbHVtbikge1xuICAgIGNvbHVtbi5icmVha1Bvc2l0aW9ucyA9IHRoaXMuaW5pdGlhbEJyZWFrUG9zaXRpb25zO1xuICAgIGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzID0gdGhpcy5pbml0aWFsRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cztcbiAgICBpZiAobm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQpIHtcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LnJlc3RvcmVTdGF0ZShcbiAgICAgICAgdGhpcy5pbml0aWFsU3RhdGVPZkZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IExheW91dFV0aWwgLSBVdGlsaXRpZXMgcmVsYXRlZCB0byBsYXlvdXQuXG4gKi9cbmltcG9ydCAqIGFzIEJyZWFrIGZyb20gXCIuL2JyZWFrXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFZ0cmVlSW1wbCBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0IHsgTGF5b3V0LCBWdHJlZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCB0eXBlIExheW91dEl0ZXJhdG9yU3RhdGUgPSB7XG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgYXRVbmZvcmNlZEJyZWFrOiBib29sZWFuO1xuICBicmVhazogYm9vbGVhbjtcbiAgbGVhZGluZ0VkZ2U/OiBib29sZWFuO1xuICBicmVha0F0VGhlRWRnZT86IHN0cmluZyB8IG51bGw7XG4gIG9uU3RhcnRFZGdlcz86IGJvb2xlYW47XG4gIGxlYWRpbmdFZGdlQ29udGV4dHM/OiBWdHJlZS5Ob2RlQ29udGV4dFtdO1xuICBsYXN0QWZ0ZXJOb2RlQ29udGV4dD86IFZ0cmVlLk5vZGVDb250ZXh0IHwgbnVsbDtcbn07XG5cbmV4cG9ydCBjbGFzcyBMYXlvdXRJdGVyYXRvclN0cmF0ZWd5IHtcbiAgaW5pdGlhbFN0YXRlKGluaXRpYWxOb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBMYXlvdXRJdGVyYXRvclN0YXRlIHtcbiAgICByZXR1cm4ge1xuICAgICAgbm9kZUNvbnRleHQ6IGluaXRpYWxOb2RlQ29udGV4dCxcbiAgICAgIGF0VW5mb3JjZWRCcmVhazogZmFsc2UsXG4gICAgICBicmVhazogZmFsc2UsXG4gICAgfTtcbiAgfVxuXG4gIHN0YXJ0Tm9uRGlzcGxheWFibGVOb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge31cblxuICBhZnRlck5vbkRpc3BsYXlhYmxlTm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgc3RhcnRJZ25vcmVkVGV4dE5vZGUoXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7fVxuXG4gIGFmdGVySWdub3JlZFRleHROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge31cblxuICBzdGFydE5vbkVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge31cblxuICBhZnRlck5vbkVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge31cblxuICBzdGFydElubGluZUVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge31cblxuICBhZnRlcklubGluZUVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge31cblxuICBzdGFydE5vbklubGluZUVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge31cblxuICBhZnRlck5vbklubGluZUVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge31cblxuICBmaW5pc2goc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUpOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge31cbn1cblxuZXhwb3J0IGNsYXNzIExheW91dEl0ZXJhdG9yIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSBzdHJhdGVneTogTGF5b3V0SXRlcmF0b3JTdHJhdGVneSxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxheW91dENvbnRleHQ6IFZ0cmVlLkxheW91dENvbnRleHQsXG4gICkge31cblxuICBpdGVyYXRlKFxuICAgIGluaXRpYWxOb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3Qgc3RyYXRlZ3kgPSB0aGlzLnN0cmF0ZWd5O1xuICAgIGNvbnN0IHN0YXRlID0gc3RyYXRlZ3kuaW5pdGlhbFN0YXRlKGluaXRpYWxOb2RlQ29udGV4dCk7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwiTGF5b3V0SXRlcmF0b3JcIixcbiAgICApO1xuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgIGxldCByOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgICAgIHdoaWxlIChzdGF0ZS5ub2RlQ29udGV4dCkge1xuICAgICAgICAgIGlmICghc3RhdGUubm9kZUNvbnRleHQudmlld05vZGUpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5ub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgICAgICAgICByID0gc3RyYXRlZ3kuYWZ0ZXJOb25EaXNwbGF5YWJsZU5vZGUoc3RhdGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgciA9IHN0cmF0ZWd5LnN0YXJ0Tm9uRGlzcGxheWFibGVOb2RlKHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLm5vZGVDb250ZXh0LnZpZXdOb2RlLm5vZGVUeXBlICE9PSAxKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIFZ0cmVlSW1wbC5jYW5JZ25vcmUoXG4gICAgICAgICAgICAgICAgc3RhdGUubm9kZUNvbnRleHQudmlld05vZGUsXG4gICAgICAgICAgICAgICAgc3RhdGUubm9kZUNvbnRleHQud2hpdGVzcGFjZSxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmIChzdGF0ZS5ub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgICAgICAgICAgIHIgPSBzdHJhdGVneS5hZnRlcklnbm9yZWRUZXh0Tm9kZShzdGF0ZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgciA9IHN0cmF0ZWd5LnN0YXJ0SWdub3JlZFRleHROb2RlKHN0YXRlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKHN0YXRlLm5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICAgICAgICAgICAgciA9IHN0cmF0ZWd5LmFmdGVyTm9uRWxlbWVudE5vZGUoc3RhdGUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHIgPSBzdHJhdGVneS5zdGFydE5vbkVsZW1lbnROb2RlKHN0YXRlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUubm9kZUNvbnRleHQuaW5saW5lKSB7XG4gICAgICAgICAgICAgIGlmIChzdGF0ZS5ub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgICAgICAgICAgIHIgPSBzdHJhdGVneS5hZnRlcklubGluZUVsZW1lbnROb2RlKHN0YXRlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByID0gc3RyYXRlZ3kuc3RhcnRJbmxpbmVFbGVtZW50Tm9kZShzdGF0ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChzdGF0ZS5ub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgICAgICAgICAgIHIgPSBzdHJhdGVneS5hZnRlck5vbklubGluZUVsZW1lbnROb2RlKHN0YXRlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByID0gc3RyYXRlZ3kuc3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZShzdGF0ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgY29udCA9IHIgJiYgci5pc1BlbmRpbmcoKSA/IHIgOiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgICBjb25zdCBuZXh0UmVzdWx0ID0gY29udC50aGVuQXN5bmMoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHN0YXRlLmJyZWFrKSB7XG4gICAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxheW91dENvbnRleHQubmV4dEluVHJlZShcbiAgICAgICAgICAgICAgc3RhdGUubm9kZUNvbnRleHQsXG4gICAgICAgICAgICAgIHN0YXRlLmF0VW5mb3JjZWRCcmVhayxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKG5leHRSZXN1bHQuaXNQZW5kaW5nKCkpIHtcbiAgICAgICAgICAgIG5leHRSZXN1bHQudGhlbigobmV4dE5vZGVDb250ZXh0KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChzdGF0ZS5icmVhaykge1xuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5ub2RlQ29udGV4dCA9IG5leHROb2RlQ29udGV4dDtcbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUuYnJlYWspIHtcbiAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUubm9kZUNvbnRleHQgPSBuZXh0UmVzdWx0LmdldCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdHJhdGVneS5maW5pc2goc3RhdGUpO1xuICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBmcmFtZS5maW5pc2goc3RhdGUubm9kZUNvbnRleHQpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFZGdlU2tpcHBlciBleHRlbmRzIExheW91dEl0ZXJhdG9yU3RyYXRlZ3kge1xuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgcmVhZG9ubHkgbGVhZGluZ0VkZ2U/OiBib29sZWFuKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHN0YXJ0Tm9uSW5saW5lQm94KHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgZW5kRW1wdHlOb25JbmxpbmVCb3goXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7fVxuXG4gIGVuZE5vbklubGluZUJveChzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7fVxuXG4gIGluaXRpYWxTdGF0ZShpbml0aWFsTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogTGF5b3V0SXRlcmF0b3JTdGF0ZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5vZGVDb250ZXh0OiBpbml0aWFsTm9kZUNvbnRleHQsXG4gICAgICBhdFVuZm9yY2VkQnJlYWs6ICEhdGhpcy5sZWFkaW5nRWRnZSAmJiBpbml0aWFsTm9kZUNvbnRleHQuYWZ0ZXIsXG4gICAgICBicmVhazogZmFsc2UsXG4gICAgICBsZWFkaW5nRWRnZTogdGhpcy5sZWFkaW5nRWRnZSxcbiAgICAgIGJyZWFrQXRUaGVFZGdlOiBudWxsLFxuICAgICAgb25TdGFydEVkZ2VzOiBmYWxzZSxcbiAgICAgIGxlYWRpbmdFZGdlQ29udGV4dHM6IFtdLFxuICAgICAgbGFzdEFmdGVyTm9kZUNvbnRleHQ6IG51bGwsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIFJldHVybnMgdHJ1ZSBpZiBhIGZvcmNlZCBicmVhayBvY2N1cnMuXG4gICAqL1xuICBwcm9jZXNzRm9yY2VkQnJlYWsoXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBib29sZWFuIHtcbiAgICBjb25zdCBuZWVkRm9yY2VkQnJlYWsgPVxuICAgICAgIXN0YXRlLmxlYWRpbmdFZGdlICYmIEJyZWFrLmlzRm9yY2VkQnJlYWtWYWx1ZShzdGF0ZS5icmVha0F0VGhlRWRnZSk7XG4gICAgaWYgKG5lZWRGb3JjZWRCcmVhaykge1xuICAgICAgY29uc3Qgbm9kZUNvbnRleHQgPSAoc3RhdGUubm9kZUNvbnRleHQgPVxuICAgICAgICBzdGF0ZS5sZWFkaW5nRWRnZUNvbnRleHRzWzBdIHx8IHN0YXRlLm5vZGVDb250ZXh0KTtcbiAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZUNvbnRleHQudmlld05vZGUpO1xuICAgICAgY29sdW1uLnBhZ2VCcmVha1R5cGUgPSBzdGF0ZS5icmVha0F0VGhlRWRnZTtcbiAgICB9XG4gICAgcmV0dXJuIG5lZWRGb3JjZWRCcmVhaztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIFJldHVybnMgdHJ1ZSBpZiB0aGUgbm9kZSBvdmVyZmxvd3MgdGhlIGNvbHVtbi5cbiAgICovXG4gIHNhdmVFZGdlQW5kUHJvY2Vzc092ZXJmbG93KFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgb3ZlcmZsb3cgPSBjb2x1bW4uY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlQW5kQnJlYWtQb3NpdGlvbihcbiAgICAgIHN0YXRlLmxhc3RBZnRlck5vZGVDb250ZXh0LFxuICAgICAgbnVsbCxcbiAgICAgIHRydWUsXG4gICAgICBzdGF0ZS5icmVha0F0VGhlRWRnZSxcbiAgICApO1xuICAgIGlmIChvdmVyZmxvdykge1xuICAgICAgc3RhdGUubm9kZUNvbnRleHQgPSAoXG4gICAgICAgIHN0YXRlLmxhc3RBZnRlck5vZGVDb250ZXh0IHx8IHN0YXRlLm5vZGVDb250ZXh0XG4gICAgICApLm1vZGlmeSgpO1xuICAgICAgc3RhdGUubm9kZUNvbnRleHQub3ZlcmZsb3cgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gb3ZlcmZsb3c7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgUmV0dXJucyB0cnVlIGlmIHRoZSBsYXlvdXQgY29uc3RyYWludCBpcyB2aW9sYXRlZC5cbiAgICovXG4gIHByb2Nlc3NMYXlvdXRDb25zdHJhaW50KFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICAgIGxheW91dENvbnN0cmFpbnQ6IExheW91dC5MYXlvdXRDb25zdHJhaW50LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogYm9vbGVhbiB7XG4gICAgbGV0IG5vZGVDb250ZXh0ID0gc3RhdGUubm9kZUNvbnRleHQ7XG4gICAgY29uc3QgdmlvbGF0ZUNvbnN0cmFpbnQgPSAhbGF5b3V0Q29uc3RyYWludC5hbGxvd0xheW91dChub2RlQ29udGV4dCk7XG4gICAgaWYgKHZpb2xhdGVDb25zdHJhaW50KSB7XG4gICAgICBjb2x1bW4uY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlQW5kQnJlYWtQb3NpdGlvbihcbiAgICAgICAgc3RhdGUubGFzdEFmdGVyTm9kZUNvbnRleHQsXG4gICAgICAgIG51bGwsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBzdGF0ZS5icmVha0F0VGhlRWRnZSxcbiAgICAgICk7XG4gICAgICBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQubW9kaWZ5KCk7XG4gICAgICBub2RlQ29udGV4dC5vdmVyZmxvdyA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB2aW9sYXRlQ29uc3RyYWludDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Tm9uRWxlbWVudE5vZGUoc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUpOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIHN0YXRlLm9uU3RhcnRFZGdlcyA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBzdGF0ZS5sZWFkaW5nRWRnZUNvbnRleHRzLnB1c2goc3RhdGUubm9kZUNvbnRleHQuY29weSgpKTtcbiAgICBzdGF0ZS5icmVha0F0VGhlRWRnZSA9IEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgc3RhdGUuYnJlYWtBdFRoZUVkZ2UsXG4gICAgICBzdGF0ZS5ub2RlQ29udGV4dC5icmVha0JlZm9yZSxcbiAgICApO1xuICAgIHN0YXRlLm9uU3RhcnRFZGdlcyA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXMuc3RhcnROb25JbmxpbmVCb3goc3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWZ0ZXJOb25JbmxpbmVFbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBsZXQgcjogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+O1xuICAgIGxldCBjb250OiBUYXNrLlJlc3VsdDxib29sZWFuPjtcbiAgICBpZiAoc3RhdGUub25TdGFydEVkZ2VzKSB7XG4gICAgICByID0gdGhpcy5lbmRFbXB0eU5vbklubGluZUJveChzdGF0ZSk7XG4gICAgICBjb250ID0gciAmJiByLmlzUGVuZGluZygpID8gciA6IFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgY29udCA9IGNvbnQudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgICAgaWYgKCFzdGF0ZS5icmVhaykge1xuICAgICAgICAgIHN0YXRlLmxlYWRpbmdFZGdlQ29udGV4dHMgPSBbXTtcbiAgICAgICAgICBzdGF0ZS5sZWFkaW5nRWRnZSA9IGZhbHNlO1xuICAgICAgICAgIHN0YXRlLmF0VW5mb3JjZWRCcmVhayA9IGZhbHNlO1xuICAgICAgICAgIHN0YXRlLmJyZWFrQXRUaGVFZGdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgciA9IHRoaXMuZW5kTm9uSW5saW5lQm94KHN0YXRlKTtcbiAgICAgIGNvbnQgPSByICYmIHIuaXNQZW5kaW5nKCkgPyByIDogVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBjb250LnRoZW5Bc3luYygoKSA9PiB7XG4gICAgICBpZiAoIXN0YXRlLmJyZWFrKSB7XG4gICAgICAgIHN0YXRlLm9uU3RhcnRFZGdlcyA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5sYXN0QWZ0ZXJOb2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0LmNvcHkoKTtcbiAgICAgICAgc3RhdGUuYnJlYWtBdFRoZUVkZ2UgPSBCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgICAgICAgICBzdGF0ZS5icmVha0F0VGhlRWRnZSxcbiAgICAgICAgICBzdGF0ZS5ub2RlQ29udGV4dC5icmVha0FmdGVyLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH0pO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgU2hhcmVkIC0gR2xvYmFsIHZhcmlhYmxlcyBvZiBWaXZsaW9zdHlsZS5qc1xuICovXG5pbXBvcnQgeyBSZXBldGl0aXZlRWxlbWVudCB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBsZXQgcmVwZXRpdGl2ZUVsZW1lbnRzQ2FjaGU6IHtcbiAgcm9vdDogRWxlbWVudDtcbiAgZWxlbWVudHM6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50cztcbn1bXSA9IFtdO1xuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJSZXBldGl0aXZlRWxlbWVudHNDYWNoZSgpOiB2b2lkIHtcbiAgcmVwZXRpdGl2ZUVsZW1lbnRzQ2FjaGUgPSBbXTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBQc2V1ZG9FbGVtZW50IC0gQ1NTIHBzZXVkbyBlbGVtZW50cy5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NDYXNjYWRlIGZyb20gXCIuL2Nzcy1jYXNjYWRlXCI7XG5pbXBvcnQgKiBhcyBDc3NTdHlsZXIgZnJvbSBcIi4vY3NzLXN0eWxlclwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIFZ0cmVlIGZyb20gXCIuL3Z0cmVlXCI7XG5pbXBvcnQgeyBQc2V1ZG9FbGVtZW50IH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IGRvY3VtZW50ID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhcbiAgYDxyb290IHhtbG5zPVwiJHtCYXNlLk5TLlNIQURPV31cIi8+YCxcbiAgXCJ0ZXh0L3htbFwiLFxuKTtcblxuLyoqXG4gKiBQc2V1ZG9lbGVtZW50IG5hbWVzIGluIHRoZSBvcmRlciB0aGV5IHNob3VsZCBiZSBpbnNlcnRlZCBpbiB0aGUgc2hhZG93IERPTSxcbiAqIGVtcHR5IHN0cmluZyBpcyB0aGUgcGxhY2Ugd2hlcmUgdGhlIGVsZW1lbnQncyBET00gY2hpbGRyZW4gYXJlIHByb2Nlc3NlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHBzZXVkb05hbWVzID0gW1xuICBcImZvb3Rub3RlLW1hcmtlclwiLFxuICBcImZpcnN0LTUtbGluZXNcIixcbiAgXCJmaXJzdC00LWxpbmVzXCIsXG4gIFwiZmlyc3QtMy1saW5lc1wiLFxuICBcImZpcnN0LTItbGluZXNcIixcbiAgXCJmaXJzdC1saW5lXCIsXG4gIFwiZmlyc3QtbGV0dGVyXCIsXG4gIFwiYmVmb3JlXCIsXG4gIFwiXCIsXG4gIC8qIGNvbnRlbnQgKi9cbiAgXCJhZnRlclwiLFxuXTtcblxuZXhwb3J0IGNvbnN0IFBTRVVET19BVFRSID0gXCJkYXRhLWFkYXB0LXBzZXVkb1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHNldWRvTmFtZShlbGVtZW50OiBFbGVtZW50KTogc3RyaW5nIHtcbiAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFBTRVVET19BVFRSKSB8fCBcIlwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0UHNldWRvTmFtZShlbGVtZW50OiBFbGVtZW50LCBuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoUFNFVURPX0FUVFIsIG5hbWUpO1xufVxuXG5leHBvcnQgY2xhc3MgUHNldWRvZWxlbWVudFN0eWxlciBpbXBsZW1lbnRzIFBzZXVkb0VsZW1lbnQuUHNldWRvZWxlbWVudFN0eWxlciB7XG4gIGNvbnRlbnRQcm9jZXNzZWQ6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge307XG5cbiAgLy8gYWZ0ZXIgY29udGVudDogdXBkYXRlIHN0eWxlXG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgcHVibGljIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBwdWJsaWMgc3R5bGVyOiBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IGV4cHJDb250ZW50TGlzdGVuZXI6IFZ0cmVlLkV4cHJDb250ZW50TGlzdGVuZXIsXG4gICkge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRTdHlsZShlbGVtZW50OiBFbGVtZW50LCBkZWVwOiBib29sZWFuKTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUge1xuICAgIGNvbnN0IHBzZXVkb05hbWUgPSBnZXRQc2V1ZG9OYW1lKGVsZW1lbnQpO1xuICAgIGlmICh0aGlzLnN0eWxlciAmJiBwc2V1ZG9OYW1lICYmIHBzZXVkb05hbWUubWF0Y2goL2FmdGVyJC8pKSB7XG4gICAgICB0aGlzLnN0eWxlID0gdGhpcy5zdHlsZXIuZ2V0U3R5bGUodGhpcy5lbGVtZW50LCB0cnVlKTtcbiAgICAgIHRoaXMuc3R5bGVyID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcHNldWRvTWFwID0gQ3NzQ2FzY2FkZS5nZXRTdHlsZU1hcCh0aGlzLnN0eWxlLCBcIl9wc2V1ZG9zXCIpO1xuICAgIGNvbnN0IHN0eWxlID0gcHNldWRvTWFwW3BzZXVkb05hbWVdIHx8ICh7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSk7XG4gICAgaWYgKHBzZXVkb05hbWUubWF0Y2goL15maXJzdC0vKSAmJiAhc3R5bGVbXCJ4LWZpcnN0LXBzZXVkb1wiXSkge1xuICAgICAgbGV0IG5lc3QgPSAxO1xuICAgICAgbGV0IHI6IFJlZ0V4cE1hdGNoQXJyYXk7XG4gICAgICBpZiAocHNldWRvTmFtZSA9PSBcImZpcnN0LWxldHRlclwiKSB7XG4gICAgICAgIG5lc3QgPSAwO1xuICAgICAgfSBlbHNlIGlmICgociA9IHBzZXVkb05hbWUubWF0Y2goL15maXJzdC0oWzAtOV0rKS1saW5lcyQvKSkgIT0gbnVsbCkge1xuICAgICAgICBuZXN0ID0gKHJbMV0gYXMgYW55KSAtIDA7XG4gICAgICB9XG4gICAgICBzdHlsZVtcIngtZmlyc3QtcHNldWRvXCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgICBuZXcgQ3NzLkludChuZXN0KSxcbiAgICAgICAgMCxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHByb2Nlc3NDb250ZW50KGVsZW1lbnQ6IEVsZW1lbnQsIHN0eWxlczogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0pIHtcbiAgICBjb25zdCBwc2V1ZG9OYW1lID0gZ2V0UHNldWRvTmFtZShlbGVtZW50KTtcbiAgICBpZiAoIXRoaXMuY29udGVudFByb2Nlc3NlZFtwc2V1ZG9OYW1lXSkge1xuICAgICAgdGhpcy5jb250ZW50UHJvY2Vzc2VkW3BzZXVkb05hbWVdID0gdHJ1ZTtcbiAgICAgIGNvbnN0IGNvbnRlbnRWYWwgPSBzdHlsZXNbXCJjb250ZW50XCJdO1xuICAgICAgaWYgKGNvbnRlbnRWYWwpIHtcbiAgICAgICAgaWYgKFZ0cmVlLm5vblRyaXZpYWxDb250ZW50KGNvbnRlbnRWYWwpKSB7XG4gICAgICAgICAgY29udGVudFZhbC52aXNpdChcbiAgICAgICAgICAgIG5ldyBWdHJlZS5Db250ZW50UHJvcGVydHlIYW5kbGVyKFxuICAgICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgICB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICAgIGNvbnRlbnRWYWwsXG4gICAgICAgICAgICAgIHRoaXMuZXhwckNvbnRlbnRMaXN0ZW5lcixcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBMYXlvdXQgLSBGaWxscyBhIGNvbHVtbiB3aXRoIHN0eWxlZCBjb250ZW50LlxuICogVGhpcyBmaWxlIGRvZXMgbm90IGNvbW11bmljYXRlIHdpdGggdGhlIHN0eWxpbmcgc3lzdGVtIGRpcmVjdGx5LlxuICogSW5zdGVhZCBpdCBnb2VzIHRocm91Z2ggdGhlIGxheW91dCBpbnRlcmZhY2UgdGhhdCBnaXZlcyBpdCBvbmUgdmlldyB0cmVlXG4gKiBub2RlIGF0IGEgdGltZS5cbiAqL1xuaW1wb3J0ICogYXMgTGF5b3V0UmV0cnllcnMgZnJvbSBcIi4vbGF5b3V0LXJldHJ5ZXJzXCI7XG5pbXBvcnQgKiBhcyBBc3NlcnRzIGZyb20gXCIuL2Fzc2VydHNcIjtcbmltcG9ydCAqIGFzIFNoYXJlZCBmcm9tIFwiLi9zaGFyZWRcIjtcbmltcG9ydCAqIGFzIFNpemluZyBmcm9tIFwiLi9zaXppbmdcIjtcbmltcG9ydCAqIGFzIEJyZWFrIGZyb20gXCIuL2JyZWFrXCI7XG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL2xvZ2dpbmdcIjtcbmltcG9ydCAqIGFzIERpZmYgZnJvbSBcIi4vZGlmZlwiO1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBCcmVha1Bvc2l0aW9uIGZyb20gXCIuL2JyZWFrLXBvc2l0aW9uXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBHZW9tZXRyeVV0aWwgZnJvbSBcIi4vZ2VvbWV0cnktdXRpbFwiO1xuaW1wb3J0ICogYXMgTGF5b3V0SGVscGVyIGZyb20gXCIuL2xheW91dC1oZWxwZXJcIjtcbmltcG9ydCAqIGFzIExheW91dFByb2Nlc3NvciBmcm9tIFwiLi9sYXlvdXQtcHJvY2Vzc29yXCI7XG5pbXBvcnQgKiBhcyBQYWdlRmxvYXRzIGZyb20gXCIuL3BhZ2UtZmxvYXRzXCI7XG5pbXBvcnQgKiBhcyBQbHVnaW4gZnJvbSBcIi4vcGx1Z2luXCI7XG5pbXBvcnQgKiBhcyBNYXRjaGVycyBmcm9tIFwiLi9tYXRjaGVyc1wiO1xuaW1wb3J0ICogYXMgUHNldWRvRWxlbWVudCBmcm9tIFwiLi9wc2V1ZG8tZWxlbWVudFwiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBWZ2VuIGZyb20gXCIuL3ZnZW5cIjtcbmltcG9ydCAqIGFzIFZ0cmVlSW1wbCBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0IHtcbiAgRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50VHlwZSxcbiAgTGF5b3V0LFxuICBSZXBldGl0aXZlRWxlbWVudCxcbiAgU2VsZWN0b3JzLFxuICBUYWJsZSxcbiAgVnRyZWUsXG59IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBpc0luc3RhbmNlT2ZBZnRlcklmQ29udGludWVzTGF5b3V0Q29uc3RyYWludCA9XG4gIFNlbGVjdG9ycy5pc0luc3RhbmNlT2ZBZnRlcklmQ29udGludWVzTGF5b3V0Q29uc3RyYWludDtcbmV4cG9ydCBjb25zdCByZWdpc3RlckZyYWdtZW50SW5kZXggPVxuICBNYXRjaGVycy5OdGhGcmFnbWVudE1hdGNoZXIucmVnaXN0ZXJGcmFnbWVudEluZGV4O1xuZXhwb3J0IGNvbnN0IGNsZWFyRnJhZ21lbnRJbmRpY2VzID1cbiAgTWF0Y2hlcnMuTnRoRnJhZ21lbnRNYXRjaGVyLmNsZWFyRnJhZ21lbnRJbmRpY2VzO1xuXG5leHBvcnQgY2xhc3MgQWZ0ZXJJZkNvbnRpbnVlcyBpbXBsZW1lbnRzIFNlbGVjdG9ycy5BZnRlcklmQ29udGludWVzIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHNvdXJjZU5vZGU6IEVsZW1lbnQsXG4gICAgcHVibGljIHJlYWRvbmx5IHN0eWxlcjogUHNldWRvRWxlbWVudC5Qc2V1ZG9lbGVtZW50U3R5bGVyLFxuICApIHt9XG5cbiAgY3JlYXRlRWxlbWVudChcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgcGFyZW50Tm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxFbGVtZW50PiB7XG4gICAgY29uc3QgZG9jID0gcGFyZW50Tm9kZUNvbnRleHQudmlld05vZGUub3duZXJEb2N1bWVudDtcbiAgICBjb25zdCB2aWV3Um9vdCA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IHBzZXVkb0NvbHVtbiA9IG5ldyBQc2V1ZG9Db2x1bW4oY29sdW1uLCB2aWV3Um9vdCwgcGFyZW50Tm9kZUNvbnRleHQpO1xuICAgIGNvbnN0IGluaXRpYWxQYWdlQnJlYWtUeXBlID0gcHNldWRvQ29sdW1uLmdldENvbHVtbigpLnBhZ2VCcmVha1R5cGU7XG4gICAgcHNldWRvQ29sdW1uLmdldENvbHVtbigpLnBhZ2VCcmVha1R5cGUgPSBudWxsO1xuICAgIHJldHVybiBwc2V1ZG9Db2x1bW5cbiAgICAgIC5sYXlvdXQodGhpcy5jcmVhdGVOb2RlUG9zaXRpb25Gb3JQc2V1ZG9FbGVtZW50KCksIHRydWUpXG4gICAgICAudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgICAgdGhpcy5zdHlsZXIuY29udGVudFByb2Nlc3NlZFtcImFmdGVyLWlmLWNvbnRpbnVlc1wiXSA9IGZhbHNlO1xuICAgICAgICBwc2V1ZG9Db2x1bW4uZ2V0Q29sdW1uKCkucGFnZUJyZWFrVHlwZSA9IGluaXRpYWxQYWdlQnJlYWtUeXBlO1xuICAgICAgICBjb25zdCBwc2V1ZG9FbGVtZW50ID0gdmlld1Jvb3QuZmlyc3RDaGlsZCBhcyBFbGVtZW50O1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHBzZXVkb0VsZW1lbnQsIFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQocHNldWRvRWxlbWVudCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlTm9kZVBvc2l0aW9uRm9yUHNldWRvRWxlbWVudCgpOiBWdHJlZS5DaHVua1Bvc2l0aW9uIHtcbiAgICBjb25zdCBzb3VyY2VOb2RlID0gUHNldWRvRWxlbWVudC5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICBCYXNlLk5TLlhIVE1MLFxuICAgICAgXCJkaXZcIixcbiAgICApO1xuICAgIFBzZXVkb0VsZW1lbnQuc2V0UHNldWRvTmFtZShzb3VyY2VOb2RlLCBcImFmdGVyLWlmLWNvbnRpbnVlc1wiKTtcbiAgICBjb25zdCBzaGFkb3dDb250ZXh0ID0gdGhpcy5jcmVhdGVTaGFkb3dDb250ZXh0KHNvdXJjZU5vZGUpO1xuICAgIGNvbnN0IHN0ZXAgPSB7XG4gICAgICBub2RlOiBzb3VyY2VOb2RlLFxuICAgICAgc2hhZG93VHlwZTogc2hhZG93Q29udGV4dC50eXBlLFxuICAgICAgc2hhZG93Q29udGV4dCxcbiAgICAgIG5vZGVTaGFkb3c6IG51bGwsXG4gICAgICBzaGFkb3dTaWJsaW5nOiBudWxsLFxuICAgIH07XG4gICAgY29uc3Qgbm9kZVBvc2l0aW9uID0ge1xuICAgICAgc3RlcHM6IFtzdGVwXSxcbiAgICAgIG9mZnNldEluTm9kZTogMCxcbiAgICAgIGFmdGVyOiBmYWxzZSxcbiAgICAgIHByZXByb2Nlc3NlZFRleHRDb250ZW50OiBudWxsLFxuICAgIH07XG4gICAgcmV0dXJuIG5ldyBWdHJlZUltcGwuQ2h1bmtQb3NpdGlvbihub2RlUG9zaXRpb24gYXMgYW55KTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlU2hhZG93Q29udGV4dChyb290OiBFbGVtZW50KTogVnRyZWUuU2hhZG93Q29udGV4dCB7XG4gICAgcmV0dXJuIG5ldyBWdHJlZUltcGwuU2hhZG93Q29udGV4dChcbiAgICAgIHRoaXMuc291cmNlTm9kZSxcbiAgICAgIHJvb3QsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICBWdHJlZS5TaGFkb3dUeXBlLlJPT1RFRCxcbiAgICAgIHRoaXMuc3R5bGVyLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFmdGVySWZDb250aW51ZXNMYXlvdXRDb25zdHJhaW50XG4gIGltcGxlbWVudHMgU2VsZWN0b3JzLkFmdGVySWZDb250aW51ZXNMYXlvdXRDb25zdHJhaW50IHtcbiAgZmxhZ21lbnRMYXlvdXRDb25zdHJhaW50VHlwZTogRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50VHlwZSA9XG4gICAgXCJBZnRlcklmQ29udGludWVcIjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHB1YmxpYyBhZnRlcklmQ29udGludWVzOiBTZWxlY3RvcnMuQWZ0ZXJJZkNvbnRpbnVlcyxcbiAgICBwdWJsaWMgcHNldWRvRWxlbWVudEhlaWdodDogbnVtYmVyLFxuICApIHt9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhbGxvd0xheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgb3ZlcmZsb3duTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKFxuICAgICAgKG92ZXJmbG93bk5vZGVDb250ZXh0ICYmICFub2RlQ29udGV4dCkgfHxcbiAgICAgIChub2RlQ29udGV4dCAmJiBub2RlQ29udGV4dC5vdmVyZmxvdylcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBuZXh0Q2FuZGlkYXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcG9zdExheW91dChcbiAgICBhbGxvd2VkOiBib29sZWFuLFxuICAgIHBvc2l0aW9uQWZ0ZXI6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApIHt9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBmaW5pc2hCcmVhayhcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgaWYgKCF0aGlzLmdldFJlcGV0aXRpdmVFbGVtZW50cygpLmFmZmVjdFRvKG5vZGVDb250ZXh0KSkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hZnRlcklmQ29udGludWVzXG4gICAgICAuY3JlYXRlRWxlbWVudChjb2x1bW4sIHRoaXMubm9kZUNvbnRleHQpXG4gICAgICAudGhlbkFzeW5jKChlbGVtZW50KSA9PiB7XG4gICAgICAgIHRoaXMubm9kZUNvbnRleHQudmlld05vZGUuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCkge1xuICAgIHJldHVybiBuZXcgQWZ0ZXJJZkNvbnRpbnVlc0VsZW1lbnRzT2Zmc2V0KFxuICAgICAgdGhpcy5ub2RlQ29udGV4dCxcbiAgICAgIHRoaXMucHNldWRvRWxlbWVudEhlaWdodCxcbiAgICApO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBlcXVhbHNUbyhjb25zdHJhaW50OiBMYXlvdXQuRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50KTogYm9vbGVhbiB7XG4gICAgaWYgKCEoY29uc3RyYWludCBpbnN0YW5jZW9mIEFmdGVySWZDb250aW51ZXNMYXlvdXRDb25zdHJhaW50KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5hZnRlcklmQ29udGludWVzID09XG4gICAgICAoY29uc3RyYWludCBhcyBBZnRlcklmQ29udGludWVzTGF5b3V0Q29uc3RyYWludCkuYWZ0ZXJJZkNvbnRpbnVlc1xuICAgICk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGdldFByaW9yaXR5T2ZGaW5pc2hCcmVhaygpOiBudW1iZXIge1xuICAgIHJldHVybiA5O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBZnRlcklmQ29udGludWVzRWxlbWVudHNPZmZzZXRcbiAgaW1wbGVtZW50cyBTZWxlY3RvcnMuQWZ0ZXJJZkNvbnRpbnVlc0VsZW1lbnRzT2Zmc2V0IHtcbiAgY29uc3RydWN0b3IocHVibGljIG5vZGVDb250ZXh0LCBwdWJsaWMgcHNldWRvRWxlbWVudEhlaWdodCkge31cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNhbGN1bGF0ZU9mZnNldChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBudW1iZXIge1xuICAgIGlmICghdGhpcy5hZmZlY3RUbyhub2RlQ29udGV4dCkpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wc2V1ZG9FbGVtZW50SGVpZ2h0O1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBjYWxjdWxhdGVNaW5pbXVtT2Zmc2V0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlT2Zmc2V0KG5vZGVDb250ZXh0KTtcbiAgfVxuXG4gIGFmZmVjdFRvKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGlmICghbm9kZUNvbnRleHQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3Qgc291cmNlTm9kZSA9IG5vZGVDb250ZXh0LnNoYWRvd0NvbnRleHRcbiAgICAgID8gbm9kZUNvbnRleHQuc2hhZG93Q29udGV4dC5vd25lclxuICAgICAgOiBub2RlQ29udGV4dC5zb3VyY2VOb2RlO1xuICAgIGlmIChzb3VyY2VOb2RlID09PSB0aGlzLm5vZGVDb250ZXh0LnNvdXJjZU5vZGUpIHtcbiAgICAgIHJldHVybiAhIW5vZGVDb250ZXh0LmFmdGVyO1xuICAgIH1cbiAgICBmb3IgKGxldCBuID0gc291cmNlTm9kZS5wYXJlbnROb2RlOyBuOyBuID0gbi5wYXJlbnROb2RlKSB7XG4gICAgICBpZiAobiA9PT0gdGhpcy5ub2RlQ29udGV4dC5zb3VyY2VOb2RlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0FmdGVySWZDb250aW51ZXNPZk5vZGVDb250ZXh0KFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbik6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gIGlmIChcbiAgICAhbm9kZUNvbnRleHQgfHxcbiAgICAhbm9kZUNvbnRleHQuYWZ0ZXJJZkNvbnRpbnVlcyB8fFxuICAgIG5vZGVDb250ZXh0LmFmdGVyIHx8XG4gICAgY29sdW1uLmlzRmxvYXROb2RlQ29udGV4dChub2RlQ29udGV4dClcbiAgKSB7XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG5vZGVDb250ZXh0KTtcbiAgfVxuICBjb25zdCBhZnRlcklmQ29udGludWVzID0gbm9kZUNvbnRleHQuYWZ0ZXJJZkNvbnRpbnVlcztcbiAgcmV0dXJuIGFmdGVySWZDb250aW51ZXNcbiAgICAuY3JlYXRlRWxlbWVudChjb2x1bW4sIG5vZGVDb250ZXh0KVxuICAgIC50aGVuQXN5bmMoKHBzZXVkb0VsZW1lbnQpID0+IHtcbiAgICAgIEFzc2VydHMuYXNzZXJ0KG5vZGVDb250ZXh0ICE9PSBudWxsKTtcbiAgICAgIGNvbnN0IHBzZXVkb0VsZW1lbnRIZWlnaHQgPSBjYWxjdWxhdGVQc2V1ZG9FbGVtZW50SGVpZ2h0KFxuICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgY29sdW1uLFxuICAgICAgICBwc2V1ZG9FbGVtZW50LFxuICAgICAgKTtcbiAgICAgIGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLnB1c2goXG4gICAgICAgIG5ldyBBZnRlcklmQ29udGludWVzTGF5b3V0Q29uc3RyYWludChcbiAgICAgICAgICBub2RlQ29udGV4dCBhcyBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgICAgICBhZnRlcklmQ29udGludWVzLFxuICAgICAgICAgIHBzZXVkb0VsZW1lbnRIZWlnaHQsXG4gICAgICAgICksXG4gICAgICApO1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG5vZGVDb250ZXh0KTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NBZnRlcklmQ29udGludWVzKFxuICByZXN1bHQ6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PixcbiAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgcmV0dXJuIHJlc3VsdC50aGVuQXN5bmMoKG5vZGVDb250ZXh0KSA9PlxuICAgIHByb2Nlc3NBZnRlcklmQ29udGludWVzT2ZOb2RlQ29udGV4dChub2RlQ29udGV4dCwgY29sdW1uKSxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NBZnRlcklmQ29udGludWVzT2ZBbmNlc3RvcnMoXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXG4gICAgXCJwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlc09mQW5jZXN0b3JzXCIsXG4gICk7XG4gIGxldCBjdXJyZW50OiBWdHJlZS5Ob2RlQ29udGV4dCA9IG5vZGVDb250ZXh0O1xuICBmcmFtZVxuICAgIC5sb29wKCgpID0+IHtcbiAgICAgIGlmIChjdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHByb2Nlc3NBZnRlcklmQ29udGludWVzT2ZOb2RlQ29udGV4dChjdXJyZW50LCBjb2x1bW4pO1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgICAgIHJldHVybiByZXN1bHQudGhlblJldHVybih0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChmYWxzZSk7XG4gICAgICB9XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgfSk7XG4gIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVBzZXVkb0VsZW1lbnRIZWlnaHQoXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICBwc2V1ZG9FbGVtZW50OiBFbGVtZW50LFxuKTogbnVtYmVyIHtcbiAgY29uc3QgcGFyZW50Tm9kZSA9IG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQocHNldWRvRWxlbWVudCk7XG4gIGNvbnN0IGhlaWdodCA9IExheW91dEhlbHBlci5nZXRFbGVtZW50SGVpZ2h0KFxuICAgIHBzZXVkb0VsZW1lbnQsXG4gICAgY29sdW1uLFxuICAgIG5vZGVDb250ZXh0LnZlcnRpY2FsLFxuICApO1xuICBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKHBzZXVkb0VsZW1lbnQpO1xuICByZXR1cm4gaGVpZ2h0O1xufVxuXG5leHBvcnQgY29uc3QgbWVkaWFUYWdzID0ge1xuICBpbWc6IHRydWUsXG4gIHN2ZzogdHJ1ZSxcbiAgYXVkaW86IHRydWUsXG4gIHZpZGVvOiB0cnVlLFxufTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgY29uc3RyYWludCBvbiBsYXlvdXRcbiAqL1xuZXhwb3J0IHR5cGUgTGF5b3V0Q29uc3RyYWludCA9IExheW91dC5MYXlvdXRDb25zdHJhaW50O1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBjb25zdHJhaW50IHRoYXQgYWxsb3dzIGxheW91dCBpZiBhbGwgdGhlIGNvbnN0cmFpbnRzIGl0IGNvbnRhaW5zXG4gKiBhbGxvdyBsYXlvdXQuXG4gKi9cbmV4cG9ydCBjbGFzcyBBbGxMYXlvdXRDb25zdHJhaW50IGltcGxlbWVudHMgTGF5b3V0Q29uc3RyYWludCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBjb25zdHJhaW50czogTGF5b3V0Q29uc3RyYWludFtdKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFsbG93TGF5b3V0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnRzLmV2ZXJ5KChjKSA9PiBjLmFsbG93TGF5b3V0KG5vZGVDb250ZXh0KSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGNvbnN0cmFpbnRzIG9uIGxheWluZyBvdXQgZnJhZ21lbnRzXG4gKi9cbmV4cG9ydCB0eXBlIEZyYWdtZW50TGF5b3V0Q29uc3RyYWludCA9IExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnQ7XG5cbmV4cG9ydCB0eXBlIEJyZWFrUG9zaXRpb25BbmROb2RlQ29udGV4dCA9IExheW91dC5CcmVha1Bvc2l0aW9uQW5kTm9kZUNvbnRleHQ7XG5cbi8qKlxuICogUG90ZW50aWFsIGJyZWFraW5nIHBvc2l0aW9uIGluc2lkZSBDU1MgYm94IChiZXR3ZWVuIGxpbmVzKS5cbiAqIEBwYXJhbSBjaGVja1BvaW50cyBhcnJheSBvZiBicmVha2luZyBwb2ludHMgZm9yIGJyZWFrYWJsZSBibG9ja1xuICovXG5leHBvcnQgY2xhc3MgQm94QnJlYWtQb3NpdGlvbiBleHRlbmRzIEJyZWFrUG9zaXRpb24uQWJzdHJhY3RCcmVha1Bvc2l0aW9uXG4gIGltcGxlbWVudHMgTGF5b3V0LkJveEJyZWFrUG9zaXRpb24ge1xuICBwcml2YXRlIGFscmVhZHlFdmFsdWF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgYnJlYWtOb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGVuYWx0eTogbnVtYmVyLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZmluZEFjY2VwdGFibGVCcmVhayhjb2x1bW46IENvbHVtbiwgcGVuYWx0eTogbnVtYmVyKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIGlmIChwZW5hbHR5IDwgdGhpcy5nZXRNaW5CcmVha1BlbmFsdHkoKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICghdGhpcy5hbHJlYWR5RXZhbHVhdGVkKSB7XG4gICAgICB0aGlzLmJyZWFrTm9kZUNvbnRleHQgPSBjb2x1bW4uZmluZEJveEJyZWFrUG9zaXRpb24odGhpcywgcGVuYWx0eSA+IDApO1xuICAgICAgdGhpcy5hbHJlYWR5RXZhbHVhdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYnJlYWtOb2RlQ29udGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE1pbkJyZWFrUGVuYWx0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnBlbmFsdHk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGdldE5vZGVDb250ZXh0KCk6IFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgICByZXR1cm4gdGhpcy5hbHJlYWR5RXZhbHVhdGVkXG4gICAgICA/IHRoaXMuYnJlYWtOb2RlQ29udGV4dFxuICAgICAgOiB0aGlzLmNoZWNrUG9pbnRzW3RoaXMuY2hlY2tQb2ludHMubGVuZ3RoIC0gMV07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQ2hlY2tQb2ludHMoY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10pOiB2b2lkIHtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBjaGVja1BvaW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNwMCA9IGNoZWNrUG9pbnRzW2kgLSAxXTtcbiAgICBjb25zdCBjcDEgPSBjaGVja1BvaW50c1tpXTtcbiAgICBpZiAoY3AwID09PSBjcDEpIHtcbiAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJ2YWxpZGF0ZUNoZWNrUG9pbnRzOiBkdXBsaWNhdGUgZW50cnlcIik7XG4gICAgfSBlbHNlIGlmIChjcDAuYm94T2Zmc2V0ID49IGNwMS5ib3hPZmZzZXQpIHtcbiAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJ2YWxpZGF0ZUNoZWNrUG9pbnRzOiBpbmNvcnJlY3QgYm94T2Zmc2V0XCIpO1xuICAgIH0gZWxzZSBpZiAoY3AwLnNvdXJjZU5vZGUgPT0gY3AxLnNvdXJjZU5vZGUpIHtcbiAgICAgIGlmIChjcDEuYWZ0ZXIpIHtcbiAgICAgICAgaWYgKGNwMC5hZnRlcikge1xuICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJ2YWxpZGF0ZUNoZWNrUG9pbnRzOiBkdXBsaWNhdGUgYWZ0ZXIgcG9pbnRzXCIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWNwMC5hZnRlcikge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNwMS5ib3hPZmZzZXQgLSBjcDAuYm94T2Zmc2V0ICE9XG4gICAgICAgICAgICBjcDEub2Zmc2V0SW5Ob2RlIC0gY3AwLm9mZnNldEluTm9kZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcbiAgICAgICAgICAgICAgXCJ2YWxpZGF0ZUNoZWNrUG9pbnRzOiBib3hPZmZzZXQgaW5jb25zaXN0ZW50IHdpdGggb2Zmc2V0SW5Ob2RlXCIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTcGVjaWFsSW5saW5lRGlzcGxheShkaXNwbGF5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgc3dpdGNoIChkaXNwbGF5KSB7XG4gICAgY2FzZSBcInJ1YnlcIjpcbiAgICBjYXNlIFwiaW5saW5lLWJsb2NrXCI6XG4gICAgY2FzZSBcImlubGluZS1mbGV4XCI6XG4gICAgY2FzZSBcImlubGluZS1ncmlkXCI6XG4gICAgY2FzZSBcImlubGluZS1saXN0LWl0ZW1cIjpcbiAgICBjYXNlIFwiaW5saW5lLXRhYmxlXCI6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBjbGFzcyBDb2x1bW4gZXh0ZW5kcyBWdHJlZUltcGwuQ29udGFpbmVyIGltcGxlbWVudHMgTGF5b3V0LkNvbHVtbiB7XG4gIGxhc3Q6IE5vZGU7XG4gIHZpZXdEb2N1bWVudDogRG9jdW1lbnQ7XG4gIGZsb3dSb290Rm9ybWF0dGluZ0NvbnRleHQ6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0ID0gbnVsbDtcbiAgaXNGbG9hdDogYm9vbGVhbiA9IGZhbHNlO1xuICBpc0Zvb3Rub3RlOiBib29sZWFuID0gZmFsc2U7XG4gIHN0YXJ0RWRnZTogbnVtYmVyID0gMDtcbiAgZW5kRWRnZTogbnVtYmVyID0gMDtcbiAgYmVmb3JlRWRnZTogbnVtYmVyID0gMDtcbiAgYWZ0ZXJFZGdlOiBudW1iZXIgPSAwO1xuICBmb290bm90ZUVkZ2U6IG51bWJlciA9IDA7XG4gIGJveDogR2VvbWV0cnlVdGlsLlJlY3QgPSBudWxsO1xuICBjaHVua1Bvc2l0aW9uczogVnRyZWUuQ2h1bmtQb3NpdGlvbltdID0gbnVsbDtcbiAgYmFuZHM6IEdlb21ldHJ5VXRpbC5CYW5kW10gPSBudWxsO1xuICBvdmVyZmxvd246IGJvb2xlYW4gPSBmYWxzZTtcbiAgYnJlYWtQb3NpdGlvbnM6IEJyZWFrUG9zaXRpb24uQnJlYWtQb3NpdGlvbltdID0gbnVsbDtcbiAgcGFnZUJyZWFrVHlwZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGZvcmNlTm9uZml0dGluZzogYm9vbGVhbiA9IHRydWU7XG4gIGxlZnRGbG9hdEVkZ2U6IG51bWJlciA9IDA7IC8vIGJvdHRvbSBvZiB0aGUgYm90dG9tbW9zdCBsZWZ0IGZsb2F0XG4gIHJpZ2h0RmxvYXRFZGdlOiBudW1iZXIgPSAwOyAvLyBib3R0b20gb2YgdGhlIGJvdHRvbW1vc3QgcmlnaHQgZmxvYXRcbiAgYm90dG9tbW9zdEZsb2F0VG9wOiBudW1iZXIgPSAwOyAvLyBUb3Agb2YgdGhlIGJvdHRvbW1vc3QgZmxvYXRcbiAgc3RvcEF0T3ZlcmZsb3c6IGJvb2xlYW4gPSB0cnVlO1xuICBsYXN0QWZ0ZXJQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uIHwgbnVsbCA9IG51bGw7XG4gIGZyYWdtZW50TGF5b3V0Q29uc3RyYWludHM6IEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFtdID0gW107XG4gIHBzZXVkb1BhcmVudDogQ29sdW1uID0gbnVsbDtcbiAgbm9kZUNvbnRleHRPdmVyZmxvd2luZ0R1ZVRvUmVwZXRpdGl2ZUVsZW1lbnRzOiBWdHJlZS5Ob2RlQ29udGV4dCB8IG51bGwgPSBudWxsO1xuICBibG9ja0Rpc3RhbmNlVG9CbG9ja0VuZEZsb2F0czogbnVtYmVyID0gTmFOO1xuICBjb21wdXRlZEJsb2NrU2l6ZTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgcHVibGljIGxheW91dENvbnRleHQ6IFZ0cmVlLkxheW91dENvbnRleHQsXG4gICAgcHVibGljIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICAgIHB1YmxpYyByZWFkb25seSBsYXlvdXRDb25zdHJhaW50OiBMYXlvdXRDb25zdHJhaW50LFxuICAgIHB1YmxpYyByZWFkb25seSBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICkge1xuICAgIHN1cGVyKGVsZW1lbnQpO1xuICAgIHRoaXMubGFzdCA9IGVsZW1lbnQubGFzdENoaWxkO1xuICAgIHRoaXMudmlld0RvY3VtZW50ID0gZWxlbWVudC5vd25lckRvY3VtZW50O1xuICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuc2V0Q29udGFpbmVyKHRoaXMpO1xuICB9XG5cbiAgZ2V0VG9wRWRnZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZlcnRpY2FsID8gdGhpcy5zdGFydEVkZ2UgOiB0aGlzLmJlZm9yZUVkZ2U7XG4gIH1cblxuICBnZXRCb3R0b21FZGdlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudmVydGljYWwgPyB0aGlzLmVuZEVkZ2UgOiB0aGlzLmFmdGVyRWRnZTtcbiAgfVxuXG4gIGdldExlZnRFZGdlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudmVydGljYWwgPyB0aGlzLmFmdGVyRWRnZSA6IHRoaXMuc3RhcnRFZGdlO1xuICB9XG5cbiAgZ2V0UmlnaHRFZGdlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudmVydGljYWwgPyB0aGlzLmJlZm9yZUVkZ2UgOiB0aGlzLmVuZEVkZ2U7XG4gIH1cblxuICBpc0Zsb2F0Tm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhbm9kZUNvbnRleHQuZmxvYXRTaWRlICYmICghdGhpcy5pc0Zsb2F0IHx8ICEhbm9kZUNvbnRleHQucGFyZW50KTtcbiAgfVxuXG4gIHN0b3BCeU92ZXJmbG93KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnN0b3BBdE92ZXJmbG93ICYmICEhbm9kZUNvbnRleHQgJiYgbm9kZUNvbnRleHQub3ZlcmZsb3c7XG4gIH1cblxuICBpc092ZXJmbG93bihlZGdlOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgcmV0dXJuIGVkZ2UgPCB0aGlzLmZvb3Rub3RlRWRnZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVkZ2UgPiB0aGlzLmZvb3Rub3RlRWRnZTtcbiAgICB9XG4gIH1cblxuICBnZXRFeGNsdXNpb25zKCk6IEdlb21ldHJ5VXRpbC5TaGFwZVtdIHtcbiAgICBjb25zdCBwYWdlRmxvYXRFeGNsdXNpb25zID0gdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmdldEZsb2F0RnJhZ21lbnRFeGNsdXNpb25zKCk7XG4gICAgcmV0dXJuIHRoaXMuZXhjbHVzaW9ucy5jb25jYXQocGFnZUZsb2F0RXhjbHVzaW9ucyk7XG4gIH1cblxuICBvcGVuQWxsVmlld3MocG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbik6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcIm9wZW5BbGxWaWV3c1wiKTtcbiAgICBjb25zdCBzdGVwcyA9IHBvc2l0aW9uLnN0ZXBzO1xuICAgIHNlbGYubGF5b3V0Q29udGV4dC5zZXRWaWV3Um9vdChzZWxmLmVsZW1lbnQsIHNlbGYuaXNGb290bm90ZSk7XG4gICAgbGV0IHN0ZXBJbmRleCA9IHN0ZXBzLmxlbmd0aCAtIDE7XG4gICAgbGV0IG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCA9IG51bGw7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wKCgpID0+IHtcbiAgICAgICAgd2hpbGUgKHN0ZXBJbmRleCA+PSAwKSB7XG4gICAgICAgICAgY29uc3QgcHJldkNvbnRleHQgPSBub2RlQ29udGV4dDtcbiAgICAgICAgICBjb25zdCBzdGVwID0gc3RlcHNbc3RlcEluZGV4XTtcbiAgICAgICAgICBub2RlQ29udGV4dCA9IFZ0cmVlSW1wbC5tYWtlTm9kZUNvbnRleHRGcm9tTm9kZVBvc2l0aW9uU3RlcChcbiAgICAgICAgICAgIHN0ZXAsXG4gICAgICAgICAgICBwcmV2Q29udGV4dCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHN0ZXBJbmRleCA9PT0gc3RlcHMubGVuZ3RoIC0gMSAmJlxuICAgICAgICAgICAgIW5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0XG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCA9IHNlbGYuZmxvd1Jvb3RGb3JtYXR0aW5nQ29udGV4dDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN0ZXBJbmRleCA9PSAwKSB7XG4gICAgICAgICAgICBub2RlQ29udGV4dC5vZmZzZXRJbk5vZGUgPSBzZWxmLmNhbGN1bGF0ZU9mZnNldEluTm9kZUZvck5vZGVDb250ZXh0KFxuICAgICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBub2RlQ29udGV4dC5hZnRlciA9IHBvc2l0aW9uLmFmdGVyO1xuICAgICAgICAgICAgbm9kZUNvbnRleHQucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQgPVxuICAgICAgICAgICAgICBwb3NpdGlvbi5wcmVwcm9jZXNzZWRUZXh0Q29udGVudDtcbiAgICAgICAgICAgIGlmIChub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgciA9IHNlbGYubGF5b3V0Q29udGV4dC5zZXRDdXJyZW50KFxuICAgICAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgICAgICBzdGVwSW5kZXggPT0gMCAmJiBub2RlQ29udGV4dC5vZmZzZXRJbk5vZGUgPT0gMCxcbiAgICAgICAgICApO1xuICAgICAgICAgIHN0ZXBJbmRleC0tO1xuICAgICAgICAgIGlmIChyLmlzUGVuZGluZygpKSB7XG4gICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGZhbHNlKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIEFzc2VydHMuYXNzZXJ0KG5vZGVDb250ZXh0KTtcbiAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGNhbGN1bGF0ZU9mZnNldEluTm9kZUZvck5vZGVDb250ZXh0KHBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24pOiBudW1iZXIge1xuICAgIHJldHVybiBwb3NpdGlvbi5wcmVwcm9jZXNzZWRUZXh0Q29udGVudFxuICAgICAgPyBEaWZmLnJlc29sdmVOZXdJbmRleChcbiAgICAgICAgICBwb3NpdGlvbi5wcmVwcm9jZXNzZWRUZXh0Q29udGVudCxcbiAgICAgICAgICBwb3NpdGlvbi5vZmZzZXRJbk5vZGUsXG4gICAgICAgIClcbiAgICAgIDogcG9zaXRpb24ub2Zmc2V0SW5Ob2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBjb3VudCBmaXJzdC1YWFggbmVzdGluZyBpZGVudGlmaWVyXG4gICAqL1xuICBtYXliZVBlZWxPZmYoXG4gICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvdW50OiBudW1iZXIsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgaWYgKFxuICAgICAgcG9zaXRpb24uZmlyc3RQc2V1ZG8gJiZcbiAgICAgIHBvc2l0aW9uLmlubGluZSAmJlxuICAgICAgIXBvc2l0aW9uLmFmdGVyICYmXG4gICAgICBwb3NpdGlvbi5maXJzdFBzZXVkby5jb3VudCA9PSAwXG4gICAgKSB7XG4gICAgICAvLyBmaXJzdCBjaGFyXG4gICAgICBpZiAocG9zaXRpb24udmlld05vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICBjb25zdCB0ZXh0ID0gcG9zaXRpb24udmlld05vZGUudGV4dENvbnRlbnQ7XG4gICAgICAgIGNvbnN0IHIgPSB0ZXh0Lm1hdGNoKGZpcnN0Q2hhclBhdHRlcm4pO1xuICAgICAgICByZXR1cm4gdGhpcy5sYXlvdXRDb250ZXh0LnBlZWxPZmYocG9zaXRpb24sIHJbMF0ubGVuZ3RoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHBvc2l0aW9uKSBhcyBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gIH1cblxuICAvKipcbiAgICogQnVpbGRzIHRoZSB2aWV3IHVudGlsIGEgQ1NTIGJveCBlZGdlIGlzIHJlYWNoZWQuXG4gICAqIEBwYXJhbSBwb3NpdGlvbiBzdGFydCBzb3VyY2UgcG9zaXRpb24uXG4gICAqIEBwYXJhbSBjaGVja1BvaW50cyBhcnJheSB0byBhcHBlbmQgcG9zc2libGUgYnJlYWtpbmcgcG9pbnRzLlxuICAgKiBAcmV0dXJuIGhvbGRpbmcgYm94IGVkZ2UgcG9zaXRpb24gcmVhY2hlZCBvciBudWxsIGlmIHRoZSBzb3VyY2UgaXMgZXhoYXVzdGVkLlxuICAgKi9cbiAgYnVpbGRWaWV3VG9OZXh0QmxvY2tFZGdlKFxuICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBsZXQgdmlvbGF0ZUNvbnN0cmFpbnQgPSBmYWxzZTtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJidWlsZFZpZXdUb05leHRCbG9ja0VkZ2VcIixcbiAgICApO1xuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgoYm9keUZyYW1lKSA9PiB7XG4gICAgICAgIGlmIChwb3NpdGlvbi52aWV3Tm9kZSAmJiAhTGF5b3V0SGVscGVyLmlzU3BlY2lhbE5vZGVDb250ZXh0KHBvc2l0aW9uKSkge1xuICAgICAgICAgIGNoZWNrUG9pbnRzLnB1c2gocG9zaXRpb24uY29weSgpKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLm1heWJlUGVlbE9mZihwb3NpdGlvbiwgMCkudGhlbigocG9zaXRpb24xUGFyYW0pID0+IHtcbiAgICAgICAgICBjb25zdCBwb3NpdGlvbjEgPSBwb3NpdGlvbjFQYXJhbSBhcyBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICAgICAgICBpZiAocG9zaXRpb24xICE9PSBwb3NpdGlvbikge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbjE7XG4gICAgICAgICAgICBpZiAoIUxheW91dEhlbHBlci5pc1NwZWNpYWxOb2RlQ29udGV4dChwb3NpdGlvbikpIHtcbiAgICAgICAgICAgICAgY2hlY2tQb2ludHMucHVzaChwb3NpdGlvbi5jb3B5KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxmLm5leHRJblRyZWUocG9zaXRpb24pLnRoZW4oKHBvc2l0aW9uUGFyYW0pID0+IHtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb25QYXJhbSBhcyBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICAgICAgICAgIGlmICghcG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgLy8gRXhpdCB0aGUgbG9vcFxuICAgICAgICAgICAgICBib2R5RnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgdmlvbGF0ZUNvbnN0cmFpbnQgfHxcbiAgICAgICAgICAgICAgIXNlbGYubGF5b3V0Q29uc3RyYWludC5hbGxvd0xheW91dChwb3NpdGlvbilcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB2aW9sYXRlQ29uc3RyYWludCA9IHRydWU7XG4gICAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24ubW9kaWZ5KCk7XG4gICAgICAgICAgICAgIHBvc2l0aW9uLm92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZWxmLmlzRmxvYXROb2RlQ29udGV4dChwb3NpdGlvbikgJiYgIXNlbGYudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgc2VsZi5sYXlvdXRGbG9hdE9yRm9vdG5vdGUocG9zaXRpb24pLnRoZW4oKHBvc2l0aW9uUGFyYW0pID0+IHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uUGFyYW0gYXMgVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFwb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICAgYm9keUZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBib2R5RnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghcG9zaXRpb24uaW5saW5lKSB7XG4gICAgICAgICAgICAgIC8vIEV4aXQgdGhlIGxvb3BcbiAgICAgICAgICAgICAgYm9keUZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gQ29udGludWUgdGhlIGxvb3BcbiAgICAgICAgICAgICAgYm9keUZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChwb3NpdGlvbik7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBuZXh0SW5UcmVlKFxuICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBhdFVuZm9yY2VkQnJlYWs/OiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IGNvbnQgPSB0aGlzLmxheW91dENvbnRleHQubmV4dEluVHJlZShwb3NpdGlvbiwgYXRVbmZvcmNlZEJyZWFrKTtcbiAgICByZXR1cm4gcHJvY2Vzc0FmdGVySWZDb250aW51ZXMoY29udCwgdGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQnVpbGRzIHRoZSB2aWV3IGZvciBhIHNpbmdsZSB1bmJyZWFrYWJsZSBlbGVtZW50LlxuICAgKiBAcGFyYW0gcG9zaXRpb24gc3RhcnQgc291cmNlIHBvc2l0aW9uLlxuICAgKiBAcmV0dXJuIGhvbGRpbmcgYm94IGVkZ2UgcG9zaXRpb24gcmVhY2hlZCBvciBudWxsIGlmIHRoZSBzb3VyY2UgaXMgZXhoYXVzdGVkLlxuICAgKi9cbiAgYnVpbGREZWVwRWxlbWVudFZpZXcoXG4gICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGlmICghcG9zaXRpb24udmlld05vZGUpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChwb3NpdGlvbik7XG4gICAgfVxuICAgIGxldCBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSA9IFtdO1xuICAgIGNvbnN0IHNvdXJjZU5vZGUgPSBwb3NpdGlvbi5zb3VyY2VOb2RlO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcImJ1aWxkRGVlcEVsZW1lbnRWaWV3XCIsXG4gICAgKTtcblxuICAgIC8vIFRPRE86IGVuZCB0aGUgbG9vcCBiYXNlZCBvbiBkZXB0aCwgbm90IHNvdXJjZU5vZGUgY29tcGFyaXNvblxuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgoYm9keUZyYW1lKSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBwb3NpdGlvbi52aWV3Tm9kZSAmJlxuICAgICAgICAgIHBvc2l0aW9uLmlubGluZSAmJlxuICAgICAgICAgICFMYXlvdXRIZWxwZXIuaXNTcGVjaWFsTm9kZUNvbnRleHQocG9zaXRpb24pXG4gICAgICAgICkge1xuICAgICAgICAgIGNoZWNrUG9pbnRzLnB1c2gocG9zaXRpb24uY29weSgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoY2hlY2tQb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2VsZi5wb3N0TGF5b3V0QmxvY2socG9zaXRpb24sIGNoZWNrUG9pbnRzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hlY2tQb2ludHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLm1heWJlUGVlbE9mZihwb3NpdGlvbiwgMCkudGhlbigocG9zaXRpb24xUGFyYW0pID0+IHtcbiAgICAgICAgICBjb25zdCBwb3NpdGlvbjEgPSBwb3NpdGlvbjFQYXJhbSBhcyBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICAgICAgICBpZiAocG9zaXRpb24xICE9PSBwb3NpdGlvbikge1xuICAgICAgICAgICAgbGV0IHAgPSBwb3NpdGlvbjE7XG4gICAgICAgICAgICB3aGlsZSAocCAmJiBwLnNvdXJjZU5vZGUgIT0gc291cmNlTm9kZSkge1xuICAgICAgICAgICAgICBwID0gcC5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIC8vIG91dHNpZGUgb2YgdGhlIHN1YnRyZWVcbiAgICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbjE7XG4gICAgICAgICAgICAgIGJvZHlGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFMYXlvdXRIZWxwZXIuaXNTcGVjaWFsTm9kZUNvbnRleHQocG9zaXRpb24xKSkge1xuICAgICAgICAgICAgICBjaGVja1BvaW50cy5wdXNoKHBvc2l0aW9uMS5jb3B5KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxmLm5leHRJblRyZWUocG9zaXRpb24xKS50aGVuKChwb3NpdGlvblBhcmFtKSA9PiB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uUGFyYW0gYXMgVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgICAgICAgICBpZiAoIXBvc2l0aW9uIHx8IHBvc2l0aW9uLnNvdXJjZU5vZGUgPT0gc291cmNlTm9kZSkge1xuICAgICAgICAgICAgICBib2R5RnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFzZWxmLmxheW91dENvbnN0cmFpbnQuYWxsb3dMYXlvdXQocG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24ubW9kaWZ5KCk7XG4gICAgICAgICAgICAgIHBvc2l0aW9uLm92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgaWYgKHNlbGYuc3RvcEF0T3ZlcmZsb3cpIHtcbiAgICAgICAgICAgICAgICBib2R5RnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYm9keUZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBib2R5RnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKGNoZWNrUG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBzZWxmLnBvc3RMYXlvdXRCbG9jayhwb3NpdGlvbiwgY2hlY2tQb2ludHMpO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lLmZpbmlzaChwb3NpdGlvbik7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgc2luZ2xlIGZsb2F0aW5nIGVsZW1lbnQgKGZvciBleGNsdXNpb24gYXJlYXMpLlxuICAgKiBAcGFyYW0gcmVmIGNvbnRhaW5lcidzIGNoaWxkIHRvIGluc2VydCBmbG9hdCBiZWZvcmUgKGNhbiBiZSBudWxsKS5cbiAgICogQHBhcmFtIHNpZGUgZmxvYXQgc2lkZSAoXCJsZWZ0XCIgb3IgXCJyaWdodFwiKS5cbiAgICogQHBhcmFtIHdpZHRoIGZsb2F0IGlubGluZSBkaW1lbnNpb24uXG4gICAqIEBwYXJhbSBoZWlnaHQgZmxvYXQgYm94IHByb2dyZXNzaW9uIGRpbWVuc2lvbi5cbiAgICogQHJldHVybiBuZXdseSBjcmVhdGVkIGZsb2F0IGVsZW1lbnQuXG4gICAqL1xuICBjcmVhdGVGbG9hdChyZWY6IE5vZGUsIHNpZGU6IHN0cmluZywgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiBFbGVtZW50IHtcbiAgICBjb25zdCBkaXYgPSB0aGlzLnZpZXdEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICBpZiAoaGVpZ2h0ID49IHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgIGhlaWdodCAtPSAwLjE7XG4gICAgICB9XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGRpdiwgXCJoZWlnaHRcIiwgYCR7d2lkdGh9cHhgKTtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZGl2LCBcIndpZHRoXCIsIGAke2hlaWdodH1weGApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAod2lkdGggPj0gdGhpcy53aWR0aCkge1xuICAgICAgICB3aWR0aCAtPSAwLjE7XG4gICAgICB9XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGRpdiwgXCJ3aWR0aFwiLCBgJHt3aWR0aH1weGApO1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShkaXYsIFwiaGVpZ2h0XCIsIGAke2hlaWdodH1weGApO1xuICAgIH1cbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGRpdiwgXCJmbG9hdFwiLCBzaWRlKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGRpdiwgXCJjbGVhclwiLCBzaWRlKTtcblxuICAgIC8vIGVuYWJsZSB0byB2aXN1YWxpemVcbiAgICAvLyBCYXNlLnNldENTU1Byb3BlcnR5KGRpdiwgXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIFwiIzUwRjBGRlwiKTtcbiAgICB0aGlzLmVsZW1lbnQuaW5zZXJ0QmVmb3JlKGRpdiwgcmVmKTtcbiAgICByZXR1cm4gZGl2O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbGwgdGhlIGV4Y2x1c2lvbiBmbG9hdHMuXG4gICAqL1xuICBraWxsRmxvYXRzKCk6IHZvaWQge1xuICAgIGxldCBjOiBOb2RlID0gdGhpcy5lbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgd2hpbGUgKGMpIHtcbiAgICAgIGNvbnN0IG5jID0gYy5uZXh0U2libGluZztcbiAgICAgIGlmIChjLm5vZGVUeXBlID09IDEpIHtcbiAgICAgICAgY29uc3QgZSA9IGMgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGYgPSBlLnN0eWxlLmNzc0Zsb2F0O1xuICAgICAgICBpZiAoZiA9PSBcImxlZnRcIiB8fCBmID09IFwicmlnaHRcIikge1xuICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVDaGlsZChlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYyA9IG5jO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgZXhjbHVzaW9uIGZsb2F0cyBmb3IgYSBjb2x1bW4uXG4gICAqL1xuICBjcmVhdGVGbG9hdHMoKTogdm9pZCB7XG4gICAgY29uc3QgcmVmID0gdGhpcy5lbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgY29uc3QgYmFuZHMgPSB0aGlzLmJhbmRzO1xuICAgIGNvbnN0IHgxID0gdGhpcy52ZXJ0aWNhbCA/IHRoaXMuZ2V0VG9wRWRnZSgpIDogdGhpcy5nZXRMZWZ0RWRnZSgpO1xuICAgIGNvbnN0IHgyID0gdGhpcy52ZXJ0aWNhbCA/IHRoaXMuZ2V0Qm90dG9tRWRnZSgpIDogdGhpcy5nZXRSaWdodEVkZ2UoKTtcbiAgICBmb3IgKGNvbnN0IGJhbmQgb2YgYmFuZHMpIHtcbiAgICAgIGNvbnN0IGhlaWdodCA9IGJhbmQueTIgLSBiYW5kLnkxO1xuICAgICAgYmFuZC5sZWZ0ID0gdGhpcy5jcmVhdGVGbG9hdChyZWYsIFwibGVmdFwiLCBiYW5kLngxIC0geDEsIGhlaWdodCk7XG4gICAgICBiYW5kLnJpZ2h0ID0gdGhpcy5jcmVhdGVGbG9hdChyZWYsIFwicmlnaHRcIiwgeDIgLSBiYW5kLngyLCBoZWlnaHQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gbm9kZUNvbnRleHQgcG9zaXRpb24gYWZ0ZXIgdGhlIGJsb2NrXG4gICAqIEBwYXJhbSBjaGVja1BvaW50cyBhcnJheSBvZiBwb3NzaWJsZSBicmVha2luZyBwb2ludHMuXG4gICAqIEBwYXJhbSBpbmRleCBpbmRleCBvZiB0aGUgYnJlYWtpbmcgcG9pbnRcbiAgICogQHBhcmFtIGJveE9mZnNldCBib3ggb2Zmc2V0XG4gICAqIEByZXR1cm4gZWRnZSBwb3NpdGlvblxuICAgKi9cbiAgY2FsY3VsYXRlRWRnZShcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBib3hPZmZzZXQ6IG51bWJlcixcbiAgKTogbnVtYmVyIHtcbiAgICBsZXQgZWRnZTogbnVtYmVyO1xuICAgIGlmIChub2RlQ29udGV4dCAmJiBMYXlvdXRIZWxwZXIuaXNPcnBoYW4obm9kZUNvbnRleHQudmlld05vZGUpKSB7XG4gICAgICByZXR1cm4gTmFOO1xuICAgIH0gZWxzZSBpZiAobm9kZUNvbnRleHQgJiYgbm9kZUNvbnRleHQuYWZ0ZXIgJiYgIW5vZGVDb250ZXh0LmlubGluZSkge1xuICAgICAgZWRnZSA9IExheW91dEhlbHBlci5jYWxjdWxhdGVFZGdlKFxuICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgdGhpcy5jbGllbnRMYXlvdXQsXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMudmVydGljYWwsXG4gICAgICApO1xuICAgICAgaWYgKCFpc05hTihlZGdlKSkge1xuICAgICAgICByZXR1cm4gZWRnZTtcbiAgICAgIH1cbiAgICB9XG4gICAgbm9kZUNvbnRleHQgPSBjaGVja1BvaW50c1tpbmRleF07XG4gICAgbGV0IG9mZnNldCA9IGJveE9mZnNldCAtIG5vZGVDb250ZXh0LmJveE9mZnNldDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgZWRnZSA9IExheW91dEhlbHBlci5jYWxjdWxhdGVFZGdlKFxuICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgdGhpcy5jbGllbnRMYXlvdXQsXG4gICAgICAgIG9mZnNldCxcbiAgICAgICAgdGhpcy52ZXJ0aWNhbCxcbiAgICAgICk7XG4gICAgICBpZiAoIWlzTmFOKGVkZ2UpKSB7XG4gICAgICAgIHJldHVybiBlZGdlO1xuICAgICAgfVxuICAgICAgaWYgKG9mZnNldCA+IDApIHtcbiAgICAgICAgb2Zmc2V0LS07XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaW5kZXgtLTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmVmb3JlRWRnZTtcbiAgICAgIH1cbiAgICAgIG5vZGVDb250ZXh0ID0gY2hlY2tQb2ludHNbaW5kZXhdO1xuICAgICAgaWYgKG5vZGVDb250ZXh0LnZpZXdOb2RlLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgb2Zmc2V0ID0gbm9kZUNvbnRleHQudmlld05vZGUudGV4dENvbnRlbnQubGVuZ3RoO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZSBDU1MgY29tcHV0ZWQgbGVuZ3RoIChpbiBwaXhlbHMpXG4gICAqIEBwYXJhbSB2YWwgQ1NTIGxlbmd0aCBpbiBcInB4XCIgdW5pdHMgb3IgYSBudW1iZXIuXG4gICAqIEByZXR1cm4gdmFsdWUgaW4gcGl4ZWxzIG9yIDAgaWYgbm90IHBhcnNhYmxlXG4gICAqL1xuICBwYXJzZUNvbXB1dGVkTGVuZ3RoKHZhbDogc3RyaW5nIHwgbnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAodHlwZW9mIHZhbCA9PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICBjb25zdCByID0gdmFsLm1hdGNoKC9eKC0/WzAtOV0qKFxcLlswLTldKik/KXB4JC8pO1xuICAgIGlmIChyKSB7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdChyWzBdKTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICAvKipcbiAgICogUmVhZHMgZWxlbWVudCdzIGNvbXB1dGVkIENTUyBtYXJnaW4uXG4gICAqL1xuICBnZXRDb21wdXRlZE1hcmdpbihlbGVtZW50OiBFbGVtZW50KTogR2VvbWV0cnlVdGlsLkluc2V0cyB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICBjb25zdCBpbnNldHMgPSBuZXcgR2VvbWV0cnlVdGlsLkluc2V0cygwLCAwLCAwLCAwKTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIGluc2V0cy5sZWZ0ID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLm1hcmdpbkxlZnQpO1xuICAgICAgaW5zZXRzLnRvcCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5tYXJnaW5Ub3ApO1xuICAgICAgaW5zZXRzLnJpZ2h0ID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLm1hcmdpblJpZ2h0KTtcbiAgICAgIGluc2V0cy5ib3R0b20gPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUubWFyZ2luQm90dG9tKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc2V0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkcyBlbGVtZW50J3MgY29tcHV0ZWQgcGFkZGluZyArIGJvcmRlcnMuXG4gICAqL1xuICBnZXRDb21wdXRlZFBhZGRpbmdCb3JkZXIoZWxlbWVudDogRWxlbWVudCk6IEdlb21ldHJ5VXRpbC5JbnNldHMge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgY29uc3QgaW5zZXRzID0gbmV3IEdlb21ldHJ5VXRpbC5JbnNldHMoMCwgMCwgMCwgMCk7XG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICBpbnNldHMubGVmdCA9XG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5ib3JkZXJMZWZ0V2lkdGgpICtcbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLnBhZGRpbmdMZWZ0KTtcbiAgICAgIGluc2V0cy50b3AgPVxuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUuYm9yZGVyVG9wV2lkdGgpICtcbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLnBhZGRpbmdUb3ApO1xuICAgICAgaW5zZXRzLnJpZ2h0ID1cbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLmJvcmRlclJpZ2h0V2lkdGgpICtcbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLnBhZGRpbmdSaWdodCk7XG4gICAgICBpbnNldHMuYm90dG9tID1cbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLmJvcmRlckJvdHRvbVdpZHRoKSArXG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5wYWRkaW5nQm90dG9tKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc2V0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkcyBlbGVtZW50J3MgY29tcHV0ZWQgQ1NTIGluc2V0cyhtYXJnaW5zICsgYm9yZGVyICsgcGFkZGluZyBvciBtYXJnaW5zIDpcbiAgICogZGVwZW5kcyBvbiBib3gtc2l6aW5nKVxuICAgKi9cbiAgZ2V0Q29tcHV0ZWRJbnNldHMoZWxlbWVudDogRWxlbWVudCk6IEdlb21ldHJ5VXRpbC5JbnNldHMge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgY29uc3QgaW5zZXRzID0gbmV3IEdlb21ldHJ5VXRpbC5JbnNldHMoMCwgMCwgMCwgMCk7XG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICBpZiAoc3R5bGUuYm94U2l6aW5nID09IFwiYm9yZGVyLWJveFwiKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbXB1dGVkTWFyZ2luKGVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgaW5zZXRzLmxlZnQgPVxuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUubWFyZ2luTGVmdCkgK1xuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUuYm9yZGVyTGVmdFdpZHRoKSArXG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5wYWRkaW5nTGVmdCk7XG4gICAgICBpbnNldHMudG9wID1cbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLm1hcmdpblRvcCkgK1xuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUuYm9yZGVyVG9wV2lkdGgpICtcbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLnBhZGRpbmdUb3ApO1xuICAgICAgaW5zZXRzLnJpZ2h0ID1cbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLm1hcmdpblJpZ2h0KSArXG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5ib3JkZXJSaWdodFdpZHRoKSArXG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5wYWRkaW5nUmlnaHQpO1xuICAgICAgaW5zZXRzLmJvdHRvbSA9XG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5tYXJnaW5Cb3R0b20pICtcbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLmJvcmRlckJvdHRvbVdpZHRoKSArXG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5wYWRkaW5nQm90dG9tKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc2V0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgZWxlbWVudCdzIGNvbXB1dGVkIENTUyBpbnNldHMgdG8gQ29sdW1uIENvbnRhaW5lclxuICAgKi9cbiAgc2V0Q29tcHV0ZWRJbnNldHMoZWxlbWVudDogRWxlbWVudCwgY29udGFpbmVyOiBDb2x1bW4pIHtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgY29udGFpbmVyLm1hcmdpbkxlZnQgPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUubWFyZ2luTGVmdCk7XG4gICAgICBjb250YWluZXIuYm9yZGVyTGVmdCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5ib3JkZXJMZWZ0V2lkdGgpO1xuICAgICAgY29udGFpbmVyLnBhZGRpbmdMZWZ0ID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLnBhZGRpbmdMZWZ0KTtcbiAgICAgIGNvbnRhaW5lci5tYXJnaW5Ub3AgPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUubWFyZ2luVG9wKTtcbiAgICAgIGNvbnRhaW5lci5ib3JkZXJUb3AgPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUuYm9yZGVyVG9wV2lkdGgpO1xuICAgICAgY29udGFpbmVyLnBhZGRpbmdUb3AgPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUucGFkZGluZ1RvcCk7XG4gICAgICBjb250YWluZXIubWFyZ2luUmlnaHQgPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUubWFyZ2luUmlnaHQpO1xuICAgICAgY29udGFpbmVyLmJvcmRlclJpZ2h0ID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLmJvcmRlclJpZ2h0V2lkdGgpO1xuICAgICAgY29udGFpbmVyLnBhZGRpbmdSaWdodCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5wYWRkaW5nUmlnaHQpO1xuICAgICAgY29udGFpbmVyLm1hcmdpbkJvdHRvbSA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5tYXJnaW5Cb3R0b20pO1xuICAgICAgY29udGFpbmVyLmJvcmRlckJvdHRvbSA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChcbiAgICAgICAgc3R5bGUuYm9yZGVyQm90dG9tV2lkdGgsXG4gICAgICApO1xuICAgICAgY29udGFpbmVyLnBhZGRpbmdCb3R0b20gPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUucGFkZGluZ0JvdHRvbSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBlbGVtZW50J3MgY29tcHV0ZWQgd2lkdGggYW5kIGhlaWdodCB0byBDb2x1bW4gQ29udGFpbmVyXG4gICAqL1xuICBzZXRDb21wdXRlZFdpZHRoQW5kSGVpZ2h0KGVsZW1lbnQ6IEVsZW1lbnQsIGNvbnRhaW5lcjogQ29sdW1uKSB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIGNvbnRhaW5lci53aWR0aCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS53aWR0aCk7XG4gICAgICBjb250YWluZXIuaGVpZ2h0ID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLmhlaWdodCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExheW91dCBhIHNpbmdsZSB1bmJyZWFrYWJsZSBlbGVtZW50LlxuICAgKi9cbiAgbGF5b3V0VW5icmVha2FibGUoXG4gICAgbm9kZUNvbnRleHRJbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgcmV0dXJuIHRoaXMuYnVpbGREZWVwRWxlbWVudFZpZXcobm9kZUNvbnRleHRJbik7XG4gIH1cblxuICAvKipcbiAgICogTGF5b3V0IGEgc2luZ2xlIGZsb2F0IGVsZW1lbnQuXG4gICAqL1xuICBsYXlvdXRGbG9hdChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXCJsYXlvdXRGbG9hdFwiKTtcbiAgICBjb25zdCBlbGVtZW50ID0gbm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudDtcbiAgICBjb25zdCBmbG9hdFNpZGUgPSBub2RlQ29udGV4dC5mbG9hdFNpZGUgYXMgc3RyaW5nO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJmbG9hdFwiLCBcIm5vbmVcIik7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcImRpc3BsYXlcIiwgXCJpbmxpbmUtYmxvY2tcIik7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcInZlcnRpY2FsLWFsaWduXCIsIFwidG9wXCIpO1xuICAgIHNlbGYuYnVpbGREZWVwRWxlbWVudFZpZXcobm9kZUNvbnRleHQpLnRoZW4oKG5vZGVDb250ZXh0QWZ0ZXIpID0+IHtcbiAgICAgIGNvbnN0IGZsb2F0QkJveCA9IHNlbGYuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KGVsZW1lbnQpO1xuICAgICAgY29uc3QgbWFyZ2luID0gc2VsZi5nZXRDb21wdXRlZE1hcmdpbihlbGVtZW50KTtcbiAgICAgIGxldCBmbG9hdEJveCA9IG5ldyBHZW9tZXRyeVV0aWwuUmVjdChcbiAgICAgICAgZmxvYXRCQm94LmxlZnQgLSBtYXJnaW4ubGVmdCxcbiAgICAgICAgZmxvYXRCQm94LnRvcCAtIG1hcmdpbi50b3AsXG4gICAgICAgIGZsb2F0QkJveC5yaWdodCArIG1hcmdpbi5yaWdodCxcbiAgICAgICAgZmxvYXRCQm94LmJvdHRvbSArIG1hcmdpbi5ib3R0b20sXG4gICAgICApO1xuICAgICAgbGV0IHgxID0gc2VsZi5zdGFydEVkZ2U7XG4gICAgICBsZXQgeDIgPSBzZWxmLmVuZEVkZ2U7XG4gICAgICBsZXQgcGFyZW50ID0gbm9kZUNvbnRleHQucGFyZW50O1xuICAgICAgd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQuaW5saW5lKSB7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICB9XG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIC8vIFBvc2l0aW9uIGl0IGF0IHRoZSBwYXJlbnQgZWxlbWVudCdzIGVkZ2UuXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gZ2V0IHRoZSBlZGdlIG9mIHRoZSBwYXJlbnQncyBjb250ZW50IGFyZWEsIGNhbGxpbmdcbiAgICAgICAgLy8gZ2V0RWxlbWVudENsaWVudFJlY3Qgd2lsbCBhbHNvIGdpdmUgdXMgYm9yZGVycy4gQXZvaWQgaXQgYnkgY3JlYXRpbmdcbiAgICAgICAgLy8gYSB0ZW1wb3JhcnkgZWxlbWVudCBhbmQgdXNpbmcgaXQgZm9yIG1lYXN1cm1lbnQuXG4gICAgICAgIGNvbnN0IHByb2JlID0gcGFyZW50LnZpZXdOb2RlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcHJvYmUuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgICAgIHByb2JlLnN0eWxlLnRvcCA9IFwiMHB4XCI7XG4gICAgICAgIGlmIChzZWxmLnZlcnRpY2FsKSB7XG4gICAgICAgICAgcHJvYmUuc3R5bGUuYm90dG9tID0gXCIwcHhcIjtcbiAgICAgICAgICBwcm9iZS5zdHlsZS53aWR0aCA9IFwiMXB4XCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvYmUuc3R5bGUucmlnaHQgPSBcIjBweFwiO1xuICAgICAgICAgIHByb2JlLnN0eWxlLmhlaWdodCA9IFwiMXB4XCI7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50LnZpZXdOb2RlLmFwcGVuZENoaWxkKHByb2JlKTtcbiAgICAgICAgY29uc3QgcGFyZW50Qm94ID0gc2VsZi5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3QocHJvYmUpO1xuICAgICAgICB4MSA9IE1hdGgubWF4KHNlbGYuZ2V0U3RhcnRFZGdlKHBhcmVudEJveCksIHgxKTtcbiAgICAgICAgeDIgPSBNYXRoLm1pbihzZWxmLmdldEVuZEVkZ2UocGFyZW50Qm94KSwgeDIpO1xuICAgICAgICBwYXJlbnQudmlld05vZGUucmVtb3ZlQ2hpbGQocHJvYmUpO1xuICAgICAgICBjb25zdCBmbG9hdEJveE1lYXN1cmUgPSBzZWxmLnZlcnRpY2FsXG4gICAgICAgICAgPyBmbG9hdEJveC55MiAtIGZsb2F0Qm94LnkxXG4gICAgICAgICAgOiBmbG9hdEJveC54MiAtIGZsb2F0Qm94LngxO1xuICAgICAgICBpZiAoZmxvYXRTaWRlID09IFwibGVmdFwiKSB7XG4gICAgICAgICAgeDIgPSBNYXRoLm1heCh4MiwgeDEgKyBmbG9hdEJveE1lYXN1cmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHgxID0gTWF0aC5taW4oeDEsIHgyIC0gZmxvYXRCb3hNZWFzdXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1vdmUgdGhlIGZsb2F0IGJlbG93IHRoZSBibG9jayBwYXJlbnQuXG4gICAgICAgIC8vIE90aGVyd2lzZSwgaWYgdGhlIGZsb2F0IGlzIGF0dGFjaGVkIHRvIGFuIGlubGluZSBib3ggd2l0aCAncG9zaXRpb246XG4gICAgICAgIC8vIHJlbGF0aXZlJywgdGhlIGFic29sdXRlIHBvc2l0aW9uaW5nIG9mIHRoZSBmbG9hdCBnZXRzIGJyb2tlbiwgc2luY2VcbiAgICAgICAgLy8gdGhlIGlubGluZSBwYXJlbnQgY2FuIGJlIHB1c2hlZCBob3Jpem9udGFsbHkgYnkgZXhjbHVzaW9uIGZsb2F0c1xuICAgICAgICAvLyBhZnRlciB0aGUgbGF5b3V0IG9mIHRoZSBmbG9hdCBpcyBkb25lLlxuICAgICAgICBwYXJlbnQudmlld05vZGUuYXBwZW5kQ2hpbGQobm9kZUNvbnRleHQudmlld05vZGUpO1xuICAgICAgfVxuXG4gICAgICAvLyBib3ggaXMgcm90YXRlZCBmb3IgdmVydGljYWwgb3JpZW50YXRpb25cbiAgICAgIGxldCBib3ggPSBuZXcgR2VvbWV0cnlVdGlsLlJlY3QoXG4gICAgICAgIHgxLFxuICAgICAgICBzZWxmLmdldEJveERpcigpICogc2VsZi5iZWZvcmVFZGdlLFxuICAgICAgICB4MixcbiAgICAgICAgc2VsZi5nZXRCb3hEaXIoKSAqIHNlbGYuYWZ0ZXJFZGdlLFxuICAgICAgKTtcbiAgICAgIGxldCBmbG9hdEhvckJveCA9IGZsb2F0Qm94O1xuICAgICAgaWYgKHNlbGYudmVydGljYWwpIHtcbiAgICAgICAgZmxvYXRIb3JCb3ggPSBHZW9tZXRyeVV0aWwucm90YXRlQm94KGZsb2F0Qm94KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRpciA9IHNlbGYuZ2V0Qm94RGlyKCk7XG4gICAgICBpZiAoZmxvYXRIb3JCb3gueTEgPCBzZWxmLmJvdHRvbW1vc3RGbG9hdFRvcCAqIGRpcikge1xuICAgICAgICBjb25zdCBib3hFeHRlbnQgPSBmbG9hdEhvckJveC55MiAtIGZsb2F0SG9yQm94LnkxO1xuICAgICAgICBmbG9hdEhvckJveC55MSA9IHNlbGYuYm90dG9tbW9zdEZsb2F0VG9wICogZGlyO1xuICAgICAgICBmbG9hdEhvckJveC55MiA9IGZsb2F0SG9yQm94LnkxICsgYm94RXh0ZW50O1xuICAgICAgfVxuICAgICAgR2VvbWV0cnlVdGlsLnBvc2l0aW9uRmxvYXQoYm94LCBzZWxmLmJhbmRzLCBmbG9hdEhvckJveCwgZmxvYXRTaWRlKTtcbiAgICAgIGlmIChzZWxmLnZlcnRpY2FsKSB7XG4gICAgICAgIGZsb2F0Qm94ID0gR2VvbWV0cnlVdGlsLnVucm90YXRlQm94KGZsb2F0SG9yQm94KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGluc2V0cyA9IHNlbGYuZ2V0Q29tcHV0ZWRJbnNldHMoZWxlbWVudCk7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICBcIndpZHRoXCIsXG4gICAgICAgIGAke2Zsb2F0Qm94LngyIC0gZmxvYXRCb3gueDEgLSBpbnNldHMubGVmdCAtIGluc2V0cy5yaWdodH1weGAsXG4gICAgICApO1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgXCJoZWlnaHRcIixcbiAgICAgICAgYCR7ZmxvYXRCb3gueTIgLSBmbG9hdEJveC55MSAtIGluc2V0cy50b3AgLSBpbnNldHMuYm90dG9tfXB4YCxcbiAgICAgICk7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKTtcbiAgICAgIEFzc2VydHMuYXNzZXJ0KG5vZGVDb250ZXh0LmRpc3BsYXkpO1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcImRpc3BsYXlcIiwgbm9kZUNvbnRleHQuZGlzcGxheSk7XG4gICAgICBsZXQgb2Zmc2V0cztcbiAgICAgIGxldCBjb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZTogVnRyZWUuTm9kZUNvbnRleHQgPSBudWxsO1xuICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICBpZiAocGFyZW50LmNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlKSB7XG4gICAgICAgICAgY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGUgPSBwYXJlbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGUgPSBwYXJlbnQuZ2V0Q29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlKSB7XG4gICAgICAgIGNvbnN0IHByb2JlID0gY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGUudmlld05vZGUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICk7XG4gICAgICAgIHByb2JlLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICBpZiAoY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGUudmVydGljYWwpIHtcbiAgICAgICAgICBwcm9iZS5zdHlsZS5yaWdodCA9IFwiMFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb2JlLnN0eWxlLmxlZnQgPSBcIjBcIjtcbiAgICAgICAgfVxuICAgICAgICBwcm9iZS5zdHlsZS50b3AgPSBcIjBcIjtcbiAgICAgICAgY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGUudmlld05vZGUuYXBwZW5kQ2hpbGQocHJvYmUpO1xuICAgICAgICBvZmZzZXRzID0gc2VsZi5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3QocHJvYmUpO1xuICAgICAgICBjb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZS52aWV3Tm9kZS5yZW1vdmVDaGlsZChwcm9iZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvZmZzZXRzID0ge1xuICAgICAgICAgIGxlZnQ6IHNlbGYuZ2V0TGVmdEVkZ2UoKSAtIHNlbGYucGFkZGluZ0xlZnQsXG4gICAgICAgICAgcmlnaHQ6IHNlbGYuZ2V0UmlnaHRFZGdlKCkgKyBzZWxmLnBhZGRpbmdSaWdodCxcbiAgICAgICAgICB0b3A6IHNlbGYuZ2V0VG9wRWRnZSgpIC0gc2VsZi5wYWRkaW5nVG9wLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBjb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZVxuICAgICAgICAgID8gY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGUudmVydGljYWxcbiAgICAgICAgICA6IHNlbGYudmVydGljYWxcbiAgICAgICkge1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgXCJyaWdodFwiLFxuICAgICAgICAgIGAke29mZnNldHMucmlnaHQgLSBmbG9hdEJveC54Mn1weGAsXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwibGVmdFwiLCBgJHtmbG9hdEJveC54MSAtIG9mZnNldHMubGVmdH1weGApO1xuICAgICAgfVxuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcInRvcFwiLCBgJHtmbG9hdEJveC55MSAtIG9mZnNldHMudG9wfXB4YCk7XG4gICAgICBpZiAobm9kZUNvbnRleHQuY2xlYXJTcGFjZXIpIHtcbiAgICAgICAgbm9kZUNvbnRleHQuY2xlYXJTcGFjZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlQ29udGV4dC5jbGVhclNwYWNlcik7XG4gICAgICAgIG5vZGVDb250ZXh0LmNsZWFyU3BhY2VyID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGZsb2F0Qm94RWRnZSA9IHNlbGYudmVydGljYWwgPyBmbG9hdEJveC54MSA6IGZsb2F0Qm94LnkyO1xuICAgICAgY29uc3QgZmxvYXRCb3hUb3AgPSBzZWxmLnZlcnRpY2FsID8gZmxvYXRCb3gueDIgOiBmbG9hdEJveC55MTtcblxuICAgICAgLy8gVE9ETzogc3VidHJhY3QgYWZ0ZXIgbWFyZ2luIHdoZW4gZGV0ZXJtaW5pbmcgb3ZlcmZsb3cuXG4gICAgICBpZiAoIXNlbGYuaXNPdmVyZmxvd24oZmxvYXRCb3hFZGdlKSB8fCBzZWxmLmJyZWFrUG9zaXRpb25zLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIC8vIG5vIG92ZXJmbG93XG4gICAgICAgIHNlbGYua2lsbEZsb2F0cygpO1xuICAgICAgICBib3ggPSBuZXcgR2VvbWV0cnlVdGlsLlJlY3QoXG4gICAgICAgICAgc2VsZi5nZXRMZWZ0RWRnZSgpLFxuICAgICAgICAgIHNlbGYuZ2V0VG9wRWRnZSgpLFxuICAgICAgICAgIHNlbGYuZ2V0UmlnaHRFZGdlKCksXG4gICAgICAgICAgc2VsZi5nZXRCb3R0b21FZGdlKCksXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzZWxmLnZlcnRpY2FsKSB7XG4gICAgICAgICAgYm94ID0gR2VvbWV0cnlVdGlsLnJvdGF0ZUJveChib3gpO1xuICAgICAgICB9XG4gICAgICAgIEdlb21ldHJ5VXRpbC5hZGRGbG9hdFRvQmFuZHMoXG4gICAgICAgICAgYm94LFxuICAgICAgICAgIHNlbGYuYmFuZHMsXG4gICAgICAgICAgZmxvYXRIb3JCb3gsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBmbG9hdFNpZGUsXG4gICAgICAgICk7XG4gICAgICAgIHNlbGYuY3JlYXRlRmxvYXRzKCk7XG4gICAgICAgIGlmIChmbG9hdFNpZGUgPT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgICBzZWxmLmxlZnRGbG9hdEVkZ2UgPSBmbG9hdEJveEVkZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5yaWdodEZsb2F0RWRnZSA9IGZsb2F0Qm94RWRnZTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmJvdHRvbW1vc3RGbG9hdFRvcCA9IGZsb2F0Qm94VG9wO1xuICAgICAgICBzZWxmLnVwZGF0ZU1heFJlYWNoZWRBZnRlckVkZ2UoZmxvYXRCb3hFZGdlKTtcbiAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0QWZ0ZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5tb2RpZnkoKTtcbiAgICAgICAgbm9kZUNvbnRleHQub3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICBmcmFtZS5maW5pc2gobm9kZUNvbnRleHQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHNldHVwRmxvYXRBcmVhKFxuICAgIGFyZWE6IFBhZ2VGbG9hdEFyZWEsXG4gICAgZmxvYXRSZWZlcmVuY2U6IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UsXG4gICAgZmxvYXRTaWRlOiBzdHJpbmcsXG4gICAgYW5jaG9yRWRnZTogbnVtYmVyIHwgbnVsbCxcbiAgICBzdHJhdGVneTogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneSxcbiAgICBjb25kaXRpb246IFBhZ2VGbG9hdHMuUGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uLFxuICApOiBib29sZWFuIHtcbiAgICBjb25zdCBmbG9hdExheW91dENvbnRleHQgPSB0aGlzLnBhZ2VGbG9hdExheW91dENvbnRleHQ7XG4gICAgY29uc3QgZmxvYXRDb250YWluZXIgPSBmbG9hdExheW91dENvbnRleHQuZ2V0Q29udGFpbmVyKGZsb2F0UmVmZXJlbmNlKTtcbiAgICBjb25zdCBlbGVtZW50ID0gYXJlYS5lbGVtZW50O1xuICAgIGZsb2F0Q29udGFpbmVyLmVsZW1lbnQucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICBhcmVhLmlzRmxvYXQgPSB0cnVlO1xuICAgIGFyZWEub3JpZ2luWCA9IGZsb2F0Q29udGFpbmVyLm9yaWdpblg7XG4gICAgYXJlYS5vcmlnaW5ZID0gZmxvYXRDb250YWluZXIub3JpZ2luWTtcbiAgICBhcmVhLnZlcnRpY2FsID0gZmxvYXRDb250YWluZXIudmVydGljYWw7XG4gICAgYXJlYS5tYXJnaW5MZWZ0ID0gYXJlYS5tYXJnaW5SaWdodCA9IGFyZWEubWFyZ2luVG9wID0gYXJlYS5tYXJnaW5Cb3R0b20gPSAwO1xuICAgIGFyZWEuYm9yZGVyTGVmdCA9IGFyZWEuYm9yZGVyUmlnaHQgPSBhcmVhLmJvcmRlclRvcCA9IGFyZWEuYm9yZGVyQm90dG9tID0gMDtcbiAgICBhcmVhLnBhZGRpbmdMZWZ0ID0gYXJlYS5wYWRkaW5nUmlnaHQgPSBhcmVhLnBhZGRpbmdUb3AgPSBhcmVhLnBhZGRpbmdCb3R0b20gPSAwO1xuICAgIGFyZWEuZXhjbHVzaW9ucyA9IChmbG9hdENvbnRhaW5lci5leGNsdXNpb25zIHx8IFtdKS5jb25jYXQoKTtcbiAgICBhcmVhLmZvcmNlTm9uZml0dGluZyA9ICFmbG9hdExheW91dENvbnRleHQuaGFzRmxvYXRGcmFnbWVudHMoKTtcbiAgICBhcmVhLmlubmVyU2hhcGUgPSBudWxsO1xuICAgIGNvbnN0IGNvbnRhaW5pbmdCbG9ja1JlY3QgPSBmbG9hdENvbnRhaW5lci5nZXRQYWRkaW5nUmVjdCgpO1xuICAgIGFyZWEuc2V0SG9yaXpvbnRhbFBvc2l0aW9uKFxuICAgICAgY29udGFpbmluZ0Jsb2NrUmVjdC54MSAtIGZsb2F0Q29udGFpbmVyLm9yaWdpblgsXG4gICAgICBjb250YWluaW5nQmxvY2tSZWN0LngyIC0gY29udGFpbmluZ0Jsb2NrUmVjdC54MSxcbiAgICApO1xuICAgIGFyZWEuc2V0VmVydGljYWxQb3NpdGlvbihcbiAgICAgIGNvbnRhaW5pbmdCbG9ja1JlY3QueTEgLSBmbG9hdENvbnRhaW5lci5vcmlnaW5ZLFxuICAgICAgY29udGFpbmluZ0Jsb2NrUmVjdC55MiAtIGNvbnRhaW5pbmdCbG9ja1JlY3QueTEsXG4gICAgKTtcbiAgICBzdHJhdGVneS5hZGp1c3RQYWdlRmxvYXRBcmVhKGFyZWEsIGZsb2F0Q29udGFpbmVyLCB0aGlzKTtcblxuICAgIC8vIENhbGN1bGF0ZSBiYW5kcyBmcm9tIHRoZSBleGNsdXNpb25zIGJlZm9yZSBzZXR0aW5nIGZsb2F0IGFyZWEgZGltZW5zaW9uc1xuICAgIGFyZWEuaW5pdCgpO1xuICAgIGNvbnN0IGZpdFdpdGhpbkNvbnRhaW5lciA9ICEhZmxvYXRMYXlvdXRDb250ZXh0LnNldEZsb2F0QXJlYURpbWVuc2lvbnMoXG4gICAgICBhcmVhLFxuICAgICAgZmxvYXRSZWZlcmVuY2UsXG4gICAgICBmbG9hdFNpZGUsXG4gICAgICBhbmNob3JFZGdlLFxuICAgICAgdHJ1ZSxcbiAgICAgICFmbG9hdExheW91dENvbnRleHQuaGFzRmxvYXRGcmFnbWVudHMoKSxcbiAgICAgIGNvbmRpdGlvbixcbiAgICApO1xuICAgIGlmIChmaXRXaXRoaW5Db250YWluZXIpIHtcbiAgICAgIC8vIE5ldyBkaW1lbnNpb25zIGhhdmUgYmVlbiBzZXQsIHJlbW92ZSBleGNsdXNpb24gZmxvYXRzIGFuZCByZS1pbml0XG4gICAgICBhcmVhLmtpbGxGbG9hdHMoKTtcbiAgICAgIGFyZWEuaW5pdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmbG9hdENvbnRhaW5lci5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxuICAgIHJldHVybiBmaXRXaXRoaW5Db250YWluZXI7XG4gIH1cblxuICBjcmVhdGVQYWdlRmxvYXRBcmVhKFxuICAgIGZsb2F0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdCB8IG51bGwsXG4gICAgZmxvYXRTaWRlOiBzdHJpbmcsXG4gICAgYW5jaG9yRWRnZTogbnVtYmVyIHwgbnVsbCxcbiAgICBzdHJhdGVneTogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneSxcbiAgICBjb25kaXRpb246IFBhZ2VGbG9hdHMuUGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uLFxuICApOiBQYWdlRmxvYXRBcmVhIHwgbnVsbCB7XG4gICAgY29uc3QgZmxvYXRBcmVhRWxlbWVudCA9IHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShmbG9hdEFyZWFFbGVtZW50LCBcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIik7XG4gICAgY29uc3QgcGFyZW50UGFnZUZsb2F0TGF5b3V0Q29udGV4dCA9IHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5nZXRQYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgICAgZmxvYXQuZmxvYXRSZWZlcmVuY2UsXG4gICAgKTtcblxuICAgIC8vIFRPRE86IGVzdGFibGlzaCBob3cgdG8gc3BlY2lmeSBhbiBhcHByb3ByaWF0ZSBnZW5lcmF0aW5nIGVsZW1lbnQgZm9yIHRoZVxuICAgIC8vIG5ldyBwYWdlIGZsb2F0IGxheW91dCBjb250ZXh0XG4gICAgY29uc3QgcGFnZUZsb2F0TGF5b3V0Q29udGV4dCA9IG5ldyBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICBudWxsLFxuICAgICAgUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5DT0xVTU4sXG4gICAgICBudWxsLFxuICAgICAgdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmZsb3dOYW1lLFxuICAgICAgZmxvYXQubm9kZVBvc2l0aW9uLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgKTtcbiAgICBjb25zdCBwYXJlbnRDb250YWluZXIgPSBwYXJlbnRQYWdlRmxvYXRMYXlvdXRDb250ZXh0LmdldENvbnRhaW5lcigpO1xuICAgIGNvbnN0IGZsb2F0QXJlYSA9IG5ldyBQYWdlRmxvYXRBcmVhKFxuICAgICAgZmxvYXRTaWRlLFxuICAgICAgZmxvYXRBcmVhRWxlbWVudCxcbiAgICAgIHRoaXMubGF5b3V0Q29udGV4dC5jbG9uZSgpLFxuICAgICAgdGhpcy5jbGllbnRMYXlvdXQsXG4gICAgICB0aGlzLmxheW91dENvbnN0cmFpbnQsXG4gICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgcGFyZW50Q29udGFpbmVyLFxuICAgICk7XG4gICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5zZXRDb250YWluZXIoZmxvYXRBcmVhKTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnNldHVwRmxvYXRBcmVhKFxuICAgICAgICBmbG9hdEFyZWEsXG4gICAgICAgIGZsb2F0LmZsb2F0UmVmZXJlbmNlLFxuICAgICAgICBmbG9hdFNpZGUsXG4gICAgICAgIGFuY2hvckVkZ2UsXG4gICAgICAgIHN0cmF0ZWd5LFxuICAgICAgICBjb25kaXRpb24sXG4gICAgICApXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmxvYXRBcmVhO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBsYXlvdXRTaW5nbGVQYWdlRmxvYXRGcmFnbWVudChcbiAgICBjb250aW51YXRpb25zOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdENvbnRpbnVhdGlvbltdLFxuICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgIGNsZWFyU2lkZTogc3RyaW5nIHwgbnVsbCxcbiAgICBhbGxvd0ZyYWdtZW50ZWQ6IGJvb2xlYW4sXG4gICAgc3RyYXRlZ3k6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3ksXG4gICAgYW5jaG9yRWRnZTogbnVtYmVyIHwgbnVsbCxcbiAgICBwYWdlRmxvYXRGcmFnbWVudD86IFBhZ2VGbG9hdHMuUGFnZUZsb2F0RnJhZ21lbnQgfCBudWxsLFxuICApOiBUYXNrLlJlc3VsdDxTaW5nbGVQYWdlRmxvYXRMYXlvdXRSZXN1bHQ+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0O1xuICAgIGNvbnN0IG9yaWdpbmFsQ29udGludWF0aW9ucyA9IHBhZ2VGbG9hdEZyYWdtZW50XG4gICAgICA/IHBhZ2VGbG9hdEZyYWdtZW50LmNvbnRpbnVhdGlvbnNcbiAgICAgIDogW107XG4gICAgY29udGludWF0aW9ucyA9IG9yaWdpbmFsQ29udGludWF0aW9ucy5jb25jYXQoY29udGludWF0aW9ucyk7XG4gICAgY29uc3QgZmlyc3RGbG9hdCA9IGNvbnRpbnVhdGlvbnNbMF0uZmxvYXQ7XG4gICAgY29uc3QgY29uZGl0aW9uID0gY29udGV4dC5nZXRQYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24oXG4gICAgICBmaXJzdEZsb2F0LFxuICAgICAgZmxvYXRTaWRlLFxuICAgICAgY2xlYXJTaWRlLFxuICAgICk7XG4gICAgY29uc3QgZmxvYXRBcmVhID0gdGhpcy5jcmVhdGVQYWdlRmxvYXRBcmVhKFxuICAgICAgZmlyc3RGbG9hdCxcbiAgICAgIGZsb2F0U2lkZSxcbiAgICAgIGFuY2hvckVkZ2UsXG4gICAgICBzdHJhdGVneSxcbiAgICAgIGNvbmRpdGlvbixcbiAgICApO1xuICAgIGNvbnN0IHJlc3VsdDogU2luZ2xlUGFnZUZsb2F0TGF5b3V0UmVzdWx0ID0ge1xuICAgICAgZmxvYXRBcmVhLFxuICAgICAgcGFnZUZsb2F0RnJhZ21lbnQ6IG51bGwsXG4gICAgICBuZXdQb3NpdGlvbjogbnVsbCxcbiAgICB9O1xuICAgIGlmICghZmxvYXRBcmVhKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQocmVzdWx0KTtcbiAgICB9XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPFNpbmdsZVBhZ2VGbG9hdExheW91dFJlc3VsdD4oXG4gICAgICBcImxheW91dFNpbmdsZVBhZ2VGbG9hdEZyYWdtZW50XCIsXG4gICAgKTtcbiAgICBsZXQgZmFpbGVkID0gZmFsc2U7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgIGlmIChpID49IGNvbnRpbnVhdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjID0gY29udGludWF0aW9uc1tpXTtcbiAgICAgICAgY29uc3QgZmxvYXRDaHVua1Bvc2l0aW9uID0gbmV3IFZ0cmVlSW1wbC5DaHVua1Bvc2l0aW9uKGMubm9kZVBvc2l0aW9uKTtcbiAgICAgICAgZmxvYXRBcmVhLmxheW91dChmbG9hdENodW5rUG9zaXRpb24sIHRydWUpLnRoZW4oKG5ld1Bvc2l0aW9uKSA9PiB7XG4gICAgICAgICAgcmVzdWx0Lm5ld1Bvc2l0aW9uID0gbmV3UG9zaXRpb247XG4gICAgICAgICAgaWYgKCFuZXdQb3NpdGlvbiB8fCBhbGxvd0ZyYWdtZW50ZWQpIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKCFmYWlsZWQpIHtcbiAgICAgICAgICBBc3NlcnRzLmFzc2VydChmbG9hdEFyZWEpO1xuICAgICAgICAgIGNvbnN0IGxvZ2ljYWxGbG9hdFNpZGUgPSBjb250ZXh0LnNldEZsb2F0QXJlYURpbWVuc2lvbnMoXG4gICAgICAgICAgICBmbG9hdEFyZWEsXG4gICAgICAgICAgICBmaXJzdEZsb2F0LmZsb2F0UmVmZXJlbmNlLFxuICAgICAgICAgICAgZmxvYXRTaWRlLFxuICAgICAgICAgICAgYW5jaG9yRWRnZSxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgYWxsb3dGcmFnbWVudGVkLFxuICAgICAgICAgICAgY29uZGl0aW9uLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFsb2dpY2FsRmxvYXRTaWRlKSB7XG4gICAgICAgICAgICBmYWlsZWQgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBuZXdGcmFnbWVudCA9IHN0cmF0ZWd5LmNyZWF0ZVBhZ2VGbG9hdEZyYWdtZW50KFxuICAgICAgICAgICAgICBjb250aW51YXRpb25zLFxuICAgICAgICAgICAgICBsb2dpY2FsRmxvYXRTaWRlLFxuICAgICAgICAgICAgICBmbG9hdEFyZWEsXG4gICAgICAgICAgICAgICEhcmVzdWx0Lm5ld1Bvc2l0aW9uLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnRleHQuYWRkUGFnZUZsb2F0RnJhZ21lbnQobmV3RnJhZ21lbnQsIHRydWUpO1xuICAgICAgICAgICAgcmVzdWx0LnBhZ2VGbG9hdEZyYWdtZW50ID0gbmV3RnJhZ21lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZyYW1lLmZpbmlzaChyZXN1bHQpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgbGF5b3V0UGFnZUZsb2F0SW5uZXIoXG4gICAgY29udGludWF0aW9uOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdENvbnRpbnVhdGlvbixcbiAgICBzdHJhdGVneTogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneSxcbiAgICBhbmNob3JFZGdlOiBudW1iZXIgfCBudWxsLFxuICAgIHBhZ2VGbG9hdEZyYWdtZW50PzogUGFnZUZsb2F0cy5QYWdlRmxvYXRGcmFnbWVudCxcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnBhZ2VGbG9hdExheW91dENvbnRleHQ7XG4gICAgY29uc3QgZmxvYXQgPSBjb250aW51YXRpb24uZmxvYXQ7XG4gICAgY29udGV4dC5zdGFzaEVuZEZsb2F0RnJhZ21lbnRzKGZsb2F0KTtcblxuICAgIGZ1bmN0aW9uIGNhbmNlbExheW91dChmbG9hdEFyZWEsIHBhZ2VGbG9hdEZyYWdtZW50KSB7XG4gICAgICBpZiAocGFnZUZsb2F0RnJhZ21lbnQpIHtcbiAgICAgICAgY29udGV4dC5yZW1vdmVQYWdlRmxvYXRGcmFnbWVudChwYWdlRmxvYXRGcmFnbWVudCwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGZsb2F0QXJlYSkge1xuICAgICAgICBmbG9hdEFyZWEuZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGZsb2F0QXJlYS5lbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQucmVzdG9yZVN0YXNoZWRGcmFnbWVudHMoZmxvYXQuZmxvYXRSZWZlcmVuY2UpO1xuICAgICAgY29udGV4dC5kZWZlclBhZ2VGbG9hdChjb250aW51YXRpb24pO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJsYXlvdXRQYWdlRmxvYXRJbm5lclwiKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLmxheW91dFNpbmdsZVBhZ2VGbG9hdEZyYWdtZW50KFxuICAgICAgW2NvbnRpbnVhdGlvbl0sXG4gICAgICBmbG9hdC5mbG9hdFNpZGUsXG4gICAgICBmbG9hdC5jbGVhclNpZGUsXG4gICAgICAhY29udGV4dC5oYXNGbG9hdEZyYWdtZW50cygpLFxuICAgICAgc3RyYXRlZ3ksXG4gICAgICBhbmNob3JFZGdlLFxuICAgICAgcGFnZUZsb2F0RnJhZ21lbnQsXG4gICAgKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGNvbnN0IGZsb2F0QXJlYSA9IHJlc3VsdC5mbG9hdEFyZWE7XG4gICAgICBjb25zdCBuZXdGcmFnbWVudCA9IHJlc3VsdC5wYWdlRmxvYXRGcmFnbWVudDtcbiAgICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0gcmVzdWx0Lm5ld1Bvc2l0aW9uO1xuICAgICAgaWYgKG5ld0ZyYWdtZW50KSB7XG4gICAgICAgIHNlbGZcbiAgICAgICAgICAubGF5b3V0U3Rhc2hlZFBhZ2VGbG9hdHMoZmxvYXQuZmxvYXRSZWZlcmVuY2UsIFtwYWdlRmxvYXRGcmFnbWVudF0pXG4gICAgICAgICAgLnRoZW4oKHN1Y2Nlc3MpID0+IHtcbiAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgIC8vIEFkZCBhZ2FpbiB0byBpbnZhbGlkYXRlIHRoZSBjb250ZXh0XG4gICAgICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KG5ld0ZyYWdtZW50KTtcbiAgICAgICAgICAgICAgY29udGV4dC5hZGRQYWdlRmxvYXRGcmFnbWVudChuZXdGcmFnbWVudCk7XG4gICAgICAgICAgICAgIGNvbnRleHQuZGlzY2FyZFN0YXNoZWRGcmFnbWVudHMoZmxvYXQuZmxvYXRSZWZlcmVuY2UpO1xuICAgICAgICAgICAgICBpZiAobmV3UG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250aW51YXRpb24gPSBuZXcgUGFnZUZsb2F0cy5QYWdlRmxvYXRDb250aW51YXRpb24oXG4gICAgICAgICAgICAgICAgICBmbG9hdCxcbiAgICAgICAgICAgICAgICAgIG5ld1Bvc2l0aW9uLnByaW1hcnksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRlZmVyUGFnZUZsb2F0KGNvbnRpbnVhdGlvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2FuY2VsTGF5b3V0KGZsb2F0QXJlYSwgbmV3RnJhZ21lbnQpO1xuICAgICAgICAgICAgICBmcmFtZS5maW5pc2goZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FuY2VsTGF5b3V0KGZsb2F0QXJlYSwgbmV3RnJhZ21lbnQpO1xuICAgICAgICBmcmFtZS5maW5pc2goZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBSZXByZXNlbnRzIGlmIHRoZSBsYXlvdXQgd2FzIHN1Y2NlZWRlZCBvciBub3RcbiAgICovXG4gIHByaXZhdGUgbGF5b3V0U3Rhc2hlZFBhZ2VGbG9hdHMoXG4gICAgZmxvYXRSZWZlcmVuY2U6IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UsXG4gICAgZXhjbHVkZWQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0RnJhZ21lbnRbXSxcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnBhZ2VGbG9hdExheW91dENvbnRleHQ7XG4gICAgY29uc3Qgc3Rhc2hlZEZsb2F0RnJhZ21lbnRzID0gY29udGV4dC5nZXRTdGFzaGVkRmxvYXRGcmFnbWVudHMoXG4gICAgICBmbG9hdFJlZmVyZW5jZSxcbiAgICApO1xuICAgIGNvbnN0IG5ld0Zsb2F0QXJlYXMgPSBbXTtcbiAgICBjb25zdCBuZXdGcmFnbWVudHMgPSBbXTtcbiAgICBsZXQgZmFpbGVkID0gZmFsc2U7XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPGJvb2xlYW4+KFwibGF5b3V0U3Rhc2hlZFBhZ2VGbG9hdHNcIik7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgIGlmIChpID49IHN0YXNoZWRGbG9hdEZyYWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXNoZWRGcmFnbWVudCA9IHN0YXNoZWRGbG9hdEZyYWdtZW50c1tpXTtcbiAgICAgICAgaWYgKGV4Y2x1ZGVkLmluY2x1ZGVzKHN0YXNoZWRGcmFnbWVudCkpIHtcbiAgICAgICAgICBpKys7XG4gICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdHJhdGVneSA9IG5ldyBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5UmVzb2x2ZXIoKS5maW5kQnlGbG9hdChcbiAgICAgICAgICBzdGFzaGVkRnJhZ21lbnQuY29udGludWF0aW9uc1swXS5mbG9hdCxcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBWYWx1ZSBvZiAnY2xlYXInIGlzIGlycmVsZXZhbnQgd2hlbiBsYXlpbmcgb3V0IHN0YXNoZWQgZmxvYXRzXG4gICAgICAgIC8vIHNpbmNlIHdoZXRoZXIgdGhlICdjbGVhcicgdmFsdWUgYWxsb3dzIHBsYWNpbmcgdGhlIGZsb2F0XG4gICAgICAgIC8vIGhlcmUgaXMgYWxyZWFkeSByZXNvbHZlZC5cbiAgICAgICAgc2VsZlxuICAgICAgICAgIC5sYXlvdXRTaW5nbGVQYWdlRmxvYXRGcmFnbWVudChcbiAgICAgICAgICAgIHN0YXNoZWRGcmFnbWVudC5jb250aW51YXRpb25zLFxuICAgICAgICAgICAgc3Rhc2hlZEZyYWdtZW50LmZsb2F0U2lkZSxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIHN0cmF0ZWd5LFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICApXG4gICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmxvYXRBcmVhID0gcmVzdWx0LmZsb2F0QXJlYTtcbiAgICAgICAgICAgIGlmIChmbG9hdEFyZWEpIHtcbiAgICAgICAgICAgICAgbmV3RmxvYXRBcmVhcy5wdXNoKGZsb2F0QXJlYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmcmFnbWVudCA9IHJlc3VsdC5wYWdlRmxvYXRGcmFnbWVudDtcbiAgICAgICAgICAgIGlmIChmcmFnbWVudCkge1xuICAgICAgICAgICAgICBuZXdGcmFnbWVudHMucHVzaChmcmFnbWVudCk7XG4gICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKGZhaWxlZCkge1xuICAgICAgICAgIG5ld0ZyYWdtZW50cy5mb3JFYWNoKChmcmFnbWVudCkgPT4ge1xuICAgICAgICAgICAgY29udGV4dC5yZW1vdmVQYWdlRmxvYXRGcmFnbWVudChmcmFnbWVudCwgdHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbmV3RmxvYXRBcmVhcy5mb3JFYWNoKChhcmVhKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtID0gYXJlYS5lbGVtZW50O1xuICAgICAgICAgICAgaWYgKGVsZW0gJiYgZWxlbS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgIGVsZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGFzaGVkRmxvYXRGcmFnbWVudHMuZm9yRWFjaCgoZnJhZ21lbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW0gPSBmcmFnbWVudC5hcmVhLmVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoZWxlbSAmJiBlbGVtLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgZWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lLmZpbmlzaCghZmFpbGVkKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHNldEZsb2F0QW5jaG9yVmlld05vZGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIGNvbnN0IHBhcmVudCA9IG5vZGVDb250ZXh0LnZpZXdOb2RlLnBhcmVudE5vZGU7XG4gICAgY29uc3QgYW5jaG9yID0gcGFyZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgYW5jaG9yLnNldEF0dHJpYnV0ZShWdHJlZUltcGwuU1BFQ0lBTF9BVFRSLCBcIjFcIik7XG4gICAgaWYgKG5vZGVDb250ZXh0LmZsb2F0U2lkZSA9PT0gXCJmb290bm90ZVwiKSB7XG4gICAgICAvLyBEZWZhdWx0cyBmb3IgZm9vdG5vdGUtY2FsbCwgY2FuIGJlIG92ZXJyaWRlbiBieSB0aGUgc3R5bGVzaGVldC5cbiAgICAgIHRoaXMubGF5b3V0Q29udGV4dC5hcHBseVBzZXVkb2VsZW1lbnRTdHlsZShcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIFwiZm9vdG5vdGUtY2FsbFwiLFxuICAgICAgICBhbmNob3IsXG4gICAgICApO1xuICAgIH1cbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoYW5jaG9yKTtcbiAgICBwYXJlbnQucmVtb3ZlQ2hpbGQobm9kZUNvbnRleHQudmlld05vZGUpO1xuICAgIGNvbnN0IG5vZGVDb250ZXh0QWZ0ZXIgPSBub2RlQ29udGV4dC5tb2RpZnkoKTtcbiAgICBub2RlQ29udGV4dEFmdGVyLmFmdGVyID0gdHJ1ZTtcbiAgICBub2RlQ29udGV4dEFmdGVyLnZpZXdOb2RlID0gYW5jaG9yO1xuICAgIHJldHVybiBub2RlQ29udGV4dEFmdGVyO1xuICB9XG5cbiAgcmVzb2x2ZUZsb2F0UmVmZXJlbmNlRnJvbUNvbHVtblNwYW4oXG4gICAgZmxvYXRSZWZlcmVuY2U6IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UsXG4gICAgY29sdW1uU3BhbjogQ3NzLlZhbCxcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2U+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZSA9IFRhc2submV3RnJhbWUoXG4gICAgICBcInJlc29sdmVGbG9hdFJlZmVyZW5jZUZyb21Db2x1bW5TcGFuXCIsXG4gICAgKSBhcyBUYXNrLkZyYW1lPFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2U+O1xuICAgIGNvbnN0IGNvbHVtbkNvbnRleHQgPSB0aGlzLnBhZ2VGbG9hdExheW91dENvbnRleHQ7XG4gICAgY29uc3QgcmVnaW9uQ29udGV4dCA9IGNvbHVtbkNvbnRleHQuZ2V0UGFnZUZsb2F0TGF5b3V0Q29udGV4dChcbiAgICAgIFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuUkVHSU9OLFxuICAgICk7XG4gICAgY29uc3QgaXNSZWdpb25XaWRlciA9XG4gICAgICBjb2x1bW5Db250ZXh0LmdldENvbnRhaW5lcigpLndpZHRoIDwgcmVnaW9uQ29udGV4dC5nZXRDb250YWluZXIoKS53aWR0aDtcbiAgICBpZiAoaXNSZWdpb25XaWRlciAmJiBmbG9hdFJlZmVyZW5jZSA9PT0gUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5DT0xVTU4pIHtcbiAgICAgIGlmIChjb2x1bW5TcGFuID09PSBDc3MuaWRlbnQuYXV0bykge1xuICAgICAgICB0aGlzLmJ1aWxkRGVlcEVsZW1lbnRWaWV3KG5vZGVDb250ZXh0LmNvcHkoKSkudGhlbigocG9zaXRpb24pID0+IHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gcG9zaXRpb24udmlld05vZGUgYXMgRWxlbWVudDtcbiAgICAgICAgICBsZXQgaW5saW5lU2l6ZSA9IFNpemluZy5nZXRTaXplKHNlbGYuY2xpZW50TGF5b3V0LCBlbGVtZW50LCBbXG4gICAgICAgICAgICBTaXppbmcuU2l6ZS5NSU5fQ09OVEVOVF9JTkxJTkVfU0laRSxcbiAgICAgICAgICBdKVtTaXppbmcuU2l6ZS5NSU5fQ09OVEVOVF9JTkxJTkVfU0laRV07XG4gICAgICAgICAgY29uc3QgbWFyZ2luID0gc2VsZi5nZXRDb21wdXRlZE1hcmdpbihlbGVtZW50KTtcbiAgICAgICAgICBpZiAoc2VsZi52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgaW5saW5lU2l6ZSArPSBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5saW5lU2l6ZSArPSBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlubGluZVNpemUgPiBzZWxmLndpZHRoKSB7XG4gICAgICAgICAgICBmcmFtZS5maW5pc2goUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5SRUdJT04pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcmFtZS5maW5pc2goZmxvYXRSZWZlcmVuY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGNvbHVtblNwYW4gPT09IENzcy5pZGVudC5hbGwpIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuUkVHSU9OKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChmbG9hdFJlZmVyZW5jZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZyYW1lLmZpbmlzaChmbG9hdFJlZmVyZW5jZSk7XG4gICAgfVxuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGxheW91dFBhZ2VGbG9hdChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dDtcbiAgICBjb25zdCBzdHJhdGVneSA9IG5ldyBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5UmVzb2x2ZXIoKS5maW5kQnlOb2RlQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICk7XG4gICAgbGV0IGNvbnQ6IFRhc2suUmVzdWx0PFBhZ2VGbG9hdHMuUGFnZUZsb2F0PjtcbiAgICBjb25zdCBmbG9hdCA9IGNvbnRleHQuZmluZFBhZ2VGbG9hdEJ5Tm9kZVBvc2l0aW9uKFxuICAgICAgbm9kZUNvbnRleHQudG9Ob2RlUG9zaXRpb24oKSxcbiAgICApO1xuICAgIGlmICghZmxvYXQpIHtcbiAgICAgIGNvbnQgPSBzdHJhdGVneS5jcmVhdGVQYWdlRmxvYXQobm9kZUNvbnRleHQsIGNvbnRleHQsIHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ID0gVGFzay5uZXdSZXN1bHQoZmxvYXQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udC50aGVuQXN5bmMoKGZsb2F0KSA9PiB7XG4gICAgICBjb25zdCBub2RlUG9zaXRpb24gPSBWdHJlZUltcGwubmV3Tm9kZVBvc2l0aW9uRnJvbU5vZGVDb250ZXh0KFxuICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgMCxcbiAgICAgICk7XG4gICAgICBjb25zdCBub2RlQ29udGV4dEFmdGVyID0gc2VsZi5zZXRGbG9hdEFuY2hvclZpZXdOb2RlKG5vZGVDb250ZXh0KTtcbiAgICAgIGNvbnN0IHBhZ2VGbG9hdEZyYWdtZW50ID0gc3RyYXRlZ3kuZmluZFBhZ2VGbG9hdEZyYWdtZW50KGZsb2F0LCBjb250ZXh0KTtcbiAgICAgIGNvbnN0IGNvbnRpbnVhdGlvbiA9IG5ldyBQYWdlRmxvYXRzLlBhZ2VGbG9hdENvbnRpbnVhdGlvbihcbiAgICAgICAgZmxvYXQsXG4gICAgICAgIG5vZGVQb3NpdGlvbixcbiAgICAgICk7XG4gICAgICBpZiAocGFnZUZsb2F0RnJhZ21lbnQgJiYgcGFnZUZsb2F0RnJhZ21lbnQuaGFzRmxvYXQoZmxvYXQpKSB7XG4gICAgICAgIGNvbnRleHQucmVnaXN0ZXJQYWdlRmxvYXRBbmNob3IoZmxvYXQsIG5vZGVDb250ZXh0QWZ0ZXIudmlld05vZGUpO1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobm9kZUNvbnRleHRBZnRlciBhcyBWdHJlZS5Ob2RlQ29udGV4dCk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBjb250ZXh0LmlzRm9yYmlkZGVuKGZsb2F0KSB8fFxuICAgICAgICBjb250ZXh0Lmhhc1ByZWNlZGluZ0Zsb2F0c0RlZmVycmVkVG9OZXh0KGZsb2F0KVxuICAgICAgKSB7XG4gICAgICAgIGNvbnRleHQuZGVmZXJQYWdlRmxvYXQoY29udGludWF0aW9uKTtcbiAgICAgICAgY29udGV4dC5yZWdpc3RlclBhZ2VGbG9hdEFuY2hvcihmbG9hdCwgbm9kZUNvbnRleHRBZnRlci52aWV3Tm9kZSk7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChub2RlQ29udGV4dEFmdGVyIGFzIFZ0cmVlLk5vZGVDb250ZXh0KTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5ub2RlQ29udGV4dE92ZXJmbG93aW5nRHVlVG9SZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZWRnZSA9IExheW91dEhlbHBlci5jYWxjdWxhdGVFZGdlKFxuICAgICAgICAgIG5vZGVDb250ZXh0QWZ0ZXIsXG4gICAgICAgICAgc2VsZi5jbGllbnRMYXlvdXQsXG4gICAgICAgICAgMCxcbiAgICAgICAgICBzZWxmLnZlcnRpY2FsLFxuICAgICAgICApO1xuICAgICAgICBpZiAoc2VsZi5pc092ZXJmbG93bihlZGdlKSkge1xuICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChub2RlQ29udGV4dEFmdGVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc2VsZlxuICAgICAgICAgICAgLmxheW91dFBhZ2VGbG9hdElubmVyKFxuICAgICAgICAgICAgICBjb250aW51YXRpb24sXG4gICAgICAgICAgICAgIHN0cmF0ZWd5LFxuICAgICAgICAgICAgICBlZGdlLFxuICAgICAgICAgICAgICBwYWdlRmxvYXRGcmFnbWVudCxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC50aGVuQXN5bmMoKHN1Y2Nlc3MpID0+IHtcbiAgICAgICAgICAgICAgQXNzZXJ0cy5hc3NlcnQoZmxvYXQpO1xuICAgICAgICAgICAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlZ2lzdGVyUGFnZUZsb2F0QW5jaG9yKFxuICAgICAgICAgICAgICAgICAgZmxvYXQsXG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dEFmdGVyLnZpZXdOb2RlLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG5vZGVDb250ZXh0QWZ0ZXIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNyZWF0ZUp1c3RpZmljYXRpb25BZGp1c3RtZW50RWxlbWVudChcbiAgICBpbnNlcnRpb25Qb2ludDogTm9kZSxcbiAgICBkb2M6IERvY3VtZW50LFxuICAgIHBhcmVudE5vZGU6IE5vZGUsXG4gICAgdmVydGljYWw6IGJvb2xlYW4sXG4gICk6IEhUTUxFbGVtZW50IHtcbiAgICBjb25zdCBzcGFuID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIHNwYW4uc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgc3Bhbi5zdHlsZS52ZXJ0aWNhbEFsaWduID0gXCJ0b3BcIjtcbiAgICBzcGFuLnNldEF0dHJpYnV0ZShWdHJlZUltcGwuU1BFQ0lBTF9BVFRSLCBcIjFcIik7XG4gICAgY29uc3QgaW5uZXIgPSBkb2MuY3JlYXRlRWxlbWVudChcInNwYW5cIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaW5uZXIuc3R5bGUuZm9udFNpemUgPSBcIjBcIjtcbiAgICBpbm5lci5zdHlsZS5saW5lSGVpZ2h0ID0gXCIwXCI7XG4gICAgaW5uZXIudGV4dENvbnRlbnQgPSBcIiAjXCI7XG4gICAgc3Bhbi5hcHBlbmRDaGlsZChpbm5lcik7XG5cbiAgICAvLyBNZWFzdXJlIGlubGluZS1zdGFydCBhbmQgaW5saW5lLWVuZCBlZGdlIHBvc2l0aW9ucyBvZiB0aGUgbGluZSBib3gsXG4gICAgLy8gdGFraW5nIChleGNsdXNpb24pIGZsb2F0cyBpbnRvIGNvbnNpZGVyYXRpb25cbiAgICBzcGFuLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgc3Bhbi5zdHlsZS50ZXh0SW5kZW50ID0gXCIwXCI7XG4gICAgc3Bhbi5zdHlsZS50ZXh0QWxpZ24gPSBcImxlZnRcIjtcbiAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShzcGFuLCBpbnNlcnRpb25Qb2ludCk7XG4gICAgY29uc3QgbGVmdFBvcyA9IHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KGlubmVyKTtcbiAgICBzcGFuLnN0eWxlLnRleHRBbGlnbiA9IFwicmlnaHRcIjtcbiAgICBjb25zdCByaWdodFBvcyA9IHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KGlubmVyKTtcbiAgICBzcGFuLnN0eWxlLnRleHRBbGlnbiA9IFwiXCI7XG4gICAgaWYgKEJhc2UuY2hlY2tJbmxpbmVCbG9ja0p1c3RpZmljYXRpb25CdWcoZG9jdW1lbnQuYm9keSkpIHtcbiAgICAgIC8vIEZvciBDaHJvbWVcbiAgICAgIHNwYW4uc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZvciBGaXJlZm94LCBFZGdlIGFuZCBJRVxuICAgICAgc3Bhbi5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICB9XG4gICAgY29uc3QgcGFkZGluZyA9IHZlcnRpY2FsXG4gICAgICA/IHJpZ2h0UG9zLnRvcCAtIGxlZnRQb3MudG9wXG4gICAgICA6IHJpZ2h0UG9zLmxlZnQgLSBsZWZ0UG9zLmxlZnQ7XG4gICAgY29uc3QgcGFkZGluZ1N0ciA9IHBhZGRpbmcgPj0gMSA/IGAke3BhZGRpbmcgLSAxfXB4YCA6IFwiMTAwJVwiO1xuICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgc3Bhbi5zdHlsZS5wYWRkaW5nVG9wID0gcGFkZGluZ1N0cjtcbiAgICB9IGVsc2Uge1xuICAgICAgc3Bhbi5zdHlsZS5wYWRkaW5nTGVmdCA9IHBhZGRpbmdTdHI7XG4gICAgfVxuICAgIHJldHVybiBzcGFuO1xuICB9XG5cbiAgYWRkQW5kQWRqdXN0SnVzdGlmaWNhdGlvbkVsZW1lbnQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGluc2VydEFmdGVyOiBib29sZWFuLFxuICAgIG5vZGU6IE5vZGUsXG4gICAgaW5zZXJ0aW9uUG9pbnQ6IE5vZGUsXG4gICAgZG9jOiBEb2N1bWVudCxcbiAgICBwYXJlbnROb2RlOiBOb2RlLFxuICApOiBIVE1MRWxlbWVudCB7XG4gICAgZml4SnVzdGlmaWNhdGlvbk9uSHlwaGVuKG5vZGVDb250ZXh0LCBpbnNlcnRBZnRlciwgbm9kZSwgaW5zZXJ0aW9uUG9pbnQpO1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZUp1c3RpZmljYXRpb25BZGp1c3RtZW50RWxlbWVudChcbiAgICAgIGluc2VydGlvblBvaW50LFxuICAgICAgZG9jLFxuICAgICAgcGFyZW50Tm9kZSxcbiAgICAgIG5vZGVDb250ZXh0LnZlcnRpY2FsLFxuICAgICk7XG4gIH1cblxuICBjb21wZW5zYXRlSnVzdGlmaWNhdGlvbkxpbmVIZWlnaHQoXG4gICAgc3BhbjogRWxlbWVudCxcbiAgICBicjogRWxlbWVudCxcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICkge1xuICAgIGNvbnN0IHNwYW5SZWN0ID0gdGhpcy5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3Qoc3Bhbik7XG4gICAgY29uc3QgYnJSZWN0ID0gdGhpcy5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3QoYnIpO1xuICAgIGlmIChub2RlQ29udGV4dC52ZXJ0aWNhbCkge1xuICAgICAgKGJyIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5tYXJnaW5SaWdodCA9IGAke2JyUmVjdC5yaWdodCAtXG4gICAgICAgIHNwYW5SZWN0LnJpZ2h0fXB4YDtcbiAgICAgIChiciBhcyBIVE1MRWxlbWVudCkuc3R5bGUud2lkdGggPSBcIjBweFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAoYnIgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLm1hcmdpblRvcCA9IGAke3NwYW5SZWN0LnRvcCAtIGJyUmVjdC50b3B9cHhgO1xuICAgICAgKGJyIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5oZWlnaHQgPSBcIjBweFwiO1xuICAgIH1cbiAgICBici5zZXRBdHRyaWJ1dGUoVnRyZWVJbXBsLlNQRUNJQUxfQVRUUiwgXCIxXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpeCBqdXN0aWZpY2F0aW9uIG9mIHRoZSBsYXN0IGxpbmUgb2YgdGV4dCBicm9rZW4gYWNyb3NzIHBhZ2VzIChpZlxuICAgKiBuZWVkZWQpLlxuICAgKi9cbiAgZml4SnVzdGlmaWNhdGlvbklmTmVlZGVkKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBlbmRPZkNvbHVtbjogYm9vbGVhbixcbiAgKTogdm9pZCB7XG4gICAgaWYgKG5vZGVDb250ZXh0LmFmdGVyICYmICFub2RlQ29udGV4dC5pbmxpbmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGVuZE9mQ29sdW1uKSB7XG4gICAgICBsZXQgdGV4dEFsaWduID0gXCJcIjtcbiAgICAgIGZvciAoXG4gICAgICAgIGxldCBwYXJlbnQgPSBub2RlQ29udGV4dC5wYXJlbnQ7XG4gICAgICAgIHBhcmVudCAmJiAhdGV4dEFsaWduO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50XG4gICAgICApIHtcbiAgICAgICAgaWYgKCFwYXJlbnQuaW5saW5lICYmIHBhcmVudC52aWV3Tm9kZSkge1xuICAgICAgICAgIHRleHRBbGlnbiA9IChwYXJlbnQudmlld05vZGUgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnRleHRBbGlnbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRleHRBbGlnbiAhPT0gXCJqdXN0aWZ5XCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBub2RlID0gbm9kZUNvbnRleHQudmlld05vZGU7XG4gICAgY29uc3QgZG9jID0gbm9kZS5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IGluc2VydEFmdGVyID1cbiAgICAgIGVuZE9mQ29sdW1uICYmIChub2RlQ29udGV4dC5hZnRlciB8fCBub2RlLm5vZGVUeXBlICE9IDEpO1xuICAgIGxldCBpbnNlcnRpb25Qb2ludCA9IGluc2VydEFmdGVyID8gbm9kZS5uZXh0U2libGluZyA6IG5vZGU7XG4gICAgaWYgKGluc2VydGlvblBvaW50ICYmICFpbnNlcnRpb25Qb2ludC5wYXJlbnROb2RlKSB7XG4gICAgICAvLyBQb3NzaWJsZSBpZiByZW1vdmVTZWxmID0gZmFsc2UgaW4gZmluaXNoQnJlYWsoKVxuICAgICAgaW5zZXJ0aW9uUG9pbnQgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJlbnROb2RlID1cbiAgICAgIG5vZGUucGFyZW50Tm9kZSB8fCAobm9kZUNvbnRleHQucGFyZW50ICYmIG5vZGVDb250ZXh0LnBhcmVudC52aWV3Tm9kZSk7XG4gICAgaWYgKCFwYXJlbnROb2RlKSB7XG4gICAgICAvLyBQb3NzaWJsZSBpZiBub3RoaW5nIHdhcyBhZGRlZCB0byB0aGUgY29sdW1uXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNwYW4gPSB0aGlzLmFkZEFuZEFkanVzdEp1c3RpZmljYXRpb25FbGVtZW50KFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICBpbnNlcnRBZnRlcixcbiAgICAgIG5vZGUsXG4gICAgICBpbnNlcnRpb25Qb2ludCxcbiAgICAgIGRvYyxcbiAgICAgIHBhcmVudE5vZGUsXG4gICAgKTtcbiAgICBpZiAoIWVuZE9mQ29sdW1uKSB7XG4gICAgICBjb25zdCBiciA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYnIsIGluc2VydGlvblBvaW50KTtcbiAgICAgIHRoaXMuY29tcGVuc2F0ZUp1c3RpZmljYXRpb25MaW5lSGVpZ2h0KHNwYW4sIGJyLCBub2RlQ29udGV4dCk7XG4gICAgfVxuICB9XG5cbiAgcHJvY2Vzc0xpbmVTdHlsaW5nKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICByZXNOb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwicHJvY2Vzc0xpbmVTdHlsaW5nXCIsXG4gICAgKTtcbiAgICBpZiAoVklWTElPU1RZTEVfREVCVUcpIHtcbiAgICAgIHZhbGlkYXRlQ2hlY2tQb2ludHMoY2hlY2tQb2ludHMpO1xuICAgIH1cbiAgICBsZXQgbGFzdENoZWNrUG9pbnRzID0gY2hlY2tQb2ludHMuY29uY2F0KFtdKTsgLy8gbWFrZSBhIGNvcHlcbiAgICBjaGVja1BvaW50cy5zcGxpY2UoMCwgY2hlY2tQb2ludHMubGVuZ3RoKTsgLy8gbWFrZSBlbXB0eVxuICAgIGxldCB0b3RhbExpbmVDb3VudCA9IDA7XG4gICAgbGV0IGZpcnN0UHNldWRvID0gbm9kZUNvbnRleHQuZmlyc3RQc2V1ZG87IC8vIDpmaXJzdC1sZXR0ZXIgaXMgbm90IHByb2Nlc3NlZCBoZXJlXG4gICAgaWYgKGZpcnN0UHNldWRvLmNvdW50ID09IDApIHtcbiAgICAgIGZpcnN0UHNldWRvID0gZmlyc3RQc2V1ZG8ub3V0ZXI7IC8vIG1vdmUgdG8gbGluZSBwc2V1ZG9lbGVtZW50IChpZiBhbnkpXG4gICAgfVxuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgIGlmICghZmlyc3RQc2V1ZG8pIHtcbiAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpbmVQb3NpdGlvbnMgPSBzZWxmLmZpbmRMaW5lUG9zaXRpb25zKGxhc3RDaGVja1BvaW50cyk7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gZmlyc3RQc2V1ZG8uY291bnQgLSB0b3RhbExpbmVDb3VudDtcbiAgICAgICAgaWYgKGxpbmVQb3NpdGlvbnMubGVuZ3RoIDw9IGNvdW50KSB7XG4gICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsaW5lQnJlYWsgPSBzZWxmLmZpbmRBY2NlcHRhYmxlQnJlYWtJbnNpZGUoXG4gICAgICAgICAgbGFzdENoZWNrUG9pbnRzLFxuICAgICAgICAgIGxpbmVQb3NpdGlvbnNbY291bnQgLSAxXSxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICApO1xuICAgICAgICBpZiAobGluZUJyZWFrID09IG51bGwpIHtcbiAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuZmluaXNoQnJlYWsobGluZUJyZWFrLCBmYWxzZSwgZmFsc2UpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHRvdGFsTGluZUNvdW50ICs9IGNvdW50O1xuICAgICAgICAgIHNlbGYubGF5b3V0Q29udGV4dFxuICAgICAgICAgICAgLnBlZWxPZmYobGluZUJyZWFrLCAwKVxuICAgICAgICAgICAgLnRoZW4oKHJlc05vZGVDb250ZXh0UGFyYW0pID0+IHtcbiAgICAgICAgICAgICAgbm9kZUNvbnRleHQgPSByZXNOb2RlQ29udGV4dFBhcmFtO1xuICAgICAgICAgICAgICBzZWxmLmZpeEp1c3RpZmljYXRpb25JZk5lZWRlZChub2RlQ29udGV4dCwgZmFsc2UpO1xuICAgICAgICAgICAgICBmaXJzdFBzZXVkbyA9IG5vZGVDb250ZXh0LmZpcnN0UHNldWRvO1xuICAgICAgICAgICAgICBsYXN0Q2hlY2tQb2ludHMgPSBbXTsgLy8gV2lwZSBvdXQgbGluZSBicmVha3MgaW5zaWRlIHBzZXVkb2VsZW1lbnRzXG4gICAgICAgICAgICAgIHNlbGZcbiAgICAgICAgICAgICAgICAuYnVpbGRWaWV3VG9OZXh0QmxvY2tFZGdlKG5vZGVDb250ZXh0LCBsYXN0Q2hlY2tQb2ludHMpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc05vZGVDb250ZXh0UGFyYW0pID0+IHtcbiAgICAgICAgICAgICAgICAgIHJlc05vZGVDb250ZXh0ID0gcmVzTm9kZUNvbnRleHRQYXJhbTtcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGNoZWNrUG9pbnRzLCBsYXN0Q2hlY2tQb2ludHMpO1xuICAgICAgICBpZiAoVklWTElPU1RZTEVfREVCVUcpIHtcbiAgICAgICAgICB2YWxpZGF0ZUNoZWNrUG9pbnRzKGNoZWNrUG9pbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZS5maW5pc2gocmVzTm9kZUNvbnRleHQpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgaXNMb25lSW1hZ2UoY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10pOiBib29sZWFuIHtcbiAgICBpZiAoY2hlY2tQb2ludHMubGVuZ3RoICE9IDIgJiYgdGhpcy5icmVha1Bvc2l0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICBjaGVja1BvaW50c1swXS5zb3VyY2VOb2RlID09IGNoZWNrUG9pbnRzWzFdLnNvdXJjZU5vZGUgJiZcbiAgICAgIG1lZGlhVGFnc1soY2hlY2tQb2ludHNbMF0uc291cmNlTm9kZSBhcyBFbGVtZW50KS5sb2NhbE5hbWVdXG4gICAgKTtcbiAgfVxuXG4gIGdldFRyYWlsaW5nTWFyZ2luRWRnZUFkanVzdG1lbnQoXG4gICAgdHJhaWxpbmdFZGdlQ29udGV4dHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICk6IG51bWJlciB7XG4gICAgLy8gTWFyZ2lucyBwdXNoIHRoZSBjb21wdXRlZCBoZWlnaHQsIGJ1dCBhcmUgbm90IGNvdW50ZWQgYXMgb3ZlcmZsb3cuIFdlXG4gICAgLy8gbmVlZCB0byBmaW5kIHRoZSBvdmVyYWxsIGNvbGxhcHNlZCBtYXJnaW4gZnJvbSBhbGwgZW5jbG9zZWQgYmxvY2tzLlxuICAgIGxldCBtYXhQb3MgPSAwO1xuICAgIGxldCBtaW5OZWcgPSAwO1xuICAgIGZvciAobGV0IGkgPSB0cmFpbGluZ0VkZ2VDb250ZXh0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3Qgbm9kZUNvbnRleHQgPSB0cmFpbGluZ0VkZ2VDb250ZXh0c1tpXTtcbiAgICAgIGlmIChcbiAgICAgICAgIW5vZGVDb250ZXh0LmFmdGVyIHx8XG4gICAgICAgICFub2RlQ29udGV4dC52aWV3Tm9kZSB8fFxuICAgICAgICBub2RlQ29udGV4dC52aWV3Tm9kZS5ub2RlVHlwZSAhPSAxXG4gICAgICApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjb25zdCBtYXJnaW4gPSB0aGlzLmdldENvbXB1dGVkTWFyZ2luKG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQpO1xuICAgICAgY29uc3QgbSA9IHRoaXMudmVydGljYWwgPyAtbWFyZ2luLmxlZnQgOiBtYXJnaW4uYm90dG9tO1xuICAgICAgaWYgKG0gPiAwKSB7XG4gICAgICAgIG1heFBvcyA9IE1hdGgubWF4KG1heFBvcywgbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtaW5OZWcgPSBNYXRoLm1pbihtaW5OZWcsIG0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF4UG9zIC0gbWluTmVnO1xuICB9XG5cbiAgLyoqXG4gICAqIExheW91dCBhIHNpbmdsZSBDU1MgYm94LlxuICAgKi9cbiAgbGF5b3V0QnJlYWthYmxlQmxvY2soXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcImxheW91dEJyZWFrYWJsZUJsb2NrXCIsXG4gICAgKTtcbiAgICBjb25zdCBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSA9IFtdO1xuICAgIHNlbGZcbiAgICAgIC5idWlsZFZpZXdUb05leHRCbG9ja0VkZ2Uobm9kZUNvbnRleHQsIGNoZWNrUG9pbnRzKVxuICAgICAgLnRoZW4oKHJlc05vZGVDb250ZXh0KSA9PiB7XG4gICAgICAgIC8vIGF0IHRoaXMgcG9pbnQgYSBzaW5nbGUgYmxvY2sgd2FzIGFwcGVuZGVkIHRvIHRoZSBjb2x1bW5cbiAgICAgICAgLy8gZmxvd1Bvc2l0aW9uIGlzIGVpdGhlciBudWxsIG9yXG4gICAgICAgIC8vICAtIGlmICFhZnRlcjogY29udGFpbnMgdmlldyBmb3IgdGhlIG5leHQgYmxvY2sgZWxlbWVudFxuICAgICAgICAvLyAgLSBpZiBhZnRlcjogY29udGFpbnMgdmlldyBmb3IgdGhlIGVuY2xvc2luZyBibG9jayBlbGVtZW50XG4gICAgICAgIGNvbnN0IGNoZWNrUG9pbnRJbmRleCA9IGNoZWNrUG9pbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgIGlmIChjaGVja1BvaW50SW5kZXggPCAwKSB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHJlc05vZGVDb250ZXh0KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWNvcmQgdGhlIGhlaWdodFxuICAgICAgICAvLyBUT0RPOiBzaG91bGQgdGhpcyBiZSBkb25lIGFmdGVyIGZpcnN0LWxpbmUgY2FsY3VsYXRpb24/XG4gICAgICAgIGxldCBlZGdlID0gc2VsZi5jYWxjdWxhdGVFZGdlKFxuICAgICAgICAgIHJlc05vZGVDb250ZXh0LFxuICAgICAgICAgIGNoZWNrUG9pbnRzLFxuICAgICAgICAgIGNoZWNrUG9pbnRJbmRleCxcbiAgICAgICAgICBjaGVja1BvaW50c1tjaGVja1BvaW50SW5kZXhdLmJveE9mZnNldCxcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IG92ZXJmbG93biA9IGZhbHNlO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIXJlc05vZGVDb250ZXh0IHx8XG4gICAgICAgICAgIUxheW91dEhlbHBlci5pc09ycGhhbihyZXNOb2RlQ29udGV4dC52aWV3Tm9kZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0cyA9IEJyZWFrUG9zaXRpb24uY2FsY3VsYXRlT2Zmc2V0KFxuICAgICAgICAgICAgcmVzTm9kZUNvbnRleHQsXG4gICAgICAgICAgICBzZWxmLmNvbGxlY3RFbGVtZW50c09mZnNldCgpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgb3ZlcmZsb3duID0gc2VsZi5pc092ZXJmbG93bihcbiAgICAgICAgICAgIGVkZ2UgKyAoc2VsZi52ZXJ0aWNhbCA/IC0xIDogMSkgKiBvZmZzZXRzLm1pbmltdW0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBzZWxmLmlzT3ZlcmZsb3duKFxuICAgICAgICAgICAgICBlZGdlICsgKHNlbGYudmVydGljYWwgPyAtMSA6IDEpICogb2Zmc2V0cy5jdXJyZW50LFxuICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgIXNlbGYubm9kZUNvbnRleHRPdmVyZmxvd2luZ0R1ZVRvUmVwZXRpdGl2ZUVsZW1lbnRzXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0T3ZlcmZsb3dpbmdEdWVUb1JlcGV0aXRpdmVFbGVtZW50cyA9IHJlc05vZGVDb250ZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzTm9kZUNvbnRleHQgPT0gbnVsbCkge1xuICAgICAgICAgIGVkZ2UgKz0gc2VsZi5nZXRUcmFpbGluZ01hcmdpbkVkZ2VBZGp1c3RtZW50KGNoZWNrUG9pbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLnVwZGF0ZU1heFJlYWNoZWRBZnRlckVkZ2UoZWRnZSk7XG4gICAgICAgIGxldCBsaW5lQ29udDogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuICAgICAgICBpZiAobm9kZUNvbnRleHQuZmlyc3RQc2V1ZG8pIHtcbiAgICAgICAgICAvLyBwb3NzaWJseSBuZWVkIHRvIGRlYWwgd2l0aCA6Zmlyc3QtbGluZSBhbmQgZnJpZW5kc1xuICAgICAgICAgIGxpbmVDb250ID0gc2VsZi5wcm9jZXNzTGluZVN0eWxpbmcoXG4gICAgICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgICAgIHJlc05vZGVDb250ZXh0LFxuICAgICAgICAgICAgY2hlY2tQb2ludHMsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsaW5lQ29udCA9IFRhc2submV3UmVzdWx0KHJlc05vZGVDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBsaW5lQ29udC50aGVuKChub2RlQ29udGV4dCkgPT4ge1xuICAgICAgICAgIHNlbGYucG9zdExheW91dEJsb2NrKG5vZGVDb250ZXh0LCBjaGVja1BvaW50cyk7XG4gICAgICAgICAgaWYgKGNoZWNrUG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNlbGYuc2F2ZUJveEJyZWFrUG9zaXRpb24oY2hlY2tQb2ludHMpO1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBob3cgdG8gc2lnbmFsIG92ZXJmbG93IGluIHRoZSBsYXN0IHBhZ2FyZ2FwaD8/P1xuICAgICAgICAgICAgaWYgKG92ZXJmbG93biAmJiAhc2VsZi5pc0xvbmVJbWFnZShjaGVja1BvaW50cykgJiYgbm9kZUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgbm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5tb2RpZnkoKTtcbiAgICAgICAgICAgICAgbm9kZUNvbnRleHQub3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmcmFtZS5maW5pc2gobm9kZUNvbnRleHQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHBvc3RMYXlvdXRCbG9jayhcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICkge1xuICAgIGNvbnN0IGhvb2tzOiBQbHVnaW4uUG9zdExheW91dEJsb2NrSG9va1tdID0gUGx1Z2luLmdldEhvb2tzRm9yTmFtZShcbiAgICAgIFBsdWdpbi5IT09LUy5QT1NUX0xBWU9VVF9CTE9DSyxcbiAgICApO1xuICAgIGhvb2tzLmZvckVhY2goKGhvb2spID0+IHtcbiAgICAgIGhvb2sobm9kZUNvbnRleHQsIGNoZWNrUG9pbnRzLCB0aGlzKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZpbmRFbmRPZkxpbmUoXG4gICAgbGluZVBvc2l0aW9uOiBudW1iZXIsXG4gICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgaXNVcGRhdGVNYXhSZWFjaGVkQWZ0ZXJFZGdlOiBib29sZWFuLFxuICApOiB7XG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgIGluZGV4OiBudW1iZXI7XG4gICAgY2hlY2tQb2ludEluZGV4OiBudW1iZXI7XG4gIH0ge1xuICAgIGlmIChWSVZMSU9TVFlMRV9ERUJVRykge1xuICAgICAgdmFsaWRhdGVDaGVja1BvaW50cyhjaGVja1BvaW50cyk7XG4gICAgfVxuXG4gICAgLy8gV29ya2Fyb3VuZCBmb3IgQmxpbmsgbm90IHJldHVybmluZyBjb3JyZWN0IGZyYWN0aW9uYWwgdmFsdWVzIGZvclxuICAgIC8vIFJhbmdlLmdldENsaWVudFJlY3RzLlxuICAgIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTYyOTgyOFxuICAgIGNvbnN0IGVmZmVjdGl2ZUxpbmVQb3NpdGlvbiA9IHRoaXMudmVydGljYWxcbiAgICAgID8gbGluZVBvc2l0aW9uIC0gMVxuICAgICAgOiBsaW5lUG9zaXRpb24gKyAxO1xuXG4gICAgLy8gZmluZCB0aGUgZmlyc3QgY2hhcmFjdGVyIHdoaWNoIGlzIG91dFxuICAgIGxldCBsb3dDUCA9IDA7XG4gICAgbGV0IGxvdyA9IGNoZWNrUG9pbnRzWzBdLmJveE9mZnNldDtcbiAgICBsZXQgbG93MSA9IGxvd0NQO1xuICAgIGxldCBoaWdoQ1AgPSBjaGVja1BvaW50cy5sZW5ndGggLSAxO1xuICAgIGxldCBoaWdoID0gY2hlY2tQb2ludHNbaGlnaENQXS5ib3hPZmZzZXQ7XG4gICAgbGV0IG1pZDogbnVtYmVyO1xuICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICBtaWQgPSBsb3cgKyBNYXRoLmNlaWwoKGhpZ2ggLSBsb3cpIC8gMik7XG5cbiAgICAgIC8vIGZpbmQgdGhlIG5vZGUgd2hpY2ggY29udGFpbnMgbWlkIGluZGV4XG4gICAgICBsb3cxID0gbG93Q1A7XG4gICAgICBsZXQgaGlnaDEgPSBoaWdoQ1A7XG4gICAgICB3aGlsZSAobG93MSA8IGhpZ2gxKSB7XG4gICAgICAgIGNvbnN0IG1pZDEgPSBsb3cxICsgTWF0aC5jZWlsKChoaWdoMSAtIGxvdzEpIC8gMik7XG4gICAgICAgIGlmIChjaGVja1BvaW50c1ttaWQxXS5ib3hPZmZzZXQgPiBtaWQpIHtcbiAgICAgICAgICBoaWdoMSA9IG1pZDEgLSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvdzEgPSBtaWQxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBlZGdlID0gdGhpcy5jYWxjdWxhdGVFZGdlKG51bGwsIGNoZWNrUG9pbnRzLCBsb3cxLCBtaWQpO1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnZlcnRpY2FsXG4gICAgICAgICAgPyBlZGdlIDw9IGVmZmVjdGl2ZUxpbmVQb3NpdGlvblxuICAgICAgICAgIDogZWRnZSA+PSBlZmZlY3RpdmVMaW5lUG9zaXRpb25cbiAgICAgICkge1xuICAgICAgICBoaWdoID0gbWlkIC0gMTtcbiAgICAgICAgd2hpbGUgKGNoZWNrUG9pbnRzW2xvdzFdLmJveE9mZnNldCA9PSBtaWQpIHtcbiAgICAgICAgICBsb3cxLS07XG4gICAgICAgIH1cbiAgICAgICAgaGlnaENQID0gbG93MTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc1VwZGF0ZU1heFJlYWNoZWRBZnRlckVkZ2UpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZU1heFJlYWNoZWRBZnRlckVkZ2UoZWRnZSk7XG4gICAgICAgIH1cbiAgICAgICAgbG93ID0gbWlkO1xuICAgICAgICBsb3dDUCA9IGxvdzE7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBub2RlQ29udGV4dDogY2hlY2tQb2ludHNbbG93MV0sXG4gICAgICBpbmRleDogbG93LFxuICAgICAgY2hlY2tQb2ludEluZGV4OiBsb3cxLFxuICAgIH07XG4gIH1cblxuICBmaW5kQWNjZXB0YWJsZUJyZWFrSW5zaWRlKFxuICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgIGVkZ2VQb3NpdGlvbjogbnVtYmVyLFxuICAgIGZvcmNlOiBib29sZWFuLFxuICApOiBWdHJlZS5Ob2RlQ29udGV4dCB7XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmZpbmRFbmRPZkxpbmUoZWRnZVBvc2l0aW9uLCBjaGVja1BvaW50cywgdHJ1ZSk7XG4gICAgbGV0IG5vZGVDb250ZXh0ID0gcG9zaXRpb24ubm9kZUNvbnRleHQ7XG4gICAgY29uc3Qgdmlld05vZGUgPSBub2RlQ29udGV4dC52aWV3Tm9kZTtcbiAgICBpZiAodmlld05vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgY29uc3QgdGV4dE5vZGUgPSB2aWV3Tm9kZSBhcyBUZXh0O1xuICAgICAgY29uc3QgdGV4dE5vZGVCcmVha2VyID0gdGhpcy5yZXNvbHZlVGV4dE5vZGVCcmVha2VyKG5vZGVDb250ZXh0KTtcbiAgICAgIG5vZGVDb250ZXh0ID0gdGV4dE5vZGVCcmVha2VyLmJyZWFrVGV4dE5vZGUoXG4gICAgICAgIHRleHROb2RlLFxuICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgcG9zaXRpb24uaW5kZXgsXG4gICAgICAgIGNoZWNrUG9pbnRzLFxuICAgICAgICBwb3NpdGlvbi5jaGVja1BvaW50SW5kZXgsXG4gICAgICAgIGZvcmNlLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5jbGVhck92ZXJmbG93blZpZXdOb2Rlcyhub2RlQ29udGV4dCwgZmFsc2UpO1xuICAgIHJldHVybiBub2RlQ29udGV4dDtcbiAgfVxuXG4gIHJlc29sdmVUZXh0Tm9kZUJyZWFrZXIobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogVGV4dE5vZGVCcmVha2VyIHtcbiAgICBjb25zdCBob29rczogUGx1Z2luLlJlc29sdmVUZXh0Tm9kZUJyZWFrZXJIb29rW10gPSBQbHVnaW4uZ2V0SG9va3NGb3JOYW1lKFxuICAgICAgUGx1Z2luLkhPT0tTLlJFU09MVkVfVEVYVF9OT0RFX0JSRUFLRVIsXG4gICAgKTtcbiAgICByZXR1cm4gaG9va3MucmVkdWNlKFxuICAgICAgKHByZXYsIGhvb2spID0+IGhvb2sobm9kZUNvbnRleHQpIHx8IHByZXYsXG4gICAgICBUZXh0Tm9kZUJyZWFrZXIuaW5zdGFuY2UsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkIHJhbmdlcyBza2lwcGluZyBzcGVjaWFsIGVsbWVudHNcbiAgICovXG4gIGdldFJhbmdlQm94ZXMoc3RhcnQ6IE5vZGUsIGVuZDogTm9kZSk6IFZ0cmVlLkNsaWVudFJlY3RbXSB7XG4gICAgY29uc3QgYXJyID0gW107XG4gICAgY29uc3QgcmFuZ2UgPSBzdGFydC5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgbGV0IHdlbnRVcCA9IGZhbHNlO1xuICAgIGxldCBub2RlID0gc3RhcnQ7XG4gICAgbGV0IGxhc3RHb29kOiBOb2RlID0gbnVsbDtcbiAgICBsZXQgaGF2ZVN0YXJ0ID0gZmFsc2U7XG4gICAgbGV0IGVuZE5vdFJlYWNoZWQgPSB0cnVlO1xuICAgIHdoaWxlIChlbmROb3RSZWFjaGVkKSB7XG4gICAgICBsZXQgc2Vla1JhbmdlID0gdHJ1ZTtcbiAgICAgIGRvIHtcbiAgICAgICAgbGV0IG5leHQ6IE5vZGUgPSBudWxsO1xuICAgICAgICBpZiAobm9kZSA9PSBlbmQpIHtcbiAgICAgICAgICBpZiAoZW5kLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAvLyBJZiBlbmQgaXMgYW4gZWxlbWVudCwgY29udGludWUgdHJhdmVyc2luZyBpdHMgY2hpbGRyZW4gdG8gZmluZFxuICAgICAgICAgICAgLy8gdGhlIGxhc3QgdGV4dCBub2RlIGluc2lkZSBpdC4gRmluaXNoIHdoZW4gZW5kIGhhcyBubyBjaGlsZCBvclxuICAgICAgICAgICAgLy8gd2hlbiBjYW1lIGJhY2sgZnJvbSBpdHMgY2hpbGRyZW4gKHdlbnRVcD09dHJ1ZSkuXG4gICAgICAgICAgICBlbmROb3RSZWFjaGVkID0gISghZW5kLmZpcnN0Q2hpbGQgfHwgd2VudFVwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZW5kTm90UmVhY2hlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgICAgaWYgKCFoYXZlU3RhcnQpIHtcbiAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QmVmb3JlKG5vZGUpO1xuICAgICAgICAgICAgaGF2ZVN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGFzdEdvb2QgPSBub2RlO1xuICAgICAgICB9IGVsc2UgaWYgKHdlbnRVcCkge1xuICAgICAgICAgIHdlbnRVcCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKExheW91dEhlbHBlci5pc1NwZWNpYWwobm9kZSBhcyBFbGVtZW50KSkge1xuICAgICAgICAgIC8vIFNraXAgc3BlY2lhbFxuICAgICAgICAgIHNlZWtSYW5nZSA9ICFoYXZlU3RhcnQ7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkubG9jYWxOYW1lID09IFwicnVieVwiIHx8XG4gICAgICAgICAgaXNTcGVjaWFsSW5saW5lRGlzcGxheShcbiAgICAgICAgICAgIHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDb21wdXRlZFN0eWxlKG5vZGUgYXMgRWxlbWVudCkuZGlzcGxheSxcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIHJ1YnksIGlubGluZS1ibG9jaywgZXRjLlxuICAgICAgICAgIHNlZWtSYW5nZSA9ICFoYXZlU3RhcnQ7XG4gICAgICAgICAgaWYgKHNlZWtSYW5nZSkge1xuICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnRCZWZvcmUobm9kZSk7XG4gICAgICAgICAgICBoYXZlU3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgbGFzdEdvb2QgPSBub2RlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobm9kZS5jb250YWlucyhlbmQpKSB7XG4gICAgICAgICAgICBlbmROb3RSZWFjaGVkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgICB3ZW50VXAgPSB0cnVlO1xuICAgICAgICAgICAgbmV4dCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5leHQ7XG4gICAgICB9IHdoaWxlIChzZWVrUmFuZ2UgJiYgZW5kTm90UmVhY2hlZCk7XG4gICAgICBpZiAoaGF2ZVN0YXJ0KSB7XG4gICAgICAgIHJhbmdlLnNldEVuZEFmdGVyKGxhc3RHb29kKTtcbiAgICAgICAgY29uc3QgYm94TGlzdCA9IHRoaXMuY2xpZW50TGF5b3V0LmdldFJhbmdlQ2xpZW50UmVjdHMocmFuZ2UpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJveExpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcnIucHVzaChib3hMaXN0W2ldKTtcbiAgICAgICAgfVxuICAgICAgICBoYXZlU3RhcnQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHaXZlIGJsb2NrJ3MgaW5pdGlhbCBhbmQgZmluYWwgbm9kZXMsIGZpbmQgcG9zaXRpb25zIG9mIHRoZSBsaW5lIGJvdHRvbXMuXG4gICAqIFRoaXMgaXMsIG9mIGNvdXJzZSwgc29tZXdoYXQgaGFja3kgaW1wbGVtZW50YXRpb24uXG4gICAqIEByZXR1cm4gcG9zaXRpb24gb2YgbGluZSBicmVha3NcbiAgICovXG4gIGZpbmRMaW5lUG9zaXRpb25zKGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdKTogbnVtYmVyW10ge1xuICAgIGNvbnN0IExPV19PVkVSTEFQID0gMC4yO1xuICAgIGNvbnN0IE1JRF9PVkVSTEFQID0gMC42O1xuICAgIGNvbnN0IHBvc2l0aW9ucyA9IFtdO1xuICAgIGNvbnN0IGJveGVzID0gdGhpcy5nZXRSYW5nZUJveGVzKFxuICAgICAgY2hlY2tQb2ludHNbMF0udmlld05vZGUsXG4gICAgICBjaGVja1BvaW50c1tjaGVja1BvaW50cy5sZW5ndGggLSAxXS52aWV3Tm9kZSxcbiAgICApO1xuICAgIGJveGVzLnNvcnQoXG4gICAgICB0aGlzLnZlcnRpY2FsXG4gICAgICAgID8gVnRyZWVJbXBsLmNsaWVudHJlY3REZWNyZWFzaW5nUmlnaHRcbiAgICAgICAgOiBWdHJlZUltcGwuY2xpZW50cmVjdEluY3JlYXNpbmdUb3AsXG4gICAgKTtcbiAgICBsZXQgbGluZUJlZm9yZSA9IDA7XG4gICAgbGV0IGxpbmVBZnRlciA9IDA7XG4gICAgbGV0IGxpbmVFbmQgPSAwO1xuICAgIGxldCBsaW5lTGVuZ3RoID0gMDtcbiAgICBsZXQgaSA9IDA7XG4gICAgY29uc3QgZGlyID0gdGhpcy5nZXRCb3hEaXIoKTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKGkgPCBib3hlcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgYm94ID0gYm94ZXNbaV07XG4gICAgICAgIGxldCBvdmVybGFwID0gMTtcbiAgICAgICAgaWYgKGxpbmVMZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgYm94U2l6ZSA9IE1hdGgubWF4KHRoaXMuZ2V0Qm94U2l6ZShib3gpLCAxKTtcbiAgICAgICAgICBpZiAoZGlyICogdGhpcy5nZXRCZWZvcmVFZGdlKGJveCkgPCBkaXIgKiBsaW5lQmVmb3JlKSB7XG4gICAgICAgICAgICBvdmVybGFwID0gKGRpciAqICh0aGlzLmdldEFmdGVyRWRnZShib3gpIC0gbGluZUJlZm9yZSkpIC8gYm94U2l6ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGRpciAqIHRoaXMuZ2V0QWZ0ZXJFZGdlKGJveCkgPiBkaXIgKiBsaW5lQWZ0ZXIpIHtcbiAgICAgICAgICAgIG92ZXJsYXAgPSAoZGlyICogKGxpbmVBZnRlciAtIHRoaXMuZ2V0QmVmb3JlRWRnZShib3gpKSkgLyBib3hTaXplO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdmVybGFwID0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGxpbmVMZW5ndGggPT0gMCB8fFxuICAgICAgICAgIG92ZXJsYXAgPj0gTUlEX09WRVJMQVAgfHxcbiAgICAgICAgICAob3ZlcmxhcCA+PSBMT1dfT1ZFUkxBUCAmJiB0aGlzLmdldFN0YXJ0RWRnZShib3gpID49IGxpbmVFbmQgLSAxKVxuICAgICAgICApIHtcbiAgICAgICAgICBsaW5lRW5kID0gdGhpcy5nZXRFbmRFZGdlKGJveCk7XG4gICAgICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgICAgIGxpbmVCZWZvcmUgPVxuICAgICAgICAgICAgICBsaW5lTGVuZ3RoID09IDAgPyBib3gucmlnaHQgOiBNYXRoLm1heChsaW5lQmVmb3JlLCBib3gucmlnaHQpO1xuICAgICAgICAgICAgbGluZUFmdGVyID1cbiAgICAgICAgICAgICAgbGluZUxlbmd0aCA9PSAwID8gYm94LmxlZnQgOiBNYXRoLm1pbihsaW5lQWZ0ZXIsIGJveC5sZWZ0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGluZUJlZm9yZSA9XG4gICAgICAgICAgICAgIGxpbmVMZW5ndGggPT0gMCA/IGJveC50b3AgOiBNYXRoLm1pbihsaW5lQmVmb3JlLCBib3gudG9wKTtcbiAgICAgICAgICAgIGxpbmVBZnRlciA9XG4gICAgICAgICAgICAgIGxpbmVMZW5ndGggPT0gMCA/IGJveC5ib3R0b20gOiBNYXRoLm1heChsaW5lQWZ0ZXIsIGJveC5ib3R0b20pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsaW5lTGVuZ3RoKys7XG4gICAgICAgICAgaSsrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBsaW5lXG4gICAgICBpZiAobGluZUxlbmd0aCA+IDApIHtcbiAgICAgICAgcG9zaXRpb25zLnB1c2gobGluZUFmdGVyKTtcbiAgICAgICAgbGluZUxlbmd0aCA9IDA7XG4gICAgICB9XG4gICAgICBpZiAoaSA+PSBib3hlcy5sZW5ndGgpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHBvc2l0aW9ucy5zb3J0KEJhc2UubnVtYmVyQ29tcGFyZSk7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHBvc2l0aW9ucy5yZXZlcnNlKCk7XG4gICAgfVxuICAgIHJldHVybiBwb3NpdGlvbnM7XG4gIH1cblxuICBjYWxjdWxhdGVDbG9uZWRQYWRkaW5nQm9yZGVyKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IG51bWJlciB7XG4gICAgbGV0IGNsb25lZFBhZGRpbmdCb3JkZXIgPSAwO1xuICAgIG5vZGVDb250ZXh0LndhbGtVcEJsb2NrcygoYmxvY2spID0+IHtcbiAgICAgIGlmIChibG9jay5pbmhlcml0ZWRQcm9wc1tcImJveC1kZWNvcmF0aW9uLWJyZWFrXCJdID09PSBcImNsb25lXCIpIHtcbiAgICAgICAgQXNzZXJ0cy5hc3NlcnQoYmxvY2sudmlld05vZGUgaW5zdGFuY2VvZiBFbGVtZW50KTtcbiAgICAgICAgY29uc3QgcGFkZGluZ0JvcmRlcnMgPSB0aGlzLmdldENvbXB1dGVkUGFkZGluZ0JvcmRlcihcbiAgICAgICAgICBibG9jay52aWV3Tm9kZSBhcyBFbGVtZW50LFxuICAgICAgICApO1xuICAgICAgICBjbG9uZWRQYWRkaW5nQm9yZGVyICs9IGJsb2NrLnZlcnRpY2FsXG4gICAgICAgICAgPyAtcGFkZGluZ0JvcmRlcnMubGVmdFxuICAgICAgICAgIDogcGFkZGluZ0JvcmRlcnMuYm90dG9tO1xuICAgICAgICBpZiAoYmxvY2suZGlzcGxheSA9PT0gXCJ0YWJsZVwiKSB7XG4gICAgICAgICAgY2xvbmVkUGFkZGluZ0JvcmRlciArPSBibG9jay5ibG9ja0JvcmRlclNwYWNpbmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2xvbmVkUGFkZGluZ0JvcmRlcjtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0T2Zmc2V0QnlSZXBldGl0aXZlRWxlbWVudHMoXG4gICAgYnA/OiBCcmVha1Bvc2l0aW9uLkJyZWFrUG9zaXRpb24sXG4gICk6IG51bWJlciB7XG4gICAgbGV0IG9mZnNldDogeyBjdXJyZW50OiBudW1iZXI7IG1pbmltdW06IG51bWJlciB9O1xuICAgIGlmIChicCkge1xuICAgICAgb2Zmc2V0ID0gYnAuY2FsY3VsYXRlT2Zmc2V0KHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvZmZzZXQgPSBCcmVha1Bvc2l0aW9uLmNhbGN1bGF0ZU9mZnNldChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgdGhpcy5jb2xsZWN0RWxlbWVudHNPZmZzZXQoKSxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBvZmZzZXQuY3VycmVudDtcbiAgfVxuXG4gIGZpbmRCb3hCcmVha1Bvc2l0aW9uKFxuICAgIGJwOiBCb3hCcmVha1Bvc2l0aW9uLFxuICAgIGZvcmNlOiBib29sZWFuLFxuICApOiBWdHJlZS5Ob2RlQ29udGV4dCB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgY2hlY2tQb2ludHMgPSBicC5jaGVja1BvaW50cztcbiAgICBsZXQgYmxvY2sgPSBjaGVja1BvaW50c1swXTtcbiAgICB3aGlsZSAoYmxvY2sucGFyZW50ICYmIGJsb2NrLmlubGluZSkge1xuICAgICAgYmxvY2sgPSBibG9jay5wYXJlbnQ7XG4gICAgfVxuICAgIGxldCB3aWRvd3M6IG51bWJlcjtcbiAgICBsZXQgb3JwaGFuczogbnVtYmVyO1xuICAgIGlmIChmb3JjZSkge1xuICAgICAgLy8gTGFzdCByZXNvcnQsIGlnbm9yZSB3aWRvd3Mvb3JwaGFuc1xuICAgICAgd2lkb3dzID0gMTtcbiAgICAgIG9ycGhhbnMgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBHZXQgd2lkb3dzL29ycGhhbnMgc2V0dGluZ3MgZnJvbSB0aGUgYmxvY2sgZWxlbWVudFxuICAgICAgd2lkb3dzID0gTWF0aC5tYXgoXG4gICAgICAgICgoYmxvY2suaW5oZXJpdGVkUHJvcHNbXCJ3aWRvd3NcIl0gYXMgbnVtYmVyKSB8fCAyKSAtIDAsXG4gICAgICAgIDEsXG4gICAgICApO1xuICAgICAgb3JwaGFucyA9IE1hdGgubWF4KFxuICAgICAgICAoKGJsb2NrLmluaGVyaXRlZFByb3BzW1wib3JwaGFuc1wiXSBhcyBudW1iZXIpIHx8IDIpIC0gMCxcbiAgICAgICAgMSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gSW4gY2FzZSBvZiBib3gtZGVjb3JhdGlvbi1icmVhazogY2xvbmUsIHdpZHRoIChvciBoZWlnaHQgaW4gdmVydGljYWxcbiAgICAvLyB3cml0aW5nIG1vZGUpIG9mIGNsb25lZCBwYWRkaW5ncyBhbmQgYm9yZGVycyBzaG91bGQgYmUgdGFrZW4gaW50b1xuICAgIC8vIGFjY291bnQuXG4gICAgY29uc3QgY2xvbmVkUGFkZGluZ0JvcmRlciA9IHNlbGYuY2FsY3VsYXRlQ2xvbmVkUGFkZGluZ0JvcmRlcihibG9jayk7XG5cbiAgICAvLyBTZWxlY3QgdGhlIGZpcnN0IG92ZXJmbG93aW5nIGxpbmUgYnJlYWsgcG9zaXRpb25cbiAgICBjb25zdCBsaW5lUG9zaXRpb25zID0gdGhpcy5maW5kTGluZVBvc2l0aW9ucyhjaGVja1BvaW50cyk7XG4gICAgbGV0IGVkZ2UgPSB0aGlzLmZvb3Rub3RlRWRnZSAtIGNsb25lZFBhZGRpbmdCb3JkZXI7XG4gICAgY29uc3QgZGlyID0gdGhpcy5nZXRCb3hEaXIoKTtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHNPZmZzZXQgPSB0aGlzLmdldE9mZnNldEJ5UmVwZXRpdGl2ZUVsZW1lbnRzKGJwKTtcbiAgICBlZGdlIC09IGRpciAqIHJlcGV0aXRpdmVFbGVtZW50c09mZnNldDtcblxuICAgIC8vIElmIGFuIFwib3ZlcmZsb3dpbmdcIiBjaGVja3BvaW50IChlLmcuIG5vdCBhbGxvd2VkIGJ5IExheW91dENvbnN0cmFpbnQpXG4gICAgLy8gZXhpc3RzIGJlZm9yZSB0aGUgZWRnZSwgYSBsaW5lIGNvbnRhaW5pbmcgdGhlIGNoZWNrcG9pbnQgc2hvdWxkIGJlXG4gICAgLy8gZGVmZXJyZWQgdG8gdGhlIG5leHQgY29sdW1uLlxuICAgIGNvbnN0IGZpcnN0T3ZlcmZsb3dpbmcgPSB0aGlzLmZpbmRGaXJzdE92ZXJmbG93aW5nRWRnZUFuZENoZWNrUG9pbnQoXG4gICAgICBjaGVja1BvaW50cyxcbiAgICApO1xuICAgIGlmIChpc05hTihmaXJzdE92ZXJmbG93aW5nLmVkZ2UpKSB7XG4gICAgICBmaXJzdE92ZXJmbG93aW5nLmVkZ2UgPSBkaXIgKiBJbmZpbml0eTtcbiAgICB9XG4gICAgbGV0IGxpbmVJbmRleCA9IEJhc2UuYmluYXJ5U2VhcmNoKGxpbmVQb3NpdGlvbnMubGVuZ3RoLCAoaSkgPT4ge1xuICAgICAgY29uc3QgcCA9IGxpbmVQb3NpdGlvbnNbaV07XG4gICAgICByZXR1cm4gc2VsZi52ZXJ0aWNhbFxuICAgICAgICA/IHAgPCBlZGdlIHx8IHAgPD0gZmlyc3RPdmVyZmxvd2luZy5lZGdlXG4gICAgICAgIDogcCA+IGVkZ2UgfHwgcCA+PSBmaXJzdE92ZXJmbG93aW5nLmVkZ2U7XG4gICAgfSk7XG5cbiAgICAvLyBJZiBubyBicmVhayBwb2ludCBpcyBmb3VuZCBkdWUgdG8gdGhlIFwib3ZlcmZsb3dpbmdcIiBjaGVja3BvaW50LFxuICAgIC8vIGdpdmUgdXAgZGVmZXJyaW5nIGEgbGluZSBjb250YWluaW5nIHRoZSBjaGVja3BvaW50IGFuZCB0cnkgdG8gY3V0IHRoZVxuICAgIC8vIGxpbmUganVzdCBiZWZvcmUgaXQuXG4gICAgY29uc3QgZm9yY2VDdXRCZWZvcmVPdmVyZmxvd2luZyA9IGxpbmVJbmRleCA8PSAwO1xuICAgIGlmIChmb3JjZUN1dEJlZm9yZU92ZXJmbG93aW5nKSB7XG4gICAgICBsaW5lSW5kZXggPSBCYXNlLmJpbmFyeVNlYXJjaChsaW5lUG9zaXRpb25zLmxlbmd0aCwgKGkpID0+XG4gICAgICAgIHNlbGYudmVydGljYWwgPyBsaW5lUG9zaXRpb25zW2ldIDwgZWRnZSA6IGxpbmVQb3NpdGlvbnNbaV0gPiBlZGdlLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBGaXJzdCBlZGdlIGFmdGVyIHRoZSBvbmUgdGhhdCBib3RoIGZpdHMgYW5kIHNhdGlzZmllcyB3aWRvd3MgY29uc3RyYWludC5cbiAgICBsaW5lSW5kZXggPSBNYXRoLm1pbihsaW5lUG9zaXRpb25zLmxlbmd0aCAtIHdpZG93cywgbGluZUluZGV4KTtcbiAgICBpZiAobGluZUluZGV4IDwgb3JwaGFucykge1xuICAgICAgLy8gTm90IGVub3VnaCBsaW5lcyB0byBzYXRpc2Z5IG9ycGhhbnMgY29uc3RyYWludCwgY2Fubm90IGJyZWFrIGhlcmUuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZWRnZSA9IGxpbmVQb3NpdGlvbnNbbGluZUluZGV4IC0gMV07XG4gICAgbGV0IG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICBpZiAoZm9yY2VDdXRCZWZvcmVPdmVyZmxvd2luZykge1xuICAgICAgbm9kZUNvbnRleHQgPSBmaXJzdE92ZXJmbG93aW5nLmNoZWNrUG9pbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGVDb250ZXh0ID0gdGhpcy5maW5kQWNjZXB0YWJsZUJyZWFrSW5zaWRlKGJwLmNoZWNrUG9pbnRzLCBlZGdlLCBmb3JjZSk7XG4gICAgfVxuICAgIGlmIChub2RlQ29udGV4dCkge1xuICAgICAgLy8gV2hlbiBsaW5lLWhlaWdodCBpcyBzbWFsbCwgdGhlIGVkZ2UgY2FsY3VsYXRlZCBhYm92ZSAodXNpbmcgUmFuZ2UpXG4gICAgICAvLyBjYW4gYmUgbGFyZ2VyIHRoYW4gdGhlIGVkZ2Ugb2YgdGhlIGJsb2NrIGNvbnRhaW5lciBjb250YWluaW5nIHRoZSB0ZXh0LlxuICAgICAgLy8gV2UgdXBkYXRlIHRoZSBlZGdlIGJ5IG1lYXN1cmluZyB0aGUgYmxvY2sgZWRnZS5cbiAgICAgIGNvbnN0IGJsb2NrRWRnZSA9IHRoaXMuZ2V0QWZ0ZXJFZGdlT2ZCbG9ja0NvbnRhaW5lcihub2RlQ29udGV4dCk7XG4gICAgICBpZiAoIWlzTmFOKGJsb2NrRWRnZSkgJiYgYmxvY2tFZGdlIDwgZWRnZSkge1xuICAgICAgICBlZGdlID0gYmxvY2tFZGdlO1xuICAgICAgfVxuICAgICAgdGhpcy5jb21wdXRlZEJsb2NrU2l6ZSA9XG4gICAgICAgIGRpciAqIChlZGdlIC0gdGhpcy5iZWZvcmVFZGdlKSArIHJlcGV0aXRpdmVFbGVtZW50c09mZnNldDtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGVDb250ZXh0O1xuICB9XG5cbiAgZ2V0QWZ0ZXJFZGdlT2ZCbG9ja0NvbnRhaW5lcihub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBudW1iZXIge1xuICAgIGxldCBibG9ja1BhcmVudCA9IG5vZGVDb250ZXh0O1xuICAgIGRvIHtcbiAgICAgIGJsb2NrUGFyZW50ID0gYmxvY2tQYXJlbnQucGFyZW50O1xuICAgIH0gd2hpbGUgKGJsb2NrUGFyZW50ICYmIGJsb2NrUGFyZW50LmlubGluZSk7XG4gICAgaWYgKGJsb2NrUGFyZW50KSB7XG4gICAgICBibG9ja1BhcmVudCA9IGJsb2NrUGFyZW50LmNvcHkoKS5tb2RpZnkoKTtcbiAgICAgIGJsb2NrUGFyZW50LmFmdGVyID0gdHJ1ZTtcbiAgICAgIHJldHVybiBMYXlvdXRIZWxwZXIuY2FsY3VsYXRlRWRnZShcbiAgICAgICAgYmxvY2tQYXJlbnQsXG4gICAgICAgIHRoaXMuY2xpZW50TGF5b3V0LFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLnZlcnRpY2FsLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG4gIH1cblxuICBmaW5kRmlyc3RPdmVyZmxvd2luZ0VkZ2VBbmRDaGVja1BvaW50KFxuICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICApOiB7IGVkZ2U6IG51bWJlcjsgY2hlY2tQb2ludDogVnRyZWUuTm9kZUNvbnRleHQgfCBudWxsIH0ge1xuICAgIGNvbnN0IGluZGV4ID0gY2hlY2tQb2ludHMuZmluZEluZGV4KChjcCkgPT4gY3Aub3ZlcmZsb3cpO1xuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgIHJldHVybiB7IGVkZ2U6IE5hTiwgY2hlY2tQb2ludDogbnVsbCB9O1xuICAgIH1cbiAgICBjb25zdCBjcCA9IGNoZWNrUG9pbnRzW2luZGV4XTtcbiAgICByZXR1cm4ge1xuICAgICAgZWRnZTogdGhpcy5jYWxjdWxhdGVFZGdlKG51bGwsIGNoZWNrUG9pbnRzLCBpbmRleCwgY3AuYm94T2Zmc2V0KSxcbiAgICAgIGNoZWNrUG9pbnQ6IGNwLFxuICAgIH07XG4gIH1cblxuICBmaW5kRWRnZUJyZWFrUG9zaXRpb24oXG4gICAgYnA6IEJyZWFrUG9zaXRpb24uRWRnZUJyZWFrUG9zaXRpb24sXG4gICk6IFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgICB0aGlzLmNvbXB1dGVkQmxvY2tTaXplID1cbiAgICAgIGJwLmNvbXB1dGVkQmxvY2tTaXplICsgdGhpcy5nZXRPZmZzZXRCeVJlcGV0aXRpdmVFbGVtZW50cyhicCk7XG4gICAgcmV0dXJuIGJwLnBvc2l0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmFsaXplIGEgbGluZSBicmVhay5cbiAgICogQHJldHVybiBob2xpbmcgdHJ1ZVxuICAgKi9cbiAgZmluaXNoQnJlYWsoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZvcmNlUmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgICBlbmRPZkNvbHVtbjogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIEFzc2VydHMuYXNzZXJ0KG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0KTtcbiAgICBjb25zdCBsYXlvdXRQcm9jZXNzb3IgPSBuZXcgTGF5b3V0UHJvY2Vzc29yLkxheW91dFByb2Nlc3NvclJlc29sdmVyKCkuZmluZChcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgbGV0IHJlc3VsdCA9IGxheW91dFByb2Nlc3Nvci5maW5pc2hCcmVhayhcbiAgICAgIHRoaXMsXG4gICAgICBub2RlQ29udGV4dCxcbiAgICAgIGZvcmNlUmVtb3ZlU2VsZixcbiAgICAgIGVuZE9mQ29sdW1uLFxuICAgICk7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIHJlc3VsdCA9IExheW91dFByb2Nlc3Nvci5ibG9ja0xheW91dFByb2Nlc3Nvci5maW5pc2hCcmVhayhcbiAgICAgICAgdGhpcyxcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIGZvcmNlUmVtb3ZlU2VsZixcbiAgICAgICAgZW5kT2ZDb2x1bW4sXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZmluZEFjY2VwdGFibGVCcmVha1Bvc2l0aW9uKCk6IEJyZWFrUG9zaXRpb25BbmROb2RlQ29udGV4dCB7XG4gICAgbGV0IGJwOiBMYXlvdXQuQnJlYWtQb3NpdGlvbiA9IG51bGw7XG4gICAgbGV0IG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCA9IG51bGw7XG4gICAgbGV0IHBlbmFsdHkgPSAwO1xuICAgIGxldCBuZXh0UGVuYWx0eSA9IDA7XG4gICAgZG8ge1xuICAgICAgcGVuYWx0eSA9IG5leHRQZW5hbHR5O1xuICAgICAgbmV4dFBlbmFsdHkgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGkgPSB0aGlzLmJyZWFrUG9zaXRpb25zLmxlbmd0aCAtIDE7XG4gICAgICAgIGkgPj0gMCAmJiAhbm9kZUNvbnRleHQ7XG4gICAgICAgIC0taVxuICAgICAgKSB7XG4gICAgICAgIGJwID0gdGhpcy5icmVha1Bvc2l0aW9uc1tpXTtcbiAgICAgICAgbm9kZUNvbnRleHQgPSBicC5maW5kQWNjZXB0YWJsZUJyZWFrKHRoaXMsIHBlbmFsdHkpO1xuICAgICAgICBjb25zdCBtaW5QZW5hbHR5ID0gYnAuZ2V0TWluQnJlYWtQZW5hbHR5KCk7XG4gICAgICAgIGlmIChtaW5QZW5hbHR5ID4gcGVuYWx0eSkge1xuICAgICAgICAgIG5leHRQZW5hbHR5ID0gTWF0aC5taW4obmV4dFBlbmFsdHksIG1pblBlbmFsdHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSB3aGlsZSAoXG4gICAgICAvLyBEb24ndCBuZWVkIHRvIGZpbmQgYSBub24tb3B0aW1hbCBicmVhayBwb3NpdGlvbiBpZlxuICAgICAgLy8gZm9yY2VOb25maXR0aW5nPWZhbHNlXG4gICAgICBuZXh0UGVuYWx0eSA+IHBlbmFsdHkgJiZcbiAgICAgICFub2RlQ29udGV4dCAmJlxuICAgICAgdGhpcy5mb3JjZU5vbmZpdHRpbmdcbiAgICApO1xuICAgIHJldHVybiB7IGJyZWFrUG9zaXRpb246IG5vZGVDb250ZXh0ID8gYnAgOiBudWxsLCBub2RlQ29udGV4dCB9O1xuICB9XG5cbiAgZG9GaW5pc2hCcmVhayhcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgb3ZlcmZsb3duTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGluaXRpYWxOb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgaW5pdGlhbENvbXB1dGVkQmxvY2tTaXplOiBudW1iZXIsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSB8fFxuICAgICAgdGhpcy5wYWdlQnJlYWtUeXBlIHx8XG4gICAgICAhb3ZlcmZsb3duTm9kZUNvbnRleHRcbiAgICApIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChub2RlQ29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXCJkb0ZpbmlzaEJyZWFrXCIpO1xuICAgIGxldCBmb3JjZVJlbW92ZVNlbGYgPSBmYWxzZTtcbiAgICBpZiAoIW5vZGVDb250ZXh0KSB7XG4gICAgICAvLyBMYXN0IHJlc29ydFxuICAgICAgaWYgKHRoaXMuZm9yY2VOb25maXR0aW5nKSB7XG4gICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJDb3VsZCBub3QgZmluZCBhbnkgcGFnZSBicmVha3M/ISFcIik7XG4gICAgICAgIHNlbGYuc2tpcFRhaWxFZGdlcyhvdmVyZmxvd25Ob2RlQ29udGV4dCkudGhlbigobm9kZUNvbnRleHQpID0+IHtcbiAgICAgICAgICBpZiAobm9kZUNvbnRleHQpIHtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQubW9kaWZ5KCk7XG4gICAgICAgICAgICBub2RlQ29udGV4dC5vdmVyZmxvdyA9IGZhbHNlO1xuICAgICAgICAgICAgc2VsZi5maW5pc2hCcmVhayhub2RlQ29udGV4dCwgZm9yY2VSZW1vdmVTZWxmLCB0cnVlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcmFtZS5maW5pc2gobm9kZUNvbnRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVDb250ZXh0ID0gaW5pdGlhbE5vZGVDb250ZXh0O1xuICAgICAgICBmb3JjZVJlbW92ZVNlbGYgPSB0cnVlO1xuICAgICAgICBzZWxmLmNvbXB1dGVkQmxvY2tTaXplID0gaW5pdGlhbENvbXB1dGVkQmxvY2tTaXplO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmZpbmlzaEJyZWFrKG5vZGVDb250ZXh0LCBmb3JjZVJlbW92ZVNlbGYsIHRydWUpLnRoZW4oKCkgPT4ge1xuICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiBhIHBhZ2UgYnJlYWsgaXMgYWNjZXB0YWJsZSBhdCB0aGlzIHBvc2l0aW9uXG4gICAqL1xuICBpc0JyZWFrYWJsZShmbG93UG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgaWYgKGZsb3dQb3NpdGlvbi5hZnRlcikge1xuICAgICAgcmV0dXJuIHRydWU7IC8vIG1heSBiZSBhbiBlbXB0eSBibG9ja1xuICAgIH1cbiAgICBzd2l0Y2ggKGZsb3dQb3NpdGlvbi5zb3VyY2VOb2RlLm5hbWVzcGFjZVVSSSkge1xuICAgICAgY2FzZSBCYXNlLk5TLlNWRzpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gIWZsb3dQb3NpdGlvbi5mbGV4Q29udGFpbmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgYW4gaW5kZW50IHZhbHVlIGlzIHplcm9cbiAgICovXG4gIHplcm9JbmRlbnQodmFsOiBzdHJpbmcgfCBudW1iZXIpOiBib29sZWFuIHtcbiAgICBjb25zdCBzID0gdmFsLnRvU3RyaW5nKCk7XG4gICAgcmV0dXJuIHMgPT0gXCJcIiB8fCBzID09IFwiYXV0b1wiIHx8ICEhcy5tYXRjaCgvXjArKC4wKik/W14wLTldLyk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB0cnVlIGlmIG92ZXJmbG93c1xuICAgKi9cbiAgY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICB0cmFpbGluZ0VkZ2VDb250ZXh0czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKCFub2RlQ29udGV4dCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoTGF5b3V0SGVscGVyLmlzT3JwaGFuKG5vZGVDb250ZXh0LnZpZXdOb2RlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgZWRnZSA9IExheW91dEhlbHBlci5jYWxjdWxhdGVFZGdlKFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICB0aGlzLmNsaWVudExheW91dCxcbiAgICAgIDAsXG4gICAgICB0aGlzLnZlcnRpY2FsLFxuICAgICk7XG4gICAgY29uc3Qgb2Zmc2V0cyA9IEJyZWFrUG9zaXRpb24uY2FsY3VsYXRlT2Zmc2V0KFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICB0aGlzLmNvbGxlY3RFbGVtZW50c09mZnNldCgpLFxuICAgICk7XG4gICAgY29uc3Qgb3ZlcmZsb3duID0gdGhpcy5pc092ZXJmbG93bihcbiAgICAgIGVkZ2UgKyAodGhpcy52ZXJ0aWNhbCA/IC0xIDogMSkgKiBvZmZzZXRzLm1pbmltdW0sXG4gICAgKTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmlzT3ZlcmZsb3duKGVkZ2UgKyAodGhpcy52ZXJ0aWNhbCA/IC0xIDogMSkgKiBvZmZzZXRzLmN1cnJlbnQpICYmXG4gICAgICAhdGhpcy5ub2RlQ29udGV4dE92ZXJmbG93aW5nRHVlVG9SZXBldGl0aXZlRWxlbWVudHNcbiAgICApIHtcbiAgICAgIHRoaXMubm9kZUNvbnRleHRPdmVyZmxvd2luZ0R1ZVRvUmVwZXRpdGl2ZUVsZW1lbnRzID0gbm9kZUNvbnRleHQ7XG4gICAgfSBlbHNlIGlmICh0cmFpbGluZ0VkZ2VDb250ZXh0cykge1xuICAgICAgLy8gSWYgdGhlIGVkZ2UgZG9lcyBub3Qgb3ZlcmZsb3cgYWRkIHRoZSB0cmFpbGluZyBtYXJnaW4sIHdoaWNoIGlzXG4gICAgICAvLyB0cnVuY2F0ZWQgdG8gdGhlIHJlbWFpbmluZyBmcmFnbWVudGFpbmVyIGV4dGVudC5cbiAgICAgIGNvbnN0IG1hcmdpbkVkZ2UgPVxuICAgICAgICBlZGdlICsgdGhpcy5nZXRUcmFpbGluZ01hcmdpbkVkZ2VBZGp1c3RtZW50KHRyYWlsaW5nRWRnZUNvbnRleHRzKTtcbiAgICAgIGNvbnN0IGZvb3Rub3RlRWRnZSA9XG4gICAgICAgIHRoaXMuZm9vdG5vdGVFZGdlIC0gdGhpcy5nZXRCb3hEaXIoKSAqIG9mZnNldHMuY3VycmVudDtcbiAgICAgIGVkZ2UgPSB0aGlzLnZlcnRpY2FsXG4gICAgICAgID8gTWF0aC5taW4oZWRnZSwgTWF0aC5tYXgobWFyZ2luRWRnZSwgZm9vdG5vdGVFZGdlKSlcbiAgICAgICAgOiBNYXRoLm1heChlZGdlLCBNYXRoLm1pbihtYXJnaW5FZGdlLCBmb290bm90ZUVkZ2UpKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVNYXhSZWFjaGVkQWZ0ZXJFZGdlKGVkZ2UpO1xuICAgIHJldHVybiBvdmVyZmxvd247XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBhIHBvc3NpYmxlIHBhZ2UgYnJlYWsgcG9zaXRpb24gb24gYSBDU1MgYmxvY2sgZWRnZS4gQ2hlY2sgaWYgaXRcbiAgICogb3ZlcmZsb3dzLlxuICAgKiBAcmV0dXJuIHRydWUgaWYgb3ZlcmZsb3dzXG4gICAqL1xuICBjaGVja092ZXJmbG93QW5kU2F2ZUVkZ2VBbmRCcmVha1Bvc2l0aW9uKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICB0cmFpbGluZ0VkZ2VDb250ZXh0czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICBzYXZlRXZlbk92ZXJmbG93bjogYm9vbGVhbixcbiAgICBicmVha0F0VGhlRWRnZTogc3RyaW5nIHwgbnVsbCxcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKCFub2RlQ29udGV4dCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoTGF5b3V0SGVscGVyLmlzT3JwaGFuKG5vZGVDb250ZXh0LnZpZXdOb2RlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBvdmVyZmxvd24gPSB0aGlzLmNoZWNrT3ZlcmZsb3dBbmRTYXZlRWRnZShcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgdHJhaWxpbmdFZGdlQ29udGV4dHMsXG4gICAgKTtcbiAgICBpZiAoc2F2ZUV2ZW5PdmVyZmxvd24gfHwgIW92ZXJmbG93bikge1xuICAgICAgdGhpcy5zYXZlRWRnZUJyZWFrUG9zaXRpb24obm9kZUNvbnRleHQsIGJyZWFrQXRUaGVFZGdlLCBvdmVyZmxvd24pO1xuICAgIH1cbiAgICByZXR1cm4gb3ZlcmZsb3duO1xuICB9XG5cbiAgYXBwbHlDbGVhcmFuY2Uobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgaWYgKCFub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAvLyBDYW5ub3QgZG8gY2VyYWxhbmNlIGZvciBub2RlcyB3aXRob3V0IHBhcmVudHNcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBtZWFzdXJlIHdoZXJlIHRoZSBlZGdlIG9mIHRoZSBlbGVtZW50IHdvdWxkIGJlIHdpdGhvdXQgY2xlYXJhbmNlXG4gICAgY29uc3QgbWFyZ2luID0gdGhpcy5nZXRDb21wdXRlZE1hcmdpbihub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50KTtcbiAgICBjb25zdCBzcGFjZXIgPSBub2RlQ29udGV4dC52aWV3Tm9kZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHNwYWNlci5zdHlsZS5ib3R0b20gPSBcIjBweFwiO1xuICAgICAgc3BhY2VyLnN0eWxlLndpZHRoID0gXCIxcHhcIjtcbiAgICAgIHNwYWNlci5zdHlsZS5tYXJnaW5SaWdodCA9IGAke21hcmdpbi5yaWdodH1weGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwYWNlci5zdHlsZS5yaWdodCA9IFwiMHB4XCI7XG4gICAgICBzcGFjZXIuc3R5bGUuaGVpZ2h0ID0gXCIxcHhcIjtcbiAgICAgIHNwYWNlci5zdHlsZS5tYXJnaW5Ub3AgPSBgJHttYXJnaW4udG9wfXB4YDtcbiAgICB9XG4gICAgbm9kZUNvbnRleHQudmlld05vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoc3BhY2VyLCBub2RlQ29udGV4dC52aWV3Tm9kZSk7XG4gICAgbGV0IHNwYWNlckJveCA9IHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KHNwYWNlcik7XG4gICAgY29uc3QgZWRnZSA9IHRoaXMuZ2V0QmVmb3JlRWRnZShzcGFjZXJCb3gpO1xuICAgIGNvbnN0IGRpciA9IHRoaXMuZ2V0Qm94RGlyKCk7XG4gICAgY29uc3QgY2xlYXIgPSBub2RlQ29udGV4dC5jbGVhclNpZGU7XG4gICAgbGV0IGNsZWFyRWRnZSA9IC10aGlzLmdldEJveERpcigpICogSW5maW5pdHk7XG4gICAgaWYgKGNsZWFyID09PSBcImFsbFwiKSB7XG4gICAgICBjbGVhckVkZ2UgPSB0aGlzLnBhZ2VGbG9hdExheW91dENvbnRleHQuZ2V0UGFnZUZsb2F0Q2xlYXJFZGdlKFxuICAgICAgICBjbGVhcixcbiAgICAgICAgdGhpcyxcbiAgICAgICk7XG4gICAgfVxuICAgIHN3aXRjaCAoY2xlYXIpIHtcbiAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgIGNsZWFyRWRnZSA9IGRpciAqIE1hdGgubWF4KGNsZWFyRWRnZSAqIGRpciwgdGhpcy5sZWZ0RmxvYXRFZGdlICogZGlyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgY2xlYXJFZGdlID0gZGlyICogTWF0aC5tYXgoY2xlYXJFZGdlICogZGlyLCB0aGlzLnJpZ2h0RmxvYXRFZGdlICogZGlyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjbGVhckVkZ2UgPVxuICAgICAgICAgIGRpciAqXG4gICAgICAgICAgTWF0aC5tYXgoXG4gICAgICAgICAgICBjbGVhckVkZ2UgKiBkaXIsXG4gICAgICAgICAgICBNYXRoLm1heCh0aGlzLnJpZ2h0RmxvYXRFZGdlICogZGlyLCB0aGlzLmxlZnRGbG9hdEVkZ2UgKiBkaXIpLFxuICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gZWRnZSBob2xkcyB0aGUgcG9zaXRpb24gd2hlcmUgZWxlbWVudCBib3JkZXIgXCJiZWZvcmVcIiBlZGdlIHdpbGwgYmVcbiAgICAvLyB3aXRob3V0IGNsZWFyYW5jZS4gY2xlYXJFZGdlIGlzIHRoZSBcImFmdGVyXCIgZWRnZSBvZiB0aGUgZmxvYXQgdG8gY2xlYXIuXG4gICAgaWYgKGVkZ2UgKiBkaXIgPj0gY2xlYXJFZGdlICogZGlyKSB7XG4gICAgICAvLyBObyBuZWVkIGZvciBjbGVhcmFuY2VcbiAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3BhY2VyKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTmVlZCBzb21lIGNsZWFyYW5jZSwgZGV0ZXJtaW5lIGhvdyBtdWNoLiBBZGQgdGhlIGNsZWFyYW5jZSBub2RlLFxuICAgICAgLy8gbWVhc3VyZSBpdHMgYWZ0ZXIgZWRnZSBhbmQgYWRqdXN0IGFmdGVyIG1hcmdpbiAocmVxdWlyZWQgZHVlIHRvXG4gICAgICAvLyBwb3NzaWJsZSBtYXJnaW4gY29sbGFwc2UgYmVmb3JlIGNsZWFyYW5jZSB3YXMgaW50cm9kdWNlZCkuXG4gICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLm1heCgxLCAoY2xlYXJFZGdlIC0gZWRnZSkgKiBkaXIpO1xuICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgc3BhY2VyLnN0eWxlLndpZHRoID0gYCR7aGVpZ2h0fXB4YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNwYWNlci5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgICAgfVxuICAgICAgc3BhY2VyQm94ID0gdGhpcy5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3Qoc3BhY2VyKTtcbiAgICAgIGNvbnN0IGFmdGVyRWRnZSA9IHRoaXMuZ2V0QWZ0ZXJFZGdlKHNwYWNlckJveCk7XG4gICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICBsZXQgd0FkaiA9IGFmdGVyRWRnZSArIG1hcmdpbi5yaWdodCAtIGNsZWFyRWRnZTtcbiAgICAgICAgaWYgKHdBZGogPiAwID09IG1hcmdpbi5yaWdodCA+PSAwKSB7XG4gICAgICAgICAgLy8gSW4gYWRkaXRpb24gdG8gY29sbGFwc2VkIHBvcnRpb25cbiAgICAgICAgICB3QWRqICs9IG1hcmdpbi5yaWdodDtcbiAgICAgICAgfVxuICAgICAgICBzcGFjZXIuc3R5bGUubWFyZ2luTGVmdCA9IGAke3dBZGp9cHhgO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGhBZGogPSBjbGVhckVkZ2UgLSAoYWZ0ZXJFZGdlICsgbWFyZ2luLnRvcCk7XG4gICAgICAgIGlmIChoQWRqID4gMCA9PSBtYXJnaW4udG9wID49IDApIHtcbiAgICAgICAgICAvLyBJbiBhZGRpdGlvbiB0byBjb2xsYXBzZWQgcG9ydGlvblxuICAgICAgICAgIGhBZGogKz0gbWFyZ2luLnRvcDtcbiAgICAgICAgfVxuICAgICAgICBzcGFjZXIuc3R5bGUubWFyZ2luQm90dG9tID0gYCR7aEFkan1weGA7XG4gICAgICB9XG4gICAgICBub2RlQ29udGV4dC5jbGVhclNwYWNlciA9IHNwYWNlcjtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlzQkZDKGZvcm1hdHRpbmdDb250ZXh0OiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGlmIChMYXlvdXRQcm9jZXNzb3IuaXNJbnN0YW5jZU9mQmxvY2tGb3JtYXR0aW5nQ29udGV4dChmb3JtYXR0aW5nQ29udGV4dCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBSZXBldGl0aXZlRWxlbWVudC5pc0luc3RhbmNlT2ZSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgICBmb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgIClcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogU2tpcHMgcG9zaXRpb25zIHVudGlsIGVpdGhlciB0aGUgc3RhcnQgb2YgdW5icmVha2FibGUgYmxvY2sgb3IgaW5saW5lXG4gICAqIGNvbnRlbnQuIEFsc28gc2V0cyBicmVha0JlZm9yZSBvbiB0aGUgcmVzdWx0IGNvbWJpbmluZyBicmVhay1iZWZvcmUgYW5kXG4gICAqIGJyZWFrLWFmdGVyIHByb3BlcnRpZXMgZnJvbSBhbGwgZWxlbWVudHMgdGhhdCBtZWV0IGF0IHRoZSBlZGdlLlxuICAgKi9cbiAgc2tpcEVkZ2VzKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBsZWFkaW5nRWRnZTogYm9vbGVhbixcbiAgICBmb3JjZWRCcmVha1ZhbHVlOiBzdHJpbmcgfCBudWxsLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IGZjID0gbm9kZUNvbnRleHQuYWZ0ZXJcbiAgICAgID8gbm9kZUNvbnRleHQucGFyZW50ICYmIG5vZGVDb250ZXh0LnBhcmVudC5mb3JtYXR0aW5nQ29udGV4dFxuICAgICAgOiBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICBpZiAoZmMgJiYgIXRoaXMuaXNCRkMoZmMpKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobm9kZUNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFwic2tpcEVkZ2VzXCIpO1xuXG4gICAgLy8gSWYgYSBmb3JjZWQgYnJlYWsgb2NjdXJyZWQgYXQgdGhlIGVuZCBvZiB0aGUgcHJldmlvdXMgY29sdW1uLFxuICAgIC8vIG5vZGVDb250ZXh0LmFmdGVyIHNob3VsZCBiZSBmYWxzZS5cbiAgICBsZXQgYXRVbmZvcmNlZEJyZWFrID1cbiAgICAgICFmb3JjZWRCcmVha1ZhbHVlICYmIGxlYWRpbmdFZGdlICYmIG5vZGVDb250ZXh0ICYmIG5vZGVDb250ZXh0LmFmdGVyO1xuICAgIGxldCBicmVha0F0VGhlRWRnZSA9IGZvcmNlZEJyZWFrVmFsdWU7XG4gICAgbGV0IGxhc3RBZnRlck5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCA9IG51bGw7XG4gICAgbGV0IGxlYWRpbmdFZGdlQ29udGV4dHM6IFZ0cmVlLk5vZGVDb250ZXh0W10gPSBbXTtcbiAgICBsZXQgdHJhaWxpbmdFZGdlQ29udGV4dHM6IFZ0cmVlLk5vZGVDb250ZXh0W10gPSBbXTtcbiAgICBsZXQgb25TdGFydEVkZ2VzID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBuZWVkRm9yY2VkQnJlYWsoKSB7XG4gICAgICAvLyBsZWFkaW5nRWRnZT10cnVlIG1lYW5zIHRoYXQgd2UgYXJlIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIG5ldyBjb2x1bW5cbiAgICAgIC8vIGFuZCBoZW5jZSBtdXN0IGF2b2lkIGEgYnJlYWsgKE90aGVyd2lzZSBsZWFkaW5nIHRvIGFuIGluZmluaXRlIGxvb3ApXG4gICAgICByZXR1cm4gKFxuICAgICAgICAhIWZvcmNlZEJyZWFrVmFsdWUgfHxcbiAgICAgICAgKCFsZWFkaW5nRWRnZSAmJiBCcmVhay5pc0ZvcmNlZEJyZWFrVmFsdWUoYnJlYWtBdFRoZUVkZ2UpKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzRm9yY2VkQnJlYWsoKSB7XG4gICAgICBub2RlQ29udGV4dCA9IGxlYWRpbmdFZGdlQ29udGV4dHNbMF0gfHwgbm9kZUNvbnRleHQ7XG4gICAgICBub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICAgIHNlbGYucGFnZUJyZWFrVHlwZSA9IGJyZWFrQXRUaGVFZGdlO1xuICAgIH1cbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICB3aGlsZSAobm9kZUNvbnRleHQpIHtcbiAgICAgICAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCk7XG4gICAgICAgICAgY29uc3QgbGF5b3V0UHJvY2Vzc29yID0gbmV3IExheW91dFByb2Nlc3Nvci5MYXlvdXRQcm9jZXNzb3JSZXNvbHZlcigpLmZpbmQoXG4gICAgICAgICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gQSBjb2RlIGJsb2NrIHRvIGJlIGFibGUgdG8gdXNlIGJyZWFrLiBCcmVhayBtb3ZlcyB0byB0aGUgbmV4dFxuICAgICAgICAgIC8vIG5vZGUgcG9zaXRpb24uXG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKCFub2RlQ29udGV4dC52aWV3Tm9kZSkge1xuICAgICAgICAgICAgICAvLyBOb24tZGlzcGxheWFibGUgY29udGVudCwgc2tpcFxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlQ29udGV4dC5pbmxpbmUgJiYgbm9kZUNvbnRleHQudmlld05vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgVnRyZWVJbXBsLmNhbklnbm9yZShcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlLFxuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQud2hpdGVzcGFjZSxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIElnbm9yYWJsZSB0ZXh0IGNvbnRlbnQsIHNraXBcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoIW5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gTGVhZGluZyBlZGdlIG9mIG5vbi1lbXB0eSBibG9jayAtPiBmaW5pc2hlZCBnb2luZyB0aHJvdWdoXG4gICAgICAgICAgICAgICAgLy8gYWxsIHN0YXJ0aW5nIGVkZ2VzIG9mIHRoZSBib3hcbiAgICAgICAgICAgICAgICBpZiAobmVlZEZvcmNlZEJyZWFrKCkpIHtcbiAgICAgICAgICAgICAgICAgIHByb2Nlc3NGb3JjZWRCcmVhaygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICBzZWxmLmNoZWNrT3ZlcmZsb3dBbmRTYXZlRWRnZUFuZEJyZWFrUG9zaXRpb24oXG4gICAgICAgICAgICAgICAgICAgIGxhc3RBZnRlck5vZGVDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSxcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gKHNlbGYuc3RvcEF0T3ZlcmZsb3dcbiAgICAgICAgICAgICAgICAgICAgPyBsYXN0QWZ0ZXJOb2RlQ29udGV4dCB8fCBub2RlQ29udGV4dFxuICAgICAgICAgICAgICAgICAgICA6IG5vZGVDb250ZXh0XG4gICAgICAgICAgICAgICAgICApLm1vZGlmeSgpO1xuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQub3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0Lm1vZGlmeSgpO1xuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQuYnJlYWtCZWZvcmUgPSBicmVha0F0VGhlRWRnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgICAgICAgICBpZiAobGF5b3V0UHJvY2Vzc29yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxheW91dFByb2Nlc3Nvci5zdGFydE5vbklubGluZUVsZW1lbnROb2RlKG5vZGVDb250ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChub2RlQ29udGV4dC5jbGVhclNpZGUpIHtcbiAgICAgICAgICAgICAgICAvLyBjbGVhclxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIHNlbGYuYXBwbHlDbGVhcmFuY2Uobm9kZUNvbnRleHQpICYmXG4gICAgICAgICAgICAgICAgICBsZWFkaW5nRWRnZSAmJlxuICAgICAgICAgICAgICAgICAgc2VsZi5icmVha1Bvc2l0aW9ucy5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYuc2F2ZUVkZ2VCcmVha1Bvc2l0aW9uKFxuICAgICAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5jb3B5KCksXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhc2VsZi5pc0JGQyhub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCkgfHxcbiAgICAgICAgICAgICAgICBSZXBldGl0aXZlRWxlbWVudC5pc0luc3RhbmNlT2ZSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICAgICAgICAgICAgKSB8fFxuICAgICAgICAgICAgICAgIHNlbGYuaXNGbG9hdE5vZGVDb250ZXh0KG5vZGVDb250ZXh0KSB8fFxuICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LmZsZXhDb250YWluZXJcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gbmV3IGZvcm1hdHRpbmcgY29udGV4dCwgb3IgZmxvYXQgb3IgZmxleCBjb250YWluZXJcbiAgICAgICAgICAgICAgICAvLyAodW5icmVha2FibGUpXG4gICAgICAgICAgICAgICAgbGVhZGluZ0VkZ2VDb250ZXh0cy5wdXNoKG5vZGVDb250ZXh0LmNvcHkoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UgPSBCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlLFxuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQuYnJlYWtCZWZvcmUsXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGEgZm9yY2VkIGJyZWFrIG11c3Qgb2NjdXIgYmVmb3JlIHRoZSBibG9jay5cbiAgICAgICAgICAgICAgICBpZiAobmVlZEZvcmNlZEJyZWFrKCkpIHtcbiAgICAgICAgICAgICAgICAgIHByb2Nlc3NGb3JjZWRCcmVhaygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICBzZWxmLmNoZWNrT3ZlcmZsb3dBbmRTYXZlRWRnZUFuZEJyZWFrUG9zaXRpb24oXG4gICAgICAgICAgICAgICAgICAgIGxhc3RBZnRlck5vZGVDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSxcbiAgICAgICAgICAgICAgICAgICkgfHxcbiAgICAgICAgICAgICAgICAgICFzZWxmLmxheW91dENvbnN0cmFpbnQuYWxsb3dMYXlvdXQobm9kZUNvbnRleHQpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAvLyBvdmVyZmxvd1xuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQgPSAoc2VsZi5zdG9wQXRPdmVyZmxvd1xuICAgICAgICAgICAgICAgICAgICA/IGxhc3RBZnRlck5vZGVDb250ZXh0IHx8IG5vZGVDb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIDogbm9kZUNvbnRleHRcbiAgICAgICAgICAgICAgICAgICkubW9kaWZ5KCk7XG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5vdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlQ29udGV4dC52aWV3Tm9kZS5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgICAgICAgIC8vIG5vdCBhbiBlbGVtZW50XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSAobm9kZUNvbnRleHQudmlld05vZGUgYXMgSFRNTEVsZW1lbnQpLnN0eWxlO1xuICAgICAgICAgICAgaWYgKG5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICAgICAgICAgIC8vIFNraXAgYW4gZW1wdHkgaW5saW5lIGJveCBhdCB0aGUgc3RhcnQgb2YgYSBibG9ja1xuICAgICAgICAgICAgICAvLyAoQW4gYW5vbnltb3VzIGJsb2NrIGNvbnNpc3RpbmcgZW50aXJlbHkgb2ZcbiAgICAgICAgICAgICAgLy8gY29sbGFwc2libGUgd2hpdGUgc3BhY2UgaXMgcmVtb3ZlZCBmcm9tIHRoZSByZW5kZXJpbmcgdHJlZSlcbiAgICAgICAgICAgICAgaWYgKG5vZGVDb250ZXh0LmlubGluZSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChsYXlvdXRQcm9jZXNzb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBsYXlvdXRQcm9jZXNzb3IuYWZ0ZXJOb25JbmxpbmVFbGVtZW50Tm9kZShcbiAgICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RvcEF0T3ZlcmZsb3csXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBUcmFpbGluZyBlZGdlXG4gICAgICAgICAgICAgIGlmIChvblN0YXJ0RWRnZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBmaW5pc2hlZCBnb2luZyB0aHJvdWdoIGFsbCBzdGFydGluZyBlZGdlcyBvZiB0aGUgYm94LlxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGEgZm9yY2VkIGJyZWFrIG11c3Qgb2NjdXIgYmVmb3JlIHRoZSBibG9jay5cbiAgICAgICAgICAgICAgICBpZiAobmVlZEZvcmNlZEJyZWFrKCkpIHtcbiAgICAgICAgICAgICAgICAgIHByb2Nlc3NGb3JjZWRCcmVhaygpO1xuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIGEgYnJlYWsgZGlkIG5vdCBvY2N1ciwgbW92ZSB0byB0aGUgbmV4dCBlZGdlLiB0aGlzXG4gICAgICAgICAgICAgICAgLy8gZWRnZSBpcyBubyBsb25nZXIgdGhlIGxlYWRpbmcgZWRnZS5cbiAgICAgICAgICAgICAgICBsZWFkaW5nRWRnZUNvbnRleHRzID0gW107XG4gICAgICAgICAgICAgICAgbGVhZGluZ0VkZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBhdFVuZm9yY2VkQnJlYWsgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb25TdGFydEVkZ2VzID0gZmFsc2U7IC8vIHdlIGFyZSBub3cgb24gZW5kIGVkZ2VzLlxuICAgICAgICAgICAgICBsYXN0QWZ0ZXJOb2RlQ29udGV4dCA9IG5vZGVDb250ZXh0LmNvcHkoKTtcbiAgICAgICAgICAgICAgdHJhaWxpbmdFZGdlQ29udGV4dHMucHVzaChsYXN0QWZ0ZXJOb2RlQ29udGV4dCk7XG4gICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgICAgICAgbm9kZUNvbnRleHQuYnJlYWtBZnRlcixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHN0eWxlICYmXG4gICAgICAgICAgICAgICAgIShcbiAgICAgICAgICAgICAgICAgIHNlbGYuemVyb0luZGVudChzdHlsZS5wYWRkaW5nQm90dG9tKSAmJlxuICAgICAgICAgICAgICAgICAgc2VsZi56ZXJvSW5kZW50KHN0eWxlLmJvcmRlckJvdHRvbVdpZHRoKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gTm9uLXplcm8gdHJhaWxpbmcgaW5zZXQuXG4gICAgICAgICAgICAgICAgLy8gTWFyZ2lucyBkb24ndCBjb2xsYXBzZSBhY3Jvc3Mgbm9uLXplcm8gYm9yZGVycyBhbmRcbiAgICAgICAgICAgICAgICAvLyBwYWRkaW5ncy5cbiAgICAgICAgICAgICAgICB0cmFpbGluZ0VkZ2VDb250ZXh0cyA9IFtsYXN0QWZ0ZXJOb2RlQ29udGV4dF07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIExlYWRpbmcgZWRnZVxuICAgICAgICAgICAgICBsZWFkaW5nRWRnZUNvbnRleHRzLnB1c2gobm9kZUNvbnRleHQuY29weSgpKTtcbiAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UgPSBCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSxcbiAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5icmVha0JlZm9yZSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgaWYgKCFzZWxmLmxheW91dENvbnN0cmFpbnQuYWxsb3dMYXlvdXQobm9kZUNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5jaGVja092ZXJmbG93QW5kU2F2ZUVkZ2VBbmRCcmVha1Bvc2l0aW9uKFxuICAgICAgICAgICAgICAgICAgbGFzdEFmdGVyTm9kZUNvbnRleHQsXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgIXNlbGYuc3RvcEF0T3ZlcmZsb3csXG4gICAgICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQubW9kaWZ5KCk7XG4gICAgICAgICAgICAgICAgbm9kZUNvbnRleHQub3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLnN0b3BBdE92ZXJmbG93KSB7XG4gICAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IHZpZXdUYWcgPSAobm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudCkubG9jYWxOYW1lO1xuICAgICAgICAgICAgICBpZiAobWVkaWFUYWdzW3ZpZXdUYWddKSB7XG4gICAgICAgICAgICAgICAgLy8gZWxlbWVudHMgdGhhdCBoYXZlIGluaGVyZW50IGNvbnRlbnRcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBhIGZvcmNlZCBicmVhayBtdXN0IG9jY3VyIGJlZm9yZSB0aGUgYmxvY2suXG4gICAgICAgICAgICAgICAgaWYgKG5lZWRGb3JjZWRCcmVhaygpKSB7XG4gICAgICAgICAgICAgICAgICBwcm9jZXNzRm9yY2VkQnJlYWsoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgc2VsZi5jaGVja092ZXJmbG93QW5kU2F2ZUVkZ2VBbmRCcmVha1Bvc2l0aW9uKFxuICAgICAgICAgICAgICAgICAgICBsYXN0QWZ0ZXJOb2RlQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAvLyBvdmVyZmxvd1xuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQgPSAoc2VsZi5zdG9wQXRPdmVyZmxvd1xuICAgICAgICAgICAgICAgICAgICA/IGxhc3RBZnRlck5vZGVDb250ZXh0IHx8IG5vZGVDb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIDogbm9kZUNvbnRleHRcbiAgICAgICAgICAgICAgICAgICkubW9kaWZ5KCk7XG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5vdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHN0eWxlICYmXG4gICAgICAgICAgICAgICAgIShcbiAgICAgICAgICAgICAgICAgIHNlbGYuemVyb0luZGVudChzdHlsZS5wYWRkaW5nVG9wKSAmJlxuICAgICAgICAgICAgICAgICAgc2VsZi56ZXJvSW5kZW50KHN0eWxlLmJvcmRlclRvcFdpZHRoKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gTm9uLXplcm8gbGVhZGluZyBpbnNldFxuICAgICAgICAgICAgICAgIGF0VW5mb3JjZWRCcmVhayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRyYWlsaW5nRWRnZUNvbnRleHRzID0gW107XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb25TdGFydEVkZ2VzID0gdHJ1ZTsgLy8gd2UgYXJlIG5vdyBvbiBzdGFydGluZyBlZGdlcy5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IHdoaWxlIChmYWxzZSk7IC8vIEVuZCBvZiBibG9jayBvZiBjb2RlIHRvIHVzZSBicmVha1xuXG4gICAgICAgICAgY29uc3QgbmV4dFJlc3VsdCA9IHNlbGYubmV4dEluVHJlZShub2RlQ29udGV4dCwgYXRVbmZvcmNlZEJyZWFrKTtcbiAgICAgICAgICBpZiAobmV4dFJlc3VsdC5pc1BlbmRpbmcoKSkge1xuICAgICAgICAgICAgbmV4dFJlc3VsdC50aGVuKChub2RlQ29udGV4dFBhcmFtKSA9PiB7XG4gICAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHRQYXJhbTtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gbmV4dFJlc3VsdC5nZXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgc2VsZi5jaGVja092ZXJmbG93QW5kU2F2ZUVkZ2VBbmRCcmVha1Bvc2l0aW9uKFxuICAgICAgICAgICAgbGFzdEFmdGVyTm9kZUNvbnRleHQsXG4gICAgICAgICAgICB0cmFpbGluZ0VkZ2VDb250ZXh0cyxcbiAgICAgICAgICAgICFzZWxmLnN0b3BBdE92ZXJmbG93LFxuICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAobGFzdEFmdGVyTm9kZUNvbnRleHQgJiYgc2VsZi5zdG9wQXRPdmVyZmxvdykge1xuICAgICAgICAgICAgbm9kZUNvbnRleHQgPSBsYXN0QWZ0ZXJOb2RlQ29udGV4dC5tb2RpZnkoKTtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETzogd2hhdCB0byByZXR1cm4gaGVyZT8/XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKEJyZWFrLmlzRm9yY2VkQnJlYWtWYWx1ZShicmVha0F0VGhlRWRnZSkpIHtcbiAgICAgICAgICBzZWxmLnBhZ2VCcmVha1R5cGUgPSBicmVha0F0VGhlRWRnZTtcbiAgICAgICAgfVxuICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAobGFzdEFmdGVyTm9kZUNvbnRleHQpIHtcbiAgICAgICAgICBzZWxmLmxhc3RBZnRlclBvc2l0aW9uID0gbGFzdEFmdGVyTm9kZUNvbnRleHQudG9Ob2RlUG9zaXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZS5maW5pc2gobm9kZUNvbnRleHQpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNraXBzIG5vbi1yZW5kZXJhYmxlIHBvc2l0aW9ucyB1bnRpbCBpdCBoaXRzIHRoZSBlbmQgb2YgdGhlIGZsb3cgb3Igc29tZVxuICAgKiByZW5kZXJhYmxlIGNvbnRlbnQuIFJldHVybnMgdGhlIG5vZGVDb250ZXh0IHRoYXQgd2FzIHBhc3NlZCBpbiBpZiBzb21lXG4gICAqIGNvbnRlbnQgcmVtYWlucyBhbmQgbnVsbCBpZiBhbGwgY29udGVudCBjb3VsZCBiZSBza2lwcGVkLlxuICAgKi9cbiAgc2tpcFRhaWxFZGdlcyhcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgbGV0IHJlc3VsdE5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQuY29weSgpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXCJza2lwRWRnZXNcIik7XG4gICAgbGV0IGJyZWFrQXRUaGVFZGdlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgb25TdGFydEVkZ2VzID0gZmFsc2U7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgd2hpbGUgKG5vZGVDb250ZXh0KSB7XG4gICAgICAgICAgLy8gQSBjb2RlIGJsb2NrIHRvIGJlIGFibGUgdG8gdXNlIGJyZWFrLiBCcmVhayBtb3ZlcyB0byB0aGUgbmV4dFxuICAgICAgICAgIC8vIG5vZGUgcG9zaXRpb24uXG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKCFub2RlQ29udGV4dC52aWV3Tm9kZSkge1xuICAgICAgICAgICAgICAvLyBOb24tZGlzcGxheWFibGUgY29udGVudCwgc2tpcFxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlQ29udGV4dC5pbmxpbmUgJiYgbm9kZUNvbnRleHQudmlld05vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgVnRyZWVJbXBsLmNhbklnbm9yZShcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlLFxuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQud2hpdGVzcGFjZSxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIElnbm9yYWJsZSB0ZXh0IGNvbnRlbnQsIHNraXBcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoIW5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gTGVhZGluZyBlZGdlIG9mIG5vbi1lbXB0eSBibG9jayAtPiBmaW5pc2hlZCBnb2luZyB0aHJvdWdoXG4gICAgICAgICAgICAgICAgLy8gYWxsIHN0YXJ0aW5nIGVkZ2VzIG9mIHRoZSBib3hcbiAgICAgICAgICAgICAgICBpZiAoQnJlYWsuaXNGb3JjZWRCcmVha1ZhbHVlKGJyZWFrQXRUaGVFZGdlKSkge1xuICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlQnJlYWtUeXBlID0gYnJlYWtBdFRoZUVkZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHNlbGYuaXNGbG9hdE5vZGVDb250ZXh0KG5vZGVDb250ZXh0KSB8fFxuICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LmZsZXhDb250YWluZXJcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gZmxvYXQgb3IgZmxleCBjb250YWluZXIgKHVuYnJlYWthYmxlKVxuICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSxcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LmJyZWFrQmVmb3JlLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBhIGZvcmNlZCBicmVhayBtdXN0IG9jY3VyIGJlZm9yZSB0aGUgYmxvY2suXG4gICAgICAgICAgICAgICAgaWYgKEJyZWFrLmlzRm9yY2VkQnJlYWtWYWx1ZShicmVha0F0VGhlRWRnZSkpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYucGFnZUJyZWFrVHlwZSA9IGJyZWFrQXRUaGVFZGdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZUNvbnRleHQudmlld05vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICAgICAgICAvLyBub3QgYW4gZWxlbWVudFxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gKG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEhUTUxFbGVtZW50KS5zdHlsZTtcbiAgICAgICAgICAgIGlmIChub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgICAgICAgICAvLyBUcmFpbGluZyBlZGdlXG4gICAgICAgICAgICAgIGlmIChvblN0YXJ0RWRnZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBmaW5pc2hlZCBnb2luZyB0aHJvdWdoIGFsbCBzdGFydGluZyBlZGdlcyBvZiB0aGUgYm94LlxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGEgZm9yY2VkIGJyZWFrIG11c3Qgb2NjdXIgYmVmb3JlIHRoZSBibG9jay5cbiAgICAgICAgICAgICAgICBpZiAoQnJlYWsuaXNGb3JjZWRCcmVha1ZhbHVlKGJyZWFrQXRUaGVFZGdlKSkge1xuICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlQnJlYWtUeXBlID0gYnJlYWtBdFRoZUVkZ2U7XG4gICAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gc2luY2UgYSBicmVhayBkaWQgbm90IG9jY3VyLCBtb3ZlIHRvIHRoZSBuZXh0IGVkZ2UuXG4gICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG9uU3RhcnRFZGdlcyA9IGZhbHNlOyAvLyB3ZSBhcmUgbm93IG9uIGVuZCBlZGdlcy5cbiAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UgPSBCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSxcbiAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5icmVha0FmdGVyLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gTGVhZGluZyBlZGdlXG4gICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgICAgICAgbm9kZUNvbnRleHQuYnJlYWtCZWZvcmUsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGNvbnN0IHZpZXdUYWcgPSAobm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudCkubG9jYWxOYW1lO1xuICAgICAgICAgICAgICBpZiAobWVkaWFUYWdzW3ZpZXdUYWddKSB7XG4gICAgICAgICAgICAgICAgLy8gZWxlbWVudHMgdGhhdCBoYXZlIGluaGVyZW50IGNvbnRlbnRcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBhIGZvcmNlZCBicmVhayBtdXN0IG9jY3VyIGJlZm9yZSB0aGUgYmxvY2suXG4gICAgICAgICAgICAgICAgaWYgKEJyZWFrLmlzRm9yY2VkQnJlYWtWYWx1ZShicmVha0F0VGhlRWRnZSkpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYucGFnZUJyZWFrVHlwZSA9IGJyZWFrQXRUaGVFZGdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzdHlsZSAmJlxuICAgICAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgICAgICBzZWxmLnplcm9JbmRlbnQoc3R5bGUucGFkZGluZ1RvcCkgJiZcbiAgICAgICAgICAgICAgICAgIHNlbGYuemVyb0luZGVudChzdHlsZS5ib3JkZXJUb3BXaWR0aClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIE5vbi16ZXJvIGxlYWRpbmcgaW5zZXRcbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvblN0YXJ0RWRnZXMgPSB0cnVlOyAvLyB3ZSBhcmUgbm93IG9uIHN0YXJ0aW5nIGVkZ2VzLlxuICAgICAgICAgIH0gd2hpbGUgKGZhbHNlKTsgLy8gRW5kIG9mIGJsb2NrIG9mIGNvZGUgdG8gdXNlIGJyZWFrXG5cbiAgICAgICAgICBjb25zdCBuZXh0UmVzdWx0ID0gc2VsZi5sYXlvdXRDb250ZXh0Lm5leHRJblRyZWUobm9kZUNvbnRleHQpO1xuICAgICAgICAgIGlmIChuZXh0UmVzdWx0LmlzUGVuZGluZygpKSB7XG4gICAgICAgICAgICBuZXh0UmVzdWx0LnRoZW4oKG5vZGVDb250ZXh0UGFyYW0pID0+IHtcbiAgICAgICAgICAgICAgbm9kZUNvbnRleHQgPSBub2RlQ29udGV4dFBhcmFtO1xuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9kZUNvbnRleHQgPSBuZXh0UmVzdWx0LmdldCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXN1bHROb2RlQ29udGV4dCA9IG51bGw7XG4gICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChyZXN1bHROb2RlQ29udGV4dCk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBsYXlvdXRGbG9hdE9yRm9vdG5vdGUoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGlmIChcbiAgICAgIFBhZ2VGbG9hdHMuaXNQYWdlRmxvYXQobm9kZUNvbnRleHQuZmxvYXRSZWZlcmVuY2UpIHx8XG4gICAgICBub2RlQ29udGV4dC5mbG9hdFNpZGUgPT09IFwiZm9vdG5vdGVcIlxuICAgICkge1xuICAgICAgcmV0dXJuIHRoaXMubGF5b3V0UGFnZUZsb2F0KG5vZGVDb250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMubGF5b3V0RmxvYXQobm9kZUNvbnRleHQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMYXlvdXQgbmV4dCBwb3J0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqL1xuICBsYXlvdXROZXh0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBsZWFkaW5nRWRnZTogYm9vbGVhbixcbiAgICBmb3JjZWRCcmVha1ZhbHVlPzogc3RyaW5nIHwgbnVsbCxcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFwibGF5b3V0TmV4dFwiKTtcbiAgICB0aGlzLnNraXBFZGdlcyhub2RlQ29udGV4dCwgbGVhZGluZ0VkZ2UsIGZvcmNlZEJyZWFrVmFsdWUgfHwgbnVsbCkudGhlbihcbiAgICAgIChub2RlQ29udGV4dFBhcmFtKSA9PiB7XG4gICAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHRQYXJhbSBhcyBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFub2RlQ29udGV4dCB8fFxuICAgICAgICAgIHNlbGYucGFnZUJyZWFrVHlwZSB8fFxuICAgICAgICAgIHNlbGYuc3RvcEJ5T3ZlcmZsb3cobm9kZUNvbnRleHQpXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIGZpbmlzaGVkIGFsbCBjb250ZW50LCBleHBsaWNpdCBwYWdlIGJyZWFrIG9yIG92ZXJmbG93IChhdXRvbWF0aWNcbiAgICAgICAgICAvLyBwYWdlIGJyZWFrKVxuICAgICAgICAgIGZyYW1lLmZpbmlzaChub2RlQ29udGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICAgICAgICBBc3NlcnRzLmFzc2VydChmb3JtYXR0aW5nQ29udGV4dCk7XG4gICAgICAgICAgY29uc3QgbGF5b3V0UHJvY2Vzc29yID0gbmV3IExheW91dFByb2Nlc3Nvci5MYXlvdXRQcm9jZXNzb3JSZXNvbHZlcigpLmZpbmQoXG4gICAgICAgICAgICBmb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGxheW91dFByb2Nlc3NvclxuICAgICAgICAgICAgLmxheW91dChub2RlQ29udGV4dCwgc2VsZiwgbGVhZGluZ0VkZ2UpXG4gICAgICAgICAgICAudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgKTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBjbGVhck92ZXJmbG93blZpZXdOb2RlcyhcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgcmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgKTogdm9pZCB7XG4gICAgaWYgKCFub2RlQ29udGV4dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKFxuICAgICAgbGV0IHBhcmVudCA9IG5vZGVDb250ZXh0LnBhcmVudDtcbiAgICAgIG5vZGVDb250ZXh0O1xuICAgICAgbm9kZUNvbnRleHQgPSBwYXJlbnQsIHBhcmVudCA9IHBhcmVudCA/IHBhcmVudC5wYXJlbnQgOiBudWxsXG4gICAgKSB7XG4gICAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IChwYXJlbnQgfHwgbm9kZUNvbnRleHQpLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgICAgQXNzZXJ0cy5hc3NlcnQoZm9ybWF0dGluZ0NvbnRleHQpO1xuICAgICAgY29uc3QgbGF5b3V0UHJvY2Vzc29yID0gbmV3IExheW91dFByb2Nlc3Nvci5MYXlvdXRQcm9jZXNzb3JSZXNvbHZlcigpLmZpbmQoXG4gICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgKTtcbiAgICAgIGxheW91dFByb2Nlc3Nvci5jbGVhck92ZXJmbG93blZpZXdOb2RlcyhcbiAgICAgICAgdGhpcyxcbiAgICAgICAgcGFyZW50LFxuICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgcmVtb3ZlU2VsZixcbiAgICAgICk7XG4gICAgICByZW1vdmVTZWxmID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaW5pdEdlb20oKTogdm9pZCB7XG4gICAgLy8gVE9ETzogd2Ugc2hvdWxkIGJlIGFibGUgdG8gYXZvaWQgcXVlcnlpbmcgdGhlIGxheW91dCBlbmdpbmUgYXQgdGhpc1xuICAgIC8vIHBvaW50LiBDcmVhdGUgYW4gZWxlbWVudCB0aGF0IGZpbGxzIHRoZSBjb250ZW50IGFyZWEgYW5kIHF1ZXJ5IGl0cyBzaXplLlxuICAgIC8vIENhbGxpbmcgZ2V0RWxlbWVudENsaWVudFJlY3Qgb24gdGhlIGNvbnRhaW5lciBlbGVtZW50IGluY2x1ZGVzIGVsZW1lbnRcbiAgICAvLyBwYWRkaW5nIHdoaWNoIGlzIHdyb25nIGZvciBvdXIgcHVycG9zZXMuXG4gICAgY29uc3QgcHJvYmUgPSB0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgXCJkaXZcIixcbiAgICApIGFzIEhUTUxFbGVtZW50O1xuICAgIHByb2JlLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIHByb2JlLnN0eWxlLnRvcCA9IGAke3RoaXMucGFkZGluZ1RvcH1weGA7XG4gICAgcHJvYmUuc3R5bGUucmlnaHQgPSBgJHt0aGlzLnBhZGRpbmdSaWdodH1weGA7XG4gICAgcHJvYmUuc3R5bGUuYm90dG9tID0gYCR7dGhpcy5wYWRkaW5nQm90dG9tfXB4YDtcbiAgICBwcm9iZS5zdHlsZS5sZWZ0ID0gYCR7dGhpcy5wYWRkaW5nTGVmdH1weGA7XG4gICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHByb2JlKTtcbiAgICBjb25zdCBjb2x1bW5CQm94ID0gdGhpcy5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3QocHJvYmUpO1xuICAgIHRoaXMuZWxlbWVudC5yZW1vdmVDaGlsZChwcm9iZSk7XG4gICAgY29uc3Qgb2Zmc2V0WCA9IHRoaXMub3JpZ2luWCArIHRoaXMubGVmdCArIHRoaXMuZ2V0SW5zZXRMZWZ0KCk7XG4gICAgY29uc3Qgb2Zmc2V0WSA9IHRoaXMub3JpZ2luWSArIHRoaXMudG9wICsgdGhpcy5nZXRJbnNldFRvcCgpO1xuICAgIHRoaXMuYm94ID0gbmV3IEdlb21ldHJ5VXRpbC5SZWN0KFxuICAgICAgb2Zmc2V0WCxcbiAgICAgIG9mZnNldFksXG4gICAgICBvZmZzZXRYICsgdGhpcy53aWR0aCxcbiAgICAgIG9mZnNldFkgKyB0aGlzLmhlaWdodCxcbiAgICApO1xuICAgIHRoaXMuc3RhcnRFZGdlID0gY29sdW1uQkJveFxuICAgICAgPyB0aGlzLnZlcnRpY2FsXG4gICAgICAgID8gY29sdW1uQkJveC50b3BcbiAgICAgICAgOiBjb2x1bW5CQm94LmxlZnRcbiAgICAgIDogMDtcbiAgICB0aGlzLmVuZEVkZ2UgPSBjb2x1bW5CQm94XG4gICAgICA/IHRoaXMudmVydGljYWxcbiAgICAgICAgPyBjb2x1bW5CQm94LmJvdHRvbVxuICAgICAgICA6IGNvbHVtbkJCb3gucmlnaHRcbiAgICAgIDogMDtcbiAgICB0aGlzLmJlZm9yZUVkZ2UgPSBjb2x1bW5CQm94XG4gICAgICA/IHRoaXMudmVydGljYWxcbiAgICAgICAgPyBjb2x1bW5CQm94LnJpZ2h0XG4gICAgICAgIDogY29sdW1uQkJveC50b3BcbiAgICAgIDogMDtcbiAgICB0aGlzLmFmdGVyRWRnZSA9IGNvbHVtbkJCb3hcbiAgICAgID8gdGhpcy52ZXJ0aWNhbFxuICAgICAgICA/IGNvbHVtbkJCb3gubGVmdFxuICAgICAgICA6IGNvbHVtbkJCb3guYm90dG9tXG4gICAgICA6IDA7XG4gICAgdGhpcy5sZWZ0RmxvYXRFZGdlID0gdGhpcy5iZWZvcmVFZGdlO1xuICAgIHRoaXMucmlnaHRGbG9hdEVkZ2UgPSB0aGlzLmJlZm9yZUVkZ2U7XG4gICAgdGhpcy5ib3R0b21tb3N0RmxvYXRUb3AgPSB0aGlzLmJlZm9yZUVkZ2U7XG4gICAgdGhpcy5mb290bm90ZUVkZ2UgPSB0aGlzLmFmdGVyRWRnZTtcbiAgICB0aGlzLmJhbmRzID0gR2VvbWV0cnlVdGlsLnNoYXBlc1RvQmFuZHMoXG4gICAgICB0aGlzLmJveCxcbiAgICAgIFt0aGlzLmdldElubmVyU2hhcGUoKV0sXG4gICAgICB0aGlzLmdldEV4Y2x1c2lvbnMoKSxcbiAgICAgIDgsXG4gICAgICB0aGlzLnNuYXBIZWlnaHQsXG4gICAgICB0aGlzLnZlcnRpY2FsLFxuICAgICk7XG4gICAgdGhpcy5jcmVhdGVGbG9hdHMoKTtcbiAgfVxuXG4gIGluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5jaHVua1Bvc2l0aW9ucyA9IFtdO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5lbGVtZW50LCBcIndpZHRoXCIsIGAke3RoaXMud2lkdGh9cHhgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMuZWxlbWVudCwgXCJoZWlnaHRcIiwgYCR7dGhpcy5oZWlnaHR9cHhgKTtcbiAgICB0aGlzLmluaXRHZW9tKCk7XG4gICAgdGhpcy5jb21wdXRlZEJsb2NrU2l6ZSA9IDA7XG4gICAgdGhpcy5vdmVyZmxvd24gPSBmYWxzZTtcbiAgICB0aGlzLnBhZ2VCcmVha1R5cGUgPSBudWxsO1xuICAgIHRoaXMubGFzdEFmdGVyUG9zaXRpb24gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhdmUgdGhlIHBvdGVudGlhbCBicmVha2luZyBwb3NpdGlvbiBhdCB0aGUgZWRnZS4gU2hvdWxkLCBpbiBnZW5lcmFsLCBzYXZlXG4gICAqIFwiYWZ0ZXJcIiBwb3NpdGlvbiBidXQgb25seSBhZnRlciBza2lwcGluZyBhbGwgb2YgdGhlIFwiYmVmb3JlXCIgb25lcyBhbmRcbiAgICogZ2V0dGluZyB0byB0aGUgbm9uLWVtcHR5IGNvbnRlbnQgKHRvIGdldCBicmVha0F0RWRnZSByaWdodCkuXG4gICAqL1xuICBzYXZlRWRnZUJyZWFrUG9zaXRpb24oXG4gICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGJyZWFrQXRFZGdlOiBzdHJpbmcgfCBudWxsLFxuICAgIG92ZXJmbG93czogYm9vbGVhbixcbiAgKTogdm9pZCB7XG4gICAgQXNzZXJ0cy5hc3NlcnQocG9zaXRpb24uZm9ybWF0dGluZ0NvbnRleHQpO1xuICAgIGNvbnN0IGNvcHkgPSBwb3NpdGlvbi5jb3B5KCk7XG4gICAgY29uc3QgbGF5b3V0UHJvY2Vzc29yID0gbmV3IExheW91dFByb2Nlc3Nvci5MYXlvdXRQcm9jZXNzb3JSZXNvbHZlcigpLmZpbmQoXG4gICAgICBwb3NpdGlvbi5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGNvbnN0IGNsb25lZFBhZGRpbmdCb3JkZXIgPSB0aGlzLmNhbGN1bGF0ZUNsb25lZFBhZGRpbmdCb3JkZXIoY29weSk7XG4gICAgY29uc3QgYnAgPSBsYXlvdXRQcm9jZXNzb3IuY3JlYXRlRWRnZUJyZWFrUG9zaXRpb24oXG4gICAgICBjb3B5LFxuICAgICAgYnJlYWtBdEVkZ2UsXG4gICAgICBvdmVyZmxvd3MsXG4gICAgICB0aGlzLmNvbXB1dGVkQmxvY2tTaXplICsgY2xvbmVkUGFkZGluZ0JvcmRlcixcbiAgICApO1xuICAgIHRoaXMuYnJlYWtQb3NpdGlvbnMucHVzaChicCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGNoZWNrUG9pbnRzIGFycmF5IG9mIGJyZWFraW5nIHBvaW50cyBmb3IgYnJlYWthYmxlIGJsb2NrXG4gICAqL1xuICBzYXZlQm94QnJlYWtQb3NpdGlvbihjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSk6IHZvaWQge1xuICAgIGNvbnN0IHBlbmFsdHkgPSBjaGVja1BvaW50c1swXS5icmVha1BlbmFsdHk7XG4gICAgY29uc3QgYnAgPSBuZXcgQm94QnJlYWtQb3NpdGlvbihjaGVja1BvaW50cywgcGVuYWx0eSk7XG4gICAgdGhpcy5icmVha1Bvc2l0aW9ucy5wdXNoKGJwKTtcbiAgfVxuXG4gIHVwZGF0ZU1heFJlYWNoZWRBZnRlckVkZ2UoYWZ0ZXJFZGdlOiBudW1iZXIpIHtcbiAgICBpZiAoIWlzTmFOKGFmdGVyRWRnZSkpIHtcbiAgICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldEJveERpcigpICogKGFmdGVyRWRnZSAtIHRoaXMuYmVmb3JlRWRnZSk7XG4gICAgICB0aGlzLmNvbXB1dGVkQmxvY2tTaXplID0gTWF0aC5tYXgoc2l6ZSwgdGhpcy5jb21wdXRlZEJsb2NrU2l6ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBjaHVua1Bvc2l0aW9uIHN0YXJ0aW5nIHBvc2l0aW9uLlxuICAgKiBAcmV0dXJuIGhvbGRpbmcgZW5kIHBvc2l0aW9uLlxuICAgKi9cbiAgbGF5b3V0KFxuICAgIGNodW5rUG9zaXRpb246IFZ0cmVlLkNodW5rUG9zaXRpb24sXG4gICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICAgYnJlYWtBZnRlcj86IHN0cmluZyB8IG51bGwsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLkNodW5rUG9zaXRpb24+IHtcbiAgICB0aGlzLmNodW5rUG9zaXRpb25zLnB1c2goY2h1bmtQb3NpdGlvbik7IC8vIFNvIHdlIGNhbiByZS1sYXlvdXQgdGhpcyBjb2x1bW4gbGF0ZXJcbiAgICBpZiAoY2h1bmtQb3NpdGlvbi5wcmltYXJ5LmFmdGVyKSB7XG4gICAgICB0aGlzLmxhc3RBZnRlclBvc2l0aW9uID0gY2h1bmtQb3NpdGlvbi5wcmltYXJ5O1xuICAgIH1cbiAgICBpZiAodGhpcy5zdG9wQXRPdmVyZmxvdyAmJiB0aGlzLm92ZXJmbG93bikge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGNodW5rUG9zaXRpb24gYXMgVnRyZWUuQ2h1bmtQb3NpdGlvbik7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzRnVsbFdpdGhQYWdlRmxvYXRzKCkpIHtcbiAgICAgIGlmIChcbiAgICAgICAgY2h1bmtQb3NpdGlvbi5wcmltYXJ5LmFmdGVyICYmXG4gICAgICAgIGNodW5rUG9zaXRpb24ucHJpbWFyeS5zdGVwcy5sZW5ndGggPT09IDFcbiAgICAgICkge1xuICAgICAgICAvLyBFbmQgb2YgY29udGVudHNcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwgYXMgVnRyZWUuQ2h1bmtQb3NpdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoY2h1bmtQb3NpdGlvbiBhcyBWdHJlZS5DaHVua1Bvc2l0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuQ2h1bmtQb3NpdGlvbj4gPSBUYXNrLm5ld0ZyYW1lKFwibGF5b3V0XCIpO1xuXG4gICAgLy8gLS0tLS0tIHN0YXJ0IHRoZSBjb2x1bW4gLS0tLS0tLS0tLS1cbiAgICBzZWxmLm9wZW5BbGxWaWV3cyhjaHVua1Bvc2l0aW9uLnByaW1hcnkpLnRoZW4oKG5vZGVDb250ZXh0KSA9PiB7XG4gICAgICBsZXQgaW5pdGlhbE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCA9IG51bGw7XG4gICAgICBpZiAobm9kZUNvbnRleHQudmlld05vZGUpIHtcbiAgICAgICAgaW5pdGlhbE5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQuY29weSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbmV4dEluVHJlZUxpc3RlbmVyID0gKGV2dCkgPT4ge1xuICAgICAgICAgIGlmIChldnQubm9kZUNvbnRleHQudmlld05vZGUpIHtcbiAgICAgICAgICAgIGluaXRpYWxOb2RlQ29udGV4dCA9IGV2dC5ub2RlQ29udGV4dDtcbiAgICAgICAgICAgIHNlbGYubGF5b3V0Q29udGV4dC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICBcIm5leHRJblRyZWVcIixcbiAgICAgICAgICAgICAgbmV4dEluVHJlZUxpc3RlbmVyLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNlbGYubGF5b3V0Q29udGV4dC5hZGRFdmVudExpc3RlbmVyKFwibmV4dEluVHJlZVwiLCBuZXh0SW5UcmVlTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmV0cnllciA9IG5ldyBDb2x1bW5MYXlvdXRSZXRyeWVyKGxlYWRpbmdFZGdlLCBicmVha0FmdGVyKTtcbiAgICAgIHJldHJ5ZXIubGF5b3V0KG5vZGVDb250ZXh0LCBzZWxmKS50aGVuKChub2RlQ29udGV4dFBhcmFtKSA9PiB7XG4gICAgICAgIHNlbGZcbiAgICAgICAgICAuZG9GaW5pc2hCcmVhayhcbiAgICAgICAgICAgIG5vZGVDb250ZXh0UGFyYW0sXG4gICAgICAgICAgICByZXRyeWVyLmNvbnRleHQub3ZlcmZsb3duTm9kZUNvbnRleHQsXG4gICAgICAgICAgICBpbml0aWFsTm9kZUNvbnRleHQsXG4gICAgICAgICAgICByZXRyeWVyLmluaXRpYWxDb21wdXRlZEJsb2NrU2l6ZSxcbiAgICAgICAgICApXG4gICAgICAgICAgLnRoZW4oKHBvc2l0aW9uQWZ0ZXIpID0+IHtcbiAgICAgICAgICAgIGxldCBjb250OiBUYXNrLlJlc3VsdDxib29sZWFuPiA9IG51bGw7XG4gICAgICAgICAgICBpZiAoIXNlbGYucHNldWRvUGFyZW50KSB7XG4gICAgICAgICAgICAgIGNvbnQgPSBzZWxmLmRvRmluaXNoQnJlYWtPZkZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMoXG4gICAgICAgICAgICAgICAgcG9zaXRpb25BZnRlcixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnQgPSBUYXNrLm5ld1Jlc3VsdChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnQudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChzZWxmLnBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoIXBvc2l0aW9uQWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZi5vdmVyZmxvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBWdHJlZUltcGwuQ2h1bmtQb3NpdGlvbihcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uQWZ0ZXIudG9Ob2RlUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChyZXN1bHQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGlzRnVsbFdpdGhQYWdlRmxvYXRzKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnBhZ2VGbG9hdExheW91dENvbnRleHQuaXNDb2x1bW5GdWxsV2l0aFBhZ2VGbG9hdHModGhpcyk7XG4gIH1cblxuICBnZXRNYXhCbG9ja1NpemVPZlBhZ2VGbG9hdHMoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmdldE1heEJsb2NrU2l6ZU9mUGFnZUZsb2F0cygpO1xuICB9XG5cbiAgZG9GaW5pc2hCcmVha09mRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyhcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcImRvRmluaXNoQnJlYWtPZkZyYWdtZW50TGF5b3V0Q29uc3RyYWludHNcIixcbiAgICApO1xuICAgIGNvbnN0IHNvcnRlZEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMgPSBbXS5jb25jYXQoXG4gICAgICB0aGlzLmZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMsXG4gICAgKTtcbiAgICBzb3J0ZWRGcmFnbWVudExheW91dENvbnN0cmFpbnRzLnNvcnQoXG4gICAgICAoYSwgYikgPT4gYS5nZXRQcmlvcml0eU9mRmluaXNoQnJlYWsoKSAtIGIuZ2V0UHJpb3JpdHlPZkZpbmlzaEJyZWFrKCksXG4gICAgKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wKCgpID0+IHtcbiAgICAgICAgaWYgKGkgPCBzb3J0ZWRGcmFnbWVudExheW91dENvbnN0cmFpbnRzLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHNvcnRlZEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHNbaSsrXS5maW5pc2hCcmVhayhcbiAgICAgICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiByZXN1bHQudGhlblJldHVybih0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIG5vZGVDb250ZXh0IHN0YXJ0aW5nIHBvc2l0aW9uLlxuICAgKiBAcmV0dXJuIGhvbGRpbmcgZW5kIHBvc2l0aW9uLlxuICAgKi9cbiAgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICAgIGJyZWFrQWZ0ZXI/OiBzdHJpbmcgfCBudWxsLFxuICApOiBUYXNrLlJlc3VsdDx7XG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgfT4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPHtcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICB9PiA9IFRhc2submV3RnJhbWUoXCJkb0xheW91dFwiKTtcbiAgICBsZXQgb3ZlcmZsb3duTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0ID0gbnVsbDtcblxuICAgIC8vIC0tLS0tLSBpbml0IGJhY2t0cmFja2luZyBsaXN0IC0tLS0tXG4gICAgc2VsZi5icmVha1Bvc2l0aW9ucyA9IFtdO1xuICAgIHNlbGYubm9kZUNvbnRleHRPdmVyZmxvd2luZ0R1ZVRvUmVwZXRpdGl2ZUVsZW1lbnRzID0gbnVsbDtcblxuICAgIC8vIC0tLS0tLS0gZmlsbCB0aGUgY29sdW1uIC0tLS0tLS0tLS0tLS1cbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICB3aGlsZSAobm9kZUNvbnRleHQpIHtcbiAgICAgICAgICAvLyBmaWxsIGEgc2luZ2xlIGJsb2NrXG4gICAgICAgICAgbGV0IHBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgIHNlbGZcbiAgICAgICAgICAgIC5sYXlvdXROZXh0KG5vZGVDb250ZXh0LCBsZWFkaW5nRWRnZSwgYnJlYWtBZnRlciB8fCBudWxsKVxuICAgICAgICAgICAgLnRoZW4oKG5vZGVDb250ZXh0UGFyYW0pID0+IHtcbiAgICAgICAgICAgICAgbGVhZGluZ0VkZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgYnJlYWtBZnRlciA9IG51bGw7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0T3ZlcmZsb3dpbmdEdWVUb1JlcGV0aXRpdmVFbGVtZW50cyAmJlxuICAgICAgICAgICAgICAgIHNlbGYuc3RvcEF0T3ZlcmZsb3dcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5wYWdlQnJlYWtUeXBlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBub2RlQ29udGV4dCA9XG4gICAgICAgICAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0T3ZlcmZsb3dpbmdEdWVUb1JlcGV0aXRpdmVFbGVtZW50cztcbiAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5vdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZUNvbnRleHQgPSBub2RlQ29udGV4dFBhcmFtO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzZWxmLnBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYucGFnZUJyZWFrVHlwZSkge1xuICAgICAgICAgICAgICAgIC8vIGV4cGxpY2l0IHBhZ2UgYnJlYWtcbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7IC8vIExvb3AgZW5kXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobm9kZUNvbnRleHQgJiYgc2VsZi5zdG9wQnlPdmVyZmxvdyhub2RlQ29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICAvLyBvdmVyZmxvdyAoaW1wbGljaXQgcGFnZSBicmVhayk6IGJhY2sgdXAgYW5kIGZpbmQgYVxuICAgICAgICAgICAgICAgIC8vIHBhZ2UgYnJlYWtcbiAgICAgICAgICAgICAgICBvdmVyZmxvd25Ob2RlQ29udGV4dCA9IG5vZGVDb250ZXh0O1xuICAgICAgICAgICAgICAgIGNvbnN0IGJwID0gc2VsZi5maW5kQWNjZXB0YWJsZUJyZWFrUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICBub2RlQ29udGV4dCA9IGJwLm5vZGVDb250ZXh0O1xuICAgICAgICAgICAgICAgIGlmIChicC5icmVha1Bvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICBicC5icmVha1Bvc2l0aW9uLmJyZWFrUG9zaXRpb25DaG9zZW4oc2VsZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTsgLy8gTG9vcCBlbmRcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocGVuZGluZykge1xuICAgICAgICAgICAgICAgICAgLy8gU3luYyBjYXNlXG4gICAgICAgICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIEFzeW5jIGNhc2VcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChwZW5kaW5nKSB7XG4gICAgICAgICAgICAvLyBBc3luYyBjYXNlIGFuZCBsb29wIGVuZFxuICAgICAgICAgICAgcGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN5bmMgY2FzZVxuICAgICAgICBzZWxmLmNvbXB1dGVkQmxvY2tTaXplICs9IHNlbGYuZ2V0T2Zmc2V0QnlSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHsgbm9kZUNvbnRleHQsIG92ZXJmbG93bk5vZGVDb250ZXh0IH0pO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlLWxheW91dCBhbHJlYWR5IGxhaWQtb3V0IGNodW5rcy4gUmV0dXJuIHRoZSBwb3NpdGlvbiBvZiB0aGUgbGFzdCBmbG93IGlmXG4gICAqIHRoZXJlIGlzIGFuIG92ZXJmbG93LlxuICAgKiBUT0RPOiBkZWFsIHdpdGggY2h1bmtzIHRoYXQgZGlkIG5vdCBmaXQgYXQgYWxsLlxuICAgKiBAcmV0dXJuIGhvbGRpbmcgZW5kIHBvc2l0aW9uLlxuICAgKi9cbiAgcmVkb0xheW91dCgpOiBUYXNrLlJlc3VsdDxWdHJlZS5DaHVua1Bvc2l0aW9uPiB7XG4gICAgY29uc3QgY2h1bmtQb3NpdGlvbnMgPSB0aGlzLmNodW5rUG9zaXRpb25zO1xuICAgIGxldCBsYXN0OiBOb2RlID0gdGhpcy5lbGVtZW50Lmxhc3RDaGlsZDtcbiAgICB3aGlsZSAobGFzdCAhPSB0aGlzLmxhc3QpIHtcbiAgICAgIGNvbnN0IHByZXYgPSBsYXN0LnByZXZpb3VzU2libGluZztcbiAgICAgIGlmIChcbiAgICAgICAgIShcbiAgICAgICAgICB0aGlzLmVsZW1lbnQgPT09IGxhc3QucGFyZW50Tm9kZSAmJlxuICAgICAgICAgICh0aGlzLmxheW91dENvbnRleHQgYXMgVmdlbi5WaWV3RmFjdG9yeSkuaXNQc2V1ZG9lbGVtZW50KGxhc3QpXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQ2hpbGQobGFzdCk7XG4gICAgICB9XG4gICAgICBsYXN0ID0gcHJldjtcbiAgICB9XG4gICAgdGhpcy5raWxsRmxvYXRzKCk7XG4gICAgdGhpcy5pbml0KCk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuQ2h1bmtQb3NpdGlvbj4gPSBUYXNrLm5ld0ZyYW1lKFwicmVkb0xheW91dFwiKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IHJlczogVnRyZWUuQ2h1bmtQb3NpdGlvbiA9IG51bGw7XG4gICAgbGV0IGxlYWRpbmdFZGdlID0gdHJ1ZTtcbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICBpZiAoaSA8IGNodW5rUG9zaXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IGNodW5rUG9zaXRpb24gPSBjaHVua1Bvc2l0aW9uc1tpKytdO1xuICAgICAgICAgIHNlbGYubGF5b3V0KGNodW5rUG9zaXRpb24sIGxlYWRpbmdFZGdlKS50aGVuKChwb3MpID0+IHtcbiAgICAgICAgICAgIGxlYWRpbmdFZGdlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAocG9zKSB7XG4gICAgICAgICAgICAgIHJlcyA9IHBvcztcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBmcmFtZS5maW5pc2gocmVzKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHNhdmVEaXN0YW5jZVRvQmxvY2tFbmRGbG9hdHMoKSB7XG4gICAgY29uc3QgYmxvY2tTdGFydEVkZ2VPZkJsb2NrRW5kRmxvYXRzID0gdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmdldEJsb2NrU3RhcnRFZGdlT2ZCbG9ja0VuZEZsb2F0cygpO1xuICAgIGlmIChcbiAgICAgIGJsb2NrU3RhcnRFZGdlT2ZCbG9ja0VuZEZsb2F0cyA+IDAgJiZcbiAgICAgIGlzRmluaXRlKGJsb2NrU3RhcnRFZGdlT2ZCbG9ja0VuZEZsb2F0cylcbiAgICApIHtcbiAgICAgIHRoaXMuYmxvY2tEaXN0YW5jZVRvQmxvY2tFbmRGbG9hdHMgPVxuICAgICAgICB0aGlzLmdldEJveERpcigpICpcbiAgICAgICAgKGJsb2NrU3RhcnRFZGdlT2ZCbG9ja0VuZEZsb2F0cyAtXG4gICAgICAgICAgdGhpcy5iZWZvcmVFZGdlIC1cbiAgICAgICAgICB0aGlzLmNvbXB1dGVkQmxvY2tTaXplKTtcbiAgICB9XG4gIH1cblxuICBjb2xsZWN0RWxlbWVudHNPZmZzZXQoKTogUmVwZXRpdGl2ZUVsZW1lbnQuRWxlbWVudHNPZmZzZXRbXSB7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzOiBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldFtdID0gW107XG4gICAgZm9yIChsZXQgY3VycmVudDogQ29sdW1uID0gdGhpczsgY3VycmVudDsgY3VycmVudCA9IGN1cnJlbnQucHNldWRvUGFyZW50KSB7XG4gICAgICBjdXJyZW50LmZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMuZm9yRWFjaCgoY29uc3RyYWludCkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgUmVwZXRpdGl2ZUVsZW1lbnQuaXNJbnN0YW5jZU9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50KFxuICAgICAgICAgICAgY29uc3RyYWludCxcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50ID0gY29uc3RyYWludC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICAgICAgICByZXBldGl0aXZlRWxlbWVudHMucHVzaChyZXBldGl0aXZlRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIFNlbGVjdG9ycy5pc0luc3RhbmNlT2ZBZnRlcklmQ29udGludWVzTGF5b3V0Q29uc3RyYWludChjb25zdHJhaW50KVxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudCA9IGNvbnN0cmFpbnQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnB1c2gocmVwZXRpdGl2ZUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChUYWJsZS5pc0luc3RhbmNlT2ZUYWJsZVJvd0xheW91dENvbnN0cmFpbnQoY29uc3RyYWludCkpIHtcbiAgICAgICAgICBjb25zdHJhaW50XG4gICAgICAgICAgICAuZ2V0RWxlbWVudHNPZmZzZXRzRm9yVGFibGVDZWxsKHRoaXMpXG4gICAgICAgICAgICAuZm9yRWFjaCgocmVwZXRpdGl2ZUVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnB1c2gocmVwZXRpdGl2ZUVsZW1lbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVwZXRpdGl2ZUVsZW1lbnRzO1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIFwicHNldWRvXCItY29sdW1uIG5lc3RlZCBpbnNpZGUgYSByZWFsIGNvbHVtbi5cbiAqIFRoaXMgY2xhc3MgaXMgY3JlYXRlZCB0byBoYW5kbGUgcGFyYWxsZWwgZnJhZ21lbnRlZCBmbG93cyAoZS5nLiB0YWJsZSBjb2x1bW5zXG4gKiBpbiBhIHNpbmdsZSB0YWJsZSByb3cpLiBBIHBzZXVkby1jb2x1bW4gYmVoYXZlcyBpbiB0aGUgc2FtZSB3YXkgYXMgdGhlXG4gKiBvcmlnaW5hbCBjb2x1bW4sIHNoYXJpbmcgaXRzIHByb3BlcnRpZXMuIFByb3BlcnR5IGNoYW5nZXMgb24gdGhlXG4gKiBwc2V1ZG8tY29sdW1uIGFyZSBub3QgcHJvcGFnYXRlZCB0byB0aGUgb3JpZ2luYWwgY29sdW1uLiBUaGUgTGF5b3V0Q29udGV4dCBvZlxuICogdGhlIG9yaWdpbmFsIGNvbHVtbiBpcyBhbHNvIGNsb25lZCBhbmQgdXNlZCBieSB0aGUgcHNldWRvLWNvbHVtbiwgbm90IHRvXG4gKiBwcm9wYWdhdGUgc3RhdGUgY2hhbmdlcyBvZiB0aGUgTGF5b3V0Q29udGV4dCBjYXVzZWQgYnkgdGhlIHBzZXVkby1jb2x1bW4uXG4gKiBAcGFyYW0gY29sdW1uIFRoZSBvcmlnaW5hbCAocGFyZW50KSBjb2x1bW5cbiAqIEBwYXJhbSB2aWV3Um9vdCBSb290IGVsZW1lbnQgZm9yIHRoZSBwc2V1ZG8tY29sdW1uLCBpLmUuLCB0aGUgcm9vdCBvZiB0aGVcbiAqICAgICBmcmFnbWVudGVkIGZsb3cuXG4gKiBAcGFyYW0gcGFyZW50Tm9kZUNvbnRleHQgQSBOb2RlQ29udGV4dCBnZW5lcmF0aW5nIHRoaXMgUHNldWRvQ29sdW1uXG4gKi9cbmV4cG9ydCBjbGFzcyBQc2V1ZG9Db2x1bW4ge1xuICBzdGFydE5vZGVDb250ZXh0czogVnRyZWUuTm9kZUNvbnRleHRbXSA9IFtdO1xuICBwcml2YXRlIGNvbHVtbjogTGF5b3V0LkNvbHVtbjtcbiAgY29uc3RydWN0b3IoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIHZpZXdSb290OiBFbGVtZW50LFxuICAgIHBhcmVudE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKSB7XG4gICAgdGhpcy5jb2x1bW4gPSBPYmplY3QuY3JlYXRlKGNvbHVtbikgYXMgTGF5b3V0LkNvbHVtbjtcbiAgICB0aGlzLmNvbHVtbi5lbGVtZW50ID0gdmlld1Jvb3Q7XG4gICAgdGhpcy5jb2x1bW4ubGF5b3V0Q29udGV4dCA9IGNvbHVtbi5sYXlvdXRDb250ZXh0LmNsb25lKCk7XG4gICAgdGhpcy5jb2x1bW4uc3RvcEF0T3ZlcmZsb3cgPSBmYWxzZTtcbiAgICB0aGlzLmNvbHVtbi5mbG93Um9vdEZvcm1hdHRpbmdDb250ZXh0ID0gcGFyZW50Tm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgdGhpcy5jb2x1bW4ucHNldWRvUGFyZW50ID0gY29sdW1uO1xuICAgIGNvbnN0IHBhcmVudENsb25lZFBhZGRpbmdCb3JkZXIgPSB0aGlzLmNvbHVtbi5jYWxjdWxhdGVDbG9uZWRQYWRkaW5nQm9yZGVyKFxuICAgICAgcGFyZW50Tm9kZUNvbnRleHQsXG4gICAgKTtcbiAgICB0aGlzLmNvbHVtbi5mb290bm90ZUVkZ2UgPVxuICAgICAgdGhpcy5jb2x1bW4uZm9vdG5vdGVFZGdlIC0gcGFyZW50Q2xvbmVkUGFkZGluZ0JvcmRlcjtcbiAgICBjb25zdCBwc2V1ZG9Db2x1bW4gPSB0aGlzO1xuICAgIHRoaXMuY29sdW1uLm9wZW5BbGxWaWV3cyA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICByZXR1cm4gQ29sdW1uLnByb3RvdHlwZS5vcGVuQWxsVmlld3NcbiAgICAgICAgLmNhbGwodGhpcywgcG9zaXRpb24pXG4gICAgICAgIC50aGVuQXN5bmMoKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIHBzZXVkb0NvbHVtbi5zdGFydE5vZGVDb250ZXh0cy5wdXNoKHJlc3VsdC5jb3B5KCkpO1xuICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gY2h1bmtQb3NpdGlvbiBzdGFydGluZyBwb3NpdGlvbi5cbiAgICogQHJldHVybiBob2xkaW5nIGVuZCBwb3NpdGlvbi5cbiAgICovXG4gIGxheW91dChcbiAgICBjaHVua1Bvc2l0aW9uOiBWdHJlZS5DaHVua1Bvc2l0aW9uLFxuICAgIGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5DaHVua1Bvc2l0aW9uPiB7XG4gICAgcmV0dXJuIHRoaXMuY29sdW1uLmxheW91dChjaHVua1Bvc2l0aW9uLCBsZWFkaW5nRWRnZSk7XG4gIH1cbiAgZmluZEFjY2VwdGFibGVCcmVha1Bvc2l0aW9uKFxuICAgIGFsbG93QnJlYWtBdFN0YXJ0UG9zaXRpb246IGJvb2xlYW4sXG4gICk6IExheW91dC5CcmVha1Bvc2l0aW9uQW5kTm9kZUNvbnRleHQge1xuICAgIGNvbnN0IHAgPSB0aGlzLmNvbHVtbi5maW5kQWNjZXB0YWJsZUJyZWFrUG9zaXRpb24oKTtcbiAgICBpZiAoYWxsb3dCcmVha0F0U3RhcnRQb3NpdGlvbikge1xuICAgICAgY29uc3Qgc3RhcnROb2RlQ29udGV4dCA9IHRoaXMuc3RhcnROb2RlQ29udGV4dHNbMF0uY29weSgpO1xuICAgICAgY29uc3QgYnAgPSBuZXcgQnJlYWtQb3NpdGlvbi5FZGdlQnJlYWtQb3NpdGlvbihcbiAgICAgICAgc3RhcnROb2RlQ29udGV4dCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgc3RhcnROb2RlQ29udGV4dC5vdmVyZmxvdyxcbiAgICAgICAgMCxcbiAgICAgICk7XG4gICAgICBicC5maW5kQWNjZXB0YWJsZUJyZWFrKHRoaXMuY29sdW1uLCAwKTtcbiAgICAgIGlmICghcC5ub2RlQ29udGV4dCkge1xuICAgICAgICByZXR1cm4geyBicmVha1Bvc2l0aW9uOiBicCwgbm9kZUNvbnRleHQ6IHN0YXJ0Tm9kZUNvbnRleHQgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHA7XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm4gaG9saW5nIHRydWVcbiAgICovXG4gIGZpbmlzaEJyZWFrKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBmb3JjZVJlbW92ZVNlbGY6IGJvb2xlYW4sXG4gICAgZW5kT2ZDb2x1bW46IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICByZXR1cm4gdGhpcy5jb2x1bW4uZmluaXNoQnJlYWsobm9kZUNvbnRleHQsIGZvcmNlUmVtb3ZlU2VsZiwgZW5kT2ZDb2x1bW4pO1xuICB9XG4gIGRvRmluaXNoQnJlYWtPZkZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMocG9zaXRpb25BZnRlcjogVnRyZWUuTm9kZUNvbnRleHQpIHtcbiAgICB0aGlzLmNvbHVtbi5kb0ZpbmlzaEJyZWFrT2ZGcmFnbWVudExheW91dENvbnN0cmFpbnRzKHBvc2l0aW9uQWZ0ZXIpO1xuICB9XG4gIGlzU3RhcnROb2RlQ29udGV4dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICBjb25zdCBzdGFydE5vZGVDb250ZXh0ID0gdGhpcy5zdGFydE5vZGVDb250ZXh0c1swXTtcbiAgICByZXR1cm4gKFxuICAgICAgc3RhcnROb2RlQ29udGV4dC52aWV3Tm9kZSA9PT0gbm9kZUNvbnRleHQudmlld05vZGUgJiZcbiAgICAgIHN0YXJ0Tm9kZUNvbnRleHQuYWZ0ZXIgPT09IG5vZGVDb250ZXh0LmFmdGVyICYmXG4gICAgICBzdGFydE5vZGVDb250ZXh0Lm9mZnNldEluTm9kZSA9PT0gbm9kZUNvbnRleHQub2Zmc2V0SW5Ob2RlXG4gICAgKTtcbiAgfVxuICBpc0xhc3RBZnRlck5vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBWdHJlZUltcGwuaXNTYW1lTm9kZVBvc2l0aW9uKFxuICAgICAgbm9kZUNvbnRleHQudG9Ob2RlUG9zaXRpb24oKSxcbiAgICAgIHRoaXMuY29sdW1uLmxhc3RBZnRlclBvc2l0aW9uLFxuICAgICk7XG4gIH1cbiAgZ2V0Q29sdW1uRWxlbWVudCgpOiBFbGVtZW50IHtcbiAgICByZXR1cm4gdGhpcy5jb2x1bW4uZWxlbWVudDtcbiAgfVxuICBnZXRDb2x1bW4oKTogTGF5b3V0LkNvbHVtbiB7XG4gICAgcmV0dXJuIHRoaXMuY29sdW1uO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBmaXJzdENoYXJQYXR0ZXJuID0gL15bXkEtWmEtejAtOV9cXHUwMDlFXFx1MDA5RlxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJBRlxcdTAzN0ItXFx1MDM3RFxcdTAzODZcXHUwMzg4LVxcdTA0ODJcXHUwNDhBLVxcdTA1MjddKihbQS1aYS16MC05X1xcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJBRlxcdTAzN0ItXFx1MDM3RFxcdTAzODZcXHUwMzg4LVxcdTA0ODJcXHUwNDhBLVxcdTA1MjddW15BLVphLXowLTlfXFx1MDA5RVxcdTAwOUZcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyQUZcXHUwMzdCLVxcdTAzN0RcXHUwMzg2XFx1MDM4OC1cXHUwNDgyXFx1MDQ4QS1cXHUwNTI3XSopPy87XG5cbmV4cG9ydCB0eXBlIFNpbmdsZVBhZ2VGbG9hdExheW91dFJlc3VsdCA9IExheW91dC5TaW5nbGVQYWdlRmxvYXRMYXlvdXRSZXN1bHQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBmaXhKdXN0aWZpY2F0aW9uT25IeXBoZW4oXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgaW5zZXJ0QWZ0ZXI6IGJvb2xlYW4sXG4gIG5vZGU6IE5vZGUsXG4gIGluc2VydGlvblBvaW50OiBOb2RlLFxuKTogdm9pZCB7XG4gIGlmIChCYXNlLmNoZWNrU29mdFdyYXBPcHBvcnR1bml0eUFmdGVySHlwaGVuQnVnKGRvY3VtZW50LmJvZHkpKSB7XG4gICAgY29uc3QgaHlwaGVuQ2hhciA9IHJlc29sdmVIeXBoZW5hdGVDaGFyYWN0ZXIobm9kZUNvbnRleHQpO1xuICAgIGNvbnN0IHByZXZTaWJsaW5nID0gaW5zZXJ0QWZ0ZXIgPyBub2RlIDogbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgY29uc3QgcHJldlRleHQgPSBwcmV2U2libGluZyA/IHByZXZTaWJsaW5nLnRleHRDb250ZW50IDogXCJcIjtcbiAgICBpZiAocHJldlRleHQuY2hhckF0KHByZXZUZXh0Lmxlbmd0aCAtIDEpID09PSBoeXBoZW5DaGFyKSB7XG4gICAgICBjb25zdCBkb2MgPSBub2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgICBjb25zdCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICBpZiAoQmFzZS5jaGVja1NvZnRXcmFwT3Bwb3J0dW5pdHlCeVdickJ1Zyhkb2N1bWVudC5ib2R5KSkge1xuICAgICAgICAvLyBGb3IgSUVcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShkb2MuY3JlYXRlVGV4dE5vZGUoXCIgXCIpLCBpbnNlcnRpb25Qb2ludCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3IgRWRnZVxuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGRvYy5jcmVhdGVFbGVtZW50KFwid2JyXCIpLCBpbnNlcnRpb25Qb2ludCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogYnJlYWtpbmcgcG9pbnQgcmVzb2x2ZXIgZm9yIFRleHQgTm9kZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFRleHROb2RlQnJlYWtlciBpbXBsZW1lbnRzIExheW91dC5UZXh0Tm9kZUJyZWFrZXIge1xuICBicmVha1RleHROb2RlKFxuICAgIHRleHROb2RlOiBUZXh0LFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBsb3c6IG51bWJlcixcbiAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICBjaGVja3BvaW50SW5kZXg6IG51bWJlcixcbiAgICBmb3JjZTogYm9vbGVhbixcbiAgKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIGlmIChub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgbm9kZUNvbnRleHQub2Zmc2V0SW5Ob2RlID0gdGV4dE5vZGUubGVuZ3RoO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDaGFyYWN0ZXIgd2l0aCBpbmRleCBsb3cgaXMgdGhlIGxhc3Qgb25lIHRoYXQgZml0cy5cbiAgICAgIGxldCB2aWV3SW5kZXggPSBsb3cgLSBub2RlQ29udGV4dC5ib3hPZmZzZXQ7XG4gICAgICBjb25zdCB0ZXh0ID0gdGV4dE5vZGUuZGF0YTtcbiAgICAgIGlmICh0ZXh0LmNoYXJDb2RlQXQodmlld0luZGV4KSA9PSAxNzMpIHtcbiAgICAgICAgdmlld0luZGV4ID0gdGhpcy5icmVha0FmdGVyU29mdEh5cGhlbihcbiAgICAgICAgICB0ZXh0Tm9kZSxcbiAgICAgICAgICB0ZXh0LFxuICAgICAgICAgIHZpZXdJbmRleCxcbiAgICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZpZXdJbmRleCA9IHRoaXMuYnJlYWtBZnRlck90aGVyQ2hhcmFjdGVyKFxuICAgICAgICAgIHRleHROb2RlLFxuICAgICAgICAgIHRleHQsXG4gICAgICAgICAgdmlld0luZGV4LFxuICAgICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHZpZXdJbmRleCA+IDApIHtcbiAgICAgICAgbm9kZUNvbnRleHQgPSB0aGlzLnVwZGF0ZU5vZGVDb250ZXh0KG5vZGVDb250ZXh0LCB2aWV3SW5kZXgsIHRleHROb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGVDb250ZXh0O1xuICB9XG5cbiAgYnJlYWtBZnRlclNvZnRIeXBoZW4oXG4gICAgdGV4dE5vZGU6IFRleHQsXG4gICAgdGV4dDogc3RyaW5nLFxuICAgIHZpZXdJbmRleDogbnVtYmVyLFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKTogbnVtYmVyIHtcbiAgICAvLyBjb252ZXJ0IHRyYWlsaW5nIHNvZnQgaHlwaGVuIHRvIGEgcmVhbCBoeXBoZW5cbiAgICB0ZXh0Tm9kZS5yZXBsYWNlRGF0YShcbiAgICAgIHZpZXdJbmRleCxcbiAgICAgIHRleHQubGVuZ3RoIC0gdmlld0luZGV4LFxuICAgICAgIW5vZGVDb250ZXh0LmJyZWFrV29yZCA/IHJlc29sdmVIeXBoZW5hdGVDaGFyYWN0ZXIobm9kZUNvbnRleHQpIDogXCJcIixcbiAgICApO1xuICAgIHJldHVybiB2aWV3SW5kZXggKyAxO1xuICB9XG5cbiAgYnJlYWtBZnRlck90aGVyQ2hhcmFjdGVyKFxuICAgIHRleHROb2RlOiBUZXh0LFxuICAgIHRleHQ6IHN0cmluZyxcbiAgICB2aWV3SW5kZXg6IG51bWJlcixcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICk6IG51bWJlciB7XG4gICAgLy8ga2VlcCB0aGUgdHJhaWxpbmcgY2hhcmFjdGVyIChpdCBtYXkgYmUgYSBzcGFjZSBvciBub3QpXG4gICAgY29uc3QgY2gwID0gdGV4dC5jaGFyQXQodmlld0luZGV4KTtcbiAgICB2aWV3SW5kZXgrKztcbiAgICBjb25zdCBjaDEgPSB0ZXh0LmNoYXJBdCh2aWV3SW5kZXgpO1xuXG4gICAgLy8gSWYgYXV0b21hdGljIGh5cGhlbiB3YXMgaW5zZXJ0ZWQgaGVyZSwgYWRkIGEgcmVhbCBoeXBoZW4uXG4gICAgdGV4dE5vZGUucmVwbGFjZURhdGEoXG4gICAgICB2aWV3SW5kZXgsXG4gICAgICB0ZXh0Lmxlbmd0aCAtIHZpZXdJbmRleCxcbiAgICAgICFub2RlQ29udGV4dC5icmVha1dvcmQgJiYgQmFzZS5pc0xldHRlcihjaDApICYmIEJhc2UuaXNMZXR0ZXIoY2gxKVxuICAgICAgICA/IHJlc29sdmVIeXBoZW5hdGVDaGFyYWN0ZXIobm9kZUNvbnRleHQpXG4gICAgICAgIDogXCJcIixcbiAgICApO1xuICAgIHJldHVybiB2aWV3SW5kZXg7XG4gIH1cblxuICB1cGRhdGVOb2RlQ29udGV4dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgdmlld0luZGV4OiBudW1iZXIsXG4gICAgdGV4dE5vZGU6IFRleHQsXG4gICk6IFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0Lm1vZGlmeSgpO1xuICAgIG5vZGVDb250ZXh0Lm9mZnNldEluTm9kZSArPSB2aWV3SW5kZXg7XG4gICAgbm9kZUNvbnRleHQuYnJlYWtCZWZvcmUgPSBudWxsO1xuICAgIHJldHVybiBub2RlQ29udGV4dDtcbiAgfVxuXG4gIHN0YXRpYyBpbnN0YW5jZTogVGV4dE5vZGVCcmVha2VyO1xufVxuVGV4dE5vZGVCcmVha2VyLmluc3RhbmNlID0gbmV3IFRleHROb2RlQnJlYWtlcigpO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUh5cGhlbmF0ZUNoYXJhY3RlcihcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuKTogc3RyaW5nIHtcbiAgcmV0dXJuIChcbiAgICBub2RlQ29udGV4dC5oeXBoZW5hdGVDaGFyYWN0ZXIgfHxcbiAgICAobm9kZUNvbnRleHQucGFyZW50ICYmIG5vZGVDb250ZXh0LnBhcmVudC5oeXBoZW5hdGVDaGFyYWN0ZXIpIHx8XG4gICAgXCItXCJcbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIENvbHVtbkxheW91dFJldHJ5ZXIgZXh0ZW5kcyBMYXlvdXRSZXRyeWVycy5BYnN0cmFjdExheW91dFJldHJ5ZXIge1xuICBicmVha0FmdGVyOiBzdHJpbmcgfCBudWxsO1xuICBwcml2YXRlIGluaXRpYWxQYWdlQnJlYWtUeXBlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgaW5pdGlhbENvbXB1dGVkQmxvY2tTaXplOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGluaXRpYWxPdmVyZmxvd246IGJvb2xlYW4gPSBmYWxzZTtcbiAgY29udGV4dDogeyBvdmVyZmxvd25Ob2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQgfSA9IHtcbiAgICBvdmVyZmxvd25Ob2RlQ29udGV4dDogbnVsbCxcbiAgfTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICAgYnJlYWtBZnRlcj86IHN0cmluZyB8IG51bGwsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5icmVha0FmdGVyID0gYnJlYWtBZnRlciB8fCBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcmVzb2x2ZUxheW91dE1vZGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogTGF5b3V0LkxheW91dE1vZGUge1xuICAgIHJldHVybiBuZXcgRGVmYXVsdExheW91dE1vZGUoXG4gICAgICB0aGlzLmxlYWRpbmdFZGdlLFxuICAgICAgdGhpcy5icmVha0FmdGVyLFxuICAgICAgdGhpcy5jb250ZXh0LFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcmVwYXJlTGF5b3V0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXQuQ29sdW1uKSB7XG4gICAgY29sdW1uLmZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMgPSBbXTtcbiAgICBpZiAoIWNvbHVtbi5wc2V1ZG9QYXJlbnQpIHtcbiAgICAgIFNoYXJlZC5jbGVhclJlcGV0aXRpdmVFbGVtZW50c0NhY2hlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xlYXJOb2Rlcyhpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0KSB7XG4gICAgc3VwZXIuY2xlYXJOb2Rlcyhpbml0aWFsUG9zaXRpb24pO1xuICAgIGxldCBub2RlQ29udGV4dCA9IGluaXRpYWxQb3NpdGlvbjtcbiAgICB3aGlsZSAobm9kZUNvbnRleHQpIHtcbiAgICAgIGNvbnN0IHZpZXdOb2RlID0gbm9kZUNvbnRleHQudmlld05vZGU7XG4gICAgICBpZiAodmlld05vZGUpIHtcbiAgICAgICAgTGF5b3V0SGVscGVyLnJlbW92ZUZvbGxvd2luZ1NpYmxpbmdzKHZpZXdOb2RlLnBhcmVudE5vZGUsIHZpZXdOb2RlKTtcbiAgICAgIH1cbiAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQucGFyZW50O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNhdmVTdGF0ZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsIGNvbHVtbjogTGF5b3V0LkNvbHVtbikge1xuICAgIHN1cGVyLnNhdmVTdGF0ZShub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgICB0aGlzLmluaXRpYWxQYWdlQnJlYWtUeXBlID0gY29sdW1uLnBhZ2VCcmVha1R5cGU7XG4gICAgdGhpcy5pbml0aWFsQ29tcHV0ZWRCbG9ja1NpemUgPSBjb2x1bW4uY29tcHV0ZWRCbG9ja1NpemU7XG4gICAgdGhpcy5pbml0aWFsT3ZlcmZsb3duID0gY29sdW1uLm92ZXJmbG93bjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHJlc3RvcmVTdGF0ZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsIGNvbHVtbjogTGF5b3V0LkNvbHVtbikge1xuICAgIHN1cGVyLnJlc3RvcmVTdGF0ZShub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgICBjb2x1bW4ucGFnZUJyZWFrVHlwZSA9IHRoaXMuaW5pdGlhbFBhZ2VCcmVha1R5cGU7XG4gICAgY29sdW1uLmNvbXB1dGVkQmxvY2tTaXplID0gdGhpcy5pbml0aWFsQ29tcHV0ZWRCbG9ja1NpemU7XG4gICAgY29sdW1uLm92ZXJmbG93biA9IHRoaXMuaW5pdGlhbE92ZXJmbG93bjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVmYXVsdExheW91dE1vZGUgaW1wbGVtZW50cyBMYXlvdXQuTGF5b3V0TW9kZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBsZWFkaW5nRWRnZTogYm9vbGVhbixcbiAgICBwdWJsaWMgcmVhZG9ubHkgYnJlYWtBZnRlcjogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGV4dDogeyBvdmVyZmxvd25Ob2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQgfSxcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRvTGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwiRGVmYXVsdExheW91dE1vZGUuZG9MYXlvdXRcIixcbiAgICApO1xuXG4gICAgcHJvY2Vzc0FmdGVySWZDb250aW51ZXNPZkFuY2VzdG9ycyhub2RlQ29udGV4dCwgY29sdW1uKS50aGVuKCgpID0+IHtcbiAgICAgIGNvbHVtblxuICAgICAgICAuZG9MYXlvdXQobm9kZUNvbnRleHQsIHRoaXMubGVhZGluZ0VkZ2UsIHRoaXMuYnJlYWtBZnRlcilcbiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIHRoaXMuY29udGV4dC5vdmVyZmxvd25Ob2RlQ29udGV4dCA9IHJlc3VsdC5vdmVyZmxvd25Ob2RlQ29udGV4dDtcbiAgICAgICAgICBmcmFtZS5maW5pc2gocmVzdWx0Lm5vZGVDb250ZXh0KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWNjZXB0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXQuQ29sdW1uKTogYm9vbGVhbiB7XG4gICAgaWYgKGNvbHVtbi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSB8fCBjb2x1bW4ucGFnZUJyZWFrVHlwZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5sZW5ndGggPD0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5ldmVyeSgoY29uc3RyYWludCkgPT5cbiAgICAgIGNvbnN0cmFpbnQuYWxsb3dMYXlvdXQoXG4gICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICB0aGlzLmNvbnRleHQub3ZlcmZsb3duTm9kZUNvbnRleHQsXG4gICAgICAgIGNvbHVtbixcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvc3RMYXlvdXQoXG4gICAgcG9zaXRpb25BZnRlcjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgaW5pdGlhbFBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgYWNjZXB0ZWQ6IGJvb2xlYW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIGlmICghYWNjZXB0ZWQpIHtcbiAgICAgIGNvbnN0IGhhc05leHRDYW5kaWRhdGUgPSBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5zb21lKFxuICAgICAgICAoY29uc3RyYWludCkgPT4gY29uc3RyYWludC5uZXh0Q2FuZGlkYXRlKHBvc2l0aW9uQWZ0ZXIpLFxuICAgICAgKTtcblxuICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gbmV4dCBjYW5kaWRhdGUsIHdlIGFjY2VwdCB0aGUgY3VycmVudCBsYXlvdXQgdHJpYWwuXG4gICAgICAvLyBMYXRlciBDb2x1bW4jZG9GaW5pc2hCcmVhayBkZWNpZGVzIHdoZXRoZXIgdGhlIG92ZXJmbG93aW5nIGNvbnRlbnRcbiAgICAgIC8vIHNob3VsZCBiZSBwbGFjZWQgYXMgaXMgb3IgYmUgZGVmZXJyZWQgdG8gdGhlIG5leHQgY29sdW1uLFxuICAgICAgLy8gZGVwZW5kaW5nIG9uIHRoZSB2YWx1ZSBvZiBDb2x1bW4jZm9yY2VOb25maXR0aW5nLlxuICAgICAgYWNjZXB0ZWQgPSAhaGFzTmV4dENhbmRpZGF0ZTtcbiAgICB9XG4gICAgY29sdW1uLmZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMuZm9yRWFjaCgoY29uc3RyYWludCkgPT4ge1xuICAgICAgY29uc3RyYWludC5wb3N0TGF5b3V0KGFjY2VwdGVkLCBwb3NpdGlvbkFmdGVyLCBpbml0aWFsUG9zaXRpb24sIGNvbHVtbik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFjY2VwdGVkO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYWdlRmxvYXRBcmVhIGV4dGVuZHMgQ29sdW1uIGltcGxlbWVudHMgTGF5b3V0LlBhZ2VGbG9hdEFyZWEge1xuICBwcml2YXRlIHJvb3RWaWV3Tm9kZXM6IEVsZW1lbnRbXSA9IFtdO1xuICBwcml2YXRlIGZsb2F0TWFyZ2luczogR2VvbWV0cnlVdGlsLkluc2V0c1tdID0gW107XG4gIGFkanVzdENvbnRlbnRSZWxhdGl2ZVNpemU6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIGxheW91dENvbnRleHQ6IFZ0cmVlLkxheW91dENvbnRleHQsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICAgbGF5b3V0Q29uc3RyYWludDogTGF5b3V0Q29uc3RyYWludCxcbiAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmVudENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICApIHtcbiAgICBzdXBlcihcbiAgICAgIGVsZW1lbnQsXG4gICAgICBsYXlvdXRDb250ZXh0LFxuICAgICAgY2xpZW50TGF5b3V0LFxuICAgICAgbGF5b3V0Q29uc3RyYWludCxcbiAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG9wZW5BbGxWaWV3cyhwb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICByZXR1cm4gc3VwZXIub3BlbkFsbFZpZXdzKHBvc2l0aW9uKS50aGVuQXN5bmMoKG5vZGVDb250ZXh0KSA9PiB7XG4gICAgICBpZiAobm9kZUNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5maXhGbG9hdFNpemVBbmRQb3NpdGlvbihub2RlQ29udGV4dCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobm9kZUNvbnRleHQpO1xuICAgIH0pO1xuICB9XG5cbiAgY29udmVydFBlcmNlbnRhZ2VTaXplc1RvUHgodGFyZ2V0OiBFbGVtZW50KSB7XG4gICAgY29uc3QgY29udGFpbmluZ0Jsb2NrUmVjdCA9IHRoaXMucGFyZW50Q29udGFpbmVyLmdldFBhZGRpbmdSZWN0KCk7XG4gICAgY29uc3QgcmVmV2lkdGggPSBjb250YWluaW5nQmxvY2tSZWN0LngyIC0gY29udGFpbmluZ0Jsb2NrUmVjdC54MTtcbiAgICBjb25zdCByZWZIZWlnaHQgPSBjb250YWluaW5nQmxvY2tSZWN0LnkyIC0gY29udGFpbmluZ0Jsb2NrUmVjdC55MTtcblxuICAgIGZ1bmN0aW9uIGNvbnZlcnRQZXJjZW50YWdlVG9QeChwcm9wczogc3RyaW5nW10sIHJlZlZhbHVlOiBudW1iZXIpIHtcbiAgICAgIHByb3BzLmZvckVhY2goKHByb3BOYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlU3RyaW5nID0gQmFzZS5nZXRDU1NQcm9wZXJ0eSh0YXJnZXQsIHByb3BOYW1lKTtcbiAgICAgICAgaWYgKHZhbHVlU3RyaW5nICYmIHZhbHVlU3RyaW5nLmNoYXJBdCh2YWx1ZVN0cmluZy5sZW5ndGggLSAxKSA9PT0gXCIlXCIpIHtcbiAgICAgICAgICBjb25zdCBwZXJjZW50YWdlVmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlU3RyaW5nKTtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IChyZWZWYWx1ZSAqIHBlcmNlbnRhZ2VWYWx1ZSkgLyAxMDA7XG4gICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0YXJnZXQsIHByb3BOYW1lLCBgJHt2YWx1ZX1weGApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29udmVydFBlcmNlbnRhZ2VUb1B4KFtcIndpZHRoXCIsIFwibWF4LXdpZHRoXCIsIFwibWluLXdpZHRoXCJdLCByZWZXaWR0aCk7XG4gICAgY29udmVydFBlcmNlbnRhZ2VUb1B4KFtcImhlaWdodFwiLCBcIm1heC1oZWlnaHRcIiwgXCJtaW4taGVpZ2h0XCJdLCByZWZIZWlnaHQpO1xuICAgIGNvbnZlcnRQZXJjZW50YWdlVG9QeChcbiAgICAgIFtcbiAgICAgICAgXCJtYXJnaW4tdG9wXCIsXG4gICAgICAgIFwibWFyZ2luLXJpZ2h0XCIsXG4gICAgICAgIFwibWFyZ2luLWJvdHRvbVwiLFxuICAgICAgICBcIm1hcmdpbi1sZWZ0XCIsXG4gICAgICAgIFwicGFkZGluZy10b3BcIixcbiAgICAgICAgXCJwYWRkaW5nLXJpZ2h0XCIsXG4gICAgICAgIFwicGFkZGluZy1ib3R0b21cIixcbiAgICAgICAgXCJwYWRkaW5nLWxlZnRcIixcbiAgICAgIF0sXG4gICAgICB0aGlzLnZlcnRpY2FsID8gcmVmSGVpZ2h0IDogcmVmV2lkdGgsXG4gICAgKTtcbiAgICBbXCJtYXJnaW4tdG9wXCIsIFwibWFyZ2luLXJpZ2h0XCIsIFwibWFyZ2luLWJvdHRvbVwiLCBcIm1hcmdpbi1sZWZ0XCJdLmZvckVhY2goXG4gICAgICAocHJvcE5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBCYXNlLmdldENTU1Byb3BlcnR5KHRhcmdldCwgcHJvcE5hbWUpO1xuICAgICAgICBpZiAodmFsdWUgPT09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0YXJnZXQsIHByb3BOYW1lLCBcIjBcIik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuXG4gIGZpeEZsb2F0U2l6ZUFuZFBvc2l0aW9uKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCkge1xuICAgIHdoaWxlIChub2RlQ29udGV4dC5wYXJlbnQpIHtcbiAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQucGFyZW50O1xuICAgIH1cbiAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dC52aWV3Tm9kZS5ub2RlVHlwZSA9PT0gMSk7XG4gICAgY29uc3Qgcm9vdFZpZXdOb2RlID0gbm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudDtcbiAgICB0aGlzLnJvb3RWaWV3Tm9kZXMucHVzaChyb290Vmlld05vZGUpO1xuICAgIGlmICh0aGlzLmFkanVzdENvbnRlbnRSZWxhdGl2ZVNpemUpIHtcbiAgICAgIHRoaXMuY29udmVydFBlcmNlbnRhZ2VTaXplc1RvUHgocm9vdFZpZXdOb2RlKTtcbiAgICB9XG4gICAgdGhpcy5mbG9hdE1hcmdpbnMucHVzaCh0aGlzLmdldENvbXB1dGVkTWFyZ2luKHJvb3RWaWV3Tm9kZSkpO1xuICAgIGlmICh0aGlzLmFkanVzdENvbnRlbnRSZWxhdGl2ZVNpemUpIHtcbiAgICAgIGNvbnN0IGZsb2F0U2lkZSA9IHRoaXMuZmxvYXRTaWRlO1xuICAgICAgY29uc3QgaXNWZXJ0aWNhbCA9IHRoaXMucGFyZW50Q29udGFpbmVyLnZlcnRpY2FsO1xuICAgICAgaWYgKGlzVmVydGljYWwpIHtcbiAgICAgICAgaWYgKGZsb2F0U2lkZSA9PT0gXCJibG9jay1lbmRcIiB8fCBmbG9hdFNpZGUgPT09IFwibGVmdFwiKSB7XG4gICAgICAgICAgY29uc3QgaGVpZ2h0ID0gQmFzZS5nZXRDU1NQcm9wZXJ0eShyb290Vmlld05vZGUsIFwiaGVpZ2h0XCIpO1xuICAgICAgICAgIGlmIChoZWlnaHQgIT09IFwiXCIgJiYgaGVpZ2h0ICE9PSBcImF1dG9cIikge1xuICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShyb290Vmlld05vZGUsIFwibWFyZ2luLXRvcFwiLCBcImF1dG9cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZmxvYXRTaWRlID09PSBcImJsb2NrLWVuZFwiIHx8IGZsb2F0U2lkZSA9PT0gXCJib3R0b21cIikge1xuICAgICAgICAgIGNvbnN0IHdpZHRoID0gQmFzZS5nZXRDU1NQcm9wZXJ0eShyb290Vmlld05vZGUsIFwid2lkdGhcIik7XG4gICAgICAgICAgaWYgKHdpZHRoICE9PSBcIlwiICYmIHdpZHRoICE9PSBcImF1dG9cIikge1xuICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShyb290Vmlld05vZGUsIFwibWFyZ2luLWxlZnRcIiwgXCJhdXRvXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldENvbnRlbnRJbmxpbmVTaXplKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KFxuICAgICAgbnVsbCxcbiAgICAgIHRoaXMucm9vdFZpZXdOb2Rlcy5tYXAoKHIsIGkpID0+IHtcbiAgICAgICAgY29uc3QgYm94ID0gdGhpcy5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3Qocik7XG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IHRoaXMuZmxvYXRNYXJnaW5zW2ldO1xuICAgICAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbFxuICAgICAgICAgID8gbWFyZ2luLnRvcCArIGJveC5oZWlnaHQgKyBtYXJnaW4uYm90dG9tXG4gICAgICAgICAgOiBtYXJnaW4ubGVmdCArIGJveC53aWR0aCArIG1hcmdpbi5yaWdodDtcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFJlcGV0aXRpdmVFbGVtZW50IC0gRWxlbWVudHMgcmVwZWF0ZWQgaW4gZXZlcnkgZnJhZ21lbnRcbiAqIGJ5IHJlcGVhdC1vbi1icmVhayBwcm9wZXJ0eS5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRIZWxwZXIgZnJvbSBcIi4vbGF5b3V0LWhlbHBlclwiO1xuaW1wb3J0ICogYXMgTGF5b3V0UHJvY2Vzc29yIGZyb20gXCIuL2xheW91dC1wcm9jZXNzb3JcIjtcbmltcG9ydCAqIGFzIExheW91dFJldHJ5ZXJzIGZyb20gXCIuL2xheW91dC1yZXRyeWVyc1wiO1xuaW1wb3J0ICogYXMgTGF5b3V0VXRpbCBmcm9tIFwiLi9sYXlvdXQtdXRpbFwiO1xuaW1wb3J0ICogYXMgUGx1Z2luIGZyb20gXCIuL3BsdWdpblwiO1xuaW1wb3J0ICogYXMgU2hhcmVkIGZyb20gXCIuL3NoYXJlZFwiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBWdHJlZUltcGwgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCAqIGFzIExheW91dCBmcm9tIFwiLi9sYXlvdXRcIjtcbmltcG9ydCB7XG4gIEZvcm1hdHRpbmdDb250ZXh0VHlwZSxcbiAgRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50VHlwZSxcbiAgTGF5b3V0IGFzIExheW91dFR5cGUsXG4gIFJlcGV0aXRpdmVFbGVtZW50LFxuICBUYWJsZSxcbiAgVnRyZWUsXG59IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0XG4gIGltcGxlbWVudHMgUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCB7XG4gIGZvcm1hdHRpbmdDb250ZXh0VHlwZTogRm9ybWF0dGluZ0NvbnRleHRUeXBlID0gXCJSZXBldGl0aXZlRWxlbWVudHNPd25lclwiO1xuICBpc1Jvb3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcmVwZXRpdGl2ZUVsZW1lbnRzOiBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHMgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBwYXJlbnQ6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSByb290U291cmNlTm9kZTogRWxlbWVudCxcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCJSZXBldGl0aXZlIGVsZW1lbnRzIG93bmVyIGZvcm1hdHRpbmcgY29udGV4dCAoUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dClcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGlzRmlyc3RUaW1lKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgZmlyc3RUaW1lOiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZpcnN0VGltZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFBhcmVudCgpOiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCB7XG4gICAgcmV0dXJuIHRoaXMucGFyZW50O1xuICB9XG5cbiAgZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50cyB7XG4gICAgcmV0dXJuIHRoaXMucmVwZXRpdGl2ZUVsZW1lbnRzO1xuICB9XG5cbiAgZ2V0Um9vdFZpZXdOb2RlKHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCk6IEVsZW1lbnQgfCBudWxsIHtcbiAgICBjb25zdCByb290ID0gdGhpcy5nZXRSb290Tm9kZUNvbnRleHQocG9zaXRpb24pO1xuICAgIHJldHVybiByb290ID8gKHJvb3Qudmlld05vZGUgYXMgRWxlbWVudCkgOiBudWxsO1xuICB9XG5cbiAgZ2V0Um9vdE5vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IFZ0cmVlLk5vZGVDb250ZXh0IHwgbnVsbCB7XG4gICAgZG8ge1xuICAgICAgaWYgKFxuICAgICAgICAhbm9kZUNvbnRleHQuYmVsb25nc1RvKHRoaXMpICYmXG4gICAgICAgIG5vZGVDb250ZXh0LnNvdXJjZU5vZGUgPT09IHRoaXMucm9vdFNvdXJjZU5vZGVcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gbm9kZUNvbnRleHQ7XG4gICAgICB9XG4gICAgfSB3aGlsZSAoKG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQucGFyZW50KSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpbml0aWFsaXplUmVwZXRpdGl2ZUVsZW1lbnRzKHZlcnRpY2FsOiBib29sZWFuKSB7XG4gICAgaWYgKHRoaXMucmVwZXRpdGl2ZUVsZW1lbnRzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZvdW5kID0gU2hhcmVkLnJlcGV0aXRpdmVFbGVtZW50c0NhY2hlLnNvbWUoKGVudHJ5KSA9PiB7XG4gICAgICBpZiAoZW50cnkucm9vdCA9PT0gdGhpcy5yb290U291cmNlTm9kZSkge1xuICAgICAgICB0aGlzLnJlcGV0aXRpdmVFbGVtZW50cyA9IGVudHJ5LmVsZW1lbnRzO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgICBpZiAoIWZvdW5kKSB7XG4gICAgICB0aGlzLnJlcGV0aXRpdmVFbGVtZW50cyA9IG5ldyBSZXBldGl0aXZlRWxlbWVudHMoXG4gICAgICAgIHZlcnRpY2FsLFxuICAgICAgICB0aGlzLnJvb3RTb3VyY2VOb2RlLFxuICAgICAgKTtcbiAgICAgIFNoYXJlZC5yZXBldGl0aXZlRWxlbWVudHNDYWNoZS5wdXNoKHtcbiAgICAgICAgcm9vdDogdGhpcy5yb290U291cmNlTm9kZSxcbiAgICAgICAgZWxlbWVudHM6IHRoaXMucmVwZXRpdGl2ZUVsZW1lbnRzLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzYXZlU3RhdGUoKTogYW55IHt9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICByZXN0b3JlU3RhdGUoc3RhdGU6IGFueSkge31cbn1cblxuZXhwb3J0IHR5cGUgRWxlbWVudHNPZmZzZXQgPSBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldDtcblxuZXhwb3J0IGNsYXNzIFJlcGV0aXRpdmVFbGVtZW50c1xuICBpbXBsZW1lbnRzIFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50cyB7XG4gIHByaXZhdGUgaGVhZGVyU291cmNlTm9kZTogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGZvb3RlclNvdXJjZU5vZGU6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBoZWFkZXJWaWV3Tm9kZTogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGZvb3RlclZpZXdOb2RlOiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgaGVhZGVyTm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBmb290ZXJOb2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGhlYWRlckhlaWdodDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBmb290ZXJIZWlnaHQ6IG51bWJlciA9IDA7XG4gIGlzU2tpcEhlYWRlcjogYm9vbGVhbiA9IGZhbHNlO1xuICBpc1NraXBGb290ZXI6IGJvb2xlYW4gPSBmYWxzZTtcbiAgZW5hYmxlU2tpcHBpbmdGb290ZXI6IGJvb2xlYW4gPSB0cnVlO1xuICBlbmFibGVTa2lwcGluZ0hlYWRlcjogYm9vbGVhbiA9IHRydWU7XG4gIGRvbmVJbml0aWFsTGF5b3V0OiBib29sZWFuID0gZmFsc2U7XG4gIGZpcnN0Q29udGVudFNvdXJjZU5vZGU6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGFzdENvbnRlbnRTb3VyY2VOb2RlOiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgYWZmZWN0ZWROb2RlQ2FjaGU6IHtcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgcmVzdWx0OiBib29sZWFuO1xuICB9W10gPSBbXTtcbiAgcHJpdmF0ZSBhZnRlckxhc3RDb250ZW50Tm9kZUNhY2hlOiB7XG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgIHJlc3VsdDogYm9vbGVhbjtcbiAgfVtdID0gW107XG4gIGFsbG93SW5zZXJ0OiBib29sZWFuID0gZmFsc2U7XG4gIGFsbG93SW5zZXJ0UmVwZWF0aXRpdmVFbGVtZW50czogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IHZlcnRpY2FsOiBib29sZWFuLFxuICAgIHB1YmxpYyBvd25lclNvdXJjZU5vZGU6IEVsZW1lbnQsXG4gICkge31cblxuICBzZXRIZWFkZXJOb2RlQ29udGV4dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpIHtcbiAgICBpZiAodGhpcy5oZWFkZXJOb2RlUG9zaXRpb24pIHtcbiAgICAgIHJldHVybjsgLy8gdXNlIGZpcnN0IG9uZS5cbiAgICB9XG4gICAgdGhpcy5oZWFkZXJOb2RlUG9zaXRpb24gPSBWdHJlZUltcGwubmV3Tm9kZVBvc2l0aW9uRnJvbU5vZGVDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAwLFxuICAgICk7XG4gICAgdGhpcy5oZWFkZXJTb3VyY2VOb2RlID0gbm9kZUNvbnRleHQuc291cmNlTm9kZSBhcyBFbGVtZW50O1xuICAgIHRoaXMuaGVhZGVyVmlld05vZGUgPSBub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICB9XG5cbiAgc2V0Rm9vdGVyTm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KSB7XG4gICAgaWYgKHRoaXMuZm9vdGVyTm9kZVBvc2l0aW9uKSB7XG4gICAgICByZXR1cm47IC8vIHVzZSBmaXJzdCBvbmUuXG4gICAgfVxuICAgIHRoaXMuZm9vdGVyTm9kZVBvc2l0aW9uID0gVnRyZWVJbXBsLm5ld05vZGVQb3NpdGlvbkZyb21Ob2RlQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgMCxcbiAgICApO1xuICAgIHRoaXMuZm9vdGVyU291cmNlTm9kZSA9IG5vZGVDb250ZXh0LnNvdXJjZU5vZGUgYXMgRWxlbWVudDtcbiAgICB0aGlzLmZvb3RlclZpZXdOb2RlID0gbm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudDtcbiAgfVxuXG4gIHVwZGF0ZUhlaWdodChjb2x1bW46IExheW91dFR5cGUuQ29sdW1uKSB7XG4gICAgaWYgKHRoaXMuaGVhZGVyVmlld05vZGUpIHtcbiAgICAgIHRoaXMuaGVhZGVySGVpZ2h0ID0gTGF5b3V0SGVscGVyLmdldEVsZW1lbnRIZWlnaHQoXG4gICAgICAgIHRoaXMuaGVhZGVyVmlld05vZGUsXG4gICAgICAgIGNvbHVtbixcbiAgICAgICAgdGhpcy52ZXJ0aWNhbCxcbiAgICAgICk7XG4gICAgICB0aGlzLmhlYWRlclZpZXdOb2RlID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuZm9vdGVyVmlld05vZGUpIHtcbiAgICAgIHRoaXMuZm9vdGVySGVpZ2h0ID0gTGF5b3V0SGVscGVyLmdldEVsZW1lbnRIZWlnaHQoXG4gICAgICAgIHRoaXMuZm9vdGVyVmlld05vZGUsXG4gICAgICAgIGNvbHVtbixcbiAgICAgICAgdGhpcy52ZXJ0aWNhbCxcbiAgICAgICk7XG4gICAgICB0aGlzLmZvb3RlclZpZXdOb2RlID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcmVwYXJlTGF5b3V0RnJhZ21lbnQoKSB7XG4gICAgdGhpcy5pc1NraXBIZWFkZXIgPSB0aGlzLmlzU2tpcEZvb3RlciA9IGZhbHNlO1xuICAgIHRoaXMuZW5hYmxlU2tpcHBpbmdGb290ZXIgPSB0cnVlO1xuICAgIHRoaXMuZW5hYmxlU2tpcHBpbmdIZWFkZXIgPSB0cnVlO1xuICB9XG5cbiAgYXBwZW5kSGVhZGVyVG9GcmFnbWVudChcbiAgICByb290Tm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZpcnN0Q2hpbGQ6IE5vZGUgfCBudWxsLFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBpZiAoIXRoaXMuaGVhZGVyTm9kZVBvc2l0aW9uIHx8IHRoaXMuaXNTa2lwSGVhZGVyKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmFwcGVuZEVsZW1lbnRUb0ZyYWdtZW50KFxuICAgICAgdGhpcy5oZWFkZXJOb2RlUG9zaXRpb24sXG4gICAgICByb290Tm9kZUNvbnRleHQsXG4gICAgICBmaXJzdENoaWxkLFxuICAgICAgY29sdW1uLFxuICAgICk7XG4gIH1cblxuICBhcHBlbmRGb290ZXJUb0ZyYWdtZW50KFxuICAgIHJvb3ROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgZmlyc3RDaGlsZDogTm9kZSB8IG51bGwsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGlmICghdGhpcy5mb290ZXJOb2RlUG9zaXRpb24gfHwgdGhpcy5pc1NraXBGb290ZXIpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYXBwZW5kRWxlbWVudFRvRnJhZ21lbnQoXG4gICAgICB0aGlzLmZvb3Rlck5vZGVQb3NpdGlvbixcbiAgICAgIHJvb3ROb2RlQ29udGV4dCxcbiAgICAgIGZpcnN0Q2hpbGQsXG4gICAgICBjb2x1bW4sXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuXG4gICAqL1xuICBhcHBlbmRFbGVtZW50VG9GcmFnbWVudChcbiAgICBub2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbixcbiAgICByb290Tm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZpcnN0Q2hpbGQ6IE5vZGUgfCBudWxsLFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBkb2MgPSByb290Tm9kZUNvbnRleHQudmlld05vZGUub3duZXJEb2N1bWVudDtcbiAgICBjb25zdCByb290Vmlld05vZGUgPSByb290Tm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudDtcbiAgICBjb25zdCB2aWV3Um9vdCA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHJvb3RWaWV3Tm9kZS5hcHBlbmRDaGlsZCh2aWV3Um9vdCk7XG4gICAgY29uc3QgcHNldWRvQ29sdW1uID0gbmV3IExheW91dC5Qc2V1ZG9Db2x1bW4oXG4gICAgICBjb2x1bW4sXG4gICAgICB2aWV3Um9vdCxcbiAgICAgIHJvb3ROb2RlQ29udGV4dCxcbiAgICApO1xuICAgIGNvbnN0IGluaXRpYWxQYWdlQnJlYWtUeXBlID0gcHNldWRvQ29sdW1uLmdldENvbHVtbigpLnBhZ2VCcmVha1R5cGU7XG4gICAgcHNldWRvQ29sdW1uLmdldENvbHVtbigpLnBhZ2VCcmVha1R5cGUgPSBudWxsO1xuICAgIHRoaXMuYWxsb3dJbnNlcnRSZXBlYXRpdGl2ZUVsZW1lbnRzID0gdHJ1ZTtcbiAgICByZXR1cm4gcHNldWRvQ29sdW1uXG4gICAgICAubGF5b3V0KG5ldyBWdHJlZUltcGwuQ2h1bmtQb3NpdGlvbihub2RlUG9zaXRpb24pLCB0cnVlKVxuICAgICAgLnRoZW5Bc3luYygoKSA9PiB7XG4gICAgICAgIHRoaXMuYWxsb3dJbnNlcnRSZXBlYXRpdGl2ZUVsZW1lbnRzID0gZmFsc2U7XG4gICAgICAgIHJvb3RWaWV3Tm9kZS5yZW1vdmVDaGlsZCh2aWV3Um9vdCk7XG4gICAgICAgIHRoaXMubW92ZUNoaWxkcmVuKHZpZXdSb290LCByb290Vmlld05vZGUsIGZpcnN0Q2hpbGQpO1xuICAgICAgICBwc2V1ZG9Db2x1bW4uZ2V0Q29sdW1uKCkucGFnZUJyZWFrVHlwZSA9IGluaXRpYWxQYWdlQnJlYWtUeXBlO1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIG1vdmVDaGlsZHJlbihmcm9tOiBFbGVtZW50LCB0bzogRWxlbWVudCwgZmlyc3RDaGlsZDogTm9kZSB8IG51bGwpIHtcbiAgICBpZiAoIXRvKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdoaWxlIChmcm9tLmZpcnN0Q2hpbGQpIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gZnJvbS5maXJzdENoaWxkO1xuICAgICAgZnJvbS5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAoY2hpbGQgYXMgRWxlbWVudCkuc2V0QXR0cmlidXRlKFZ0cmVlSW1wbC5TUEVDSUFMX0FUVFIsIFwiMVwiKTtcbiAgICAgIGlmIChmaXJzdENoaWxkKSB7XG4gICAgICAgIHRvLmluc2VydEJlZm9yZShjaGlsZCwgZmlyc3RDaGlsZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0by5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBjYWxjdWxhdGVPZmZzZXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogbnVtYmVyIHtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBpZiAobm9kZUNvbnRleHQgJiYgIXRoaXMuYWZmZWN0VG8obm9kZUNvbnRleHQpKSB7XG4gICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAhdGhpcy5pc1NraXBGb290ZXIgfHxcbiAgICAgIChub2RlQ29udGV4dCAmJiB0aGlzLmlzQWZ0ZXJMYXN0Q29udGVudChub2RlQ29udGV4dCkpXG4gICAgKSB7XG4gICAgICBvZmZzZXQgKz0gdGhpcy5mb290ZXJIZWlnaHQ7XG4gICAgfVxuICAgIGlmICghdGhpcy5pc1NraXBIZWFkZXIpIHtcbiAgICAgIG9mZnNldCArPSB0aGlzLmhlYWRlckhlaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgY2FsY3VsYXRlTWluaW11bU9mZnNldChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBudW1iZXIge1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGlmIChub2RlQ29udGV4dCAmJiAhdGhpcy5hZmZlY3RUbyhub2RlQ29udGV4dCkpIHtcbiAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfVxuICAgIGlmIChub2RlQ29udGV4dCAmJiB0aGlzLmlzQWZ0ZXJMYXN0Q29udGVudChub2RlQ29udGV4dCkpIHtcbiAgICAgIG9mZnNldCArPSB0aGlzLmZvb3RlckhlaWdodDtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmVuYWJsZVNraXBwaW5nSGVhZGVyKSB7XG4gICAgICBvZmZzZXQgKz0gdGhpcy5oZWFkZXJIZWlnaHQ7XG4gICAgfVxuICAgIHJldHVybiBvZmZzZXQ7XG4gIH1cblxuICBpc0FmdGVyTGFzdENvbnRlbnQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZmluZFJlc3VsdEZyb21DYWNoZShcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgdGhpcy5hZnRlckxhc3RDb250ZW50Tm9kZUNhY2hlLFxuICAgICAgKG5jKSA9PlxuICAgICAgICB0aGlzLmlzQWZ0ZXJOb2RlQ29udGV4dE9mKFxuICAgICAgICAgIHRoaXMubGFzdENvbnRlbnRTb3VyY2VOb2RlIGFzIEVsZW1lbnQsXG4gICAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgYWZmZWN0VG8obm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZmluZFJlc3VsdEZyb21DYWNoZShub2RlQ29udGV4dCwgdGhpcy5hZmZlY3RlZE5vZGVDYWNoZSwgKG5jKSA9PlxuICAgICAgdGhpcy5pc0FmdGVyTm9kZUNvbnRleHRPZih0aGlzLm93bmVyU291cmNlTm9kZSwgbm9kZUNvbnRleHQsIHRydWUpLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGZpbmRSZXN1bHRGcm9tQ2FjaGUoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNhY2hlOiB7IG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDsgcmVzdWx0OiBib29sZWFuIH1bXSxcbiAgICBjYWxjdWxhdG9yOiAocDE6IFZ0cmVlLk5vZGVDb250ZXh0KSA9PiBib29sZWFuLFxuICApOiBib29sZWFuIHtcbiAgICBjb25zdCBjYWNoZUVudHJ5ID0gY2FjaGUuZmlsdGVyKFxuICAgICAgKGNhY2hlKSA9PlxuICAgICAgICBjYWNoZS5ub2RlQ29udGV4dC5zb3VyY2VOb2RlID09PSBub2RlQ29udGV4dC5zb3VyY2VOb2RlICYmXG4gICAgICAgIGNhY2hlLm5vZGVDb250ZXh0LmFmdGVyID09PSBub2RlQ29udGV4dC5hZnRlcixcbiAgICApO1xuICAgIGlmIChjYWNoZUVudHJ5Lmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBjYWNoZUVudHJ5WzBdLnJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRvcihub2RlQ29udGV4dCk7XG4gICAgICBjYWNoZS5wdXNoKHsgbm9kZUNvbnRleHQsIHJlc3VsdCB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpc0FmdGVyTm9kZUNvbnRleHRPZihcbiAgICBub2RlOiBFbGVtZW50LFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbmNsdWRlQ2hpbGRyZW46IGJvb2xlYW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHBhcmVudHNPZk5vZGUgPSBbXTtcbiAgICBmb3IgKGxldCBuOiBOb2RlIHwgbnVsbCA9IG5vZGU7IG47IG4gPSBuLnBhcmVudE5vZGUpIHtcbiAgICAgIGlmIChub2RlQ29udGV4dC5zb3VyY2VOb2RlID09PSBuKSB7XG4gICAgICAgIHJldHVybiBub2RlQ29udGV4dC5hZnRlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudHNPZk5vZGUucHVzaChuKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChcbiAgICAgIGxldCBjdXJyZW50UGFyZW50OiBOb2RlIHwgbnVsbCA9IG5vZGVDb250ZXh0LnNvdXJjZU5vZGU7XG4gICAgICBjdXJyZW50UGFyZW50O1xuICAgICAgY3VycmVudFBhcmVudCA9IGN1cnJlbnRQYXJlbnQucGFyZW50Tm9kZVxuICAgICkge1xuICAgICAgY29uc3QgaW5kZXggPSBwYXJlbnRzT2ZOb2RlLmluZGV4T2YoY3VycmVudFBhcmVudCk7XG4gICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICByZXR1cm4gaW5jbHVkZUNoaWxkcmVuID8gaW5kZXggPT09IDAgOiBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgbGV0IGN1cnJlbnQ6IEVsZW1lbnQgfCBudWxsID0gY3VycmVudFBhcmVudCBhcyBFbGVtZW50O1xuICAgICAgICAgIGN1cnJlbnQ7XG4gICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucHJldmlvdXNFbGVtZW50U2libGluZ1xuICAgICAgICApIHtcbiAgICAgICAgICBpZiAocGFyZW50c09mTm9kZS5pbmNsdWRlcyhjdXJyZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlQ29udGV4dC5hZnRlcjtcbiAgfVxuXG4gIGlzRmlyc3RDb250ZW50Tm9kZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgbm9kZUNvbnRleHQgJiYgdGhpcy5maXJzdENvbnRlbnRTb3VyY2VOb2RlID09PSBub2RlQ29udGV4dC5zb3VyY2VOb2RlXG4gICAgKTtcbiAgfVxuXG4gIGlzRW5hYmxlVG9VcGRhdGVTdGF0ZSgpOiBib29sZWFuIHtcbiAgICBpZiAoXG4gICAgICAoIXRoaXMuaXNTa2lwRm9vdGVyICYmXG4gICAgICAgIHRoaXMuZW5hYmxlU2tpcHBpbmdGb290ZXIgJiZcbiAgICAgICAgdGhpcy5mb290ZXJOb2RlUG9zaXRpb24pIHx8XG4gICAgICAoIXRoaXMuaXNTa2lwSGVhZGVyICYmXG4gICAgICAgIHRoaXMuZW5hYmxlU2tpcHBpbmdIZWFkZXIgJiZcbiAgICAgICAgdGhpcy5oZWFkZXJOb2RlUG9zaXRpb24pXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVN0YXRlKCkge1xuICAgIGlmIChcbiAgICAgICF0aGlzLmlzU2tpcEZvb3RlciAmJlxuICAgICAgdGhpcy5lbmFibGVTa2lwcGluZ0Zvb3RlciAmJlxuICAgICAgdGhpcy5mb290ZXJOb2RlUG9zaXRpb25cbiAgICApIHtcbiAgICAgIHRoaXMuaXNTa2lwRm9vdGVyID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgIXRoaXMuaXNTa2lwSGVhZGVyICYmXG4gICAgICB0aGlzLmVuYWJsZVNraXBwaW5nSGVhZGVyICYmXG4gICAgICB0aGlzLmhlYWRlck5vZGVQb3NpdGlvblxuICAgICkge1xuICAgICAgdGhpcy5pc1NraXBIZWFkZXIgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHByZXZlbnRTa2lwcGluZ0hlYWRlcigpIHtcbiAgICB0aGlzLmlzU2tpcEhlYWRlciA9IGZhbHNlO1xuICAgIHRoaXMuZW5hYmxlU2tpcHBpbmdIZWFkZXIgPSBmYWxzZTtcbiAgfVxuXG4gIHByZXZlbnRTa2lwcGluZ0Zvb3RlcigpIHtcbiAgICB0aGlzLmlzU2tpcEZvb3RlciA9IGZhbHNlO1xuICAgIHRoaXMuZW5hYmxlU2tpcHBpbmdGb290ZXIgPSBmYWxzZTtcbiAgfVxuXG4gIGlzSGVhZGVyUmVnaXN0ZXJlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLmhlYWRlck5vZGVQb3NpdGlvbjtcbiAgfVxuXG4gIGlzRm9vdGVyUmVnaXN0ZXJlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLmZvb3Rlck5vZGVQb3NpdGlvbjtcbiAgfVxuXG4gIGlzSGVhZGVyU291cmNlTm9kZShub2RlOiBOb2RlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaGVhZGVyU291cmNlTm9kZSA9PT0gbm9kZTtcbiAgfVxuXG4gIGlzRm9vdGVyU291cmNlTm9kZShub2RlOiBOb2RlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZm9vdGVyU291cmNlTm9kZSA9PT0gbm9kZTtcbiAgfVxufVxuXG4vKipcbiAqIEBhYnN0cmFjdFxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTGF5b3V0RW50aXJlQmxvY2sgaW1wbGVtZW50cyBMYXlvdXRUeXBlLkxheW91dE1vZGUge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgZm9ybWF0dGluZ0NvbnRleHQ6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQsXG4gICkge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhYnN0cmFjdCBkb0xheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFjY2VwdChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4pOiBib29sZWFuIHtcbiAgICByZXR1cm4gISFub2RlQ29udGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvc3RMYXlvdXQoXG4gICAgcG9zaXRpb25BZnRlcjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgaW5pdGlhbFBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICAgIGFjY2VwdGVkOiBib29sZWFuLFxuICApOiBib29sZWFuIHtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGlmIChyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgIEFzc2VydHMuYXNzZXJ0KGNvbHVtbi5jbGllbnRMYXlvdXQpO1xuICAgICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMuZG9uZUluaXRpYWxMYXlvdXQpIHtcbiAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnVwZGF0ZUhlaWdodChjb2x1bW4pO1xuICAgICAgICByZXBldGl0aXZlRWxlbWVudHMuZG9uZUluaXRpYWxMYXlvdXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWNjZXB0ZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBAYWJzdHJhY3RcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIExheW91dEZyYWdtZW50ZWRCbG9jayBpbXBsZW1lbnRzIExheW91dFR5cGUuTGF5b3V0TW9kZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBmb3JtYXR0aW5nQ29udGV4dDogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCxcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFic3RyYWN0IGRvTGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWNjZXB0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9zdExheW91dChcbiAgICBwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICAgYWNjZXB0ZWQ6IGJvb2xlYW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBhY2NlcHRlZDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGF5b3V0RW50aXJlT3duZXJCbG9jayBleHRlbmRzIExheW91dEVudGlyZUJsb2NrIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZm9ybWF0dGluZ0NvbnRleHQ6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IHByb2Nlc3NvcjogUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRQcm9jZXNzb3IsXG4gICkge1xuICAgIHN1cGVyKGZvcm1hdHRpbmdDb250ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRvTGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIC8vIEZJWE1FOiBMYXlvdXRFbnRpcmVCbG9jay5wcm90b3R5cGUuZG9MYXlvdXQgaXMgdW5kZWZpbmVkIGJlY2F1c2UgaXQncyBhYnN0cmFjdCBtZXRob2QuXG4gICAgLy8gICAgICAgIFByb2JhYmx5LCByZW1vdmluZyB0aGlzIGNhbGwgaXMgb2suXG4gICAgLy8gTGF5b3V0RW50aXJlQmxvY2sucHJvdG90eXBlLmRvTGF5b3V0LmNhbGwodGhpcywgbm9kZUNvbnRleHQsIGNvbHVtbik7XG4gICAgcmV0dXJuIHRoaXMucHJvY2Vzc29yLmRvSW5pdGlhbExheW91dChub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFjY2VwdChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4pOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExheW91dEZyYWdtZW50ZWRPd25lckJsb2NrIGV4dGVuZHMgTGF5b3V0RnJhZ21lbnRlZEJsb2NrIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZm9ybWF0dGluZ0NvbnRleHQ6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IHByb2Nlc3NvcjogUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRQcm9jZXNzb3IsXG4gICkge1xuICAgIHN1cGVyKGZvcm1hdHRpbmdDb250ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRvTGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGlmICghbm9kZUNvbnRleHQuYmVsb25nc1RvKHRoaXMuZm9ybWF0dGluZ0NvbnRleHQpICYmICFub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgY29sdW1uLmZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMudW5zaGlmdChcbiAgICAgICAgbmV3IFJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludChub2RlQ29udGV4dCksXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wcm9jZXNzb3IuZG9MYXlvdXQobm9kZUNvbnRleHQsIGNvbHVtbik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludFxuICBpbXBsZW1lbnRzIFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludCB7XG4gIGZsYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGU6IEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUgPVxuICAgIFwiUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJcIjtcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0O1xuXG4gIGNvbnN0cnVjdG9yKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCkge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgdGhpcy5ub2RlQ29udGV4dCA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJvb3ROb2RlQ29udGV4dChub2RlQ29udGV4dCk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFsbG93TGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBvdmVyZmxvd25Ob2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gdGhpcy5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChMYXlvdXRIZWxwZXIuaXNPcnBoYW4odGhpcy5ub2RlQ29udGV4dC52aWV3Tm9kZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cy5pc0VuYWJsZVRvVXBkYXRlU3RhdGUoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIChvdmVyZmxvd25Ob2RlQ29udGV4dCAmJiAhbm9kZUNvbnRleHQpIHx8XG4gICAgICAobm9kZUNvbnRleHQgJiYgbm9kZUNvbnRleHQub3ZlcmZsb3cpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgbmV4dENhbmRpZGF0ZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSB0aGlzLmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChyZXBldGl0aXZlRWxlbWVudHMuaXNFbmFibGVUb1VwZGF0ZVN0YXRlKCkpIHtcbiAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy51cGRhdGVTdGF0ZSgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHBvc3RMYXlvdXQoXG4gICAgYWxsb3dlZDogYm9vbGVhbixcbiAgICBwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICkge1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IHRoaXMuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGFsbG93ZWQpIHtcbiAgICAgIGlmIChjb2x1bW4uc3RvcEF0T3ZlcmZsb3cpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHBvc2l0aW9uQWZ0ZXIgPT0gbnVsbCB8fFxuICAgICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5pc0FmdGVyTGFzdENvbnRlbnQocG9zaXRpb25BZnRlcilcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnByZXZlbnRTa2lwcGluZ0Zvb3RlcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBmaW5pc2hCcmVhayhcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIHRoaXMubm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSB0aGlzLmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IHJvb3ROb2RlQ29udGV4dCA9IHRoaXMubm9kZUNvbnRleHQ7XG4gICAgcmV0dXJuIGFwcGVuZEhlYWRlcihmb3JtYXR0aW5nQ29udGV4dCwgcm9vdE5vZGVDb250ZXh0LCBjb2x1bW4pLnRoZW5Bc3luYyhcbiAgICAgICgpID0+XG4gICAgICAgIGFwcGVuZEZvb3Rlcihmb3JtYXR0aW5nQ29udGV4dCwgcm9vdE5vZGVDb250ZXh0LCBjb2x1bW4pLnRoZW5Bc3luYyhcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICByZXBldGl0aXZlRWxlbWVudHMucHJlcGFyZUxheW91dEZyYWdtZW50KCk7XG4gICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50cyB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgdGhpcy5ub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIHJldHVybiBmb3JtYXR0aW5nQ29udGV4dC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZXF1YWxzVG8oY29uc3RyYWludDogTGF5b3V0VHlwZS5GcmFnbWVudExheW91dENvbnN0cmFpbnQpOiBib29sZWFuIHtcbiAgICBpZiAoIShjb25zdHJhaW50IGluc3RhbmNlb2YgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgICAgdGhpcy5ub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICkgPT09XG4gICAgICBnZXRSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgICBjb25zdHJhaW50Lm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGdldFByaW9yaXR5T2ZGaW5pc2hCcmVhaygpOiBudW1iZXIge1xuICAgIHJldHVybiAxMDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRSZXRyeWVyIGV4dGVuZHMgTGF5b3V0UmV0cnllcnMuQWJzdHJhY3RMYXlvdXRSZXRyeWVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGZvcm1hdHRpbmdDb250ZXh0OiBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcHJvY2Vzc29yOiBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFByb2Nlc3NvcixcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHJlc29sdmVMYXlvdXRNb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IExheW91dFR5cGUuTGF5b3V0TW9kZSB7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICBpZiAoXG4gICAgICAhbm9kZUNvbnRleHQuYmVsb25nc1RvKHRoaXMuZm9ybWF0dGluZ0NvbnRleHQpICYmXG4gICAgICAhcmVwZXRpdGl2ZUVsZW1lbnRzLmRvbmVJbml0aWFsTGF5b3V0XG4gICAgKSB7XG4gICAgICByZXR1cm4gbmV3IExheW91dEVudGlyZU93bmVyQmxvY2sodGhpcy5mb3JtYXR0aW5nQ29udGV4dCwgdGhpcy5wcm9jZXNzb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoXG4gICAgICAgICFub2RlQ29udGV4dC5iZWxvbmdzVG8odGhpcy5mb3JtYXR0aW5nQ29udGV4dCkgJiZcbiAgICAgICAgIW5vZGVDb250ZXh0LmFmdGVyXG4gICAgICApIHtcbiAgICAgICAgaWYgKHJlcGV0aXRpdmVFbGVtZW50cykge1xuICAgICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5wcmV2ZW50U2tpcHBpbmdIZWFkZXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBMYXlvdXRGcmFnbWVudGVkT3duZXJCbG9jayhcbiAgICAgICAgdGhpcy5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IsXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW50aXJlQmxvY2tMYXlvdXRTdHJhdGVneSBleHRlbmRzIExheW91dFV0aWwuRWRnZVNraXBwZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9ybWF0dGluZ0NvbnRleHQ6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydE5vbklubGluZUVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgIGNvbnN0IG5vZGVDb250ZXh0ID0gc3RhdGUubm9kZUNvbnRleHQ7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKFxuICAgICAgbm9kZUNvbnRleHQucGFyZW50ICYmXG4gICAgICBmb3JtYXR0aW5nQ29udGV4dC5yb290U291cmNlTm9kZSA9PT0gbm9kZUNvbnRleHQucGFyZW50LnNvdXJjZU5vZGVcbiAgICApIHtcbiAgICAgIHN3aXRjaCAobm9kZUNvbnRleHQucmVwZWF0T25CcmVhaykge1xuICAgICAgICBjYXNlIFwiaGVhZGVyXCI6XG4gICAgICAgICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMuaXNIZWFkZXJSZWdpc3RlcmVkKCkpIHtcbiAgICAgICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5zZXRIZWFkZXJOb2RlQ29udGV4dChub2RlQ29udGV4dCk7XG4gICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0LnJlcGVhdE9uQnJlYWsgPSBcIm5vbmVcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJmb290ZXJcIjpcbiAgICAgICAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cy5pc0Zvb3RlclJlZ2lzdGVyZWQoKSkge1xuICAgICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnNldEZvb3Rlck5vZGVDb250ZXh0KG5vZGVDb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9kZUNvbnRleHQucmVwZWF0T25CcmVhayA9IFwibm9uZVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzLmZpcnN0Q29udGVudFNvdXJjZU5vZGUpIHtcbiAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLmZpcnN0Q29udGVudFNvdXJjZU5vZGUgPSBub2RlQ29udGV4dC5zb3VyY2VOb2RlIGFzIEVsZW1lbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBMYXlvdXRVdGlsLkVkZ2VTa2lwcGVyLnByb3RvdHlwZS5zdGFydE5vbklubGluZUVsZW1lbnROb2RlLmNhbGwoXG4gICAgICB0aGlzLFxuICAgICAgc3RhdGUsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgY29uc3Qgbm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dDtcbiAgICBpZiAobm9kZUNvbnRleHQuc291cmNlTm9kZSA9PT0gZm9ybWF0dGluZ0NvbnRleHQucm9vdFNvdXJjZU5vZGUpIHtcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpLmxhc3RDb250ZW50U291cmNlTm9kZSA9XG4gICAgICAgIHN0YXRlLmxhc3RBZnRlck5vZGVDb250ZXh0ICYmXG4gICAgICAgIChzdGF0ZS5sYXN0QWZ0ZXJOb2RlQ29udGV4dC5zb3VyY2VOb2RlIGFzIEVsZW1lbnQpO1xuICAgICAgc3RhdGUuYnJlYWsgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBub2RlQ29udGV4dC5yZXBlYXRPbkJyZWFrID09PSBcImhlYWRlclwiIHx8XG4gICAgICBub2RlQ29udGV4dC5yZXBlYXRPbkJyZWFrID09PSBcImZvb3RlclwiXG4gICAgKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBMYXlvdXRVdGlsLkVkZ2VTa2lwcGVyLnByb3RvdHlwZS5hZnRlck5vbklubGluZUVsZW1lbnROb2RlLmNhbGwoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHN0YXRlLFxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZyYWdtZW50ZWRCbG9ja0xheW91dFN0cmF0ZWd5IGV4dGVuZHMgTGF5b3V0VXRpbC5FZGdlU2tpcHBlciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBmb3JtYXR0aW5nQ29udGV4dDogUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRQcm9jZXNzb3JcbiAgZXh0ZW5kcyBMYXlvdXRQcm9jZXNzb3IuQmxvY2tMYXlvdXRQcm9jZXNzb3JcbiAgaW1wbGVtZW50cyBMYXlvdXRQcm9jZXNzb3IuTGF5b3V0UHJvY2Vzc29yIHtcbiAgbGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICAgIGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGlmIChjb2x1bW4uaXNGbG9hdE5vZGVDb250ZXh0KG5vZGVDb250ZXh0KSkge1xuICAgICAgcmV0dXJuIGNvbHVtbi5sYXlvdXRGbG9hdE9yRm9vdG5vdGUobm9kZUNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IGdldFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGNvbnN0IHJvb3RWaWV3Tm9kZSA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJvb3RWaWV3Tm9kZShub2RlQ29udGV4dCk7XG4gICAgaWYgKCFyb290Vmlld05vZGUpIHtcbiAgICAgIHJldHVybiBjb2x1bW4uYnVpbGREZWVwRWxlbWVudFZpZXcobm9kZUNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobGVhZGluZ0VkZ2UpIHtcbiAgICAgICAgYXBwZW5kSGVhZGVyVG9BbmNlc3RvcnMobm9kZUNvbnRleHQucGFyZW50LCBjb2x1bW4pO1xuICAgICAgfVxuICAgICAgaWYgKCFub2RlQ29udGV4dC5iZWxvbmdzVG8oZm9ybWF0dGluZ0NvbnRleHQpKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRSZXRyeWVyKFxuICAgICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgICAgIHRoaXMsXG4gICAgICAgICkubGF5b3V0KG5vZGVDb250ZXh0LCBjb2x1bW4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIExheW91dFByb2Nlc3Nvci5CbG9ja0xheW91dFByb2Nlc3Nvci5wcm90b3R5cGUubGF5b3V0LmNhbGwoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgICBjb2x1bW4sXG4gICAgICAgICAgbGVhZGluZ0VkZ2UsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IGdldFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHRPck51bGwoXG4gICAgICBub2RlQ29udGV4dCxcbiAgICApO1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICFyZXBldGl0aXZlRWxlbWVudHMuYWxsb3dJbnNlcnRSZXBlYXRpdGl2ZUVsZW1lbnRzICYmXG4gICAgICAocmVwZXRpdGl2ZUVsZW1lbnRzLmlzSGVhZGVyU291cmNlTm9kZShub2RlQ29udGV4dC5zb3VyY2VOb2RlKSB8fFxuICAgICAgICByZXBldGl0aXZlRWxlbWVudHMuaXNGb290ZXJTb3VyY2VOb2RlKG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpKVxuICAgICkge1xuICAgICAgbm9kZUNvbnRleHQudmlld05vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlQ29udGV4dC52aWV3Tm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGRvSW5pdGlhbExheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IGdldFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4oXG4gICAgICBcIkJsb2NrTGF5b3V0UHJvY2Vzc29yLmRvSW5pdGlhbExheW91dFwiLFxuICAgICk7XG4gICAgdGhpcy5sYXlvdXRFbnRpcmVCbG9jayhub2RlQ29udGV4dCwgY29sdW1uKS50aGVuRmluaXNoKGZyYW1lKTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBwcml2YXRlIGxheW91dEVudGlyZUJsb2NrKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3Qgc3RyYXRlZ3kgPSBuZXcgRW50aXJlQmxvY2tMYXlvdXRTdHJhdGVneShmb3JtYXR0aW5nQ29udGV4dCwgY29sdW1uKTtcbiAgICBjb25zdCBpdGVyYXRvciA9IG5ldyBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yKFxuICAgICAgc3RyYXRlZ3ksXG4gICAgICBjb2x1bW4ubGF5b3V0Q29udGV4dCxcbiAgICApO1xuICAgIHJldHVybiBpdGVyYXRvci5pdGVyYXRlKG5vZGVDb250ZXh0KTtcbiAgfVxuXG4gIGRvTGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcImRvTGF5b3V0XCIpO1xuICAgIGNvbnN0IGNvbnQgPSBjb2x1bW4ubGF5b3V0Q29udGV4dC5uZXh0SW5UcmVlKG5vZGVDb250ZXh0LCBmYWxzZSk7XG4gICAgTGF5b3V0LnByb2Nlc3NBZnRlcklmQ29udGludWVzKGNvbnQsIGNvbHVtbikudGhlbigocmVzTm9kZUNvbnRleHQpID0+IHtcbiAgICAgIGxldCBuZXh0Tm9kZUNvbnRleHQgPSByZXNOb2RlQ29udGV4dDtcbiAgICAgIGZyYW1lXG4gICAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgICB3aGlsZSAobmV4dE5vZGVDb250ZXh0KSB7XG4gICAgICAgICAgICBsZXQgcGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgICBjb2x1bW5cbiAgICAgICAgICAgICAgLmxheW91dE5leHQobmV4dE5vZGVDb250ZXh0LCBmYWxzZSlcbiAgICAgICAgICAgICAgLnRoZW4oKG5vZGVDb250ZXh0UGFyYW0pID0+IHtcbiAgICAgICAgICAgICAgICBuZXh0Tm9kZUNvbnRleHQgPSBub2RlQ29udGV4dFBhcmFtO1xuICAgICAgICAgICAgICAgIGlmIChjb2x1bW4ucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbHVtbi5wYWdlQnJlYWtUeXBlKSB7XG4gICAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7IC8vIExvb3AgZW5kXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgIG5leHROb2RlQ29udGV4dCAmJlxuICAgICAgICAgICAgICAgICAgY29sdW1uLnN0b3BCeU92ZXJmbG93KG5leHROb2RlQ29udGV4dClcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTsgLy8gTG9vcCBlbmRcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgbmV4dE5vZGVDb250ZXh0ICYmXG4gICAgICAgICAgICAgICAgICBuZXh0Tm9kZUNvbnRleHQuYWZ0ZXIgJiZcbiAgICAgICAgICAgICAgICAgIG5leHROb2RlQ29udGV4dC5zb3VyY2VOb2RlID09IGZvcm1hdHRpbmdDb250ZXh0LnJvb3RTb3VyY2VOb2RlXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7IC8vIExvb3AgZW5kXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN5bmMgY2FzZVxuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBBc3luYyBjYXNlXG4gICAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgLy8gQXN5bmMgY2FzZSBhbmQgbG9vcCBlbmRcbiAgICAgICAgICAgICAgcGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU3luYyBjYXNlXG4gICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKG5leHROb2RlQ29udGV4dCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZpbmlzaEJyZWFrKFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZvcmNlUmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgICBlbmRPZkNvbHVtbjogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4gfCBudWxsIHtcbiAgICByZXR1cm4gTGF5b3V0UHJvY2Vzc29yLkJsb2NrTGF5b3V0UHJvY2Vzc29yLnByb3RvdHlwZS5maW5pc2hCcmVhay5jYWxsKFxuICAgICAgdGhpcyxcbiAgICAgIGNvbHVtbixcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgZm9yY2VSZW1vdmVTZWxmLFxuICAgICAgZW5kT2ZDb2x1bW4sXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNsZWFyT3ZlcmZsb3duVmlld05vZGVzKFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICAgcGFyZW50Tm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICByZW1vdmVTZWxmOiBib29sZWFuLFxuICApIHtcbiAgICBMYXlvdXRQcm9jZXNzb3IuQmxvY2tMYXlvdXRQcm9jZXNzb3IucHJvdG90eXBlLmNsZWFyT3ZlcmZsb3duVmlld05vZGVzKFxuICAgICAgY29sdW1uLFxuICAgICAgcGFyZW50Tm9kZUNvbnRleHQsXG4gICAgICBub2RlQ29udGV4dCxcbiAgICAgIHJlbW92ZVNlbGYsXG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlYWNoQW5jZXN0b3JOb2RlQ29udGV4dChcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBjYWxsYmFjazogKFxuICAgIHAxOiBSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHAyOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKSA9PiBhbnksXG4pOiB2b2lkIHtcbiAgZm9yIChsZXQgbmMgPSBub2RlQ29udGV4dDsgbmM7IG5jID0gbmMucGFyZW50KSB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBuYy5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICBpZiAoXG4gICAgICBmb3JtYXR0aW5nQ29udGV4dCAmJlxuICAgICAgZm9ybWF0dGluZ0NvbnRleHQgaW5zdGFuY2VvZiBSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0ICYmXG4gICAgICAhbmMuYmVsb25nc1RvKGZvcm1hdHRpbmdDb250ZXh0KVxuICAgICkge1xuICAgICAgY2FsbGJhY2soZm9ybWF0dGluZ0NvbnRleHQsIG5jKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZEhlYWRlclRvQW5jZXN0b3JzKFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4pOiB2b2lkIHtcbiAgaWYgKCFub2RlQ29udGV4dCkge1xuICAgIHJldHVybjtcbiAgfVxuICBlYWNoQW5jZXN0b3JOb2RlQ29udGV4dChcbiAgICBub2RlQ29udGV4dC5hZnRlciA/IG5vZGVDb250ZXh0LnBhcmVudCA6IG5vZGVDb250ZXh0LFxuICAgIChmb3JtYXR0aW5nQ29udGV4dCwgbmMpID0+IHtcbiAgICAgIGlmIChUYWJsZS5pc0luc3RhbmNlT2ZUYWJsZUZvcm1hdHRpbmdDb250ZXh0KGZvcm1hdHRpbmdDb250ZXh0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5wdXNoKFxuICAgICAgICBuZXcgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50KG5jKSxcbiAgICAgICk7XG4gICAgfSxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZEhlYWRlcihcbiAgZm9ybWF0dGluZ0NvbnRleHQ6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQsXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbik6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gIGlmIChyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICBjb25zdCByb290Tm9kZUNvbnRleHQgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRSb290Tm9kZUNvbnRleHQobm9kZUNvbnRleHQpO1xuICAgIGlmIChyb290Tm9kZUNvbnRleHQudmlld05vZGUpIHtcbiAgICAgIGNvbnN0IGZpcnN0Q2hpbGQgPSByb290Tm9kZUNvbnRleHQudmlld05vZGUuZmlyc3RDaGlsZDtcbiAgICAgIHJldHVybiByZXBldGl0aXZlRWxlbWVudHMuYXBwZW5kSGVhZGVyVG9GcmFnbWVudChcbiAgICAgICAgcm9vdE5vZGVDb250ZXh0LFxuICAgICAgICBmaXJzdENoaWxkLFxuICAgICAgICBjb2x1bW4sXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRGb290ZXIoXG4gIGZvcm1hdHRpbmdDb250ZXh0OiBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0LFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICBpZiAocmVwZXRpdGl2ZUVsZW1lbnRzKSB7XG4gICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMuaXNTa2lwRm9vdGVyKSB7XG4gICAgICBjb25zdCByb290Tm9kZUNvbnRleHQgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRSb290Tm9kZUNvbnRleHQobm9kZUNvbnRleHQpO1xuICAgICAgaWYgKHJvb3ROb2RlQ29udGV4dC52aWV3Tm9kZSkge1xuICAgICAgICByZXR1cm4gcmVwZXRpdGl2ZUVsZW1lbnRzLmFwcGVuZEZvb3RlclRvRnJhZ21lbnQoXG4gICAgICAgICAgcm9vdE5vZGVDb250ZXh0LFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgY29sdW1uLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGdldFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHRPck51bGwoXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbik6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQgfCBudWxsIHtcbiAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dDtcbiAgaWYgKCFmb3JtYXR0aW5nQ29udGV4dCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChcbiAgICAhKGZvcm1hdHRpbmdDb250ZXh0IGluc3RhbmNlb2YgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dClcbiAgKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGZvcm1hdHRpbmdDb250ZXh0O1xufVxuXG5mdW5jdGlvbiBnZXRSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICBmb3JtYXR0aW5nQ29udGV4dDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQsXG4pOiBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0IHtcbiAgQXNzZXJ0cy5hc3NlcnQoXG4gICAgZm9ybWF0dGluZ0NvbnRleHQgaW5zdGFuY2VvZiBSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0LFxuICApO1xuICByZXR1cm4gZm9ybWF0dGluZ0NvbnRleHQgYXMgUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dDtcbn1cblxuY29uc3QgcmVwZXRpdGl2ZUxheW91dFByb2Nlc3NvciA9IG5ldyBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFByb2Nlc3NvcigpO1xuXG5QbHVnaW4ucmVnaXN0ZXJIb29rKFxuICBQbHVnaW4uSE9PS1MuUkVTT0xWRV9MQVlPVVRfUFJPQ0VTU09SLFxuICAoZm9ybWF0dGluZ0NvbnRleHQpID0+IHtcbiAgICBpZiAoXG4gICAgICBmb3JtYXR0aW5nQ29udGV4dCBpbnN0YW5jZW9mIFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQgJiZcbiAgICAgICFUYWJsZS5pc0luc3RhbmNlT2ZUYWJsZUZvcm1hdHRpbmdDb250ZXh0KGZvcm1hdHRpbmdDb250ZXh0KVxuICAgICkge1xuICAgICAgcmV0dXJuIHJlcGV0aXRpdmVMYXlvdXRQcm9jZXNzb3I7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFRhYmxlIC0gVGFibGUgZm9ybWF0dGluZyBjb250ZXh0IGFuZCBsYXlvdXQuXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBCcmVha1Bvc2l0aW9uIGZyb20gXCIuL2JyZWFrLXBvc2l0aW9uXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRIZWxwZXIgZnJvbSBcIi4vbGF5b3V0LWhlbHBlclwiO1xuaW1wb3J0ICogYXMgTGF5b3V0UHJvY2Vzc29yIGZyb20gXCIuL2xheW91dC1wcm9jZXNzb3JcIjtcbmltcG9ydCAqIGFzIExheW91dFJldHJ5ZXJzIGZyb20gXCIuL2xheW91dC1yZXRyeWVyc1wiO1xuaW1wb3J0ICogYXMgTGF5b3V0VXRpbCBmcm9tIFwiLi9sYXlvdXQtdXRpbFwiO1xuaW1wb3J0ICogYXMgUGx1Z2luIGZyb20gXCIuL3BsdWdpblwiO1xuaW1wb3J0ICogYXMgUmVwZXRpdGl2ZUVsZW1lbnRJbXBsIGZyb20gXCIuL3JlcGV0aXRpdmUtZWxlbWVudFwiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBWZ2VuIGZyb20gXCIuL3ZnZW5cIjtcbmltcG9ydCAqIGFzIFZ0cmVlSW1wbCBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0ICogYXMgTGF5b3V0IGZyb20gXCIuL2xheW91dFwiO1xuaW1wb3J0IHtcbiAgRm9ybWF0dGluZ0NvbnRleHRUeXBlLFxuICBGcmFnbWVudExheW91dENvbnN0cmFpbnRUeXBlLFxuICBMYXlvdXQgYXMgTGF5b3V0VHlwZSxcbiAgUmVwZXRpdGl2ZUVsZW1lbnQsXG4gIFRhYmxlLFxuICBWdHJlZSxcbn0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIFRhYmxlUm93IHtcbiAgY2VsbHM6IFRhYmxlQ2VsbFtdID0gW107XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHJvd0luZGV4OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHNvdXJjZU5vZGU6IE5vZGUsXG4gICkge31cblxuICBhZGRDZWxsKGNlbGw6IFRhYmxlQ2VsbCkge1xuICAgIHRoaXMuY2VsbHMucHVzaChjZWxsKTtcbiAgfVxuXG4gIGdldE1pbmltdW1IZWlnaHQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5taW4uYXBwbHkoXG4gICAgICBudWxsLFxuICAgICAgdGhpcy5jZWxscy5tYXAoKGMpID0+IGMuaGVpZ2h0KSxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUYWJsZUNlbGwge1xuICB2aWV3RWxlbWVudDogRWxlbWVudCB8IG51bGw7XG4gIGNvbFNwYW46IG51bWJlcjtcbiAgcm93U3BhbjogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlciA9IDA7XG4gIGFuY2hvclNsb3Q6IFRhYmxlU2xvdCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHJvd0luZGV4OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbHVtbkluZGV4OiBudW1iZXIsXG4gICAgdmlld0VsZW1lbnQ6IEVsZW1lbnQsXG4gICkge1xuICAgIHRoaXMudmlld0VsZW1lbnQgPSB2aWV3RWxlbWVudDtcbiAgICB0aGlzLmNvbFNwYW4gPSAodmlld0VsZW1lbnQgYXMgSFRNTFRhYmxlQ2VsbEVsZW1lbnQpLmNvbFNwYW4gfHwgMTtcbiAgICB0aGlzLnJvd1NwYW4gPSAodmlld0VsZW1lbnQgYXMgSFRNTFRhYmxlQ2VsbEVsZW1lbnQpLnJvd1NwYW4gfHwgMTtcbiAgfVxuXG4gIHNldEhlaWdodChoZWlnaHQ6IG51bWJlcikge1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICB9XG5cbiAgc2V0QW5jaG9yU2xvdChzbG90OiBUYWJsZVNsb3QpIHtcbiAgICB0aGlzLmFuY2hvclNsb3QgPSBzbG90O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUYWJsZVNsb3Qge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgcm93SW5kZXg6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uSW5kZXg6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2VsbDogVGFibGVDZWxsLFxuICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBUYWJsZUNlbGxGcmFnbWVudCB7XG4gIHBzZXVkb0NvbHVtbjogTGF5b3V0LlBzZXVkb0NvbHVtbjtcbiAgZW1wdHk6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIHBzZXVkb0NvbHVtbkNvbnRhaW5lcjogRWxlbWVudCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2VsbE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKSB7XG4gICAgdGhpcy5wc2V1ZG9Db2x1bW4gPSBuZXcgTGF5b3V0LlBzZXVkb0NvbHVtbihcbiAgICAgIGNvbHVtbixcbiAgICAgIHBzZXVkb0NvbHVtbkNvbnRhaW5lcixcbiAgICAgIGNlbGxOb2RlQ29udGV4dCxcbiAgICApO1xuICB9XG5cbiAgZmluZEFjY2VwdGFibGVCcmVha1Bvc2l0aW9uKCk6IExheW91dC5CcmVha1Bvc2l0aW9uQW5kTm9kZUNvbnRleHQge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmNlbGxOb2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICAgIGNvbnN0IHZlcnRpY2FsQWxpZ24gPSB0aGlzLmNlbGxOb2RlQ29udGV4dC52ZXJ0aWNhbEFsaWduO1xuICAgIGlmICh2ZXJ0aWNhbEFsaWduID09PSBcIm1pZGRsZVwiIHx8IHZlcnRpY2FsQWxpZ24gPT09IFwiYm90dG9tXCIpIHtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJ2ZXJ0aWNhbC1hbGlnblwiLCBcInRvcFwiKTtcbiAgICB9XG4gICAgY29uc3QgYnAgPSB0aGlzLnBzZXVkb0NvbHVtbi5maW5kQWNjZXB0YWJsZUJyZWFrUG9zaXRpb24odHJ1ZSk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcInZlcnRpY2FsLWFsaWduXCIsIHZlcnRpY2FsQWxpZ24pO1xuICAgIHJldHVybiBicDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGFibGVDYXB0aW9uVmlldyB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSB2aWV3Tm9kZTogRWxlbWVudCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2lkZTogc3RyaW5nLFxuICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBCZXR3ZWVuVGFibGVSb3dCcmVha1Bvc2l0aW9uIGV4dGVuZHMgQnJlYWtQb3NpdGlvbi5FZGdlQnJlYWtQb3NpdGlvbiB7XG4gIHByaXZhdGUgZm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQ7XG5cbiAgYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9uczogTGF5b3V0LkJyZWFrUG9zaXRpb25BbmROb2RlQ29udGV4dFtdID0gbnVsbDtcbiAgcHJpdmF0ZSByb3dJbmRleDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGJyZWFrT25FZGdlOiBzdHJpbmcgfCBudWxsLFxuICAgIG92ZXJmbG93czogYm9vbGVhbixcbiAgICBjb2x1bW5CbG9ja1NpemU6IG51bWJlcixcbiAgKSB7XG4gICAgc3VwZXIocG9zaXRpb24sIGJyZWFrT25FZGdlLCBvdmVyZmxvd3MsIGNvbHVtbkJsb2NrU2l6ZSk7XG4gICAgdGhpcy5mb3JtYXR0aW5nQ29udGV4dCA9IHBvc2l0aW9uLmZvcm1hdHRpbmdDb250ZXh0IGFzIFRhYmxlRm9ybWF0dGluZ0NvbnRleHQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmaW5kQWNjZXB0YWJsZUJyZWFrKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBwZW5hbHR5OiBudW1iZXIsXG4gICk6IFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgICBjb25zdCBicmVha05vZGVDb250ZXh0ID0gc3VwZXIuZmluZEFjY2VwdGFibGVCcmVhayhjb2x1bW4sIHBlbmFsdHkpO1xuICAgIGlmIChwZW5hbHR5IDwgdGhpcy5nZXRNaW5CcmVha1BlbmFsdHkoKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGFsbENlbGxzQnJlYWthYmxlID0gdGhpcy5nZXRBY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zKCkuZXZlcnkoXG4gICAgICAoYnApID0+ICEhYnAubm9kZUNvbnRleHQsXG4gICAgKTtcbiAgICBpZiAoYWxsQ2VsbHNCcmVha2FibGUpIHtcbiAgICAgIHJldHVybiBicmVha05vZGVDb250ZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRNaW5CcmVha1BlbmFsdHkoKTogbnVtYmVyIHtcbiAgICBsZXQgcGVuYWx0eSA9IHN1cGVyLmdldE1pbkJyZWFrUGVuYWx0eSgpO1xuICAgIHRoaXMuZ2V0QWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucygpLmZvckVhY2goKGJwKSA9PiB7XG4gICAgICBwZW5hbHR5ICs9IGJwLmJyZWFrUG9zaXRpb24uZ2V0TWluQnJlYWtQZW5hbHR5KCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHBlbmFsdHk7XG4gIH1cblxuICBnZXRBY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zKCk6IExheW91dC5CcmVha1Bvc2l0aW9uQW5kTm9kZUNvbnRleHRbXSB7XG4gICAgaWYgKCF0aGlzLmFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMpIHtcbiAgICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICAgIGNvbnN0IGNlbGxGcmFnbWVudHMgPSB0aGlzLmdldENlbGxGcmFnbWVudHMoKTtcbiAgICAgIHRoaXMuYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucyA9IGNlbGxGcmFnbWVudHMubWFwKChjZWxsRnJhZ21lbnQpID0+XG4gICAgICAgIGNlbGxGcmFnbWVudC5maW5kQWNjZXB0YWJsZUJyZWFrUG9zaXRpb24oKSxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnM7XG4gIH1cblxuICBwcml2YXRlIGdldFJvd0luZGV4KCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMucm93SW5kZXggIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRoaXMucm93SW5kZXg7XG4gICAgfVxuICAgIHJldHVybiAodGhpcy5yb3dJbmRleCA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuZmluZFJvd0luZGV4QnlTb3VyY2VOb2RlKFxuICAgICAgdGhpcy5wb3NpdGlvbi5zb3VyY2VOb2RlLFxuICAgICkpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDZWxsRnJhZ21lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLmZvcm1hdHRpbmdDb250ZXh0XG4gICAgICAuZ2V0Um93U3Bhbm5pbmdDZWxsc092ZXJmbG93aW5nVGhlUm93KHRoaXMuZ2V0Um93SW5kZXgoKSlcbiAgICAgIC5tYXAoXG4gICAgICAgIHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuZ2V0Q2VsbEZyYWdtZW50T2ZDZWxsLFxuICAgICAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW5zaWRlVGFibGVSb3dCcmVha1Bvc2l0aW9uIGV4dGVuZHMgQnJlYWtQb3NpdGlvbi5BYnN0cmFjdEJyZWFrUG9zaXRpb24ge1xuICBhY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zOiBMYXlvdXQuQnJlYWtQb3NpdGlvbkFuZE5vZGVDb250ZXh0W10gPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSByb3dJbmRleDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBiZWZvcmVOb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IGZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZmluZEFjY2VwdGFibGVCcmVhayhcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgcGVuYWx0eTogbnVtYmVyLFxuICApOiBWdHJlZS5Ob2RlQ29udGV4dCB7XG4gICAgaWYgKHBlbmFsdHkgPCB0aGlzLmdldE1pbkJyZWFrUGVuYWx0eSgpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgY2VsbEZyYWdtZW50cyA9IHRoaXMuZ2V0Q2VsbEZyYWdtZW50cygpO1xuICAgIGNvbnN0IGFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMgPSB0aGlzLmdldEFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMoKTtcbiAgICBjb25zdCBhbGxDZWxsc0JyZWFrYWJsZSA9XG4gICAgICBhY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zLmV2ZXJ5KChicCkgPT4gISFicC5ub2RlQ29udGV4dCkgJiZcbiAgICAgIGFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMuc29tZSgoYnAsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHBzZXVkb0NvbHVtbiA9IGNlbGxGcmFnbWVudHNbaW5kZXhdLnBzZXVkb0NvbHVtbjtcbiAgICAgICAgY29uc3Qgbm9kZUNvbnRleHQgPSBicC5ub2RlQ29udGV4dDtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAhcHNldWRvQ29sdW1uLmlzU3RhcnROb2RlQ29udGV4dChub2RlQ29udGV4dCkgJiZcbiAgICAgICAgICAhcHNldWRvQ29sdW1uLmlzTGFzdEFmdGVyTm9kZUNvbnRleHQobm9kZUNvbnRleHQpXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB0aGlzLmJlZm9yZU5vZGVDb250ZXh0Lm92ZXJmbG93ID0gYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucy5zb21lKFxuICAgICAgKGJwKSA9PiBicC5ub2RlQ29udGV4dCAmJiBicC5ub2RlQ29udGV4dC5vdmVyZmxvdyxcbiAgICApO1xuICAgIGlmIChhbGxDZWxsc0JyZWFrYWJsZSkge1xuICAgICAgcmV0dXJuIHRoaXMuYmVmb3JlTm9kZUNvbnRleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE1pbkJyZWFrUGVuYWx0eSgpOiBudW1iZXIge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICBjb25zdCByb3cgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRSb3dCeUluZGV4KHRoaXMucm93SW5kZXgpO1xuICAgIGxldCBwZW5hbHR5ID0gMDtcbiAgICBpZiAoIWZvcm1hdHRpbmdDb250ZXh0LmlzRnJlZWx5RnJhZ21lbnRhYmxlUm93KHJvdykpIHtcbiAgICAgIHBlbmFsdHkgKz0gMTA7XG4gICAgfVxuICAgIHRoaXMuZ2V0QWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucygpLmZvckVhY2goKGJwKSA9PiB7XG4gICAgICBwZW5hbHR5ICs9IGJwLmJyZWFrUG9zaXRpb24uZ2V0TWluQnJlYWtQZW5hbHR5KCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHBlbmFsdHk7XG4gIH1cblxuICBnZXRBY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zKCk6IExheW91dC5CcmVha1Bvc2l0aW9uQW5kTm9kZUNvbnRleHRbXSB7XG4gICAgaWYgKCF0aGlzLmFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMpIHtcbiAgICAgIGNvbnN0IGNlbGxGcmFnbWVudHMgPSB0aGlzLmdldENlbGxGcmFnbWVudHMoKTtcbiAgICAgIHRoaXMuYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucyA9IGNlbGxGcmFnbWVudHMubWFwKChjZWxsRnJhZ21lbnQpID0+XG4gICAgICAgIGNlbGxGcmFnbWVudC5maW5kQWNjZXB0YWJsZUJyZWFrUG9zaXRpb24oKSxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnM7XG4gIH1cblxuICBwcml2YXRlIGdldENlbGxGcmFnbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0dGluZ0NvbnRleHRcbiAgICAgIC5nZXRDZWxsc0ZhbGxpbmdPblJvdyh0aGlzLnJvd0luZGV4KVxuICAgICAgLm1hcChcbiAgICAgICAgdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5nZXRDZWxsRnJhZ21lbnRPZkNlbGwsXG4gICAgICAgIHRoaXMuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICApO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIEJyb2tlblRhYmxlQ2VsbFBvc2l0aW9uID0ge1xuICBjZWxsTm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb247XG4gIGJyZWFrQ2h1bmtQb3NpdGlvbjogVnRyZWUuQ2h1bmtQb3NpdGlvbjtcbiAgY2VsbDogVGFibGVDZWxsO1xufTtcblxuLyoqXG4gKiBAcGFyYW0gdGFibGVTb3VyY2VOb2RlIFNvdXJjZSBub2RlIG9mIHRoZSB0YWJsZVxuICovXG5leHBvcnQgY2xhc3MgVGFibGVGb3JtYXR0aW5nQ29udGV4dFxuICBleHRlbmRzIFJlcGV0aXRpdmVFbGVtZW50SW1wbC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0XG4gIGltcGxlbWVudHMgVGFibGUuVGFibGVGb3JtYXR0aW5nQ29udGV4dCB7XG4gIGZvcm1hdHRpbmdDb250ZXh0VHlwZTogRm9ybWF0dGluZ0NvbnRleHRUeXBlID0gXCJUYWJsZVwiO1xuICB2ZXJ0aWNhbDogYm9vbGVhbiA9IGZhbHNlO1xuICBjb2x1bW5Db3VudDogbnVtYmVyID0gLTE7XG4gIHRhYmxlV2lkdGg6IG51bWJlciA9IDA7XG4gIGNhcHRpb25zOiBUYWJsZUNhcHRpb25WaWV3W10gPSBbXTtcbiAgY29sR3JvdXBzOiBEb2N1bWVudEZyYWdtZW50IHwgbnVsbCA9IG51bGw7XG4gIGNvbFdpZHRoczogbnVtYmVyW10gfCBudWxsID0gbnVsbDtcbiAgaW5saW5lQm9yZGVyU3BhY2luZzogbnVtYmVyID0gMDtcbiAgcm93czogVGFibGVSb3dbXSA9IFtdO1xuICBzbG90czogVGFibGVTbG90W11bXSA9IFtdO1xuICBjZWxsRnJhZ21lbnRzOiBUYWJsZUNlbGxGcmFnbWVudFtdW10gPSBbXTtcbiAgbGFzdFJvd1ZpZXdOb2RlOiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGNlbGxCcmVha1Bvc2l0aW9uczogQnJva2VuVGFibGVDZWxsUG9zaXRpb25bXSA9IFtdO1xuICByZXBldGl0aXZlRWxlbWVudHM6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50cyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHBhcmVudDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IHRhYmxlU291cmNlTm9kZTogRWxlbWVudCxcbiAgKSB7XG4gICAgc3VwZXIocGFyZW50LCB0YWJsZVNvdXJjZU5vZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0TmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIlRhYmxlIGZvcm1hdHRpbmcgY29udGV4dCAoVGFibGUuVGFibGVGb3JtYXR0aW5nQ29udGV4dClcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGlzRmlyc3RUaW1lKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgZmlyc3RUaW1lOiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgaWYgKCFmaXJzdFRpbWUpIHtcbiAgICAgIHJldHVybiBmaXJzdFRpbWU7XG4gICAgfVxuICAgIHN3aXRjaCAobm9kZUNvbnRleHQuZGlzcGxheSkge1xuICAgICAgY2FzZSBcInRhYmxlLXJvd1wiOlxuICAgICAgICByZXR1cm4gdGhpcy5jZWxsQnJlYWtQb3NpdGlvbnMubGVuZ3RoID09PSAwO1xuICAgICAgY2FzZSBcInRhYmxlLWNlbGxcIjpcbiAgICAgICAgcmV0dXJuICF0aGlzLmNlbGxCcmVha1Bvc2l0aW9ucy5zb21lKFxuICAgICAgICAgIChwKSA9PiBwLmNlbGxOb2RlUG9zaXRpb24uc3RlcHNbMF0ubm9kZSA9PT0gbm9kZUNvbnRleHQuc291cmNlTm9kZSxcbiAgICAgICAgKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmaXJzdFRpbWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UGFyZW50KCk6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0IHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnQ7XG4gIH1cblxuICBmaW5pc2hGcmFnbWVudCgpIHtcbiAgICB0aGlzLmNlbGxGcmFnbWVudHMgPSBbXTtcbiAgfVxuXG4gIGFkZFJvdyhyb3dJbmRleDogbnVtYmVyLCByb3c6IFRhYmxlUm93KSB7XG4gICAgdGhpcy5yb3dzW3Jvd0luZGV4XSA9IHJvdztcbiAgfVxuXG4gIGdldFJvd1Nsb3RzKHJvd0luZGV4OiBudW1iZXIpOiBUYWJsZVNsb3RbXSB7XG4gICAgbGV0IHJvd1Nsb3RzID0gdGhpcy5zbG90c1tyb3dJbmRleF07XG4gICAgaWYgKCFyb3dTbG90cykge1xuICAgICAgcm93U2xvdHMgPSB0aGlzLnNsb3RzW3Jvd0luZGV4XSA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4gcm93U2xvdHM7XG4gIH1cblxuICBhZGRDZWxsKHJvd0luZGV4OiBudW1iZXIsIGNlbGw6IFRhYmxlQ2VsbCkge1xuICAgIGxldCByb3cgPSB0aGlzLnJvd3Nbcm93SW5kZXhdO1xuICAgIGlmICghcm93KSB7XG4gICAgICB0aGlzLmFkZFJvdyhyb3dJbmRleCwgbmV3IFRhYmxlUm93KHJvd0luZGV4LCBudWxsKSk7XG4gICAgICByb3cgPSB0aGlzLnJvd3Nbcm93SW5kZXhdO1xuICAgIH1cbiAgICBBc3NlcnRzLmFzc2VydChyb3cpO1xuICAgIHJvdy5hZGRDZWxsKGNlbGwpO1xuICAgIGNvbnN0IHJvd1VwcGVyID0gcm93SW5kZXggKyBjZWxsLnJvd1NwYW47XG4gICAgbGV0IHJvd1Nsb3RzID0gdGhpcy5nZXRSb3dTbG90cyhyb3dJbmRleCk7XG4gICAgbGV0IHN0YXJ0Q29sSW5kZXggPSAwO1xuICAgIHdoaWxlIChyb3dTbG90c1tzdGFydENvbEluZGV4XSkge1xuICAgICAgc3RhcnRDb2xJbmRleCsrO1xuICAgIH1cbiAgICBmb3IgKDsgcm93SW5kZXggPCByb3dVcHBlcjsgcm93SW5kZXgrKykge1xuICAgICAgcm93U2xvdHMgPSB0aGlzLmdldFJvd1Nsb3RzKHJvd0luZGV4KTtcbiAgICAgIGZvciAobGV0IGkgPSBzdGFydENvbEluZGV4OyBpIDwgc3RhcnRDb2xJbmRleCArIGNlbGwuY29sU3BhbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHNsb3QgPSAocm93U2xvdHNbaV0gPSBuZXcgVGFibGVTbG90KHJvd0luZGV4LCBpLCBjZWxsKSk7XG4gICAgICAgIGlmICghY2VsbC5hbmNob3JTbG90KSB7XG4gICAgICAgICAgY2VsbC5zZXRBbmNob3JTbG90KHNsb3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0Um93QnlJbmRleChpbmRleDogbnVtYmVyKTogVGFibGVSb3cge1xuICAgIGNvbnN0IHJvdyA9IHRoaXMucm93c1tpbmRleF07XG4gICAgQXNzZXJ0cy5hc3NlcnQocm93KTtcbiAgICByZXR1cm4gcm93O1xuICB9XG5cbiAgZmluZFJvd0luZGV4QnlTb3VyY2VOb2RlKHNvdXJjZU5vZGU6IE5vZGUpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnJvd3MuZmluZEluZGV4KChyb3cpID0+IHNvdXJjZU5vZGUgPT09IHJvdy5zb3VyY2VOb2RlKTtcbiAgfVxuXG4gIGFkZENlbGxGcmFnbWVudChcbiAgICByb3dJbmRleDogbnVtYmVyLFxuICAgIGNvbHVtbkluZGV4OiBudW1iZXIsXG4gICAgY2VsbEZyYWdtZW50OiBUYWJsZUNlbGxGcmFnbWVudCxcbiAgKSB7XG4gICAgbGV0IGxpc3QgPSB0aGlzLmNlbGxGcmFnbWVudHNbcm93SW5kZXhdO1xuICAgIGlmICghbGlzdCkge1xuICAgICAgbGlzdCA9IHRoaXMuY2VsbEZyYWdtZW50c1tyb3dJbmRleF0gPSBbXTtcbiAgICB9XG4gICAgbGlzdFtjb2x1bW5JbmRleF0gPSBjZWxsRnJhZ21lbnQ7XG4gIH1cblxuICBnZXRDZWxsc0ZhbGxpbmdPblJvdyhyb3dJbmRleDogbnVtYmVyKTogVGFibGVDZWxsW10ge1xuICAgIGNvbnN0IHJvd1Nsb3RzID0gdGhpcy5nZXRSb3dTbG90cyhyb3dJbmRleCk7XG4gICAgcmV0dXJuIHJvd1Nsb3RzLnJlZHVjZSgodW5pcXVlQ2VsbHMsIHNsb3QpID0+IHtcbiAgICAgIGlmIChzbG90LmNlbGwgIT09IHVuaXF1ZUNlbGxzW3VuaXF1ZUNlbGxzLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgIHJldHVybiB1bmlxdWVDZWxscy5jb25jYXQoc2xvdC5jZWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB1bmlxdWVDZWxscztcbiAgICAgIH1cbiAgICB9LCBbXSk7XG4gIH1cblxuICBnZXRSb3dTcGFubmluZ0NlbGxzT3ZlcmZsb3dpbmdUaGVSb3cocm93SW5kZXg6IG51bWJlcik6IFRhYmxlQ2VsbFtdIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDZWxsc0ZhbGxpbmdPblJvdyhyb3dJbmRleCkuZmlsdGVyKFxuICAgICAgKGNlbGwpID0+IGNlbGwucm93SW5kZXggKyBjZWxsLnJvd1NwYW4gLSAxID4gcm93SW5kZXgsXG4gICAgKTtcbiAgfVxuXG4gIGdldENlbGxGcmFnbWVudE9mQ2VsbChjZWxsOiBUYWJsZUNlbGwpOiBUYWJsZUNlbGxGcmFnbWVudCB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuY2VsbEZyYWdtZW50c1tjZWxsLnJvd0luZGV4XSAmJlxuICAgICAgdGhpcy5jZWxsRnJhZ21lbnRzW2NlbGwucm93SW5kZXhdW2NlbGwuY29sdW1uSW5kZXhdXG4gICAgKTtcbiAgfVxuXG4gIGlzRnJlZWx5RnJhZ21lbnRhYmxlUm93KHJvdzogVGFibGVSb3cpOiBib29sZWFuIHtcbiAgICByZXR1cm4gcm93LmdldE1pbmltdW1IZWlnaHQoKSA+IHRoaXMudGFibGVXaWR0aCAvIDI7XG4gIH1cblxuICBnZXRDb2x1bW5Db3VudCgpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLmNvbHVtbkNvdW50IDwgMCkge1xuICAgICAgdGhpcy5jb2x1bW5Db3VudCA9IE1hdGgubWF4LmFwcGx5KFxuICAgICAgICBudWxsLFxuICAgICAgICB0aGlzLnJvd3MubWFwKChyb3cpID0+XG4gICAgICAgICAgcm93LmNlbGxzLnJlZHVjZSgoc3VtLCBjKSA9PiBzdW0gKyBjLmNvbFNwYW4sIDApLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY29sdW1uQ291bnQ7XG4gIH1cblxuICB1cGRhdGVDZWxsU2l6ZXMoY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQpIHtcbiAgICB0aGlzLnJvd3MuZm9yRWFjaCgocm93KSA9PiB7XG4gICAgICByb3cuY2VsbHMuZm9yRWFjaCgoY2VsbCkgPT4ge1xuICAgICAgICBjb25zdCByZWN0ID0gY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KFxuICAgICAgICAgIGNlbGwudmlld0VsZW1lbnQgYXMgRWxlbWVudCxcbiAgICAgICAgKTtcbiAgICAgICAgY2VsbC52aWV3RWxlbWVudCA9IG51bGw7XG4gICAgICAgIGNlbGwuc2V0SGVpZ2h0KHRoaXMudmVydGljYWwgPyByZWN0W1wid2lkdGhcIl0gOiByZWN0W1wiaGVpZ2h0XCJdKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gcG9zaXRpb25cbiAgICovXG4gIGZpbmRDZWxsRnJvbUNvbHVtbihcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IHsgcm93SW5kZXg6IG51bWJlcjsgY29sdW1uSW5kZXg6IG51bWJlciB9IHwgbnVsbCB7XG4gICAgaWYgKCFjb2x1bW4pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgdGFibGVDZWxsOiBUYWJsZUNlbGwgPSBudWxsO1xuICAgIGxldCByb3cgPSAwO1xuICAgIGxldCBjb2wgPSAwO1xuICAgIGxvb3A6IGZvciAocm93ID0gMDsgcm93IDwgdGhpcy5jZWxsRnJhZ21lbnRzLmxlbmd0aDsgcm93KyspIHtcbiAgICAgIGlmICghdGhpcy5jZWxsRnJhZ21lbnRzW3Jvd10pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBmb3IgKGNvbCA9IDA7IGNvbCA8IHRoaXMuY2VsbEZyYWdtZW50c1tyb3ddLmxlbmd0aDsgY29sKyspIHtcbiAgICAgICAgaWYgKCF0aGlzLmNlbGxGcmFnbWVudHNbcm93XVtjb2xdKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbHVtbiA9PT0gdGhpcy5jZWxsRnJhZ21lbnRzW3Jvd11bY29sXS5wc2V1ZG9Db2x1bW4uZ2V0Q29sdW1uKCkpIHtcbiAgICAgICAgICB0YWJsZUNlbGwgPSB0aGlzLnJvd3Nbcm93XS5jZWxsc1tjb2xdO1xuICAgICAgICAgIGJyZWFrIGxvb3A7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0YWJsZUNlbGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmb3IgKDsgcm93IDwgdGhpcy5zbG90cy5sZW5ndGg7IHJvdysrKSB7XG4gICAgICBmb3IgKDsgY29sIDwgdGhpcy5zbG90c1tyb3ddLmxlbmd0aDsgY29sKyspIHtcbiAgICAgICAgY29uc3Qgc2xvdCA9IHRoaXMuc2xvdHNbcm93XVtjb2xdO1xuICAgICAgICBpZiAoc2xvdC5jZWxsID09PSB0YWJsZUNlbGwpIHtcbiAgICAgICAgICByZXR1cm4geyByb3dJbmRleDogc2xvdC5yb3dJbmRleCwgY29sdW1uSW5kZXg6IHNsb3QuY29sdW1uSW5kZXggfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbGxlY3RFbGVtZW50c09mZnNldE9mVXBwZXJDZWxscyhcbiAgICBwb3NpdGlvbjogeyByb3dJbmRleDogbnVtYmVyOyBjb2x1bW5JbmRleDogbnVtYmVyIH0gfCBudWxsLFxuICApOiBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldFtdIHtcbiAgICBjb25zdCBjb2xsZWN0ZWQgPSBbXTtcbiAgICByZXR1cm4gdGhpcy5zbG90cy5yZWR1Y2UoKHJlcGV0aXRpdmVFbGVtZW50cywgcm93LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID49IHBvc2l0aW9uLnJvd0luZGV4KSB7XG4gICAgICAgIHJldHVybiByZXBldGl0aXZlRWxlbWVudHM7XG4gICAgICB9XG4gICAgICBjb25zdCBjZWxsRnJhZ21lbnQgPVxuICAgICAgICByb3dbcG9zaXRpb24uY29sdW1uSW5kZXhdICYmXG4gICAgICAgIHRoaXMuZ2V0Q2VsbEZyYWdtZW50T2ZDZWxsKHJvd1twb3NpdGlvbi5jb2x1bW5JbmRleF0uY2VsbCk7XG4gICAgICBpZiAoIWNlbGxGcmFnbWVudCB8fCBjb2xsZWN0ZWQuaW5jbHVkZXMoY2VsbEZyYWdtZW50KSkge1xuICAgICAgICByZXR1cm4gcmVwZXRpdGl2ZUVsZW1lbnRzO1xuICAgICAgfVxuICAgICAgdGhpcy5jb2xsZWN0RWxlbWVudHNPZmZzZXRGcm9tQ29sdW1uKFxuICAgICAgICBjZWxsRnJhZ21lbnQucHNldWRvQ29sdW1uLmdldENvbHVtbigpLFxuICAgICAgICByZXBldGl0aXZlRWxlbWVudHMsXG4gICAgICApO1xuICAgICAgY29sbGVjdGVkLnB1c2goY2VsbEZyYWdtZW50KTtcbiAgICAgIHJldHVybiByZXBldGl0aXZlRWxlbWVudHM7XG4gICAgfSwgW10gYXMgUmVwZXRpdGl2ZUVsZW1lbnQuRWxlbWVudHNPZmZzZXRbXSk7XG4gIH1cblxuICBjb2xsZWN0RWxlbWVudHNPZmZzZXRPZkhpZ2hlc3RDb2x1bW4oKTogUmVwZXRpdGl2ZUVsZW1lbnQuRWxlbWVudHNPZmZzZXRbXSB7XG4gICAgY29uc3QgZWxlbWVudHNJbkNvbHVtbiA9IFtdO1xuICAgIHRoaXMucm93cy5mb3JFYWNoKChyb3cpID0+IHtcbiAgICAgIHJvdy5jZWxscy5mb3JFYWNoKChjZWxsLCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAoIWVsZW1lbnRzSW5Db2x1bW5baW5kZXhdKSB7XG4gICAgICAgICAgZWxlbWVudHNJbkNvbHVtbltpbmRleF0gPSB7IGNvbGxlY3RlZDogW10sIGVsZW1lbnRzOiBbXSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXRlID0gZWxlbWVudHNJbkNvbHVtbltpbmRleF07XG4gICAgICAgIGNvbnN0IGNlbGxGcmFnbWVudCA9IHRoaXMuZ2V0Q2VsbEZyYWdtZW50T2ZDZWxsKGNlbGwpO1xuICAgICAgICBpZiAoIWNlbGxGcmFnbWVudCB8fCBzdGF0ZS5jb2xsZWN0ZWQuaW5jbHVkZXMoY2VsbEZyYWdtZW50KSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbGxlY3RFbGVtZW50c09mZnNldEZyb21Db2x1bW4oXG4gICAgICAgICAgY2VsbEZyYWdtZW50LnBzZXVkb0NvbHVtbi5nZXRDb2x1bW4oKSxcbiAgICAgICAgICBzdGF0ZS5lbGVtZW50cyxcbiAgICAgICAgKTtcbiAgICAgICAgc3RhdGUuY29sbGVjdGVkLnB1c2goY2VsbEZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBbXG4gICAgICBuZXcgRWxlbWVudHNPZmZzZXRPZlRhYmxlQ2VsbChcbiAgICAgICAgZWxlbWVudHNJbkNvbHVtbi5tYXAoKGVudHJ5KSA9PiBlbnRyeS5lbGVtZW50cyksXG4gICAgICApLFxuICAgIF07XG4gIH1cblxuICBwcml2YXRlIGNvbGxlY3RFbGVtZW50c09mZnNldEZyb21Db2x1bW4oXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgICByZXBldGl0aXZlRWxlbWVudHM6IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0W10sXG4gICkge1xuICAgIGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLmZvckVhY2goKGNvbnN0cmFpbnQpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgUmVwZXRpdGl2ZUVsZW1lbnQuaXNJbnN0YW5jZU9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50KFxuICAgICAgICAgIGNvbnN0cmFpbnQsXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudCA9IGNvbnN0cmFpbnQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5wdXNoKHJlcGV0aXRpdmVFbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGlmIChUYWJsZS5pc0luc3RhbmNlT2ZUYWJsZVJvd0xheW91dENvbnN0cmFpbnQoY29uc3RyYWludCkpIHtcbiAgICAgICAgY29uc3RyYWludFxuICAgICAgICAgIC5nZXRFbGVtZW50c09mZnNldHNGb3JUYWJsZUNlbGwobnVsbClcbiAgICAgICAgICAuZm9yRWFjaCgocmVwZXRpdGl2ZUVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5wdXNoKHJlcGV0aXRpdmVFbGVtZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc2F2ZVN0YXRlKCk6IGFueSB7XG4gICAgcmV0dXJuIFtdLmNvbmNhdCh0aGlzLmNlbGxCcmVha1Bvc2l0aW9ucyk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHJlc3RvcmVTdGF0ZShzdGF0ZTogYW55KSB7XG4gICAgdGhpcy5jZWxsQnJlYWtQb3NpdGlvbnMgPSBzdGF0ZSBhcyBCcm9rZW5UYWJsZUNlbGxQb3NpdGlvbltdO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbGVtZW50c09mZnNldE9mVGFibGVDZWxsXG4gIGltcGxlbWVudHMgUmVwZXRpdGl2ZUVsZW1lbnQuRWxlbWVudHNPZmZzZXQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVwZWF0aXRpdmVFbGVtZW50c0luQ29sdW1uczogUmVwZXRpdGl2ZUVsZW1lbnQuRWxlbWVudHNPZmZzZXRbXVtdLFxuICApIHt9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBjYWxjdWxhdGVPZmZzZXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jYWxjdWxhdGVNYXhPZmZzZXRPZkNvbHVtbihcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgKG9mZnNldHMpID0+IG9mZnNldHMuY3VycmVudCxcbiAgICApO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBjYWxjdWxhdGVNaW5pbXVtT2Zmc2V0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlTWF4T2Zmc2V0T2ZDb2x1bW4oXG4gICAgICBub2RlQ29udGV4dCxcbiAgICAgIChvZmZzZXRzKSA9PiBvZmZzZXRzLm1pbmltdW0sXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlTWF4T2Zmc2V0T2ZDb2x1bW4obm9kZUNvbnRleHQsIHJlc29sdmVyKSB7XG4gICAgbGV0IG1heE9mZnNldCA9IDA7XG4gICAgdGhpcy5yZXBlYXRpdGl2ZUVsZW1lbnRzSW5Db2x1bW5zLmZvckVhY2goKHJlcGV0aXRpdmVFbGVtZW50cykgPT4ge1xuICAgICAgY29uc3Qgb2Zmc2V0cyA9IEJyZWFrUG9zaXRpb24uY2FsY3VsYXRlT2Zmc2V0KFxuICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLFxuICAgICAgKTtcbiAgICAgIG1heE9mZnNldCA9IE1hdGgubWF4KG1heE9mZnNldCwgcmVzb2x2ZXIob2Zmc2V0cykpO1xuICAgIH0pO1xuICAgIHJldHVybiBtYXhPZmZzZXQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0VGFibGVGb3JtYXR0aW5nQ29udGV4dChcbiAgZm9ybWF0dGluZ0NvbnRleHQ6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0LFxuKTogVGFibGVGb3JtYXR0aW5nQ29udGV4dCB7XG4gIEFzc2VydHMuYXNzZXJ0KGZvcm1hdHRpbmdDb250ZXh0IGluc3RhbmNlb2YgVGFibGVGb3JtYXR0aW5nQ29udGV4dCk7XG4gIHJldHVybiBmb3JtYXR0aW5nQ29udGV4dCBhcyBUYWJsZUZvcm1hdHRpbmdDb250ZXh0O1xufVxuXG5mdW5jdGlvbiBpc1RhYmxlUm93R3JvdXBpbmcoZGlzcGxheTogc3RyaW5nIHwgbnVsbCk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIGRpc3BsYXkgPT09IFwidGFibGUtcm93LWdyb3VwXCIgfHxcbiAgICBkaXNwbGF5ID09PSBcInRhYmxlLWhlYWRlci1ncm91cFwiIHx8XG4gICAgZGlzcGxheSA9PT0gXCJ0YWJsZS1mb290ZXItZ3JvdXBcIlxuICApO1xufVxuXG5mdW5jdGlvbiBpc1RhYmxlUm9vdChkaXNwbGF5OiBzdHJpbmcgfCBudWxsKTogYm9vbGVhbiB7XG4gIHJldHVybiBkaXNwbGF5ID09PSBcInRhYmxlXCIgfHwgZGlzcGxheSA9PT0gXCJpbmxpbmUtdGFibGVcIjtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZFBhcmVudE9mVGFibGVSb3coZGlzcGxheTogc3RyaW5nIHwgbnVsbCk6IGJvb2xlYW4ge1xuICByZXR1cm4gaXNUYWJsZVJvd0dyb3VwaW5nKGRpc3BsYXkpIHx8IGlzVGFibGVSb290KGRpc3BsYXkpO1xufVxuXG5mdW5jdGlvbiBza2lwTmVzdGVkVGFibGUoXG4gIHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUsXG4gIGZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB8IG51bGwge1xuICBjb25zdCBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICBjb25zdCBkaXNwbGF5ID0gbm9kZUNvbnRleHQuZGlzcGxheTtcbiAgY29uc3QgcGFyZW50RGlzcGxheSA9IG5vZGVDb250ZXh0LnBhcmVudCA/IG5vZGVDb250ZXh0LnBhcmVudC5kaXNwbGF5IDogbnVsbDtcblxuICAvLyBJcyBpbmxpbmUtdGFibGUgbmVzdGVkIGluIGFub3RoZXIgdGFibGU/XG4gIGxldCBpc05lc3RlZElubGluZVRhYmxlID0gZmFsc2U7XG4gIGlmIChcbiAgICBwYXJlbnREaXNwbGF5ID09PSBcImlubGluZS10YWJsZVwiICYmXG4gICAgIShub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCBpbnN0YW5jZW9mIFRhYmxlRm9ybWF0dGluZ0NvbnRleHQpXG4gICkge1xuICAgIGZvciAobGV0IG5jID0gbm9kZUNvbnRleHQucGFyZW50OyBuYzsgbmMgPSBuYy5wYXJlbnQpIHtcbiAgICAgIGlmIChuYy5mb3JtYXR0aW5nQ29udGV4dCBpbnN0YW5jZW9mIFRhYmxlRm9ybWF0dGluZ0NvbnRleHQpIHtcbiAgICAgICAgaXNOZXN0ZWRJbmxpbmVUYWJsZSA9IG5jLmZvcm1hdHRpbmdDb250ZXh0ID09PSBmb3JtYXR0aW5nQ29udGV4dDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IGlzTmVzdGVkVGFibGUgPVxuICAgIGlzTmVzdGVkSW5saW5lVGFibGUgfHxcbiAgICAoZGlzcGxheSA9PT0gXCJ0YWJsZS1yb3dcIiAmJiAhaXNWYWxpZFBhcmVudE9mVGFibGVSb3cocGFyZW50RGlzcGxheSkpIHx8XG4gICAgKGRpc3BsYXkgPT09IFwidGFibGUtY2VsbFwiICYmXG4gICAgICBwYXJlbnREaXNwbGF5ICE9PSBcInRhYmxlLXJvd1wiICYmXG4gICAgICAhaXNWYWxpZFBhcmVudE9mVGFibGVSb3cocGFyZW50RGlzcGxheSkpIHx8XG4gICAgKG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0IGluc3RhbmNlb2YgVGFibGVGb3JtYXR0aW5nQ29udGV4dCAmJlxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQgIT09IGZvcm1hdHRpbmdDb250ZXh0KTtcbiAgaWYgKGlzTmVzdGVkVGFibGUpIHtcbiAgICByZXR1cm4gY29sdW1uXG4gICAgICAuYnVpbGREZWVwRWxlbWVudFZpZXcobm9kZUNvbnRleHQpXG4gICAgICAudGhlbkFzeW5jKChub2RlQ29udGV4dEFmdGVyKSA9PiB7XG4gICAgICAgIHN0YXRlLm5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHRBZnRlcjtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVudGlyZVRhYmxlTGF5b3V0U3RyYXRlZ3kgZXh0ZW5kcyBMYXlvdXRVdGlsLkVkZ2VTa2lwcGVyIHtcbiAgcm93SW5kZXg6IG51bWJlciA9IC0xO1xuICBjb2x1bW5JbmRleDogbnVtYmVyID0gMDtcbiAgaW5Sb3c6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10gPSBbXTtcbiAgaW5IZWFkZXJPckZvb3RlcjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICBjb25zdCByID0gc2tpcE5lc3RlZFRhYmxlKHN0YXRlLCBmb3JtYXR0aW5nQ29udGV4dCwgdGhpcy5jb2x1bW4pO1xuICAgIGlmIChyKSB7XG4gICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgdGhpcy5wb3N0TGF5b3V0QmxvY2tDb250ZW50cyhzdGF0ZSk7XG4gICAgY29uc3Qgbm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dDtcbiAgICBjb25zdCBkaXNwbGF5ID0gbm9kZUNvbnRleHQuZGlzcGxheTtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICBzd2l0Y2ggKGRpc3BsYXkpIHtcbiAgICAgIGNhc2UgXCJ0YWJsZVwiOlxuICAgICAgICBmb3JtYXR0aW5nQ29udGV4dC5pbmxpbmVCb3JkZXJTcGFjaW5nID0gbm9kZUNvbnRleHQuaW5saW5lQm9yZGVyU3BhY2luZztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidGFibGUtY2FwdGlvblwiOiB7XG4gICAgICAgIGNvbnN0IGNhcHRpb25WaWV3ID0gbmV3IFRhYmxlQ2FwdGlvblZpZXcoXG4gICAgICAgICAgbm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudCxcbiAgICAgICAgICBub2RlQ29udGV4dC5jYXB0aW9uU2lkZSxcbiAgICAgICAgKTtcbiAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQuY2FwdGlvbnMucHVzaChjYXB0aW9uVmlldyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcInRhYmxlLWhlYWRlci1ncm91cFwiOlxuICAgICAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cy5pc0hlYWRlclJlZ2lzdGVyZWQoKSkge1xuICAgICAgICAgIHRoaXMuaW5IZWFkZXJPckZvb3RlciA9IHRydWU7XG4gICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnNldEhlYWRlck5vZGVDb250ZXh0KG5vZGVDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICBjYXNlIFwidGFibGUtZm9vdGVyLWdyb3VwXCI6XG4gICAgICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzLmlzRm9vdGVyUmVnaXN0ZXJlZCgpKSB7XG4gICAgICAgICAgdGhpcy5pbkhlYWRlck9yRm9vdGVyID0gdHJ1ZTtcbiAgICAgICAgICByZXBldGl0aXZlRWxlbWVudHMuc2V0Rm9vdGVyTm9kZUNvbnRleHQobm9kZUNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIGNhc2UgXCJ0YWJsZS1yb3dcIjpcbiAgICAgICAgaWYgKCF0aGlzLmluSGVhZGVyT3JGb290ZXIpIHtcbiAgICAgICAgICB0aGlzLmluUm93ID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnJvd0luZGV4Kys7XG4gICAgICAgICAgQXNzZXJ0cy5hc3NlcnQobm9kZUNvbnRleHQuc291cmNlTm9kZSk7XG4gICAgICAgICAgdGhpcy5jb2x1bW5JbmRleCA9IDA7XG4gICAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQuYWRkUm93KFxuICAgICAgICAgICAgdGhpcy5yb3dJbmRleCxcbiAgICAgICAgICAgIG5ldyBUYWJsZVJvdyh0aGlzLnJvd0luZGV4LCBub2RlQ29udGV4dC5zb3VyY2VOb2RlKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzLmZpcnN0Q29udGVudFNvdXJjZU5vZGUpIHtcbiAgICAgICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5maXJzdENvbnRlbnRTb3VyY2VOb2RlID0gbm9kZUNvbnRleHQuc291cmNlTm9kZSBhcyBFbGVtZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLnN0YXJ0Tm9uSW5saW5lRWxlbWVudE5vZGUoc3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWZ0ZXJOb25JbmxpbmVFbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICBjb25zdCBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICAgIGNvbnN0IGRpc3BsYXkgPSBub2RlQ29udGV4dC5kaXNwbGF5O1xuICAgIGNvbnN0IGNsaWVudExheW91dCA9IHRoaXMuY29sdW1uLmNsaWVudExheW91dDtcbiAgICB0aGlzLnBvc3RMYXlvdXRCbG9ja0NvbnRlbnRzKHN0YXRlKTtcbiAgICBpZiAobm9kZUNvbnRleHQuc291cmNlTm9kZSA9PT0gZm9ybWF0dGluZ0NvbnRleHQudGFibGVTb3VyY2VOb2RlKSB7XG4gICAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDb21wdXRlZFN0eWxlKFxuICAgICAgICBmb3JtYXR0aW5nQ29udGV4dC5nZXRSb290Vmlld05vZGUobm9kZUNvbnRleHQpIGFzIEVsZW1lbnQsXG4gICAgICApO1xuICAgICAgZm9ybWF0dGluZ0NvbnRleHQudGFibGVXaWR0aCA9IHBhcnNlRmxvYXQoXG4gICAgICAgIGNvbXB1dGVkU3R5bGVbZm9ybWF0dGluZ0NvbnRleHQudmVydGljYWwgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiXSxcbiAgICAgICk7XG4gICAgICBmb3JtYXR0aW5nQ29udGV4dC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKS5sYXN0Q29udGVudFNvdXJjZU5vZGUgPVxuICAgICAgICBzdGF0ZS5sYXN0QWZ0ZXJOb2RlQ29udGV4dCAmJlxuICAgICAgICAoc3RhdGUubGFzdEFmdGVyTm9kZUNvbnRleHQuc291cmNlTm9kZSBhcyBFbGVtZW50KTtcbiAgICAgIHN0YXRlLmJyZWFrID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpdGNoIChkaXNwbGF5KSB7XG4gICAgICAgIGNhc2UgXCJ0YWJsZS1oZWFkZXItZ3JvdXBcIjpcbiAgICAgICAgY2FzZSBcInRhYmxlLWZvb3Rlci1ncm91cFwiOlxuICAgICAgICAgIGlmICh0aGlzLmluSGVhZGVyT3JGb290ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuaW5IZWFkZXJPckZvb3RlciA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRhYmxlLXJvd1wiOlxuICAgICAgICAgIGlmICghdGhpcy5pbkhlYWRlck9yRm9vdGVyKSB7XG4gICAgICAgICAgICBmb3JtYXR0aW5nQ29udGV4dC5sYXN0Um93Vmlld05vZGUgPSBub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5pblJvdyA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRhYmxlLWNlbGxcIjpcbiAgICAgICAgICBpZiAoIXRoaXMuaW5IZWFkZXJPckZvb3Rlcikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmluUm93KSB7XG4gICAgICAgICAgICAgIHRoaXMucm93SW5kZXgrKztcbiAgICAgICAgICAgICAgdGhpcy5jb2x1bW5JbmRleCA9IDA7XG4gICAgICAgICAgICAgIHRoaXMuaW5Sb3cgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZWxlbSA9IG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gICAgICAgICAgICBmb3JtYXR0aW5nQ29udGV4dC5hZGRDZWxsKFxuICAgICAgICAgICAgICB0aGlzLnJvd0luZGV4LFxuICAgICAgICAgICAgICBuZXcgVGFibGVDZWxsKHRoaXMucm93SW5kZXgsIHRoaXMuY29sdW1uSW5kZXgsIGVsZW0pLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuY29sdW1uSW5kZXgrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5hZnRlck5vbklubGluZUVsZW1lbnROb2RlKHN0YXRlKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc3RhcnROb25FbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIHRoaXMucmVnaXN0ZXJDaGVja1BvaW50KHN0YXRlKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWZ0ZXJOb25FbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIHRoaXMucmVnaXN0ZXJDaGVja1BvaW50KHN0YXRlKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc3RhcnRJbmxpbmVFbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIHRoaXMucmVnaXN0ZXJDaGVja1BvaW50KHN0YXRlKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWZ0ZXJJbmxpbmVFbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIHRoaXMucmVnaXN0ZXJDaGVja1BvaW50KHN0YXRlKTtcbiAgfVxuXG4gIHJlZ2lzdGVyQ2hlY2tQb2ludChzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlKSB7XG4gICAgY29uc3Qgbm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dDtcbiAgICBpZiAoXG4gICAgICBub2RlQ29udGV4dCAmJlxuICAgICAgbm9kZUNvbnRleHQudmlld05vZGUgJiZcbiAgICAgICFMYXlvdXRIZWxwZXIuaXNTcGVjaWFsTm9kZUNvbnRleHQobm9kZUNvbnRleHQpXG4gICAgKSB7XG4gICAgICB0aGlzLmNoZWNrUG9pbnRzLnB1c2gobm9kZUNvbnRleHQuY2xvbmUoKSk7XG4gICAgfVxuICB9XG5cbiAgcG9zdExheW91dEJsb2NrQ29udGVudHMoc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSkge1xuICAgIGlmICh0aGlzLmNoZWNrUG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuY29sdW1uLnBvc3RMYXlvdXRCbG9jayhzdGF0ZS5ub2RlQ29udGV4dCwgdGhpcy5jaGVja1BvaW50cyk7XG4gICAgfVxuICAgIHRoaXMuY2hlY2tQb2ludHMgPSBbXTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGFibGVMYXlvdXRTdHJhdGVneSBleHRlbmRzIExheW91dFV0aWwuRWRnZVNraXBwZXIge1xuICBwcml2YXRlIHN0YXRpYyBpZ25vcmVMaXN0OiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHtcbiAgICBcInRhYmxlLWNhcHRpb25cIjogdHJ1ZSxcbiAgICBcInRhYmxlLWNvbHVtbi1ncm91cFwiOiB0cnVlLFxuICAgIFwidGFibGUtY29sdW1uXCI6IHRydWUsXG4gIH07XG4gIGluUm93OiBib29sZWFuID0gZmFsc2U7XG4gIGN1cnJlbnRSb3dJbmRleDogbnVtYmVyID0gLTE7XG4gIGN1cnJlbnRDb2x1bW5JbmRleDogbnVtYmVyID0gMDtcbiAgb3JpZ2luYWxTdG9wQXRPdmVyZmxvdzogYm9vbGVhbjtcbiAgaW5IZWFkZXI6IGJvb2xlYW47XG4gIGluRm9vdGVyOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApIHtcbiAgICBzdXBlcih0cnVlKTtcbiAgICB0aGlzLm9yaWdpbmFsU3RvcEF0T3ZlcmZsb3cgPSBjb2x1bW4uc3RvcEF0T3ZlcmZsb3c7XG4gICAgY29sdW1uLnN0b3BBdE92ZXJmbG93ID0gZmFsc2U7XG4gIH1cblxuICByZXNldENvbHVtbigpIHtcbiAgICB0aGlzLmNvbHVtbi5zdG9wQXRPdmVyZmxvdyA9IHRoaXMub3JpZ2luYWxTdG9wQXRPdmVyZmxvdztcbiAgfVxuXG4gIGdldENvbFNwYW5uaW5nQ2VsbFdpZHRoKGNlbGw6IFRhYmxlQ2VsbCk6IG51bWJlciB7XG4gICAgY29uc3QgY29sV2lkdGhzID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5jb2xXaWR0aHM7XG4gICAgQXNzZXJ0cy5hc3NlcnQoY29sV2lkdGhzKTtcbiAgICBsZXQgd2lkdGggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2VsbC5jb2xTcGFuOyBpKyspIHtcbiAgICAgIHdpZHRoICs9IGNvbFdpZHRoc1tjZWxsLmFuY2hvclNsb3QuY29sdW1uSW5kZXggKyBpXTtcbiAgICB9XG4gICAgd2lkdGggKz0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5pbmxpbmVCb3JkZXJTcGFjaW5nICogKGNlbGwuY29sU3BhbiAtIDEpO1xuICAgIHJldHVybiB3aWR0aDtcbiAgfVxuXG4gIGxheW91dENlbGwoXG4gICAgY2VsbDogVGFibGVDZWxsLFxuICAgIGNlbGxOb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgc3RhcnRDaHVua1Bvc2l0aW9uOiBWdHJlZS5DaHVua1Bvc2l0aW9uLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3Qgcm93SW5kZXggPSBjZWxsLnJvd0luZGV4O1xuICAgIGNvbnN0IGNvbHVtbkluZGV4ID0gY2VsbC5jb2x1bW5JbmRleDtcbiAgICBjb25zdCBjb2xTcGFuID0gY2VsbC5jb2xTcGFuO1xuICAgIGNvbnN0IGNlbGxWaWV3Tm9kZSA9IGNlbGxOb2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICAgIGNvbnN0IHZlcnRpY2FsQWxpZ24gPSBjZWxsTm9kZUNvbnRleHQudmVydGljYWxBbGlnbjtcbiAgICBpZiAoY29sU3BhbiA+IDEpIHtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY2VsbFZpZXdOb2RlLCBcImJveC1zaXppbmdcIiwgXCJib3JkZXItYm94XCIpO1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgICAgY2VsbFZpZXdOb2RlLFxuICAgICAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LnZlcnRpY2FsID8gXCJoZWlnaHRcIiA6IFwid2lkdGhcIixcbiAgICAgICAgYCR7dGhpcy5nZXRDb2xTcGFubmluZ0NlbGxXaWR0aChjZWxsKX1weGAsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBwc2V1ZG9Db2x1bW5Db250YWluZXIgPSBjZWxsVmlld05vZGUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgXCJkaXZcIixcbiAgICApO1xuICAgIGNlbGxWaWV3Tm9kZS5hcHBlbmRDaGlsZChwc2V1ZG9Db2x1bW5Db250YWluZXIpO1xuICAgIGNvbnN0IGNlbGxGcmFnbWVudCA9IG5ldyBUYWJsZUNlbGxGcmFnbWVudChcbiAgICAgIHRoaXMuY29sdW1uLFxuICAgICAgcHNldWRvQ29sdW1uQ29udGFpbmVyLFxuICAgICAgY2VsbE5vZGVDb250ZXh0LFxuICAgICk7XG4gICAgdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5hZGRDZWxsRnJhZ21lbnQocm93SW5kZXgsIGNvbHVtbkluZGV4LCBjZWxsRnJhZ21lbnQpO1xuICAgIGlmIChcbiAgICAgIHN0YXJ0Q2h1bmtQb3NpdGlvbi5wcmltYXJ5LnN0ZXBzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgc3RhcnRDaHVua1Bvc2l0aW9uLnByaW1hcnkuYWZ0ZXJcbiAgICApIHtcbiAgICAgIC8vIENvbnRlbnRzIG9mIHRoZSBjZWxsIGhhdmUgZW5kZWQgaW4gdGhlIHByZXZpb3VzIGZyYWdtZW50XG4gICAgICBjZWxsRnJhZ21lbnQuZW1wdHkgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gY2VsbEZyYWdtZW50LnBzZXVkb0NvbHVtblxuICAgICAgLmxheW91dChzdGFydENodW5rUG9zaXRpb24sIHRydWUpXG4gICAgICAudGhlblJldHVybih0cnVlKTtcbiAgfVxuXG4gIGhhc0Jyb2tlbkNlbGxBdFNsb3Qoc2xvdEluZGV4KTogYm9vbGVhbiB7XG4gICAgY29uc3QgY2VsbEJyZWFrUG9zaXRpb24gPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmNlbGxCcmVha1Bvc2l0aW9uc1swXTtcbiAgICBpZiAoY2VsbEJyZWFrUG9zaXRpb24pIHtcbiAgICAgIHJldHVybiBjZWxsQnJlYWtQb3NpdGlvbi5jZWxsLmFuY2hvclNsb3QuY29sdW1uSW5kZXggPT09IHNsb3RJbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBleHRyYWN0Um93U3Bhbm5pbmdDZWxsQnJlYWtQb3NpdGlvbnMoKTogQnJva2VuVGFibGVDZWxsUG9zaXRpb25bXVtdIHtcbiAgICBjb25zdCBjZWxsQnJlYWtQb3NpdGlvbnMgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmNlbGxCcmVha1Bvc2l0aW9ucztcbiAgICBpZiAoY2VsbEJyZWFrUG9zaXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCByb3dTcGFubmluZ0NlbGxCcmVha1Bvc2l0aW9ucyA9IFtdO1xuICAgIGxldCBpID0gMDtcbiAgICBkbyB7XG4gICAgICBjb25zdCBwID0gY2VsbEJyZWFrUG9zaXRpb25zW2ldO1xuICAgICAgY29uc3Qgcm93SW5kZXggPSBwLmNlbGwucm93SW5kZXg7XG4gICAgICBpZiAocm93SW5kZXggPCB0aGlzLmN1cnJlbnRSb3dJbmRleCkge1xuICAgICAgICBsZXQgYXJyID0gcm93U3Bhbm5pbmdDZWxsQnJlYWtQb3NpdGlvbnNbcm93SW5kZXhdO1xuICAgICAgICBpZiAoIWFycikge1xuICAgICAgICAgIGFyciA9IHJvd1NwYW5uaW5nQ2VsbEJyZWFrUG9zaXRpb25zW3Jvd0luZGV4XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGFyci5wdXNoKHApO1xuICAgICAgICBjZWxsQnJlYWtQb3NpdGlvbnMuc3BsaWNlKGksIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKGkgPCBjZWxsQnJlYWtQb3NpdGlvbnMubGVuZ3RoKTtcbiAgICByZXR1cm4gcm93U3Bhbm5pbmdDZWxsQnJlYWtQb3NpdGlvbnM7XG4gIH1cblxuICBsYXlvdXRSb3dTcGFubmluZ0NlbGxzRnJvbVByZXZpb3VzRnJhZ21lbnQoXG4gICAgc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICBjb25zdCByb3dTcGFubmluZ0NlbGxCcmVha1Bvc2l0aW9ucyA9IHRoaXMuZXh0cmFjdFJvd1NwYW5uaW5nQ2VsbEJyZWFrUG9zaXRpb25zKCk7XG4gICAgY29uc3Qgcm93Q291bnQgPSByb3dTcGFubmluZ0NlbGxCcmVha1Bvc2l0aW9ucy5yZWR1Y2UoKHMpID0+IHMgKyAxLCAwKTtcbiAgICBpZiAocm93Q291bnQgPT09IDApIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgY29uc3QgbGF5b3V0Q29udGV4dCA9IHRoaXMuY29sdW1uLmxheW91dENvbnRleHQ7XG4gICAgY29uc3QgY3VycmVudFJvdyA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICAgIGN1cnJlbnRSb3cudmlld05vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjdXJyZW50Um93LnZpZXdOb2RlKTtcbiAgICBjb25zdCBmcmFtZSA9IFRhc2submV3RnJhbWU8Ym9vbGVhbj4oXG4gICAgICBcImxheW91dFJvd1NwYW5uaW5nQ2VsbHNGcm9tUHJldmlvdXNGcmFnbWVudFwiLFxuICAgICk7XG4gICAgbGV0IGNvbnQgPSBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICBsZXQgc3Bhbm5pbmdDZWxsUm93SW5kZXggPSAwO1xuICAgIGNvbnN0IG9jY3VwaWVkU2xvdEluZGljZXMgPSBbXTtcbiAgICByb3dTcGFubmluZ0NlbGxCcmVha1Bvc2l0aW9ucy5mb3JFYWNoKChyb3dDZWxsQnJlYWtQb3NpdGlvbnMpID0+IHtcbiAgICAgIGNvbnQgPSBjb250LnRoZW5Bc3luYygoKSA9PiB7XG4gICAgICAgIC8vIElzIGl0IGFsd2F5cyBjb3JyZWN0IHRvIGFzc3VtZSBzdGVwc1sxXSB0byBiZSB0aGUgcm93P1xuICAgICAgICBjb25zdCByb3dOb2RlQ29udGV4dCA9IFZ0cmVlSW1wbC5tYWtlTm9kZUNvbnRleHRGcm9tTm9kZVBvc2l0aW9uU3RlcChcbiAgICAgICAgICByb3dDZWxsQnJlYWtQb3NpdGlvbnNbMF0uY2VsbE5vZGVQb3NpdGlvbi5zdGVwc1sxXSxcbiAgICAgICAgICBjdXJyZW50Um93LnBhcmVudCxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGxheW91dENvbnRleHQuc2V0Q3VycmVudChyb3dOb2RlQ29udGV4dCwgZmFsc2UpLnRoZW5Bc3luYygoKSA9PiB7XG4gICAgICAgICAgbGV0IGNvbnQxID0gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICAgICAgbGV0IGNvbHVtbkluZGV4ID0gMDtcblxuICAgICAgICAgIGZ1bmN0aW9uIGFkZER1bW15Q2VsbFVudGlsKHVwcGVyQ29sdW1uSW5kZXgpIHtcbiAgICAgICAgICAgIHdoaWxlIChjb2x1bW5JbmRleCA8IHVwcGVyQ29sdW1uSW5kZXgpIHtcbiAgICAgICAgICAgICAgaWYgKCFvY2N1cGllZFNsb3RJbmRpY2VzLmluY2x1ZGVzKGNvbHVtbkluZGV4KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGR1bW15ID0gcm93Tm9kZUNvbnRleHQudmlld05vZGUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgXCJ0ZFwiLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShkdW1teSwgXCJwYWRkaW5nXCIsIFwiMFwiKTtcbiAgICAgICAgICAgICAgICByb3dOb2RlQ29udGV4dC52aWV3Tm9kZS5hcHBlbmRDaGlsZChkdW1teSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29sdW1uSW5kZXgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcm93Q2VsbEJyZWFrUG9zaXRpb25zLmZvckVhY2goKGNlbGxCcmVha1Bvc2l0aW9uKSA9PiB7XG4gICAgICAgICAgICBjb250MSA9IGNvbnQxLnRoZW5Bc3luYygoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBjZWxsQnJlYWtQb3NpdGlvbi5jZWxsO1xuICAgICAgICAgICAgICBhZGREdW1teUNlbGxVbnRpbChjZWxsLmFuY2hvclNsb3QuY29sdW1uSW5kZXgpO1xuICAgICAgICAgICAgICBjb25zdCBjZWxsTm9kZVBvc2l0aW9uID0gY2VsbEJyZWFrUG9zaXRpb24uY2VsbE5vZGVQb3NpdGlvbjtcbiAgICAgICAgICAgICAgY29uc3QgY2VsbE5vZGVDb250ZXh0ID0gVnRyZWVJbXBsLm1ha2VOb2RlQ29udGV4dEZyb21Ob2RlUG9zaXRpb25TdGVwKFxuICAgICAgICAgICAgICAgIGNlbGxOb2RlUG9zaXRpb24uc3RlcHNbMF0sXG4gICAgICAgICAgICAgICAgcm93Tm9kZUNvbnRleHQsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGNlbGxOb2RlQ29udGV4dC5vZmZzZXRJbk5vZGUgPSBjZWxsTm9kZVBvc2l0aW9uLm9mZnNldEluTm9kZTtcbiAgICAgICAgICAgICAgY2VsbE5vZGVDb250ZXh0LmFmdGVyID0gY2VsbE5vZGVQb3NpdGlvbi5hZnRlcjtcbiAgICAgICAgICAgICAgY2VsbE5vZGVDb250ZXh0LmZyYWdtZW50SW5kZXggPVxuICAgICAgICAgICAgICAgIGNlbGxOb2RlUG9zaXRpb24uc3RlcHNbMF0uZnJhZ21lbnRJbmRleCArIDE7XG4gICAgICAgICAgICAgIHJldHVybiBsYXlvdXRDb250ZXh0XG4gICAgICAgICAgICAgICAgLnNldEN1cnJlbnQoY2VsbE5vZGVDb250ZXh0LCBmYWxzZSlcbiAgICAgICAgICAgICAgICAudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGJyZWFrQ2h1bmtQb3NpdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgIGNlbGxCcmVha1Bvc2l0aW9uLmJyZWFrQ2h1bmtQb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2VsbC5jb2xTcGFuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgb2NjdXBpZWRTbG90SW5kaWNlcy5wdXNoKGNvbHVtbkluZGV4ICsgaSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjb2x1bW5JbmRleCArPSBjZWxsLmNvbFNwYW47XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sYXlvdXRDZWxsKFxuICAgICAgICAgICAgICAgICAgICBjZWxsLFxuICAgICAgICAgICAgICAgICAgICBjZWxsTm9kZUNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrQ2h1bmtQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICkudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgKGNlbGxOb2RlQ29udGV4dC52aWV3Tm9kZSBhcyBIVE1MVGFibGVDZWxsRWxlbWVudCkucm93U3BhbiA9XG4gICAgICAgICAgICAgICAgICAgICAgY2VsbC5yb3dJbmRleCArXG4gICAgICAgICAgICAgICAgICAgICAgY2VsbC5yb3dTcGFuIC1cbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRSb3dJbmRleCArXG4gICAgICAgICAgICAgICAgICAgICAgcm93Q291bnQgLVxuICAgICAgICAgICAgICAgICAgICAgIHNwYW5uaW5nQ2VsbFJvd0luZGV4O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBjb250MS50aGVuQXN5bmMoKCkgPT4ge1xuICAgICAgICAgICAgYWRkRHVtbXlDZWxsVW50aWwoZm9ybWF0dGluZ0NvbnRleHQuZ2V0Q29sdW1uQ291bnQoKSk7XG4gICAgICAgICAgICBzcGFubmluZ0NlbGxSb3dJbmRleCsrO1xuICAgICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnQudGhlbigoKSA9PiB7XG4gICAgICBsYXlvdXRDb250ZXh0XG4gICAgICAgIC5zZXRDdXJyZW50KGN1cnJlbnRSb3csIHRydWUsIHN0YXRlLmF0VW5mb3JjZWRCcmVhaylcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgc3RhcnRUYWJsZVJvdyhzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGlmICh0aGlzLmluSGVhZGVyIHx8IHRoaXMuaW5Gb290ZXIpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgY29uc3Qgbm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dDtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgaWYgKHRoaXMuY3VycmVudFJvd0luZGV4IDwgMCkge1xuICAgICAgQXNzZXJ0cy5hc3NlcnQobm9kZUNvbnRleHQuc291cmNlTm9kZSk7XG4gICAgICB0aGlzLmN1cnJlbnRSb3dJbmRleCA9IGZvcm1hdHRpbmdDb250ZXh0LmZpbmRSb3dJbmRleEJ5U291cmNlTm9kZShcbiAgICAgICAgbm9kZUNvbnRleHQuc291cmNlTm9kZSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3VycmVudFJvd0luZGV4Kys7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudENvbHVtbkluZGV4ID0gMDtcbiAgICB0aGlzLmluUm93ID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcy5sYXlvdXRSb3dTcGFubmluZ0NlbGxzRnJvbVByZXZpb3VzRnJhZ21lbnQoc3RhdGUpLnRoZW5Bc3luYyhcbiAgICAgICgpID0+IHtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNlbGxGcmFnbWVudEluZGV4KCk7XG4gICAgICAgIGNvbnN0IG92ZXJmbG93biA9IHRoaXMuY29sdW1uLmNoZWNrT3ZlcmZsb3dBbmRTYXZlRWRnZUFuZEJyZWFrUG9zaXRpb24oXG4gICAgICAgICAgc3RhdGUubGFzdEFmdGVyTm9kZUNvbnRleHQsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICAgIHN0YXRlLmJyZWFrQXRUaGVFZGdlLFxuICAgICAgICApO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgb3ZlcmZsb3duICYmXG4gICAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQuZ2V0Um93U3Bhbm5pbmdDZWxsc092ZXJmbG93aW5nVGhlUm93KFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Um93SW5kZXggLSAxLFxuICAgICAgICAgICkubGVuZ3RoID09PSAwXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMucmVzZXRDb2x1bW4oKTtcbiAgICAgICAgICBub2RlQ29udGV4dC5vdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgc3RhdGUuYnJlYWsgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVnaXN0ZXJDZWxsRnJhZ21lbnRJbmRleCgpIHtcbiAgICBjb25zdCBjZWxscyA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuZ2V0Um93QnlJbmRleCh0aGlzLmN1cnJlbnRSb3dJbmRleClcbiAgICAgIC5jZWxscztcbiAgICBjZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICBjb25zdCBjZWxsQnJlYWtQb3NpdGlvbiA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuY2VsbEJyZWFrUG9zaXRpb25zW1xuICAgICAgICBjZWxsLmNvbHVtbkluZGV4XG4gICAgICBdO1xuICAgICAgaWYgKFxuICAgICAgICBjZWxsQnJlYWtQb3NpdGlvbiAmJlxuICAgICAgICBjZWxsQnJlYWtQb3NpdGlvbi5jZWxsLmFuY2hvclNsb3QuY29sdW1uSW5kZXggPT1cbiAgICAgICAgICBjZWxsLmFuY2hvclNsb3QuY29sdW1uSW5kZXhcbiAgICAgICkge1xuICAgICAgICBjb25zdCB0ZE5vZGVTdGVwID0gY2VsbEJyZWFrUG9zaXRpb24uY2VsbE5vZGVQb3NpdGlvbi5zdGVwc1swXTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gKHRoaXMuY29sdW1uXG4gICAgICAgICAgLmxheW91dENvbnRleHQgYXMgVmdlbi5WaWV3RmFjdG9yeSkueG1sZG9jLmdldEVsZW1lbnRPZmZzZXQoXG4gICAgICAgICAgdGROb2RlU3RlcC5ub2RlIGFzIEVsZW1lbnQsXG4gICAgICAgICk7XG4gICAgICAgIExheW91dC5yZWdpc3RlckZyYWdtZW50SW5kZXgob2Zmc2V0LCB0ZE5vZGVTdGVwLmZyYWdtZW50SW5kZXggKyAxLCAxKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHN0YXJ0VGFibGVDZWxsKHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUpOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgaWYgKHRoaXMuaW5IZWFkZXIgfHwgdGhpcy5pbkZvb3Rlcikge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICBjb25zdCBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICAgIGlmICghdGhpcy5pblJvdykge1xuICAgICAgaWYgKHRoaXMuY3VycmVudFJvd0luZGV4IDwgMCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRSb3dJbmRleCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmN1cnJlbnRSb3dJbmRleCsrO1xuICAgICAgfVxuICAgICAgdGhpcy5jdXJyZW50Q29sdW1uSW5kZXggPSAwO1xuICAgICAgdGhpcy5pblJvdyA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IGNlbGwgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmdldFJvd0J5SW5kZXgodGhpcy5jdXJyZW50Um93SW5kZXgpXG4gICAgICAuY2VsbHNbdGhpcy5jdXJyZW50Q29sdW1uSW5kZXhdO1xuICAgIGNvbnN0IGFmdGVyTm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5jb3B5KCkubW9kaWZ5KCk7XG4gICAgYWZ0ZXJOb2RlQ29udGV4dC5hZnRlciA9IHRydWU7XG4gICAgc3RhdGUubm9kZUNvbnRleHQgPSBhZnRlck5vZGVDb250ZXh0O1xuICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxib29sZWFuPihcInN0YXJ0VGFibGVDZWxsXCIpO1xuICAgIGxldCBjb250OiBUYXNrLlJlc3VsdDxWdHJlZS5DaHVua1Bvc2l0aW9uPjtcbiAgICBpZiAodGhpcy5oYXNCcm9rZW5DZWxsQXRTbG90KGNlbGwuYW5jaG9yU2xvdC5jb2x1bW5JbmRleCkpIHtcbiAgICAgIGNvbnN0IGNlbGxCcmVha1Bvc2l0aW9uID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5jZWxsQnJlYWtQb3NpdGlvbnMuc2hpZnQoKTtcbiAgICAgIG5vZGVDb250ZXh0LmZyYWdtZW50SW5kZXggPVxuICAgICAgICBjZWxsQnJlYWtQb3NpdGlvbi5jZWxsTm9kZVBvc2l0aW9uLnN0ZXBzWzBdLmZyYWdtZW50SW5kZXggKyAxO1xuICAgICAgY29udCA9IFRhc2submV3UmVzdWx0KGNlbGxCcmVha1Bvc2l0aW9uLmJyZWFrQ2h1bmtQb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnQgPSB0aGlzLmNvbHVtblxuICAgICAgICAubmV4dEluVHJlZShub2RlQ29udGV4dCwgc3RhdGUuYXRVbmZvcmNlZEJyZWFrKVxuICAgICAgICAudGhlbkFzeW5jKChuZXh0Tm9kZUNvbnRleHQpID0+IHtcbiAgICAgICAgICBpZiAobmV4dE5vZGVDb250ZXh0LnZpZXdOb2RlKSB7XG4gICAgICAgICAgICBub2RlQ29udGV4dC52aWV3Tm9kZS5yZW1vdmVDaGlsZChuZXh0Tm9kZUNvbnRleHQudmlld05vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBzdGFydE5vZGVQb3NpdGlvbiA9IFZ0cmVlSW1wbC5uZXdOb2RlUG9zaXRpb25Gcm9tTm9kZUNvbnRleHQoXG4gICAgICAgICAgICBuZXh0Tm9kZUNvbnRleHQsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG5ldyBWdHJlZUltcGwuQ2h1bmtQb3NpdGlvbihzdGFydE5vZGVQb3NpdGlvbikpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29udC50aGVuKChzdGFydENodW5rUG9zaXRpb24pID0+IHtcbiAgICAgIEFzc2VydHMuYXNzZXJ0KG5vZGVDb250ZXh0KTtcbiAgICAgIHRoaXMubGF5b3V0Q2VsbChjZWxsLCBub2RlQ29udGV4dCwgc3RhcnRDaHVua1Bvc2l0aW9uKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5hZnRlck5vbklubGluZUVsZW1lbnROb2RlKHN0YXRlKTtcbiAgICAgICAgdGhpcy5jdXJyZW50Q29sdW1uSW5kZXgrKztcbiAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgc3RhcnROb25JbmxpbmVCb3goXG4gICAgc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHIgPSBza2lwTmVzdGVkVGFibGUoXG4gICAgICBzdGF0ZSxcbiAgICAgIGdldFRhYmxlRm9ybWF0dGluZ0NvbnRleHQodGhpcy5mb3JtYXR0aW5nQ29udGV4dCksXG4gICAgICB0aGlzLmNvbHVtbixcbiAgICApO1xuICAgIGlmIChyKSB7XG4gICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgY29uc3Qgbm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dDtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGNvbnN0IGRpc3BsYXkgPSBub2RlQ29udGV4dC5kaXNwbGF5O1xuICAgIGlmIChcbiAgICAgIGRpc3BsYXkgPT09IFwidGFibGUtaGVhZGVyLWdyb3VwXCIgJiZcbiAgICAgIHJlcGV0aXRpdmVFbGVtZW50cyAmJlxuICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLmlzSGVhZGVyU291cmNlTm9kZShub2RlQ29udGV4dC5zb3VyY2VOb2RlKVxuICAgICkge1xuICAgICAgdGhpcy5pbkhlYWRlciA9IHRydWU7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGRpc3BsYXkgPT09IFwidGFibGUtZm9vdGVyLWdyb3VwXCIgJiZcbiAgICAgIHJlcGV0aXRpdmVFbGVtZW50cyAmJlxuICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLmlzRm9vdGVyU291cmNlTm9kZShub2RlQ29udGV4dC5zb3VyY2VOb2RlKVxuICAgICkge1xuICAgICAgdGhpcy5pbkZvb3RlciA9IHRydWU7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfSBlbHNlIGlmIChkaXNwbGF5ID09PSBcInRhYmxlLXJvd1wiKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGFydFRhYmxlUm93KHN0YXRlKTtcbiAgICB9IGVsc2UgaWYgKGRpc3BsYXkgPT09IFwidGFibGUtY2VsbFwiKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGFydFRhYmxlQ2VsbChzdGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gIH1cblxuICBlbmROb25JbmxpbmVCb3goc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICAgIGNvbnN0IGRpc3BsYXkgPSBub2RlQ29udGV4dC5kaXNwbGF5O1xuICAgIGlmIChkaXNwbGF5ID09PSBcInRhYmxlLXJvd1wiKSB7XG4gICAgICB0aGlzLmluUm93ID0gZmFsc2U7XG4gICAgICBpZiAoIXRoaXMuaW5IZWFkZXIgJiYgIXRoaXMuaW5Gb290ZXIpIHtcbiAgICAgICAgY29uc3QgYmVmb3JlTm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5jb3B5KCkubW9kaWZ5KCk7XG4gICAgICAgIGJlZm9yZU5vZGVDb250ZXh0LmFmdGVyID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGJwID0gbmV3IEluc2lkZVRhYmxlUm93QnJlYWtQb3NpdGlvbihcbiAgICAgICAgICB0aGlzLmN1cnJlbnRSb3dJbmRleCxcbiAgICAgICAgICBiZWZvcmVOb2RlQ29udGV4dCxcbiAgICAgICAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmNvbHVtbi5icmVha1Bvc2l0aW9ucy5wdXNoKGJwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICB9XG5cbiAgYWZ0ZXJOb25JbmxpbmVFbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IG5vZGVDb250ZXh0ID0gc3RhdGUubm9kZUNvbnRleHQ7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICBjb25zdCBkaXNwbGF5ID0gbm9kZUNvbnRleHQuZGlzcGxheTtcbiAgICBpZiAoZGlzcGxheSA9PT0gXCJ0YWJsZS1oZWFkZXItZ3JvdXBcIikge1xuICAgICAgaWYgKFxuICAgICAgICByZXBldGl0aXZlRWxlbWVudHMgJiZcbiAgICAgICAgIXJlcGV0aXRpdmVFbGVtZW50cy5hbGxvd0luc2VydFJlcGVhdGl0aXZlRWxlbWVudHMgJiZcbiAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLmlzSGVhZGVyU291cmNlTm9kZShub2RlQ29udGV4dC5zb3VyY2VOb2RlKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuaW5IZWFkZXIgPSBmYWxzZTtcbiAgICAgICAgbm9kZUNvbnRleHQudmlld05vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlQ29udGV4dC52aWV3Tm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQsXG4gICAgICAgICAgXCJkaXNwbGF5XCIsXG4gICAgICAgICAgXCJ0YWJsZS1yb3ctZ3JvdXBcIixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRpc3BsYXkgPT09IFwidGFibGUtZm9vdGVyLWdyb3VwXCIpIHtcbiAgICAgIGlmIChcbiAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzICYmXG4gICAgICAgICFyZXBldGl0aXZlRWxlbWVudHMuYWxsb3dJbnNlcnRSZXBlYXRpdGl2ZUVsZW1lbnRzICYmXG4gICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5pc0Zvb3RlclNvdXJjZU5vZGUobm9kZUNvbnRleHQuc291cmNlTm9kZSlcbiAgICAgICkge1xuICAgICAgICB0aGlzLmluRm9vdGVyID0gZmFsc2U7XG4gICAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZUNvbnRleHQudmlld05vZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgICAgICBub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50LFxuICAgICAgICAgIFwiZGlzcGxheVwiLFxuICAgICAgICAgIFwidGFibGUtcm93LWdyb3VwXCIsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkaXNwbGF5ICYmIFRhYmxlTGF5b3V0U3RyYXRlZ3kuaWdub3JlTGlzdFtkaXNwbGF5XSkge1xuICAgICAgbm9kZUNvbnRleHQudmlld05vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlQ29udGV4dC52aWV3Tm9kZSk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIG5vZGVDb250ZXh0LnNvdXJjZU5vZGUgPT09IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQudGFibGVTb3VyY2VOb2RlXG4gICAgKSB7XG4gICAgICBub2RlQ29udGV4dC5vdmVyZmxvdyA9IHRoaXMuY29sdW1uLmNoZWNrT3ZlcmZsb3dBbmRTYXZlRWRnZShcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIG51bGwsXG4gICAgICApO1xuICAgICAgdGhpcy5yZXNldENvbHVtbigpO1xuICAgICAgc3RhdGUuYnJlYWsgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3VwZXIuYWZ0ZXJOb25JbmxpbmVFbGVtZW50Tm9kZShzdGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgfVxufVxuXG50eXBlIFRhYmxlTGF5b3V0T3B0aW9uID0ge1xuICBjYWxjdWxhdGVCcmVha1Bvc2l0aW9uc0luc2lkZTogYm9vbGVhbjtcbn07XG5jb25zdCB0YWJsZUxheW91dE9wdGlvbkNhY2hlOiB7XG4gIHJvb3Q6IE5vZGU7XG4gIHRhYmxlTGF5b3V0T3B0aW9uOiBUYWJsZUxheW91dE9wdGlvbjtcbn1bXSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRUYWJsZUxheW91dE9wdGlvbihcbiAgdGFibGVSb290U291cmNlTm9kZTogTm9kZSxcbik6IFRhYmxlTGF5b3V0T3B0aW9uIHwgbnVsbCB7XG4gIGNvbnN0IGkgPSB0YWJsZUxheW91dE9wdGlvbkNhY2hlLmZpbmRJbmRleChcbiAgICAoYykgPT4gYy5yb290ID09PSB0YWJsZVJvb3RTb3VyY2VOb2RlLFxuICApO1xuICBjb25zdCBwYWlyID0gdGFibGVMYXlvdXRPcHRpb25DYWNoZVtpXTtcbiAgcmV0dXJuIHBhaXIgPyBwYWlyLnRhYmxlTGF5b3V0T3B0aW9uIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gY2xlYXJUYWJsZUxheW91dE9wdGlvbkNhY2hlKHRhYmxlUm9vdFNvdXJjZU5vZGU6IE5vZGUpOiB2b2lkIHtcbiAgY29uc3QgaSA9IHRhYmxlTGF5b3V0T3B0aW9uQ2FjaGUuZmluZEluZGV4KFxuICAgIChjKSA9PiBjLnJvb3QgPT09IHRhYmxlUm9vdFNvdXJjZU5vZGUsXG4gICk7XG4gIGlmIChpID49IDApIHtcbiAgICB0YWJsZUxheW91dE9wdGlvbkNhY2hlLnNwbGljZShpLCAxKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGFibGVMYXlvdXRQcm9jZXNzb3IgaW1wbGVtZW50cyBMYXlvdXRQcm9jZXNzb3IuTGF5b3V0UHJvY2Vzc29yIHtcbiAgcHJpdmF0ZSBsYXlvdXRFbnRpcmVUYWJsZShcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0VGFibGVGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3Qgc3RyYXRlZ3kgPSBuZXcgRW50aXJlVGFibGVMYXlvdXRTdHJhdGVneShmb3JtYXR0aW5nQ29udGV4dCwgY29sdW1uKTtcbiAgICBjb25zdCBpdGVyYXRvciA9IG5ldyBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yKFxuICAgICAgc3RyYXRlZ3ksXG4gICAgICBjb2x1bW4ubGF5b3V0Q29udGV4dCxcbiAgICApO1xuICAgIHJldHVybiBpdGVyYXRvci5pdGVyYXRlKG5vZGVDb250ZXh0KTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q29sdW1uV2lkdGhzKFxuICAgIGxhc3RSb3c6IEVsZW1lbnQsXG4gICAgY29sdW1uQ291bnQ6IG51bWJlcixcbiAgICB2ZXJ0aWNhbDogYm9vbGVhbixcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgKTogbnVtYmVyW10ge1xuICAgIGNvbnN0IGRvYyA9IGxhc3RSb3cub3duZXJEb2N1bWVudDtcbiAgICBjb25zdCBkdW1teVJvdyA9IGRvYy5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgY29uc3QgZHVtbXlDZWxscyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sdW1uQ291bnQ7IGkrKykge1xuICAgICAgY29uc3QgY2VsbCA9IGRvYy5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICBkdW1teVJvdy5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgIGR1bW15Q2VsbHMucHVzaChjZWxsKTtcbiAgICB9XG4gICAgbGFzdFJvdy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkdW1teVJvdywgbGFzdFJvdy5uZXh0U2libGluZyk7XG4gICAgY29uc3QgY29sV2lkdGhzID0gZHVtbXlDZWxscy5tYXAoKGNlbGwpID0+IHtcbiAgICAgIGNvbnN0IHJlY3QgPSBjbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3QoY2VsbCk7XG4gICAgICByZXR1cm4gdmVydGljYWwgPyByZWN0W1wiaGVpZ2h0XCJdIDogcmVjdFtcIndpZHRoXCJdO1xuICAgIH0pO1xuICAgIGxhc3RSb3cucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkdW1teVJvdyk7XG4gICAgcmV0dXJuIGNvbFdpZHRocztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q29sR3JvdXBFbGVtZW50cyh0YWJsZUVsZW1lbnQ6IEVsZW1lbnQpOiBFbGVtZW50W10ge1xuICAgIGNvbnN0IGNvbEdyb3VwcyA9IFtdO1xuICAgIGxldCBjaGlsZCA9IHRhYmxlRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICB3aGlsZSAoY2hpbGQpIHtcbiAgICAgIGlmIChjaGlsZC5sb2NhbE5hbWUgPT09IFwiY29sZ3JvdXBcIikge1xuICAgICAgICBjb2xHcm91cHMucHVzaChjaGlsZCk7XG4gICAgICB9XG4gICAgICBjaGlsZCA9IGNoaWxkLm5leHRFbGVtZW50U2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIGNvbEdyb3VwcztcbiAgfVxuXG4gIHByaXZhdGUgbm9ybWFsaXplQW5kR2V0Q29sRWxlbWVudHMoY29sR3JvdXBzOiBFbGVtZW50W10pOiBFbGVtZW50W10ge1xuICAgIGNvbnN0IGNvbHMgPSBbXTtcbiAgICBjb2xHcm91cHMuZm9yRWFjaCgoY29sR3JvdXApID0+IHtcbiAgICAgIC8vIFJlcGxhY2UgY29sZ3JvdXBbc3Bhbj1uXSB3aXRoIGNvbGdyb3VwIHdpdGggbiBjb2wgZWxlbWVudHNcbiAgICAgIGxldCBzcGFuID0gKGNvbEdyb3VwIGFzIGFueSkuc3BhbjtcbiAgICAgIGNvbEdyb3VwLnJlbW92ZUF0dHJpYnV0ZShcInNwYW5cIik7XG4gICAgICBsZXQgY29sID0gY29sR3JvdXAuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICB3aGlsZSAoY29sKSB7XG4gICAgICAgIGlmIChjb2wubG9jYWxOYW1lID09PSBcImNvbFwiKSB7XG4gICAgICAgICAgLy8gUmVwbGFjZSBjb2xbc3Bhbj1uXSB3aXRoIG4gY29sIGVsZW1lbnRzXG4gICAgICAgICAgbGV0IHMgPSAoY29sIGFzIGFueSkuc3BhbjtcbiAgICAgICAgICBjb2wucmVtb3ZlQXR0cmlidXRlKFwic3BhblwiKTtcbiAgICAgICAgICBzcGFuIC09IHM7XG4gICAgICAgICAgd2hpbGUgKHMtLSA+IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lZCA9IGNvbC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgICBjb2xHcm91cC5pbnNlcnRCZWZvcmUoY2xvbmVkLCBjb2wpO1xuICAgICAgICAgICAgY29scy5wdXNoKGNsb25lZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbHMucHVzaChjb2wpO1xuICAgICAgICB9XG4gICAgICAgIGNvbCA9IGNvbC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICB9XG4gICAgICB3aGlsZSAoc3Bhbi0tID4gMCkge1xuICAgICAgICBjb2wgPSBjb2xHcm91cC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjb2xcIik7XG4gICAgICAgIGNvbEdyb3VwLmFwcGVuZENoaWxkKGNvbCk7XG4gICAgICAgIGNvbHMucHVzaChjb2wpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjb2xzO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRNaXNzaW5nQ29sRWxlbWVudHMoXG4gICAgY29sczogRWxlbWVudFtdLFxuICAgIGNvbEdyb3VwczogRWxlbWVudFtdLFxuICAgIGNvbHVtbkNvdW50OiBudW1iZXIsXG4gICAgdGFibGVFbGVtZW50OiBFbGVtZW50LFxuICApIHtcbiAgICBpZiAoY29scy5sZW5ndGggPCBjb2x1bW5Db3VudCkge1xuICAgICAgY29uc3QgY29sR3JvdXAgPSB0YWJsZUVsZW1lbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY29sZ3JvdXBcIik7XG4gICAgICBjb2xHcm91cHMucHVzaChjb2xHcm91cCk7XG4gICAgICBmb3IgKGxldCBpID0gY29scy5sZW5ndGg7IGkgPCBjb2x1bW5Db3VudDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNvbCA9IHRhYmxlRWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjb2xcIik7XG4gICAgICAgIGNvbEdyb3VwLmFwcGVuZENoaWxkKGNvbCk7XG4gICAgICAgIGNvbHMucHVzaChjb2wpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNZWFzdXJlIHdpZHRoIG9mIGNvbHVtbnMgYW5kIG5vcm1hbGl6ZSBjb2xncm91cCBhbmQgY29sIGVsZW1lbnRzIHNvIHRoYXRcbiAgICogZWFjaCBjb2x1bW4gaGFzIGEgY29ycmVzcG9uZGluZyBjb2wgZWxlbWVudCB3aXRoIHRoZSB3aWR0aCBzcGVjaWZpZWQuXG4gICAqL1xuICBub3JtYWxpemVDb2xHcm91cHMoXG4gICAgZm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgdGFibGVFbGVtZW50OiBFbGVtZW50LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKSB7XG4gICAgY29uc3QgdmVydGljYWwgPSBmb3JtYXR0aW5nQ29udGV4dC52ZXJ0aWNhbDtcbiAgICBjb25zdCBsYXN0Um93ID0gZm9ybWF0dGluZ0NvbnRleHQubGFzdFJvd1ZpZXdOb2RlO1xuICAgIGlmICghbGFzdFJvdykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBBc3NlcnRzLmFzc2VydChsYXN0Um93KTtcbiAgICBmb3JtYXR0aW5nQ29udGV4dC5sYXN0Um93Vmlld05vZGUgPSBudWxsO1xuICAgIGNvbnN0IGRvYyA9IGxhc3RSb3cub3duZXJEb2N1bWVudDtcbiAgICBjb25zdCBmcmFnbWVudCA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgICAvLyBDb3VudCBjb2x1bW5zXG4gICAgY29uc3QgY29sdW1uQ291bnQgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRDb2x1bW5Db3VudCgpO1xuICAgIGlmICghKGNvbHVtbkNvdW50ID4gMCkpIHtcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmNvbEdyb3VwcyA9IGZyYWdtZW50O1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE1lYXN1cmUgY29sdW1uIHdpZHRoc1xuICAgIGNvbnN0IGNvbFdpZHRocyA9IChmb3JtYXR0aW5nQ29udGV4dC5jb2xXaWR0aHMgPSB0aGlzLmdldENvbHVtbldpZHRocyhcbiAgICAgIGxhc3RSb3csXG4gICAgICBjb2x1bW5Db3VudCxcbiAgICAgIHZlcnRpY2FsLFxuICAgICAgY29sdW1uLmNsaWVudExheW91dCxcbiAgICApKTtcblxuICAgIC8vIE5vcm1hbGl6ZSBjb2xncm91cCBhbmQgY29sIGVsZW1lbnRzXG4gICAgY29uc3QgY29sR3JvdXBzID0gdGhpcy5nZXRDb2xHcm91cEVsZW1lbnRzKHRhYmxlRWxlbWVudCk7XG4gICAgY29uc3QgY29scyA9IHRoaXMubm9ybWFsaXplQW5kR2V0Q29sRWxlbWVudHMoY29sR3JvdXBzKTtcblxuICAgIC8vIEFkZCBtaXNzaW5nIGNvbCBlbGVtZW50cyBmb3IgcmVtYWluaW5nIGNvbHVtbnNcbiAgICB0aGlzLmFkZE1pc3NpbmdDb2xFbGVtZW50cyhjb2xzLCBjb2xHcm91cHMsIGNvbHVtbkNvdW50LCB0YWJsZUVsZW1lbnQpO1xuXG4gICAgLy8gQXNzaWduIHdpZHRoIHRvIGNvbCBlbGVtZW50c1xuICAgIGNvbHMuZm9yRWFjaCgoY29sLCBpKSA9PiB7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICBjb2wsXG4gICAgICAgIHZlcnRpY2FsID8gXCJoZWlnaHRcIiA6IFwid2lkdGhcIixcbiAgICAgICAgYCR7Y29sV2lkdGhzW2ldfXB4YCxcbiAgICAgICk7XG4gICAgfSk7XG4gICAgY29sR3JvdXBzLmZvckVhY2goKGNvbEdyb3VwKSA9PiB7XG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChjb2xHcm91cC5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgIH0pO1xuICAgIGZvcm1hdHRpbmdDb250ZXh0LmNvbEdyb3VwcyA9IGZyYWdtZW50O1xuICB9XG5cbiAgZG9Jbml0aWFsTGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRUYWJsZUZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBmb3JtYXR0aW5nQ29udGV4dC52ZXJ0aWNhbCA9IG5vZGVDb250ZXh0LnZlcnRpY2FsO1xuICAgIGZvcm1hdHRpbmdDb250ZXh0LmluaXRpYWxpemVSZXBldGl0aXZlRWxlbWVudHMobm9kZUNvbnRleHQudmVydGljYWwpO1xuICAgIEFzc2VydHMuYXNzZXJ0KG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpO1xuICAgIGNvbnN0IHRhYmxlTGF5b3V0T3B0aW9uID0gZ2V0VGFibGVMYXlvdXRPcHRpb24obm9kZUNvbnRleHQuc291cmNlTm9kZSk7XG4gICAgY2xlYXJUYWJsZUxheW91dE9wdGlvbkNhY2hlKG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpO1xuICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4oXG4gICAgICBcIlRhYmxlTGF5b3V0UHJvY2Vzc29yLmRvSW5pdGlhbExheW91dFwiLFxuICAgICk7XG4gICAgY29uc3QgaW5pdGlhbE5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQuY29weSgpO1xuICAgIHRoaXMubGF5b3V0RW50aXJlVGFibGUobm9kZUNvbnRleHQsIGNvbHVtbikudGhlbigobm9kZUNvbnRleHRBZnRlcikgPT4ge1xuICAgICAgY29uc3QgdGFibGVFbGVtZW50ID0gbm9kZUNvbnRleHRBZnRlci52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICAgICAgY29uc3QgdGFibGVCQm94ID0gY29sdW1uLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdCh0YWJsZUVsZW1lbnQpO1xuICAgICAgbGV0IGVkZ2UgPSBjb2x1bW4udmVydGljYWwgPyB0YWJsZUJCb3gubGVmdCA6IHRhYmxlQkJveC5ib3R0b207XG4gICAgICBlZGdlICs9XG4gICAgICAgIChjb2x1bW4udmVydGljYWwgPyAtMSA6IDEpICpcbiAgICAgICAgQnJlYWtQb3NpdGlvbi5jYWxjdWxhdGVPZmZzZXQoXG4gICAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgICAgY29sdW1uLmNvbGxlY3RFbGVtZW50c09mZnNldCgpLFxuICAgICAgICApLmN1cnJlbnQ7XG4gICAgICBpZiAoXG4gICAgICAgICFjb2x1bW4uaXNPdmVyZmxvd24oZWRnZSkgJiZcbiAgICAgICAgKCF0YWJsZUxheW91dE9wdGlvbiB8fCAhdGFibGVMYXlvdXRPcHRpb24uY2FsY3VsYXRlQnJlYWtQb3NpdGlvbnNJbnNpZGUpXG4gICAgICApIHtcbiAgICAgICAgY29sdW1uLmJyZWFrUG9zaXRpb25zLnB1c2goXG4gICAgICAgICAgbmV3IEVudGlyZVRhYmxlQnJlYWtQb3NpdGlvbihpbml0aWFsTm9kZUNvbnRleHQpLFxuICAgICAgICApO1xuICAgICAgICBmcmFtZS5maW5pc2gobm9kZUNvbnRleHRBZnRlcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMubm9ybWFsaXplQ29sR3JvdXBzKGZvcm1hdHRpbmdDb250ZXh0LCB0YWJsZUVsZW1lbnQsIGNvbHVtbik7XG4gICAgICBmb3JtYXR0aW5nQ29udGV4dC51cGRhdGVDZWxsU2l6ZXMoY29sdW1uLmNsaWVudExheW91dCk7XG4gICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgYWRkQ2FwdGlvbnMoXG4gICAgZm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcm9vdFZpZXdOb2RlOiBFbGVtZW50LFxuICAgIGZpcnN0Q2hpbGQ6IE5vZGUgfCBudWxsLFxuICApIHtcbiAgICBjb25zdCBjYXB0aW9ucyA9IGZvcm1hdHRpbmdDb250ZXh0LmNhcHRpb25zO1xuICAgIGNhcHRpb25zLmZvckVhY2goKGNhcHRpb24sIGkpID0+IHtcbiAgICAgIGlmIChjYXB0aW9uKSB7XG4gICAgICAgIHJvb3RWaWV3Tm9kZS5pbnNlcnRCZWZvcmUoY2FwdGlvbi52aWV3Tm9kZSwgZmlyc3RDaGlsZCk7XG4gICAgICAgIGlmIChjYXB0aW9uLnNpZGUgPT09IFwidG9wXCIpIHtcbiAgICAgICAgICBjYXB0aW9uc1tpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGFkZENvbEdyb3VwcyhcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgICByb290Vmlld05vZGU6IEVsZW1lbnQsXG4gICAgZmlyc3RDaGlsZDogTm9kZSB8IG51bGwsXG4gICkge1xuICAgIGlmIChcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmNvbEdyb3VwcyAmJlxuICAgICAgdGhpcy5nZXRDb2xHcm91cEVsZW1lbnRzKHJvb3RWaWV3Tm9kZSkubGVuZ3RoID09PSAwXG4gICAgKSB7XG4gICAgICByb290Vmlld05vZGUuaW5zZXJ0QmVmb3JlKFxuICAgICAgICBmb3JtYXR0aW5nQ29udGV4dC5jb2xHcm91cHMuY2xvbmVOb2RlKHRydWUpLFxuICAgICAgICBmaXJzdENoaWxkLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZW1vdmVDb2xHcm91cHMoXG4gICAgZm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcm9vdFZpZXdOb2RlOiBFbGVtZW50LFxuICApIHtcbiAgICBpZiAoZm9ybWF0dGluZ0NvbnRleHQuY29sR3JvdXBzICYmIHJvb3RWaWV3Tm9kZSkge1xuICAgICAgY29uc3QgY29sR3JvdXBzID0gdGhpcy5nZXRDb2xHcm91cEVsZW1lbnRzKHJvb3RWaWV3Tm9kZSk7XG4gICAgICBpZiAoY29sR3JvdXBzKSB7XG4gICAgICAgIGNvbEdyb3Vwcy5mb3JFYWNoKChjb2xHcm91cCkgPT4ge1xuICAgICAgICAgIHJvb3RWaWV3Tm9kZS5yZW1vdmVDaGlsZChjb2xHcm91cCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGRvTGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRUYWJsZUZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCByb290Vmlld05vZGUgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRSb290Vmlld05vZGUoXG4gICAgICBub2RlQ29udGV4dCxcbiAgICApIGFzIEVsZW1lbnQ7XG4gICAgY29uc3QgZmlyc3RDaGlsZCA9IHJvb3RWaWV3Tm9kZS5maXJzdENoaWxkO1xuICAgIHRoaXMuYWRkQ2FwdGlvbnMoZm9ybWF0dGluZ0NvbnRleHQsIHJvb3RWaWV3Tm9kZSwgZmlyc3RDaGlsZCk7XG4gICAgdGhpcy5hZGRDb2xHcm91cHMoZm9ybWF0dGluZ0NvbnRleHQsIHJvb3RWaWV3Tm9kZSwgZmlyc3RDaGlsZCk7XG4gICAgY29uc3Qgc3RyYXRlZ3kgPSBuZXcgVGFibGVMYXlvdXRTdHJhdGVneShmb3JtYXR0aW5nQ29udGV4dCwgY29sdW1uKTtcbiAgICBjb25zdCBpdGVyYXRvciA9IG5ldyBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yKFxuICAgICAgc3RyYXRlZ3ksXG4gICAgICBjb2x1bW4ubGF5b3V0Q29udGV4dCxcbiAgICApO1xuICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4oXG4gICAgICBcIlRhYmxlRm9ybWF0dGluZ0NvbnRleHQuZG9MYXlvdXRcIixcbiAgICApO1xuICAgIGl0ZXJhdG9yLml0ZXJhdGUobm9kZUNvbnRleHQpLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0VGFibGVGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3Qgcm9vdFZpZXdOb2RlID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0Um9vdFZpZXdOb2RlKG5vZGVDb250ZXh0KTtcbiAgICBpZiAoIXJvb3RWaWV3Tm9kZSkge1xuICAgICAgcmV0dXJuIGNvbHVtbi5idWlsZERlZXBFbGVtZW50Vmlldyhub2RlQ29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChsZWFkaW5nRWRnZSkge1xuICAgICAgICBSZXBldGl0aXZlRWxlbWVudEltcGwuYXBwZW5kSGVhZGVyVG9BbmNlc3RvcnMoXG4gICAgICAgICAgbm9kZUNvbnRleHQucGFyZW50LFxuICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgTGF5b3V0UmV0cnllcihmb3JtYXR0aW5nQ29udGV4dCwgdGhpcykubGF5b3V0KFxuICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgY29sdW1uLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjcmVhdGVFZGdlQnJlYWtQb3NpdGlvbihcbiAgICBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgYnJlYWtPbkVkZ2U6IHN0cmluZyB8IG51bGwsXG4gICAgb3ZlcmZsb3dzOiBib29sZWFuLFxuICAgIGNvbHVtbkJsb2NrU2l6ZTogbnVtYmVyLFxuICApOiBMYXlvdXRUeXBlLkJyZWFrUG9zaXRpb24ge1xuICAgIHJldHVybiBuZXcgQmV0d2VlblRhYmxlUm93QnJlYWtQb3NpdGlvbihcbiAgICAgIHBvc2l0aW9uLFxuICAgICAgYnJlYWtPbkVkZ2UsXG4gICAgICBvdmVyZmxvd3MsXG4gICAgICBjb2x1bW5CbG9ja1NpemUsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Tm9uSW5saW5lRWxlbWVudE5vZGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWZ0ZXJOb25JbmxpbmVFbGVtZW50Tm9kZShcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgc3RvcEF0T3ZlcmZsb3c6IGJvb2xlYW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZpbmlzaEJyZWFrKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgZm9yY2VSZW1vdmVTZWxmOiBib29sZWFuLFxuICAgIGVuZE9mQ29sdW1uOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRUYWJsZUZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBpZiAobm9kZUNvbnRleHQuZGlzcGxheSA9PT0gXCJ0YWJsZS1yb3dcIikge1xuICAgICAgQXNzZXJ0cy5hc3NlcnQobm9kZUNvbnRleHQuc291cmNlTm9kZSk7XG4gICAgICBjb25zdCByb3dJbmRleCA9IGZvcm1hdHRpbmdDb250ZXh0LmZpbmRSb3dJbmRleEJ5U291cmNlTm9kZShcbiAgICAgICAgbm9kZUNvbnRleHQuc291cmNlTm9kZSxcbiAgICAgICk7XG4gICAgICBmb3JtYXR0aW5nQ29udGV4dC5jZWxsQnJlYWtQb3NpdGlvbnMgPSBbXTtcbiAgICAgIGxldCBjZWxsczogVGFibGVDZWxsW107XG4gICAgICBpZiAoIW5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICAgIGNlbGxzID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0Q2VsbHNGYWxsaW5nT25Sb3cocm93SW5kZXgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2VsbHMgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRSb3dTcGFubmluZ0NlbGxzT3ZlcmZsb3dpbmdUaGVSb3coXG4gICAgICAgICAgcm93SW5kZXgsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoY2VsbHMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxib29sZWFuPihcbiAgICAgICAgICBcIlRhYmxlTGF5b3V0UHJvY2Vzc29yLmZpbmlzaEJyZWFrXCIsXG4gICAgICAgICk7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZnJhbWVcbiAgICAgICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gY2VsbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2VsbCA9IGNlbGxzW2krK107XG4gICAgICAgICAgICBjb25zdCBjZWxsRnJhZ21lbnQgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRDZWxsRnJhZ21lbnRPZkNlbGwoY2VsbCk7XG4gICAgICAgICAgICBjb25zdCBicmVha05vZGVDb250ZXh0ID0gY2VsbEZyYWdtZW50LmZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbigpXG4gICAgICAgICAgICAgIC5ub2RlQ29udGV4dDtcbiAgICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KGJyZWFrTm9kZUNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgY2VsbE5vZGVDb250ZXh0ID0gY2VsbEZyYWdtZW50LmNlbGxOb2RlQ29udGV4dDtcbiAgICAgICAgICAgIGNvbnN0IGNlbGxOb2RlUG9zaXRpb24gPSBjZWxsTm9kZUNvbnRleHQudG9Ob2RlUG9zaXRpb24oKTtcbiAgICAgICAgICAgIGNvbnN0IGJyZWFrQ2h1bmtQb3NpdGlvbiA9IG5ldyBWdHJlZUltcGwuQ2h1bmtQb3NpdGlvbihcbiAgICAgICAgICAgICAgYnJlYWtOb2RlQ29udGV4dC50b05vZGVQb3NpdGlvbigpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmNlbGxCcmVha1Bvc2l0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgY2VsbE5vZGVQb3NpdGlvbixcbiAgICAgICAgICAgICAgYnJlYWtDaHVua1Bvc2l0aW9uLFxuICAgICAgICAgICAgICBjZWxsLFxuICAgICAgICAgICAgfSBhcyBCcm9rZW5UYWJsZUNlbGxQb3NpdGlvbik7XG4gICAgICAgICAgICBjb25zdCBjZWxsVmlld05vZGUgPSBjZWxsTm9kZUNvbnRleHQudmlld05vZGUgYXMgSFRNTFRhYmxlQ2VsbEVsZW1lbnQ7XG4gICAgICAgICAgICBjZWxsRnJhZ21lbnQuY29sdW1uLmxheW91dENvbnRleHQucHJvY2Vzc0ZyYWdtZW50ZWRCbG9ja0VkZ2UoXG4gICAgICAgICAgICAgIGNlbGxGcmFnbWVudC5jZWxsTm9kZUNvbnRleHQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHJvd0luZGV4IDwgY2VsbC5yb3dJbmRleCArIGNlbGwucm93U3BhbiAtIDEpIHtcbiAgICAgICAgICAgICAgY2VsbFZpZXdOb2RlLnJvd1NwYW4gPSByb3dJbmRleCAtIGNlbGwucm93SW5kZXggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjZWxsRnJhZ21lbnQuZW1wdHkpIHtcbiAgICAgICAgICAgICAgY2VsbEZyYWdtZW50LnBzZXVkb0NvbHVtblxuICAgICAgICAgICAgICAgIC5maW5pc2hCcmVhayhicmVha05vZGVDb250ZXh0LCBmYWxzZSwgdHJ1ZSlcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBBc3NlcnRzLmFzc2VydChjZWxsRnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgYWRqdXN0Q2VsbEhlaWdodChcbiAgICAgICAgICAgICAgICAgICAgY2VsbEZyYWdtZW50LFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtOb2RlQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjb2x1bW4uY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMobm9kZUNvbnRleHQsIGZhbHNlKTtcbiAgICAgICAgICAgIGNvbHVtbi5sYXlvdXRDb250ZXh0LnByb2Nlc3NGcmFnbWVudGVkQmxvY2tFZGdlKG5vZGVDb250ZXh0KTtcbiAgICAgICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmZpbmlzaEZyYWdtZW50KCk7XG4gICAgICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9ybWF0dGluZ0NvbnRleHQuZmluaXNoRnJhZ21lbnQoKTtcbiAgICByZXR1cm4gTGF5b3V0UHJvY2Vzc29yLmJsb2NrTGF5b3V0UHJvY2Vzc29yLmZpbmlzaEJyZWFrKFxuICAgICAgY29sdW1uLFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICBmb3JjZVJlbW92ZVNlbGYsXG4gICAgICBlbmRPZkNvbHVtbixcbiAgICApO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBjbGVhck92ZXJmbG93blZpZXdOb2RlcyhcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgcGFyZW50Tm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICByZW1vdmVTZWxmOiBib29sZWFuLFxuICApIHtcbiAgICBMYXlvdXRQcm9jZXNzb3IuQmxvY2tMYXlvdXRQcm9jZXNzb3IucHJvdG90eXBlLmNsZWFyT3ZlcmZsb3duVmlld05vZGVzKFxuICAgICAgY29sdW1uLFxuICAgICAgcGFyZW50Tm9kZUNvbnRleHQsXG4gICAgICBub2RlQ29udGV4dCxcbiAgICAgIHJlbW92ZVNlbGYsXG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhZGp1c3RDZWxsSGVpZ2h0KFxuICBjZWxsRnJhZ21lbnQ6IFRhYmxlQ2VsbEZyYWdtZW50LFxuICBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgYnJlYWtOb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4pOiB2b2lkIHtcbiAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHZlcnRpY2FsID0gZm9ybWF0dGluZ0NvbnRleHQudmVydGljYWw7XG4gIGNvbnN0IGNvbHVtbiA9IGNlbGxGcmFnbWVudC5jb2x1bW47XG4gIGNvbnN0IGNlbGxDb250ZW50RWxlbWVudCA9IGNlbGxGcmFnbWVudC5wc2V1ZG9Db2x1bW4uZ2V0Q29sdW1uRWxlbWVudCgpO1xuICBjb25zdCBjZWxsRWxlbWVudCA9IGNlbGxGcmFnbWVudC5jZWxsTm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudDtcbiAgY29uc3QgY2VsbEVsZW1lbnRSZWN0ID0gY29sdW1uLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChjZWxsRWxlbWVudCk7XG4gIGNvbnN0IHBhZGRpbmcgPSBjb2x1bW4uZ2V0Q29tcHV0ZWRQYWRkaW5nQm9yZGVyKGNlbGxFbGVtZW50KTtcbiAgaWYgKHZlcnRpY2FsKSB7XG4gICAgY29uc3Qgd2lkdGggPVxuICAgICAgY2VsbEVsZW1lbnRSZWN0LnJpZ2h0IC1cbiAgICAgIGNvbHVtbi5mb290bm90ZUVkZ2UgLVxuICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLmNhbGN1bGF0ZU9mZnNldChicmVha05vZGVDb250ZXh0KSAtXG4gICAgICBwYWRkaW5nLnJpZ2h0O1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY2VsbENvbnRlbnRFbGVtZW50LCBcIm1heC13aWR0aFwiLCBgJHt3aWR0aH1weGApO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGhlaWdodCA9XG4gICAgICBjb2x1bW4uZm9vdG5vdGVFZGdlIC1cbiAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5jYWxjdWxhdGVPZmZzZXQoYnJlYWtOb2RlQ29udGV4dCkgLVxuICAgICAgY2VsbEVsZW1lbnRSZWN0LnRvcCAtXG4gICAgICBwYWRkaW5nLnRvcDtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNlbGxDb250ZW50RWxlbWVudCwgXCJtYXgtaGVpZ2h0XCIsIGAke2hlaWdodH1weGApO1xuICB9XG4gIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY2VsbENvbnRlbnRFbGVtZW50LCBcIm92ZXJmbG93XCIsIFwiaGlkZGVuXCIpO1xufVxuXG5leHBvcnQgY2xhc3MgTGF5b3V0UmV0cnllciBleHRlbmRzIExheW91dFJldHJ5ZXJzLkFic3RyYWN0TGF5b3V0UmV0cnllciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgdGFibGVGb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwcml2YXRlIHJlYWRvbmx5IHByb2Nlc3NvcjogVGFibGVMYXlvdXRQcm9jZXNzb3IsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICByZXNvbHZlTGF5b3V0TW9kZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBMYXlvdXRUeXBlLkxheW91dE1vZGUge1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IHRoaXMudGFibGVGb3JtYXR0aW5nQ29udGV4dC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cyB8fCAhcmVwZXRpdGl2ZUVsZW1lbnRzLmRvbmVJbml0aWFsTGF5b3V0KSB7XG4gICAgICByZXR1cm4gbmV3IExheW91dEVudGlyZVRhYmxlKHRoaXMudGFibGVGb3JtYXR0aW5nQ29udGV4dCwgdGhpcy5wcm9jZXNzb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoXG4gICAgICAgIG5vZGVDb250ZXh0LnNvdXJjZU5vZGUgPT09XG4gICAgICAgICAgdGhpcy50YWJsZUZvcm1hdHRpbmdDb250ZXh0LnRhYmxlU291cmNlTm9kZSAmJlxuICAgICAgICAhbm9kZUNvbnRleHQuYWZ0ZXJcbiAgICAgICkge1xuICAgICAgICBpZiAocmVwZXRpdGl2ZUVsZW1lbnRzKSB7XG4gICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnByZXZlbnRTa2lwcGluZ0hlYWRlcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IExheW91dEZyYWdtZW50ZWRUYWJsZShcbiAgICAgICAgdGhpcy50YWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgICB0aGlzLnByb2Nlc3NvcixcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xlYXJOb2Rlcyhpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0KSB7XG4gICAgc3VwZXIuY2xlYXJOb2Rlcyhpbml0aWFsUG9zaXRpb24pO1xuICAgIGNvbnN0IHJvb3RWaWV3Tm9kZSA9IHRoaXMudGFibGVGb3JtYXR0aW5nQ29udGV4dC5nZXRSb290Vmlld05vZGUoXG4gICAgICBpbml0aWFsUG9zaXRpb24sXG4gICAgKTtcbiAgICB0aGlzLnByb2Nlc3Nvci5yZW1vdmVDb2xHcm91cHModGhpcy50YWJsZUZvcm1hdHRpbmdDb250ZXh0LCByb290Vmlld05vZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcmVzdG9yZVN0YXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXQuQ29sdW1uKSB7XG4gICAgc3VwZXIucmVzdG9yZVN0YXRlKG5vZGVDb250ZXh0LCBjb2x1bW4pO1xuICAgIHRoaXMudGFibGVGb3JtYXR0aW5nQ29udGV4dC5maW5pc2hGcmFnbWVudCgpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMYXlvdXRFbnRpcmVUYWJsZSBleHRlbmRzIFJlcGV0aXRpdmVFbGVtZW50SW1wbC5MYXlvdXRFbnRpcmVCbG9jayB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSBwcm9jZXNzb3I6IFRhYmxlTGF5b3V0UHJvY2Vzc29yLFxuICApIHtcbiAgICBzdXBlcihmb3JtYXR0aW5nQ29udGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBkb0xheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIHJldHVybiB0aGlzLnByb2Nlc3Nvci5kb0luaXRpYWxMYXlvdXQobm9kZUNvbnRleHQsIGNvbHVtbik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVudGlyZVRhYmxlQnJlYWtQb3NpdGlvbiBleHRlbmRzIEJyZWFrUG9zaXRpb24uRWRnZUJyZWFrUG9zaXRpb24ge1xuICBjb25zdHJ1Y3Rvcih0YWJsZU5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCkge1xuICAgIHN1cGVyKHRhYmxlTm9kZUNvbnRleHQsIG51bGwsIHRhYmxlTm9kZUNvbnRleHQub3ZlcmZsb3csIDApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0TWluQnJlYWtQZW5hbHR5KCk6IG51bWJlciB7XG4gICAgaWYgKCF0aGlzLmlzRWRnZVVwZGF0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVkZ2VCcmVha1Bvc2l0aW9uLnByb3RvdHlwZS51cGRhdGVFZGdlIG5vdCBjYWxsZWRcIik7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICAodGhpcy5vdmVyZmxvd3MgPyAzIDogMCkgK1xuICAgICAgKHRoaXMucG9zaXRpb24ucGFyZW50ID8gdGhpcy5wb3NpdGlvbi5wYXJlbnQuYnJlYWtQZW5hbHR5IDogMClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYnJlYWtQb3NpdGlvbkNob3Nlbihjb2x1bW46IExheW91dC5Db2x1bW4pOiB2b2lkIHtcbiAgICBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5wdXNoKFxuICAgICAgbmV3IEVudGlyZVRhYmxlTGF5b3V0Q29uc3RyYWludCh0aGlzLnBvc2l0aW9uLnNvdXJjZU5vZGUpLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVudGlyZVRhYmxlTGF5b3V0Q29uc3RyYWludFxuICBpbXBsZW1lbnRzIExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnQge1xuICBmbGFnbWVudExheW91dENvbnN0cmFpbnRUeXBlOiBGcmFnbWVudExheW91dENvbnN0cmFpbnRUeXBlID0gXCJFbnRpcmVUYWJsZVwiO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB0YWJsZVJvb3ROb2RlOiBOb2RlKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFsbG93TGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBvdmVyZmxvd25Ob2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBib29sZWFuIHtcbiAgICAvLyBJZiB0aGUgbm9kZUNvbnRleHQgb3ZlcmZsb3dzLCBhbnkgRW50aXJlVGFibGVMYXlvdXRDb25zdHJhaW50IHNob3VsZCBub3RcbiAgICAvLyBiZSByZWdpc3RlcmVkIGluIHRoZSBmaXJzdCBwbGFjZS4gU2VlXG4gICAgLy8gVGFibGVMYXlvdXRQcm9jZXNzb3IucHJvdG90eXBlLmRvSW5pdGlhbExheW91dC5cbiAgICBBc3NlcnRzLmFzc2VydCghbm9kZUNvbnRleHQub3ZlcmZsb3cpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG5leHRDYW5kaWRhdGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwb3N0TGF5b3V0KFxuICAgIGFsbG93ZWQ6IGJvb2xlYW4sXG4gICAgcG9zaXRpb25BZnRlcjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgaW5pdGlhbFBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICkge1xuICAgIEFzc2VydHMuYXNzZXJ0KHBvc2l0aW9uQWZ0ZXIuc291cmNlTm9kZSk7XG4gICAgdGFibGVMYXlvdXRPcHRpb25DYWNoZS5wdXNoKHtcbiAgICAgIHJvb3Q6IHBvc2l0aW9uQWZ0ZXIuc291cmNlTm9kZSxcbiAgICAgIHRhYmxlTGF5b3V0T3B0aW9uOiB7XG4gICAgICAgIGNhbGN1bGF0ZUJyZWFrUG9zaXRpb25zSW5zaWRlOiB0cnVlLFxuICAgICAgfSBhcyBUYWJsZUxheW91dE9wdGlvbixcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZpbmlzaEJyZWFrKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBlcXVhbHNUbyhjb25zdHJhaW50OiBMYXlvdXQuRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIGNvbnN0cmFpbnQgaW5zdGFuY2VvZiBFbnRpcmVUYWJsZUxheW91dENvbnN0cmFpbnQgJiZcbiAgICAgIGNvbnN0cmFpbnQudGFibGVSb290Tm9kZSA9PT0gdGhpcy50YWJsZVJvb3ROb2RlXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5T2ZGaW5pc2hCcmVhaygpOiBudW1iZXIge1xuICAgIHJldHVybiAwO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMYXlvdXRGcmFnbWVudGVkVGFibGUgZXh0ZW5kcyBSZXBldGl0aXZlRWxlbWVudEltcGwuTGF5b3V0RnJhZ21lbnRlZEJsb2NrIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IHByb2Nlc3NvcjogVGFibGVMYXlvdXRQcm9jZXNzb3IsXG4gICkge1xuICAgIHN1cGVyKGZvcm1hdHRpbmdDb250ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRvTGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICBpZiAoXG4gICAgICByZXBldGl0aXZlRWxlbWVudHMgJiZcbiAgICAgICFyZXBldGl0aXZlRWxlbWVudHMuaXNBZnRlckxhc3RDb250ZW50KG5vZGVDb250ZXh0KVxuICAgICkge1xuICAgICAgY29uc3QgY29uc3RyYWludCA9IG5ldyBUYWJsZVJvd0xheW91dENvbnN0cmFpbnQobm9kZUNvbnRleHQpO1xuICAgICAgaWYgKFxuICAgICAgICAhY29sdW1uLmZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMuc29tZSgoYykgPT4gY29uc3RyYWludC5lcXVhbHNUbyhjKSlcbiAgICAgICkge1xuICAgICAgICBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy51bnNoaWZ0KGNvbnN0cmFpbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wcm9jZXNzb3IuZG9MYXlvdXQobm9kZUNvbnRleHQsIGNvbHVtbik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRhYmxlUm93TGF5b3V0Q29uc3RyYWludFxuICBleHRlbmRzIFJlcGV0aXRpdmVFbGVtZW50SW1wbC5SZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnRcbiAgaW1wbGVtZW50cyBUYWJsZS5UYWJsZVJvd0xheW91dENvbnN0cmFpbnQge1xuICBmbGFnbWVudExheW91dENvbnN0cmFpbnRUeXBlOiBGcmFnbWVudExheW91dENvbnN0cmFpbnRUeXBlID0gXCJUYWJsZVJvd1wiO1xuICBjZWxsRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50czoge1xuICAgIGNvbnN0cmFpbnRzOiBMYXlvdXQuRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50W107XG4gICAgYnJlYWtQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQ7XG4gIH1bXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCkge1xuICAgIHN1cGVyKG5vZGVDb250ZXh0KTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWxsb3dMYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IHRoaXMuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoY29sdW1uLnBzZXVkb1BhcmVudCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChMYXlvdXRIZWxwZXIuaXNPcnBoYW4odGhpcy5ub2RlQ29udGV4dC52aWV3Tm9kZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cy5pc0VuYWJsZVRvVXBkYXRlU3RhdGUoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIChvdmVyZmxvd25Ob2RlQ29udGV4dCAmJiAhbm9kZUNvbnRleHQpIHx8XG4gICAgICAobm9kZUNvbnRleHQgJiYgbm9kZUNvbnRleHQub3ZlcmZsb3cpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgbmV4dENhbmRpZGF0ZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IGdldFRhYmxlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICB0aGlzLm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3QgY2VsbEZyYWdtZW50Q29uc3RyYWludHMgPSB0aGlzLmNvbGxlY3RDZWxsRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyhcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBpZiAoXG4gICAgICBjZWxsRnJhZ21lbnRDb25zdHJhaW50cy5zb21lKChlbnRyeSkgPT5cbiAgICAgICAgZW50cnkuY29uc3RyYWludHMuc29tZSgoY29uc3RyYWludCkgPT5cbiAgICAgICAgICBjb25zdHJhaW50Lm5leHRDYW5kaWRhdGUobm9kZUNvbnRleHQpLFxuICAgICAgICApLFxuICAgICAgKVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5uZXh0Q2FuZGlkYXRlKG5vZGVDb250ZXh0KTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcG9zdExheW91dChcbiAgICBhbGxvd2VkOiBib29sZWFuLFxuICAgIHBvc2l0aW9uQWZ0ZXI6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApIHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IGdldFRhYmxlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICB0aGlzLm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgdGhpcy5jZWxsRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyA9IHRoaXMuY29sbGVjdENlbGxGcmFnbWVudExheW91dENvbnN0cmFpbnRzKFxuICAgICAgcG9zaXRpb25BZnRlcixcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgdGhpcy5jZWxsRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgZW50cnkuY29uc3RyYWludHMuZm9yRWFjaCgoY29uc3RyYWludCkgPT4ge1xuICAgICAgICBjb25zdHJhaW50LnBvc3RMYXlvdXQoXG4gICAgICAgICAgYWxsb3dlZCxcbiAgICAgICAgICBlbnRyeS5icmVha1Bvc2l0aW9uLFxuICAgICAgICAgIGluaXRpYWxQb3NpdGlvbixcbiAgICAgICAgICBjb2x1bW4sXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpZiAoIWFsbG93ZWQpIHtcbiAgICAgIGNvbnN0IHJvb3RWaWV3Tm9kZSA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJvb3RWaWV3Tm9kZSh0aGlzLm5vZGVDb250ZXh0KTtcbiAgICAgIG5ldyBUYWJsZUxheW91dFByb2Nlc3NvcigpLnJlbW92ZUNvbEdyb3VwcyhcbiAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICAgIHJvb3RWaWV3Tm9kZSBhcyBFbGVtZW50LFxuICAgICAgKTtcbiAgICAgIHRoaXMucmVtb3ZlRHVtbXlSb3dOb2Rlcyhpbml0aWFsUG9zaXRpb24pO1xuICAgIH1cbiAgICBzdXBlci5wb3N0TGF5b3V0KGFsbG93ZWQsIHBvc2l0aW9uQWZ0ZXIsIGluaXRpYWxQb3NpdGlvbiwgY29sdW1uKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZmluaXNoQnJlYWsoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0VGFibGVGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIHRoaXMubm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJmaW5pc2hCcmVha1wiKTtcbiAgICBjb25zdCBjb25zdHJhaW50cyA9IHRoaXMuY2VsbEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMucmVkdWNlKFxuICAgICAgKGFycmF5LCBlbnRyeSkgPT5cbiAgICAgICAgYXJyYXkuY29uY2F0KFxuICAgICAgICAgIGVudHJ5LmNvbnN0cmFpbnRzLm1hcCgoY29uc3RyYWludCkgPT4gKHtcbiAgICAgICAgICAgIGNvbnN0cmFpbnQsXG4gICAgICAgICAgICBicmVha1Bvc2l0aW9uOiBlbnRyeS5icmVha1Bvc2l0aW9uLFxuICAgICAgICAgIH0pKSxcbiAgICAgICAgKSxcbiAgICAgIFtdLFxuICAgICk7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZyYW1lXG4gICAgICAubG9vcCgoKSA9PiB7XG4gICAgICAgIGlmIChpIDwgY29uc3RyYWludHMubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgZW50cnkgPSBjb25zdHJhaW50c1tpKytdO1xuICAgICAgICAgIHJldHVybiBlbnRyeS5jb25zdHJhaW50XG4gICAgICAgICAgICAuZmluaXNoQnJlYWsoZW50cnkuYnJlYWtQb3NpdGlvbiwgY29sdW1uKVxuICAgICAgICAgICAgLnRoZW5SZXR1cm4odHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lXG4gICAgICAucmVzdWx0KClcbiAgICAgIC50aGVuQXN5bmMoKCkgPT4gc3VwZXIuZmluaXNoQnJlYWsobm9kZUNvbnRleHQsIGNvbHVtbikpO1xuICB9XG5cbiAgcmVtb3ZlRHVtbXlSb3dOb2Rlcyhub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpIHtcbiAgICBpZiAoXG4gICAgICAhbm9kZUNvbnRleHQgfHxcbiAgICAgIG5vZGVDb250ZXh0LmRpc3BsYXkgIT09IFwidGFibGUtcm93XCIgfHxcbiAgICAgICFub2RlQ29udGV4dC52aWV3Tm9kZVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3aGlsZSAoKG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHtcbiAgICAgIGNvbnN0IGR1bW15Tm9kZSA9IChub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50KVxuICAgICAgICAucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgICAgIGlmIChkdW1teU5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICBkdW1teU5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkdW1teU5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY29sbGVjdENlbGxGcmFnbWVudExheW91dENvbnN0cmFpbnRzKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgKToge1xuICAgIGNvbnN0cmFpbnRzOiBMYXlvdXQuRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50W107XG4gICAgYnJlYWtQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQ7XG4gIH1bXSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q2VsbEZyYWdlbW50cyhub2RlQ29udGV4dCwgZm9ybWF0dGluZ0NvbnRleHQpLm1hcChcbiAgICAgIChlbnRyeSkgPT4gKHtcbiAgICAgICAgY29uc3RyYWludHM6IGVudHJ5LmZyYWdtZW50LnBzZXVkb0NvbHVtbi5nZXRDb2x1bW4oKVxuICAgICAgICAgIC5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLFxuICAgICAgICBicmVha1Bvc2l0aW9uOiBlbnRyeS5icmVha1Bvc2l0aW9uLFxuICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q2VsbEZyYWdlbW50cyhcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgZm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gICk6IHsgZnJhZ21lbnQ6IFRhYmxlQ2VsbEZyYWdtZW50OyBicmVha1Bvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCB9W10ge1xuICAgIGxldCByb3dJbmRleCA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgaWYgKG5vZGVDb250ZXh0ICYmIG5vZGVDb250ZXh0LmRpc3BsYXkgPT09IFwidGFibGUtcm93XCIpIHtcbiAgICAgIEFzc2VydHMuYXNzZXJ0KG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpO1xuICAgICAgcm93SW5kZXggPVxuICAgICAgICBmb3JtYXR0aW5nQ29udGV4dC5maW5kUm93SW5kZXhCeVNvdXJjZU5vZGUobm9kZUNvbnRleHQuc291cmNlTm9kZSkgKyAxO1xuICAgIH1cbiAgICByb3dJbmRleCA9IE1hdGgubWluKGZvcm1hdHRpbmdDb250ZXh0LmNlbGxGcmFnbWVudHMubGVuZ3RoLCByb3dJbmRleCk7XG4gICAgY29uc3QgY2VsbEZyYWdtZW50cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93SW5kZXg7IGkrKykge1xuICAgICAgaWYgKCFmb3JtYXR0aW5nQ29udGV4dC5jZWxsRnJhZ21lbnRzW2ldKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgZm9ybWF0dGluZ0NvbnRleHQuY2VsbEZyYWdtZW50c1tpXS5mb3JFYWNoKChjZWxsRnJhZ21lbnQpID0+IHtcbiAgICAgICAgaWYgKCFjZWxsRnJhZ21lbnQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2VsbEZyYWdtZW50cy5wdXNoKHtcbiAgICAgICAgICBmcmFnbWVudDogY2VsbEZyYWdtZW50LFxuICAgICAgICAgIGJyZWFrUG9zaXRpb246IGNlbGxGcmFnbWVudC5maW5kQWNjZXB0YWJsZUJyZWFrUG9zaXRpb24oKS5ub2RlQ29udGV4dCxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGNlbGxGcmFnbWVudHM7XG4gIH1cblxuICBnZXRFbGVtZW50c09mZnNldHNGb3JUYWJsZUNlbGwoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldFtdIHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IGdldFRhYmxlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICB0aGlzLm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3QgcG9zaXRpb24gPSBmb3JtYXR0aW5nQ29udGV4dC5maW5kQ2VsbEZyb21Db2x1bW4oY29sdW1uKTtcbiAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgIHJldHVybiBmb3JtYXR0aW5nQ29udGV4dC5jb2xsZWN0RWxlbWVudHNPZmZzZXRPZlVwcGVyQ2VsbHMocG9zaXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZm9ybWF0dGluZ0NvbnRleHQuY29sbGVjdEVsZW1lbnRzT2Zmc2V0T2ZIaWdoZXN0Q29sdW1uKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBlcXVhbHNUbyhjb25zdHJhaW50OiBMYXlvdXQuRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50KTogYm9vbGVhbiB7XG4gICAgaWYgKCEoY29uc3RyYWludCBpbnN0YW5jZW9mIFRhYmxlUm93TGF5b3V0Q29uc3RyYWludCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIGdldFRhYmxlRm9ybWF0dGluZ0NvbnRleHQodGhpcy5ub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCkgPT09XG4gICAgICBnZXRUYWJsZUZvcm1hdHRpbmdDb250ZXh0KGNvbnN0cmFpbnQubm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQpXG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCB0YWJsZUxheW91dFByb2Nlc3NvciA9IG5ldyBUYWJsZUxheW91dFByb2Nlc3NvcigpO1xuXG5mdW5jdGlvbiByZXNvbHZlRm9ybWF0dGluZ0NvbnRleHRIb29rKFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gIGZpcnN0VGltZTogYm9vbGVhbixcbiAgZGlzcGxheTogQ3NzLklkZW50LFxuICBwb3NpdGlvbjogQ3NzLklkZW50LFxuICBmbG9hdFNpZGU6IENzcy5JZGVudCxcbiAgaXNSb290OiBib29sZWFuLFxuKTogVGFibGVGb3JtYXR0aW5nQ29udGV4dCB8IG51bGwge1xuICBpZiAoIWZpcnN0VGltZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChkaXNwbGF5ID09PSBDc3MuaWRlbnQudGFibGUpIHtcbiAgICBjb25zdCBwYXJlbnQgPSBub2RlQ29udGV4dC5wYXJlbnQ7XG4gICAgcmV0dXJuIG5ldyBUYWJsZUZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgcGFyZW50ID8gcGFyZW50LmZvcm1hdHRpbmdDb250ZXh0IDogbnVsbCxcbiAgICAgIG5vZGVDb250ZXh0LnNvdXJjZU5vZGUgYXMgRWxlbWVudCxcbiAgICApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlTGF5b3V0UHJvY2Vzc29yKFxuICBmb3JtYXR0aW5nQ29udGV4dCxcbik6IFRhYmxlTGF5b3V0UHJvY2Vzc29yIHwgbnVsbCB7XG4gIGlmIChmb3JtYXR0aW5nQ29udGV4dCBpbnN0YW5jZW9mIFRhYmxlRm9ybWF0dGluZ0NvbnRleHQpIHtcbiAgICByZXR1cm4gdGFibGVMYXlvdXRQcm9jZXNzb3I7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cblBsdWdpbi5yZWdpc3Rlckhvb2soXG4gIFBsdWdpbi5IT09LUy5SRVNPTFZFX0ZPUk1BVFRJTkdfQ09OVEVYVCxcbiAgcmVzb2x2ZUZvcm1hdHRpbmdDb250ZXh0SG9vayxcbik7XG5cblBsdWdpbi5yZWdpc3Rlckhvb2soXG4gIFBsdWdpbi5IT09LUy5SRVNPTFZFX0xBWU9VVF9QUk9DRVNTT1IsXG4gIHJlc29sdmVMYXlvdXRQcm9jZXNzb3IsXG4pO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgTWF0aFV0aWwgLSBNYXRoIHV0aWxpdGllc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWVhbihhcnJheTogbnVtYmVyW10pOiBudW1iZXIge1xuICByZXR1cm4gYXJyYXkucmVkdWNlKChwcmV2LCBjdXJyKSA9PiBwcmV2ICsgY3VyciwgMCkgLyBhcnJheS5sZW5ndGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YXJpYW5jZShhcnJheTogbnVtYmVyW10pOiBudW1iZXIge1xuICBjb25zdCBtZWFuVmFsdWUgPSBtZWFuKGFycmF5KTtcbiAgcmV0dXJuIG1lYW4oXG4gICAgYXJyYXkubWFwKCh4KSA9PiB7XG4gICAgICBjb25zdCBkID0geCAtIG1lYW5WYWx1ZTtcbiAgICAgIHJldHVybiBkICogZDtcbiAgICB9KSxcbiAgKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTcgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENvbHVtbnMgLSBDb250cm9sIGNvbHVtbiBsYXlvdXQuXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgTWF0aFV0aWwgZnJvbSBcIi4vbWF0aC11dGlsXCI7XG5pbXBvcnQgKiBhcyBQYWdlRmxvYXRzIGZyb20gXCIuL3BhZ2UtZmxvYXRzXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFZ0cmVlIGZyb20gXCIuL3Z0cmVlXCI7XG5pbXBvcnQgeyBMYXlvdXQgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgdHlwZSBDb2x1bW5MYXlvdXRSZXN1bHQgPSB7XG4gIGNvbHVtbnM6IExheW91dC5Db2x1bW5bXTtcbiAgcG9zaXRpb246IFZ0cmVlLkxheW91dFBvc2l0aW9uO1xuICBjb2x1bW5QYWdlRmxvYXRMYXlvdXRDb250ZXh0cz86IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dFtdO1xufTtcblxuZXhwb3J0IHR5cGUgQ29sdW1uR2VuZXJhdG9yID0gKCkgPT4gVGFzay5SZXN1bHQ8Q29sdW1uTGF5b3V0UmVzdWx0IHwgbnVsbD47XG5cbmV4cG9ydCBjbGFzcyBDb2x1bW5CYWxhbmNpbmdUcmlhbFJlc3VsdCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBsYXlvdXRSZXN1bHQ6IENvbHVtbkxheW91dFJlc3VsdCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGVuYWx0eTogbnVtYmVyLFxuICApIHt9XG59XG5cbmZ1bmN0aW9uIGdldEJsb2NrU2l6ZShjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcik6IG51bWJlciB7XG4gIGlmIChjb250YWluZXIudmVydGljYWwpIHtcbiAgICByZXR1cm4gY29udGFpbmVyLndpZHRoO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb250YWluZXIuaGVpZ2h0O1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldEJsb2NrU2l6ZShjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lciwgc2l6ZTogbnVtYmVyKSB7XG4gIGlmIChjb250YWluZXIudmVydGljYWwpIHtcbiAgICBjb250YWluZXIud2lkdGggPSBzaXplO1xuICB9IGVsc2Uge1xuICAgIGNvbnRhaW5lci5oZWlnaHQgPSBzaXplO1xuICB9XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb2x1bW5CYWxhbmNlciB7XG4gIG9yaWdpbmFsQ29udGFpbmVyQmxvY2tTaXplOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGxheW91dENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjb2x1bW5HZW5lcmF0b3I6IENvbHVtbkdlbmVyYXRvcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICApIHtcbiAgICB0aGlzLm9yaWdpbmFsQ29udGFpbmVyQmxvY2tTaXplID0gZ2V0QmxvY2tTaXplKGxheW91dENvbnRhaW5lcik7XG4gIH1cblxuICBiYWxhbmNlQ29sdW1ucyhcbiAgICBsYXlvdXRSZXN1bHQ6IENvbHVtbkxheW91dFJlc3VsdCxcbiAgKTogVGFzay5SZXN1bHQ8Q29sdW1uTGF5b3V0UmVzdWx0PiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Q29sdW1uTGF5b3V0UmVzdWx0PiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcIkNvbHVtbkJhbGFuY2VyI2JhbGFuY2VDb2x1bW5zXCIsXG4gICAgKTtcbiAgICBzZWxmLnByZUJhbGFuY2UobGF5b3V0UmVzdWx0KTtcbiAgICBzZWxmLnNhdmVQYWdlRmxvYXRMYXlvdXRDb250ZXh0cyhsYXlvdXRSZXN1bHQpO1xuICAgIHNlbGYubGF5b3V0Q29udGFpbmVyLmNsZWFyKCk7XG4gICAgY29uc3QgY2FuZGlkYXRlcyA9IFtzZWxmLmNyZWF0ZVRyaWFsUmVzdWx0KGxheW91dFJlc3VsdCldO1xuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgIGlmICghc2VsZi5oYXNOZXh0Q2FuZGlkYXRlKGNhbmRpZGF0ZXMpKSB7XG4gICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLnVwZGF0ZUNvbmRpdGlvbihjYW5kaWRhdGVzKTtcbiAgICAgICAgc2VsZi5jb2x1bW5HZW5lcmF0b3IoKS50aGVuKChsYXlvdXRSZXN1bHQpID0+IHtcbiAgICAgICAgICBzZWxmLnNhdmVQYWdlRmxvYXRMYXlvdXRDb250ZXh0cyhsYXlvdXRSZXN1bHQpO1xuICAgICAgICAgIHNlbGYubGF5b3V0Q29udGFpbmVyLmNsZWFyKCk7XG4gICAgICAgICAgaWYgKCFsYXlvdXRSZXN1bHQpIHtcbiAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FuZGlkYXRlcy5wdXNoKHNlbGYuY3JlYXRlVHJpYWxSZXN1bHQobGF5b3V0UmVzdWx0KSk7XG4gICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbmRpZGF0ZXMucmVkdWNlKFxuICAgICAgICAgIChwcmV2LCBjdXJyKSA9PiAoY3Vyci5wZW5hbHR5IDwgcHJldi5wZW5hbHR5ID8gY3VyciA6IHByZXYpLFxuICAgICAgICAgIGNhbmRpZGF0ZXNbMF0sXG4gICAgICAgICk7XG4gICAgICAgIHNlbGYucmVzdG9yZUNvbnRlbnRzKHJlc3VsdC5sYXlvdXRSZXN1bHQpO1xuICAgICAgICBzZWxmLnBvc3RCYWxhbmNlKCk7XG4gICAgICAgIGZyYW1lLmZpbmlzaChyZXN1bHQubGF5b3V0UmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlVHJpYWxSZXN1bHQoXG4gICAgbGF5b3V0UmVzdWx0OiBDb2x1bW5MYXlvdXRSZXN1bHQsXG4gICk6IENvbHVtbkJhbGFuY2luZ1RyaWFsUmVzdWx0IHtcbiAgICBjb25zdCBwZW5hbHR5ID0gdGhpcy5jYWxjdWxhdGVQZW5hbHR5KGxheW91dFJlc3VsdCk7XG4gICAgcmV0dXJuIG5ldyBDb2x1bW5CYWxhbmNpbmdUcmlhbFJlc3VsdChsYXlvdXRSZXN1bHQsIHBlbmFsdHkpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHByZUJhbGFuY2UobGF5b3V0UmVzdWx0OiBDb2x1bW5MYXlvdXRSZXN1bHQpIHt9XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGNhbGN1bGF0ZVBlbmFsdHkobGF5b3V0UmVzdWx0OiBDb2x1bW5MYXlvdXRSZXN1bHQpOiBudW1iZXI7XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGhhc05leHRDYW5kaWRhdGUoXG4gICAgY2FuZGlkYXRlczogQ29sdW1uQmFsYW5jaW5nVHJpYWxSZXN1bHRbXSxcbiAgKTogYm9vbGVhbjtcblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgdXBkYXRlQ29uZGl0aW9uKFxuICAgIGNhbmRpZGF0ZXM6IENvbHVtbkJhbGFuY2luZ1RyaWFsUmVzdWx0W10sXG4gICk6IHZvaWQ7XG5cbiAgcHJvdGVjdGVkIHBvc3RCYWxhbmNlKCkge1xuICAgIHNldEJsb2NrU2l6ZSh0aGlzLmxheW91dENvbnRhaW5lciwgdGhpcy5vcmlnaW5hbENvbnRhaW5lckJsb2NrU2l6ZSk7XG4gIH1cblxuICBzYXZlUGFnZUZsb2F0TGF5b3V0Q29udGV4dHMobGF5b3V0UmVzdWx0OiBDb2x1bW5MYXlvdXRSZXN1bHQgfCBudWxsKSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLnJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQuZGV0YWNoQ2hpbGRyZW4oKTtcbiAgICBpZiAobGF5b3V0UmVzdWx0KSB7XG4gICAgICBsYXlvdXRSZXN1bHQuY29sdW1uUGFnZUZsb2F0TGF5b3V0Q29udGV4dHMgPSBjaGlsZHJlbjtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlc3RvcmVDb250ZW50cyhuZXdMYXlvdXRSZXN1bHQ6IENvbHVtbkxheW91dFJlc3VsdCkge1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMubGF5b3V0Q29udGFpbmVyLmVsZW1lbnQ7XG4gICAgbmV3TGF5b3V0UmVzdWx0LmNvbHVtbnMuZm9yRWFjaCgoYykgPT4ge1xuICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGMuZWxlbWVudCk7XG4gICAgfSk7XG4gICAgQXNzZXJ0cy5hc3NlcnQobmV3TGF5b3V0UmVzdWx0LmNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHRzKTtcbiAgICB0aGlzLnJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQuYXR0YWNoQ2hpbGRyZW4oXG4gICAgICBuZXdMYXlvdXRSZXN1bHQuY29sdW1uUGFnZUZsb2F0TGF5b3V0Q29udGV4dHMsXG4gICAgKTtcbiAgfVxufVxuY29uc3QgQ09MVU1OX0xFTkdUSF9TVEVQID0gMTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNhblJlZHVjZUNvbnRhaW5lclNpemUoXG4gIGNhbmRpZGF0ZXM6IENvbHVtbkJhbGFuY2luZ1RyaWFsUmVzdWx0W10sXG4pOiBib29sZWFuIHtcbiAgY29uc3QgbGFzdENhbmRpZGF0ZSA9IGNhbmRpZGF0ZXNbY2FuZGlkYXRlcy5sZW5ndGggLSAxXTtcbiAgaWYgKGxhc3RDYW5kaWRhdGUucGVuYWx0eSA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBzZWNvbmRMYXN0Q2FuZGlkYXRlID0gY2FuZGlkYXRlc1tjYW5kaWRhdGVzLmxlbmd0aCAtIDJdO1xuICBpZiAoXG4gICAgc2Vjb25kTGFzdENhbmRpZGF0ZSAmJlxuICAgIGxhc3RDYW5kaWRhdGUucGVuYWx0eSA+PSBzZWNvbmRMYXN0Q2FuZGlkYXRlLnBlbmFsdHlcbiAgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGNvbHVtbnMgPSBsYXN0Q2FuZGlkYXRlLmxheW91dFJlc3VsdC5jb2x1bW5zO1xuICBjb25zdCBtYXhDb2x1bW5CbG9ja1NpemUgPSBNYXRoLm1heC5hcHBseShcbiAgICBudWxsLFxuICAgIGNvbHVtbnMubWFwKChjKSA9PiBjLmNvbXB1dGVkQmxvY2tTaXplKSxcbiAgKTtcbiAgY29uc3QgbWF4UGFnZUZsb2F0QmxvY2tTaXplID0gTWF0aC5tYXguYXBwbHkoXG4gICAgbnVsbCxcbiAgICBjb2x1bW5zLm1hcCgoYykgPT4gYy5nZXRNYXhCbG9ja1NpemVPZlBhZ2VGbG9hdHMoKSksXG4gICk7XG4gIHJldHVybiBtYXhDb2x1bW5CbG9ja1NpemUgPiBtYXhQYWdlRmxvYXRCbG9ja1NpemUgKyBDT0xVTU5fTEVOR1RIX1NURVA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2VDb250YWluZXJTaXplKFxuICBjYW5kaWRhdGVzOiBDb2x1bW5CYWxhbmNpbmdUcmlhbFJlc3VsdFtdLFxuICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbik6IHZvaWQge1xuICBjb25zdCBjb2x1bW5zID0gY2FuZGlkYXRlc1tjYW5kaWRhdGVzLmxlbmd0aCAtIDFdLmxheW91dFJlc3VsdC5jb2x1bW5zO1xuICBjb25zdCBtYXhDb2x1bW5CbG9ja1NpemUgPSBNYXRoLm1heC5hcHBseShcbiAgICBudWxsLFxuICAgIGNvbHVtbnMubWFwKChjKSA9PiB7XG4gICAgICBpZiAoIWlzTmFOKGMuYmxvY2tEaXN0YW5jZVRvQmxvY2tFbmRGbG9hdHMpKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgYy5jb21wdXRlZEJsb2NrU2l6ZSAtXG4gICAgICAgICAgYy5ibG9ja0Rpc3RhbmNlVG9CbG9ja0VuZEZsb2F0cyArXG4gICAgICAgICAgQ09MVU1OX0xFTkdUSF9TVEVQXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYy5jb21wdXRlZEJsb2NrU2l6ZTtcbiAgICAgIH1cbiAgICB9KSxcbiAgKTtcbiAgY29uc3QgbmV3RWRnZSA9IG1heENvbHVtbkJsb2NrU2l6ZSAtIENPTFVNTl9MRU5HVEhfU1RFUDtcbiAgaWYgKG5ld0VkZ2UgPCBnZXRCbG9ja1NpemUoY29udGFpbmVyKSkge1xuICAgIHNldEJsb2NrU2l6ZShjb250YWluZXIsIG5ld0VkZ2UpO1xuICB9IGVsc2Uge1xuICAgIHNldEJsb2NrU2l6ZShjb250YWluZXIsIGdldEJsb2NrU2l6ZShjb250YWluZXIpIC0gMSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJhbGFuY2VMYXN0Q29sdW1uQmFsYW5jZXIgZXh0ZW5kcyBDb2x1bW5CYWxhbmNlciB7XG4gIG9yaWdpbmFsUG9zaXRpb246IFZ0cmVlLkxheW91dFBvc2l0aW9uIHwgbnVsbCA9IG51bGw7XG4gIGZvdW5kVXBwZXJCb3VuZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvbHVtbkdlbmVyYXRvcjogQ29sdW1uR2VuZXJhdG9yLFxuICAgIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgbGF5b3V0Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbHVtbkNvdW50OiBudW1iZXIsXG4gICkge1xuICAgIHN1cGVyKGxheW91dENvbnRhaW5lciwgY29sdW1uR2VuZXJhdG9yLCByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHByZUJhbGFuY2UobGF5b3V0UmVzdWx0OiBDb2x1bW5MYXlvdXRSZXN1bHQpIHtcbiAgICBjb25zdCBjb2x1bW5zID0gbGF5b3V0UmVzdWx0LmNvbHVtbnM7XG4gICAgY29uc3QgdG90YWxCbG9ja1NpemUgPSBjb2x1bW5zLnJlZHVjZShcbiAgICAgIChwcmV2LCBjKSA9PiBwcmV2ICsgYy5jb21wdXRlZEJsb2NrU2l6ZSxcbiAgICAgIDAsXG4gICAgKTtcbiAgICBzZXRCbG9ja1NpemUodGhpcy5sYXlvdXRDb250YWluZXIsIHRvdGFsQmxvY2tTaXplIC8gdGhpcy5jb2x1bW5Db3VudCk7XG4gICAgdGhpcy5vcmlnaW5hbFBvc2l0aW9uID0gbGF5b3V0UmVzdWx0LnBvc2l0aW9uO1xuICB9XG5cbiAgcHJpdmF0ZSBjaGVja1Bvc2l0aW9uKHBvc2l0aW9uOiBWdHJlZS5MYXlvdXRQb3NpdGlvbiB8IG51bGwpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5vcmlnaW5hbFBvc2l0aW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcmlnaW5hbFBvc2l0aW9uLmlzU2FtZVBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHBvc2l0aW9uID09PSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNhbGN1bGF0ZVBlbmFsdHkobGF5b3V0UmVzdWx0OiBDb2x1bW5MYXlvdXRSZXN1bHQpOiBudW1iZXIge1xuICAgIGlmICghdGhpcy5jaGVja1Bvc2l0aW9uKGxheW91dFJlc3VsdC5wb3NpdGlvbikpIHtcbiAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICB9XG4gICAgY29uc3QgY29sdW1ucyA9IGxheW91dFJlc3VsdC5jb2x1bW5zO1xuICAgIGlmIChpc0xhc3RDb2x1bW5Mb25nZXJUaGFuQW55T3RoZXJDb2x1bW4oY29sdW1ucykpIHtcbiAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KFxuICAgICAgbnVsbCxcbiAgICAgIGNvbHVtbnMubWFwKChjKSA9PiBjLmNvbXB1dGVkQmxvY2tTaXplKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaGFzTmV4dENhbmRpZGF0ZShjYW5kaWRhdGVzOiBDb2x1bW5CYWxhbmNpbmdUcmlhbFJlc3VsdFtdKTogYm9vbGVhbiB7XG4gICAgaWYgKGNhbmRpZGF0ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZm91bmRVcHBlckJvdW5kKSB7XG4gICAgICByZXR1cm4gY2FuUmVkdWNlQ29udGFpbmVyU2l6ZShjYW5kaWRhdGVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbGFzdENhbmRpZGF0ZSA9IGNhbmRpZGF0ZXNbY2FuZGlkYXRlcy5sZW5ndGggLSAxXTtcbiAgICAgIGlmICh0aGlzLmNoZWNrUG9zaXRpb24obGFzdENhbmRpZGF0ZS5sYXlvdXRSZXN1bHQucG9zaXRpb24pKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhaXNMYXN0Q29sdW1uTG9uZ2VyVGhhbkFueU90aGVyQ29sdW1uKFxuICAgICAgICAgICAgbGFzdENhbmRpZGF0ZS5sYXlvdXRSZXN1bHQuY29sdW1ucyxcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuZm91bmRVcHBlckJvdW5kID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIChcbiAgICAgICAgZ2V0QmxvY2tTaXplKHRoaXMubGF5b3V0Q29udGFpbmVyKSA8IHRoaXMub3JpZ2luYWxDb250YWluZXJCbG9ja1NpemVcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdXBkYXRlQ29uZGl0aW9uKGNhbmRpZGF0ZXM6IENvbHVtbkJhbGFuY2luZ1RyaWFsUmVzdWx0W10pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5mb3VuZFVwcGVyQm91bmQpIHtcbiAgICAgIHJlZHVjZUNvbnRhaW5lclNpemUoY2FuZGlkYXRlcywgdGhpcy5sYXlvdXRDb250YWluZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBuZXdFZGdlID0gTWF0aC5taW4oXG4gICAgICAgIHRoaXMub3JpZ2luYWxDb250YWluZXJCbG9ja1NpemUsXG4gICAgICAgIGdldEJsb2NrU2l6ZSh0aGlzLmxheW91dENvbnRhaW5lcikgK1xuICAgICAgICAgIHRoaXMub3JpZ2luYWxDb250YWluZXJCbG9ja1NpemUgKiAwLjEsXG4gICAgICApO1xuICAgICAgc2V0QmxvY2tTaXplKHRoaXMubGF5b3V0Q29udGFpbmVyLCBuZXdFZGdlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNMYXN0Q29sdW1uTG9uZ2VyVGhhbkFueU90aGVyQ29sdW1uKFxuICBjb2x1bW5zOiBMYXlvdXQuQ29sdW1uW10sXG4pOiBib29sZWFuIHtcbiAgaWYgKGNvbHVtbnMubGVuZ3RoIDw9IDEpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgbGFzdENvbHVtbkJsb2NrU2l6ZSA9IGNvbHVtbnNbY29sdW1ucy5sZW5ndGggLSAxXS5jb21wdXRlZEJsb2NrU2l6ZTtcbiAgY29uc3Qgb3RoZXJDb2x1bW5zID0gY29sdW1ucy5zbGljZSgwLCBjb2x1bW5zLmxlbmd0aCAtIDEpO1xuICByZXR1cm4gb3RoZXJDb2x1bW5zLmV2ZXJ5KChjKSA9PiBsYXN0Q29sdW1uQmxvY2tTaXplID4gYy5jb21wdXRlZEJsb2NrU2l6ZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBCYWxhbmNlTm9uTGFzdENvbHVtbkJhbGFuY2VyIGV4dGVuZHMgQ29sdW1uQmFsYW5jZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBjb2x1bW5HZW5lcmF0b3I6IENvbHVtbkdlbmVyYXRvcixcbiAgICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgIGxheW91dENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICApIHtcbiAgICBzdXBlcihsYXlvdXRDb250YWluZXIsIGNvbHVtbkdlbmVyYXRvciwgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjYWxjdWxhdGVQZW5hbHR5KGxheW91dFJlc3VsdDogQ29sdW1uTGF5b3V0UmVzdWx0KTogbnVtYmVyIHtcbiAgICBpZiAobGF5b3V0UmVzdWx0LmNvbHVtbnMuZXZlcnkoKGMpID0+IGMuY29tcHV0ZWRCbG9ja1NpemUgPT09IDApKSB7XG4gICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgfVxuICAgIGNvbnN0IGNvbXB1dGVkQmxvY2tTaXplcyA9IGxheW91dFJlc3VsdC5jb2x1bW5zXG4gICAgICAuZmlsdGVyKChjKSA9PiAhYy5wYWdlQnJlYWtUeXBlKVxuICAgICAgLm1hcCgoYykgPT4gYy5jb21wdXRlZEJsb2NrU2l6ZSk7XG4gICAgcmV0dXJuIE1hdGhVdGlsLnZhcmlhbmNlKGNvbXB1dGVkQmxvY2tTaXplcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBoYXNOZXh0Q2FuZGlkYXRlKGNhbmRpZGF0ZXM6IENvbHVtbkJhbGFuY2luZ1RyaWFsUmVzdWx0W10pOiBib29sZWFuIHtcbiAgICByZXR1cm4gY2FuUmVkdWNlQ29udGFpbmVyU2l6ZShjYW5kaWRhdGVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHVwZGF0ZUNvbmRpdGlvbihjYW5kaWRhdGVzOiBDb2x1bW5CYWxhbmNpbmdUcmlhbFJlc3VsdFtdKTogdm9pZCB7XG4gICAgcmVkdWNlQ29udGFpbmVyU2l6ZShjYW5kaWRhdGVzLCB0aGlzLmxheW91dENvbnRhaW5lcik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbHVtbkJhbGFuY2VyKFxuICBjb2x1bW5Db3VudDogbnVtYmVyLFxuICBjb2x1bW5GaWxsOiBDc3MuSWRlbnQsXG4gIGNvbHVtbkdlbmVyYXRvcjogQ29sdW1uR2VuZXJhdG9yLFxuICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gIGxheW91dENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICBjb2x1bW5zOiBMYXlvdXQuQ29sdW1uW10sXG4gIGZsb3dQb3NpdGlvbjogVnRyZWUuRmxvd1Bvc2l0aW9uLFxuKTogQ29sdW1uQmFsYW5jZXIgfCBudWxsIHtcbiAgaWYgKGNvbHVtbkZpbGwgPT09IENzcy5pZGVudC5hdXRvKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSB7XG4gICAgLy8gVE9ETzogaG93IHRvIGhhbmRsZSBhIGNhc2Ugd2hlcmUgbm8gbW9yZSBpbi1mbG93IGNvbnRlbnRzIGJ1dCBzb21lXG4gICAgLy8gcGFnZSBmbG9hdHNcbiAgICBjb25zdCBub01vcmVDb250ZW50ID0gZmxvd1Bvc2l0aW9uLnBvc2l0aW9ucy5sZW5ndGggPT09IDA7XG4gICAgY29uc3QgbGFzdENvbHVtbiA9IGNvbHVtbnNbY29sdW1ucy5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBpc0xhc3RDb2x1bW5Gb3JjZUJyb2tlbiA9ICEhKGxhc3RDb2x1bW4gJiYgbGFzdENvbHVtbi5wYWdlQnJlYWtUeXBlKTtcbiAgICBpZiAobm9Nb3JlQ29udGVudCB8fCBpc0xhc3RDb2x1bW5Gb3JjZUJyb2tlbikge1xuICAgICAgcmV0dXJuIG5ldyBCYWxhbmNlTGFzdENvbHVtbkJhbGFuY2VyKFxuICAgICAgICBjb2x1bW5HZW5lcmF0b3IsXG4gICAgICAgIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICAgIGxheW91dENvbnRhaW5lcixcbiAgICAgICAgY29sdW1uQ291bnQsXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoY29sdW1uRmlsbCA9PT0gQ3NzLmlkZW50LmJhbGFuY2VfYWxsKSB7XG4gICAgICByZXR1cm4gbmV3IEJhbGFuY2VOb25MYXN0Q29sdW1uQmFsYW5jZXIoXG4gICAgICAgIGNvbHVtbkdlbmVyYXRvcixcbiAgICAgICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgICAgbGF5b3V0Q29udGFpbmVyLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgQXNzZXJ0cy5hc3NlcnQoY29sdW1uRmlsbCA9PT0gQ3NzLmlkZW50LmJhbGFuY2UpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENzc1N0eWxlciAtIEFwcGx5IENTUyBjYXNjYWRlIHRvIGEgZG9jdW1lbnQgaW5jcmVtZW50YWxseSBhbmRcbiAqIGNhY2hlIHRoZSByZXN1bHQuXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBCcmVhayBmcm9tIFwiLi9icmVha1wiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgQ3NzQ2FzY2FkZSBmcm9tIFwiLi9jc3MtY2FzY2FkZVwiO1xuaW1wb3J0ICogYXMgQ3NzUGFyc2VyIGZyb20gXCIuL2Nzcy1wYXJzZXJcIjtcbmltcG9ydCAqIGFzIENzc1Byb3AgZnJvbSBcIi4vY3NzLXByb3BcIjtcbmltcG9ydCAqIGFzIENzc1ZhbGlkYXRvciBmcm9tIFwiLi9jc3MtdmFsaWRhdG9yXCI7XG5pbXBvcnQgKiBhcyBEaXNwbGF5IGZyb20gXCIuL2Rpc3BsYXlcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBWdHJlZSBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0IHsgQ3NzU3R5bGVyLCBYbWxEb2MgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgU2xpcFJhbmdlIHtcbiAgZW5kU3R1Y2tGaXhlZDogbnVtYmVyO1xuICBlbmRGaXhlZDogbnVtYmVyO1xuICBlbmRTbGlwcGVkOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoZW5kU3R1Y2tGaXhlZCwgZW5kRml4ZWQsIGVuZFNsaXBwZWQpIHtcbiAgICB0aGlzLmVuZFN0dWNrRml4ZWQgPSBlbmRTdHVja0ZpeGVkO1xuICAgIHRoaXMuZW5kRml4ZWQgPSBlbmRGaXhlZDtcbiAgICB0aGlzLmVuZFNsaXBwZWQgPSBlbmRTbGlwcGVkO1xuICB9XG59XG5cbi8qKlxuICogTWFwcyBhbGwgaW50cyBpbiBhIHJhbmdlIChcImZpeGVkXCIpIHRvIGludHMgd2l0aCBzbGlwcGFnZSAoXCJzbGlwcGVkXCIpXG4gKi9cbmV4cG9ydCBjbGFzcyBTbGlwTWFwIHtcbiAgbWFwID0gW10gYXMgU2xpcFJhbmdlW107XG5cbiAgZ2V0TWF4Rml4ZWQoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5tYXAubGVuZ3RoID09IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBjb25zdCByYW5nZSA9IHRoaXMubWFwW3RoaXMubWFwLmxlbmd0aCAtIDFdO1xuICAgIHJldHVybiByYW5nZS5lbmRGaXhlZDtcbiAgfVxuXG4gIGdldE1heFNsaXBwZWQoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5tYXAubGVuZ3RoID09IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBjb25zdCByYW5nZSA9IHRoaXMubWFwW3RoaXMubWFwLmxlbmd0aCAtIDFdO1xuICAgIHJldHVybiByYW5nZS5lbmRTbGlwcGVkO1xuICB9XG5cbiAgYWRkU3R1Y2tSYW5nZShlbmRGaXhlZDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubWFwLmxlbmd0aCA9PSAwKSB7XG4gICAgICB0aGlzLm1hcC5wdXNoKG5ldyBTbGlwUmFuZ2UoZW5kRml4ZWQsIGVuZEZpeGVkLCBlbmRGaXhlZCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByYW5nZSA9IHRoaXMubWFwW3RoaXMubWFwLmxlbmd0aCAtIDFdO1xuICAgICAgY29uc3QgZW5kU2xpcHBlZCA9IHJhbmdlLmVuZFNsaXBwZWQgKyBlbmRGaXhlZCAtIHJhbmdlLmVuZEZpeGVkO1xuICAgICAgaWYgKHJhbmdlLmVuZEZpeGVkID09IHJhbmdlLmVuZFN0dWNrRml4ZWQpIHtcbiAgICAgICAgcmFuZ2UuZW5kRml4ZWQgPSBlbmRGaXhlZDtcbiAgICAgICAgcmFuZ2UuZW5kU3R1Y2tGaXhlZCA9IGVuZEZpeGVkO1xuICAgICAgICByYW5nZS5lbmRTbGlwcGVkID0gZW5kU2xpcHBlZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubWFwLnB1c2gobmV3IFNsaXBSYW5nZShlbmRGaXhlZCwgZW5kRml4ZWQsIGVuZFNsaXBwZWQpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhZGRTbGlwcGVkUmFuZ2UoZW5kRml4ZWQ6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLm1hcC5sZW5ndGggPT0gMCkge1xuICAgICAgdGhpcy5tYXAucHVzaChuZXcgU2xpcFJhbmdlKGVuZEZpeGVkLCAwLCAwKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWFwW3RoaXMubWFwLmxlbmd0aCAtIDFdLmVuZEZpeGVkID0gZW5kRml4ZWQ7XG4gICAgfVxuICB9XG5cbiAgc2xpcHBlZEJ5Rml4ZWQoZml4ZWQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgaW5kZXggPSBCYXNlLmJpbmFyeVNlYXJjaChcbiAgICAgIHRoaXMubWFwLmxlbmd0aCxcbiAgICAgIChpbmRleCkgPT4gZml4ZWQgPD0gc2VsZi5tYXBbaW5kZXhdLmVuZEZpeGVkLFxuICAgICk7XG4gICAgY29uc3QgcmFuZ2UgPSB0aGlzLm1hcFtpbmRleF07XG4gICAgcmV0dXJuIHJhbmdlLmVuZFNsaXBwZWQgLSBNYXRoLm1heCgwLCByYW5nZS5lbmRTdHVja0ZpeGVkIC0gZml4ZWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNtYWxsZXN0IGZpeGVkIGZvciBhIGdpdmVuIHNsaXBwZWQuXG4gICAqL1xuICBmaXhlZEJ5U2xpcHBlZChzbGlwcGVkOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGluZGV4ID0gQmFzZS5iaW5hcnlTZWFyY2goXG4gICAgICB0aGlzLm1hcC5sZW5ndGgsXG4gICAgICAoaW5kZXgpID0+IHNsaXBwZWQgPD0gc2VsZi5tYXBbaW5kZXhdLmVuZFNsaXBwZWQsXG4gICAgKTtcbiAgICBjb25zdCByYW5nZSA9IHRoaXMubWFwW2luZGV4XTtcbiAgICByZXR1cm4gcmFuZ2UuZW5kU3R1Y2tGaXhlZCAtIChyYW5nZS5lbmRTbGlwcGVkIC0gc2xpcHBlZCk7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBGbG93TGlzdGVuZXIge1xuICAvKipcbiAgICogQHJldHVybiB2b2lkXG4gICAqL1xuICBlbmNvdW50ZXJlZEZsb3dDaHVuayhmbG93Q2h1bms6IFZ0cmVlLkZsb3dDaHVuaywgZmxvdzogVnRyZWUuRmxvdyk6IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBYnN0cmFjdFN0eWxlciBleHRlbmRzIENzc1N0eWxlci5BYnN0cmFjdFN0eWxlciB7fVxuXG4vKipcbiAqIFJlcHJlc2VudCBhIGJveCBnZW5lcmF0ZWQgYnkgYSAocHNldWRvKWVsZW1lbnQuIFdoZW4gY29uc3RydWN0ZWQsIGEgYm94XG4gKiBjb3JyZXNwb25kaW5nIHRvIGA6OmJlZm9yZWAgcHNldWRvZWxlbWVudCBpcyBhbHNvIGNvbnN0cnVjdGVkIGFuZCBzdG9yZWQgaW5cbiAqIGBiZWZvcmVCb3hgIHByb3BlcnR5LCB3aGVyZWFzIG9uZSBjb3JyZXNwb25kaW5nIGA6OmFmdGVyYCBwc2V1ZG9lbGVtZW50IGlzXG4gKiBub3QgY29uc3RydWN0ZWQgYW5kIGBhZnRlckJveGAgcHJvcGVydHkgaXMgYG51bGxgLiBgYWZ0ZXJCb3hgIGlzIGNvbnN0cnVjdGVkXG4gKiBieSBgYnVpbGRBZnRlclBzZXVkb0VsZW1lbnRCb3hgIG1ldGhvZC5cbiAqIEBwYXJhbSBzdHlsZSBDYXNjYWRlZCBzdHlsZSB2YWx1ZXMgZm9yIHRoZSBib3guXG4gKiBAcGFyYW0gb2Zmc2V0IFRoZSBzdGFydCBvZmZzZXQgb2YgdGhlIGJveC4gSXQgY29pbmNpZGVzIHdpdGggdGhlIHN0YXJ0IG9mZnNldFxuICogICAgIG9mIHRoZSBlbGVtZW50IGlmIHRoZSBib3ggaXMgZ2VuZXJhdGVkIGJ5IHRoZSBlbGVtZW50IG9yIHRoZSBgOjpiZWZvcmVgXG4gKiAgICAgcHNldWRvZWxlbWVudC4gV2hlbiB0aGUgYm94IGNvcnJlc3BvbmRzIHRvIHRoZSBgOjphZnRlcmAgcHNldWRvZWxlbWVudCxcbiAqICAgICB0aGUgb2Zmc2V0IGlzIGp1c3QgYWZ0ZXIgdGhlIGNvbnRlbnQgYmVmb3JlIHRoZSBgOjphZnRlcmAgcHNldWRvZWxlbWVudC5cbiAqIEBwYXJhbSBpc1Jvb3QgVHJ1ZSBpZiB0aGUgYm94IGlzIGdlbmVyYXRlZCBieSB0aGUgcm9vdCBlbGVtZW50IChub3RcbiAqICAgICBwc2V1ZG9lbGVtZW50KS5cbiAqIEBwYXJhbSBmbG93Q2h1bmsgRmxvd0NodW5rIHRvIHdoaWNoIHRoZSBib3ggYmVsb25ncyB0by5cbiAqIEBwYXJhbSBhdEJsb2NrU3RhcnQgVHJ1ZSBpZiB0aGUgYm94IGlzIHJpZ2h0IGFmdGVyIHRoZSBibG9jayBzdGFydCBlZGdlLlxuICogQHBhcmFtIGF0Rmxvd1N0YXJ0IFRydWUgaWYgdGhlIGJveCBpcyByaWdodCBhZnRlciB0aGUgZmxvdyBzdGFydC5cbiAqIEBwYXJhbSBpc1BhcmVudEJveERpc3BsYXllZCBUcnVlIGlmIHRoZSBwYXJlbnQgYm94IGhhcyBhIGRpc3BsYXllZCBib3guXG4gKi9cbmV4cG9ydCBjbGFzcyBCb3gge1xuICBmbG93TmFtZTogc3RyaW5nO1xuICBpc0Jsb2NrVmFsdWU6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcbiAgaGFzQm94VmFsdWU6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcbiAgc3R5bGVWYWx1ZXMgPSB7fSBhcyB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfTtcbiAgYmVmb3JlQm94OiBCb3ggPSBudWxsO1xuICBhZnRlckJveDogQm94ID0gbnVsbDtcbiAgYnJlYWtCZWZvcmU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgcHVibGljIHJlYWRvbmx5IG9mZnNldDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBpc1Jvb3Q6IGJvb2xlYW4sXG4gICAgcHVibGljIHJlYWRvbmx5IGZsb3dDaHVuazogVnRyZWUuRmxvd0NodW5rLFxuICAgIHB1YmxpYyByZWFkb25seSBhdEJsb2NrU3RhcnQ6IGJvb2xlYW4sXG4gICAgcHVibGljIHJlYWRvbmx5IGF0Rmxvd1N0YXJ0OiBib29sZWFuLFxuICAgIHB1YmxpYyByZWFkb25seSBpc1BhcmVudEJveERpc3BsYXllZDogYm9vbGVhbixcbiAgKSB7XG4gICAgdGhpcy5mbG93TmFtZSA9IGZsb3dDaHVuay5mbG93TmFtZTtcbiAgICBpZiAodGhpcy5oYXNCb3goKSkge1xuICAgICAgY29uc3QgcHNldWRvTWFwID0gc3R5bGVbXCJfcHNldWRvc1wiXTtcbiAgICAgIGlmIChwc2V1ZG9NYXApIHtcbiAgICAgICAgaWYgKHBzZXVkb01hcFtcImJlZm9yZVwiXSkge1xuICAgICAgICAgIGNvbnN0IGJlZm9yZUJveCA9IG5ldyBCb3goXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgcHNldWRvTWFwW1wiYmVmb3JlXCJdLFxuICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBmbG93Q2h1bmssXG4gICAgICAgICAgICB0aGlzLmlzQmxvY2soKSxcbiAgICAgICAgICAgIGF0Rmxvd1N0YXJ0LFxuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGJlZm9yZUNvbnRlbnQgPSBiZWZvcmVCb3guc3R5bGVWYWx1ZShcImNvbnRlbnRcIik7XG4gICAgICAgICAgaWYgKFZ0cmVlLm5vblRyaXZpYWxDb250ZW50KGJlZm9yZUNvbnRlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmJlZm9yZUJveCA9IGJlZm9yZUJveDtcbiAgICAgICAgICAgIHRoaXMuYnJlYWtCZWZvcmUgPSBiZWZvcmVCb3guYnJlYWtCZWZvcmU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuYnJlYWtCZWZvcmUgPSBCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgICAgIHRoaXMuZ2V0QnJlYWtWYWx1ZShcImJlZm9yZVwiKSxcbiAgICAgIHRoaXMuYnJlYWtCZWZvcmUsXG4gICAgKTtcbiAgICBpZiAodGhpcy5hdEZsb3dTdGFydCAmJiBCcmVhay5pc0ZvcmNlZEJyZWFrVmFsdWUodGhpcy5icmVha0JlZm9yZSkpIHtcbiAgICAgIGZsb3dDaHVuay5icmVha0JlZm9yZSA9IEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgICBmbG93Q2h1bmsuYnJlYWtCZWZvcmUsXG4gICAgICAgIHRoaXMuYnJlYWtCZWZvcmUsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZCBhIGJveCBjb3JyZXNwb25kaW5nIHRvIGA6OmFmdGVyYCBwc2V1ZG9lbGVtZW50IGFuZCBzdG9yZXMgaXQgaW5cbiAgICogYGFmdGVyQm94YCBwcm9wZXJ0eS5cbiAgICogQHBhcmFtIG9mZnNldCBUaGUgc3RhcnQgb2Zmc2V0IG9mIHRoZSBgOjphZnRlcmAgcHNldWRvZWxlbWVudCBib3gsIHdoaWNoIGlzXG4gICAqICAgICBqdXN0IGFmdGVyIHRoZSBjb250ZW50IGJlZm9yZSB0aGUgYDo6YWZ0ZXJgIHBzZXVkb2VsZW1lbnQuXG4gICAqIEBwYXJhbSBhdEJsb2NrU3RhcnQgVHJ1ZSBpZiB0aGUgYm94IGlzIHJpZ2h0IGFmdGVyIHRoZSBibG9jayBzdGFydCBlZGdlLlxuICAgKiBAcGFyYW0gYXRGbG93U3RhcnQgVHJ1ZSBpZiB0aGUgYm94IGlzIHJpZ2h0IGFmdGVyIHRoZSBmbG93IHN0YXJ0LlxuICAgKi9cbiAgYnVpbGRBZnRlclBzZXVkb0VsZW1lbnRCb3goXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgYXRCbG9ja1N0YXJ0OiBib29sZWFuLFxuICAgIGF0Rmxvd1N0YXJ0OiBib29sZWFuLFxuICApIHtcbiAgICBpZiAodGhpcy5oYXNCb3goKSkge1xuICAgICAgY29uc3QgcHNldWRvTWFwID0gdGhpcy5zdHlsZVtcIl9wc2V1ZG9zXCJdO1xuICAgICAgaWYgKHBzZXVkb01hcCkge1xuICAgICAgICBpZiAocHNldWRvTWFwW1wiYWZ0ZXJcIl0pIHtcbiAgICAgICAgICBjb25zdCBhZnRlckJveCA9IG5ldyBCb3goXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICBwc2V1ZG9NYXBbXCJhZnRlclwiXSxcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgdGhpcy5mbG93Q2h1bmssXG4gICAgICAgICAgICBhdEJsb2NrU3RhcnQsXG4gICAgICAgICAgICBhdEZsb3dTdGFydCxcbiAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBhZnRlckNvbnRlbnQgPSBhZnRlckJveC5zdHlsZVZhbHVlKFwiY29udGVudFwiKTtcbiAgICAgICAgICBpZiAoVnRyZWUubm9uVHJpdmlhbENvbnRlbnQoYWZ0ZXJDb250ZW50KSkge1xuICAgICAgICAgICAgdGhpcy5hZnRlckJveCA9IGFmdGVyQm94O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0eWxlVmFsdWUobmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU/OiBDc3MuVmFsKTogQ3NzLlZhbCB8IG51bGwge1xuICAgIGlmICghKG5hbWUgaW4gdGhpcy5zdHlsZVZhbHVlcykpIHtcbiAgICAgIGNvbnN0IGN2ID0gdGhpcy5zdHlsZVtuYW1lXTtcbiAgICAgIHRoaXMuc3R5bGVWYWx1ZXNbbmFtZV0gPSBjdlxuICAgICAgICA/IGN2LmV2YWx1YXRlKHRoaXMuY29udGV4dCwgbmFtZSlcbiAgICAgICAgOiBkZWZhdWx0VmFsdWUgfHwgbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3R5bGVWYWx1ZXNbbmFtZV07XG4gIH1cblxuICBkaXNwbGF5VmFsdWUoKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMuc3R5bGVWYWx1ZShcImRpc3BsYXlcIiwgQ3NzLmlkZW50LmlubGluZSk7XG4gIH1cblxuICBpc0Jsb2NrKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmlzQmxvY2tWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgY29uc3QgZGlzcGxheSA9IHRoaXMuZGlzcGxheVZhbHVlKCkgYXMgQ3NzLklkZW50O1xuICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLnN0eWxlVmFsdWUoXCJwb3NpdGlvblwiKSBhcyBDc3MuSWRlbnQ7XG4gICAgICBjb25zdCBmbG9hdCA9IHRoaXMuc3R5bGVWYWx1ZShcImZsb2F0XCIpIGFzIENzcy5JZGVudDtcbiAgICAgIHRoaXMuaXNCbG9ja1ZhbHVlID0gRGlzcGxheS5pc0Jsb2NrKFxuICAgICAgICBkaXNwbGF5LFxuICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgZmxvYXQsXG4gICAgICAgIHRoaXMuaXNSb290LFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuaXNCbG9ja1ZhbHVlO1xuICB9XG5cbiAgaGFzQm94KCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmhhc0JveFZhbHVlID09PSBudWxsKSB7XG4gICAgICB0aGlzLmhhc0JveFZhbHVlID1cbiAgICAgICAgdGhpcy5pc1BhcmVudEJveERpc3BsYXllZCAmJiB0aGlzLmRpc3BsYXlWYWx1ZSgpICE9PSBDc3MuaWRlbnQubm9uZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuaGFzQm94VmFsdWU7XG4gIH1cblxuICBnZXRCcmVha1ZhbHVlKGVkZ2U6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgIGxldCBicmVha1ZhbHVlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICBpZiAodGhpcy5pc0Jsb2NrKCkpIHtcbiAgICAgIGNvbnN0IHZhbCA9IHRoaXMuc3R5bGVWYWx1ZShgYnJlYWstJHtlZGdlfWApO1xuICAgICAgaWYgKHZhbCkge1xuICAgICAgICBicmVha1ZhbHVlID0gdmFsLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBicmVha1ZhbHVlO1xuICB9XG59XG5cbi8qKlxuICogTWFuYWdlcyBib3hlcyBnZW5lcmF0ZWQgYnkgZWxlbWVudHMgYXMgYSBzdGFjay5cbiAqL1xuZXhwb3J0IGNsYXNzIEJveFN0YWNrIHtcbiAgc3RhY2sgPSBbXSBhcyBCb3hbXTtcbiAgYXRCbG9ja1N0YXJ0OiBib29sZWFuID0gdHJ1ZTsgLy8gaW5kaWNhdGVzIGlmIHRoZSBuZXh0IHB1c2hlZCBib3ggd2lsbCBiZSBhdCB0aGUgYmxvY2sgc3RhcnRcbiAgYXRGbG93U3RhcnQ6IGJvb2xlYW4gPSB0cnVlOyAvLyBpbmRpY2F0ZXMgaWYgdGhlIG5leHQgcHVzaGVkIGJveCB3aWxsIGJlIGF0IHRoZSBmbG93IHN0YXJ0XG4gIGF0U3RhcnRTdGFjayA9IFtdIGFzIHsgYXRCbG9ja1N0YXJ0OiBib29sZWFuOyBhdEZsb3dTdGFydDogYm9vbGVhbiB9W107IC8vIHB1c2hlZCB3aGVuIGEgbmV3IGZsb3cgc3RhcnRzXG5cbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGNvbnRleHQ6IEV4cHJzLkNvbnRleHQpIHt9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgaWYgdGhlIHN0YWNrIGlzIGVtcHR5LlxuICAgKi9cbiAgZW1wdHkoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhY2subGVuZ3RoID09PSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGxhc3QgYm94IGluIHRoZSBzdGFjay5cbiAgICovXG4gIGxhc3RCb3goKTogQm94IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGZsb3cgbmFtZSBvZiB0aGUgbGFzdCBib3ggaW4gdGhlIHN0YWNrLlxuICAgKi9cbiAgbGFzdEZsb3dOYW1lKCk6IHN0cmluZyB8IG51bGwge1xuICAgIGNvbnN0IGxhc3RCb3ggPSB0aGlzLmxhc3RCb3goKTtcbiAgICByZXR1cm4gbGFzdEJveCA/IGxhc3RCb3guZmxvd0NodW5rLmZsb3dOYW1lIDogbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGlmIHRoZSBsYXN0IGJveCBpbiB0aGUgc3RhY2sgaXMgZGlzcGxheWVkLlxuICAgKi9cbiAgaXNDdXJyZW50Qm94RGlzcGxheWVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnN0YWNrLmV2ZXJ5KChib3gpID0+IGJveC5kaXNwbGF5VmFsdWUoKSAhPT0gQ3NzLmlkZW50Lm5vbmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBib3ggYW5kIHB1c2ggaXQgdG8gdGhlIHN0YWNrLlxuICAgKiBAcGFyYW0gc3R5bGUgQ2FzY2FkZWQgc3R5bGUgdmFsdWVzIGZvciB0aGUgYm94LlxuICAgKiBAcGFyYW0gb2Zmc2V0IFRoZSBzdGFydCBvZmZzZXQgb2YgdGhlIGJveC5cbiAgICogQHBhcmFtIGlzUm9vdCBUcnVlIGlmIHRoZSBib3ggaXMgZ2VuZXJhdGVkIGJ5IHRoZSByb290IGVsZW1lbnRcbiAgICogQHBhcmFtIG5ld0Zsb3dDaHVuayBTcGVjaWZ5IGlmIHRoZSBlbGVtZW50IGlzIGEgZmxvdyBlbGVtZW50IChpLmUuIHRoZVxuICAgKiAgICAgZWxlbWVudCBpcyBzcGVjaWZpZWQgYSBuZXcgYGZsb3ctaW50b2AgdmFsdWUpXG4gICAqL1xuICBwdXNoKFxuICAgIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBpc1Jvb3Q6IGJvb2xlYW4sXG4gICAgbmV3Rmxvd0NodW5rPzogVnRyZWUuRmxvd0NodW5rLFxuICApOiBCb3gge1xuICAgIGNvbnN0IGxhc3RCb3ggPSB0aGlzLmxhc3RCb3goKTtcbiAgICBpZiAobmV3Rmxvd0NodW5rICYmIGxhc3RCb3ggJiYgbmV3Rmxvd0NodW5rLmZsb3dOYW1lICE9PSBsYXN0Qm94LmZsb3dOYW1lKSB7XG4gICAgICB0aGlzLmF0U3RhcnRTdGFjay5wdXNoKHtcbiAgICAgICAgYXRCbG9ja1N0YXJ0OiB0aGlzLmF0QmxvY2tTdGFydCxcbiAgICAgICAgYXRGbG93U3RhcnQ6IHRoaXMuYXRGbG93U3RhcnQsXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgZmxvd0NodW5rID0gbmV3Rmxvd0NodW5rIHx8IGxhc3RCb3guZmxvd0NodW5rO1xuICAgIGNvbnN0IGlzQXRGbG93U3RhcnQgPSB0aGlzLmF0Rmxvd1N0YXJ0IHx8ICEhbmV3Rmxvd0NodW5rO1xuICAgIGNvbnN0IGlzUGFyZW50Qm94RGlzcGxheWVkID0gdGhpcy5pc0N1cnJlbnRCb3hEaXNwbGF5ZWQoKTtcbiAgICBjb25zdCBib3ggPSBuZXcgQm94KFxuICAgICAgdGhpcy5jb250ZXh0LFxuICAgICAgc3R5bGUsXG4gICAgICBvZmZzZXQsXG4gICAgICBpc1Jvb3QsXG4gICAgICBmbG93Q2h1bmssXG4gICAgICBpc0F0Rmxvd1N0YXJ0IHx8IHRoaXMuYXRCbG9ja1N0YXJ0LFxuICAgICAgaXNBdEZsb3dTdGFydCxcbiAgICAgIGlzUGFyZW50Qm94RGlzcGxheWVkLFxuICAgICk7XG4gICAgdGhpcy5zdGFjay5wdXNoKGJveCk7XG4gICAgdGhpcy5hdEJsb2NrU3RhcnQgPSBib3guaGFzQm94KClcbiAgICAgID8gIWJveC5iZWZvcmVCb3ggJiYgYm94LmlzQmxvY2soKVxuICAgICAgOiB0aGlzLmF0QmxvY2tTdGFydDtcbiAgICB0aGlzLmF0Rmxvd1N0YXJ0ID0gYm94Lmhhc0JveCgpXG4gICAgICA/ICFib3guYmVmb3JlQm94ICYmIGlzQXRGbG93U3RhcnRcbiAgICAgIDogdGhpcy5hdEZsb3dTdGFydDtcbiAgICByZXR1cm4gYm94O1xuICB9XG5cbiAgZW5jb3VudGVyZWRUZXh0Tm9kZShub2RlOiBOb2RlKSB7XG4gICAgY29uc3QgYm94ID0gdGhpcy5sYXN0Qm94KCk7XG4gICAgaWYgKCh0aGlzLmF0QmxvY2tTdGFydCB8fCB0aGlzLmF0Rmxvd1N0YXJ0KSAmJiBib3guaGFzQm94KCkpIHtcbiAgICAgIGNvbnN0IHdoaXRlc3BhY2VWYWx1ZSA9IGJveFxuICAgICAgICAuc3R5bGVWYWx1ZShcIndoaXRlLXNwYWNlXCIsIENzcy5pZGVudC5ub3JtYWwpXG4gICAgICAgIC50b1N0cmluZygpO1xuICAgICAgY29uc3Qgd2hpdGVzcGFjZSA9IFZ0cmVlLndoaXRlc3BhY2VGcm9tUHJvcGVydHlWYWx1ZSh3aGl0ZXNwYWNlVmFsdWUpO1xuICAgICAgQXNzZXJ0cy5hc3NlcnQod2hpdGVzcGFjZSAhPT0gbnVsbCk7XG4gICAgICBpZiAoIVZ0cmVlLmNhbklnbm9yZShub2RlLCB3aGl0ZXNwYWNlKSkge1xuICAgICAgICB0aGlzLmF0QmxvY2tTdGFydCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmF0Rmxvd1N0YXJ0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBvcCB0aGUgbGFzdCBib3guXG4gICAqL1xuICBwb3Aob2Zmc2V0OiBudW1iZXIpOiBCb3gge1xuICAgIGNvbnN0IGJveCA9IHRoaXMuc3RhY2sucG9wKCk7XG4gICAgYm94LmJ1aWxkQWZ0ZXJQc2V1ZG9FbGVtZW50Qm94KG9mZnNldCwgdGhpcy5hdEJsb2NrU3RhcnQsIHRoaXMuYXRGbG93U3RhcnQpO1xuICAgIGlmICh0aGlzLmF0Rmxvd1N0YXJ0ICYmIGJveC5hZnRlckJveCkge1xuICAgICAgY29uc3QgYnJlYWtCZWZvcmUgPSBib3guYWZ0ZXJCb3guZ2V0QnJlYWtWYWx1ZShcImJlZm9yZVwiKTtcbiAgICAgIGJveC5mbG93Q2h1bmsuYnJlYWtCZWZvcmUgPSBCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgICAgICAgYm94LmZsb3dDaHVuay5icmVha0JlZm9yZSxcbiAgICAgICAgYnJlYWtCZWZvcmUsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmxhc3RCb3goKTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBpZiAocGFyZW50LmZsb3dOYW1lID09PSBib3guZmxvd05hbWUpIHtcbiAgICAgICAgaWYgKGJveC5oYXNCb3goKSkge1xuICAgICAgICAgIHRoaXMuYXRCbG9ja1N0YXJ0ID0gdGhpcy5hdEZsb3dTdGFydCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBhdFN0YXJ0ID0gdGhpcy5hdFN0YXJ0U3RhY2sucG9wKCk7XG4gICAgICAgIHRoaXMuYXRCbG9ja1N0YXJ0ID0gYXRTdGFydC5hdEJsb2NrU3RhcnQ7XG4gICAgICAgIHRoaXMuYXRGbG93U3RhcnQgPSBhdFN0YXJ0LmF0Rmxvd1N0YXJ0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYm94O1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgdGhlIHN0YXJ0IG9mZnNldCBvZiB0aGUgbmVhcmVzdCBibG9jayBzdGFydCBlZGdlIHRvIHdoaWNoIHRoZVxuICAgKiBgYnJlYWstYmVmb3JlYCB2YWx1ZSBvZiB0aGUgYm94IHNob3VsZCBiZSBwcm9wYWdhdGVkLiBUaGlzIG1ldGhvZCBjYW4gYmVcbiAgICogY2FsbGVkIHdoZW4gYWZ0ZXIgcHVzaGluZyB0aGUgYm94IGludG8gdGhlIHN0YWNrIG9yIGFmdGVyIHBvcHBpbmcgdGhlIGJveFxuICAgKiBvdXQgb2YgdGhlIHN0YWNrLlxuICAgKi9cbiAgbmVhcmVzdEJsb2NrU3RhcnRPZmZzZXQoYm94OiBCb3gpOiBudW1iZXIge1xuICAgIGlmICghYm94LmF0QmxvY2tTdGFydCkge1xuICAgICAgcmV0dXJuIGJveC5vZmZzZXQ7XG4gICAgfVxuICAgIGxldCBpID0gdGhpcy5zdGFjay5sZW5ndGggLSAxO1xuICAgIGxldCBwYXJlbnQgPSB0aGlzLnN0YWNrW2ldO1xuXG4gICAgLy8gV2hlbiBjYWxsZWQganVzdCBhZnRlciB0aGUgYm94IGlzIHBvcHBlZCBvdXQsIHRoZSBsYXN0IGJveCBpbiB0aGUgc3RhY2tcbiAgICAvLyBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgYm94IGFuZCBpdCBpcyB0aGUgcGFyZW50IG9mIHRoZSBib3guIFdoZW4gY2FsbGVkXG4gICAgLy8gYWZ0ZXIgdGhlIGJveCBpcyBwdXNoZWQsIHRoZSBsYXN0IGJveCBpbiB0aGUgc3RhY2sgaXMgaWRlbnRpY2FsIHRvIHRoZVxuICAgIC8vIGJveCBhbmQgdGhlIHBhcmVudCBvZiB0aGUgYm94IGlzIGEgYm94IHJpZ2h0IGJlZm9yZSB0aGUgc3BlY2lmaWVkIGJveC5cbiAgICBpZiAocGFyZW50ID09PSBib3gpIHtcbiAgICAgIGktLTtcbiAgICAgIHBhcmVudCA9IHRoaXMuc3RhY2tbaV07XG4gICAgfVxuICAgIHdoaWxlIChpID49IDApIHtcbiAgICAgIGlmIChwYXJlbnQuZmxvd05hbWUgIT09IGJveC5mbG93TmFtZSkge1xuICAgICAgICByZXR1cm4gYm94Lm9mZnNldDtcbiAgICAgIH1cbiAgICAgIGlmICghcGFyZW50LmF0QmxvY2tTdGFydCkge1xuICAgICAgICByZXR1cm4gcGFyZW50Lm9mZnNldDtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnQuaXNSb290KSB7XG4gICAgICAgIHJldHVybiBwYXJlbnQub2Zmc2V0O1xuICAgICAgfVxuICAgICAgYm94ID0gcGFyZW50O1xuICAgICAgcGFyZW50ID0gdGhpcy5zdGFja1stLWldO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBibG9jayBzdGFydCBvZmZzZXQgZm91bmQhXCIpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdHlsZXIgaW1wbGVtZW50cyBBYnN0cmFjdFN0eWxlciB7XG4gIHJvb3Q6IEVsZW1lbnQ7XG4gIGNhc2NhZGVIb2xkZXI6IENzc0Nhc2NhZGUuQ2FzY2FkZTtcbiAgbGFzdDogTm9kZTtcbiAgcm9vdFN0eWxlID0ge30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gIHN0eWxlTWFwOiB7IFtrZXk6IHN0cmluZ106IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIH0gPSB7fTtcbiAgZmxvd3MgPSB7fSBhcyB7IFtrZXk6IHN0cmluZ106IFZ0cmVlLkZsb3cgfTtcbiAgZmxvd0NodW5rcyA9IFtdIGFzIFZ0cmVlLkZsb3dDaHVua1tdO1xuICBmbG93TGlzdGVuZXI6IEZsb3dMaXN0ZW5lciA9IG51bGw7XG4gIGZsb3dUb1JlYWNoOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgaWRUb1JlYWNoOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgY2FzY2FkZTogQ3NzQ2FzY2FkZS5DYXNjYWRlSW5zdGFuY2U7XG4gIG9mZnNldE1hcDogU2xpcE1hcDtcbiAgcHJpbWFyeTogYm9vbGVhbiA9IHRydWU7XG4gIHByaW1hcnlTdGFjayA9IFtdIGFzIGJvb2xlYW5bXTtcbiAgcm9vdEJhY2tncm91bmRBc3NpZ25lZDogYm9vbGVhbiA9IGZhbHNlO1xuICByb290TGF5b3V0QXNzaWduZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgbGFzdE9mZnNldDogbnVtYmVyO1xuICBicmVha0JlZm9yZVZhbHVlcyA9IHt9IGFzIHsgW2tleTogbnVtYmVyXTogc3RyaW5nIHwgbnVsbCB9O1xuICBib3hTdGFjazogQm94U3RhY2s7XG4gIGJvZHlSZWFjaGVkOiBib29sZWFuID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyLFxuICAgIGNhc2NhZGU6IENzc0Nhc2NhZGUuQ2FzY2FkZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJpbWFyeUZsb3dzOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmFsaWRhdG9yU2V0OiBDc3NWYWxpZGF0b3IuVmFsaWRhdG9yU2V0LFxuICAgIHB1YmxpYyByZWFkb25seSBjb3VudGVyTGlzdGVuZXI6IENzc0Nhc2NhZGUuQ291bnRlckxpc3RlbmVyLFxuICAgIGNvdW50ZXJSZXNvbHZlcjogQ3NzQ2FzY2FkZS5Db3VudGVyUmVzb2x2ZXIsXG4gICkge1xuICAgIHRoaXMucm9vdCA9IHhtbGRvYy5yb290O1xuICAgIHRoaXMuY2FzY2FkZUhvbGRlciA9IGNhc2NhZGU7XG4gICAgdGhpcy5sYXN0ID0gdGhpcy5yb290O1xuICAgIHRoaXMuY2FzY2FkZSA9IGNhc2NhZGUuY3JlYXRlSW5zdGFuY2UoXG4gICAgICBjb250ZXh0LFxuICAgICAgY291bnRlckxpc3RlbmVyLFxuICAgICAgY291bnRlclJlc29sdmVyLFxuICAgICAgeG1sZG9jLmxhbmcsXG4gICAgKTtcbiAgICB0aGlzLm9mZnNldE1hcCA9IG5ldyBTbGlwTWFwKCk7XG4gICAgY29uc3Qgcm9vdE9mZnNldCA9IHhtbGRvYy5nZXRFbGVtZW50T2Zmc2V0KHRoaXMucm9vdCk7XG4gICAgdGhpcy5sYXN0T2Zmc2V0ID0gcm9vdE9mZnNldDtcbiAgICB0aGlzLmJveFN0YWNrID0gbmV3IEJveFN0YWNrKGNvbnRleHQpO1xuICAgIHRoaXMub2Zmc2V0TWFwLmFkZFN0dWNrUmFuZ2Uocm9vdE9mZnNldCk7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdldEF0dHJTdHlsZSh0aGlzLnJvb3QpO1xuICAgIHRoaXMuY2FzY2FkZS5wdXNoRWxlbWVudCh0aGlzLnJvb3QsIHN0eWxlLCByb290T2Zmc2V0KTtcbiAgICB0aGlzLnBvc3Rwcm9jZXNzVG9wU3R5bGUoc3R5bGUsIGZhbHNlKTtcbiAgICBzd2l0Y2ggKHRoaXMucm9vdC5uYW1lc3BhY2VVUkkpIHtcbiAgICAgIGNhc2UgQmFzZS5OUy5YSFRNTDpcbiAgICAgIGNhc2UgQmFzZS5OUy5GQjI6XG4gICAgICAgIHRoaXMuYm9keVJlYWNoZWQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMucHJpbWFyeVN0YWNrLnB1c2godHJ1ZSk7XG4gICAgdGhpcy5zdHlsZU1hcCA9IHt9O1xuICAgIHRoaXMuc3R5bGVNYXBbYGUke3Jvb3RPZmZzZXR9YF0gPSBzdHlsZTtcbiAgICB0aGlzLmxhc3RPZmZzZXQrKztcbiAgICB0aGlzLnJlcGxheUZsb3dFbGVtZW50c0Zyb21PZmZzZXQoLTEpO1xuICB9XG5cbiAgaGFzUHJvcChcbiAgICBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgbWFwOiBDc3NWYWxpZGF0b3IuVmFsdWVNYXAsXG4gICAgbmFtZTogc3RyaW5nLFxuICApOiBib29sZWFuIHtcbiAgICBjb25zdCBjYXNjVmFsID0gc3R5bGVbbmFtZV07XG4gICAgcmV0dXJuIGNhc2NWYWwgJiYgY2FzY1ZhbC5ldmFsdWF0ZSh0aGlzLmNvbnRleHQpICE9PSBtYXBbbmFtZV07XG4gIH1cblxuICB0cmFuc2ZlclByb3BzVG9Sb290KFxuICAgIHNyY1N0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBtYXA6IENzc1ZhbGlkYXRvci5WYWx1ZU1hcCxcbiAgKTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBwbmFtZSBpbiBtYXApIHtcbiAgICAgIGNvbnN0IGNhc2N2YWwgPSBzcmNTdHlsZVtwbmFtZV07XG4gICAgICBpZiAoY2FzY3ZhbCkge1xuICAgICAgICB0aGlzLnJvb3RTdHlsZVtwbmFtZV0gPSBjYXNjdmFsO1xuICAgICAgICBkZWxldGUgc3JjU3R5bGVbcG5hbWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdmFsID0gbWFwW3BuYW1lXTtcbiAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgIHRoaXMucm9vdFN0eWxlW3BuYW1lXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgICAgICAgIHZhbCxcbiAgICAgICAgICAgIENzc1BhcnNlci5TUEVDSUZJQ0lUWV9BVVRIT1IsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2ZlciBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWQgb24gdGhlIGNvbnRhaW5lciAocGFydGl0aW9uKVxuICAgKiBsZXZlbCB0byB0aGlzLnJvb3RTdHlsZS5cbiAgICogQHBhcmFtIGVsZW1TdHlsZSAoc291cmNlKSBlbGVtZW50IHN0eWxlXG4gICAqL1xuICBwb3N0cHJvY2Vzc1RvcFN0eWxlKFxuICAgIGVsZW1TdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgaXNCb2R5OiBib29sZWFuLFxuICApOiB2b2lkIHtcbiAgICBbXCJ3cml0aW5nLW1vZGVcIiwgXCJkaXJlY3Rpb25cIl0uZm9yRWFjaCgocHJvcE5hbWUpID0+IHtcbiAgICAgIGlmIChlbGVtU3R5bGVbcHJvcE5hbWVdICYmICEoaXNCb2R5ICYmIHRoaXMucm9vdFN0eWxlW3Byb3BOYW1lXSkpIHtcbiAgICAgICAgLy8gQ29weSBpdCBvdmVyLCBidXQga2VlcCBpdCBhdCB0aGUgcm9vdCBlbGVtZW50IGFzIHdlbGwuXG4gICAgICAgIHRoaXMucm9vdFN0eWxlW3Byb3BOYW1lXSA9IGVsZW1TdHlsZVtwcm9wTmFtZV07XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCF0aGlzLnJvb3RCYWNrZ3JvdW5kQXNzaWduZWQpIHtcbiAgICAgIGNvbnN0IGJhY2tncm91bmRDb2xvciA9IHRoaXMuaGFzUHJvcChcbiAgICAgICAgZWxlbVN0eWxlLFxuICAgICAgICB0aGlzLnZhbGlkYXRvclNldC5iYWNrZ3JvdW5kUHJvcHMsXG4gICAgICAgIFwiYmFja2dyb3VuZC1jb2xvclwiLFxuICAgICAgKVxuICAgICAgICA/IGVsZW1TdHlsZVtcImJhY2tncm91bmQtY29sb3JcIl0uZXZhbHVhdGUodGhpcy5jb250ZXh0KVxuICAgICAgICA6IChudWxsIGFzIENzcy5WYWwpO1xuICAgICAgY29uc3QgYmFja2dyb3VuZEltYWdlID0gdGhpcy5oYXNQcm9wKFxuICAgICAgICBlbGVtU3R5bGUsXG4gICAgICAgIHRoaXMudmFsaWRhdG9yU2V0LmJhY2tncm91bmRQcm9wcyxcbiAgICAgICAgXCJiYWNrZ3JvdW5kLWltYWdlXCIsXG4gICAgICApXG4gICAgICAgID8gZWxlbVN0eWxlW1wiYmFja2dyb3VuZC1pbWFnZVwiXS5ldmFsdWF0ZSh0aGlzLmNvbnRleHQpXG4gICAgICAgIDogKG51bGwgYXMgQ3NzLlZhbCk7XG4gICAgICBpZiAoXG4gICAgICAgIChiYWNrZ3JvdW5kQ29sb3IgJiYgYmFja2dyb3VuZENvbG9yICE9PSBDc3MuaWRlbnQuaW5oZXJpdCkgfHxcbiAgICAgICAgKGJhY2tncm91bmRJbWFnZSAmJiBiYWNrZ3JvdW5kSW1hZ2UgIT09IENzcy5pZGVudC5pbmhlcml0KVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMudHJhbnNmZXJQcm9wc1RvUm9vdChlbGVtU3R5bGUsIHRoaXMudmFsaWRhdG9yU2V0LmJhY2tncm91bmRQcm9wcyk7XG4gICAgICAgIHRoaXMucm9vdEJhY2tncm91bmRBc3NpZ25lZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdGhpcy5yb290TGF5b3V0QXNzaWduZWQpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sdW1uUHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMuaGFzUHJvcChlbGVtU3R5bGUsIHRoaXMudmFsaWRhdG9yU2V0LmxheW91dFByb3BzLCBjb2x1bW5Qcm9wc1tpXSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy50cmFuc2ZlclByb3BzVG9Sb290KGVsZW1TdHlsZSwgdGhpcy52YWxpZGF0b3JTZXQubGF5b3V0UHJvcHMpO1xuICAgICAgICAgIHRoaXMucm9vdExheW91dEFzc2lnbmVkID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzQm9keSkge1xuICAgICAgY29uc3QgZm9udFNpemUgPSBlbGVtU3R5bGVbXCJmb250LXNpemVcIl07XG4gICAgICBpZiAoZm9udFNpemUpIHtcbiAgICAgICAgY29uc3QgdmFsID0gZm9udFNpemUuZXZhbHVhdGUodGhpcy5jb250ZXh0KTtcbiAgICAgICAgbGV0IHB4ID0gdmFsLm51bTtcbiAgICAgICAgc3dpdGNoICh2YWwudW5pdCkge1xuICAgICAgICAgIGNhc2UgXCJlbVwiOlxuICAgICAgICAgIGNhc2UgXCJyZW1cIjpcbiAgICAgICAgICAgIHB4ICo9IHRoaXMuY29udGV4dC5pbml0aWFsRm9udFNpemU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiZXhcIjpcbiAgICAgICAgICAgIHB4ICo9XG4gICAgICAgICAgICAgICh0aGlzLmNvbnRleHQuaW5pdGlhbEZvbnRTaXplICogRXhwcnMuZGVmYXVsdFVuaXRTaXplc1tcImV4XCJdKSAvXG4gICAgICAgICAgICAgIEV4cHJzLmRlZmF1bHRVbml0U2l6ZXNbXCJlbVwiXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCIlXCI6XG4gICAgICAgICAgICBweCAqPSB0aGlzLmNvbnRleHQuaW5pdGlhbEZvbnRTaXplIC8gMTAwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgY29uc3QgdW5pdFNpemUgPSBFeHBycy5kZWZhdWx0VW5pdFNpemVzW3ZhbC51bml0XTtcbiAgICAgICAgICAgIGlmICh1bml0U2l6ZSkge1xuICAgICAgICAgICAgICBweCAqPSB1bml0U2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250ZXh0LnJvb3RGb250U2l6ZSA9IHB4O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldFRvcENvbnRhaW5lclN0eWxlKCk6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIHtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICB3aGlsZSAoIXRoaXMuYm9keVJlYWNoZWQpIHtcbiAgICAgIG9mZnNldCArPSA1MDAwO1xuICAgICAgaWYgKHRoaXMuc3R5bGVVbnRpbChvZmZzZXQsIDApID09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucm9vdFN0eWxlO1xuICB9XG5cbiAgZ2V0QXR0clN0eWxlKGVsZW06IEVsZW1lbnQpOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSB7XG4gICAgLy8gc2tpcCBjYXNlcyBpbiB3aGljaCBlbGVtZW50cyBmb3IgWE1MIG90aGVyIHRoYW4gSFRNTCBvciBTVkdcbiAgICAvLyBoYXZlICdzdHlsZScgYXR0cmlidXRlIG5vdCBmb3IgQ1NTIGRlY2xhcmF0aW9uXG4gICAgaWYgKChlbGVtIGFzIGFueSkuc3R5bGUgaW5zdGFuY2VvZiBDU1NTdHlsZURlY2xhcmF0aW9uKSB7XG4gICAgICBjb25zdCBzdHlsZUF0dHJWYWx1ZSA9IGVsZW0uZ2V0QXR0cmlidXRlKFwic3R5bGVcIik7XG4gICAgICBpZiAoc3R5bGVBdHRyVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIENzc0Nhc2NhZGUucGFyc2VTdHlsZUF0dHJpYnV0ZShcbiAgICAgICAgICB0aGlzLnNjb3BlLFxuICAgICAgICAgIHRoaXMudmFsaWRhdG9yU2V0LFxuICAgICAgICAgIHRoaXMueG1sZG9jLnVybCxcbiAgICAgICAgICBzdHlsZUF0dHJWYWx1ZSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHt9IGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gY3VycmVudGx5IHJlYWNoZWQgb2Zmc2V0XG4gICAqL1xuICBnZXRSZWFjaGVkT2Zmc2V0KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubGFzdE9mZnNldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBsYXkgZmxvdyBlbGVtZW50cyB0aGF0IHdlcmUgZW5jb3VudGVyZWQgc2luY2UgdGhlIGdpdmVuIG9mZnNldFxuICAgKi9cbiAgcmVwbGF5Rmxvd0VsZW1lbnRzRnJvbU9mZnNldChvZmZzZXQ6IG51bWJlcik6IHZvaWQge1xuICAgIGlmIChvZmZzZXQgPj0gdGhpcy5sYXN0T2Zmc2V0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgY29uc3Qgcm9vdE9mZnNldCA9IHRoaXMueG1sZG9jLmdldEVsZW1lbnRPZmZzZXQodGhpcy5yb290KTtcbiAgICBpZiAob2Zmc2V0IDwgcm9vdE9mZnNldCkge1xuICAgICAgY29uc3Qgcm9vdFN0eWxlID0gdGhpcy5nZXRTdHlsZSh0aGlzLnJvb3QsIGZhbHNlKTtcbiAgICAgIEFzc2VydHMuYXNzZXJ0KHJvb3RTdHlsZSk7XG4gICAgICBjb25zdCBmbG93TmFtZSA9IENzc0Nhc2NhZGUuZ2V0UHJvcChyb290U3R5bGUsIFwiZmxvdy1pbnRvXCIpO1xuICAgICAgY29uc3QgZmxvd05hbWVTdHIgPSBmbG93TmFtZVxuICAgICAgICA/IGZsb3dOYW1lLmV2YWx1YXRlKGNvbnRleHQsIFwiZmxvdy1pbnRvXCIpLnRvU3RyaW5nKClcbiAgICAgICAgOiBcImJvZHlcIjtcbiAgICAgIGNvbnN0IG5ld0Zsb3dDaHVuayA9IHRoaXMuZW5jb3VudGVyZWRGbG93RWxlbWVudChcbiAgICAgICAgZmxvd05hbWVTdHIsXG4gICAgICAgIHJvb3RTdHlsZSxcbiAgICAgICAgdGhpcy5yb290LFxuICAgICAgICByb290T2Zmc2V0LFxuICAgICAgKTtcbiAgICAgIGlmICh0aGlzLmJveFN0YWNrLmVtcHR5KCkpIHtcbiAgICAgICAgdGhpcy5ib3hTdGFjay5wdXNoKHJvb3RTdHlsZSwgcm9vdE9mZnNldCwgdHJ1ZSwgbmV3Rmxvd0NodW5rKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IG5vZGUgPSB0aGlzLnhtbGRvYy5nZXROb2RlQnlPZmZzZXQob2Zmc2V0KTtcbiAgICBsZXQgbm9kZU9mZnNldCA9IHRoaXMueG1sZG9jLmdldE5vZGVPZmZzZXQobm9kZSwgMCwgZmFsc2UpO1xuICAgIGlmIChub2RlT2Zmc2V0ID49IHRoaXMubGFzdE9mZnNldCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICBub2RlT2Zmc2V0ICs9IG5vZGUudGV4dENvbnRlbnQubGVuZ3RoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZWxlbSA9IG5vZGUgYXMgRWxlbWVudDtcbiAgICAgICAgaWYgKFZJVkxJT1NUWUxFX0RFQlVHKSB7XG4gICAgICAgICAgaWYgKG5vZGVPZmZzZXQgIT0gdGhpcy54bWxkb2MuZ2V0RWxlbWVudE9mZnNldChlbGVtKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5jb25zaXN0ZW50IG9mZnNldFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdldFN0eWxlKGVsZW0sIGZhbHNlKTtcbiAgICAgICAgY29uc3QgZmxvd05hbWUgPSBzdHlsZVtcImZsb3ctaW50b1wiXTtcbiAgICAgICAgaWYgKGZsb3dOYW1lKSB7XG4gICAgICAgICAgY29uc3QgZmxvd05hbWVTdHIgPSBmbG93TmFtZVxuICAgICAgICAgICAgLmV2YWx1YXRlKGNvbnRleHQsIFwiZmxvdy1pbnRvXCIpXG4gICAgICAgICAgICAudG9TdHJpbmcoKTtcbiAgICAgICAgICB0aGlzLmVuY291bnRlcmVkRmxvd0VsZW1lbnQoZmxvd05hbWVTdHIsIHN0eWxlLCBlbGVtLCBub2RlT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBub2RlT2Zmc2V0Kys7XG4gICAgICB9XG4gICAgICBpZiAobm9kZU9mZnNldCA+PSB0aGlzLmxhc3RPZmZzZXQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBsZXQgbmV4dDogTm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgIGlmIChuZXh0ID09IG51bGwpIHtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgaWYgKG5vZGUgPT09IHRoaXMucm9vdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbm9kZSA9IG5leHQ7XG4gICAgfVxuICB9XG5cbiAgcmVzZXRGbG93Q2h1bmtTdHJlYW0oZmxvd0xpc3RlbmVyOiBGbG93TGlzdGVuZXIpOiB2b2lkIHtcbiAgICB0aGlzLmZsb3dMaXN0ZW5lciA9IGZsb3dMaXN0ZW5lcjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmxvd0NodW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5mbG93TGlzdGVuZXIuZW5jb3VudGVyZWRGbG93Q2h1bmsoXG4gICAgICAgIHRoaXMuZmxvd0NodW5rc1tpXSxcbiAgICAgICAgdGhpcy5mbG93c1t0aGlzLmZsb3dDaHVua3NbaV0uZmxvd05hbWVdLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBzdHlsZVVudGlsRmxvd0lzUmVhY2hlZChmbG93TmFtZTogc3RyaW5nKSB7XG4gICAgdGhpcy5mbG93VG9SZWFjaCA9IGZsb3dOYW1lO1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAodGhpcy5mbG93VG9SZWFjaCA9PSBudWxsKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgb2Zmc2V0ICs9IDUwMDA7XG4gICAgICBpZiAodGhpcy5zdHlsZVVudGlsKG9mZnNldCwgMCkgPT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0eWxlVW50aWxJZElzUmVhY2hlZChpZDogc3RyaW5nKSB7XG4gICAgaWYgKCFpZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmlkVG9SZWFjaCA9IGlkO1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAoIXRoaXMuaWRUb1JlYWNoKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgb2Zmc2V0ICs9IDUwMDA7XG4gICAgICBpZiAodGhpcy5zdHlsZVVudGlsKG9mZnNldCwgMCkgPT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5pZFRvUmVhY2ggPSBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBlbmNvdW50ZXJlZEZsb3dFbGVtZW50KFxuICAgIGZsb3dOYW1lOiBzdHJpbmcsXG4gICAgc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIGVsZW06IEVsZW1lbnQsXG4gICAgc3RhcnRPZmZzZXQ6IG51bWJlcixcbiAgKTogVnRyZWUuRmxvd0NodW5rIHtcbiAgICBsZXQgcHJpb3JpdHkgPSAwO1xuICAgIGxldCBsaW5nZXIgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgbGV0IGV4Y2x1c2l2ZSA9IGZhbHNlO1xuICAgIGxldCByZXBlYXRlZCA9IGZhbHNlO1xuICAgIGxldCBsYXN0ID0gZmFsc2U7XG4gICAgY29uc3Qgb3B0aW9uc0NWID0gc3R5bGVbXCJmbG93LW9wdGlvbnNcIl07XG4gICAgaWYgKG9wdGlvbnNDVikge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IENzc1Byb3AudG9TZXQoXG4gICAgICAgIG9wdGlvbnNDVi5ldmFsdWF0ZSh0aGlzLmNvbnRleHQsIFwiZmxvdy1vcHRpb25zXCIpLFxuICAgICAgKTtcbiAgICAgIGV4Y2x1c2l2ZSA9ICEhb3B0aW9uc1tcImV4Y2x1c2l2ZVwiXTtcbiAgICAgIHJlcGVhdGVkID0gISFvcHRpb25zW1wic3RhdGljXCJdO1xuICAgICAgbGFzdCA9ICEhb3B0aW9uc1tcImxhc3RcIl07XG4gICAgfVxuICAgIGNvbnN0IGxpbmdlckNWID0gc3R5bGVbXCJmbG93LWxpbmdlclwiXTtcbiAgICBpZiAobGluZ2VyQ1YpIHtcbiAgICAgIGxpbmdlciA9IENzc1Byb3AudG9JbnQoXG4gICAgICAgIGxpbmdlckNWLmV2YWx1YXRlKHRoaXMuY29udGV4dCwgXCJmbG93LWxpbmdlclwiKSxcbiAgICAgICAgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgcHJpb3JpdHlDViA9IHN0eWxlW1wiZmxvdy1wcmlvcml0eVwiXTtcbiAgICBpZiAocHJpb3JpdHlDVikge1xuICAgICAgcHJpb3JpdHkgPSBDc3NQcm9wLnRvSW50KFxuICAgICAgICBwcmlvcml0eUNWLmV2YWx1YXRlKHRoaXMuY29udGV4dCwgXCJmbG93LXByaW9yaXR5XCIpLFxuICAgICAgICAwLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgYnJlYWtCZWZvcmUgPSB0aGlzLmJyZWFrQmVmb3JlVmFsdWVzW3N0YXJ0T2Zmc2V0XSB8fCBudWxsO1xuICAgIGxldCBmbG93ID0gdGhpcy5mbG93c1tmbG93TmFtZV07XG4gICAgaWYgKCFmbG93KSB7XG4gICAgICBjb25zdCBwYXJlbnRGbG93TmFtZSA9IHRoaXMuYm94U3RhY2subGFzdEZsb3dOYW1lKCk7XG4gICAgICBmbG93ID0gdGhpcy5mbG93c1tmbG93TmFtZV0gPSBuZXcgVnRyZWUuRmxvdyhmbG93TmFtZSwgcGFyZW50Rmxvd05hbWUpO1xuICAgIH1cbiAgICBjb25zdCBmbG93Q2h1bmsgPSBuZXcgVnRyZWUuRmxvd0NodW5rKFxuICAgICAgZmxvd05hbWUsXG4gICAgICBlbGVtLFxuICAgICAgc3RhcnRPZmZzZXQsXG4gICAgICBwcmlvcml0eSxcbiAgICAgIGxpbmdlcixcbiAgICAgIGV4Y2x1c2l2ZSxcbiAgICAgIHJlcGVhdGVkLFxuICAgICAgbGFzdCxcbiAgICAgIGJyZWFrQmVmb3JlLFxuICAgICk7XG4gICAgdGhpcy5mbG93Q2h1bmtzLnB1c2goZmxvd0NodW5rKTtcbiAgICBpZiAodGhpcy5mbG93VG9SZWFjaCA9PSBmbG93TmFtZSkge1xuICAgICAgdGhpcy5mbG93VG9SZWFjaCA9IG51bGw7XG4gICAgfVxuICAgIGlmICh0aGlzLmZsb3dMaXN0ZW5lcikge1xuICAgICAgdGhpcy5mbG93TGlzdGVuZXIuZW5jb3VudGVyZWRGbG93Q2h1bmsoZmxvd0NodW5rLCBmbG93KTtcbiAgICB9XG4gICAgcmV0dXJuIGZsb3dDaHVuaztcbiAgfVxuXG4gIHJlZ2lzdGVyRm9yY2VkQnJlYWtPZmZzZXQoXG4gICAgYnJlYWtWYWx1ZTogc3RyaW5nIHwgbnVsbCxcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBmbG93TmFtZTogc3RyaW5nLFxuICApIHtcbiAgICBpZiAoQnJlYWsuaXNGb3JjZWRCcmVha1ZhbHVlKGJyZWFrVmFsdWUpKSB7XG4gICAgICBjb25zdCBmb3JjZWRCcmVha09mZnNldHMgPSB0aGlzLmZsb3dzW2Zsb3dOYW1lXS5mb3JjZWRCcmVha09mZnNldHM7XG4gICAgICBpZiAoXG4gICAgICAgIGZvcmNlZEJyZWFrT2Zmc2V0cy5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgZm9yY2VkQnJlYWtPZmZzZXRzW2ZvcmNlZEJyZWFrT2Zmc2V0cy5sZW5ndGggLSAxXSA8IG9mZnNldFxuICAgICAgKSB7XG4gICAgICAgIGZvcmNlZEJyZWFrT2Zmc2V0cy5wdXNoKG9mZnNldCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSB0aGlzLmJyZWFrQmVmb3JlVmFsdWVzW29mZnNldF07XG4gICAgdGhpcy5icmVha0JlZm9yZVZhbHVlc1tvZmZzZXRdID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICBwcmV2aW91c1ZhbHVlLFxuICAgICAgYnJlYWtWYWx1ZSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBzdGFydE9mZnNldCBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudFxuICAgKiBAcGFyYW0gbG9va3VwIGxvb2t1cCB3aW5kb3cgc2l6ZSBmb3IgdGhlIG5leHQgcGFnZVxuICAgKiBAcmV0dXJuIGxvb2t1cCBvZmZzZXQgaW4gdGhlIGRvY3VtZW50IGZvciB0aGUgbmV4dCBwYWdlXG4gICAqL1xuICBzdHlsZVVudGlsKHN0YXJ0T2Zmc2V0OiBudW1iZXIsIGxvb2t1cDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBsZXQgdGFyZ2V0U2xpcHBlZE9mZnNldCA9IC0xO1xuICAgIGxldCBzbGlwcGVkT2Zmc2V0OiBudW1iZXI7XG4gICAgaWYgKHN0YXJ0T2Zmc2V0IDw9IHRoaXMubGFzdE9mZnNldCkge1xuICAgICAgc2xpcHBlZE9mZnNldCA9IHRoaXMub2Zmc2V0TWFwLnNsaXBwZWRCeUZpeGVkKHN0YXJ0T2Zmc2V0KTtcbiAgICAgIHRhcmdldFNsaXBwZWRPZmZzZXQgPSBzbGlwcGVkT2Zmc2V0ICsgbG9va3VwO1xuICAgICAgaWYgKHRhcmdldFNsaXBwZWRPZmZzZXQgPCB0aGlzLm9mZnNldE1hcC5nZXRNYXhTbGlwcGVkKCkpIHtcbiAgICAgICAgLy8gZ290IHRvIHRoZSBkZXNpcmVkIHBvaW50XG4gICAgICAgIHJldHVybiB0aGlzLm9mZnNldE1hcC5maXhlZEJ5U2xpcHBlZCh0YXJnZXRTbGlwcGVkT2Zmc2V0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMubGFzdCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBsZXQgbmV4dDogTm9kZSA9IHRoaXMubGFzdC5maXJzdENoaWxkO1xuICAgICAgaWYgKG5leHQgPT0gbnVsbCkge1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIGlmICh0aGlzLmxhc3Qubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgICAgdGhpcy5jYXNjYWRlLnBvcEVsZW1lbnQodGhpcy5sYXN0IGFzIEVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5wcmltYXJ5ID0gdGhpcy5wcmltYXJ5U3RhY2sucG9wKCk7XG4gICAgICAgICAgICBjb25zdCBib3ggPSB0aGlzLmJveFN0YWNrLnBvcCh0aGlzLmxhc3RPZmZzZXQpO1xuICAgICAgICAgICAgbGV0IGJyZWFrQWZ0ZXI6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGJveC5hZnRlckJveCkge1xuICAgICAgICAgICAgICBjb25zdCBhZnRlclBzZXVkb0JyZWFrQmVmb3JlID0gYm94LmFmdGVyQm94LmdldEJyZWFrVmFsdWUoXG4gICAgICAgICAgICAgICAgXCJiZWZvcmVcIixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5yZWdpc3RlckZvcmNlZEJyZWFrT2Zmc2V0KFxuICAgICAgICAgICAgICAgIGFmdGVyUHNldWRvQnJlYWtCZWZvcmUsXG4gICAgICAgICAgICAgICAgYm94LmFmdGVyQm94LmF0QmxvY2tTdGFydFxuICAgICAgICAgICAgICAgICAgPyB0aGlzLmJveFN0YWNrLm5lYXJlc3RCbG9ja1N0YXJ0T2Zmc2V0KGJveClcbiAgICAgICAgICAgICAgICAgIDogYm94LmFmdGVyQm94Lm9mZnNldCxcbiAgICAgICAgICAgICAgICBib3guZmxvd05hbWUsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrQWZ0ZXIgPSBib3guYWZ0ZXJCb3guZ2V0QnJlYWtWYWx1ZShcImFmdGVyXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWtBZnRlciA9IEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgICAgICAgICBicmVha0FmdGVyLFxuICAgICAgICAgICAgICBib3guZ2V0QnJlYWtWYWx1ZShcImFmdGVyXCIpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJGb3JjZWRCcmVha09mZnNldChcbiAgICAgICAgICAgICAgYnJlYWtBZnRlcixcbiAgICAgICAgICAgICAgdGhpcy5sYXN0T2Zmc2V0LFxuICAgICAgICAgICAgICBib3guZmxvd05hbWUsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0ID0gdGhpcy5sYXN0Lm5leHRTaWJsaW5nO1xuICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5sYXN0ID0gdGhpcy5sYXN0LnBhcmVudE5vZGU7XG4gICAgICAgICAgaWYgKHRoaXMubGFzdCA9PT0gdGhpcy5yb290KSB7XG4gICAgICAgICAgICB0aGlzLmxhc3QgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHN0YXJ0T2Zmc2V0IDwgdGhpcy5sYXN0T2Zmc2V0KSB7XG4gICAgICAgICAgICAgIGlmICh0YXJnZXRTbGlwcGVkT2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgICAgIHNsaXBwZWRPZmZzZXQgPSB0aGlzLm9mZnNldE1hcC5zbGlwcGVkQnlGaXhlZChzdGFydE9mZnNldCk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0U2xpcHBlZE9mZnNldCA9IHNsaXBwZWRPZmZzZXQgKyBsb29rdXA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHRhcmdldFNsaXBwZWRPZmZzZXQgPD0gdGhpcy5vZmZzZXRNYXAuZ2V0TWF4U2xpcHBlZCgpKSB7XG4gICAgICAgICAgICAgICAgLy8gZ290IHRvIHRoZSBkZXNpcmVkIHBvaW50XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub2Zmc2V0TWFwLmZpeGVkQnlTbGlwcGVkKHRhcmdldFNsaXBwZWRPZmZzZXQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5sYXN0ID0gbmV4dDtcbiAgICAgIGlmICh0aGlzLmxhc3Qubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICB0aGlzLmxhc3RPZmZzZXQgKz0gdGhpcy5sYXN0LnRleHRDb250ZW50Lmxlbmd0aDtcbiAgICAgICAgdGhpcy5ib3hTdGFjay5lbmNvdW50ZXJlZFRleHROb2RlKHRoaXMubGFzdCk7XG4gICAgICAgIGlmICh0aGlzLnByaW1hcnkpIHtcbiAgICAgICAgICB0aGlzLm9mZnNldE1hcC5hZGRTdHVja1JhbmdlKHRoaXMubGFzdE9mZnNldCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5vZmZzZXRNYXAuYWRkU2xpcHBlZFJhbmdlKHRoaXMubGFzdE9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGVsZW0gPSB0aGlzLmxhc3QgYXMgRWxlbWVudDtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdldEF0dHJTdHlsZShlbGVtKTtcbiAgICAgICAgdGhpcy5wcmltYXJ5U3RhY2sucHVzaCh0aGlzLnByaW1hcnkpO1xuICAgICAgICB0aGlzLmNhc2NhZGUucHVzaEVsZW1lbnQoZWxlbSwgc3R5bGUsIHRoaXMubGFzdE9mZnNldCk7XG4gICAgICAgIGNvbnN0IGlkID1cbiAgICAgICAgICBlbGVtLmdldEF0dHJpYnV0ZShcImlkXCIpIHx8IGVsZW0uZ2V0QXR0cmlidXRlTlMoQmFzZS5OUy5YTUwsIFwiaWRcIik7XG4gICAgICAgIGlmIChpZCAmJiBpZCA9PT0gdGhpcy5pZFRvUmVhY2gpIHtcbiAgICAgICAgICB0aGlzLmlkVG9SZWFjaCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgICF0aGlzLmJvZHlSZWFjaGVkICYmXG4gICAgICAgICAgZWxlbS5sb2NhbE5hbWUgPT0gXCJib2R5XCIgJiZcbiAgICAgICAgICBlbGVtLnBhcmVudE5vZGUgPT0gdGhpcy5yb290XG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMucG9zdHByb2Nlc3NUb3BTdHlsZShzdHlsZSwgdHJ1ZSk7XG4gICAgICAgICAgdGhpcy5ib2R5UmVhY2hlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJveDogQm94O1xuICAgICAgICBjb25zdCBmbG93TmFtZSA9IHN0eWxlW1wiZmxvdy1pbnRvXCJdO1xuICAgICAgICBpZiAoZmxvd05hbWUpIHtcbiAgICAgICAgICBjb25zdCBmbG93TmFtZVN0ciA9IGZsb3dOYW1lXG4gICAgICAgICAgICAuZXZhbHVhdGUoY29udGV4dCwgXCJmbG93LWludG9cIilcbiAgICAgICAgICAgIC50b1N0cmluZygpO1xuICAgICAgICAgIGNvbnN0IG5ld0Zsb3dDaHVuayA9IHRoaXMuZW5jb3VudGVyZWRGbG93RWxlbWVudChcbiAgICAgICAgICAgIGZsb3dOYW1lU3RyLFxuICAgICAgICAgICAgc3R5bGUsXG4gICAgICAgICAgICBlbGVtLFxuICAgICAgICAgICAgdGhpcy5sYXN0T2Zmc2V0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5wcmltYXJ5ID0gISF0aGlzLnByaW1hcnlGbG93c1tmbG93TmFtZVN0cl07XG4gICAgICAgICAgYm94ID0gdGhpcy5ib3hTdGFjay5wdXNoKFxuICAgICAgICAgICAgc3R5bGUsXG4gICAgICAgICAgICB0aGlzLmxhc3RPZmZzZXQsXG4gICAgICAgICAgICBlbGVtID09PSB0aGlzLnJvb3QsXG4gICAgICAgICAgICBuZXdGbG93Q2h1bmssXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBib3ggPSB0aGlzLmJveFN0YWNrLnB1c2goc3R5bGUsIHRoaXMubGFzdE9mZnNldCwgZWxlbSA9PT0gdGhpcy5yb290KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBibG9ja1N0YXJ0T2Zmc2V0ID0gdGhpcy5ib3hTdGFjay5uZWFyZXN0QmxvY2tTdGFydE9mZnNldChib3gpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRm9yY2VkQnJlYWtPZmZzZXQoXG4gICAgICAgICAgYm94LmJyZWFrQmVmb3JlLFxuICAgICAgICAgIGJsb2NrU3RhcnRPZmZzZXQsXG4gICAgICAgICAgYm94LmZsb3dOYW1lLFxuICAgICAgICApO1xuICAgICAgICBpZiAoYm94LmJlZm9yZUJveCkge1xuICAgICAgICAgIGNvbnN0IGJlZm9yZVBzZXVkb0JyZWFrQWZ0ZXIgPSBib3guYmVmb3JlQm94LmdldEJyZWFrVmFsdWUoXCJhZnRlclwiKTtcbiAgICAgICAgICB0aGlzLnJlZ2lzdGVyRm9yY2VkQnJlYWtPZmZzZXQoXG4gICAgICAgICAgICBiZWZvcmVQc2V1ZG9CcmVha0FmdGVyLFxuICAgICAgICAgICAgYm94LmJlZm9yZUJveC5hdEJsb2NrU3RhcnQgPyBibG9ja1N0YXJ0T2Zmc2V0IDogYm94Lm9mZnNldCxcbiAgICAgICAgICAgIGJveC5mbG93TmFtZSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByaW1hcnkpIHtcbiAgICAgICAgICBpZiAoYm94LmRpc3BsYXlWYWx1ZSgpID09PSBDc3MuaWRlbnQubm9uZSkge1xuICAgICAgICAgICAgdGhpcy5wcmltYXJ5ID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChWSVZMSU9TVFlMRV9ERUJVRykge1xuICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMueG1sZG9jLmdldEVsZW1lbnRPZmZzZXQodGhpcy5sYXN0IGFzIEVsZW1lbnQpO1xuICAgICAgICAgIGlmIChvZmZzZXQgIT0gdGhpcy5sYXN0T2Zmc2V0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmNvbnNpc3RlbnQgb2Zmc2V0XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0eWxlTWFwW2BlJHt0aGlzLmxhc3RPZmZzZXR9YF0gPSBzdHlsZTtcbiAgICAgICAgdGhpcy5sYXN0T2Zmc2V0Kys7XG4gICAgICAgIGlmICh0aGlzLnByaW1hcnkpIHtcbiAgICAgICAgICB0aGlzLm9mZnNldE1hcC5hZGRTdHVja1JhbmdlKHRoaXMubGFzdE9mZnNldCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5vZmZzZXRNYXAuYWRkU2xpcHBlZFJhbmdlKHRoaXMubGFzdE9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0T2Zmc2V0IDwgdGhpcy5sYXN0T2Zmc2V0KSB7XG4gICAgICAgICAgaWYgKHRhcmdldFNsaXBwZWRPZmZzZXQgPCAwKSB7XG4gICAgICAgICAgICBzbGlwcGVkT2Zmc2V0ID0gdGhpcy5vZmZzZXRNYXAuc2xpcHBlZEJ5Rml4ZWQoc3RhcnRPZmZzZXQpO1xuICAgICAgICAgICAgdGFyZ2V0U2xpcHBlZE9mZnNldCA9IHNsaXBwZWRPZmZzZXQgKyBsb29rdXA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0YXJnZXRTbGlwcGVkT2Zmc2V0IDw9IHRoaXMub2Zmc2V0TWFwLmdldE1heFNsaXBwZWQoKSkge1xuICAgICAgICAgICAgLy8gZ290IHRvIHRoZSBkZXNpcmVkIHBvaW50XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vZmZzZXRNYXAuZml4ZWRCeVNsaXBwZWQodGFyZ2V0U2xpcHBlZE9mZnNldCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0U3R5bGUoZWxlbWVudDogRWxlbWVudCwgZGVlcDogYm9vbGVhbik6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIHtcbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy54bWxkb2MuZ2V0RWxlbWVudE9mZnNldChlbGVtZW50KTtcbiAgICBjb25zdCBrZXkgPSBgZSR7b2Zmc2V0fWA7XG4gICAgaWYgKGRlZXApIHtcbiAgICAgIG9mZnNldCA9IHRoaXMueG1sZG9jLmdldE5vZGVPZmZzZXQoZWxlbWVudCwgMCwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmxhc3RPZmZzZXQgPD0gb2Zmc2V0KSB7XG4gICAgICB0aGlzLnN0eWxlVW50aWwob2Zmc2V0LCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3R5bGVNYXBba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHByb2Nlc3NDb250ZW50KGVsZW1lbnQ6IEVsZW1lbnQsIHN0eWxlczogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0pIHt9XG59XG5cbmV4cG9ydCBjb25zdCBjb2x1bW5Qcm9wcyA9IFtcImNvbHVtbi1jb3VudFwiLCBcImNvbHVtbi13aWR0aFwiLCBcImNvbHVtbi1maWxsXCJdO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDc3NWYWxpZGF0b3IgLSBQYXJzZSB2YWxpZGF0aW9uIHJ1bGVzICh2YWxpZGF0aW9uLnR4dCksIHZhbGlkYXRlXG4gKiBwcm9wZXJ0aWVzIGFuZCBzaG9ydGhhbmRzLlxuICovXG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NQYXJzZXIgZnJvbSBcIi4vY3NzLXBhcnNlclwiO1xuaW1wb3J0ICogYXMgQ3NzVG9rZW5pemVyIGZyb20gXCIuL2Nzcy10b2tlbml6ZXJcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0IFZhbGlkYXRpb25UeHQgZnJvbSBcIi4vYXNzZXRzL3ZhbGlkYXRpb24udHh0XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcGVydHlSZWNlaXZlciB7XG4gIHVua25vd25Qcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsKTogdm9pZDtcblxuICBpbnZhbGlkUHJvcGVydHlWYWx1ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsKTogdm9pZDtcblxuICBzaW1wbGVQcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQpOiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgTm9kZSB7XG4gIHN1Y2Nlc3M6IE5vZGUgPSBudWxsO1xuICBmYWlsdXJlOiBOb2RlID0gbnVsbDtcbiAgY29kZTogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgdmFsaWRhdG9yOiBQcm9wZXJ0eVZhbGlkYXRvcikge31cblxuICBpc1NwZWNpYWwoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY29kZSAhPSAwO1xuICB9XG5cbiAgbWFya0FzU3RhcnRHcm91cCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvZGUgPSAtMTtcbiAgfVxuXG4gIGlzU3RhcnRHcm91cCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb2RlID09IC0xO1xuICB9XG5cbiAgbWFya0FzRW5kR3JvdXAoKTogdm9pZCB7XG4gICAgdGhpcy5jb2RlID0gLTI7XG4gIH1cblxuICBpc0VuZEdyb3VwKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvZGUgPT0gLTI7XG4gIH1cblxuICBtYXJrQXNTdGFydEFsdGVybmF0ZShpbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5jb2RlID0gMiAqIGluZGV4ICsgMTtcbiAgfVxuXG4gIGlzU3RhcnRBbHRlcm5hdGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY29kZSA+IDAgJiYgdGhpcy5jb2RlICUgMiAhPSAwO1xuICB9XG5cbiAgbWFya0FzRW5kQWx0ZXJuYXRlKGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNvZGUgPSAyICogaW5kZXggKyAyO1xuICB9XG5cbiAgaXNFbmRBbHRlcm5hdGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY29kZSA+IDAgJiYgdGhpcy5jb2RlICUgMiA9PSAwO1xuICB9XG5cbiAgZ2V0QWx0ZXJuYXRlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuY29kZSAtIDEpIC8gMik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb24ge1xuICB3aGF0OiBudW1iZXIgPSAtMTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgd2hlcmU6IG51bWJlciwgcHVibGljIHN1Y2Nlc3M6IGJvb2xlYW4pIHt9XG59XG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGVudW0gQWRkIHtcbiAgRk9MTE9XID0gMSxcbiAgT1BUSU9OQUwsXG4gIFJFUEVBVEVELFxuICBBTFRFUk5BVEUsXG59XG5cbi8qKlxuICogQSBjbGFzcyB0byBidWlsZCBhIGxpc3QgdmFsaWRhdG9yIGZyb20gb3RoZXIgdmFsaWRhdG9ycy5cbiAqL1xuZXhwb3J0IGNsYXNzIFZhbGlkYXRpbmdHcm91cCB7XG4gIG5vZGVzOiBOb2RlW10gPSBbXTtcbiAgY29ubmVjdGlvbnM6IENvbm5lY3Rpb25bXSA9IFtdO1xuICBtYXRjaDogbnVtYmVyW10gPSBbXTsgLy8gY29ubmVjdG9yIGluZGljaWVzXG4gIG5vbWF0Y2g6IG51bWJlcltdID0gW107IC8vIGNvbm5lY3RvciBpbmRpY2llc1xuICBlcnJvcjogbnVtYmVyW10gPSBbXTsgLy8gY29ubmVjdG9yIGluZGljaWVzXG4gIGVtcHR5SGVhZDogYm9vbGVhbiA9IHRydWU7XG5cbiAgY29ubmVjdChhcnI6IG51bWJlcltdLCBub2RlSW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmNvbm5lY3Rpb25zW2FycltpXV0ud2hhdCA9IG5vZGVJbmRleDtcbiAgICB9XG4gICAgYXJyLnNwbGljZSgwLCBhcnIubGVuZ3RoKTtcbiAgfVxuXG4gIGNsb25lKCk6IFZhbGlkYXRpbmdHcm91cCB7XG4gICAgY29uc3QgZ3JvdXAgPSBuZXcgVmFsaWRhdGluZ0dyb3VwKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBub2RlID0gdGhpcy5ub2Rlc1tpXTtcbiAgICAgIGNvbnN0IGNsb25lZE5vZGUgPSBuZXcgTm9kZShub2RlLnZhbGlkYXRvcik7XG4gICAgICBjbG9uZWROb2RlLmNvZGUgPSBub2RlLmNvZGU7XG4gICAgICBncm91cC5ub2Rlcy5wdXNoKGNsb25lZE5vZGUpO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29ubmVjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSB0aGlzLmNvbm5lY3Rpb25zW2ldO1xuICAgICAgY29uc3QgZ3JvdXBDb25uZWN0aW9uID0gbmV3IENvbm5lY3Rpb24oXG4gICAgICAgIGNvbm5lY3Rpb24ud2hlcmUsXG4gICAgICAgIGNvbm5lY3Rpb24uc3VjY2VzcyxcbiAgICAgICk7XG4gICAgICBncm91cENvbm5lY3Rpb24ud2hhdCA9IGNvbm5lY3Rpb24ud2hhdDtcbiAgICAgIGdyb3VwLmNvbm5lY3Rpb25zLnB1c2goZ3JvdXBDb25uZWN0aW9uKTtcbiAgICB9XG4gICAgZ3JvdXAubWF0Y2gucHVzaCguLi50aGlzLm1hdGNoKTtcbiAgICBncm91cC5ub21hdGNoLnB1c2goLi4udGhpcy5ub21hdGNoKTtcbiAgICBncm91cC5lcnJvci5wdXNoKC4uLnRoaXMuZXJyb3IpO1xuICAgIHJldHVybiBncm91cDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgXCJzcGVjaWFsXCIgdmFsaWRhdGlvbiBub2RlIHRvIGEgZ2l2ZW4gYXJyYXkgKG1hdGNoLCBub21hdGNoLCBvciBlcnJvcikuXG4gICAqIEBwYXJhbSBzdGFydCBpZiB0aGlzIGEgc3RhcnQgb3IgdGhlIGVuZCBvZiBhIGNsYXVzZS9ncm91cFxuICAgKiBAcGFyYW0gY2xhdXNlIDAgaW5kaWNhdGVzIGdyb3VwIHN0YXJ0L2VuZCwgb3RoZXJ3aXNlIGNsYXVzZSBpbmRleFxuICAgKi9cbiAgcHJpdmF0ZSBhZGRTcGVjaWFsVG9BcnIoYXJyOiBudW1iZXJbXSwgc3RhcnQ6IGJvb2xlYW4sIGNsYXVzZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLm5vZGVzLmxlbmd0aDtcbiAgICBjb25zdCBub2RlID0gbmV3IE5vZGUoQUxXQVlTX0ZBSUwpO1xuICAgIGlmIChjbGF1c2UgPj0gMCkge1xuICAgICAgaWYgKHN0YXJ0KSB7XG4gICAgICAgIG5vZGUubWFya0FzU3RhcnRBbHRlcm5hdGUoY2xhdXNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUubWFya0FzRW5kQWx0ZXJuYXRlKGNsYXVzZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdGFydCkge1xuICAgICAgICBub2RlLm1hcmtBc1N0YXJ0R3JvdXAoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUubWFya0FzRW5kR3JvdXAoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5ub2Rlcy5wdXNoKG5vZGUpO1xuICAgIHRoaXMuY29ubmVjdChhcnIsIGluZGV4KTtcbiAgICBjb25zdCBzdWNjZXNzID0gbmV3IENvbm5lY3Rpb24oaW5kZXgsIHRydWUpO1xuICAgIGNvbnN0IGZhaWx1cmUgPSBuZXcgQ29ubmVjdGlvbihpbmRleCwgZmFsc2UpO1xuICAgIGFyci5wdXNoKHRoaXMuY29ubmVjdGlvbnMubGVuZ3RoKTtcbiAgICB0aGlzLmNvbm5lY3Rpb25zLnB1c2goZmFpbHVyZSk7XG4gICAgYXJyLnB1c2godGhpcy5jb25uZWN0aW9ucy5sZW5ndGgpO1xuICAgIHRoaXMuY29ubmVjdGlvbnMucHVzaChzdWNjZXNzKTtcbiAgfVxuXG4gIGVuZFNwZWNpYWxHcm91cCgpOiB2b2lkIHtcbiAgICBjb25zdCBhcnJzID0gW3RoaXMubWF0Y2gsIHRoaXMubm9tYXRjaCwgdGhpcy5lcnJvcl07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmFkZFNwZWNpYWxUb0FycihhcnJzW2ldLCBmYWxzZSwgLTEpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXJ0U3BlY2lhbEdyb3VwKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm5vZGVzLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBjYWxsXCIpO1xuICAgIH1cbiAgICB0aGlzLmFkZFNwZWNpYWxUb0Fycih0aGlzLm1hdGNoLCB0cnVlLCAtMSk7XG4gIH1cblxuICBlbmRDbGF1c2UoY2xhdXNlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmFkZFNwZWNpYWxUb0Fycih0aGlzLm1hdGNoLCBmYWxzZSwgY2xhdXNlKTtcbiAgfVxuXG4gIHN0YXJ0Q2xhdXNlKGNsYXVzZTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubm9kZXMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGNhbGxcIik7XG4gICAgfVxuICAgIGNvbnN0IG5vZGUgPSBuZXcgTm9kZShBTFdBWVNfRkFJTCk7XG4gICAgbm9kZS5tYXJrQXNTdGFydEFsdGVybmF0ZShjbGF1c2UpO1xuICAgIHRoaXMubm9kZXMucHVzaChub2RlKTtcbiAgICBjb25zdCBzdWNjZXNzID0gbmV3IENvbm5lY3Rpb24oMCwgdHJ1ZSk7XG4gICAgY29uc3QgZmFpbHVyZSA9IG5ldyBDb25uZWN0aW9uKDAsIGZhbHNlKTtcbiAgICB0aGlzLm5vbWF0Y2gucHVzaCh0aGlzLmNvbm5lY3Rpb25zLmxlbmd0aCk7XG4gICAgdGhpcy5jb25uZWN0aW9ucy5wdXNoKGZhaWx1cmUpO1xuICAgIHRoaXMubWF0Y2gucHVzaCh0aGlzLmNvbm5lY3Rpb25zLmxlbmd0aCk7XG4gICAgdGhpcy5jb25uZWN0aW9ucy5wdXNoKHN1Y2Nlc3MpO1xuICB9XG5cbiAgYWRkUHJpbWl0aXZlKHZhbGlkYXRvcjogUHJvcGVydHlWYWxpZGF0b3IpOiB2b2lkIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMubm9kZXMubGVuZ3RoO1xuICAgIHRoaXMubm9kZXMucHVzaChuZXcgTm9kZSh2YWxpZGF0b3IpKTtcbiAgICBjb25zdCBzdWNjZXNzID0gbmV3IENvbm5lY3Rpb24oaW5kZXgsIHRydWUpO1xuICAgIGNvbnN0IGZhaWx1cmUgPSBuZXcgQ29ubmVjdGlvbihpbmRleCwgZmFsc2UpO1xuICAgIHRoaXMuY29ubmVjdCh0aGlzLm1hdGNoLCBpbmRleCk7XG4gICAgaWYgKHRoaXMuZW1wdHlIZWFkKSB7XG4gICAgICAvLyBpZiBkaWQgbm90IHZhbGlkYXRlIC0+IG5vIG1hdGNoXG4gICAgICB0aGlzLm5vbWF0Y2gucHVzaCh0aGlzLmNvbm5lY3Rpb25zLmxlbmd0aCk7XG4gICAgICB0aGlzLmVtcHR5SGVhZCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpZiBkaWQgbm90IHZhbGlkYXRlIC0+IGZhaWx1cmVcbiAgICAgIHRoaXMuZXJyb3IucHVzaCh0aGlzLmNvbm5lY3Rpb25zLmxlbmd0aCk7XG4gICAgfVxuICAgIHRoaXMuY29ubmVjdGlvbnMucHVzaChmYWlsdXJlKTtcbiAgICB0aGlzLm1hdGNoLnB1c2godGhpcy5jb25uZWN0aW9ucy5sZW5ndGgpO1xuICAgIHRoaXMuY29ubmVjdGlvbnMucHVzaChzdWNjZXNzKTtcbiAgfVxuXG4gIGlzU2ltcGxlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLmxlbmd0aCA9PSAxICYmICF0aGlzLm5vZGVzWzBdLmlzU3BlY2lhbCgpO1xuICB9XG5cbiAgaXNQcmltaXRpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuaXNTaW1wbGUoKSAmJiB0aGlzLm5vZGVzWzBdLnZhbGlkYXRvciBpbnN0YW5jZW9mIFByaW1pdGl2ZVZhbGlkYXRvclxuICAgICk7XG4gIH1cblxuICBhZGRHcm91cChncm91cDogVmFsaWRhdGluZ0dyb3VwLCBob3c6IEFkZCk6IHZvaWQge1xuICAgIGlmIChncm91cC5ub2Rlcy5sZW5ndGggPT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IHRoaXMubm9kZXMubGVuZ3RoO1xuXG4gICAgLy8gb3B0aW1pemF0aW9uIGZvciBhbHRlcm5hdGUgcHJpbWl0aXZlIHZhbGlkYXRvcnNcbiAgICBpZiAoXG4gICAgICBob3cgPT0gQWRkLkFMVEVSTkFURSAmJlxuICAgICAgaW5kZXggPT0gMSAmJlxuICAgICAgZ3JvdXAuaXNQcmltaXRpdmUoKSAmJlxuICAgICAgdGhpcy5pc1ByaW1pdGl2ZSgpXG4gICAgKSB7XG4gICAgICB0aGlzLm5vZGVzWzBdLnZhbGlkYXRvciA9ICh0aGlzLm5vZGVzWzBdXG4gICAgICAgIC52YWxpZGF0b3IgYXMgUHJpbWl0aXZlVmFsaWRhdG9yKS5jb21iaW5lKFxuICAgICAgICBncm91cC5ub2Rlc1swXS52YWxpZGF0b3IgYXMgUHJpbWl0aXZlVmFsaWRhdG9yLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cC5ub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5ub2Rlcy5wdXNoKGdyb3VwLm5vZGVzW2ldKTtcbiAgICB9XG5cbiAgICAvLyBub2Rlc1tpbmRleF0gaXMgZ3JvdXAgc3RhcnRcbiAgICBpZiAoaG93ID09IEFkZC5BTFRFUk5BVEUpIHtcbiAgICAgIHRoaXMuZW1wdHlIZWFkID0gdHJ1ZTtcbiAgICAgIHRoaXMuY29ubmVjdCh0aGlzLm5vbWF0Y2gsIGluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb25uZWN0KHRoaXMubWF0Y2gsIGluZGV4KTtcbiAgICB9XG4gICAgY29uc3QgY29ubmVjdGlvbkluZGV4ID0gdGhpcy5jb25uZWN0aW9ucy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cC5jb25uZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGdyb3VwLmNvbm5lY3Rpb25zW2ldO1xuICAgICAgY29ubmVjdGlvbi53aGVyZSArPSBpbmRleDtcbiAgICAgIGlmIChjb25uZWN0aW9uLndoYXQgPj0gMCkge1xuICAgICAgICBjb25uZWN0aW9uLndoYXQgKz0gaW5kZXg7XG4gICAgICB9XG4gICAgICB0aGlzLmNvbm5lY3Rpb25zLnB1c2goY29ubmVjdGlvbik7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAubWF0Y2gubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMubWF0Y2gucHVzaChncm91cC5tYXRjaFtpXSArIGNvbm5lY3Rpb25JbmRleCk7XG4gICAgfVxuICAgIGlmIChob3cgPT0gQWRkLlJFUEVBVEVEKSB7XG4gICAgICB0aGlzLmNvbm5lY3QodGhpcy5tYXRjaCwgaW5kZXgpO1xuICAgIH1cbiAgICBpZiAoaG93ID09IEFkZC5PUFRJT05BTCB8fCBob3cgPT0gQWRkLlJFUEVBVEVEKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLm5vbWF0Y2gubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5tYXRjaC5wdXNoKGdyb3VwLm5vbWF0Y2hbaV0gKyBjb25uZWN0aW9uSW5kZXgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5lbXB0eUhlYWQpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAubm9tYXRjaC5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLm5vbWF0Y2gucHVzaChncm91cC5ub21hdGNoW2ldICsgY29ubmVjdGlvbkluZGV4KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZW1wdHlIZWFkID0gZ3JvdXAuZW1wdHlIZWFkO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLm5vbWF0Y2gubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5lcnJvci5wdXNoKGdyb3VwLm5vbWF0Y2hbaV0gKyBjb25uZWN0aW9uSW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLmVycm9yLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmVycm9yLnB1c2goZ3JvdXAuZXJyb3JbaV0gKyBjb25uZWN0aW9uSW5kZXgpO1xuICAgIH1cblxuICAgIC8vIGludmFsaWRhdGUgZ3JvdXBcbiAgICBncm91cC5ub2RlcyA9IG51bGw7XG4gICAgZ3JvdXAuY29ubmVjdGlvbnMgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gaG93XG4gICAqL1xuICBmaW5pc2goc3VjY2Vzc1Rlcm1pbmFsOiBOb2RlLCBmYWlsVGVybWluYWw6IE5vZGUpOiBOb2RlIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMubm9kZXMubGVuZ3RoO1xuICAgIHRoaXMubm9kZXMucHVzaChzdWNjZXNzVGVybWluYWwpO1xuICAgIHRoaXMubm9kZXMucHVzaChmYWlsVGVybWluYWwpO1xuICAgIHRoaXMuY29ubmVjdCh0aGlzLm1hdGNoLCBpbmRleCk7XG4gICAgdGhpcy5jb25uZWN0KHRoaXMubm9tYXRjaCwgaW5kZXggKyAxKTtcbiAgICB0aGlzLmNvbm5lY3QodGhpcy5lcnJvciwgaW5kZXggKyAxKTtcbiAgICBmb3IgKGNvbnN0IGNvbm5lY3Rpb24gb2YgdGhpcy5jb25uZWN0aW9ucykge1xuICAgICAgaWYgKGNvbm5lY3Rpb24uc3VjY2Vzcykge1xuICAgICAgICB0aGlzLm5vZGVzW2Nvbm5lY3Rpb24ud2hlcmVdLnN1Y2Nlc3MgPSB0aGlzLm5vZGVzW2Nvbm5lY3Rpb24ud2hhdF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm5vZGVzW2Nvbm5lY3Rpb24ud2hlcmVdLmZhaWx1cmUgPSB0aGlzLm5vZGVzW2Nvbm5lY3Rpb24ud2hhdF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbWFrZSBzdXJlIHRoYXQgb3VyIGRhdGEgc3RydWN0dXJlIGlzIGNvcnJlY3RcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGluZGV4OyBqKyspIHtcbiAgICAgIGlmICh0aGlzLm5vZGVzW2pdLmZhaWx1cmUgPT0gbnVsbCB8fCB0aGlzLm5vZGVzW2pdLnN1Y2Nlc3MgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbGlkYXRvciBzdGF0ZVwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubm9kZXNbMF07XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IEFMTE9XX0VNUFRZID0gMTtcblxuZXhwb3J0IGNvbnN0IEFMTE9XX1NUUiA9IDI7XG5cbmV4cG9ydCBjb25zdCBBTExPV19JREVOVCA9IDQ7XG5cbmV4cG9ydCBjb25zdCBBTExPV19QT1NfTlVNRVJJQyA9IDg7XG5cbmV4cG9ydCBjb25zdCBBTExPV19QT1NfTlVNID0gMTY7XG5cbmV4cG9ydCBjb25zdCBBTExPV19QT1NfSU5UID0gMzI7XG5cbmV4cG9ydCBjb25zdCBBTExPV19DT0xPUiA9IDY0O1xuXG5leHBvcnQgY29uc3QgQUxMT1dfVVJMID0gMTI4O1xuXG5leHBvcnQgY29uc3QgQUxMT1dfTkVHQVRJVkUgPSAyNTY7XG5cbmV4cG9ydCBjb25zdCBBTExPV19aRVJPID0gNTEyO1xuXG5leHBvcnQgY29uc3QgQUxMT1dfWkVST19QRVJDRU5UID0gMTAyNDtcblxuZXhwb3J0IGNvbnN0IEFMTE9XX1NMQVNIID0gMjA0ODtcblxuZXhwb3J0IHR5cGUgVmFsdWVNYXAgPSB7XG4gIFtrZXk6IHN0cmluZ106IENzcy5WYWw7XG59O1xuXG4vKipcbiAqIEFic3RyYWN0IGNsYXNzIHRvIHZhbGlkYXRlIHNpbXBsZSBDU1MgcHJvcGVydHkgdmFsdWUgKG5vdCBhIHNob3J0aGFuZClcbiAqL1xuZXhwb3J0IGNsYXNzIFByb3BlcnR5VmFsaWRhdG9yIGV4dGVuZHMgQ3NzLlZpc2l0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlIGEgc3Vic2VxdWVuY2Ugb2YgdGhlIGdpdmVuIHZhbHVlcyBmcm9tIHRoZSBnaXZlbiBpbmRleC4gUmV0dXJuIHRoZVxuICAgKiBsaXN0IG9mIG1hdGNoZWQgdmFsdWVzIG9yIG51bGwgaWYgdGhlcmUgaXMgbm8gbWF0Y2guXG4gICAqL1xuICB2YWxpZGF0ZUZvclNob3J0aGFuZCh2YWx1ZXM6IENzcy5WYWxbXSwgaW5kZXg6IG51bWJlcik6IENzcy5WYWxbXSB7XG4gICAgY29uc3QgcnZhbCA9IHZhbHVlc1tpbmRleF0udmlzaXQodGhpcyk7XG4gICAgaWYgKHJ2YWwpIHtcbiAgICAgIHJldHVybiBbcnZhbF07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogVmFsaWRhdGUgYSBwcmltaXRpdmUgQ1NTIHZhbHVlIChub3QgYSBsaXN0IG9yIGZ1bmN0aW9uKS5cbiAqIEBwYXJhbSBhbGxvd2VkIG1hc2sgb2YgQUxMT1dfKioqIGNvbnN0YW50cy5cbiAqL1xuZXhwb3J0IGNsYXNzIFByaW1pdGl2ZVZhbGlkYXRvciBleHRlbmRzIFByb3BlcnR5VmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGFsbG93ZWQ6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgaWRlbnRzOiBWYWx1ZU1hcCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdW5pdHM6IFZhbHVlTWFwLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRFbXB0eShlbXB0eTogQ3NzLlZhbCk6IENzcy5WYWwge1xuICAgIGlmICh0aGlzLmFsbG93ZWQgJiBBTExPV19FTVBUWSkge1xuICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0U2xhc2goc2xhc2g6IENzcy5WYWwpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5hbGxvd2VkICYgQUxMT1dfU0xBU0gpIHtcbiAgICAgIHJldHVybiBzbGFzaDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFN0cihzdHI6IENzcy5TdHIpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5hbGxvd2VkICYgQUxMT1dfU1RSKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0SWRlbnQoaWRlbnQ6IENzcy5JZGVudCk6IENzcy5WYWwge1xuICAgIGNvbnN0IHZhbCA9IHRoaXMuaWRlbnRzW2lkZW50Lm5hbWUudG9Mb3dlckNhc2UoKV07XG4gICAgaWYgKHZhbCkge1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuYWxsb3dlZCAmIEFMTE9XX0lERU5UKSB7XG4gICAgICByZXR1cm4gaWRlbnQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXROdW1lcmljKG51bWVyaWM6IENzcy5OdW1lcmljKTogQ3NzLlZhbCB7XG4gICAgaWYgKG51bWVyaWMubnVtID09IDAgJiYgISh0aGlzLmFsbG93ZWQgJiBBTExPV19aRVJPKSkge1xuICAgICAgaWYgKG51bWVyaWMudW5pdCA9PSBcIiVcIiAmJiB0aGlzLmFsbG93ZWQgJiBBTExPV19aRVJPX1BFUkNFTlQpIHtcbiAgICAgICAgcmV0dXJuIG51bWVyaWM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKG51bWVyaWMubnVtIDwgMCAmJiAhKHRoaXMuYWxsb3dlZCAmIEFMTE9XX05FR0FUSVZFKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICh0aGlzLnVuaXRzW251bWVyaWMudW5pdF0pIHtcbiAgICAgIHJldHVybiBudW1lcmljO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtKG51bTogQ3NzLk51bSk6IENzcy5WYWwge1xuICAgIGlmIChudW0ubnVtID09IDApIHtcbiAgICAgIHJldHVybiB0aGlzLmFsbG93ZWQgJiBBTExPV19aRVJPID8gbnVtIDogbnVsbDtcbiAgICB9XG4gICAgaWYgKG51bS5udW0gPD0gMCAmJiAhKHRoaXMuYWxsb3dlZCAmIEFMTE9XX05FR0FUSVZFKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICh0aGlzLmFsbG93ZWQgJiBBTExPV19QT1NfTlVNKSB7XG4gICAgICByZXR1cm4gbnVtO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0SW50KG51bTogQ3NzLkludCk6IENzcy5WYWwge1xuICAgIGlmIChudW0ubnVtID09IDApIHtcbiAgICAgIHJldHVybiB0aGlzLmFsbG93ZWQgJiBBTExPV19aRVJPID8gbnVtIDogbnVsbDtcbiAgICB9XG4gICAgaWYgKG51bS5udW0gPD0gMCAmJiAhKHRoaXMuYWxsb3dlZCAmIEFMTE9XX05FR0FUSVZFKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICh0aGlzLmFsbG93ZWQgJiAoQUxMT1dfUE9TX0lOVCB8IEFMTE9XX1BPU19OVU0pKSB7XG4gICAgICByZXR1cm4gbnVtO1xuICAgIH1cbiAgICBjb25zdCB2YWwgPSB0aGlzLmlkZW50c1tgJHtudW0ubnVtfWBdO1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRDb2xvcihjb2xvcjogQ3NzLkNvbG9yKTogQ3NzLlZhbCB7XG4gICAgaWYgKHRoaXMuYWxsb3dlZCAmIEFMTE9XX0NPTE9SKSB7XG4gICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRVUkwodXJsOiBDc3MuVVJMKTogQ3NzLlZhbCB7XG4gICAgaWYgKHRoaXMuYWxsb3dlZCAmIEFMTE9XX1VSTCkge1xuICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBDc3MuU3BhY2VMaXN0KTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdENvbW1hTGlzdChsaXN0OiBDc3MuQ29tbWFMaXN0KTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEZ1bmMoZnVuYzogQ3NzLkZ1bmMpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RXhwcihleHByOiBDc3MuRXhwcik6IENzcy5WYWwge1xuICAgIGlmICh0aGlzLmFsbG93ZWQgJiAweDdmZSkge1xuICAgICAgLy8gQUxMT1dfU1RSfEFMTE9XX0lERU5UfC4uLnxBTExPV19aRVJPX1BFUkNFTlRcbiAgICAgIHJldHVybiBleHByO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbWJpbmUob3RoZXI6IFByaW1pdGl2ZVZhbGlkYXRvcik6IFByaW1pdGl2ZVZhbGlkYXRvciB7XG4gICAgY29uc3QgaWRlbnRzOiBWYWx1ZU1hcCA9IHt9O1xuICAgIGNvbnN0IHVuaXRzOiBWYWx1ZU1hcCA9IHt9O1xuICAgIGZvciAoY29uc3QgaWRlbnQgaW4gdGhpcy5pZGVudHMpIHtcbiAgICAgIGlkZW50c1tpZGVudF0gPSB0aGlzLmlkZW50c1tpZGVudF07XG4gICAgfVxuICAgIGZvciAoY29uc3QgaWRlbnQgaW4gb3RoZXIuaWRlbnRzKSB7XG4gICAgICBpZGVudHNbaWRlbnRdID0gb3RoZXIuaWRlbnRzW2lkZW50XTtcbiAgICB9XG4gICAgZm9yIChjb25zdCB1bml0IGluIHRoaXMudW5pdHMpIHtcbiAgICAgIHVuaXRzW3VuaXRdID0gdGhpcy51bml0c1t1bml0XTtcbiAgICB9XG4gICAgZm9yIChjb25zdCB1bml0IGluIG90aGVyLnVuaXRzKSB7XG4gICAgICB1bml0c1t1bml0XSA9IG90aGVyLnVuaXRzW3VuaXRdO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByaW1pdGl2ZVZhbGlkYXRvcih0aGlzLmFsbG93ZWQgfCBvdGhlci5hbGxvd2VkLCBpZGVudHMsIHVuaXRzKTtcbiAgfVxufVxuXG5jb25zdCBOT19JREVOVFMgPSB7fTtcblxuZXhwb3J0IGNvbnN0IEFMV0FZU19GQUlMID0gbmV3IFByaW1pdGl2ZVZhbGlkYXRvcigwLCBOT19JREVOVFMsIE5PX0lERU5UUyk7XG5cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgbGlzdCB2YWxpZGF0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgTGlzdFZhbGlkYXRvciBleHRlbmRzIFByb3BlcnR5VmFsaWRhdG9yIHtcbiAgc3VjY2Vzc1Rlcm1pbmFsOiBOb2RlO1xuICBmYWlsdXJlVGVybWluYWw6IE5vZGU7XG4gIGZpcnN0OiBOb2RlO1xuXG4gIGNvbnN0cnVjdG9yKGdyb3VwOiBWYWxpZGF0aW5nR3JvdXApIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc3VjY2Vzc1Rlcm1pbmFsID0gbmV3IE5vZGUobnVsbCk7XG4gICAgdGhpcy5mYWlsdXJlVGVybWluYWwgPSBuZXcgTm9kZShudWxsKTtcbiAgICB0aGlzLmZpcnN0ID0gZ3JvdXAuZmluaXNoKHRoaXMuc3VjY2Vzc1Rlcm1pbmFsLCB0aGlzLmZhaWx1cmVUZXJtaW5hbCk7XG4gIH1cblxuICB2YWxpZGF0ZUxpc3QoYXJyOiBDc3MuVmFsW10sIHNsaWNlOiBib29sZWFuLCBzdGFydEluZGV4OiBudW1iZXIpOiBDc3MuVmFsW10ge1xuICAgIGxldCBvdXQ6IENzcy5WYWxbXSA9IHNsaWNlID8gW10gOiBhcnI7XG4gICAgbGV0IGN1cnJlbnQgPSB0aGlzLmZpcnN0O1xuICAgIGxldCBpbmRleCA9IHN0YXJ0SW5kZXg7XG4gICAgbGV0IGFsdGVybmF0aXZlU3RhY2s6IHN0cmluZ1tdW10gPSBudWxsO1xuICAgIGxldCBhbHRlcm5hdGl2ZXM6IHN0cmluZ1tdID0gbnVsbDtcbiAgICB3aGlsZSAoXG4gICAgICBjdXJyZW50ICE9PSB0aGlzLnN1Y2Nlc3NUZXJtaW5hbCAmJlxuICAgICAgY3VycmVudCAhPT0gdGhpcy5mYWlsdXJlVGVybWluYWxcbiAgICApIHtcbiAgICAgIGlmIChpbmRleCA+PSBhcnIubGVuZ3RoKSB7XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmZhaWx1cmU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgaW52YWwgPSBhcnJbaW5kZXhdO1xuICAgICAgbGV0IG91dHZhbCA9IGludmFsO1xuICAgICAgaWYgKGN1cnJlbnQuaXNTcGVjaWFsKCkpIHtcbiAgICAgICAgbGV0IHN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICBpZiAoY3VycmVudC5pc1N0YXJ0R3JvdXAoKSkge1xuICAgICAgICAgIGlmIChhbHRlcm5hdGl2ZVN0YWNrKSB7XG4gICAgICAgICAgICBhbHRlcm5hdGl2ZVN0YWNrLnB1c2goYWx0ZXJuYXRpdmVzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWx0ZXJuYXRpdmVTdGFjayA9IFthbHRlcm5hdGl2ZXNdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhbHRlcm5hdGl2ZXMgPSBbXTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50LmlzRW5kR3JvdXAoKSkge1xuICAgICAgICAgIGlmIChhbHRlcm5hdGl2ZVN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGFsdGVybmF0aXZlcyA9IGFsdGVybmF0aXZlU3RhY2sucG9wKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsdGVybmF0aXZlcyA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnQuaXNFbmRBbHRlcm5hdGUoKSkge1xuICAgICAgICAgIGFsdGVybmF0aXZlc1tjdXJyZW50LmdldEFsdGVybmF0ZSgpXSA9IFwidGFrZW5cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdWNjZXNzID0gYWx0ZXJuYXRpdmVzW2N1cnJlbnQuZ2V0QWx0ZXJuYXRlKCldID09IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IHN1Y2Nlc3MgPyBjdXJyZW50LnN1Y2Nlc3MgOiBjdXJyZW50LmZhaWx1cmU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaW5kZXggPT0gMCAmJlxuICAgICAgICAgICFzbGljZSAmJlxuICAgICAgICAgIGN1cnJlbnQudmFsaWRhdG9yIGluc3RhbmNlb2YgU3BhY2VMaXN0VmFsaWRhdG9yICYmXG4gICAgICAgICAgdGhpcyBpbnN0YW5jZW9mIFNwYWNlTGlzdFZhbGlkYXRvclxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBTcGVjaWFsIG5lc3RpbmcgY2FzZTogdmFsaWRhdGUgdGhlIGlucHV0IHNwYWNlIGxpc3QgYXMgYSB3aG9sZS5cbiAgICAgICAgICBvdXR2YWwgPSBuZXcgQ3NzLlNwYWNlTGlzdChhcnIpLnZpc2l0KGN1cnJlbnQudmFsaWRhdG9yKTtcbiAgICAgICAgICBpZiAob3V0dmFsKSB7XG4gICAgICAgICAgICBpbmRleCA9IGFyci5sZW5ndGg7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5zdWNjZXNzO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIGluZGV4ID09IDAgJiZcbiAgICAgICAgICAhc2xpY2UgJiZcbiAgICAgICAgICBjdXJyZW50LnZhbGlkYXRvciBpbnN0YW5jZW9mIENvbW1hTGlzdFZhbGlkYXRvciAmJlxuICAgICAgICAgIHRoaXMgaW5zdGFuY2VvZiBTcGFjZUxpc3RWYWxpZGF0b3JcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gU3BlY2lhbCBuZXN0aW5nIGNhc2U6IHZhbGlkYXRlIHRoZSBpbnB1dCBjb21tYSBsaXN0IGFzIGEgd2hvbGUuXG4gICAgICAgICAgb3V0dmFsID0gbmV3IENzcy5Db21tYUxpc3QoYXJyKS52aXNpdChjdXJyZW50LnZhbGlkYXRvcik7XG4gICAgICAgICAgaWYgKG91dHZhbCkge1xuICAgICAgICAgICAgaW5kZXggPSBhcnIubGVuZ3RoO1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuc3VjY2VzcztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXR2YWwgPSBpbnZhbC52aXNpdChjdXJyZW50LnZhbGlkYXRvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvdXR2YWwpIHtcbiAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5mYWlsdXJlO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdXR2YWwgIT09IGludmFsICYmIGFyciA9PT0gb3V0KSB7XG4gICAgICAgICAgLy8gc3RhcnRJbmRleCBpcyB6ZXJvIGhlcmVcbiAgICAgICAgICBvdXQgPSBbXTtcbiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGluZGV4OyBrKyspIHtcbiAgICAgICAgICAgIG91dFtrXSA9IGFycltrXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyciAhPT0gb3V0KSB7XG4gICAgICAgICAgb3V0W2luZGV4IC0gc3RhcnRJbmRleF0gPSBvdXR2YWw7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuc3VjY2VzcztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGN1cnJlbnQgPT09IHRoaXMuc3VjY2Vzc1Rlcm1pbmFsKSB7XG4gICAgICBpZiAoc2xpY2UgPyBvdXQubGVuZ3RoID4gMCA6IGluZGV4ID09IGFyci5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YWxpZGF0ZVNpbmdsZShpbnZhbDogQ3NzLlZhbCk6IENzcy5WYWwge1xuICAgIC8vIG5vIG5lZWQgdG8gd29ycnkgYWJvdXQgXCJzcGVjaWFsc1wiXG4gICAgbGV0IG91dHZhbDogQ3NzLlZhbCA9IG51bGw7XG4gICAgbGV0IGN1cnJlbnQgPSB0aGlzLmZpcnN0O1xuICAgIHdoaWxlIChcbiAgICAgIGN1cnJlbnQgIT09IHRoaXMuc3VjY2Vzc1Rlcm1pbmFsICYmXG4gICAgICBjdXJyZW50ICE9PSB0aGlzLmZhaWx1cmVUZXJtaW5hbFxuICAgICkge1xuICAgICAgaWYgKCFpbnZhbCkge1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5mYWlsdXJlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50LmlzU3BlY2lhbCgpKSB7XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnN1Y2Nlc3M7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgb3V0dmFsID0gaW52YWwudmlzaXQoY3VycmVudC52YWxpZGF0b3IpO1xuICAgICAgaWYgKCFvdXR2YWwpIHtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuZmFpbHVyZTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpbnZhbCA9IG51bGw7XG4gICAgICBjdXJyZW50ID0gY3VycmVudC5zdWNjZXNzO1xuICAgIH1cbiAgICBpZiAoY3VycmVudCA9PT0gdGhpcy5zdWNjZXNzVGVybWluYWwpIHtcbiAgICAgIHJldHVybiBvdXR2YWw7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRFbXB0eShlbXB0eTogQ3NzLlZhbCk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKGVtcHR5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0U2xhc2goc2xhc2g6IENzcy5WYWwpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShzbGFzaCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFN0cihzdHI6IENzcy5TdHIpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShzdHIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJZGVudChpZGVudDogQ3NzLklkZW50KTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUoaWRlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXROdW1lcmljKG51bWVyaWM6IENzcy5OdW1lcmljKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUobnVtZXJpYyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdE51bShudW06IENzcy5OdW0pOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShudW0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJbnQobnVtOiBDc3MuSW50KTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUobnVtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29sb3IoY29sb3I6IENzcy5Db2xvcik6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKGNvbG9yKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0VVJMKHVybDogQ3NzLlVSTCk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKHVybCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBDc3MuU3BhY2VMaXN0KTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdENvbW1hTGlzdChsaXN0OiBDc3MuQ29tbWFMaXN0KTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEZ1bmMoZnVuYzogQ3NzLkZ1bmMpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShmdW5jKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RXhwcihleHByOiBDc3MuRXhwcik6IENzcy5WYWwge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTcGFjZUxpc3RWYWxpZGF0b3IgZXh0ZW5kcyBMaXN0VmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoZ3JvdXA6IFZhbGlkYXRpbmdHcm91cCkge1xuICAgIHN1cGVyKGdyb3VwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0U3BhY2VMaXN0KGxpc3Q6IENzcy5TcGFjZUxpc3QpOiBDc3MuVmFsIHtcbiAgICBjb25zdCBhcnIgPSB0aGlzLnZhbGlkYXRlTGlzdChsaXN0LnZhbHVlcywgZmFsc2UsIDApO1xuICAgIGlmIChhcnIgPT09IGxpc3QudmFsdWVzKSB7XG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG4gICAgaWYgKCFhcnIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IENzcy5TcGFjZUxpc3QoYXJyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29tbWFMaXN0KGxpc3Q6IENzcy5Db21tYUxpc3QpOiBDc3MuVmFsIHtcbiAgICAvLyBTcGVjaWFsIENhc2UgOiBJc3N1ZSAjMTU2XG4gICAgbGV0IG5vZGUgPSB0aGlzLmZpcnN0O1xuICAgIGxldCBoYXNDb21tYUxpc3RWYWxpZGF0b3IgPSBmYWxzZTtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgaWYgKG5vZGUudmFsaWRhdG9yIGluc3RhbmNlb2YgQ29tbWFMaXN0VmFsaWRhdG9yKSB7XG4gICAgICAgIGhhc0NvbW1hTGlzdFZhbGlkYXRvciA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGUuZmFpbHVyZTtcbiAgICB9XG4gICAgaWYgKGhhc0NvbW1hTGlzdFZhbGlkYXRvcikge1xuICAgICAgY29uc3QgYXJyID0gdGhpcy52YWxpZGF0ZUxpc3QobGlzdC52YWx1ZXMsIGZhbHNlLCAwKTtcbiAgICAgIGlmIChhcnIgPT09IGxpc3QudmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgICAgfVxuICAgICAgaWYgKCFhcnIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IENzcy5Db21tYUxpc3QoYXJyKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2YWxpZGF0ZUZvclNob3J0aGFuZCh2YWx1ZXM6IENzcy5WYWxbXSwgaW5kZXg6IG51bWJlcik6IENzcy5WYWxbXSB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVMaXN0KHZhbHVlcywgdHJ1ZSwgaW5kZXgpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21tYUxpc3RWYWxpZGF0b3IgZXh0ZW5kcyBMaXN0VmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoZ3JvdXA6IFZhbGlkYXRpbmdHcm91cCkge1xuICAgIHN1cGVyKGdyb3VwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0U3BhY2VMaXN0KGxpc3Q6IENzcy5TcGFjZUxpc3QpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShsaXN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29tbWFMaXN0KGxpc3Q6IENzcy5Db21tYUxpc3QpOiBDc3MuVmFsIHtcbiAgICBjb25zdCBhcnIgPSB0aGlzLnZhbGlkYXRlTGlzdChsaXN0LnZhbHVlcywgZmFsc2UsIDApO1xuICAgIGlmIChhcnIgPT09IGxpc3QudmFsdWVzKSB7XG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG4gICAgaWYgKCFhcnIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IENzcy5Db21tYUxpc3QoYXJyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZhbGlkYXRlRm9yU2hvcnRoYW5kKHZhbHVlczogQ3NzLlZhbFtdLCBpbmRleDogbnVtYmVyKTogQ3NzLlZhbFtdIHtcbiAgICBsZXQgY3VycmVudCA9IHRoaXMuZmlyc3Q7XG4gICAgbGV0IHJ2YWw6IENzcy5WYWxbXTtcbiAgICB3aGlsZSAoY3VycmVudCAhPT0gdGhpcy5mYWlsdXJlVGVybWluYWwpIHtcbiAgICAgIHJ2YWwgPSBjdXJyZW50LnZhbGlkYXRvci52YWxpZGF0ZUZvclNob3J0aGFuZCh2YWx1ZXMsIGluZGV4KTtcbiAgICAgIGlmIChydmFsKSB7XG4gICAgICAgIHJldHVybiBydmFsO1xuICAgICAgfVxuICAgICAgY3VycmVudCA9IGN1cnJlbnQuZmFpbHVyZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZ1bmNWYWxpZGF0b3IgZXh0ZW5kcyBMaXN0VmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZywgZ3JvdXA6IFZhbGlkYXRpbmdHcm91cCkge1xuICAgIHN1cGVyKGdyb3VwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZhbGlkYXRlU2luZ2xlKGludmFsOiBDc3MuVmFsKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEZ1bmMoZnVuYzogQ3NzLkZ1bmMpOiBDc3MuVmFsIHtcbiAgICBpZiAoZnVuYy5uYW1lLnRvTG93ZXJDYXNlKCkgIT0gdGhpcy5uYW1lKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgYXJyID0gdGhpcy52YWxpZGF0ZUxpc3QoZnVuYy52YWx1ZXMsIGZhbHNlLCAwKTtcbiAgICBpZiAoYXJyID09PSBmdW5jLnZhbHVlcykge1xuICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgfVxuICAgIGlmICghYXJyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBDc3MuRnVuYyhmdW5jLm5hbWUsIGFycik7XG4gIH1cbn1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBTaG9ydGhhbmRzXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIFNob3J0aGFuZFN5bnRheE5vZGUge1xuICAvKipcbiAgICogQHJldHVybiBuZXcgaW5kZXguXG4gICAqL1xuICB0cnlQYXJzZShcbiAgICB2YWx1ZXM6IENzcy5WYWxbXSxcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHNob3J0aGFuZFZhbGlkYXRvcjogU2hvcnRoYW5kVmFsaWRhdG9yLFxuICApOiBudW1iZXIge1xuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIHN1Y2Nlc3MocnZhbDogQ3NzLlZhbCwgc2hvcnRoYW5kVmFsaWRhdG9yOiBTaG9ydGhhbmRWYWxpZGF0b3IpOiB2b2lkIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBTaG9ydGhhbmRTeW50YXhQcm9wZXJ0eSBleHRlbmRzIFNob3J0aGFuZFN5bnRheE5vZGUge1xuICB2YWxpZGF0b3I6IFByb3BlcnR5VmFsaWRhdG9yO1xuXG4gIGNvbnN0cnVjdG9yKHZhbGlkYXRvclNldDogVmFsaWRhdG9yU2V0LCBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnZhbGlkYXRvciA9IHZhbGlkYXRvclNldC52YWxpZGF0b3JzW3RoaXMubmFtZV07XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0cnlQYXJzZShcbiAgICB2YWx1ZXM6IENzcy5WYWxbXSxcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHNob3J0aGFuZFZhbGlkYXRvcjogU2hvcnRoYW5kVmFsaWRhdG9yLFxuICApOiBudW1iZXIge1xuICAgIGlmIChzaG9ydGhhbmRWYWxpZGF0b3IudmFsdWVzW3RoaXMubmFtZV0pIHtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgY29uc3QgcnZhbHMgPSB0aGlzLnZhbGlkYXRvci52YWxpZGF0ZUZvclNob3J0aGFuZCh2YWx1ZXMsIGluZGV4KTtcbiAgICBpZiAocnZhbHMpIHtcbiAgICAgIGNvbnN0IGxlbiA9IHJ2YWxzLmxlbmd0aDtcbiAgICAgIGNvbnN0IHJ2YWwgPSBsZW4gPiAxID8gbmV3IENzcy5TcGFjZUxpc3QocnZhbHMpIDogcnZhbHNbMF07XG4gICAgICB0aGlzLnN1Y2Nlc3MocnZhbCwgc2hvcnRoYW5kVmFsaWRhdG9yKTtcbiAgICAgIHJldHVybiBpbmRleCArIGxlbjtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3VjY2VzcyhydmFsOiBDc3MuVmFsLCBzaG9ydGhhbmRWYWxpZGF0b3I6IFNob3J0aGFuZFZhbGlkYXRvcik6IHZvaWQge1xuICAgIHNob3J0aGFuZFZhbGlkYXRvci52YWx1ZXNbdGhpcy5uYW1lXSA9IHJ2YWw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNob3J0aGFuZFN5bnRheFByb3BlcnR5TiBleHRlbmRzIFNob3J0aGFuZFN5bnRheFByb3BlcnR5IHtcbiAgY29uc3RydWN0b3IodmFsaWRhdG9yU2V0OiBWYWxpZGF0b3JTZXQsIHB1YmxpYyByZWFkb25seSBuYW1lczogc3RyaW5nW10pIHtcbiAgICBzdXBlcih2YWxpZGF0b3JTZXQsIG5hbWVzWzBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN1Y2Nlc3MocnZhbDogQ3NzLlZhbCwgc2hvcnRoYW5kVmFsaWRhdG9yOiBTaG9ydGhhbmRWYWxpZGF0b3IpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHNob3J0aGFuZFZhbGlkYXRvci52YWx1ZXNbdGhpcy5uYW1lc1tpXV0gPSBydmFsO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2hvcnRoYW5kU3ludGF4Q29tcG91bmQgZXh0ZW5kcyBTaG9ydGhhbmRTeW50YXhOb2RlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IG5vZGVzOiBTaG9ydGhhbmRTeW50YXhOb2RlW10sXG4gICAgcHVibGljIHJlYWRvbmx5IHNsYXNoOiBib29sZWFuLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdHJ5UGFyc2UoXG4gICAgdmFsdWVzOiBDc3MuVmFsW10sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBzaG9ydGhhbmRWYWxpZGF0b3I6IFNob3J0aGFuZFZhbGlkYXRvcixcbiAgKTogbnVtYmVyIHtcbiAgICBjb25zdCBpbmRleDAgPSBpbmRleDtcbiAgICBpZiAodGhpcy5zbGFzaCkge1xuICAgICAgaWYgKHZhbHVlc1tpbmRleF0gPT0gQ3NzLnNsYXNoKSB7XG4gICAgICAgIGlmICgrK2luZGV4ID09IHZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXgwO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaW5kZXgwO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbmV3SW5kZXggPSB0aGlzLm5vZGVzWzBdLnRyeVBhcnNlKHZhbHVlcywgaW5kZXgsIHNob3J0aGFuZFZhbGlkYXRvcik7XG4gICAgaWYgKG5ld0luZGV4ID09IGluZGV4KSB7XG4gICAgICByZXR1cm4gaW5kZXgwO1xuICAgIH1cbiAgICBpbmRleCA9IG5ld0luZGV4O1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5ub2Rlcy5sZW5ndGggJiYgaW5kZXggPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG5ld0luZGV4ID0gdGhpcy5ub2Rlc1tpXS50cnlQYXJzZSh2YWx1ZXMsIGluZGV4LCBzaG9ydGhhbmRWYWxpZGF0b3IpO1xuICAgICAgaWYgKG5ld0luZGV4ID09IGluZGV4KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaW5kZXggPSBuZXdJbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTaG9ydGhhbmRWYWxpZGF0b3IgZXh0ZW5kcyBDc3MuVmlzaXRvciB7XG4gIHN5bnRheDogU2hvcnRoYW5kU3ludGF4Tm9kZVtdID0gbnVsbDtcbiAgcHJvcExpc3Q6IHN0cmluZ1tdID0gbnVsbDtcbiAgZXJyb3I6IGJvb2xlYW4gPSBmYWxzZTtcbiAgdmFsdWVzOiBWYWx1ZU1hcCA9IHt9O1xuICB2YWxpZGF0b3JTZXQ6IFZhbGlkYXRvclNldCA9IG51bGw7XG5cbiAgc2V0T3duZXIodmFsaWRhdG9yU2V0OiBWYWxpZGF0b3JTZXQpIHtcbiAgICB0aGlzLnZhbGlkYXRvclNldCA9IHZhbGlkYXRvclNldDtcbiAgfVxuXG4gIHN5bnRheE5vZGVGb3JQcm9wZXJ0eShuYW1lOiBzdHJpbmcpOiBTaG9ydGhhbmRTeW50YXhOb2RlIHtcbiAgICByZXR1cm4gbmV3IFNob3J0aGFuZFN5bnRheFByb3BlcnR5KHRoaXMudmFsaWRhdG9yU2V0LCBuYW1lKTtcbiAgfVxuXG4gIGNsb25lKCk6IHRoaXMge1xuICAgIGNvbnN0IG90aGVyID0gbmV3ICh0aGlzLmNvbnN0cnVjdG9yIGFzIGFueSkoKTtcbiAgICBvdGhlci5zeW50YXggPSB0aGlzLnN5bnRheDtcbiAgICBvdGhlci5wcm9wTGlzdCA9IHRoaXMucHJvcExpc3Q7XG4gICAgb3RoZXIudmFsaWRhdG9yU2V0ID0gdGhpcy52YWxpZGF0b3JTZXQ7XG4gICAgcmV0dXJuIG90aGVyO1xuICB9XG5cbiAgaW5pdChzeW50YXg6IFNob3J0aGFuZFN5bnRheE5vZGVbXSwgcHJvcExpc3Q6IHN0cmluZ1tdKTogdm9pZCB7XG4gICAgdGhpcy5zeW50YXggPSBzeW50YXg7XG4gICAgdGhpcy5wcm9wTGlzdCA9IHByb3BMaXN0O1xuICB9XG5cbiAgZmluaXNoKGltcG9ydGFudDogYm9vbGVhbiwgcmVjZWl2ZXI6IFByb3BlcnR5UmVjZWl2ZXIpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuZXJyb3IpIHtcbiAgICAgIGZvciAoY29uc3QgbmFtZSBvZiB0aGlzLnByb3BMaXN0KSB7XG4gICAgICAgIHJlY2VpdmVyLnNpbXBsZVByb3BlcnR5KFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgdGhpcy52YWx1ZXNbbmFtZV0gfHwgdGhpcy52YWxpZGF0b3JTZXQuZGVmYXVsdFZhbHVlc1tuYW1lXSxcbiAgICAgICAgICBpbXBvcnRhbnQsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJvcGFnYXRlSW5oZXJpdChpbXBvcnRhbnQ6IGJvb2xlYW4sIHJlY2VpdmVyOiBQcm9wZXJ0eVJlY2VpdmVyKTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBuYW1lIG9mIHRoaXMucHJvcExpc3QpIHtcbiAgICAgIHJlY2VpdmVyLnNpbXBsZVByb3BlcnR5KG5hbWUsIENzcy5pZGVudC5pbmhlcml0LCBpbXBvcnRhbnQpO1xuICAgIH1cbiAgfVxuXG4gIHZhbGlkYXRlTGlzdChsaXN0OiBDc3MuVmFsW10pOiBudW1iZXIge1xuICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgdmFsaWRhdGVTaW5nbGUodmFsOiBDc3MuVmFsKTogQ3NzLlZhbCB7XG4gICAgdGhpcy52YWxpZGF0ZUxpc3QoW3ZhbF0pO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRFbXB0eShlbXB0eTogQ3NzLlZhbCk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKGVtcHR5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0U3RyKHN0cjogQ3NzLlN0cik6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKHN0cik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdElkZW50KGlkZW50OiBDc3MuSWRlbnQpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShpZGVudCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdE51bWVyaWMobnVtZXJpYzogQ3NzLk51bWVyaWMpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShudW1lcmljKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtKG51bTogQ3NzLk51bSk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKG51bSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEludChudW06IENzcy5JbnQpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShudW0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRDb2xvcihjb2xvcjogQ3NzLkNvbG9yKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUoY29sb3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRVUkwodXJsOiBDc3MuVVJMKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUodXJsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0U3BhY2VMaXN0KGxpc3Q6IENzcy5TcGFjZUxpc3QpOiBDc3MuVmFsIHtcbiAgICB0aGlzLnZhbGlkYXRlTGlzdChsaXN0LnZhbHVlcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdENvbW1hTGlzdChsaXN0OiBDc3MuQ29tbWFMaXN0KTogQ3NzLlZhbCB7XG4gICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEZ1bmMoZnVuYzogQ3NzLkZ1bmMpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShmdW5jKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RXhwcihleHByOiBDc3MuRXhwcik6IENzcy5WYWwge1xuICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTaW1wbGVTaG9ydGhhbmRWYWxpZGF0b3IgZXh0ZW5kcyBTaG9ydGhhbmRWYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmFsaWRhdGVMaXN0KGxpc3Q6IENzcy5WYWxbXSk6IG51bWJlciB7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBsZXQgaSA9IDA7XG4gICAgd2hpbGUgKGluZGV4IDwgbGlzdC5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gdGhpcy5zeW50YXhbaV0udHJ5UGFyc2UobGlzdCwgaW5kZXgsIHRoaXMpO1xuICAgICAgaWYgKG5ld0luZGV4ID4gaW5kZXgpIHtcbiAgICAgICAgaW5kZXggPSBuZXdJbmRleDtcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKCsraSA9PSB0aGlzLnN5bnRheC5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEluc2V0c1Nob3J0aGFuZFZhbGlkYXRvciBleHRlbmRzIFNob3J0aGFuZFZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2YWxpZGF0ZUxpc3QobGlzdDogQ3NzLlZhbFtdKTogbnVtYmVyIHtcbiAgICBpZiAobGlzdC5sZW5ndGggPiB0aGlzLnN5bnRheC5sZW5ndGggfHwgbGlzdC5sZW5ndGggPT0gMCkge1xuICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN5bnRheC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGluZGV4ID0gaTtcbiAgICAgIHdoaWxlIChpbmRleCA+PSBsaXN0Lmxlbmd0aCkge1xuICAgICAgICBpbmRleCA9IGluZGV4ID09IDEgPyAwIDogaW5kZXggLSAyO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3ludGF4W2ldLnRyeVBhcnNlKGxpc3QsIGluZGV4LCB0aGlzKSAhPSBpbmRleCArIDEpIHtcbiAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGlzdC5sZW5ndGg7XG4gIH1cblxuICBjcmVhdGVTeW50YXhOb2RlKCk6IFNob3J0aGFuZFN5bnRheFByb3BlcnR5TiB7XG4gICAgcmV0dXJuIG5ldyBTaG9ydGhhbmRTeW50YXhQcm9wZXJ0eU4odGhpcy52YWxpZGF0b3JTZXQsIHRoaXMucHJvcExpc3QpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbnNldHNTbGFzaFNob3J0aGFuZFZhbGlkYXRvciBleHRlbmRzIFNob3J0aGFuZFZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2YWxpZGF0ZUxpc3QobGlzdDogQ3NzLlZhbFtdKTogbnVtYmVyIHtcbiAgICBsZXQgc2xhc2hJbmRleCA9IGxpc3QubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RbaV0gPT09IENzcy5zbGFzaCkge1xuICAgICAgICBzbGFzaEluZGV4ID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzbGFzaEluZGV4ID4gdGhpcy5zeW50YXgubGVuZ3RoIHx8IGxpc3QubGVuZ3RoID09IDApIHtcbiAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zeW50YXgubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBpbmRleDAgPSBpO1xuICAgICAgd2hpbGUgKGluZGV4MCA+PSBzbGFzaEluZGV4KSB7XG4gICAgICAgIGluZGV4MCA9IGluZGV4MCA9PSAxID8gMCA6IGluZGV4MCAtIDI7XG4gICAgICB9XG4gICAgICBsZXQgaW5kZXgxOiBudW1iZXI7XG4gICAgICBpZiAoc2xhc2hJbmRleCArIDEgPCBsaXN0Lmxlbmd0aCkge1xuICAgICAgICBpbmRleDEgPSBzbGFzaEluZGV4ICsgaSArIDE7XG4gICAgICAgIHdoaWxlIChpbmRleDEgPj0gbGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICBpbmRleDEgPSBpbmRleDEgLSAoaW5kZXgxID09IHNsYXNoSW5kZXggKyAyID8gMSA6IDIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmRleDEgPSBpbmRleDA7XG4gICAgICB9XG4gICAgICBjb25zdCB2YWxzID0gW2xpc3RbaW5kZXgwXSwgbGlzdFtpbmRleDFdXTtcbiAgICAgIGlmICh0aGlzLnN5bnRheFtpXS50cnlQYXJzZSh2YWxzLCAwLCB0aGlzKSAhPSAyKSB7XG4gICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxpc3QubGVuZ3RoO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21tYVNob3J0aGFuZFZhbGlkYXRvciBleHRlbmRzIFNpbXBsZVNob3J0aGFuZFZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBtZXJnZUluKGFjYzogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsW10gfSwgdmFsdWVzOiBWYWx1ZU1hcCkge1xuICAgIGZvciAoY29uc3QgbmFtZSBvZiB0aGlzLnByb3BMaXN0KSB7XG4gICAgICBjb25zdCB2YWwgPSB2YWx1ZXNbbmFtZV0gfHwgdGhpcy52YWxpZGF0b3JTZXQuZGVmYXVsdFZhbHVlc1tuYW1lXTtcbiAgICAgIGxldCBhcnIgPSBhY2NbbmFtZV07XG4gICAgICBpZiAoIWFycikge1xuICAgICAgICBhcnIgPSBbXTtcbiAgICAgICAgYWNjW25hbWVdID0gYXJyO1xuICAgICAgfVxuICAgICAgYXJyLnB1c2godmFsKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdENvbW1hTGlzdChsaXN0OiBDc3MuQ29tbWFMaXN0KTogQ3NzLlZhbCB7XG4gICAgY29uc3QgYWNjOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWxbXSB9ID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0LnZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy52YWx1ZXMgPSB7fTtcbiAgICAgIGlmIChsaXN0LnZhbHVlc1tpXSBpbnN0YW5jZW9mIENzcy5Db21tYUxpc3QpIHtcbiAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaXN0LnZhbHVlc1tpXS52aXNpdCh0aGlzKTtcbiAgICAgICAgdGhpcy5tZXJnZUluKGFjYywgdGhpcy52YWx1ZXMpO1xuICAgICAgICBpZiAodGhpcy52YWx1ZXNbXCJiYWNrZ3JvdW5kLWNvbG9yXCJdICYmIGkgIT0gbGlzdC52YWx1ZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy52YWx1ZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gYWNjKSB7XG4gICAgICBpZiAobmFtZSA9PSBcImJhY2tncm91bmQtY29sb3JcIikge1xuICAgICAgICB0aGlzLnZhbHVlc1tuYW1lXSA9IGFjY1tuYW1lXS5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudmFsdWVzW25hbWVdID0gbmV3IENzcy5Db21tYUxpc3QoYWNjW25hbWVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZvbnRTaG9ydGhhbmRWYWxpZGF0b3IgZXh0ZW5kcyBTaW1wbGVTaG9ydGhhbmRWYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaW5pdChzeW50YXg6IFNob3J0aGFuZFN5bnRheE5vZGVbXSwgcHJvcExpc3Q6IHN0cmluZ1tdKTogdm9pZCB7XG4gICAgc3VwZXIuaW5pdChzeW50YXgsIHByb3BMaXN0KTtcbiAgICB0aGlzLnByb3BMaXN0LnB1c2goXCJmb250LWZhbWlseVwiLCBcImxpbmUtaGVpZ2h0XCIsIFwiZm9udC1zaXplXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmFsaWRhdGVMaXN0KGxpc3Q6IENzcy5WYWxbXSk6IG51bWJlciB7XG4gICAgbGV0IGluZGV4ID0gc3VwZXIudmFsaWRhdGVMaXN0KGxpc3QpO1xuXG4gICAgLy8gbXVzdCBhdCBsZWFzdCBoYXZlIGZvbnQtc2l6ZSBhbmQgZm9udC1mYW1pbHkgYXQgdGhlIGVuZFxuICAgIGlmIChpbmRleCArIDIgPiBsaXN0Lmxlbmd0aCkge1xuICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICAgIHRoaXMuZXJyb3IgPSBmYWxzZTtcbiAgICBjb25zdCB2YWxpZGF0b3JzID0gdGhpcy52YWxpZGF0b3JTZXQudmFsaWRhdG9ycztcbiAgICBpZiAoIWxpc3RbaW5kZXhdLnZpc2l0KHZhbGlkYXRvcnNbXCJmb250LXNpemVcIl0pKSB7XG4gICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgdGhpcy52YWx1ZXNbXCJmb250LXNpemVcIl0gPSBsaXN0W2luZGV4KytdO1xuICAgIGlmIChsaXN0W2luZGV4XSA9PT0gQ3NzLnNsYXNoKSB7XG4gICAgICBpbmRleCsrO1xuXG4gICAgICAvLyBtdXN0IGF0IGxlYXN0IGhhdmUgbGluZS1oZWlnaHQgYW5kIGZvbnQtZmFtaWx5IGF0IHRoZSBlbmRcbiAgICAgIGlmIChpbmRleCArIDIgPiBsaXN0Lmxlbmd0aCkge1xuICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgICAgaWYgKCFsaXN0W2luZGV4XS52aXNpdCh2YWxpZGF0b3JzW1wibGluZS1oZWlnaHRcIl0pKSB7XG4gICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgICB0aGlzLnZhbHVlc1tcImxpbmUtaGVpZ2h0XCJdID0gbGlzdFtpbmRleCsrXTtcbiAgICB9XG4gICAgY29uc3QgZm9udEZhbWlseSA9XG4gICAgICBpbmRleCA9PSBsaXN0Lmxlbmd0aCAtIDFcbiAgICAgICAgPyBsaXN0W2luZGV4XVxuICAgICAgICA6IG5ldyBDc3MuU3BhY2VMaXN0KGxpc3Quc2xpY2UoaW5kZXgsIGxpc3QubGVuZ3RoKSk7XG4gICAgaWYgKCFmb250RmFtaWx5LnZpc2l0KHZhbGlkYXRvcnNbXCJmb250LWZhbWlseVwiXSkpIHtcbiAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICB0aGlzLnZhbHVlc1tcImZvbnQtZmFtaWx5XCJdID0gZm9udEZhbWlseTtcbiAgICByZXR1cm4gbGlzdC5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdENvbW1hTGlzdChsaXN0OiBDc3MuQ29tbWFMaXN0KTogQ3NzLlZhbCB7XG4gICAgbGlzdC52YWx1ZXNbMF0udmlzaXQodGhpcyk7XG4gICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBmYW1pbHlMaXN0ID0gW3RoaXMudmFsdWVzW1wiZm9udC1mYW1pbHlcIl1dO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGlzdC52YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZhbWlseUxpc3QucHVzaChsaXN0LnZhbHVlc1tpXSk7XG4gICAgfVxuICAgIGNvbnN0IGZhbWlseSA9IG5ldyBDc3MuQ29tbWFMaXN0KGZhbWlseUxpc3QpO1xuICAgIGlmICghZmFtaWx5LnZpc2l0KHRoaXMudmFsaWRhdG9yU2V0LnZhbGlkYXRvcnNbXCJmb250LWZhbWlseVwiXSkpIHtcbiAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnZhbHVlc1tcImZvbnQtZmFtaWx5XCJdID0gZmFtaWx5O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0SWRlbnQoaWRlbnQ6IENzcy5JZGVudCk6IENzcy5WYWwge1xuICAgIGNvbnN0IHByb3BzID0gdGhpcy52YWxpZGF0b3JTZXQuc3lzdGVtRm9udHNbaWRlbnQubmFtZV07XG4gICAgaWYgKHByb3BzKSB7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gcHJvcHMpIHtcbiAgICAgICAgdGhpcy52YWx1ZXNbbmFtZV0gPSBwcm9wc1tuYW1lXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBzaG9ydGhhbmRWYWxpZGF0b3JzOiB7XG4gIFtrZXk6IHN0cmluZ106IHR5cGVvZiBTaG9ydGhhbmRWYWxpZGF0b3I7XG59ID0ge1xuICBTSU1QTEU6IFNpbXBsZVNob3J0aGFuZFZhbGlkYXRvcixcbiAgSU5TRVRTOiBJbnNldHNTaG9ydGhhbmRWYWxpZGF0b3IsXG4gIElOU0VUU19TTEFTSDogSW5zZXRzU2xhc2hTaG9ydGhhbmRWYWxpZGF0b3IsXG4gIENPTU1BOiBDb21tYVNob3J0aGFuZFZhbGlkYXRvcixcbiAgRk9OVDogRm9udFNob3J0aGFuZFZhbGlkYXRvcixcbn07XG5cbi8vLS0tLSB2YWxpZGF0aW9uIGdyYW1tYXIgcGFyc2VyIGFuZCBwdWJsaWMgcHJvcGVydHkgdmFsaWRhdG9yXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiAqIE9iamVjdCB0aGF0IHZhbGlkYXRlcyBzaW1wbGUgYW5kIHNob3J0aGFuZCBwcm9wZXJ0aWVzLCBicmVha2luZyB1cCBzaG9ydGhhbmRcbiAqIHByb3BlcnRpZXMgaW50byBjb3JyZXNwb25kaW5nIHNpbXBsZSBvbmVzLCBhbHNvIHN0cmlwcGluZyBwcm9wZXJ0eSBwcmVmaXhlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFZhbGlkYXRvclNldCB7XG4gIHZhbGlkYXRvcnM6IHsgW2tleTogc3RyaW5nXTogUHJvcGVydHlWYWxpZGF0b3IgfSA9IHt9O1xuICBwcmVmaXhlczogeyBba2V5OiBzdHJpbmddOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSB9ID0ge307XG4gIGRlZmF1bHRWYWx1ZXM6IFZhbHVlTWFwID0ge307XG4gIG5hbWVkVmFsaWRhdG9yczogeyBba2V5OiBzdHJpbmddOiBWYWxpZGF0aW5nR3JvdXAgfSA9IHt9O1xuICBzeXN0ZW1Gb250czogeyBba2V5OiBzdHJpbmddOiBWYWx1ZU1hcCB9ID0ge307XG4gIHNob3J0aGFuZHM6IHsgW2tleTogc3RyaW5nXTogU2hvcnRoYW5kVmFsaWRhdG9yIH0gPSB7fTtcbiAgbGF5b3V0UHJvcHM6IFZhbHVlTWFwID0ge307XG4gIGJhY2tncm91bmRQcm9wczogVmFsdWVNYXAgPSB7fTtcblxuICBwcml2YXRlIGFkZFJlcGxhY2VtZW50KFxuICAgIHZhbDogVmFsaWRhdGluZ0dyb3VwLFxuICAgIHRva2VuOiBDc3NUb2tlbml6ZXIuVG9rZW4sXG4gICk6IFZhbGlkYXRpbmdHcm91cCB7XG4gICAgbGV0IGNzc3ZhbDogQ3NzLlZhbDtcbiAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk5VTUVSSUMpIHtcbiAgICAgIGNzc3ZhbCA9IG5ldyBDc3MuTnVtZXJpYyh0b2tlbi5udW0sIHRva2VuLnRleHQpO1xuICAgIH0gZWxzZSBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkhBU0gpIHtcbiAgICAgIGNzc3ZhbCA9IENzc1BhcnNlci5jb2xvckZyb21IYXNoKHRva2VuLnRleHQpO1xuICAgIH0gZWxzZSBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UKSB7XG4gICAgICBjc3N2YWwgPSBDc3MuZ2V0TmFtZSh0b2tlbi50ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5leHBlY3RlZCByZXBsYWNlbWVudFwiKTtcbiAgICB9XG4gICAgaWYgKHZhbC5pc1ByaW1pdGl2ZSgpKSB7XG4gICAgICBjb25zdCB2YWxpZGF0b3IgPSB2YWwubm9kZXNbMF0udmFsaWRhdG9yIGFzIFByaW1pdGl2ZVZhbGlkYXRvcjtcbiAgICAgIGNvbnN0IGlkZW50cyA9IHZhbGlkYXRvci5pZGVudHM7XG4gICAgICBmb3IgKGNvbnN0IGlkZW50IGluIGlkZW50cykge1xuICAgICAgICBpZGVudHNbaWRlbnRdID0gY3NzdmFsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidW5leHBlY3RlZCByZXBsYWNlbWVudFwiKTtcbiAgfVxuXG4gIHByaXZhdGUgbmV3R3JvdXAob3A6IHN0cmluZywgdmFsczogVmFsaWRhdGluZ0dyb3VwW10pOiBWYWxpZGF0aW5nR3JvdXAge1xuICAgIGNvbnN0IGdyb3VwID0gbmV3IFZhbGlkYXRpbmdHcm91cCgpO1xuICAgIGlmIChvcCA9PSBcInx8XCIpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzdWJncm91cCA9IG5ldyBWYWxpZGF0aW5nR3JvdXAoKTtcbiAgICAgICAgc3ViZ3JvdXAuc3RhcnRDbGF1c2UoaSk7XG4gICAgICAgIHN1Ymdyb3VwLmFkZEdyb3VwKHZhbHNbaV0sIEFkZC5GT0xMT1cpO1xuICAgICAgICBzdWJncm91cC5lbmRDbGF1c2UoaSk7XG4gICAgICAgIGdyb3VwLmFkZEdyb3VwKHN1Ymdyb3VwLCBpID09IDAgPyBBZGQuRk9MTE9XIDogQWRkLkFMVEVSTkFURSk7XG4gICAgICB9XG4gICAgICBjb25zdCBvdXRlciA9IG5ldyBWYWxpZGF0aW5nR3JvdXAoKTtcbiAgICAgIG91dGVyLnN0YXJ0U3BlY2lhbEdyb3VwKCk7XG4gICAgICBvdXRlci5hZGRHcm91cChncm91cCwgQWRkLlJFUEVBVEVEKTtcbiAgICAgIG91dGVyLmVuZFNwZWNpYWxHcm91cCgpO1xuICAgICAgcmV0dXJuIG91dGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgaG93OiBBZGQ7XG4gICAgICBzd2l0Y2ggKG9wKSB7XG4gICAgICAgIGNhc2UgXCIgXCI6XG4gICAgICAgICAgaG93ID0gQWRkLkZPTExPVztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInxcIjpcbiAgICAgICAgY2FzZSBcInx8XCI6XG4gICAgICAgICAgaG93ID0gQWRkLkFMVEVSTkFURTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIG9wXCIpO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGdyb3VwLmFkZEdyb3VwKHZhbHNbaV0sIGkgPT0gMCA/IEFkZC5GT0xMT1cgOiBob3cpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYWRkQ291bnRzKFxuICAgIHZhbDogVmFsaWRhdGluZ0dyb3VwLFxuICAgIG1pbjogbnVtYmVyLFxuICAgIG1heDogbnVtYmVyLFxuICApOiBWYWxpZGF0aW5nR3JvdXAge1xuICAgIGNvbnN0IGdyb3VwID0gbmV3IFZhbGlkYXRpbmdHcm91cCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWluOyBpKyspIHtcbiAgICAgIGdyb3VwLmFkZEdyb3VwKHZhbC5jbG9uZSgpLCBBZGQuRk9MTE9XKTtcbiAgICB9XG4gICAgaWYgKG1heCA9PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgIGdyb3VwLmFkZEdyb3VwKHZhbCwgQWRkLlJFUEVBVEVEKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IG1pbjsgaSA8IG1heDsgaSsrKSB7XG4gICAgICAgIGdyb3VwLmFkZEdyb3VwKHZhbC5jbG9uZSgpLCBBZGQuT1BUSU9OQUwpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ3JvdXA7XG4gIH1cblxuICBwcml2YXRlIHByaW1pdGl2ZSh2YWxpZGF0b3I6IFByb3BlcnR5VmFsaWRhdG9yKTogVmFsaWRhdGluZ0dyb3VwIHtcbiAgICBjb25zdCBncm91cCA9IG5ldyBWYWxpZGF0aW5nR3JvdXAoKTtcbiAgICBncm91cC5hZGRQcmltaXRpdmUodmFsaWRhdG9yKTtcbiAgICByZXR1cm4gZ3JvdXA7XG4gIH1cblxuICBwcml2YXRlIG5ld0Z1bmMoZm46IHN0cmluZywgdmFsOiBWYWxpZGF0aW5nR3JvdXApOiBWYWxpZGF0aW5nR3JvdXAge1xuICAgIGxldCB2YWxpZGF0b3I6IFByb3BlcnR5VmFsaWRhdG9yO1xuICAgIHN3aXRjaCAoZm4pIHtcbiAgICAgIGNhc2UgXCJDT01NQVwiOlxuICAgICAgICB2YWxpZGF0b3IgPSBuZXcgQ29tbWFMaXN0VmFsaWRhdG9yKHZhbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIlNQQUNFXCI6XG4gICAgICAgIHZhbGlkYXRvciA9IG5ldyBTcGFjZUxpc3RWYWxpZGF0b3IodmFsKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB2YWxpZGF0b3IgPSBuZXcgRnVuY1ZhbGlkYXRvcihmbi50b0xvd2VyQ2FzZSgpLCB2YWwpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucHJpbWl0aXZlKHZhbGlkYXRvcik7XG4gIH1cblxuICBpbml0QnVpbHRJblZhbGlkYXRvcnMoKTogdm9pZCB7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJIQVNIQ09MT1JcIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfQ09MT1IsIE5PX0lERU5UUywgTk9fSURFTlRTKSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiUE9TX0lOVFwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19QT1NfSU5ULCBOT19JREVOVFMsIE5PX0lERU5UUyksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIlBPU19OVU1cIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfUE9TX05VTSwgTk9fSURFTlRTLCBOT19JREVOVFMpLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJQT1NfUEVSQ0VOVEFHRVwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19QT1NfTlVNRVJJQywgTk9fSURFTlRTLCB7IFwiJVwiOiBDc3MuZW1wdHkgfSksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIk5FR0FUSVZFXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX05FR0FUSVZFLCBOT19JREVOVFMsIE5PX0lERU5UUyksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIlpFUk9cIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfWkVSTywgTk9fSURFTlRTLCBOT19JREVOVFMpLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJaRVJPX1BFUkNFTlRBR0VcIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfWkVST19QRVJDRU5ULCBOT19JREVOVFMsIE5PX0lERU5UUyksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIlBPU19MRU5HVEhcIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfUE9TX05VTUVSSUMsIE5PX0lERU5UUywge1xuICAgICAgICBlbTogQ3NzLmVtcHR5LFxuICAgICAgICBleDogQ3NzLmVtcHR5LFxuICAgICAgICBjaDogQ3NzLmVtcHR5LFxuICAgICAgICByZW06IENzcy5lbXB0eSxcbiAgICAgICAgdnc6IENzcy5lbXB0eSxcbiAgICAgICAgdmg6IENzcy5lbXB0eSxcbiAgICAgICAgdmk6IENzcy5lbXB0eSxcbiAgICAgICAgdmI6IENzcy5lbXB0eSxcbiAgICAgICAgdm1pbjogQ3NzLmVtcHR5LFxuICAgICAgICB2bWF4OiBDc3MuZW1wdHksXG4gICAgICAgIHB2dzogQ3NzLmVtcHR5LFxuICAgICAgICBwdmg6IENzcy5lbXB0eSxcbiAgICAgICAgcHZpOiBDc3MuZW1wdHksXG4gICAgICAgIHB2YjogQ3NzLmVtcHR5LFxuICAgICAgICBwdm1pbjogQ3NzLmVtcHR5LFxuICAgICAgICBwdm1heDogQ3NzLmVtcHR5LFxuICAgICAgICBjbTogQ3NzLmVtcHR5LFxuICAgICAgICBtbTogQ3NzLmVtcHR5LFxuICAgICAgICBpbjogQ3NzLmVtcHR5LFxuICAgICAgICBweDogQ3NzLmVtcHR5LFxuICAgICAgICBwdDogQ3NzLmVtcHR5LFxuICAgICAgICBwYzogQ3NzLmVtcHR5LFxuICAgICAgICBxOiBDc3MuZW1wdHksXG4gICAgICB9KSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiUE9TX0FOR0xFXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX1BPU19OVU1FUklDLCBOT19JREVOVFMsIHtcbiAgICAgICAgZGVnOiBDc3MuZW1wdHksXG4gICAgICAgIGdyYWQ6IENzcy5lbXB0eSxcbiAgICAgICAgcmFkOiBDc3MuZW1wdHksXG4gICAgICAgIHR1cm46IENzcy5lbXB0eSxcbiAgICAgIH0pLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJQT1NfVElNRVwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19QT1NfTlVNRVJJQywgTk9fSURFTlRTLCB7XG4gICAgICAgIHM6IENzcy5lbXB0eSxcbiAgICAgICAgbXM6IENzcy5lbXB0eSxcbiAgICAgIH0pLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJGUkVRVUVOQ1lcIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfUE9TX05VTUVSSUMsIE5PX0lERU5UUywge1xuICAgICAgICBIejogQ3NzLmVtcHR5LFxuICAgICAgICBrSHo6IENzcy5lbXB0eSxcbiAgICAgIH0pLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJSRVNPTFVUSU9OXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX1BPU19OVU1FUklDLCBOT19JREVOVFMsIHtcbiAgICAgICAgZHBpOiBDc3MuZW1wdHksXG4gICAgICAgIGRwY206IENzcy5lbXB0eSxcbiAgICAgICAgZHBweDogQ3NzLmVtcHR5LFxuICAgICAgfSksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIlVSSVwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19VUkwsIE5PX0lERU5UUywgTk9fSURFTlRTKSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiSURFTlRcIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfSURFTlQsIE5PX0lERU5UUywgTk9fSURFTlRTKSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiU1RSSU5HXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX1NUUiwgTk9fSURFTlRTLCBOT19JREVOVFMpLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJTTEFTSFwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19TTEFTSCwgTk9fSURFTlRTLCBOT19JREVOVFMpLFxuICAgICk7XG4gICAgY29uc3Qgc3RkZm9udCA9IHsgXCJmb250LWZhbWlseVwiOiBDc3MuZ2V0TmFtZShcInNhbnMtc2VyaWZcIikgfTtcbiAgICB0aGlzLnN5c3RlbUZvbnRzW1wiY2FwdGlvblwiXSA9IHN0ZGZvbnQ7XG4gICAgdGhpcy5zeXN0ZW1Gb250c1tcImljb25cIl0gPSBzdGRmb250O1xuICAgIHRoaXMuc3lzdGVtRm9udHNbXCJtZW51XCJdID0gc3RkZm9udDtcbiAgICB0aGlzLnN5c3RlbUZvbnRzW1wibWVzc2FnZS1ib3hcIl0gPSBzdGRmb250O1xuICAgIHRoaXMuc3lzdGVtRm9udHNbXCJzbWFsbC1jYXB0aW9uXCJdID0gc3RkZm9udDtcbiAgICB0aGlzLnN5c3RlbUZvbnRzW1wic3RhdHVzLWJhclwiXSA9IHN0ZGZvbnQ7XG4gIH1cblxuICBwcml2YXRlIGlzQnVpbHRJbihuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISFuYW1lLm1hdGNoKC9eW0EtWl8wLTldKyQvKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVhZE5hbWVBbmRQcmVmaXhlcyhcbiAgICB0b2s6IENzc1Rva2VuaXplci5Ub2tlbml6ZXIsXG4gICAgc2VjdGlvbjogbnVtYmVyLFxuICApOiBzdHJpbmcgfCBudWxsIHtcbiAgICBsZXQgdG9rZW4gPSB0b2sudG9rZW4oKTtcbiAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRikge1xuICAgICAgLy8gRmluaXNoZWQgbm9ybWFsbHlcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBydWxlUHJlZml4ZXM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0geyBcIlwiOiB0cnVlIH07XG4gICAgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSSykge1xuICAgICAgZG8ge1xuICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICB0b2tlbiA9IHRvay50b2tlbigpO1xuICAgICAgICBpZiAodG9rZW4udHlwZSAhPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJlZml4IG5hbWUgZXhwZWN0ZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgcnVsZVByZWZpeGVzW3Rva2VuLnRleHRdID0gdHJ1ZTtcbiAgICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgICAgdG9rZW4gPSB0b2sudG9rZW4oKTtcbiAgICAgIH0gd2hpbGUgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT01NQSk7XG4gICAgICBpZiAodG9rZW4udHlwZSAhPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJLKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIiddJyBleHBlY3RlZFwiKTtcbiAgICAgIH1cbiAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICB0b2tlbiA9IHRvay50b2tlbigpO1xuICAgIH1cbiAgICBpZiAodG9rZW4udHlwZSAhPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm9wZXJ0eSBuYW1lIGV4cGVjdGVkXCIpO1xuICAgIH1cbiAgICBpZiAoc2VjdGlvbiA9PSAyID8gdG9rZW4udGV4dCA9PSBcIlNIT1JUSEFORFNcIiA6IHRva2VuLnRleHQgPT0gXCJERUZBVUxUU1wiKSB7XG4gICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IG5hbWUgPSB0b2tlbi50ZXh0O1xuICAgIHRvay5jb25zdW1lKCk7XG4gICAgaWYgKHNlY3Rpb24gIT0gMikge1xuICAgICAgaWYgKHRvay50b2tlbigpLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FUSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInPScgZXhwZWN0ZWRcIik7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuaXNCdWlsdEluKG5hbWUpKSB7XG4gICAgICAgIHRoaXMucHJlZml4ZXNbbmFtZV0gPSBydWxlUHJlZml4ZXM7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0b2sudG9rZW4oKS50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT04pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJzonIGV4cGVjdGVkXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmFtZTtcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VWYWxpZGF0b3JzKHRvazogQ3NzVG9rZW5pemVyLlRva2VuaXplcik6IHZvaWQge1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCBydWxlTmFtZSA9IHRoaXMucmVhZE5hbWVBbmRQcmVmaXhlcyh0b2ssIDEpO1xuICAgICAgaWYgKCFydWxlTmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgdmFsczogVmFsaWRhdGluZ0dyb3VwW10gPSBbXTtcbiAgICAgIGNvbnN0IHN0YWNrID0gW107XG4gICAgICBsZXQgb3AgPSBcIlwiO1xuICAgICAgbGV0IHZhbDogVmFsaWRhdGluZ0dyb3VwO1xuICAgICAgbGV0IGV4cGVjdHZhbCA9IHRydWU7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIGNvbnN0IHJlZHVjZSA9ICgpOiBWYWxpZGF0aW5nR3JvdXAgPT4ge1xuICAgICAgICBpZiAodmFscy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHZhbHVlc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFscy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgIHJldHVybiB2YWxzWzBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmLm5ld0dyb3VwKG9wLCB2YWxzKTtcbiAgICAgIH07XG4gICAgICBjb25zdCBzZXRvcCA9IChjdXJyb3A6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgICBpZiAoZXhwZWN0dmFsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAnJHtjdXJyb3B9JzogdW5leHBlY3RlZGApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcCAmJiBvcCAhPSBjdXJyb3ApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG1peGVkIG9wZXJhdG9yczogJyR7Y3Vycm9wfScgYW5kICcke29wfSdgKTtcbiAgICAgICAgfVxuICAgICAgICBvcCA9IGN1cnJvcDtcbiAgICAgICAgZXhwZWN0dmFsID0gdHJ1ZTtcbiAgICAgIH07XG4gICAgICBsZXQgcmVzdWx0OiBWYWxpZGF0aW5nR3JvdXAgPSBudWxsO1xuICAgICAgd2hpbGUgKCFyZXN1bHQpIHtcbiAgICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgICAgbGV0IHRva2VuID0gdG9rLnRva2VuKCk7XG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVDpcbiAgICAgICAgICAgIGlmICghZXhwZWN0dmFsKSB7XG4gICAgICAgICAgICAgIHNldG9wKFwiIFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzQnVpbHRJbih0b2tlbi50ZXh0KSkge1xuICAgICAgICAgICAgICBjb25zdCBidWlsdEluID0gdGhpcy5uYW1lZFZhbGlkYXRvcnNbdG9rZW4udGV4dF07XG4gICAgICAgICAgICAgIGlmICghYnVpbHRJbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJyR7dG9rZW4udGV4dH0nIHVuZXhwZWN0ZWRgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YWxzLnB1c2goYnVpbHRJbi5jbG9uZSgpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IGlkZW50cyA9IHt9O1xuICAgICAgICAgICAgICBpZGVudHNbdG9rZW4udGV4dC50b0xvd2VyQ2FzZSgpXSA9IENzcy5nZXROYW1lKHRva2VuLnRleHQpO1xuICAgICAgICAgICAgICB2YWxzLnB1c2goXG4gICAgICAgICAgICAgICAgdGhpcy5wcmltaXRpdmUobmV3IFByaW1pdGl2ZVZhbGlkYXRvcigwLCBpZGVudHMsIE5PX0lERU5UUykpLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXhwZWN0dmFsID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSU5UOiB7XG4gICAgICAgICAgICBjb25zdCBpZGVudHMgPSB7fTtcbiAgICAgICAgICAgIGlkZW50c1tgJHt0b2tlbi5udW19YF0gPSBuZXcgQ3NzLkludCh0b2tlbi5udW0pO1xuICAgICAgICAgICAgdmFscy5wdXNoKFxuICAgICAgICAgICAgICB0aGlzLnByaW1pdGl2ZShuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKDAsIGlkZW50cywgTk9fSURFTlRTKSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZXhwZWN0dmFsID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBUjpcbiAgICAgICAgICAgIHNldG9wKFwifFwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5CQVJfQkFSOlxuICAgICAgICAgICAgc2V0b3AoXCJ8fFwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSSzpcbiAgICAgICAgICAgIGlmICghZXhwZWN0dmFsKSB7XG4gICAgICAgICAgICAgIHNldG9wKFwiIFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YWNrLnB1c2goeyB2YWxzLCBvcCwgYjogXCJbXCIgfSk7XG4gICAgICAgICAgICBvcCA9IFwiXCI7XG4gICAgICAgICAgICB2YWxzID0gW107XG4gICAgICAgICAgICBleHBlY3R2YWwgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkZVTkM6XG4gICAgICAgICAgICBpZiAoIWV4cGVjdHZhbCkge1xuICAgICAgICAgICAgICBzZXRvcChcIiBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGFjay5wdXNoKHsgdmFscywgb3AsIGI6IFwiKFwiLCBmbjogdG9rZW4udGV4dCB9KTtcbiAgICAgICAgICAgIG9wID0gXCJcIjtcbiAgICAgICAgICAgIHZhbHMgPSBbXTtcbiAgICAgICAgICAgIGV4cGVjdHZhbCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19CUks6IHtcbiAgICAgICAgICAgIHZhbCA9IHJlZHVjZSgpO1xuICAgICAgICAgICAgY29uc3Qgb3BlbiA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgaWYgKG9wZW4uYiAhPSBcIltcIikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInXScgdW5leHBlY3RlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHMgPSBvcGVuLnZhbHM7XG4gICAgICAgICAgICB2YWxzLnB1c2godmFsKTtcbiAgICAgICAgICAgIG9wID0gb3Blbi5vcDtcbiAgICAgICAgICAgIGV4cGVjdHZhbCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX1BBUjoge1xuICAgICAgICAgICAgdmFsID0gcmVkdWNlKCk7XG4gICAgICAgICAgICBjb25zdCBvcGVuID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAob3Blbi5iICE9IFwiKFwiKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIicpJyB1bmV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFscyA9IG9wZW4udmFscztcbiAgICAgICAgICAgIHZhbHMucHVzaCh0aGlzLm5ld0Z1bmMob3Blbi5mbiwgdmFsKSk7XG4gICAgICAgICAgICBvcCA9IG9wZW4ub3A7XG4gICAgICAgICAgICBleHBlY3R2YWwgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT046XG4gICAgICAgICAgICBpZiAoZXhwZWN0dmFsKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIic6JyB1bmV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIHZhbHMucHVzaCh0aGlzLmFkZFJlcGxhY2VtZW50KHZhbHMucG9wKCksIHRvay50b2tlbigpKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuUU1BUks6XG4gICAgICAgICAgICBpZiAoZXhwZWN0dmFsKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIic/JyB1bmV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFscy5wdXNoKHRoaXMuYWRkQ291bnRzKHZhbHMucG9wKCksIDAsIDEpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVEFSOlxuICAgICAgICAgICAgaWYgKGV4cGVjdHZhbCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInKicgdW5leHBlY3RlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHMucHVzaCh0aGlzLmFkZENvdW50cyh2YWxzLnBvcCgpLCAwLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QTFVTOlxuICAgICAgICAgICAgaWYgKGV4cGVjdHZhbCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInKycgdW5leHBlY3RlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHMucHVzaCh0aGlzLmFkZENvdW50cyh2YWxzLnBvcCgpLCAxLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQzoge1xuICAgICAgICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIHRva2VuID0gdG9rLnRva2VuKCk7XG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSAhPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklOVCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCI8aW50PiBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1pbiA9IHRva2VuLm51bTtcbiAgICAgICAgICAgIGxldCBtYXggPSBtaW47XG4gICAgICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICAgICAgdG9rZW4gPSB0b2sudG9rZW4oKTtcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09NTUEpIHtcbiAgICAgICAgICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgdG9rZW4gPSB0b2sudG9rZW4oKTtcbiAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCI8aW50PiBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBtYXggPSB0b2tlbi5udW07XG4gICAgICAgICAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rLnRva2VuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSAhPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJDKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIid9JyBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHMucHVzaCh0aGlzLmFkZENvdW50cyh2YWxzLnBvcCgpLCBtaW4sIG1heCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MOlxuICAgICAgICAgICAgcmVzdWx0ID0gcmVkdWNlKCk7XG4gICAgICAgICAgICBpZiAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHVuY2xvc2VkICcke3N0YWNrLnBvcCgpLmJ9J2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInVuZXhwZWN0ZWQgdG9rZW5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICBpZiAodGhpcy5pc0J1aWx0SW4ocnVsZU5hbWUpKSB7XG4gICAgICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW3J1bGVOYW1lXSA9IHJlc3VsdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChyZXN1bHQuaXNTaW1wbGUoKSkge1xuICAgICAgICAgIHRoaXMudmFsaWRhdG9yc1tydWxlTmFtZV0gPSByZXN1bHQubm9kZXNbMF0udmFsaWRhdG9yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudmFsaWRhdG9yc1tydWxlTmFtZV0gPSBuZXcgU3BhY2VMaXN0VmFsaWRhdG9yKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBhcnNlRGVmYXVsdHModG9rOiBDc3NUb2tlbml6ZXIuVG9rZW5pemVyKTogdm9pZCB7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IHByb3BOYW1lID0gdGhpcy5yZWFkTmFtZUFuZFByZWZpeGVzKHRvaywgMik7XG4gICAgICBpZiAoIXByb3BOYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHM6IENzcy5WYWxbXSA9IFtdO1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgICAgY29uc3QgdG9rZW4gPSB0b2sudG9rZW4oKTtcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MKSB7XG4gICAgICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQ6XG4gICAgICAgICAgICB2YWxzLnB1c2goQ3NzLmdldE5hbWUodG9rZW4udGV4dCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk5VTTpcbiAgICAgICAgICAgIHZhbHMucHVzaChuZXcgQ3NzLk51bSh0b2tlbi5udW0pKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlQ6XG4gICAgICAgICAgICB2YWxzLnB1c2gobmV3IENzcy5JbnQodG9rZW4ubnVtKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNRVJJQzpcbiAgICAgICAgICAgIHZhbHMucHVzaChuZXcgQ3NzLk51bWVyaWModG9rZW4ubnVtLCB0b2tlbi50ZXh0KSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5leHBlY3RlZCB0b2tlblwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5kZWZhdWx0VmFsdWVzW3Byb3BOYW1lXSA9XG4gICAgICAgIHZhbHMubGVuZ3RoID4gMSA/IG5ldyBDc3MuU3BhY2VMaXN0KHZhbHMpIDogdmFsc1swXTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBhcnNlU2hvcnRoYW5kcyh0b2s6IENzc1Rva2VuaXplci5Ub2tlbml6ZXIpOiB2b2lkIHtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29uc3QgcnVsZU5hbWUgPSB0aGlzLnJlYWROYW1lQW5kUHJlZml4ZXModG9rLCAzKTtcbiAgICAgIGlmICghcnVsZU5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IHRva2VuID0gdG9rLm50aFRva2VuKDEpO1xuICAgICAgbGV0IHNob3J0aGFuZFZhbGlkYXRvcjogU2hvcnRoYW5kVmFsaWRhdG9yO1xuICAgICAgaWYgKFxuICAgICAgICB0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQgJiZcbiAgICAgICAgc2hvcnRoYW5kVmFsaWRhdG9yc1t0b2tlbi50ZXh0XVxuICAgICAgKSB7XG4gICAgICAgIHNob3J0aGFuZFZhbGlkYXRvciA9IG5ldyBzaG9ydGhhbmRWYWxpZGF0b3JzW3Rva2VuLnRleHRdKCk7XG4gICAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaG9ydGhhbmRWYWxpZGF0b3IgPSBuZXcgU2ltcGxlU2hvcnRoYW5kVmFsaWRhdG9yKCk7XG4gICAgICB9XG4gICAgICBzaG9ydGhhbmRWYWxpZGF0b3Iuc2V0T3duZXIodGhpcyk7XG4gICAgICBsZXQgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBsZXQgc3ludGF4OiBTaG9ydGhhbmRTeW50YXhOb2RlW10gPSBbXTtcbiAgICAgIGxldCBzbGFzaCA9IGZhbHNlO1xuICAgICAgY29uc3Qgc3RhY2sgPSBbXTtcbiAgICAgIGNvbnN0IHByb3BMaXN0ID0gW107XG4gICAgICB3aGlsZSAoIXJlc3VsdCkge1xuICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICB0b2tlbiA9IHRvay50b2tlbigpO1xuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQ6XG4gICAgICAgICAgICBpZiAodGhpcy52YWxpZGF0b3JzW3Rva2VuLnRleHRdKSB7XG4gICAgICAgICAgICAgIHN5bnRheC5wdXNoKHNob3J0aGFuZFZhbGlkYXRvci5zeW50YXhOb2RlRm9yUHJvcGVydHkodG9rZW4udGV4dCkpO1xuICAgICAgICAgICAgICBwcm9wTGlzdC5wdXNoKHRva2VuLnRleHQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgdGhpcy5zaG9ydGhhbmRzW3Rva2VuLnRleHRdIGluc3RhbmNlb2YgSW5zZXRzU2hvcnRoYW5kVmFsaWRhdG9yXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29uc3QgaW5zZXRTaG9ydGhhbmQgPSB0aGlzLnNob3J0aGFuZHNbXG4gICAgICAgICAgICAgICAgdG9rZW4udGV4dFxuICAgICAgICAgICAgICBdIGFzIEluc2V0c1Nob3J0aGFuZFZhbGlkYXRvcjtcbiAgICAgICAgICAgICAgc3ludGF4LnB1c2goaW5zZXRTaG9ydGhhbmQuY3JlYXRlU3ludGF4Tm9kZSgpKTtcbiAgICAgICAgICAgICAgcHJvcExpc3QucHVzaCguLi5pbnNldFNob3J0aGFuZC5wcm9wTGlzdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgYCcke3Rva2VuLnRleHR9JyBpcyBuZWl0aGVyIGEgc2ltcGxlIHByb3BlcnR5IG5vciBhbiBpbnNldCBzaG9ydGhhbmRgLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNMQVNIOlxuICAgICAgICAgICAgaWYgKHN5bnRheC5sZW5ndGggPiAwIHx8IHNsYXNoKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInVuZXhwZWN0ZWQgc2xhc2hcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzbGFzaCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUks6XG4gICAgICAgICAgICBzdGFjay5wdXNoKHsgc2xhc2gsIHN5bnRheCB9KTtcbiAgICAgICAgICAgIHN5bnRheCA9IFtdO1xuICAgICAgICAgICAgc2xhc2ggPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSSzoge1xuICAgICAgICAgICAgY29uc3QgY29tcG91bmQgPSBuZXcgU2hvcnRoYW5kU3ludGF4Q29tcG91bmQoc3ludGF4LCBzbGFzaCk7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBzeW50YXggPSBpdGVtLnN5bnRheDtcbiAgICAgICAgICAgIHNsYXNoID0gaXRlbS5zbGFzaDtcbiAgICAgICAgICAgIHN5bnRheC5wdXNoKGNvbXBvdW5kKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU0VNSUNPTDpcbiAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInVuZXhwZWN0ZWQgdG9rZW5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNob3J0aGFuZFZhbGlkYXRvci5pbml0KHN5bnRheCwgcHJvcExpc3QpO1xuICAgICAgdGhpcy5zaG9ydGhhbmRzW3J1bGVOYW1lXSA9IHNob3J0aGFuZFZhbGlkYXRvcjtcbiAgICB9XG4gIH1cblxuICBwYXJzZSh0ZXh0OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAvLyBOb3QgYXMgcm9idXN0IGFzIENTUyBwYXJzZXIuXG4gICAgY29uc3QgdG9rID0gbmV3IENzc1Rva2VuaXplci5Ub2tlbml6ZXIodGV4dCwgbnVsbCk7XG4gICAgdGhpcy5wYXJzZVZhbGlkYXRvcnModG9rKTtcbiAgICB0aGlzLnBhcnNlRGVmYXVsdHModG9rKTtcbiAgICB0aGlzLnBhcnNlU2hvcnRoYW5kcyh0b2spO1xuICAgIHRoaXMuYmFja2dyb3VuZFByb3BzID0gdGhpcy5tYWtlUHJvcFNldChbXCJiYWNrZ3JvdW5kXCJdKTtcbiAgICB0aGlzLmxheW91dFByb3BzID0gdGhpcy5tYWtlUHJvcFNldChbXG4gICAgICBcIm1hcmdpblwiLFxuICAgICAgXCJib3JkZXJcIixcbiAgICAgIFwicGFkZGluZ1wiLFxuICAgICAgXCJjb2x1bW5zXCIsXG4gICAgICBcImNvbHVtbi1nYXBcIixcbiAgICAgIFwiY29sdW1uLXJ1bGVcIixcbiAgICAgIFwiY29sdW1uLWZpbGxcIixcbiAgICBdKTtcbiAgfVxuXG4gIG1ha2VQcm9wU2V0KHByb3BMaXN0OiBzdHJpbmdbXSk6IFZhbHVlTWFwIHtcbiAgICBjb25zdCBtYXA6IFZhbHVlTWFwID0ge307XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIHByb3BMaXN0KSB7XG4gICAgICBjb25zdCBzaG9ydGhhbmQgPSB0aGlzLnNob3J0aGFuZHNbcHJvcF07XG4gICAgICBjb25zdCBsaXN0ID0gc2hvcnRoYW5kID8gc2hvcnRoYW5kLnByb3BMaXN0IDogW3Byb3BdO1xuICAgICAgZm9yIChjb25zdCBwbmFtZSBvZiBsaXN0KSB7XG4gICAgICAgIGNvbnN0IHB2YWwgPSB0aGlzLmRlZmF1bHRWYWx1ZXNbcG5hbWVdO1xuICAgICAgICBpZiAoIXB2YWwpIHtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiVW5rbm93biBwcm9wZXJ0eSBpbiBtYWtlUHJvcFNldDpcIiwgcG5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1hcFtwbmFtZV0gPSBwdmFsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXA7XG4gIH1cblxuICB2YWxpZGF0ZVByb3BlcnR5QW5kSGFuZGxlU2hvcnRoYW5kKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICB2YWx1ZTogQ3NzLlZhbCxcbiAgICBpbXBvcnRhbnQ6IGJvb2xlYW4sXG4gICAgcmVjZWl2ZXI6IFByb3BlcnR5UmVjZWl2ZXIsXG4gICk6IHZvaWQge1xuICAgIGxldCBwcmVmaXggPSBcIlwiO1xuICAgIGNvbnN0IG9yaWdOYW1lID0gbmFtZTtcbiAgICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IHIgPSBuYW1lLm1hdGNoKC9eLShbYS16XSspLShbLWEtejAtOV0rKSQvKTtcbiAgICBpZiAocikge1xuICAgICAgcHJlZml4ID0gclsxXTtcbiAgICAgIG5hbWUgPSByWzJdO1xuICAgIH1cbiAgICBjb25zdCBweCA9IHRoaXMucHJlZml4ZXNbbmFtZV07XG4gICAgaWYgKCFweCB8fCAhcHhbcHJlZml4XSkge1xuICAgICAgcmVjZWl2ZXIudW5rbm93blByb3BlcnR5KG9yaWdOYW1lLCB2YWx1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHZhbGlkYXRvciA9IHRoaXMudmFsaWRhdG9yc1tuYW1lXTtcbiAgICBpZiAodmFsaWRhdG9yKSB7XG4gICAgICBjb25zdCBydmFsdWUgPVxuICAgICAgICB2YWx1ZSA9PT0gQ3NzLmlkZW50LmluaGVyaXQgfHwgdmFsdWUuaXNFeHByKClcbiAgICAgICAgICA/IHZhbHVlXG4gICAgICAgICAgOiB2YWx1ZS52aXNpdCh2YWxpZGF0b3IpO1xuICAgICAgaWYgKHJ2YWx1ZSkge1xuICAgICAgICByZWNlaXZlci5zaW1wbGVQcm9wZXJ0eShuYW1lLCBydmFsdWUsIGltcG9ydGFudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWNlaXZlci5pbnZhbGlkUHJvcGVydHlWYWx1ZShvcmlnTmFtZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzaG9ydGhhbmQgPSB0aGlzLnNob3J0aGFuZHNbbmFtZV0uY2xvbmUoKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gQ3NzLmlkZW50LmluaGVyaXQpIHtcbiAgICAgICAgc2hvcnRoYW5kLnByb3BhZ2F0ZUluaGVyaXQoaW1wb3J0YW50LCByZWNlaXZlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZS52aXNpdChzaG9ydGhhbmQpO1xuICAgICAgICBpZiAoIXNob3J0aGFuZC5maW5pc2goaW1wb3J0YW50LCByZWNlaXZlcikpIHtcbiAgICAgICAgICByZWNlaXZlci5pbnZhbGlkUHJvcGVydHlWYWx1ZShvcmlnTmFtZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiYXNlVmFsaWRhdG9yU2V0KCk6IFZhbGlkYXRvclNldCB7XG4gIGNvbnN0IHZhbGlkYXRvclNldCA9IG5ldyBWYWxpZGF0b3JTZXQoKTtcbiAgdmFsaWRhdG9yU2V0LmluaXRCdWlsdEluVmFsaWRhdG9ycygpO1xuICB2YWxpZGF0b3JTZXQucGFyc2UoVmFsaWRhdGlvblR4dCk7XG4gIHJldHVybiB2YWxpZGF0b3JTZXQ7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IEZvbnQgLSBEZWFsIHdpdGggZW1iZWRkZWQgZm9udHMuXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgQ3NzQ2FzY2FkZSBmcm9tIFwiLi9jc3MtY2FzY2FkZVwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgTmV0IGZyb20gXCIuL25ldFwiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBUYXNrVXRpbCBmcm9tIFwiLi90YXNrLXV0aWxcIjtcblxuZXhwb3J0IGNvbnN0IHRyYWl0UHJvcHM6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9ID0ge1xuICBcImZvbnQtc3R5bGVcIjogQ3NzLmlkZW50Lm5vcm1hbCxcbiAgXCJmb250LXZhcmlhbnRcIjogQ3NzLmlkZW50Lm5vcm1hbCxcbiAgXCJmb250LXdlaWdodFwiOiBDc3MuaWRlbnQubm9ybWFsLFxufTtcblxuZXhwb3J0IGNvbnN0IGJvZ3VzRm9udERhdGEgPSBgT1RUTyR7bmV3IERhdGUoKS52YWx1ZU9mKCl9YDtcblxuZXhwb3J0IGxldCBib2d1c0ZvbnRDb3VudGVyOiBudW1iZXIgPSAxO1xuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUZvbnRUcmFpdEtleShwcm9wZXJ0aWVzOiB7XG4gIFtrZXk6IHN0cmluZ106IENzcy5WYWw7XG59KTogc3RyaW5nIHtcbiAgY29uc3Qgc2IgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgZm9yIChjb25zdCBwcm9wIGluIHRyYWl0UHJvcHMpIHtcbiAgICBzYi5hcHBlbmQoXCIgXCIpO1xuICAgIHNiLmFwcGVuZChwcm9wZXJ0aWVzW3Byb3BdLnRvU3RyaW5nKCkpO1xuICB9XG4gIHJldHVybiBzYi50b1N0cmluZygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsbERlZmF1bHRzKHByb3BlcnRpZXM6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9KTogdm9pZCB7XG4gIGZvciAoY29uc3QgcHJvcCBpbiB0cmFpdFByb3BzKSB7XG4gICAgaWYgKCFwcm9wZXJ0aWVzW3Byb3BdKSB7XG4gICAgICBwcm9wZXJ0aWVzW3Byb3BdID0gdHJhaXRQcm9wc1twcm9wXTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVQcm9wZXJ0aWVzKFxuICBwcm9wZXJ0aWVzOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbik6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9IHtcbiAgY29uc3QgcmVzdWx0ID0ge30gYXMgeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH07XG4gIGZvciAoY29uc3QgcHJvcCBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgcmVzdWx0W3Byb3BdID0gQ3NzQ2FzY2FkZS5nZXRQcm9wKHByb3BlcnRpZXMsIHByb3ApLmV2YWx1YXRlKGNvbnRleHQsIHByb3ApO1xuICB9XG4gIGZpbGxEZWZhdWx0cyhyZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgZm9udCBkZWNsYXJlZCBpbiBhIGZvbnQtZmFjZSBydWxlLlxuICovXG5leHBvcnQgY2xhc3MgRmFjZSB7XG4gIGZvbnRUcmFpdEtleTogc3RyaW5nO1xuICBzcmM6IHN0cmluZyB8IG51bGw7XG4gIGJsb2JVUkxzOiBzdHJpbmdbXSA9IFtdO1xuICBibG9iczogQmxvYltdID0gW107XG4gIGZhbWlseTogc3RyaW5nIHwgbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgcHJvcGVydGllczogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0pIHtcbiAgICB0aGlzLmZvbnRUcmFpdEtleSA9IG1ha2VGb250VHJhaXRLZXkodGhpcy5wcm9wZXJ0aWVzKTtcbiAgICB0aGlzLnNyYyA9IHRoaXMucHJvcGVydGllc1tcInNyY1wiXVxuICAgICAgPyB0aGlzLnByb3BlcnRpZXNbXCJzcmNcIl0udG9TdHJpbmcoKVxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGZhbWlseSA9IHRoaXMucHJvcGVydGllc1tcImZvbnQtZmFtaWx5XCJdO1xuICAgIHRoaXMuZmFtaWx5ID0gZmFtaWx5ID8gZmFtaWx5LnN0cmluZ1ZhbHVlKCkgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGZvbnQgdHJhaXRzIGFyZSB0aGUgc2FtZSBmb3IgdHdvIGZvbnQgZmFjZXNcbiAgICovXG4gIHRyYWl0c0VxdWFsKG90aGVyOiBGYWNlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZm9udFRyYWl0S2V5ID09IG90aGVyLmZvbnRUcmFpdEtleTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgXCJhdFwiIGZvbnQtZmFjZSBydWxlLlxuICAgKi9cbiAgbWFrZUF0UnVsZShzcmM6IHN0cmluZywgZm9udEJ5dGVzOiBCbG9iKTogc3RyaW5nIHtcbiAgICBjb25zdCBzYiA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICAgIHNiLmFwcGVuZChcIkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6IFwiKTtcbiAgICBzYi5hcHBlbmQodGhpcy5mYW1pbHkgYXMgc3RyaW5nKTtcbiAgICBzYi5hcHBlbmQoXCI7XFxuICBcIik7XG4gICAgZm9yIChjb25zdCBwcm9wIGluIHRyYWl0UHJvcHMpIHtcbiAgICAgIHNiLmFwcGVuZChwcm9wKTtcbiAgICAgIHNiLmFwcGVuZChcIjogXCIpO1xuICAgICAgdGhpcy5wcm9wZXJ0aWVzW3Byb3BdLmFwcGVuZFRvKHNiLCB0cnVlKTtcbiAgICAgIHNiLmFwcGVuZChcIjtcXG4gIFwiKTtcbiAgICB9XG4gICAgaWYgKGZvbnRCeXRlcykge1xuICAgICAgc2IuYXBwZW5kKCdzcmM6IHVybChcIicpO1xuICAgICAgY29uc3QgYmxvYlVSTCA9IE5ldC5jcmVhdGVPYmplY3RVUkwoZm9udEJ5dGVzKTtcbiAgICAgIHNiLmFwcGVuZChibG9iVVJMKTtcbiAgICAgIHRoaXMuYmxvYlVSTHMucHVzaChibG9iVVJMKTtcbiAgICAgIHRoaXMuYmxvYnMucHVzaChmb250Qnl0ZXMpO1xuICAgICAgc2IuYXBwZW5kKCdcIiknKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2IuYXBwZW5kKFwic3JjOiBcIik7XG4gICAgICBzYi5hcHBlbmQoc3JjKTtcbiAgICB9XG4gICAgc2IuYXBwZW5kKFwiO1xcbn1cXG5cIik7XG4gICAgcmV0dXJuIHNiLnRvU3RyaW5nKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgb2YgdGhlIGZvbnRzIGRlY2xhcmVkIGluIGFsbCBzdHlsZXNoZWV0cyBvZiBhIGRvY3VtZW50LlxuICogQHBhcmFtIGRlb2JmdXNjYXRvciBmdW5jdGlvblxuICogICAgIHRoYXQgdGFrZXMgdXJsIGFuZCByZXR1cm5zIGRhdGEgZGVvYmZ1c2NhdG9yXG4gKi9cbmV4cG9ydCBjbGFzcyBEb2N1bWVudEZhY2VzIHtcbiAgLyoqXG4gICAqIE1hcHMgc291cmNlIGZvbnQgZmFtaWx5IG5hbWVzIHRvIHRoZSBmYW1pbHkgbmFtZXMgdXNlZCBpbiB0aGUgSFRNTCB2aWV3LlxuICAgKi9cbiAgZmFtaWx5TWFwID0ge30gYXMgeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGVvYmZ1c2NhdG9yOlxuICAgICAgfCAoKHAxOiBzdHJpbmcpID0+ICgocDE6IEJsb2IpID0+IFRhc2suUmVzdWx0PEJsb2I+KSB8IG51bGwpXG4gICAgICB8IG51bGwsXG4gICkge31cblxuICByZWdpc3RlckZhbWlseShzcmNGYWNlOiBGYWNlLCB2aWV3RmFjZTogRmFjZSk6IHZvaWQge1xuICAgIGNvbnN0IHNyY0ZhbWlseSA9IHNyY0ZhY2UuZmFtaWx5IGFzIHN0cmluZztcbiAgICBjb25zdCB2aWV3RmFtaWx5RnJvbVNyYyA9IHRoaXMuZmFtaWx5TWFwW3NyY0ZhbWlseV07XG4gICAgY29uc3Qgdmlld0ZhbWlseUZyb21WaWV3ID0gdmlld0ZhY2UuZmFtaWx5O1xuICAgIGlmICh2aWV3RmFtaWx5RnJvbVNyYykge1xuICAgICAgaWYgKHZpZXdGYW1pbHlGcm9tU3JjICE9IHZpZXdGYW1pbHlGcm9tVmlldykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVfRk9OVF9GQU1JTFlfSU5DT05TSVNURU5UICR7c3JjRmFjZS5mYW1pbHl9YCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZmFtaWx5TWFwW3NyY0ZhbWlseV0gPSB2aWV3RmFtaWx5RnJvbVZpZXcgYXMgc3RyaW5nO1xuICAgIH1cbiAgfVxuXG4gIGZpbHRlckZvbnRGYW1pbHkodmFsOiBDc3MuVmFsKTogQ3NzLlZhbCB7XG4gICAgaWYgKHZhbCBpbnN0YW5jZW9mIENzcy5Db21tYUxpc3QpIHtcbiAgICAgIGNvbnN0IGxpc3QgPSAodmFsIGFzIENzcy5Db21tYUxpc3QpLnZhbHVlcztcbiAgICAgIGNvbnN0IG5ld1ZhbHVlcyA9IFtdIGFzIENzcy5WYWxbXTtcbiAgICAgIGZvciAoY29uc3QgdiBvZiBsaXN0KSB7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLmZhbWlseU1hcFt2LnN0cmluZ1ZhbHVlKCldO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIG5ld1ZhbHVlcy5wdXNoKENzcy5nZXROYW1lKHIpKTtcbiAgICAgICAgfVxuICAgICAgICBuZXdWYWx1ZXMucHVzaCh2KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQ3NzLkNvbW1hTGlzdChuZXdWYWx1ZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByZiA9IHRoaXMuZmFtaWx5TWFwW3ZhbC5zdHJpbmdWYWx1ZSgpXTtcbiAgICAgIGlmIChyZikge1xuICAgICAgICByZXR1cm4gbmV3IENzcy5Db21tYUxpc3QoW0Nzcy5nZXROYW1lKHJmKSwgdmFsXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIE9iamVjdCB0aGF0IGxvYWRzIGZvbnRzIGluIGEgZG9jdW1lbnQgYW5kIGFsbG9jYXRlcyBmb250IGZhbWlsaWVzIGZvciB0aGVtXG4gKiBpbiB0aGUgdmlldyBkb2N1bWVudFxuICogQHBhcmFtIGhlYWQgd2hlcmUgdG8gYWRkIHN0eWxlcyBpbiB0aGUgdmlldyBkb2N1bWVudCAobm9ybWFsbHkgaGVhZCBlbGVtZW50KVxuICogQHBhcmFtIGJvZHkgd2hlcmUgdG8gcHJvYmUgdGV4dCBpbiB0aGUgdmlldyBkb2N1bWVudCAobm9ybWFsbHkgYm9keSBlbGVtZW50KVxuICovXG5leHBvcnQgY2xhc3MgTWFwcGVyIHtcbiAgLyoqXG4gICAqIE1hcHMgRmFjZS5zcmMgdG8gYW4gZW50cnkgZm9yIGFuIGFscmVhZHktbG9hZGVkIGZvbnQuXG4gICAqL1xuICBzcmNVUkxNYXA6IHsgW2tleTogc3RyaW5nXTogVGFza1V0aWwuRmV0Y2hlcjxGYWNlPiB9ID0ge307XG4gIGZhbWlseVByZWZpeDogc3RyaW5nO1xuICBmYW1pbHlDb3VudGVyOiBudW1iZXIgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBoZWFkOiBFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBib2R5OiBFbGVtZW50LFxuICAgIG9wdF9mYW1pbHlQcmVmaXg/OiBzdHJpbmcsXG4gICkge1xuICAgIHRoaXMuZmFtaWx5UHJlZml4ID0gb3B0X2ZhbWlseVByZWZpeCB8fCBcIkZudF9cIjtcbiAgfVxuXG4gIGdldFZpZXdGb250RmFtaWx5KHNyY0ZhY2U6IEZhY2UsIGRvY3VtZW50RmFjZXM6IERvY3VtZW50RmFjZXMpOiBzdHJpbmcge1xuICAgIGNvbnN0IHNyY0ZhbWlseSA9IHNyY0ZhY2UuZmFtaWx5IGFzIHN0cmluZztcbiAgICBsZXQgdmlld0ZhbWlseSA9IGRvY3VtZW50RmFjZXMuZmFtaWx5TWFwW3NyY0ZhbWlseV07XG4gICAgaWYgKHZpZXdGYW1pbHkpIHtcbiAgICAgIHJldHVybiB2aWV3RmFtaWx5O1xuICAgIH1cbiAgICB2aWV3RmFtaWx5ID0gdGhpcy5mYW1pbHlQcmVmaXggKyArK3RoaXMuZmFtaWx5Q291bnRlcjtcbiAgICBkb2N1bWVudEZhY2VzLmZhbWlseU1hcFtzcmNGYW1pbHldID0gdmlld0ZhbWlseTtcbiAgICByZXR1cm4gdmlld0ZhbWlseTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gZm9udEJ5dGVzIGRlb2JmdXNjYXRlZCBmb250IGJ5dGVzIChpZiBkZW9iZnVzY2F0aW9uIGlzIG5lZWRlZClcbiAgICovXG4gIHByaXZhdGUgaW5pdEZvbnQoXG4gICAgc3JjRmFjZTogRmFjZSxcbiAgICBmb250Qnl0ZXM6IEJsb2IsXG4gICAgZG9jdW1lbnRGYWNlczogRG9jdW1lbnRGYWNlcyxcbiAgKTogVGFzay5SZXN1bHQ8RmFjZT4ge1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPEZhY2U+ID0gVGFzay5uZXdGcmFtZShcImluaXRGb250XCIpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IHNyYyA9IHNyY0ZhY2Uuc3JjIGFzIHN0cmluZztcbiAgICBjb25zdCBwcm9wcyA9IHt9IGFzIHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9O1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiB0cmFpdFByb3BzKSB7XG4gICAgICBwcm9wc1twcm9wXSA9IHNyY0ZhY2UucHJvcGVydGllc1twcm9wXTtcbiAgICB9XG4gICAgY29uc3QgZm9udEZhbWlseSA9IHNlbGYuZ2V0Vmlld0ZvbnRGYW1pbHkoc3JjRmFjZSwgZG9jdW1lbnRGYWNlcyk7XG4gICAgcHJvcHNbXCJmb250LWZhbWlseVwiXSA9IENzcy5nZXROYW1lKGZvbnRGYW1pbHkpO1xuICAgIGNvbnN0IHZpZXdGb250RmFjZSA9IG5ldyBGYWNlKHByb3BzKTtcbiAgICBjb25zdCBwcm9iZSA9IHNlbGYuYm9keS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIHByb2JlLnRleHRDb250ZW50ID0gXCJNXCI7XG4gICAgY29uc3Qga2lsbFRpbWUgPSBuZXcgRGF0ZSgpLnZhbHVlT2YoKSArIDEwMDA7XG4gICAgY29uc3Qgc3R5bGUgPSBzZWxmLmhlYWQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgY29uc3QgYm9ndXNEYXRhID0gYm9ndXNGb250RGF0YSArIGJvZ3VzRm9udENvdW50ZXIrKztcbiAgICBzdHlsZS50ZXh0Q29udGVudCA9IHZpZXdGb250RmFjZS5tYWtlQXRSdWxlKFwiXCIsIE5ldC5tYWtlQmxvYihbYm9ndXNEYXRhXSkpO1xuICAgIHNlbGYuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgc2VsZi5ib2R5LmFwcGVuZENoaWxkKHByb2JlKTtcbiAgICBwcm9iZS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICBwcm9iZS5zdHlsZS5mb250RmFtaWx5ID0gZm9udEZhbWlseTtcbiAgICBmb3IgKGNvbnN0IHBuYW1lIGluIHRyYWl0UHJvcHMpIHtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkocHJvYmUsIHBuYW1lLCBwcm9wc1twbmFtZV0udG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIGNvbnN0IHJlY3QgPSBwcm9iZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBpbml0V2lkdGggPSByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0O1xuICAgIGNvbnN0IGluaXRIZWlnaHQgPSByZWN0LmJvdHRvbSAtIHJlY3QudG9wO1xuICAgIHN0eWxlLnRleHRDb250ZW50ID0gdmlld0ZvbnRGYWNlLm1ha2VBdFJ1bGUoc3JjLCBmb250Qnl0ZXMpO1xuICAgIExvZ2dpbmcubG9nZ2VyLmluZm8oXCJTdGFydGluZyB0byBsb2FkIGZvbnQ6XCIsIHNyYyk7XG4gICAgbGV0IGxvYWRlZCA9IGZhbHNlO1xuICAgIGZyYW1lXG4gICAgICAubG9vcCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBwcm9iZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgY3VycldpZHRoID0gcmVjdC5yaWdodCAtIHJlY3QubGVmdDtcbiAgICAgICAgY29uc3QgY3VyckhlaWdodCA9IHJlY3QuYm90dG9tIC0gcmVjdC50b3A7XG4gICAgICAgIGlmIChpbml0V2lkdGggIT0gY3VycldpZHRoIHx8IGluaXRIZWlnaHQgIT0gY3VyckhlaWdodCkge1xuICAgICAgICAgIGxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyVGltZSA9IG5ldyBEYXRlKCkudmFsdWVPZigpO1xuICAgICAgICBpZiAoY3VyclRpbWUgPiBraWxsVGltZSkge1xuICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyYW1lLnNsZWVwKDEwKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGlmIChsb2FkZWQpIHtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci5pbmZvKFwiTG9hZGVkIGZvbnQ6XCIsIHNyYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcIkZhaWxlZCB0byBsb2FkIGZvbnQ6XCIsIHNyYyk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5ib2R5LnJlbW92ZUNoaWxkKHByb2JlKTtcbiAgICAgICAgZnJhbWUuZmluaXNoKHZpZXdGb250RmFjZSk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBsb2FkRm9udChcbiAgICBzcmNGYWNlOiBGYWNlLFxuICAgIGRvY3VtZW50RmFjZXM6IERvY3VtZW50RmFjZXMsXG4gICk6IFRhc2tVdGlsLkZldGNoZXI8RmFjZT4ge1xuICAgIGNvbnN0IHNyYyA9IHNyY0ZhY2Uuc3JjIGFzIHN0cmluZztcbiAgICBsZXQgZmV0Y2hlciA9IHRoaXMuc3JjVVJMTWFwW3NyY107XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKGZldGNoZXIpIHtcbiAgICAgIGZldGNoZXIucGlnZ3liYWNrKCh2aWV3RmFjZVBhcmFtKSA9PiB7XG4gICAgICAgIGNvbnN0IHZpZXdGYWNlID0gdmlld0ZhY2VQYXJhbSBhcyBGYWNlO1xuICAgICAgICBpZiAoIXZpZXdGYWNlLnRyYWl0c0VxdWFsKHNyY0ZhY2UpKSB7XG4gICAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcIkVfRk9OVF9GQUNFX0lOQ09NUEFUSUJMRVwiLCBzcmNGYWNlLnNyYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9jdW1lbnRGYWNlcy5yZWdpc3RlckZhbWlseShzcmNGYWNlLCB2aWV3RmFjZSk7XG4gICAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcIkZvdW5kIGFscmVhZHktbG9hZGVkIGZvbnQ6XCIsIHNyYyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmZXRjaGVyID0gbmV3IFRhc2tVdGlsLkZldGNoZXIoKCkgPT4ge1xuICAgICAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxGYWNlPiA9IFRhc2submV3RnJhbWUoXCJsb2FkRm9udFwiKTtcbiAgICAgICAgY29uc3QgZGVvYmZ1c2NhdG9yID0gZG9jdW1lbnRGYWNlcy5kZW9iZnVzY2F0b3JcbiAgICAgICAgICA/IGRvY3VtZW50RmFjZXMuZGVvYmZ1c2NhdG9yKHNyYylcbiAgICAgICAgICA6IG51bGw7XG4gICAgICAgIGlmIChkZW9iZnVzY2F0b3IpIHtcbiAgICAgICAgICBOZXQuYWpheChzcmMsIE5ldC5YTUxIdHRwUmVxdWVzdFJlc3BvbnNlVHlwZS5CTE9CKS50aGVuKCh4aHIpID0+IHtcbiAgICAgICAgICAgIGlmICgheGhyLnJlc3BvbnNlQmxvYikge1xuICAgICAgICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlb2JmdXNjYXRvcih4aHIucmVzcG9uc2VCbG9iKS50aGVuKChmb250Qnl0ZXMpID0+IHtcbiAgICAgICAgICAgICAgc2VsZlxuICAgICAgICAgICAgICAgIC5pbml0Rm9udChzcmNGYWNlLCBmb250Qnl0ZXMsIGRvY3VtZW50RmFjZXMpXG4gICAgICAgICAgICAgICAgLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5pbml0Rm9udChzcmNGYWNlLCBudWxsLCBkb2N1bWVudEZhY2VzKS50aGVuRmluaXNoKGZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gICAgICB9LCBgbG9hZEZvbnQgJHtzcmN9YCk7XG4gICAgICB0aGlzLnNyY1VSTE1hcFtzcmNdID0gZmV0Y2hlcjtcbiAgICAgIGZldGNoZXIuc3RhcnQoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZldGNoZXI7XG4gIH1cblxuICBmaW5kT3JMb2FkRm9udHMoXG4gICAgc3JjRmFjZXM6IEZhY2VbXSxcbiAgICBkb2N1bWVudEZhY2VzOiBEb2N1bWVudEZhY2VzLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZmV0Y2hlcnMgPSBbXSBhcyBUYXNrVXRpbC5GZXRjaGVyPEZhY2U+W107XG4gICAgZm9yIChjb25zdCBzcmNGYWNlIG9mIHNyY0ZhY2VzKSB7XG4gICAgICBpZiAoIXNyY0ZhY2Uuc3JjIHx8ICFzcmNGYWNlLmZhbWlseSkge1xuICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRV9GT05UX0ZBQ0VfSU5WQUxJRFwiKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBmZXRjaGVycy5wdXNoKHRoaXMubG9hZEZvbnQoc3JjRmFjZSwgZG9jdW1lbnRGYWNlcykpO1xuICAgIH1cbiAgICByZXR1cm4gVGFza1V0aWwud2FpdEZvckZldGNoZXJzKGZldGNoZXJzKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBQYWdlTWFzdGVyIC0gRGVhbCB3aXRoIHBhZ2UgbWFzdGVycywgcGFydGl0aW9uIGdyb3VwcywgYW5kIHBhcnRpdGlvbnMuXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgQ3NzQ2FzY2FkZSBmcm9tIFwiLi9jc3MtY2FzY2FkZVwiO1xuaW1wb3J0ICogYXMgQ3NzUGFyc2VyIGZyb20gXCIuL2Nzcy1wYXJzZXJcIjtcbmltcG9ydCAqIGFzIENzc1ZhbGlkYXRvciBmcm9tIFwiLi9jc3MtdmFsaWRhdG9yXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgRm9udCBmcm9tIFwiLi9mb250XCI7XG5pbXBvcnQgKiBhcyBWdHJlZSBmcm9tIFwiLi92dHJlZVwiO1xuXG5leHBvcnQgbGV0IGtleUNvdW50OiBudW1iZXIgPSAxO1xuXG4vKipcbiAqIFJlcHJlc2VudCBhbiBhdC1ydWxlIHdoaWNoIGNyZWF0ZXMgYSBwYWdlLWxldmVsIENTUyBib3ggKHBhZ2UtbWFzdGVyLFxuICogcGFydGl0aW9uLCBhbmQgcGFydGl0aW9uLWdyb3VwKS5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFBhZ2VCb3g8XG4gIEkgZXh0ZW5kcyBQYWdlQm94SW5zdGFuY2UgPSBQYWdlQm94SW5zdGFuY2U8YW55PlxuPiB7XG4gIC8vIHN0eWxlcyBzcGVjaWZpZWQgaW4gdGhlIGF0LXJ1bGVcbiAgc3BlY2lmaWVkOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSA9IHt9O1xuICBjaGlsZHJlbjogUGFnZUJveFtdID0gW107XG4gIHBhZ2VNYXN0ZXI6IFBhZ2VNYXN0ZXIgPSBudWxsO1xuICBpbmRleDogbnVtYmVyID0gMDtcbiAga2V5OiBzdHJpbmc7XG5cbiAgcHJvdGVjdGVkIF9zY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlO1xuXG4gIGdldCBzY29wZSgpOiBFeHBycy5MZXhpY2FsU2NvcGUge1xuICAgIHJldHVybiB0aGlzLl9zY29wZTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIHJlYWRvbmx5IHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIHJlYWRvbmx5IGNsYXNzZXM6IHN0cmluZ1tdLFxuICAgIHB1YmxpYyByZWFkb25seSBwYXJlbnQ6IFBhZ2VCb3gsXG4gICkge1xuICAgIHRoaXMuX3Njb3BlID0gc2NvcGU7XG4gICAgdGhpcy5rZXkgPSBgcCR7a2V5Q291bnQrK31gO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHRoaXMuaW5kZXggPSBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgcGFyZW50LmNoaWxkcmVuLnB1c2godGhpcyk7XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlSW5zdGFuY2UocGFyZW50SW5zdGFuY2U6IFBhZ2VCb3hJbnN0YW5jZSk6IFBhZ2VCb3hJbnN0YW5jZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9VTkVYUEVDVEVEX0NBTExcIik7XG4gIH1cblxuICAvKipcbiAgICogQ2xvbmUgdGhlIFBhZ2VCb3guXG4gICAqIEBwYXJhbSBwYXJhbSBwYXJlbnQ6IFRoZSBwYXJlbnQgb2YgdGhlIGNsb25lZCBQYWdlQm94LlxuICAgKiAgICAgcHNldWRvTmFtZTogQXNzaWduIHRoaXMgdmFsdWUgYXMgdGhlIHBzZXVkb05hbWUgb2YgdGhlIGNsb25lZCBQYWdlQm94LlxuICAgKi9cbiAgY2xvbmUocGFyYW06IHsgcGFyZW50PzogUGFnZUJveDsgcHNldWRvTmFtZT86IHN0cmluZyB9KTogUGFnZUJveDxJPiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9VTkVYUEVDVEVEX0NBTExcIik7XG4gIH1cblxuICAvKipcbiAgICogQ29weSAnc3BlY2lmaWVkJyBwcm9wZXJ0aWVzIHRvIGFub3RoZXIgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSBkZXN0IFRoZSBQYWdlQm94IGludG8gd2hpY2ggJ3NwZWNpZmllZCcgcHJvcGVydGllcyBhcmUgY29waWVkXG4gICAqL1xuICBwcm90ZWN0ZWQgY29weVNwZWNpZmllZChkZXN0OiBQYWdlQm94KSB7XG4gICAgY29uc3Qgc3BlY2lmaWVkID0gdGhpcy5zcGVjaWZpZWQ7XG4gICAgY29uc3QgZGVzdFNwZWNpZmllZCA9IGRlc3Quc3BlY2lmaWVkO1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiBzcGVjaWZpZWQpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc3BlY2lmaWVkLCBwcm9wKSkge1xuICAgICAgICBkZXN0U3BlY2lmaWVkW3Byb3BdID0gc3BlY2lmaWVkW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uZSBjaGlsZHJlbiB3aXRoIHRoZSBzcGVjaWZpZWQgUGFnZUJveCBhcyB0aGVpciBwYXJlbnQuXG4gICAqL1xuICBwcm90ZWN0ZWQgY2xvbmVDaGlsZHJlbihwYXJlbnQ6IFBhZ2VCb3gpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIHRoZSBjbG9uZWQgY2hpbGQgaXMgYWRkZWQgdG8gcGFyZW50LmNoaWxkcmVuIGluIHRoZSBjaGlsZCBjb25zdHJ1Y3Rvci5cbiAgICAgIHRoaXMuY2hpbGRyZW5baV0uY2xvbmUoeyBwYXJlbnQgfSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUGFyZW50IG9mIGFsbCBwYWdlIG1hc3RlcnNcbiAqL1xuZXhwb3J0IGNsYXNzIFJvb3RQYWdlQm94IGV4dGVuZHMgUGFnZUJveDxSb290UGFnZUJveEluc3RhbmNlPiB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUpIHtcbiAgICBzdXBlcihzY29wZSwgbnVsbCwgbnVsbCwgW10sIG51bGwpO1xuICAgIHRoaXMuc3BlY2lmaWVkW1wid2lkdGhcIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoQ3NzLmZ1bGxXaWR0aCwgMCk7XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJoZWlnaHRcIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoQ3NzLmZ1bGxIZWlnaHQsIDApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYWdlTWFzdGVyU2NvcGUgZXh0ZW5kcyBFeHBycy5MZXhpY2FsU2NvcGUge1xuICBjb25zdHJ1Y3RvcihzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLCBwdWJsaWMgcGFnZU1hc3RlcjogUGFnZU1hc3Rlcikge1xuICAgIHN1cGVyKHNjb3BlLCByZXNvbHZlcik7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgZnVuY3Rpb24gcmVzb2x2ZXIocXVhbGlmaWVkTmFtZSwgaXNGdW5jKSB7XG4gICAgICBjb25zdCByID0gcXVhbGlmaWVkTmFtZS5tYXRjaCgvXihbXi5dKylcXC4oW14uXSspJC8pO1xuICAgICAgaWYgKHIpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gc2VsZi5wYWdlTWFzdGVyLmtleU1hcFtyWzFdXTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgIGNvbnN0IGhvbGRlciA9IHRoaXMgYXMgSW5zdGFuY2VIb2xkZXI7XG4gICAgICAgICAgY29uc3QgYm94SW5zdGFuY2UgPSBob2xkZXIubG9va3VwSW5zdGFuY2Uoa2V5KTtcbiAgICAgICAgICBpZiAoYm94SW5zdGFuY2UpIHtcbiAgICAgICAgICAgIGlmIChpc0Z1bmMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGJveEluc3RhbmNlLnJlc29sdmVGdW5jKHJbMl0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGJveEluc3RhbmNlLnJlc29sdmVOYW1lKHJbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50IGEgcGFnZS1tYXN0ZXIgcnVsZVxuICovXG5leHBvcnQgY2xhc3MgUGFnZU1hc3RlcjxcbiAgSSBleHRlbmRzIFBhZ2VNYXN0ZXJJbnN0YW5jZSA9IFBhZ2VNYXN0ZXJJbnN0YW5jZTxhbnk+XG4+IGV4dGVuZHMgUGFnZUJveDxJPiB7XG4gIHBhZ2VNYXN0ZXI6IFBhZ2VNYXN0ZXI7XG4gIGtleU1hcDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICAgIHBhcmVudDogUm9vdFBhZ2VCb3gsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbmRpdGlvbjogRXhwcnMuVmFsLFxuICAgIHB1YmxpYyByZWFkb25seSBzcGVjaWZpY2l0eTogbnVtYmVyLFxuICApIHtcbiAgICBzdXBlcihzY29wZSwgbmFtZSwgcHNldWRvTmFtZSwgY2xhc3NlcywgcGFyZW50KTtcbiAgICAvLyBpZiBQYWdlTWFzdGVyU2NvcGUgb2JqZWN0IGlzIHBhc3NlZCwgdXNlIChzaGFyZSkgaXQuXG4gICAgaWYgKCEoc2NvcGUgaW5zdGFuY2VvZiBQYWdlTWFzdGVyU2NvcGUpKSB7XG4gICAgICB0aGlzLl9zY29wZSA9IG5ldyBQYWdlTWFzdGVyU2NvcGUoc2NvcGUsIHRoaXMpO1xuICAgIH1cbiAgICB0aGlzLnBhZ2VNYXN0ZXIgPSB0aGlzO1xuICAgIHRoaXMuc3BlY2lmaWVkW1wid2lkdGhcIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoQ3NzLmZ1bGxXaWR0aCwgMCk7XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJoZWlnaHRcIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoQ3NzLmZ1bGxIZWlnaHQsIDApO1xuICAgIHRoaXMuc3BlY2lmaWVkW1wid3JhcC1mbG93XCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgQ3NzLmlkZW50LmF1dG8sXG4gICAgICAwLFxuICAgICk7XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJwb3NpdGlvblwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgIENzcy5pZGVudC5yZWxhdGl2ZSxcbiAgICAgIDAsXG4gICAgKTtcbiAgICB0aGlzLnNwZWNpZmllZFtcIm92ZXJmbG93XCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgQ3NzLmlkZW50LnZpc2libGUsXG4gICAgICAwLFxuICAgICk7XG5cbiAgICAvLyBTaGlmdCAxcHggdG8gd29ya2Fyb3VuZCBDaHJvbWUgcHJpbnRpbmcgYnVnXG4gICAgLy8gdGhpcy5zcGVjaWZpZWRbXCJ0b3BcIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUobmV3IENzcy5OdW1lcmljKC0xLCBcInB4XCIpLCAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNyZWF0ZUluc3RhbmNlKHBhcmVudEluc3RhbmNlKTogUGFnZUJveEluc3RhbmNlIHtcbiAgICByZXR1cm4gbmV3IFBhZ2VNYXN0ZXJJbnN0YW5jZShwYXJlbnRJbnN0YW5jZSwgdGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjbG9uZShwYXJhbSk6IFBhZ2VNYXN0ZXIge1xuICAgIC8vIFRoZSBjbG9uZWQgcGFnZSBtYXN0ZXIgc2hhcmVzIHRoZSBzYW1lIHNjb3BlIG9iamVjdCB3aXRoIHRoZSBvcmlnaW5hbFxuICAgIC8vIG9uZS5cbiAgICBjb25zdCBjbG9uZWQgPSBuZXcgUGFnZU1hc3RlcihcbiAgICAgIHRoaXMuc2NvcGUsXG4gICAgICB0aGlzLm5hbWUsXG4gICAgICBwYXJhbS5wc2V1ZG9OYW1lIHx8IHRoaXMucHNldWRvTmFtZSxcbiAgICAgIHRoaXMuY2xhc3NlcyxcbiAgICAgIHRoaXMucGFyZW50IGFzIFJvb3RQYWdlQm94LFxuICAgICAgdGhpcy5jb25kaXRpb24sXG4gICAgICB0aGlzLnNwZWNpZmljaXR5LFxuICAgICk7XG4gICAgdGhpcy5jb3B5U3BlY2lmaWVkKGNsb25lZCk7XG4gICAgdGhpcy5jbG9uZUNoaWxkcmVuKGNsb25lZCk7XG4gICAgcmV0dXJuIGNsb25lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQb2ludCB0aGUgcGFnZU1hc3RlciByZWZlcmVuY2UgaW4gdGhlIFBhZ2VNYXN0ZXJTY29wZSB0byB0aGUgY3VycmVudCBwYWdlXG4gICAqIG1hc3Rlci4gVGhpcyBpcyBuZWVkZWQgd2hlbiBhIHBhZ2UgbWFzdGVyIGlzIGNsb25lZCBhbmQgc2hhcmVzIGEgY29tbW9uXG4gICAqIHNjb3BlIHdpdGggdGhlIG9yaWdpbmFsIHBhZ2UgbWFzdGVyLiBTaW5jZSBldmVyeSBFeHBycy5WYWwgd2hpY2ggdGhlXG4gICAqIHBhZ2UgbWFzdGVyIGhvbGRzIGhhcyBhIHJlZmVyZW5jZSB0byB0aGUgc2NvcGUgYW5kIHVzZXMgaXQgZm9yIHZhcmlhYmxlXG4gICAqIHJlc29sdXRpb24sIHRoaXMgcmVmZXJlbmNlIG11c3QgYmUgdXBkYXRlZCBwcm9wZXJseSBiZWZvcmUgdGhlIHBhZ2UgbWFzdGVyXG4gICAqIGluc3RhbmNlIGlzIHVzZWQuXG4gICAqL1xuICByZXNldFNjb3BlKCkge1xuICAgICh0aGlzLnNjb3BlIGFzIGFueSkucGFnZU1hc3RlciA9IHRoaXM7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnQgYSBwYXJ0aXRpb24tZ3JvdXAgcnVsZVxuICovXG5leHBvcnQgY2xhc3MgUGFydGl0aW9uR3JvdXAgZXh0ZW5kcyBQYWdlQm94PFBhcnRpdGlvbkdyb3VwSW5zdGFuY2U+IHtcbiAgcGFnZU1hc3RlcjogUGFnZU1hc3RlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgICBwYXJlbnQ6IFBhZ2VCb3gsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBuYW1lLCBwc2V1ZG9OYW1lLCBjbGFzc2VzLCBwYXJlbnQpO1xuICAgIHRoaXMucGFnZU1hc3RlciA9IHBhcmVudC5wYWdlTWFzdGVyO1xuICAgIGlmIChuYW1lKSB7XG4gICAgICB0aGlzLnBhZ2VNYXN0ZXIua2V5TWFwW25hbWVdID0gdGhpcy5rZXk7XG4gICAgfVxuICAgIHRoaXMuc3BlY2lmaWVkW1wid3JhcC1mbG93XCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgQ3NzLmlkZW50LmF1dG8sXG4gICAgICAwLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjcmVhdGVJbnN0YW5jZShwYXJlbnRJbnN0YW5jZTogUGFnZUJveEluc3RhbmNlKTogUGFnZUJveEluc3RhbmNlIHtcbiAgICByZXR1cm4gbmV3IFBhcnRpdGlvbkdyb3VwSW5zdGFuY2UocGFyZW50SW5zdGFuY2UsIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xvbmUocGFyYW0pOiBQYXJ0aXRpb25Hcm91cCB7XG4gICAgY29uc3QgY2xvbmVkID0gbmV3IFBhcnRpdGlvbkdyb3VwKFxuICAgICAgcGFyYW0ucGFyZW50LnNjb3BlLFxuICAgICAgdGhpcy5uYW1lLFxuICAgICAgdGhpcy5wc2V1ZG9OYW1lLFxuICAgICAgdGhpcy5jbGFzc2VzLFxuICAgICAgcGFyYW0ucGFyZW50LFxuICAgICk7XG4gICAgdGhpcy5jb3B5U3BlY2lmaWVkKGNsb25lZCk7XG4gICAgdGhpcy5jbG9uZUNoaWxkcmVuKGNsb25lZCk7XG4gICAgcmV0dXJuIGNsb25lZDtcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudCBhIHBhcnRpdGlvbiBydWxlXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXJ0aXRpb248XG4gIEkgZXh0ZW5kcyBQYXJ0aXRpb25JbnN0YW5jZSA9IFBhcnRpdGlvbkluc3RhbmNlXG4+IGV4dGVuZHMgUGFnZUJveDxJPiB7XG4gIHBhZ2VNYXN0ZXI6IFBhZ2VNYXN0ZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICAgcGFyZW50OiBQYWdlQm94LFxuICApIHtcbiAgICBzdXBlcihzY29wZSwgbmFtZSwgcHNldWRvTmFtZSwgY2xhc3NlcywgcGFyZW50KTtcbiAgICB0aGlzLnBhZ2VNYXN0ZXIgPSBwYXJlbnQucGFnZU1hc3RlcjtcbiAgICBpZiAobmFtZSkge1xuICAgICAgdGhpcy5wYWdlTWFzdGVyLmtleU1hcFtuYW1lXSA9IHRoaXMua2V5O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNyZWF0ZUluc3RhbmNlKHBhcmVudEluc3RhbmNlKTogUGFnZUJveEluc3RhbmNlIHtcbiAgICByZXR1cm4gbmV3IFBhcnRpdGlvbkluc3RhbmNlKHBhcmVudEluc3RhbmNlLCB0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNsb25lKHBhcmFtKTogUGFydGl0aW9uIHtcbiAgICBjb25zdCBjbG9uZWQgPSBuZXcgUGFydGl0aW9uKFxuICAgICAgcGFyYW0ucGFyZW50LnNjb3BlLFxuICAgICAgdGhpcy5uYW1lLFxuICAgICAgdGhpcy5wc2V1ZG9OYW1lLFxuICAgICAgdGhpcy5jbGFzc2VzLFxuICAgICAgcGFyYW0ucGFyZW50LFxuICAgICk7XG4gICAgdGhpcy5jb3B5U3BlY2lmaWVkKGNsb25lZCk7XG4gICAgdGhpcy5jbG9uZUNoaWxkcmVuKGNsb25lZCk7XG4gICAgcmV0dXJuIGNsb25lZDtcbiAgfVxufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gSW5zdGFuY2UgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBAcGFyYW0gZGVmIGRlZmF1bHQgdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRXhwcklkZW50KFxuICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICB2YWw6IENzcy5WYWwsXG4gIGRlZjogc3RyaW5nLFxuKTogRXhwcnMuVmFsIHtcbiAgaWYgKCF2YWwpIHtcbiAgICByZXR1cm4gbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCBkZWYpO1xuICB9XG4gIHJldHVybiB2YWwudG9FeHByKHNjb3BlLCBzY29wZS56ZXJvKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRXhwckF1dG8oXG4gIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gIHZhbDogQ3NzLlZhbCxcbiAgcmVmOiBFeHBycy5WYWwsXG4pOiBFeHBycy5WYWwge1xuICBpZiAoIXZhbCB8fCB2YWwgPT09IENzcy5pZGVudC5hdXRvKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHZhbC50b0V4cHIoc2NvcGUsIHJlZik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0V4cHJOb3JtYWwoXG4gIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gIHZhbDogQ3NzLlZhbCxcbiAgcmVmOiBFeHBycy5WYWwsXG4pOiBFeHBycy5WYWwge1xuICBpZiAoIXZhbCB8fCB2YWwgPT09IENzcy5pZGVudC5ub3JtYWwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gdmFsLnRvRXhwcihzY29wZSwgcmVmKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRXhwclplcm8oXG4gIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gIHZhbDogQ3NzLlZhbCxcbiAgcmVmOiBFeHBycy5WYWwsXG4pOiBFeHBycy5WYWwge1xuICBpZiAoIXZhbCB8fCB2YWwgPT09IENzcy5pZGVudC5hdXRvKSB7XG4gICAgcmV0dXJuIHNjb3BlLnplcm87XG4gIH1cbiAgcmV0dXJuIHZhbC50b0V4cHIoc2NvcGUsIHJlZik7XG59XG5cbi8qKlxuICogSWYgdGhlIHZhbHVlIGlzIG5vdCBzcGVjaWZpZWQgKG51bGwpLCByZXR1cm5zIHplcm8uXG4gKiBJZiB0aGUgdmFsdWUgaXMgJ2F1dG8nLCByZXR1cm5zIG51bGwuXG4gKiBPdGhlcndpc2UsIHJldHVybiB0aGUgdmFsdWUgaXRzZWxmLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9FeHByWmVyb0F1dG8oXG4gIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gIHZhbDogQ3NzLlZhbCxcbiAgcmVmOiBFeHBycy5WYWwsXG4pOiBFeHBycy5WYWwge1xuICBpZiAoIXZhbCkge1xuICAgIHJldHVybiBzY29wZS56ZXJvO1xuICB9IGVsc2UgaWYgKHZhbCA9PT0gQ3NzLmlkZW50LmF1dG8pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsLnRvRXhwcihzY29wZSwgcmVmKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9FeHByWmVyb0JvcmRlcihcbiAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgdmFsOiBDc3MuVmFsLFxuICBzdHlsZVZhbDogQ3NzLlZhbCxcbiAgcmVmOiBFeHBycy5WYWwsXG4pOiBFeHBycy5WYWwge1xuICBpZiAoIXZhbCB8fCBzdHlsZVZhbCA9PT0gQ3NzLmlkZW50Lm5vbmUpIHtcbiAgICByZXR1cm4gc2NvcGUuemVybztcbiAgfVxuICByZXR1cm4gdmFsLnRvRXhwcihzY29wZSwgcmVmKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRXhwckJvb2woXG4gIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gIHZhbDogQ3NzLlZhbCxcbiAgZGVmOiBFeHBycy5WYWwsXG4pOiBFeHBycy5WYWwge1xuICBpZiAoIXZhbCkge1xuICAgIHJldHVybiBkZWY7XG4gIH1cbiAgaWYgKHZhbCA9PT0gQ3NzLmlkZW50Ll90cnVlKSB7XG4gICAgcmV0dXJuIHNjb3BlLl90cnVlO1xuICB9XG4gIGlmICh2YWwgPT09IENzcy5pZGVudC5fZmFsc2UpIHtcbiAgICByZXR1cm4gc2NvcGUuX2ZhbHNlO1xuICB9XG4gIHJldHVybiB2YWwudG9FeHByKHNjb3BlLCBzY29wZS56ZXJvKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnN0YW5jZUhvbGRlciBleHRlbmRzIEV4cHJzLkNvbnRleHQge1xuICByZWdpc3Rlckluc3RhbmNlKGtleTogc3RyaW5nLCBpbnN0YW5jZTogUGFnZUJveEluc3RhbmNlKTogdm9pZDtcblxuICAvKipcbiAgICogQHJldHVybiBpbnN0YW5jZVxuICAgKi9cbiAgbG9va3VwSW5zdGFuY2Uoa2V5OiBzdHJpbmcpOiBQYWdlQm94SW5zdGFuY2U7XG59XG5cbmV4cG9ydCBjbGFzcyBQYWdlQm94SW5zdGFuY2U8UCBleHRlbmRzIFBhZ2VCb3ggPSBQYWdlQm94PGFueT4+IHtcbiAgLyoqXG4gICAqIGNhc2NhZGVkIHN0eWxlcywgZ2VvbWV0cmljIG9uZXMgY29udmVydGVkIHRvIENzcy5FeHByXG4gICAqL1xuICBwcm90ZWN0ZWQgY2FzY2FkZWQ6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlID0ge307XG4gIHN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSA9IHt9O1xuICBwcml2YXRlIGF1dG9XaWR0aDogRXhwcnMuTmF0aXZlID0gbnVsbDtcbiAgcHJpdmF0ZSBhdXRvSGVpZ2h0OiBFeHBycy5OYXRpdmUgPSBudWxsO1xuICBjaGlsZHJlbjogUGFnZUJveEluc3RhbmNlW10gPSBbXTtcbiAgaXNBdXRvV2lkdGg6IGJvb2xlYW4gPSBmYWxzZTtcbiAgaXNBdXRvSGVpZ2h0OiBib29sZWFuID0gZmFsc2U7XG4gIGlzVG9wRGVwZW5kZW50T25BdXRvSGVpZ2h0OiBib29sZWFuID0gZmFsc2U7XG4gIGlzUmlnaHREZXBlbmRlbnRPbkF1dG9XaWR0aDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGNhbGN1bGF0ZWRXaWR0aDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBjYWxjdWxhdGVkSGVpZ2h0OiBudW1iZXIgPSAwO1xuICBwYWdlTWFzdGVySW5zdGFuY2U6IFBhZ2VNYXN0ZXJJbnN0YW5jZSA9IG51bGw7XG4gIG5hbWVkVmFsdWVzOiB7IFtrZXk6IHN0cmluZ106IEV4cHJzLlZhbCB9ID0ge307XG4gIG5hbWVkRnVuY3M6IHsgW2tleTogc3RyaW5nXTogRXhwcnMuVmFsIH0gPSB7fTtcbiAgdmVydGljYWw6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcnRsOiBib29sZWFuID0gZmFsc2U7XG4gIHN1cHByZXNzRW1wdHlCb3hHZW5lcmF0aW9uOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmVudEluc3RhbmNlOiBQYWdlQm94SW5zdGFuY2UsXG4gICAgcHVibGljIHJlYWRvbmx5IHBhZ2VCb3g6IFAsXG4gICkge1xuICAgIGlmIChwYXJlbnRJbnN0YW5jZSkge1xuICAgICAgcGFyZW50SW5zdGFuY2UuY2hpbGRyZW4ucHVzaCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgaW5mb3JtYXRpb24gcmVsYXRlZCB0byBsYXlvdXQuXG4gICAqL1xuICByZXNldCgpIHtcbiAgICB0aGlzLmNhbGN1bGF0ZWRXaWR0aCA9IDA7XG4gICAgdGhpcy5jYWxjdWxhdGVkSGVpZ2h0ID0gMDtcbiAgfVxuXG4gIHByaXZhdGUgYWRkTmFtZWRWYWx1ZXMobmFtZTE6IHN0cmluZywgbmFtZTI6IHN0cmluZyk6IEV4cHJzLlZhbCB7XG4gICAgY29uc3QgdjEgPSB0aGlzLnJlc29sdmVOYW1lKG5hbWUxKTtcbiAgICBjb25zdCB2MiA9IHRoaXMucmVzb2x2ZU5hbWUobmFtZTIpO1xuICAgIGlmICghdjEgfHwgIXYyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0lOVEVSTkFMXCIpO1xuICAgIH1cbiAgICByZXR1cm4gRXhwcnMuYWRkKHRoaXMucGFnZUJveC5zY29wZSwgdjEsIHYyKTtcbiAgfVxuXG4gIHJlc29sdmVOYW1lKG5hbWU6IHN0cmluZyk6IEV4cHJzLlZhbCB7XG4gICAgbGV0IGV4cHIgPSB0aGlzLm5hbWVkVmFsdWVzW25hbWVdO1xuICAgIGlmIChleHByKSB7XG4gICAgICByZXR1cm4gZXhwcjtcbiAgICB9XG4gICAgY29uc3QgdmFsID0gdGhpcy5zdHlsZVtuYW1lXTtcbiAgICBpZiAodmFsKSB7XG4gICAgICBleHByID0gdmFsLnRvRXhwcih0aGlzLnBhZ2VCb3guc2NvcGUsIHRoaXMucGFnZUJveC5zY29wZS56ZXJvKTtcbiAgICB9XG4gICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICBjYXNlIFwibWFyZ2luLWxlZnQtZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5yZXNvbHZlTmFtZShcImxlZnRcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm1hcmdpbi10b3AtZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5yZXNvbHZlTmFtZShcInRvcFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibWFyZ2luLXJpZ2h0LWVkZ2VcIjpcbiAgICAgICAgZXhwciA9IHRoaXMuYWRkTmFtZWRWYWx1ZXMoXCJib3JkZXItcmlnaHQtZWRnZVwiLCBcIm1hcmdpbi1yaWdodFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibWFyZ2luLWJvdHRvbS1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwiYm9yZGVyLWJvdHRvbS1lZGdlXCIsIFwibWFyZ2luLWJvdHRvbVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYm9yZGVyLWxlZnQtZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcIm1hcmdpbi1sZWZ0LWVkZ2VcIiwgXCJtYXJnaW4tbGVmdFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYm9yZGVyLXRvcC1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwibWFyZ2luLXRvcC1lZGdlXCIsIFwibWFyZ2luLXRvcFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYm9yZGVyLXJpZ2h0LWVkZ2VcIjpcbiAgICAgICAgZXhwciA9IHRoaXMuYWRkTmFtZWRWYWx1ZXMoXCJwYWRkaW5nLXJpZ2h0LWVkZ2VcIiwgXCJib3JkZXItcmlnaHQtd2lkdGhcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImJvcmRlci1ib3R0b20tZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcbiAgICAgICAgICBcInBhZGRpbmctYm90dG9tLWVkZ2VcIixcbiAgICAgICAgICBcImJvcmRlci1ib3R0b20td2lkdGhcIixcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicGFkZGluZy1sZWZ0LWVkZ2VcIjpcbiAgICAgICAgZXhwciA9IHRoaXMuYWRkTmFtZWRWYWx1ZXMoXCJib3JkZXItbGVmdC1lZGdlXCIsIFwiYm9yZGVyLWxlZnQtd2lkdGhcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInBhZGRpbmctdG9wLWVkZ2VcIjpcbiAgICAgICAgZXhwciA9IHRoaXMuYWRkTmFtZWRWYWx1ZXMoXCJib3JkZXItdG9wLWVkZ2VcIiwgXCJib3JkZXItdG9wLXdpZHRoXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwYWRkaW5nLXJpZ2h0LWVkZ2VcIjpcbiAgICAgICAgZXhwciA9IHRoaXMuYWRkTmFtZWRWYWx1ZXMoXCJyaWdodC1lZGdlXCIsIFwicGFkZGluZy1yaWdodFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicGFkZGluZy1ib3R0b20tZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcImJvdHRvbS1lZGdlXCIsIFwicGFkZGluZy1ib3R0b21cIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxlZnQtZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcInBhZGRpbmctbGVmdC1lZGdlXCIsIFwicGFkZGluZy1sZWZ0XCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ0b3AtZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcInBhZGRpbmctdG9wLWVkZ2VcIiwgXCJwYWRkaW5nLXRvcFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmlnaHQtZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcImxlZnQtZWRnZVwiLCBcIndpZHRoXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJib3R0b20tZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcInRvcC1lZGdlXCIsIFwiaGVpZ2h0XCIpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKCFleHByKSB7XG4gICAgICBsZXQgYWx0TmFtZTogc3RyaW5nO1xuICAgICAgaWYgKG5hbWUgPT0gXCJleHRlbnRcIikge1xuICAgICAgICBhbHROYW1lID0gdGhpcy52ZXJ0aWNhbCA/IFwid2lkdGhcIiA6IFwiaGVpZ2h0XCI7XG4gICAgICB9IGVsc2UgaWYgKG5hbWUgPT0gXCJtZWFzdXJlXCIpIHtcbiAgICAgICAgYWx0TmFtZSA9IHRoaXMudmVydGljYWwgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy52ZXJ0aWNhbFxuICAgICAgICAgID8gQ3NzQ2FzY2FkZS5jb3VwbGluZ01hcFZlcnRcbiAgICAgICAgICA6IENzc0Nhc2NhZGUuY291cGxpbmdNYXBIb3I7XG4gICAgICAgIGFsdE5hbWUgPSBuYW1lO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtYXApIHtcbiAgICAgICAgICBhbHROYW1lID0gYWx0TmFtZS5yZXBsYWNlKGtleSwgbWFwW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYWx0TmFtZSAhPSBuYW1lKSB7XG4gICAgICAgIGV4cHIgPSB0aGlzLnJlc29sdmVOYW1lKGFsdE5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZXhwcikge1xuICAgICAgdGhpcy5uYW1lZFZhbHVlc1tuYW1lXSA9IGV4cHI7XG4gICAgfVxuICAgIHJldHVybiBleHByO1xuICB9XG5cbiAgcmVzb2x2ZUZ1bmMobmFtZSkge1xuICAgIGxldCBleHByID0gdGhpcy5uYW1lZEZ1bmNzW25hbWVdO1xuICAgIGlmIChleHByKSB7XG4gICAgICByZXR1cm4gZXhwcjtcbiAgICB9XG4gICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICBjYXNlIFwiY29sdW1uc1wiOiB7XG4gICAgICAgIC8vIG1pbihjb3VudCxjb2x1bW4tY291bnQpICogKGNvbHVtbi13aWR0aCArIGNvbHVtbi1nYXApIC0gY29sdW1uLWdhcFxuICAgICAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZUJveC5zY29wZTtcbiAgICAgICAgY29uc3QgY291bnQgPSBuZXcgRXhwcnMuUGFyYW0oc2NvcGUsIDApO1xuICAgICAgICBjb25zdCBjb2x1bW5Db3VudCA9IHRoaXMucmVzb2x2ZU5hbWUoXCJjb2x1bW4tY291bnRcIik7XG4gICAgICAgIGNvbnN0IGNvbHVtbldpZHRoID0gdGhpcy5yZXNvbHZlTmFtZShcImNvbHVtbi13aWR0aFwiKTtcbiAgICAgICAgY29uc3QgY29sdW1uR2FwID0gdGhpcy5yZXNvbHZlTmFtZShcImNvbHVtbi1nYXBcIik7XG4gICAgICAgIGV4cHIgPSBFeHBycy5zdWIoXG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgRXhwcnMubXVsKFxuICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICBuZXcgRXhwcnMuQ2FsbChzY29wZSwgXCJtaW5cIiwgW2NvdW50LCBjb2x1bW5Db3VudF0pLFxuICAgICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBjb2x1bW5XaWR0aCwgY29sdW1uR2FwKSxcbiAgICAgICAgICApLFxuICAgICAgICAgIGNvbHVtbkdhcCxcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChleHByKSB7XG4gICAgICB0aGlzLm5hbWVkRnVuY3NbbmFtZV0gPSBleHByO1xuICAgIH1cbiAgICByZXR1cm4gZXhwcjtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdEVuYWJsZWQoKTogdm9pZCB7XG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLnBhZ2VCb3guc2NvcGU7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgIGxldCBlbmFibGVkID0gdG9FeHByQm9vbChzY29wZSwgc3R5bGVbXCJlbmFibGVkXCJdLCBzY29wZS5fdHJ1ZSk7XG4gICAgY29uc3QgcGFnZSA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wicGFnZVwiXSwgc2NvcGUuemVybyk7XG4gICAgaWYgKHBhZ2UpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gbmV3IEV4cHJzLk5hbWVkKHNjb3BlLCBcInBhZ2UtbnVtYmVyXCIpO1xuICAgICAgZW5hYmxlZCA9IEV4cHJzLmFuZChcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGVuYWJsZWQsXG4gICAgICAgIG5ldyBFeHBycy5FcShzY29wZSwgcGFnZSwgY3VycmVudFBhZ2UpLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgbWluUGFnZVdpZHRoID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJtaW4tcGFnZS13aWR0aFwiXSwgc2NvcGUuemVybyk7XG4gICAgaWYgKG1pblBhZ2VXaWR0aCkge1xuICAgICAgZW5hYmxlZCA9IEV4cHJzLmFuZChcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGVuYWJsZWQsXG4gICAgICAgIG5ldyBFeHBycy5HZShzY29wZSwgbmV3IEV4cHJzLk5hbWVkKHNjb3BlLCBcInBhZ2Utd2lkdGhcIiksIG1pblBhZ2VXaWR0aCksXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBtaW5QYWdlSGVpZ2h0ID0gdG9FeHByQXV0byhcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbXCJtaW4tcGFnZS1oZWlnaHRcIl0sXG4gICAgICBzY29wZS56ZXJvLFxuICAgICk7XG4gICAgaWYgKG1pblBhZ2VIZWlnaHQpIHtcbiAgICAgIGVuYWJsZWQgPSBFeHBycy5hbmQoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBlbmFibGVkLFxuICAgICAgICBuZXcgRXhwcnMuR2UoXG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgbmV3IEV4cHJzLk5hbWVkKHNjb3BlLCBcInBhZ2UtaGVpZ2h0XCIpLFxuICAgICAgICAgIG1pblBhZ2VIZWlnaHQsXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH1cbiAgICBlbmFibGVkID0gdGhpcy5ib3hTcGVjaWZpY0VuYWJsZWQoZW5hYmxlZCk7XG4gICAgc3R5bGVbXCJlbmFibGVkXCJdID0gbmV3IENzcy5FeHByKGVuYWJsZWQpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGJveFNwZWNpZmljRW5hYmxlZChlbmFibGVkOiBFeHBycy5WYWwpOiBFeHBycy5WYWwge1xuICAgIHJldHVybiBlbmFibGVkO1xuICB9XG5cbiAgcHJvdGVjdGVkIGluaXRIb3Jpem9udGFsKCk6IHZvaWQge1xuICAgIGNvbnN0IHNjb3BlID0gdGhpcy5wYWdlQm94LnNjb3BlO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5zdHlsZTtcbiAgICBjb25zdCBwYXJlbnRXaWR0aCA9IHRoaXMucGFyZW50SW5zdGFuY2VcbiAgICAgID8gdGhpcy5wYXJlbnRJbnN0YW5jZS5zdHlsZVtcIndpZHRoXCJdLnRvRXhwcihzY29wZSwgbnVsbClcbiAgICAgIDogbnVsbDtcbiAgICBsZXQgbGVmdCA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wibGVmdFwiXSwgcGFyZW50V2lkdGgpO1xuICAgIGxldCBtYXJnaW5MZWZ0ID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJtYXJnaW4tbGVmdFwiXSwgcGFyZW50V2lkdGgpO1xuICAgIGNvbnN0IGJvcmRlckxlZnRXaWR0aCA9IHRvRXhwclplcm9Cb3JkZXIoXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW1wiYm9yZGVyLWxlZnQtd2lkdGhcIl0sXG4gICAgICBzdHlsZVtcImJvcmRlci1sZWZ0LXN0eWxlXCJdLFxuICAgICAgcGFyZW50V2lkdGgsXG4gICAgKTtcbiAgICBjb25zdCBwYWRkaW5nTGVmdCA9IHRvRXhwclplcm8oc2NvcGUsIHN0eWxlW1wicGFkZGluZy1sZWZ0XCJdLCBwYXJlbnRXaWR0aCk7XG4gICAgbGV0IHdpZHRoID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJ3aWR0aFwiXSwgcGFyZW50V2lkdGgpO1xuICAgIGxldCBtYXhXaWR0aCA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wibWF4LXdpZHRoXCJdLCBwYXJlbnRXaWR0aCk7XG4gICAgY29uc3QgcGFkZGluZ1JpZ2h0ID0gdG9FeHByWmVybyhzY29wZSwgc3R5bGVbXCJwYWRkaW5nLXJpZ2h0XCJdLCBwYXJlbnRXaWR0aCk7XG4gICAgY29uc3QgYm9yZGVyUmlnaHRXaWR0aCA9IHRvRXhwclplcm9Cb3JkZXIoXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW1wiYm9yZGVyLXJpZ2h0LXdpZHRoXCJdLFxuICAgICAgc3R5bGVbXCJib3JkZXItcmlnaHQtc3R5bGVcIl0sXG4gICAgICBwYXJlbnRXaWR0aCxcbiAgICApO1xuICAgIGxldCBtYXJnaW5SaWdodCA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wibWFyZ2luLXJpZ2h0XCJdLCBwYXJlbnRXaWR0aCk7XG4gICAgbGV0IHJpZ2h0ID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJyaWdodFwiXSwgcGFyZW50V2lkdGgpO1xuICAgIGNvbnN0IGxlZnRCUCA9IEV4cHJzLmFkZChzY29wZSwgYm9yZGVyTGVmdFdpZHRoLCBwYWRkaW5nTGVmdCk7XG4gICAgY29uc3QgcmlnaHRCUCA9IEV4cHJzLmFkZChzY29wZSwgYm9yZGVyTGVmdFdpZHRoLCBwYWRkaW5nUmlnaHQpO1xuICAgIGlmIChsZWZ0ICYmIHJpZ2h0ICYmIHdpZHRoKSB7XG4gICAgICBsZXQgZXh0cmEgPSBFeHBycy5zdWIoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBwYXJlbnRXaWR0aCxcbiAgICAgICAgRXhwcnMuYWRkKFxuICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgRXhwcnMuYWRkKHNjb3BlLCBsZWZ0LCBsZWZ0QlApLCByaWdodEJQKSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgICBpZiAoIW1hcmdpbkxlZnQpIHtcbiAgICAgICAgZXh0cmEgPSBFeHBycy5zdWIoc2NvcGUsIGV4dHJhLCByaWdodCk7XG4gICAgICAgIGlmICghbWFyZ2luUmlnaHQpIHtcbiAgICAgICAgICBtYXJnaW5MZWZ0ID0gRXhwcnMubXVsKHNjb3BlLCBleHRyYSwgbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCAwLjUpKTtcbiAgICAgICAgICBtYXJnaW5SaWdodCA9IG1hcmdpbkxlZnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWFyZ2luTGVmdCA9IEV4cHJzLnN1YihzY29wZSwgZXh0cmEsIG1hcmdpblJpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFtYXJnaW5SaWdodCkge1xuICAgICAgICAgIG1hcmdpblJpZ2h0ID0gRXhwcnMuc3ViKFxuICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICBleHRyYSxcbiAgICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgcmlnaHQsIG1hcmdpbkxlZnQpLFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gb3ZlcmNvbnN0cmFpbnRcbiAgICAgICAgICByaWdodCA9IEV4cHJzLnN1YihzY29wZSwgZXh0cmEsIG1hcmdpblJpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIW1hcmdpbkxlZnQpIHtcbiAgICAgICAgbWFyZ2luTGVmdCA9IHNjb3BlLnplcm87XG4gICAgICB9XG4gICAgICBpZiAoIW1hcmdpblJpZ2h0KSB7XG4gICAgICAgIG1hcmdpblJpZ2h0ID0gc2NvcGUuemVybztcbiAgICAgIH1cbiAgICAgIGlmICghbGVmdCAmJiAhcmlnaHQgJiYgIXdpZHRoKSB7XG4gICAgICAgIGxlZnQgPSBzY29wZS56ZXJvO1xuICAgICAgfVxuICAgICAgaWYgKCFsZWZ0ICYmICF3aWR0aCkge1xuICAgICAgICB3aWR0aCA9IHRoaXMuYXV0b1dpZHRoO1xuICAgICAgICB0aGlzLmlzQXV0b1dpZHRoID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoIWxlZnQgJiYgIXJpZ2h0KSB7XG4gICAgICAgIGxlZnQgPSBzY29wZS56ZXJvO1xuICAgICAgfSBlbHNlIGlmICghd2lkdGggJiYgIXJpZ2h0KSB7XG4gICAgICAgIHdpZHRoID0gdGhpcy5hdXRvV2lkdGg7XG4gICAgICAgIHRoaXMuaXNBdXRvV2lkdGggPSB0cnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVtYWlucyA9IEV4cHJzLnN1YihcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHBhcmVudFdpZHRoLFxuICAgICAgICBFeHBycy5hZGQoXG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBtYXJnaW5MZWZ0LCBsZWZ0QlApLFxuICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgbWFyZ2luUmlnaHQsIHJpZ2h0QlApLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIGlmICh0aGlzLmlzQXV0b1dpZHRoKSB7XG4gICAgICAgIGlmICghbWF4V2lkdGgpIHtcbiAgICAgICAgICAvLyBUT0RPOiBoYW5kbGUgdGhlIGNhc2Ugd2hlbiByaWdodC9sZWZ0IGRlcGVuZHMgb24gd2lkdGhcbiAgICAgICAgICBtYXhXaWR0aCA9IEV4cHJzLnN1YihzY29wZSwgcmVtYWlucywgbGVmdCA/IGxlZnQgOiByaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3IgbXVsdGktY29sdW1uIGxheW91dCwgd2lkdGggaXMgbWF4LXdpZHRoLlxuICAgICAgICBpZiAoXG4gICAgICAgICAgIXRoaXMudmVydGljYWwgJiZcbiAgICAgICAgICAodG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJjb2x1bW4td2lkdGhcIl0sIG51bGwpIHx8XG4gICAgICAgICAgICB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcImNvbHVtbi1jb3VudFwiXSwgbnVsbCkpXG4gICAgICAgICkge1xuICAgICAgICAgIHdpZHRoID0gbWF4V2lkdGg7XG4gICAgICAgICAgdGhpcy5pc0F1dG9XaWR0aCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWxlZnQpIHtcbiAgICAgICAgbGVmdCA9IEV4cHJzLnN1YihzY29wZSwgcmVtYWlucywgRXhwcnMuYWRkKHNjb3BlLCByaWdodCwgd2lkdGgpKTtcbiAgICAgIH0gZWxzZSBpZiAoIXdpZHRoKSB7XG4gICAgICAgIHdpZHRoID0gRXhwcnMuc3ViKHNjb3BlLCByZW1haW5zLCBFeHBycy5hZGQoc2NvcGUsIGxlZnQsIHJpZ2h0KSk7XG4gICAgICB9IGVsc2UgaWYgKCFyaWdodCkge1xuICAgICAgICByaWdodCA9IEV4cHJzLnN1YihzY29wZSwgcmVtYWlucywgRXhwcnMuYWRkKHNjb3BlLCBsZWZ0LCB3aWR0aCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNuYXAtd2lkdGggaXMgaW5oZXJpdGVkXG4gICAgY29uc3Qgc25hcFdpZHRoVmFsID1cbiAgICAgIHN0eWxlW1wic25hcC13aWR0aFwiXSB8fFxuICAgICAgKHRoaXMucGFyZW50SW5zdGFuY2UgPyB0aGlzLnBhcmVudEluc3RhbmNlLnN0eWxlW1wic25hcC13aWR0aFwiXSA6IG51bGwpO1xuICAgIGNvbnN0IHNuYXBXaWR0aCA9IHRvRXhwclplcm8oc2NvcGUsIHNuYXBXaWR0aFZhbCwgcGFyZW50V2lkdGgpO1xuICAgIHN0eWxlW1wibGVmdFwiXSA9IG5ldyBDc3MuRXhwcihsZWZ0KTtcbiAgICBzdHlsZVtcIm1hcmdpbi1sZWZ0XCJdID0gbmV3IENzcy5FeHByKG1hcmdpbkxlZnQpO1xuICAgIHN0eWxlW1wiYm9yZGVyLWxlZnQtd2lkdGhcIl0gPSBuZXcgQ3NzLkV4cHIoYm9yZGVyTGVmdFdpZHRoKTtcbiAgICBzdHlsZVtcInBhZGRpbmctbGVmdFwiXSA9IG5ldyBDc3MuRXhwcihwYWRkaW5nTGVmdCk7XG4gICAgc3R5bGVbXCJ3aWR0aFwiXSA9IG5ldyBDc3MuRXhwcih3aWR0aCk7XG4gICAgc3R5bGVbXCJtYXgtd2lkdGhcIl0gPSBuZXcgQ3NzLkV4cHIobWF4V2lkdGggPyBtYXhXaWR0aCA6IHdpZHRoKTtcbiAgICBzdHlsZVtcInBhZGRpbmctcmlnaHRcIl0gPSBuZXcgQ3NzLkV4cHIocGFkZGluZ1JpZ2h0KTtcbiAgICBzdHlsZVtcImJvcmRlci1yaWdodC13aWR0aFwiXSA9IG5ldyBDc3MuRXhwcihib3JkZXJSaWdodFdpZHRoKTtcbiAgICBzdHlsZVtcIm1hcmdpbi1yaWdodFwiXSA9IG5ldyBDc3MuRXhwcihtYXJnaW5SaWdodCk7XG4gICAgc3R5bGVbXCJyaWdodFwiXSA9IG5ldyBDc3MuRXhwcihyaWdodCk7XG4gICAgc3R5bGVbXCJzbmFwLXdpZHRoXCJdID0gbmV3IENzcy5FeHByKHNuYXBXaWR0aCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgaW5pdFZlcnRpY2FsKCk6IHZvaWQge1xuICAgIGNvbnN0IHNjb3BlID0gdGhpcy5wYWdlQm94LnNjb3BlO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5zdHlsZTtcbiAgICBjb25zdCBwYXJlbnRXaWR0aCA9IHRoaXMucGFyZW50SW5zdGFuY2VcbiAgICAgID8gdGhpcy5wYXJlbnRJbnN0YW5jZS5zdHlsZVtcIndpZHRoXCJdLnRvRXhwcihzY29wZSwgbnVsbClcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBwYXJlbnRIZWlnaHQgPSB0aGlzLnBhcmVudEluc3RhbmNlXG4gICAgICA/IHRoaXMucGFyZW50SW5zdGFuY2Uuc3R5bGVbXCJoZWlnaHRcIl0udG9FeHByKHNjb3BlLCBudWxsKVxuICAgICAgOiBudWxsO1xuICAgIGxldCB0b3AgPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcInRvcFwiXSwgcGFyZW50SGVpZ2h0KTtcbiAgICBsZXQgbWFyZ2luVG9wID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJtYXJnaW4tdG9wXCJdLCBwYXJlbnRXaWR0aCk7XG4gICAgY29uc3QgYm9yZGVyVG9wV2lkdGggPSB0b0V4cHJaZXJvQm9yZGVyKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtcImJvcmRlci10b3Atd2lkdGhcIl0sXG4gICAgICBzdHlsZVtcImJvcmRlci10b3Atc3R5bGVcIl0sXG4gICAgICBwYXJlbnRXaWR0aCxcbiAgICApO1xuICAgIGNvbnN0IHBhZGRpbmdUb3AgPSB0b0V4cHJaZXJvKHNjb3BlLCBzdHlsZVtcInBhZGRpbmctdG9wXCJdLCBwYXJlbnRXaWR0aCk7XG4gICAgbGV0IGhlaWdodCA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wiaGVpZ2h0XCJdLCBwYXJlbnRIZWlnaHQpO1xuICAgIGxldCBtYXhIZWlnaHQgPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcIm1heC1oZWlnaHRcIl0sIHBhcmVudEhlaWdodCk7XG4gICAgY29uc3QgcGFkZGluZ0JvdHRvbSA9IHRvRXhwclplcm8oXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW1wicGFkZGluZy1ib3R0b21cIl0sXG4gICAgICBwYXJlbnRXaWR0aCxcbiAgICApO1xuICAgIGNvbnN0IGJvcmRlckJvdHRvbVdpZHRoID0gdG9FeHByWmVyb0JvcmRlcihcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbXCJib3JkZXItYm90dG9tLXdpZHRoXCJdLFxuICAgICAgc3R5bGVbXCJib3JkZXItYm90dG9tLXN0eWxlXCJdLFxuICAgICAgcGFyZW50V2lkdGgsXG4gICAgKTtcbiAgICBsZXQgbWFyZ2luQm90dG9tID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJtYXJnaW4tYm90dG9tXCJdLCBwYXJlbnRXaWR0aCk7XG4gICAgbGV0IGJvdHRvbSA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wiYm90dG9tXCJdLCBwYXJlbnRIZWlnaHQpO1xuICAgIGNvbnN0IHRvcEJQID0gRXhwcnMuYWRkKHNjb3BlLCBib3JkZXJUb3BXaWR0aCwgcGFkZGluZ1RvcCk7XG4gICAgY29uc3QgYm90dG9tQlAgPSBFeHBycy5hZGQoc2NvcGUsIGJvcmRlckJvdHRvbVdpZHRoLCBwYWRkaW5nQm90dG9tKTtcbiAgICBpZiAodG9wICYmIGJvdHRvbSAmJiBoZWlnaHQpIHtcbiAgICAgIGxldCBleHRyYSA9IEV4cHJzLnN1YihcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHBhcmVudEhlaWdodCxcbiAgICAgICAgRXhwcnMuYWRkKFxuICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIEV4cHJzLmFkZChzY29wZSwgdG9wLCB0b3BCUCksIGJvdHRvbUJQKSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgICBpZiAoIW1hcmdpblRvcCkge1xuICAgICAgICBleHRyYSA9IEV4cHJzLnN1YihzY29wZSwgZXh0cmEsIGJvdHRvbSk7XG4gICAgICAgIGlmICghbWFyZ2luQm90dG9tKSB7XG4gICAgICAgICAgbWFyZ2luVG9wID0gRXhwcnMubXVsKHNjb3BlLCBleHRyYSwgbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCAwLjUpKTtcbiAgICAgICAgICBtYXJnaW5Cb3R0b20gPSBtYXJnaW5Ub3A7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWFyZ2luVG9wID0gRXhwcnMuc3ViKHNjb3BlLCBleHRyYSwgbWFyZ2luQm90dG9tKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFtYXJnaW5Cb3R0b20pIHtcbiAgICAgICAgICBtYXJnaW5Cb3R0b20gPSBFeHBycy5zdWIoXG4gICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgIGV4dHJhLFxuICAgICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBib3R0b20sIG1hcmdpblRvcCksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBvdmVyY29uc3RyYWludFxuICAgICAgICAgIGJvdHRvbSA9IEV4cHJzLnN1YihzY29wZSwgZXh0cmEsIG1hcmdpblRvcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFtYXJnaW5Ub3ApIHtcbiAgICAgICAgbWFyZ2luVG9wID0gc2NvcGUuemVybztcbiAgICAgIH1cbiAgICAgIGlmICghbWFyZ2luQm90dG9tKSB7XG4gICAgICAgIG1hcmdpbkJvdHRvbSA9IHNjb3BlLnplcm87XG4gICAgICB9XG4gICAgICBpZiAoIXRvcCAmJiAhYm90dG9tICYmICFoZWlnaHQpIHtcbiAgICAgICAgdG9wID0gc2NvcGUuemVybztcbiAgICAgIH1cbiAgICAgIGlmICghdG9wICYmICFoZWlnaHQpIHtcbiAgICAgICAgaGVpZ2h0ID0gdGhpcy5hdXRvSGVpZ2h0O1xuICAgICAgICB0aGlzLmlzQXV0b0hlaWdodCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKCF0b3AgJiYgIWJvdHRvbSkge1xuICAgICAgICB0b3AgPSBzY29wZS56ZXJvO1xuICAgICAgfSBlbHNlIGlmICghaGVpZ2h0ICYmICFib3R0b20pIHtcbiAgICAgICAgaGVpZ2h0ID0gdGhpcy5hdXRvSGVpZ2h0O1xuICAgICAgICB0aGlzLmlzQXV0b0hlaWdodCA9IHRydWU7XG4gICAgICB9XG4gICAgICBjb25zdCByZW1haW5zID0gRXhwcnMuc3ViKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgcGFyZW50SGVpZ2h0LFxuICAgICAgICBFeHBycy5hZGQoXG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBtYXJnaW5Ub3AsIHRvcEJQKSxcbiAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIG1hcmdpbkJvdHRvbSwgYm90dG9tQlApLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIGlmICh0aGlzLmlzQXV0b0hlaWdodCkge1xuICAgICAgICBpZiAoIW1heEhlaWdodCkge1xuICAgICAgICAgIC8vIFRPRE86IGhhbmRsZSB0aGUgY2FzZSB3aGVuIHRvcC9ib3R0b20gZGVwZW5kcyBvbiBoZWlnaHRcbiAgICAgICAgICBtYXhIZWlnaHQgPSBFeHBycy5zdWIoc2NvcGUsIHJlbWFpbnMsIHRvcCA/IHRvcCA6IGJvdHRvbSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3IgbXVsdGktY29sdW1uIGxheW91dCBpbiB2ZXJ0aWNhbCB3cml0aW5nLCBoZWlnaHQgaXMgbWF4LWhlaWdodC5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMudmVydGljYWwgJiZcbiAgICAgICAgICAodG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJjb2x1bW4td2lkdGhcIl0sIG51bGwpIHx8XG4gICAgICAgICAgICB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcImNvbHVtbi1jb3VudFwiXSwgbnVsbCkpXG4gICAgICAgICkge1xuICAgICAgICAgIGhlaWdodCA9IG1heEhlaWdodDtcbiAgICAgICAgICB0aGlzLmlzQXV0b0hlaWdodCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXRvcCkge1xuICAgICAgICB0b3AgPSBFeHBycy5zdWIoc2NvcGUsIHJlbWFpbnMsIEV4cHJzLmFkZChzY29wZSwgYm90dG9tLCBoZWlnaHQpKTtcbiAgICAgIH0gZWxzZSBpZiAoIWhlaWdodCkge1xuICAgICAgICBoZWlnaHQgPSBFeHBycy5zdWIoc2NvcGUsIHJlbWFpbnMsIEV4cHJzLmFkZChzY29wZSwgYm90dG9tLCB0b3ApKTtcbiAgICAgIH0gZWxzZSBpZiAoIWJvdHRvbSkge1xuICAgICAgICBib3R0b20gPSBFeHBycy5zdWIoc2NvcGUsIHJlbWFpbnMsIEV4cHJzLmFkZChzY29wZSwgdG9wLCBoZWlnaHQpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzbmFwLWhlaWdodCBpcyBpbmhlcml0ZWRcbiAgICBjb25zdCBzbmFwSGVpZ2h0VmFsID1cbiAgICAgIHN0eWxlW1wic25hcC1oZWlnaHRcIl0gfHxcbiAgICAgICh0aGlzLnBhcmVudEluc3RhbmNlID8gdGhpcy5wYXJlbnRJbnN0YW5jZS5zdHlsZVtcInNuYXAtaGVpZ2h0XCJdIDogbnVsbCk7XG4gICAgY29uc3Qgc25hcEhlaWdodCA9IHRvRXhwclplcm8oc2NvcGUsIHNuYXBIZWlnaHRWYWwsIHBhcmVudFdpZHRoKTtcbiAgICBzdHlsZVtcInRvcFwiXSA9IG5ldyBDc3MuRXhwcih0b3ApO1xuICAgIHN0eWxlW1wibWFyZ2luLXRvcFwiXSA9IG5ldyBDc3MuRXhwcihtYXJnaW5Ub3ApO1xuICAgIHN0eWxlW1wiYm9yZGVyLXRvcC13aWR0aFwiXSA9IG5ldyBDc3MuRXhwcihib3JkZXJUb3BXaWR0aCk7XG4gICAgc3R5bGVbXCJwYWRkaW5nLXRvcFwiXSA9IG5ldyBDc3MuRXhwcihwYWRkaW5nVG9wKTtcbiAgICBzdHlsZVtcImhlaWdodFwiXSA9IG5ldyBDc3MuRXhwcihoZWlnaHQpO1xuICAgIHN0eWxlW1wibWF4LWhlaWdodFwiXSA9IG5ldyBDc3MuRXhwcihtYXhIZWlnaHQgPyBtYXhIZWlnaHQgOiBoZWlnaHQpO1xuICAgIHN0eWxlW1wicGFkZGluZy1ib3R0b21cIl0gPSBuZXcgQ3NzLkV4cHIocGFkZGluZ0JvdHRvbSk7XG4gICAgc3R5bGVbXCJib3JkZXItYm90dG9tLXdpZHRoXCJdID0gbmV3IENzcy5FeHByKGJvcmRlckJvdHRvbVdpZHRoKTtcbiAgICBzdHlsZVtcIm1hcmdpbi1ib3R0b21cIl0gPSBuZXcgQ3NzLkV4cHIobWFyZ2luQm90dG9tKTtcbiAgICBzdHlsZVtcImJvdHRvbVwiXSA9IG5ldyBDc3MuRXhwcihib3R0b20pO1xuICAgIHN0eWxlW1wic25hcC1oZWlnaHRcIl0gPSBuZXcgQ3NzLkV4cHIoc25hcEhlaWdodCk7XG4gIH1cblxuICBwcml2YXRlIGluaXRDb2x1bW5zKCk6IHZvaWQge1xuICAgIGNvbnN0IHNjb3BlID0gdGhpcy5wYWdlQm94LnNjb3BlO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5zdHlsZTtcbiAgICBjb25zdCB3aWR0aCA9IHRvRXhwckF1dG8oXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW3RoaXMudmVydGljYWwgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiXSxcbiAgICAgIG51bGwsXG4gICAgKTtcbiAgICBsZXQgY29sdW1uV2lkdGggPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcImNvbHVtbi13aWR0aFwiXSwgd2lkdGgpO1xuICAgIGxldCBjb2x1bW5Db3VudCA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wiY29sdW1uLWNvdW50XCJdLCBudWxsKTtcbiAgICBsZXQgY29sdW1uR2FwID0gdG9FeHByTm9ybWFsKHNjb3BlLCBzdHlsZVtcImNvbHVtbi1nYXBcIl0sIG51bGwpO1xuICAgIGlmICghY29sdW1uR2FwKSB7XG4gICAgICBjb2x1bW5HYXAgPSBuZXcgRXhwcnMuTnVtZXJpYyhzY29wZSwgMSwgXCJlbVwiKTtcbiAgICB9XG4gICAgaWYgKGNvbHVtbldpZHRoICYmICFjb2x1bW5Db3VudCkge1xuICAgICAgY29sdW1uQ291bnQgPSBuZXcgRXhwcnMuQ2FsbChzY29wZSwgXCJmbG9vclwiLCBbXG4gICAgICAgIEV4cHJzLmRpdihcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIHdpZHRoLCBjb2x1bW5HYXApLFxuICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgY29sdW1uV2lkdGgsIGNvbHVtbkdhcCksXG4gICAgICAgICksXG4gICAgICBdKTtcbiAgICAgIGNvbHVtbkNvdW50ID0gbmV3IEV4cHJzLkNhbGwoc2NvcGUsIFwibWF4XCIsIFtzY29wZS5vbmUsIGNvbHVtbkNvdW50XSk7XG4gICAgfVxuICAgIGlmICghY29sdW1uQ291bnQpIHtcbiAgICAgIGNvbHVtbkNvdW50ID0gc2NvcGUub25lO1xuICAgIH1cbiAgICBjb2x1bW5XaWR0aCA9IEV4cHJzLnN1YihcbiAgICAgIHNjb3BlLFxuICAgICAgRXhwcnMuZGl2KHNjb3BlLCBFeHBycy5hZGQoc2NvcGUsIHdpZHRoLCBjb2x1bW5HYXApLCBjb2x1bW5Db3VudCksXG4gICAgICBjb2x1bW5HYXAsXG4gICAgKTtcbiAgICBzdHlsZVtcImNvbHVtbi13aWR0aFwiXSA9IG5ldyBDc3MuRXhwcihjb2x1bW5XaWR0aCk7XG4gICAgc3R5bGVbXCJjb2x1bW4tY291bnRcIl0gPSBuZXcgQ3NzLkV4cHIoY29sdW1uQ291bnQpO1xuICAgIHN0eWxlW1wiY29sdW1uLWdhcFwiXSA9IG5ldyBDc3MuRXhwcihjb2x1bW5HYXApO1xuICB9XG5cbiAgcHJpdmF0ZSBkZXBlbmRzKFxuICAgIHByb3BOYW1lOiBzdHJpbmcsXG4gICAgdmFsOiBFeHBycy5WYWwsXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3R5bGVbcHJvcE5hbWVdXG4gICAgICAudG9FeHByKHRoaXMucGFnZUJveC5zY29wZSwgbnVsbClcbiAgICAgIC5kZXBlbmQodmFsLCBjb250ZXh0KTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdChjb250ZXh0OiBFeHBycy5Db250ZXh0KTogdm9pZCB7XG4gICAgLy8gSWYgY29udGV4dCBkb2VzIG5vdCBpbXBsZW1lbnQgSW5zdGFuY2VIb2xkZXIgd2Ugd291bGQgbm90IGJlIGFibGUgdG9cbiAgICAvLyByZXNvbHZlIFwicGFydGl0aW9uLnByb3BlcnR5XCIgbmFtZXMgbGF0ZXIuXG4gICAgY29uc3QgaG9sZGVyID0gY29udGV4dCBhcyBJbnN0YW5jZUhvbGRlcjtcbiAgICBob2xkZXIucmVnaXN0ZXJJbnN0YW5jZSh0aGlzLnBhZ2VCb3gua2V5LCB0aGlzKTtcbiAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZUJveC5zY29wZTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgcmVnaW9uSWRzID0gdGhpcy5wYXJlbnRJbnN0YW5jZVxuICAgICAgPyB0aGlzLnBhcmVudEluc3RhbmNlLmdldEFjdGl2ZVJlZ2lvbnMoY29udGV4dClcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjYXNjTWFwID0gQ3NzQ2FzY2FkZS5mbGF0dGVuQ2FzY2FkZWRTdHlsZShcbiAgICAgIHRoaXMuY2FzY2FkZWQsXG4gICAgICBjb250ZXh0LFxuICAgICAgcmVnaW9uSWRzLFxuICAgICAgZmFsc2UsXG4gICAgICBudWxsLFxuICAgICk7XG4gICAgdGhpcy52ZXJ0aWNhbCA9IENzc0Nhc2NhZGUuaXNWZXJ0aWNhbChcbiAgICAgIGNhc2NNYXAsXG4gICAgICBjb250ZXh0LFxuICAgICAgdGhpcy5wYXJlbnRJbnN0YW5jZSA/IHRoaXMucGFyZW50SW5zdGFuY2UudmVydGljYWwgOiBmYWxzZSxcbiAgICApO1xuICAgIHRoaXMucnRsID0gQ3NzQ2FzY2FkZS5pc1J0bChcbiAgICAgIGNhc2NNYXAsXG4gICAgICBjb250ZXh0LFxuICAgICAgdGhpcy5wYXJlbnRJbnN0YW5jZSA/IHRoaXMucGFyZW50SW5zdGFuY2UucnRsIDogZmFsc2UsXG4gICAgKTtcbiAgICBDc3NDYXNjYWRlLmNvbnZlcnRUb1BoeXNpY2FsKFxuICAgICAgY2FzY01hcCxcbiAgICAgIHN0eWxlLFxuICAgICAgdGhpcy52ZXJ0aWNhbCxcbiAgICAgIHRoaXMucnRsLFxuICAgICAgKG5hbWUsIGNhc2NWYWwpID0+IGNhc2NWYWwudmFsdWUsXG4gICAgKTtcbiAgICB0aGlzLmF1dG9XaWR0aCA9IG5ldyBFeHBycy5OYXRpdmUoXG4gICAgICBzY29wZSxcbiAgICAgICgpID0+IHNlbGYuY2FsY3VsYXRlZFdpZHRoLFxuICAgICAgXCJhdXRvV2lkdGhcIixcbiAgICApO1xuICAgIHRoaXMuYXV0b0hlaWdodCA9IG5ldyBFeHBycy5OYXRpdmUoXG4gICAgICBzY29wZSxcbiAgICAgICgpID0+IHNlbGYuY2FsY3VsYXRlZEhlaWdodCxcbiAgICAgIFwiYXV0b0hlaWdodFwiLFxuICAgICk7XG4gICAgdGhpcy5pbml0SG9yaXpvbnRhbCgpO1xuICAgIHRoaXMuaW5pdFZlcnRpY2FsKCk7XG4gICAgdGhpcy5pbml0Q29sdW1ucygpO1xuICAgIHRoaXMuaW5pdEVuYWJsZWQoKTtcbiAgfVxuXG4gIGdldFByb3AoY29udGV4dDogRXhwcnMuQ29udGV4dCwgbmFtZTogc3RyaW5nKTogQ3NzLlZhbCB7XG4gICAgbGV0IHZhbCA9IHRoaXMuc3R5bGVbbmFtZV07XG4gICAgaWYgKHZhbCkge1xuICAgICAgdmFsID0gQ3NzUGFyc2VyLmV2YWx1YXRlQ1NTVG9DU1MoY29udGV4dCwgdmFsLCBuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIGdldFByb3BBc051bWJlcihjb250ZXh0OiBFeHBycy5Db250ZXh0LCBuYW1lOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGxldCB2YWwgPSB0aGlzLnN0eWxlW25hbWVdO1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHZhbCA9IENzc1BhcnNlci5ldmFsdWF0ZUNTU1RvQ1NTKGNvbnRleHQsIHZhbCwgbmFtZSk7XG4gICAgfVxuICAgIHJldHVybiBDc3MudG9OdW1iZXIodmFsLCBjb250ZXh0KTtcbiAgfVxuXG4gIGdldFNwZWNpYWwoY29udGV4dDogRXhwcnMuQ29udGV4dCwgbmFtZTogc3RyaW5nKTogQ3NzLlZhbFtdIHtcbiAgICBjb25zdCBhcnIgPSBDc3NDYXNjYWRlLmdldFNwZWNpYWwodGhpcy5jYXNjYWRlZCwgbmFtZSk7XG4gICAgaWYgKGFycikge1xuICAgICAgY29uc3QgcmVzdWx0ID0gW10gYXMgQ3NzLlZhbFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdiA9IGFycltpXS5ldmFsdWF0ZShjb250ZXh0LCBcIlwiKTtcbiAgICAgICAgaWYgKHYgJiYgdiAhPT0gQ3NzLmVtcHR5KSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZ2V0QWN0aXZlUmVnaW9ucyhjb250ZXh0OiBFeHBycy5Db250ZXh0KTogc3RyaW5nW10ge1xuICAgIGNvbnN0IGFyciA9IHRoaXMuZ2V0U3BlY2lhbChjb250ZXh0LCBcInJlZ2lvbi1pZFwiKTtcbiAgICBpZiAoYXJyKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBbXSBhcyBzdHJpbmdbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdFtpXSA9IGFycltpXS50b1N0cmluZygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBwcm9wYWdhdGVQcm9wZXJ0eShcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICApOiB2b2lkIHtcbiAgICB0aGlzLnByb3BhZ2F0ZVByb3BlcnR5VG9FbGVtZW50KGNvbnRleHQsIGNvbnRhaW5lci5lbGVtZW50LCBuYW1lLCBkb2NGYWNlcyk7XG4gIH1cblxuICBwcm9wYWdhdGVQcm9wZXJ0eVRvRWxlbWVudChcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGRvY0ZhY2VzOiBGb250LkRvY3VtZW50RmFjZXMsXG4gICk6IHZvaWQge1xuICAgIGxldCB2YWwgPSB0aGlzLmdldFByb3AoY29udGV4dCwgbmFtZSk7XG4gICAgaWYgKHZhbCkge1xuICAgICAgaWYgKFxuICAgICAgICB2YWwuaXNOdW1lcmljKCkgJiZcbiAgICAgICAgRXhwcnMubmVlZFVuaXRDb252ZXJzaW9uKCh2YWwgYXMgQ3NzLk51bWVyaWMpLnVuaXQpXG4gICAgICApIHtcbiAgICAgICAgdmFsID0gQ3NzLmNvbnZlcnROdW1lcmljVG9QeCh2YWwsIGNvbnRleHQpO1xuICAgICAgfVxuICAgICAgaWYgKG5hbWUgPT09IFwiZm9udC1mYW1pbHlcIikge1xuICAgICAgICB2YWwgPSBkb2NGYWNlcy5maWx0ZXJGb250RmFtaWx5KHZhbCk7XG4gICAgICB9XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIG5hbWUsIHZhbC50b1N0cmluZygpKTtcbiAgICB9XG4gIH1cblxuICBwcm9wYWdhdGVEZWxheWVkUHJvcGVydHkoXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgZGVsYXllZEl0ZW1zOiBWdHJlZS5EZWxheWVkSXRlbVtdLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCB2YWwgPSB0aGlzLmdldFByb3AoY29udGV4dCwgbmFtZSk7XG4gICAgaWYgKHZhbCkge1xuICAgICAgZGVsYXllZEl0ZW1zLnB1c2gobmV3IFZ0cmVlLkRlbGF5ZWRJdGVtKGNvbnRhaW5lci5lbGVtZW50LCBuYW1lLCB2YWwpKTtcbiAgICB9XG4gIH1cblxuICBhc3NpZ25MZWZ0UG9zaXRpb24oY29udGV4dDogRXhwcnMuQ29udGV4dCwgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIpOiB2b2lkIHtcbiAgICBjb25zdCBsZWZ0ID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJsZWZ0XCIpO1xuICAgIGNvbnN0IG1hcmdpbkxlZnQgPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcIm1hcmdpbi1sZWZ0XCIpO1xuICAgIGNvbnN0IHBhZGRpbmdMZWZ0ID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJwYWRkaW5nLWxlZnRcIik7XG4gICAgY29uc3QgYm9yZGVyTGVmdFdpZHRoID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJib3JkZXItbGVmdC13aWR0aFwiKTtcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwid2lkdGhcIik7XG4gICAgY29udGFpbmVyLnNldEhvcml6b250YWxQb3NpdGlvbihsZWZ0LCB3aWR0aCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJtYXJnaW4tbGVmdFwiLCBgJHttYXJnaW5MZWZ0fXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJwYWRkaW5nLWxlZnRcIiwgYCR7cGFkZGluZ0xlZnR9cHhgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgY29udGFpbmVyLmVsZW1lbnQsXG4gICAgICBcImJvcmRlci1sZWZ0LXdpZHRoXCIsXG4gICAgICBgJHtib3JkZXJMZWZ0V2lkdGh9cHhgLFxuICAgICk7XG4gICAgY29udGFpbmVyLm1hcmdpbkxlZnQgPSBtYXJnaW5MZWZ0O1xuICAgIGNvbnRhaW5lci5ib3JkZXJMZWZ0ID0gYm9yZGVyTGVmdFdpZHRoO1xuICAgIGNvbnRhaW5lci5wYWRkaW5nTGVmdCA9IHBhZGRpbmdMZWZ0O1xuICB9XG5cbiAgYXNzaWduUmlnaHRQb3NpdGlvbihcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCByaWdodCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwicmlnaHRcIik7XG4gICAgY29uc3Qgc25hcFdpZHRoID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJzbmFwLWhlaWdodFwiKTtcbiAgICBjb25zdCBtYXJnaW5SaWdodCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwibWFyZ2luLXJpZ2h0XCIpO1xuICAgIGxldCBwYWRkaW5nUmlnaHQgPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcInBhZGRpbmctcmlnaHRcIik7XG4gICAgY29uc3QgYm9yZGVyUmlnaHRXaWR0aCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKFxuICAgICAgY29udGV4dCxcbiAgICAgIFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCIsXG4gICAgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lci5lbGVtZW50LCBcIm1hcmdpbi1yaWdodFwiLCBgJHttYXJnaW5SaWdodH1weGApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICBjb250YWluZXIuZWxlbWVudCxcbiAgICAgIFwicGFkZGluZy1yaWdodFwiLFxuICAgICAgYCR7cGFkZGluZ1JpZ2h0fXB4YCxcbiAgICApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICBjb250YWluZXIuZWxlbWVudCxcbiAgICAgIFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCIsXG4gICAgICBgJHtib3JkZXJSaWdodFdpZHRofXB4YCxcbiAgICApO1xuICAgIGNvbnRhaW5lci5tYXJnaW5SaWdodCA9IG1hcmdpblJpZ2h0O1xuICAgIGNvbnRhaW5lci5ib3JkZXJSaWdodCA9IGJvcmRlclJpZ2h0V2lkdGg7XG4gICAgaWYgKHRoaXMudmVydGljYWwgJiYgc25hcFdpZHRoID4gMCkge1xuICAgICAgY29uc3QgeHBvcyA9IHJpZ2h0ICsgY29udGFpbmVyLmdldEluc2V0UmlnaHQoKTtcbiAgICAgIGNvbnN0IHIgPSB4cG9zIC0gTWF0aC5mbG9vcih4cG9zIC8gc25hcFdpZHRoKSAqIHNuYXBXaWR0aDtcbiAgICAgIGlmIChyID4gMCkge1xuICAgICAgICBjb250YWluZXIuc25hcE9mZnNldFggPSBzbmFwV2lkdGggLSByO1xuICAgICAgICBwYWRkaW5nUmlnaHQgKz0gY29udGFpbmVyLnNuYXBPZmZzZXRYO1xuICAgICAgfVxuICAgIH1cbiAgICBjb250YWluZXIucGFkZGluZ1JpZ2h0ID0gcGFkZGluZ1JpZ2h0O1xuICAgIGNvbnRhaW5lci5zbmFwV2lkdGggPSBzbmFwV2lkdGg7XG4gIH1cblxuICBhc3NpZ25Ub3BQb3NpdGlvbihjb250ZXh0OiBFeHBycy5Db250ZXh0LCBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcik6IHZvaWQge1xuICAgIGNvbnN0IHNuYXBIZWlnaHQgPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcInNuYXAtaGVpZ2h0XCIpO1xuICAgIGNvbnN0IHRvcCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwidG9wXCIpO1xuICAgIGNvbnN0IG1hcmdpblRvcCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwibWFyZ2luLXRvcFwiKTtcbiAgICBsZXQgcGFkZGluZ1RvcCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwicGFkZGluZy10b3BcIik7XG4gICAgY29uc3QgYm9yZGVyVG9wV2lkdGggPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcImJvcmRlci10b3Atd2lkdGhcIik7XG4gICAgY29udGFpbmVyLnRvcCA9IHRvcDtcbiAgICBjb250YWluZXIubWFyZ2luVG9wID0gbWFyZ2luVG9wO1xuICAgIGNvbnRhaW5lci5ib3JkZXJUb3AgPSBib3JkZXJUb3BXaWR0aDtcbiAgICBjb250YWluZXIuc25hcEhlaWdodCA9IHNuYXBIZWlnaHQ7XG4gICAgaWYgKCF0aGlzLnZlcnRpY2FsICYmIHNuYXBIZWlnaHQgPiAwKSB7XG4gICAgICBjb25zdCB5cG9zID0gdG9wICsgY29udGFpbmVyLmdldEluc2V0VG9wKCk7XG4gICAgICBjb25zdCByID0geXBvcyAtIE1hdGguZmxvb3IoeXBvcyAvIHNuYXBIZWlnaHQpICogc25hcEhlaWdodDtcbiAgICAgIGlmIChyID4gMCkge1xuICAgICAgICBjb250YWluZXIuc25hcE9mZnNldFkgPSBzbmFwSGVpZ2h0IC0gcjtcbiAgICAgICAgcGFkZGluZ1RvcCArPSBjb250YWluZXIuc25hcE9mZnNldFk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnRhaW5lci5wYWRkaW5nVG9wID0gcGFkZGluZ1RvcDtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lci5lbGVtZW50LCBcInRvcFwiLCBgJHt0b3B9cHhgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lci5lbGVtZW50LCBcIm1hcmdpbi10b3BcIiwgYCR7bWFyZ2luVG9wfXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJwYWRkaW5nLXRvcFwiLCBgJHtwYWRkaW5nVG9wfXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgIGNvbnRhaW5lci5lbGVtZW50LFxuICAgICAgXCJib3JkZXItdG9wLXdpZHRoXCIsXG4gICAgICBgJHtib3JkZXJUb3BXaWR0aH1weGAsXG4gICAgKTtcbiAgfVxuXG4gIGFzc2lnbkJvdHRvbVBvc2l0aW9uKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IG1hcmdpbkJvdHRvbSA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwibWFyZ2luLWJvdHRvbVwiKTtcbiAgICBjb25zdCBwYWRkaW5nQm90dG9tID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJwYWRkaW5nLWJvdHRvbVwiKTtcbiAgICBjb25zdCBib3JkZXJCb3R0b21XaWR0aCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKFxuICAgICAgY29udGV4dCxcbiAgICAgIFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLFxuICAgICk7XG4gICAgY29uc3QgaGVpZ2h0ID1cbiAgICAgIHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwiaGVpZ2h0XCIpIC0gY29udGFpbmVyLnNuYXBPZmZzZXRZO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwiaGVpZ2h0XCIsIGAke2hlaWdodH1weGApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICBjb250YWluZXIuZWxlbWVudCxcbiAgICAgIFwibWFyZ2luLWJvdHRvbVwiLFxuICAgICAgYCR7bWFyZ2luQm90dG9tfXB4YCxcbiAgICApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICBjb250YWluZXIuZWxlbWVudCxcbiAgICAgIFwicGFkZGluZy1ib3R0b21cIixcbiAgICAgIGAke3BhZGRpbmdCb3R0b219cHhgLFxuICAgICk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgIGNvbnRhaW5lci5lbGVtZW50LFxuICAgICAgXCJib3JkZXItYm90dG9tLXdpZHRoXCIsXG4gICAgICBgJHtib3JkZXJCb3R0b21XaWR0aH1weGAsXG4gICAgKTtcbiAgICBjb250YWluZXIuaGVpZ2h0ID0gaGVpZ2h0IC0gY29udGFpbmVyLnNuYXBPZmZzZXRZO1xuICAgIGNvbnRhaW5lci5tYXJnaW5Cb3R0b20gPSBtYXJnaW5Cb3R0b207XG4gICAgY29udGFpbmVyLmJvcmRlckJvdHRvbSA9IGJvcmRlckJvdHRvbVdpZHRoO1xuICAgIGNvbnRhaW5lci5wYWRkaW5nQm90dG9tID0gcGFkZGluZ0JvdHRvbTtcbiAgfVxuXG4gIGFzc2lnbkJlZm9yZVBvc2l0aW9uKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLmFzc2lnblJpZ2h0UG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hc3NpZ25Ub3BQb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgIH1cbiAgfVxuXG4gIGFzc2lnbkFmdGVyUG9zaXRpb24oXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMuYXNzaWduTGVmdFBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXNzaWduQm90dG9tUG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICB9XG4gIH1cblxuICBhc3NpZ25TdGFydEVuZFBvc2l0aW9uKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLmFzc2lnblRvcFBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgICB0aGlzLmFzc2lnbkJvdHRvbVBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXNzaWduUmlnaHRQb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgICAgdGhpcy5hc3NpZ25MZWZ0UG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICB9XG4gIH1cblxuICBzaXplV2l0aE1heEhlaWdodChjb250ZXh0OiBFeHBycy5Db250ZXh0LCBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcik6IHZvaWQge1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwiYm9yZGVyLXRvcC13aWR0aFwiLCBcIjBweFwiKTtcbiAgICBsZXQgaGVpZ2h0ID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJtYXgtaGVpZ2h0XCIpO1xuICAgIGlmICh0aGlzLmlzVG9wRGVwZW5kZW50T25BdXRvSGVpZ2h0KSB7XG4gICAgICBjb250YWluZXIuc2V0VmVydGljYWxQb3NpdGlvbigwLCBoZWlnaHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFzc2lnblRvcFBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgICBoZWlnaHQgLT0gY29udGFpbmVyLnNuYXBPZmZzZXRZO1xuICAgICAgY29udGFpbmVyLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwiaGVpZ2h0XCIsIGAke2hlaWdodH1weGApO1xuICAgIH1cbiAgfVxuXG4gIHNpemVXaXRoTWF4V2lkdGgoY29udGV4dDogRXhwcnMuQ29udGV4dCwgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIpOiB2b2lkIHtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lci5lbGVtZW50LCBcImJvcmRlci1sZWZ0LXdpZHRoXCIsIFwiMHB4XCIpO1xuICAgIGxldCB3aWR0aCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwibWF4LXdpZHRoXCIpO1xuICAgIGlmICh0aGlzLmlzUmlnaHREZXBlbmRlbnRPbkF1dG9XaWR0aCkge1xuICAgICAgY29udGFpbmVyLnNldEhvcml6b250YWxQb3NpdGlvbigwLCB3aWR0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXNzaWduUmlnaHRQb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgICAgd2lkdGggLT0gY29udGFpbmVyLnNuYXBPZmZzZXRYO1xuICAgICAgY29udGFpbmVyLndpZHRoID0gd2lkdGg7XG4gICAgICBjb25zdCByaWdodCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwicmlnaHRcIik7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lci5lbGVtZW50LCBcInJpZ2h0XCIsIGAke3JpZ2h0fXB4YCk7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lci5lbGVtZW50LCBcIndpZHRoXCIsIGAke3dpZHRofXB4YCk7XG4gICAgfVxuICB9XG5cbiAgcHJlcGFyZUNvbnRhaW5lcihcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgZG9jRmFjZXM6IEZvbnQuRG9jdW1lbnRGYWNlcyxcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnBhcmVudEluc3RhbmNlIHx8IHRoaXMudmVydGljYWwgIT0gdGhpcy5wYXJlbnRJbnN0YW5jZS52ZXJ0aWNhbCkge1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgICAgY29udGFpbmVyLmVsZW1lbnQsXG4gICAgICAgIFwid3JpdGluZy1tb2RlXCIsXG4gICAgICAgIHRoaXMudmVydGljYWwgPyBcInZlcnRpY2FsLXJsXCIgOiBcImhvcml6b250YWwtdGJcIixcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLnZlcnRpY2FsID8gdGhpcy5pc0F1dG9XaWR0aCA6IHRoaXMuaXNBdXRvSGVpZ2h0KSB7XG4gICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICB0aGlzLnNpemVXaXRoTWF4V2lkdGgoY29udGV4dCwgY29udGFpbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2l6ZVdpdGhNYXhIZWlnaHQoY29udGV4dCwgY29udGFpbmVyKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hc3NpZ25CZWZvcmVQb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgICAgdGhpcy5hc3NpZ25BZnRlclBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgfVxuICAgIGlmICh0aGlzLnZlcnRpY2FsID8gdGhpcy5pc0F1dG9IZWlnaHQgOiB0aGlzLmlzQXV0b1dpZHRoKSB7XG4gICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICB0aGlzLnNpemVXaXRoTWF4SGVpZ2h0KGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNpemVXaXRoTWF4V2lkdGgoY29udGV4dCwgY29udGFpbmVyKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hc3NpZ25TdGFydEVuZFBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFzc1ByZVByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMucHJvcGFnYXRlUHJvcGVydHkoXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgcGFzc1ByZVByb3BlcnRpZXNbaV0sXG4gICAgICAgIGRvY0ZhY2VzLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICB0cmFuc2ZlckNvbnRlbnRQcm9wcyhcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgZG9jRmFjZXM6IEZvbnQuRG9jdW1lbnRGYWNlcyxcbiAgKTogdm9pZCB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXNzQ29udGVudFByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMucHJvcGFnYXRlUHJvcGVydHkoXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgcGFzc0NvbnRlbnRQcm9wZXJ0aWVzW2ldLFxuICAgICAgICBkb2NGYWNlcyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgdHJhbnNmZXJTaW5nbFVyaUNvbnRlbnRQcm9wcyhcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgZG9jRmFjZXM6IEZvbnQuRG9jdW1lbnRGYWNlcyxcbiAgKTogdm9pZCB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXNzU2luZ2xlVXJpQ29udGVudFByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMucHJvcGFnYXRlUHJvcGVydHlUb0VsZW1lbnQoXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIHBhc3NTaW5nbGVVcmlDb250ZW50UHJvcGVydGllc1tpXSxcbiAgICAgICAgZG9jRmFjZXMsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gY29sdW1uIChudWxsIHdoZW4gY29udGVudCBjb21lcyBmcm9tIHRoZSBjb250ZW50IHByb3BlcnR5KVxuICAgKi9cbiAgZmluaXNoQ29udGFpbmVyKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBjb2x1bW46IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBjb2x1bW5Db3VudDogbnVtYmVyLFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICAgIGRvY0ZhY2VzOiBGb250LkRvY3VtZW50RmFjZXMsXG4gICk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLmNhbGN1bGF0ZWRXaWR0aCA9XG4gICAgICAgIGNvbnRhaW5lci5jb21wdXRlZEJsb2NrU2l6ZSArIGNvbnRhaW5lci5zbmFwT2Zmc2V0WDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jYWxjdWxhdGVkSGVpZ2h0ID1cbiAgICAgICAgY29udGFpbmVyLmNvbXB1dGVkQmxvY2tTaXplICsgY29udGFpbmVyLnNuYXBPZmZzZXRZO1xuICAgIH1cbiAgICBjb25zdCByZWFkSGVpZ2h0ID0gKHRoaXMudmVydGljYWwgfHwgIWNvbHVtbikgJiYgdGhpcy5pc0F1dG9IZWlnaHQ7XG4gICAgY29uc3QgcmVhZFdpZHRoID0gKCF0aGlzLnZlcnRpY2FsIHx8ICFjb2x1bW4pICYmIHRoaXMuaXNBdXRvV2lkdGg7XG4gICAgbGV0IGJib3g6IFZ0cmVlLkNsaWVudFJlY3QgPSBudWxsO1xuICAgIGlmIChyZWFkV2lkdGggfHwgcmVhZEhlaWdodCkge1xuICAgICAgaWYgKHJlYWRXaWR0aCkge1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lci5lbGVtZW50LCBcIndpZHRoXCIsIFwiYXV0b1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZWFkSGVpZ2h0KSB7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwiaGVpZ2h0XCIsIFwiYXV0b1wiKTtcbiAgICAgIH1cbiAgICAgIGJib3ggPSBjbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3QoXG4gICAgICAgIGNvbHVtbiA/IGNvbHVtbi5lbGVtZW50IDogY29udGFpbmVyLmVsZW1lbnQsXG4gICAgICApO1xuICAgICAgaWYgKHJlYWRXaWR0aCkge1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZWRXaWR0aCA9IE1hdGguY2VpbChcbiAgICAgICAgICBiYm94LnJpZ2h0IC1cbiAgICAgICAgICAgIGJib3gubGVmdCAtXG4gICAgICAgICAgICBjb250YWluZXIucGFkZGluZ0xlZnQgLVxuICAgICAgICAgICAgY29udGFpbmVyLmJvcmRlckxlZnQgLVxuICAgICAgICAgICAgY29udGFpbmVyLnBhZGRpbmdSaWdodCAtXG4gICAgICAgICAgICBjb250YWluZXIuYm9yZGVyUmlnaHQsXG4gICAgICAgICk7XG4gICAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgdGhpcy5jYWxjdWxhdGVkV2lkdGggKz0gY29udGFpbmVyLnNuYXBPZmZzZXRYO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVhZEhlaWdodCkge1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZWRIZWlnaHQgPVxuICAgICAgICAgIGJib3guYm90dG9tIC1cbiAgICAgICAgICBiYm94LnRvcCAtXG4gICAgICAgICAgY29udGFpbmVyLnBhZGRpbmdUb3AgLVxuICAgICAgICAgIGNvbnRhaW5lci5ib3JkZXJUb3AgLVxuICAgICAgICAgIGNvbnRhaW5lci5wYWRkaW5nQm90dG9tIC1cbiAgICAgICAgICBjb250YWluZXIuYm9yZGVyQm90dG9tO1xuICAgICAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgICAgICB0aGlzLmNhbGN1bGF0ZWRIZWlnaHQgKz0gY29udGFpbmVyLnNuYXBPZmZzZXRZO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnZlcnRpY2FsID8gdGhpcy5pc0F1dG9IZWlnaHQgOiB0aGlzLmlzQXV0b1dpZHRoKSB7XG4gICAgICB0aGlzLmFzc2lnblN0YXJ0RW5kUG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudmVydGljYWwgPyB0aGlzLmlzQXV0b1dpZHRoIDogdGhpcy5pc0F1dG9IZWlnaHQpIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy52ZXJ0aWNhbFxuICAgICAgICAgID8gdGhpcy5pc1JpZ2h0RGVwZW5kZW50T25BdXRvV2lkdGhcbiAgICAgICAgICA6IHRoaXMuaXNUb3BEZXBlbmRlbnRPbkF1dG9IZWlnaHRcbiAgICAgICkge1xuICAgICAgICB0aGlzLmFzc2lnbkJlZm9yZVBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgICB9XG4gICAgICB0aGlzLmFzc2lnbkFmdGVyUG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICB9XG4gICAgaWYgKGNvbHVtbkNvdW50ID4gMSkge1xuICAgICAgY29uc3QgcnVsZVdpZHRoID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJjb2x1bW4tcnVsZS13aWR0aFwiKTtcbiAgICAgIGNvbnN0IHJ1bGVTdHlsZSA9IHRoaXMuZ2V0UHJvcChjb250ZXh0LCBcImNvbHVtbi1ydWxlLXN0eWxlXCIpO1xuICAgICAgY29uc3QgcnVsZUNvbG9yID0gdGhpcy5nZXRQcm9wKGNvbnRleHQsIFwiY29sdW1uLXJ1bGUtY29sb3JcIik7XG4gICAgICBpZiAoXG4gICAgICAgIHJ1bGVXaWR0aCA+IDAgJiZcbiAgICAgICAgcnVsZVN0eWxlICYmXG4gICAgICAgIHJ1bGVTdHlsZSAhPSBDc3MuaWRlbnQubm9uZSAmJlxuICAgICAgICBydWxlQ29sb3IgIT0gQ3NzLmlkZW50LnRyYW5zcGFyZW50XG4gICAgICApIHtcbiAgICAgICAgY29uc3QgY29sdW1uR2FwID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJjb2x1bW4tZ2FwXCIpO1xuICAgICAgICBjb25zdCBjb250YWluZXJTaXplID0gdGhpcy52ZXJ0aWNhbFxuICAgICAgICAgID8gY29udGFpbmVyLmhlaWdodFxuICAgICAgICAgIDogY29udGFpbmVyLndpZHRoO1xuICAgICAgICBjb25zdCBib3JkZXIgPSB0aGlzLnZlcnRpY2FsID8gXCJib3JkZXItdG9wXCIgOiBcImJvcmRlci1sZWZ0XCI7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgY29sdW1uQ291bnQ7IGkrKykge1xuICAgICAgICAgIGNvbnN0IHBvcyA9XG4gICAgICAgICAgICAoKGNvbnRhaW5lclNpemUgKyBjb2x1bW5HYXApICogaSkgLyBjb2x1bW5Db3VudCAtXG4gICAgICAgICAgICBjb2x1bW5HYXAgLyAyICtcbiAgICAgICAgICAgIGNvbnRhaW5lci5wYWRkaW5nTGVmdCAtXG4gICAgICAgICAgICBydWxlV2lkdGggLyAyO1xuICAgICAgICAgIGNvbnN0IHNpemUgPVxuICAgICAgICAgICAgY29udGFpbmVyLmhlaWdodCArIGNvbnRhaW5lci5wYWRkaW5nVG9wICsgY29udGFpbmVyLnBhZGRpbmdCb3R0b207XG4gICAgICAgICAgY29uc3QgcnVsZSA9IGNvbnRhaW5lci5lbGVtZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHJ1bGUsIFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKTtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHJ1bGUsIHRoaXMudmVydGljYWwgPyBcImxlZnRcIiA6IFwidG9wXCIsIFwiMHB4XCIpO1xuICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkocnVsZSwgdGhpcy52ZXJ0aWNhbCA/IFwidG9wXCIgOiBcImxlZnRcIiwgYCR7cG9zfXB4YCk7XG4gICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShydWxlLCB0aGlzLnZlcnRpY2FsID8gXCJoZWlnaHRcIiA6IFwid2lkdGhcIiwgXCIwcHhcIik7XG4gICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgICAgICAgIHJ1bGUsXG4gICAgICAgICAgICB0aGlzLnZlcnRpY2FsID8gXCJ3aWR0aFwiIDogXCJoZWlnaHRcIixcbiAgICAgICAgICAgIGAke3NpemV9cHhgLFxuICAgICAgICAgICk7XG4gICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgICAgICAgIHJ1bGUsXG4gICAgICAgICAgICBib3JkZXIsXG4gICAgICAgICAgICBgJHtydWxlV2lkdGh9cHggJHtydWxlU3R5bGUudG9TdHJpbmcoKX0ke1xuICAgICAgICAgICAgICBydWxlQ29sb3IgPyBgICR7cnVsZUNvbG9yLnRvU3RyaW5nKCl9YCA6IFwiXCJcbiAgICAgICAgICAgIH1gLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQuaW5zZXJ0QmVmb3JlKHJ1bGUsIGNvbnRhaW5lci5lbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFzc1Bvc3RQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnByb3BhZ2F0ZVByb3BlcnR5KFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIHBhc3NQb3N0UHJvcGVydGllc1tpXSxcbiAgICAgICAgZG9jRmFjZXMsXG4gICAgICApO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlbGF5ZWRQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnByb3BhZ2F0ZURlbGF5ZWRQcm9wZXJ0eShcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBkZWxheWVkUHJvcGVydGllc1tpXSxcbiAgICAgICAgcGFnZS5kZWxheWVkSXRlbXMsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGFwcGx5Q2FzY2FkZUFuZEluaXQoXG4gICAgY2FzY2FkZTogQ3NzQ2FzY2FkZS5DYXNjYWRlSW5zdGFuY2UsXG4gICAgZG9jRWxlbWVudFN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgKTogdm9pZCB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLmNhc2NhZGVkO1xuICAgIGNvbnN0IHNwZWNpZmllZCA9IHRoaXMucGFnZUJveC5zcGVjaWZpZWQ7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIHNwZWNpZmllZCkge1xuICAgICAgaWYgKENzc0Nhc2NhZGUuaXNQcm9wTmFtZShuYW1lKSkge1xuICAgICAgICBDc3NDYXNjYWRlLnNldFByb3Aoc3R5bGUsIG5hbWUsIENzc0Nhc2NhZGUuZ2V0UHJvcChzcGVjaWZpZWQsIG5hbWUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMucGFnZUJveC5wc2V1ZG9OYW1lID09IHVzZXJBZ2VudFBhZ2VNYXN0ZXJQc2V1ZG8pIHtcbiAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBkb2NFbGVtZW50U3R5bGUpIHtcbiAgICAgICAgaWYgKG5hbWUubWF0Y2goL15iYWNrZ3JvdW5kLS8pIHx8IG5hbWUgPT0gXCJ3cml0aW5nLW1vZGVcIikge1xuICAgICAgICAgIHN0eWxlW25hbWVdID0gZG9jRWxlbWVudFN0eWxlW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnBhZ2VCb3gucHNldWRvTmFtZSA9PSBcImxheW91dC1ob3N0XCIpIHtcbiAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBkb2NFbGVtZW50U3R5bGUpIHtcbiAgICAgICAgaWYgKCFuYW1lLm1hdGNoKC9eYmFja2dyb3VuZC0vKSAmJiBuYW1lICE9IFwid3JpdGluZy1tb2RlXCIpIHtcbiAgICAgICAgICBzdHlsZVtuYW1lXSA9IGRvY0VsZW1lbnRTdHlsZVtuYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjYXNjYWRlLnB1c2hSdWxlKHRoaXMucGFnZUJveC5jbGFzc2VzLCBudWxsLCBzdHlsZSk7XG4gICAgaWYgKHN0eWxlW1wiY29udGVudFwiXSkge1xuICAgICAgc3R5bGVbXCJjb250ZW50XCJdID0gc3R5bGVbXCJjb250ZW50XCJdLmZpbHRlclZhbHVlKFxuICAgICAgICBuZXcgQ3NzQ2FzY2FkZS5Db250ZW50UHJvcFZpc2l0b3IoXG4gICAgICAgICAgY2FzY2FkZSxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIGNhc2NhZGUuY291bnRlclJlc29sdmVyLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5pbml0KGNhc2NhZGUuY29udGV4dCk7XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLnBhZ2VCb3guY2hpbGRyZW4pIHtcbiAgICAgIGNvbnN0IGNoaWxkSW5zdGFuY2UgPSBjaGlsZC5jcmVhdGVJbnN0YW5jZSh0aGlzKTtcbiAgICAgIGNoaWxkSW5zdGFuY2UuYXBwbHlDYXNjYWRlQW5kSW5pdChjYXNjYWRlLCBkb2NFbGVtZW50U3R5bGUpO1xuICAgIH1cbiAgICBjYXNjYWRlLnBvcFJ1bGUoKTtcbiAgfVxuXG4gIHJlc29sdmVBdXRvU2l6aW5nKGNvbnRleHQ6IEV4cHJzLkNvbnRleHQpOiB2b2lkIHtcbiAgICAvLyBhbGwgaW1wbGljaXQgZGVwZW5kZW5jaWVzIGFyZSBzZXQgdXAgYXQgdGhpcyBwb2ludFxuICAgIGlmICh0aGlzLmlzQXV0b1dpZHRoKSB7XG4gICAgICB0aGlzLmlzUmlnaHREZXBlbmRlbnRPbkF1dG9XaWR0aCA9XG4gICAgICAgIHRoaXMuZGVwZW5kcyhcInJpZ2h0XCIsIHRoaXMuYXV0b1dpZHRoLCBjb250ZXh0KSB8fFxuICAgICAgICB0aGlzLmRlcGVuZHMoXCJtYXJnaW4tcmlnaHRcIiwgdGhpcy5hdXRvV2lkdGgsIGNvbnRleHQpIHx8XG4gICAgICAgIHRoaXMuZGVwZW5kcyhcImJvcmRlci1yaWdodC13aWR0aFwiLCB0aGlzLmF1dG9XaWR0aCwgY29udGV4dCkgfHxcbiAgICAgICAgdGhpcy5kZXBlbmRzKFwicGFkZGluZy1yaWdodFwiLCB0aGlzLmF1dG9XaWR0aCwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzQXV0b0hlaWdodCkge1xuICAgICAgdGhpcy5pc1RvcERlcGVuZGVudE9uQXV0b0hlaWdodCA9XG4gICAgICAgIHRoaXMuZGVwZW5kcyhcInRvcFwiLCB0aGlzLmF1dG9IZWlnaHQsIGNvbnRleHQpIHx8XG4gICAgICAgIHRoaXMuZGVwZW5kcyhcIm1hcmdpbi10b3BcIiwgdGhpcy5hdXRvSGVpZ2h0LCBjb250ZXh0KSB8fFxuICAgICAgICB0aGlzLmRlcGVuZHMoXCJib3JkZXItdG9wLXdpZHRoXCIsIHRoaXMuYXV0b0hlaWdodCwgY29udGV4dCkgfHxcbiAgICAgICAgdGhpcy5kZXBlbmRzKFwicGFkZGluZy10b3BcIiwgdGhpcy5hdXRvSGVpZ2h0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBjaGlsZEluc3RhbmNlIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgIGNoaWxkSW5zdGFuY2UucmVzb2x2ZUF1dG9TaXppbmcoY29udGV4dCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUHJvcGVydGllcyB0aGF0IGFyZSBwYXNzZWQgdGhyb3VnaCBiZWZvcmUgdGhlIGxheW91dC5cbiAqL1xuZXhwb3J0IGNvbnN0IHBhc3NQcmVQcm9wZXJ0aWVzID0gW1xuICBcImJvcmRlci1sZWZ0LXN0eWxlXCIsXG4gIFwiYm9yZGVyLXJpZ2h0LXN0eWxlXCIsXG4gIFwiYm9yZGVyLXRvcC1zdHlsZVwiLFxuICBcImJvcmRlci1ib3R0b20tc3R5bGVcIixcbiAgXCJib3JkZXItbGVmdC1jb2xvclwiLFxuICBcImJvcmRlci1yaWdodC1jb2xvclwiLFxuICBcImJvcmRlci10b3AtY29sb3JcIixcbiAgXCJib3JkZXItYm90dG9tLWNvbG9yXCIsXG4gIFwib3V0bGluZS1zdHlsZVwiLFxuICBcIm91dGxpbmUtY29sb3JcIixcbiAgXCJvdXRsaW5lLXdpZHRoXCIsXG4gIFwib3ZlcmZsb3dcIixcbiAgXCJ2aXNpYmlsaXR5XCIsXG5dO1xuXG4vKipcbiAqIFByb3BlcnRpZXMgdGhhdCBhcmUgcGFzc2VkIHRocm91Z2ggYWZ0ZXIgdGhlIGxheW91dC5cbiAqL1xuZXhwb3J0IGNvbnN0IHBhc3NQb3N0UHJvcGVydGllcyA9IFtcbiAgXCJib3JkZXItdG9wLWxlZnQtcmFkaXVzXCIsXG4gIFwiYm9yZGVyLXRvcC1yaWdodC1yYWRpdXNcIixcbiAgXCJib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1c1wiLFxuICBcImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXNcIixcbiAgXCJib3JkZXItaW1hZ2Utc291cmNlXCIsXG4gIFwiYm9yZGVyLWltYWdlLXNsaWNlXCIsXG4gIFwiYm9yZGVyLWltYWdlLXdpZHRoXCIsXG4gIFwiYm9yZGVyLWltYWdlLW91dHNldFwiLFxuICBcImJvcmRlci1pbWFnZS1yZXBlYXRcIixcbiAgXCJiYWNrZ3JvdW5kLWF0dGFjaG1lbnRcIixcbiAgXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXG4gIFwiYmFja2dyb3VuZC1pbWFnZVwiLFxuICBcImJhY2tncm91bmQtcmVwZWF0XCIsXG4gIFwiYmFja2dyb3VuZC1wb3NpdGlvblwiLFxuICBcImJhY2tncm91bmQtY2xpcFwiLFxuICBcImJhY2tncm91bmQtb3JpZ2luXCIsXG4gIFwiYmFja2dyb3VuZC1zaXplXCIsXG4gIFwib3BhY2l0eVwiLFxuICBcInotaW5kZXhcIixcbiAgXCJiYWNrZ3JvdW5kLWJsZW5kLW1vZGVcIixcbiAgXCJpc29sYXRpb25cIixcbiAgXCJtaXgtYmxlbmQtbW9kZVwiLFxuICBcImZpbHRlclwiLFxuXTtcblxuLyoqXG4gKiBPbmx5IHBhc3NlZCB3aGVuIHRoZXJlIGlzIGNvbnRlbnQgYXNzaWduZWQgYnkgdGhlIGNvbnRlbnQgcHJvcGVydHkuXG4gKi9cbmV4cG9ydCBjb25zdCBwYXNzQ29udGVudFByb3BlcnRpZXMgPSBbXG4gIFwiY29sb3JcIixcbiAgXCJmb250LWZhbWlseVwiLFxuICBcImZvbnQtc2l6ZVwiLFxuICBcImZvbnQtc3R5bGVcIixcbiAgXCJmb250LXdlaWdodFwiLFxuICBcImZvbnQtdmFyaWFudFwiLFxuICBcImxpbmUtaGVpZ2h0XCIsXG4gIFwibGV0dGVyLXNwYWNpbmdcIixcbiAgXCJ0ZXh0LWFsaWduXCIsXG4gIFwidGV4dC1kZWNvcmF0aW9uXCIsXG4gIFwidGV4dC1pbmRlbnRcIixcbiAgXCJ0ZXh0LXRyYW5zZm9ybVwiLFxuICBcIndoaXRlLXNwYWNlXCIsXG4gIFwid29yZC1zcGFjaW5nXCIsXG4gIFwiZm9udC1mZWF0dXJlLXNldHRpbmdzXCIsXG4gIFwiZm9udC1rZXJuaW5nXCIsXG4gIFwiZm9udC1zaXplLWFkanVzdFwiLFxuICBcImZvbnQtdmFyaWFudC1lYXN0LWFzaWFuXCIsXG4gIFwiZm9udC1zdHJldGNoXCIsXG4gIFwidGV4dC1kZWNvcmF0aW9uLWNvbG9yXCIsXG4gIFwidGV4dC1kZWNvcmF0aW9uLWxpbmVcIixcbiAgXCJ0ZXh0LWRlY29yYXRpb24tc2tpcFwiLFxuICBcInRleHQtZGVjb3JhdGlvbi1zdHlsZVwiLFxuICBcInRleHQtZW1waGFzaXNcIixcbiAgXCJ0ZXh0LWVtcGhhc2lzLWNvbG9yXCIsXG4gIFwidGV4dC1lbXBoYXNpcy1wb3NpdGlvblwiLFxuICBcInRleHQtZW1waGFzaXMtc3R5bGVcIixcbiAgXCJ0ZXh0LXNoYWRvd1wiLFxuICBcInRleHQtdW5kZXJsaW5lLXBvc2l0aW9uXCIsXG5dO1xuXG5leHBvcnQgY29uc3QgcGFzc1NpbmdsZVVyaUNvbnRlbnRQcm9wZXJ0aWVzID0gW1xuICBcIndpZHRoXCIsXG4gIFwiaGVpZ2h0XCIsXG4gIFwiaW1hZ2UtcmVzb2x1dGlvblwiLFxuICBcIm9iamVjdC1maXRcIixcbiAgXCJvYmplY3QtcG9zaXRpb25cIixcbl07XG5cbmV4cG9ydCBjb25zdCBkZWxheWVkUHJvcGVydGllcyA9IFtcInRyYW5zZm9ybVwiLCBcInRyYW5zZm9ybS1vcmlnaW5cIl07XG5cbmV4cG9ydCBjb25zdCB1c2VyQWdlbnRQYWdlTWFzdGVyUHNldWRvID0gXCJiYWNrZ3JvdW5kLWhvc3RcIjtcblxuZXhwb3J0IGNsYXNzIFJvb3RQYWdlQm94SW5zdGFuY2UgZXh0ZW5kcyBQYWdlQm94SW5zdGFuY2U8Um9vdFBhZ2VCb3g+IHtcbiAgY29uc3RydWN0b3IocGFnZUJveDogUm9vdFBhZ2VCb3gpIHtcbiAgICBzdXBlcihudWxsLCBwYWdlQm94KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5Q2FzY2FkZUFuZEluaXQoXG4gICAgY2FzY2FkZTogQ3NzQ2FzY2FkZS5DYXNjYWRlSW5zdGFuY2UsXG4gICAgZG9jRWxlbWVudFN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgKTogdm9pZCB7XG4gICAgc3VwZXIuYXBwbHlDYXNjYWRlQW5kSW5pdChjYXNjYWRlLCBkb2NFbGVtZW50U3R5bGUpO1xuXG4gICAgLy8gU29ydCBwYWdlIG1hc3RlcnMgdXNpbmcgb3JkZXIgYW5kIHNwZWNpZmljaXR5LlxuICAgIGNvbnN0IHBhZ2VNYXN0ZXJzID0gdGhpcy5jaGlsZHJlbjtcbiAgICAocGFnZU1hc3RlcnMgYXMgUGFnZU1hc3Rlckluc3RhbmNlW10pLnNvcnQoXG4gICAgICAoYSwgYikgPT5cbiAgICAgICAgKGIucGFnZUJveCBhcyBhbnkpLnNwZWNpZmljaXR5IC0gKGEucGFnZUJveCBhcyBhbnkpLnNwZWNpZmljaXR5IHx8IC8vIHByb2JhYmx5IGNhdXNlIE5hTlxuICAgICAgICBhLnBhZ2VCb3guaW5kZXggLSBiLnBhZ2VCb3guaW5kZXgsXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFnZU1hc3Rlckluc3RhbmNlPFxuICBQIGV4dGVuZHMgUGFnZU1hc3RlciA9IFBhZ2VNYXN0ZXI8UGFnZU1hc3Rlckluc3RhbmNlPGFueT4+XG4+IGV4dGVuZHMgUGFnZUJveEluc3RhbmNlPFA+IHtcbiAgcGFnZU1hc3Rlckluc3RhbmNlOiBQYWdlTWFzdGVySW5zdGFuY2U7XG5cbiAgY29uc3RydWN0b3IocGFyZW50SW5zdGFuY2U6IFBhZ2VCb3hJbnN0YW5jZSwgcGFnZUJveDogUCkge1xuICAgIHN1cGVyKHBhcmVudEluc3RhbmNlLCBwYWdlQm94KTtcbiAgICB0aGlzLnBhZ2VNYXN0ZXJJbnN0YW5jZSA9IHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBib3hTcGVjaWZpY0VuYWJsZWQoZW5hYmxlZDogRXhwcnMuVmFsKTogRXhwcnMuVmFsIHtcbiAgICBjb25zdCBwYWdlTWFzdGVyID0gdGhpcy5wYWdlQm94LnBhZ2VNYXN0ZXI7XG4gICAgaWYgKHBhZ2VNYXN0ZXIuY29uZGl0aW9uKSB7XG4gICAgICBlbmFibGVkID0gRXhwcnMuYW5kKHBhZ2VNYXN0ZXIuc2NvcGUsIGVuYWJsZWQsIHBhZ2VNYXN0ZXIuY29uZGl0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuYWJsZWQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGFmdGVyIGxheW91dCBvZiBjb250ZW50cyBvZiB0aGUgcGFnZSBoYXMgZG9uZSB0byBhZGp1c3QgdGhlIG92ZXJhbGxcbiAgICogcGFnZSBsYXlvdXQuIE92ZXJyaWRlIGluIHN1YmNsYXNzZXMuXG4gICAqL1xuICBhZGp1c3RQYWdlTGF5b3V0KFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgUGFydGl0aW9uR3JvdXBJbnN0YW5jZSBleHRlbmRzIFBhZ2VCb3hJbnN0YW5jZTxQYXJ0aXRpb25Hcm91cD4ge1xuICBwYWdlTWFzdGVySW5zdGFuY2U6IFBhZ2VNYXN0ZXJJbnN0YW5jZTtcblxuICBjb25zdHJ1Y3RvcihwYXJlbnRJbnN0YW5jZTogUGFnZUJveEluc3RhbmNlLCBwYWdlQm94OiBQYWdlQm94KSB7XG4gICAgc3VwZXIocGFyZW50SW5zdGFuY2UsIHBhZ2VCb3gpO1xuICAgIHRoaXMucGFnZU1hc3Rlckluc3RhbmNlID0gcGFyZW50SW5zdGFuY2UucGFnZU1hc3Rlckluc3RhbmNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYXJ0aXRpb25JbnN0YW5jZTxcbiAgUCBleHRlbmRzIFBhcnRpdGlvbiA9IFBhcnRpdGlvbjxQYXJ0aXRpb25JbnN0YW5jZTxhbnk+PlxuPiBleHRlbmRzIFBhZ2VCb3hJbnN0YW5jZTxQPiB7XG4gIHBhZ2VNYXN0ZXJJbnN0YW5jZTogUGFnZU1hc3Rlckluc3RhbmNlO1xuXG4gIGNvbnN0cnVjdG9yKHBhcmVudEluc3RhbmNlOiBQYWdlQm94SW5zdGFuY2UsIHBhZ2VCb3g6IFApIHtcbiAgICBzdXBlcihwYXJlbnRJbnN0YW5jZSwgcGFnZUJveCk7XG4gICAgdGhpcy5wYWdlTWFzdGVySW5zdGFuY2UgPSBwYXJlbnRJbnN0YW5jZS5wYWdlTWFzdGVySW5zdGFuY2U7XG4gIH1cblxuICBwcm9jZXNzUGFydGl0aW9uTGlzdChcbiAgICBlbmFibGVkOiBFeHBycy5WYWwsXG4gICAgbGlzdFZhbDogQ3NzLlZhbCxcbiAgICBjb25mbGljdGluZzogYm9vbGVhbixcbiAgKTogRXhwcnMuVmFsIHtcbiAgICBsZXQgbGlzdDogQ3NzLlZhbFtdID0gbnVsbDtcbiAgICBpZiAobGlzdFZhbCBpbnN0YW5jZW9mIENzcy5JZGVudCkge1xuICAgICAgbGlzdCA9IFtsaXN0VmFsXTtcbiAgICB9XG4gICAgaWYgKGxpc3RWYWwgaW5zdGFuY2VvZiBDc3MuQ29tbWFMaXN0KSB7XG4gICAgICBsaXN0ID0gKGxpc3RWYWwgYXMgQ3NzLkNvbW1hTGlzdCkudmFsdWVzO1xuICAgIH1cbiAgICBpZiAobGlzdCkge1xuICAgICAgY29uc3Qgc2NvcGUgPSB0aGlzLnBhZ2VCb3guc2NvcGU7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGxpc3RbaV0gaW5zdGFuY2VvZiBDc3MuSWRlbnQpIHtcbiAgICAgICAgICBjb25zdCBxbmFtZSA9IEV4cHJzLm1ha2VRdWFsaWZpZWROYW1lKFxuICAgICAgICAgICAgKGxpc3RbaV0gYXMgQ3NzLklkZW50KS5uYW1lLFxuICAgICAgICAgICAgXCJlbmFibGVkXCIsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgdGVybTogRXhwcnMuVmFsID0gbmV3IEV4cHJzLk5hbWVkKHNjb3BlLCBxbmFtZSk7XG4gICAgICAgICAgaWYgKGNvbmZsaWN0aW5nKSB7XG4gICAgICAgICAgICB0ZXJtID0gbmV3IEV4cHJzLk5vdChzY29wZSwgdGVybSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVuYWJsZWQgPSBFeHBycy5hbmQoc2NvcGUsIGVuYWJsZWQsIHRlcm0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbmFibGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYm94U3BlY2lmaWNFbmFibGVkKGVuYWJsZWQ6IEV4cHJzLlZhbCk6IEV4cHJzLlZhbCB7XG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLnBhZ2VCb3guc2NvcGU7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgIGNvbnN0IHJlcXVpcmVkID1cbiAgICAgIHRvRXhwckJvb2woc2NvcGUsIHN0eWxlW1wicmVxdWlyZWRcIl0sIHNjb3BlLl9mYWxzZSkgIT09IHNjb3BlLl9mYWxzZTtcbiAgICBpZiAocmVxdWlyZWQgfHwgdGhpcy5pc0F1dG9IZWlnaHQpIHtcbiAgICAgIGNvbnN0IGZsb3dOYW1lID0gdG9FeHBySWRlbnQoc2NvcGUsIHN0eWxlW1wiZmxvdy1mcm9tXCJdLCBcImJvZHlcIik7XG4gICAgICBjb25zdCBoYXNDb250ZW50ID0gbmV3IEV4cHJzLkNhbGwoc2NvcGUsIFwiaGFzLWNvbnRlbnRcIiwgW2Zsb3dOYW1lXSk7XG4gICAgICBlbmFibGVkID0gRXhwcnMuYW5kKHNjb3BlLCBlbmFibGVkLCBoYXNDb250ZW50KTtcbiAgICB9XG4gICAgZW5hYmxlZCA9IHRoaXMucHJvY2Vzc1BhcnRpdGlvbkxpc3QoXG4gICAgICBlbmFibGVkLFxuICAgICAgc3R5bGVbXCJyZXF1aXJlZC1wYXJ0aXRpb25zXCJdLFxuICAgICAgZmFsc2UsXG4gICAgKTtcbiAgICBlbmFibGVkID0gdGhpcy5wcm9jZXNzUGFydGl0aW9uTGlzdChcbiAgICAgIGVuYWJsZWQsXG4gICAgICBzdHlsZVtcImNvbmZsaWN0aW5nLXBhcnRpdGlvbnNcIl0sXG4gICAgICB0cnVlLFxuICAgICk7XG4gICAgaWYgKHJlcXVpcmVkKSB7XG4gICAgICBjb25zdCBwbUVuYWJsZWRWYWwgPSB0aGlzLnBhZ2VNYXN0ZXJJbnN0YW5jZS5zdHlsZVtcImVuYWJsZWRcIl07XG4gICAgICBsZXQgcG1FbmFibGVkID0gcG1FbmFibGVkVmFsXG4gICAgICAgID8gcG1FbmFibGVkVmFsLnRvRXhwcihzY29wZSwgbnVsbClcbiAgICAgICAgOiBzY29wZS5fdHJ1ZTtcbiAgICAgIHBtRW5hYmxlZCA9IEV4cHJzLmFuZChzY29wZSwgcG1FbmFibGVkLCBlbmFibGVkKTtcbiAgICAgIHRoaXMucGFnZU1hc3Rlckluc3RhbmNlLnN0eWxlW1wiZW5hYmxlZFwiXSA9IG5ldyBDc3MuRXhwcihwbUVuYWJsZWQpO1xuICAgIH1cbiAgICByZXR1cm4gZW5hYmxlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHByZXBhcmVDb250YWluZXIoXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGRvY0ZhY2VzOiBGb250LkRvY3VtZW50RmFjZXMsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICk6IHZvaWQge1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwib3ZlcmZsb3dcIiwgXCJoaWRkZW5cIik7IC8vIGRlZmF1bHQgdmFsdWVcbiAgICBzdXBlci5wcmVwYXJlQ29udGFpbmVyKGNvbnRleHQsIGNvbnRhaW5lciwgcGFnZSwgZG9jRmFjZXMsIGNsaWVudExheW91dCk7XG4gIH1cbn1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0gcGFyc2luZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIFBhZ2VCb3hQYXJzZXJIYW5kbGVyIGV4dGVuZHMgQ3NzUGFyc2VyLlNsYXZlUGFyc2VySGFuZGxlclxuICBpbXBsZW1lbnRzIENzc1ZhbGlkYXRvci5Qcm9wZXJ0eVJlY2VpdmVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogQ3NzUGFyc2VyLkRpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0OiBQYWdlQm94LFxuICAgIHB1YmxpYyByZWFkb25seSB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBvd25lciwgZmFsc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50OiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy52YWxpZGF0b3JTZXQudmFsaWRhdGVQcm9wZXJ0eUFuZEhhbmRsZVNob3J0aGFuZChcbiAgICAgIG5hbWUsXG4gICAgICB2YWx1ZSxcbiAgICAgIGltcG9ydGFudCxcbiAgICAgIHRoaXMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHVua25vd25Qcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnQoYEVfSU5WQUxJRF9QUk9QRVJUWSAke25hbWV9OiAke3ZhbHVlLnRvU3RyaW5nKCl9YCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbnZhbGlkUHJvcGVydHlWYWx1ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnQoYEVfSU5WQUxJRF9QUk9QRVJUWV9WQUxVRSAke25hbWV9OiAke3ZhbHVlLnRvU3RyaW5nKCl9YCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzaW1wbGVQcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQpOiB2b2lkIHtcbiAgICB0aGlzLnRhcmdldC5zcGVjaWZpZWRbbmFtZV0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICB2YWx1ZSxcbiAgICAgIGltcG9ydGFudFxuICAgICAgICA/IENzc1BhcnNlci5TUEVDSUZJQ0lUWV9TVFlMRVxuICAgICAgICA6IENzc1BhcnNlci5TUEVDSUZJQ0lUWV9TVFlMRV9JTVBPUlRBTlQsXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFydGl0aW9uUGFyc2VySGFuZGxlciBleHRlbmRzIFBhZ2VCb3hQYXJzZXJIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogQ3NzUGFyc2VyLkRpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgICB0YXJnZXQ6IFBhcnRpdGlvbixcbiAgICB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBvd25lciwgdGFyZ2V0LCB2YWxpZGF0b3JTZXQpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYXJ0aXRpb25Hcm91cFBhcnNlckhhbmRsZXIgZXh0ZW5kcyBQYWdlQm94UGFyc2VySGFuZGxlciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgb3duZXI6IENzc1BhcnNlci5EaXNwYXRjaFBhcnNlckhhbmRsZXIsXG4gICAgdGFyZ2V0OiBQYXJ0aXRpb25Hcm91cCxcbiAgICB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBvd25lciwgdGFyZ2V0LCB2YWxpZGF0b3JTZXQpO1xuICAgIHRhcmdldC5zcGVjaWZpZWRbXCJ3aWR0aFwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgIENzcy5odW5kcmVkUGVyY2VudCxcbiAgICAgIDAsXG4gICAgKTtcbiAgICB0YXJnZXQuc3BlY2lmaWVkW1wiaGVpZ2h0XCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgQ3NzLmh1bmRyZWRQZXJjZW50LFxuICAgICAgMCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYXJ0aXRpb25SdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgcGFydGl0aW9uID0gbmV3IFBhcnRpdGlvbihcbiAgICAgIHRoaXMuc2NvcGUsXG4gICAgICBuYW1lLFxuICAgICAgcHNldWRvTmFtZSxcbiAgICAgIGNsYXNzZXMsXG4gICAgICB0aGlzLnRhcmdldCxcbiAgICApO1xuICAgIGNvbnN0IGhhbmRsZXIgPSBuZXcgUGFydGl0aW9uUGFyc2VySGFuZGxlcihcbiAgICAgIHRoaXMuc2NvcGUsXG4gICAgICB0aGlzLm93bmVyLFxuICAgICAgcGFydGl0aW9uLFxuICAgICAgdGhpcy52YWxpZGF0b3JTZXQsXG4gICAgKTtcbiAgICB0aGlzLm93bmVyLnB1c2hIYW5kbGVyKGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYXJ0aXRpb25Hcm91cFJ1bGUoXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBwYXJ0aXRpb25Hcm91cCA9IG5ldyBQYXJ0aXRpb25Hcm91cChcbiAgICAgIHRoaXMuc2NvcGUsXG4gICAgICBuYW1lLFxuICAgICAgcHNldWRvTmFtZSxcbiAgICAgIGNsYXNzZXMsXG4gICAgICB0aGlzLnRhcmdldCxcbiAgICApO1xuICAgIGNvbnN0IGhhbmRsZXIgPSBuZXcgUGFydGl0aW9uR3JvdXBQYXJzZXJIYW5kbGVyKFxuICAgICAgdGhpcy5zY29wZSxcbiAgICAgIHRoaXMub3duZXIsXG4gICAgICBwYXJ0aXRpb25Hcm91cCxcbiAgICAgIHRoaXMudmFsaWRhdG9yU2V0LFxuICAgICk7XG4gICAgdGhpcy5vd25lci5wdXNoSGFuZGxlcihoYW5kbGVyKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFnZU1hc3RlclBhcnNlckhhbmRsZXIgZXh0ZW5kcyBQYWdlQm94UGFyc2VySGFuZGxlciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgb3duZXI6IENzc1BhcnNlci5EaXNwYXRjaFBhcnNlckhhbmRsZXIsXG4gICAgdGFyZ2V0OiBQYWdlTWFzdGVyLFxuICAgIHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG93bmVyLCB0YXJnZXQsIHZhbGlkYXRvclNldCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhcnRpdGlvblJ1bGUoXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBwYXJ0aXRpb24gPSBuZXcgUGFydGl0aW9uKFxuICAgICAgdGhpcy5zY29wZSxcbiAgICAgIG5hbWUsXG4gICAgICBwc2V1ZG9OYW1lLFxuICAgICAgY2xhc3NlcyxcbiAgICAgIHRoaXMudGFyZ2V0LFxuICAgICk7XG4gICAgY29uc3QgaGFuZGxlciA9IG5ldyBQYXJ0aXRpb25QYXJzZXJIYW5kbGVyKFxuICAgICAgdGhpcy5zY29wZSxcbiAgICAgIHRoaXMub3duZXIsXG4gICAgICBwYXJ0aXRpb24sXG4gICAgICB0aGlzLnZhbGlkYXRvclNldCxcbiAgICApO1xuICAgIHRoaXMub3duZXIucHVzaEhhbmRsZXIoaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhcnRpdGlvbkdyb3VwUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHBhcnRpdGlvbkdyb3VwID0gbmV3IFBhcnRpdGlvbkdyb3VwKFxuICAgICAgdGhpcy5zY29wZSxcbiAgICAgIG5hbWUsXG4gICAgICBwc2V1ZG9OYW1lLFxuICAgICAgY2xhc3NlcyxcbiAgICAgIHRoaXMudGFyZ2V0LFxuICAgICk7XG4gICAgY29uc3QgaGFuZGxlciA9IG5ldyBQYXJ0aXRpb25Hcm91cFBhcnNlckhhbmRsZXIoXG4gICAgICB0aGlzLnNjb3BlLFxuICAgICAgdGhpcy5vd25lcixcbiAgICAgIHBhcnRpdGlvbkdyb3VwLFxuICAgICAgdGhpcy52YWxpZGF0b3JTZXQsXG4gICAgKTtcbiAgICB0aGlzLm93bmVyLnB1c2hIYW5kbGVyKGhhbmRsZXIpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDc3NQYWdlIC0gYEBwYWdlYCBydWxlIChDU1MgUGFnZWQgTWVkaWEpIHN1cHBvcnQgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy1wYWdlL1xuICovXG5pbXBvcnQgKiBhcyBBc3NlcnRzIGZyb20gXCIuL2Fzc2VydHNcIjtcbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgQ3NzQ2FzY2FkZSBmcm9tIFwiLi9jc3MtY2FzY2FkZVwiO1xuaW1wb3J0ICogYXMgQ3NzUGFyc2VyIGZyb20gXCIuL2Nzcy1wYXJzZXJcIjtcbmltcG9ydCAqIGFzIENzc1ZhbGlkYXRvciBmcm9tIFwiLi9jc3MtdmFsaWRhdG9yXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgRm9udCBmcm9tIFwiLi9mb250XCI7XG5pbXBvcnQgKiBhcyBQYWdlTWFzdGVyIGZyb20gXCIuL3BhZ2UtbWFzdGVyXCI7XG5pbXBvcnQgKiBhcyBTaXppbmcgZnJvbSBcIi4vc2l6aW5nXCI7XG5pbXBvcnQgKiBhcyBWdHJlZSBmcm9tIFwiLi92dHJlZVwiO1xuXG4vKipcbiAqIFJlc29sdmUgcGFnZSBwcm9ncmVzc2lvbiBkaXJlY3Rpb24gZnJvbSB3cml0aW5nLW1vZGUgYW5kIGRpcmVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVQYWdlUHJvZ3Jlc3Npb24oXG4gIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbik6IENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24ge1xuICBsZXQgd3JpdGluZ01vZGUgPSBzdHlsZVtcIndyaXRpbmctbW9kZVwiXTtcbiAgd3JpdGluZ01vZGUgPSB3cml0aW5nTW9kZSAmJiB3cml0aW5nTW9kZS52YWx1ZTtcbiAgbGV0IGRpcmVjdGlvbiA9IHN0eWxlW1wiZGlyZWN0aW9uXCJdO1xuICBkaXJlY3Rpb24gPSBkaXJlY3Rpb24gJiYgZGlyZWN0aW9uLnZhbHVlO1xuICBpZiAoXG4gICAgd3JpdGluZ01vZGUgPT09IENzcy5pZGVudC52ZXJ0aWNhbF9sciB8fFxuICAgICh3cml0aW5nTW9kZSAhPT0gQ3NzLmlkZW50LnZlcnRpY2FsX3JsICYmIGRpcmVjdGlvbiAhPT0gQ3NzLmlkZW50LnJ0bClcbiAgKSB7XG4gICAgcmV0dXJuIENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24uTFRSO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBDb25zdGFudHMuUGFnZVByb2dyZXNzaW9uLlJUTDtcbiAgfVxufVxuZXhwb3J0IHR5cGUgUGFnZVNpemUgPSB7XG4gIHdpZHRoOiBDc3MuTnVtZXJpYztcbiAgaGVpZ2h0OiBDc3MuTnVtZXJpYztcbn07XG5cbi8qKlxuICogTmFtZWQgcGFnZSBzaXplcy5cbiAqL1xuZXhwb3J0IGNvbnN0IHBhZ2VTaXplczogeyBba2V5OiBzdHJpbmddOiBQYWdlU2l6ZSB9ID0ge1xuICBhNTogeyB3aWR0aDogbmV3IENzcy5OdW1lcmljKDE0OCwgXCJtbVwiKSwgaGVpZ2h0OiBuZXcgQ3NzLk51bWVyaWMoMjEwLCBcIm1tXCIpIH0sXG4gIGE0OiB7IHdpZHRoOiBuZXcgQ3NzLk51bWVyaWMoMjEwLCBcIm1tXCIpLCBoZWlnaHQ6IG5ldyBDc3MuTnVtZXJpYygyOTcsIFwibW1cIikgfSxcbiAgYTM6IHsgd2lkdGg6IG5ldyBDc3MuTnVtZXJpYygyOTcsIFwibW1cIiksIGhlaWdodDogbmV3IENzcy5OdW1lcmljKDQyMCwgXCJtbVwiKSB9LFxuICBiNTogeyB3aWR0aDogbmV3IENzcy5OdW1lcmljKDE3NiwgXCJtbVwiKSwgaGVpZ2h0OiBuZXcgQ3NzLk51bWVyaWMoMjUwLCBcIm1tXCIpIH0sXG4gIGI0OiB7IHdpZHRoOiBuZXcgQ3NzLk51bWVyaWMoMjUwLCBcIm1tXCIpLCBoZWlnaHQ6IG5ldyBDc3MuTnVtZXJpYygzNTMsIFwibW1cIikgfSxcbiAgXCJqaXMtYjVcIjoge1xuICAgIHdpZHRoOiBuZXcgQ3NzLk51bWVyaWMoMTgyLCBcIm1tXCIpLFxuICAgIGhlaWdodDogbmV3IENzcy5OdW1lcmljKDI1NywgXCJtbVwiKSxcbiAgfSxcbiAgXCJqaXMtYjRcIjoge1xuICAgIHdpZHRoOiBuZXcgQ3NzLk51bWVyaWMoMjU3LCBcIm1tXCIpLFxuICAgIGhlaWdodDogbmV3IENzcy5OdW1lcmljKDM2NCwgXCJtbVwiKSxcbiAgfSxcbiAgbGV0dGVyOiB7XG4gICAgd2lkdGg6IG5ldyBDc3MuTnVtZXJpYyg4LjUsIFwiaW5cIiksXG4gICAgaGVpZ2h0OiBuZXcgQ3NzLk51bWVyaWMoMTEsIFwiaW5cIiksXG4gIH0sXG4gIGxlZ2FsOiB7XG4gICAgd2lkdGg6IG5ldyBDc3MuTnVtZXJpYyg4LjUsIFwiaW5cIiksXG4gICAgaGVpZ2h0OiBuZXcgQ3NzLk51bWVyaWMoMTQsIFwiaW5cIiksXG4gIH0sXG4gIGxlZGdlcjoge1xuICAgIHdpZHRoOiBuZXcgQ3NzLk51bWVyaWMoMTEsIFwiaW5cIiksXG4gICAgaGVpZ2h0OiBuZXcgQ3NzLk51bWVyaWMoMTcsIFwiaW5cIiksXG4gIH0sXG59O1xuXG4vKipcbiAqIERlZmF1bHQgdmFsdWUgZm9yIGxpbmUgd2lkdGggb2YgcHJpbnRlciBtYXJrc1xuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFByaW50ZXJNYXJrTGluZVdpZHRoOiBDc3MuTnVtZXJpYyA9IG5ldyBDc3MuTnVtZXJpYyhcbiAgMC4yNCxcbiAgXCJwdFwiLFxuKTtcblxuLyoqXG4gKiBEZWZhdWx0IHZhbHVlIGZvciBkaXN0YW5jZSBiZXR3ZWVuIGFuIGVkZ2Ugb2YgdGhlIHBhZ2UgYW5kIHByaW50ZXIgbWFya3NcbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRQcmludGVyTWFya09mZnNldDogQ3NzLk51bWVyaWMgPSBuZXcgQ3NzLk51bWVyaWMoMywgXCJtbVwiKTtcblxuLyoqXG4gKiBEZWZhdWx0IHZhbHVlIGZvciBsaW5lIGxlbmd0aCBvZiB0aGUgKHNob3J0ZXIpIGxpbmUgb2YgYSBjcm9wIG1hcmsgYW5kIHRoZVxuICogc2hvcnRlciBsaW5lIG9mIGEgY3Jvc3MgbWFya1xuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFByaW50ZXJNYXJrTGluZUxlbmd0aDogQ3NzLk51bWVyaWMgPSBuZXcgQ3NzLk51bWVyaWMoXG4gIDEwLFxuICBcIm1tXCIsXG4pO1xuXG4vKipcbiAqIERlZmF1bHQgdmFsdWUgZm9yIGJsZWVkIG9mZnNldCAoPSBkZWZhdWx0UHJpbnRlck1hcmtPZmZzZXQgK1xuICogZGVmYXVsdFByaW50ZXJNYXJrTGluZUxlbmd0aClcbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRCbGVlZE9mZnNldDogQ3NzLk51bWVyaWMgPSBuZXcgQ3NzLk51bWVyaWMoMyArIDEwLCBcIm1tXCIpO1xuXG5leHBvcnQgdHlwZSBQYWdlU2l6ZUFuZEJsZWVkID0ge1xuICB3aWR0aDogQ3NzLk51bWVyaWM7XG4gIGhlaWdodDogQ3NzLk51bWVyaWM7XG4gIGJsZWVkOiBDc3MuTnVtZXJpYztcbiAgYmxlZWRPZmZzZXQ6IENzcy5OdW1lcmljO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVQYWdlU2l6ZUFuZEJsZWVkKHN0eWxlOiB7XG4gIFtrZXk6IHN0cmluZ106IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlO1xufSk6IFBhZ2VTaXplQW5kQmxlZWQge1xuICAvLyBkZWZhdWx0IHZhbHVlIChmaXQgdG8gdmlld3BvcnQsIG5vIGJsZWVkKVxuICBjb25zdCBwYWdlU2l6ZUFuZEJsZWVkOiBQYWdlU2l6ZUFuZEJsZWVkID0ge1xuICAgIHdpZHRoOiBDc3MuZnVsbFdpZHRoLFxuICAgIGhlaWdodDogQ3NzLmZ1bGxIZWlnaHQsXG4gICAgYmxlZWQ6IENzcy5udW1lcmljWmVybyxcbiAgICBibGVlZE9mZnNldDogQ3NzLm51bWVyaWNaZXJvLFxuICB9O1xuICBjb25zdCBzaXplOiBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZSA9IHN0eWxlW1wic2l6ZVwiXTtcblxuICBpZiAoIXNpemUgfHwgc2l6ZS52YWx1ZSA9PT0gQ3NzLmlkZW50LmF1dG8pIHtcbiAgICAvLyBpZiBzaXplIGlzIGF1dG8sIGZpdCB0byB0aGUgdmlld3BvcnQgKHVzZSBkZWZhdWx0IHZhbHVlKVxuICB9IGVsc2Uge1xuICAgIC8qKiAhdHlwZSB7IUNzcy5WYWx9ICovXG4gICAgY29uc3QgdmFsdWUgPSBzaXplLnZhbHVlO1xuICAgIGxldCB2YWwxOiBDc3MuVmFsO1xuICAgIGxldCB2YWwyOiBDc3MuVmFsO1xuICAgIGlmICh2YWx1ZS5pc1NwYWNlTGlzdCgpKSB7XG4gICAgICB2YWwxID0gKHZhbHVlIGFzIENzcy5TcGFjZUxpc3QpLnZhbHVlc1swXTtcbiAgICAgIHZhbDIgPSAodmFsdWUgYXMgQ3NzLlNwYWNlTGlzdCkudmFsdWVzWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWwxID0gdmFsdWU7XG4gICAgICB2YWwyID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHZhbDEuaXNOdW1lcmljKCkpIHtcbiAgICAgIC8vIDxsZW5ndGg+ezEsMn1cbiAgICAgIHBhZ2VTaXplQW5kQmxlZWQud2lkdGggPSB2YWwxIGFzIENzcy5OdW1lcmljO1xuICAgICAgcGFnZVNpemVBbmRCbGVlZC5oZWlnaHQgPSAodmFsMiB8fCB2YWwxKSBhcyBDc3MuTnVtZXJpYztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gPHBhZ2Utc2l6ZT4gfHwgWyBwb3J0cmFpdCB8IGxhbmRzY2FwZSBdXG4gICAgICBjb25zdCBzID1cbiAgICAgICAgKHZhbDEgYXMgYW55KS5uYW1lICYmIHBhZ2VTaXplc1sodmFsMSBhcyBDc3MuSWRlbnQpLm5hbWUudG9Mb3dlckNhc2UoKV07XG4gICAgICBpZiAoIXMpIHtcbiAgICAgICAgLy8gcG9ydHJhaXQgb3IgbGFuZHNjYXBlIGlzIHNwZWNpZmllZCBhbG9uZS4gZmFsbGJhY2sgdG8gZml0IHRvIHRoZVxuICAgICAgICAvLyB2aWV3cG9ydCAodXNlIGRlZmF1bHQgdmFsdWUpXG4gICAgICB9IGVsc2UgaWYgKHZhbDIgJiYgdmFsMiA9PT0gQ3NzLmlkZW50LmxhbmRzY2FwZSkge1xuICAgICAgICAvLyBzd2FwXG4gICAgICAgIHBhZ2VTaXplQW5kQmxlZWQud2lkdGggPSBzLmhlaWdodDtcbiAgICAgICAgcGFnZVNpemVBbmRCbGVlZC5oZWlnaHQgPSBzLndpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcmV0dXJuIHtcbiAgICAgICAgcGFnZVNpemVBbmRCbGVlZC53aWR0aCA9IHMud2lkdGg7XG4gICAgICAgIHBhZ2VTaXplQW5kQmxlZWQuaGVpZ2h0ID0gcy5oZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IG1hcmtzID0gc3R5bGVbXCJtYXJrc1wiXTtcbiAgaWYgKG1hcmtzICYmIG1hcmtzLnZhbHVlICE9PSBDc3MuaWRlbnQubm9uZSkge1xuICAgIHBhZ2VTaXplQW5kQmxlZWQuYmxlZWRPZmZzZXQgPSBkZWZhdWx0QmxlZWRPZmZzZXQ7XG4gIH1cbiAgY29uc3QgYmxlZWQgPSBzdHlsZVtcImJsZWVkXCJdO1xuICBpZiAoIWJsZWVkIHx8IGJsZWVkLnZhbHVlID09PSBDc3MuaWRlbnQuYXV0bykge1xuICAgIC8vIFwiKCdhdXRvJyB2YWx1ZSkgQ29tcHV0ZXMgdG8gNnB0IGlmIG1hcmtzIGhhcyBjcm9wIGFuZCB0byB6ZXJvXG4gICAgLy8gb3RoZXJ3aXNlLlwiIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtcGFnZS8jdmFsZGVmLXBhZ2UtYmxlZWQtYXV0b1xuICAgIGlmIChtYXJrcykge1xuICAgICAgbGV0IGhhc0Nyb3AgPSBmYWxzZTtcbiAgICAgIGlmIChtYXJrcy52YWx1ZS5pc1NwYWNlTGlzdCgpKSB7XG4gICAgICAgIGhhc0Nyb3AgPSAobWFya3MudmFsdWUgYXMgQ3NzLlNwYWNlTGlzdCkudmFsdWVzLnNvbWUoXG4gICAgICAgICAgKHYpID0+IHYgPT09IENzcy5pZGVudC5jcm9wLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGFzQ3JvcCA9IG1hcmtzLnZhbHVlID09PSBDc3MuaWRlbnQuY3JvcDtcbiAgICAgIH1cbiAgICAgIGlmIChoYXNDcm9wKSB7XG4gICAgICAgIHBhZ2VTaXplQW5kQmxlZWQuYmxlZWQgPSBuZXcgQ3NzLk51bWVyaWMoNiwgXCJwdFwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoYmxlZWQudmFsdWUgJiYgYmxlZWQudmFsdWUuaXNOdW1lcmljKCkpIHtcbiAgICBwYWdlU2l6ZUFuZEJsZWVkLmJsZWVkID0gYmxlZWQudmFsdWUgYXMgQ3NzLk51bWVyaWM7XG4gIH1cbiAgcmV0dXJuIHBhZ2VTaXplQW5kQmxlZWQ7XG59XG5cbmV4cG9ydCB0eXBlIEV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQgPSB7XG4gIHBhZ2VXaWR0aDogbnVtYmVyO1xuICBwYWdlSGVpZ2h0OiBudW1iZXI7XG4gIGJsZWVkOiBudW1iZXI7XG4gIGJsZWVkT2Zmc2V0OiBudW1iZXI7XG4gIGNyb3BPZmZzZXQ6IG51bWJlcjtcbn07XG5cbi8qKlxuICogRXZhbHVhdGUgYWN0dWFsIHBhZ2Ugd2lkdGgsIGhlaWdodCBhbmQgYmxlZWQgZnJvbSBzdHlsZSBzcGVjaWZpZWQgaW4gcGFnZVxuICogY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2YWx1YXRlUGFnZVNpemVBbmRCbGVlZChcbiAgcGFnZVNpemVBbmRCbGVlZDogUGFnZVNpemVBbmRCbGVlZCxcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbik6IEV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQge1xuICBjb25zdCBldmFsdWF0ZWQgPSB7fSBhcyBFdmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkO1xuICBjb25zdCBibGVlZCA9XG4gICAgcGFnZVNpemVBbmRCbGVlZC5ibGVlZC5udW0gKlxuICAgIGNvbnRleHQucXVlcnlVbml0U2l6ZShwYWdlU2l6ZUFuZEJsZWVkLmJsZWVkLnVuaXQsIGZhbHNlKTtcbiAgY29uc3QgYmxlZWRPZmZzZXQgPVxuICAgIHBhZ2VTaXplQW5kQmxlZWQuYmxlZWRPZmZzZXQubnVtICpcbiAgICBjb250ZXh0LnF1ZXJ5VW5pdFNpemUocGFnZVNpemVBbmRCbGVlZC5ibGVlZE9mZnNldC51bml0LCBmYWxzZSk7XG4gIGNvbnN0IGNyb3BPZmZzZXQgPSBibGVlZCArIGJsZWVkT2Zmc2V0O1xuICBjb25zdCB3aWR0aCA9IHBhZ2VTaXplQW5kQmxlZWQud2lkdGg7XG4gIGlmICh3aWR0aCA9PT0gQ3NzLmZ1bGxXaWR0aCkge1xuICAgIGlmIChjb250ZXh0LnByZWYuZGVmYXVsdFBhcGVyU2l6ZSkge1xuICAgICAgZXZhbHVhdGVkLnBhZ2VXaWR0aCA9XG4gICAgICAgIGNvbnRleHQucHJlZi5kZWZhdWx0UGFwZXJTaXplLndpZHRoICpcbiAgICAgICAgY29udGV4dC5xdWVyeVVuaXRTaXplKFwicHhcIiwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBldmFsdWF0ZWQucGFnZVdpZHRoID1cbiAgICAgICAgKGNvbnRleHQucHJlZi5zcHJlYWRWaWV3XG4gICAgICAgICAgPyBNYXRoLmZsb29yKGNvbnRleHQudmlld3BvcnRXaWR0aCAvIDIpIC0gY29udGV4dC5wcmVmLnBhZ2VCb3JkZXJcbiAgICAgICAgICA6IGNvbnRleHQudmlld3BvcnRXaWR0aCkgLVxuICAgICAgICBjcm9wT2Zmc2V0ICogMjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZXZhbHVhdGVkLnBhZ2VXaWR0aCA9IHdpZHRoLm51bSAqIGNvbnRleHQucXVlcnlVbml0U2l6ZSh3aWR0aC51bml0LCBmYWxzZSk7XG4gIH1cbiAgY29uc3QgaGVpZ2h0ID0gcGFnZVNpemVBbmRCbGVlZC5oZWlnaHQ7XG4gIGlmIChoZWlnaHQgPT09IENzcy5mdWxsSGVpZ2h0KSB7XG4gICAgaWYgKGNvbnRleHQucHJlZi5kZWZhdWx0UGFwZXJTaXplKSB7XG4gICAgICBldmFsdWF0ZWQucGFnZUhlaWdodCA9XG4gICAgICAgIGNvbnRleHQucHJlZi5kZWZhdWx0UGFwZXJTaXplLmhlaWdodCAqXG4gICAgICAgIGNvbnRleHQucXVlcnlVbml0U2l6ZShcInB4XCIsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXZhbHVhdGVkLnBhZ2VIZWlnaHQgPSBjb250ZXh0LnZpZXdwb3J0SGVpZ2h0IC0gY3JvcE9mZnNldCAqIDI7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGV2YWx1YXRlZC5wYWdlSGVpZ2h0ID1cbiAgICAgIGhlaWdodC5udW0gKiBjb250ZXh0LnF1ZXJ5VW5pdFNpemUoaGVpZ2h0LnVuaXQsIGZhbHNlKTtcbiAgfVxuICBldmFsdWF0ZWQuYmxlZWQgPSBibGVlZDtcbiAgZXZhbHVhdGVkLmJsZWVkT2Zmc2V0ID0gYmxlZWRPZmZzZXQ7XG4gIGV2YWx1YXRlZC5jcm9wT2Zmc2V0ID0gY3JvcE9mZnNldDtcbiAgcmV0dXJuIGV2YWx1YXRlZDtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gJ3N2ZycgZWxlbWVudCBmb3IgYSBwcmludGVyIG1hcmsuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcmludGVyTWFya1N2ZyhcbiAgZG9jOiBEb2N1bWVudCxcbiAgd2lkdGg6IG51bWJlcixcbiAgaGVpZ2h0OiBudW1iZXIsXG4pOiBFbGVtZW50IHtcbiAgY29uc3QgbWFyayA9IGRvYy5jcmVhdGVFbGVtZW50TlMoQmFzZS5OUy5TVkcsIFwic3ZnXCIpO1xuICBtYXJrLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHdpZHRoKTtcbiAgbWFyay5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgaGVpZ2h0KTtcbiAgbWFyay5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgcmV0dXJuIG1hcms7XG59XG5cbi8qKlxuICogQ3JlYXRlIGFuIFNWRyBlbGVtZW50IGZvciBhIHByaW50ZXIgbWFyayBsaW5lLlxuICogQHBhcmFtIGVsZW1lbnRUeXBlIFNwZWNpZmllcyB3aGljaCB0eXBlIG9mIGVsZW1lbnQgdG8gY3JlYXRlLiBEZWZhdWx0IHZhbHVlXG4gKiAgICAgaXMgXCJwb2x5bGluZVwiLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJpbnRlck1hcmtFbGVtZW50KFxuICBkb2M6IERvY3VtZW50LFxuICBsaW5lV2lkdGg6IG51bWJlcixcbiAgZWxlbWVudFR5cGU/OiBzdHJpbmcsXG4pOiBFbGVtZW50IHtcbiAgZWxlbWVudFR5cGUgPSBlbGVtZW50VHlwZSB8fCBcInBvbHlsaW5lXCI7XG4gIGNvbnN0IGxpbmUgPSBkb2MuY3JlYXRlRWxlbWVudE5TKEJhc2UuTlMuU1ZHLCBlbGVtZW50VHlwZSk7XG4gIGxpbmUuc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsIFwiYmxhY2tcIik7XG4gIGxpbmUuc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsIGxpbmVXaWR0aCk7XG4gIGxpbmUuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBcIm5vbmVcIik7XG4gIHJldHVybiBsaW5lO1xufVxuXG4vKipcbiAqIFBvc2l0aW9uIG9mIGEgY29ybmVyIG1hcmtcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIENvcm5lck1hcmtQb3NpdGlvbiB7XG4gIFRPUF9MRUZUID0gXCJ0b3AgbGVmdFwiLFxuICBUT1BfUklHSFQgPSBcInRvcCByaWdodFwiLFxuICBCT1RUT01fTEVGVCA9IFwiYm90dG9tIGxlZnRcIixcbiAgQk9UVE9NX1JJR0hUID0gXCJib3R0b20gcmlnaHRcIixcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBjb3JuZXIgbWFyay5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvcm5lck1hcmsoXG4gIGRvYzogRG9jdW1lbnQsXG4gIHBvc2l0aW9uOiBDb3JuZXJNYXJrUG9zaXRpb24sXG4gIGxpbmVXaWR0aDogbnVtYmVyLFxuICBjcm9wTWFya0xpbmVMZW5ndGg6IG51bWJlcixcbiAgYmxlZWQ6IG51bWJlcixcbiAgb2Zmc2V0OiBudW1iZXIsXG4pOiBFbGVtZW50IHtcbiAgbGV0IGJsZWVkTWFya0xpbmVMZW5ndGggPSBjcm9wTWFya0xpbmVMZW5ndGg7XG5cbiAgLy8gYmxlZWQgbWFyayBsaW5lIHNob3VsZCBiZSBsb25nZXIgdGhhbiBibGVlZCArIDJtbVxuICBpZiAoYmxlZWRNYXJrTGluZUxlbmd0aCA8PSBibGVlZCArIDIgKiBFeHBycy5kZWZhdWx0VW5pdFNpemVzW1wibW1cIl0pIHtcbiAgICBibGVlZE1hcmtMaW5lTGVuZ3RoID0gYmxlZWQgKyBjcm9wTWFya0xpbmVMZW5ndGggLyAyO1xuICB9XG4gIGNvbnN0IG1heExpbmVMZW5ndGggPSBNYXRoLm1heChjcm9wTWFya0xpbmVMZW5ndGgsIGJsZWVkTWFya0xpbmVMZW5ndGgpO1xuICBjb25zdCBzdmdXaWR0aCA9IGJsZWVkICsgbWF4TGluZUxlbmd0aCArIGxpbmVXaWR0aCAvIDI7XG4gIGNvbnN0IG1hcmsgPSBjcmVhdGVQcmludGVyTWFya1N2Zyhkb2MsIHN2Z1dpZHRoLCBzdmdXaWR0aCk7XG4gIGxldCBwb2ludHMxID0gW1xuICAgIFswLCBibGVlZCArIGNyb3BNYXJrTGluZUxlbmd0aF0sXG4gICAgW2Nyb3BNYXJrTGluZUxlbmd0aCwgYmxlZWQgKyBjcm9wTWFya0xpbmVMZW5ndGhdLFxuICAgIFtjcm9wTWFya0xpbmVMZW5ndGgsIGJsZWVkICsgY3JvcE1hcmtMaW5lTGVuZ3RoIC0gYmxlZWRNYXJrTGluZUxlbmd0aF0sXG4gIF07XG5cbiAgLy8gcmVmbGVjdCB3aXRoIHJlc3BlY3QgdG8geT14XG4gIGxldCBwb2ludHMyID0gcG9pbnRzMS5tYXAoKHApID0+IFtwWzFdLCBwWzBdXSk7XG4gIGlmIChcbiAgICBwb3NpdGlvbiA9PT0gQ29ybmVyTWFya1Bvc2l0aW9uLlRPUF9SSUdIVCB8fFxuICAgIHBvc2l0aW9uID09PSBDb3JuZXJNYXJrUG9zaXRpb24uQk9UVE9NX1JJR0hUXG4gICkge1xuICAgIC8vIHJlZmxlY3Qgd2l0aCByZXNwZWN0IHRvIGEgdmVydGljYWwgYXhpc1xuICAgIHBvaW50czEgPSBwb2ludHMxLm1hcCgocCkgPT4gW2JsZWVkICsgbWF4TGluZUxlbmd0aCAtIHBbMF0sIHBbMV1dKTtcbiAgICBwb2ludHMyID0gcG9pbnRzMi5tYXAoKHApID0+IFtibGVlZCArIG1heExpbmVMZW5ndGggLSBwWzBdLCBwWzFdXSk7XG4gIH1cbiAgaWYgKFxuICAgIHBvc2l0aW9uID09PSBDb3JuZXJNYXJrUG9zaXRpb24uQk9UVE9NX0xFRlQgfHxcbiAgICBwb3NpdGlvbiA9PT0gQ29ybmVyTWFya1Bvc2l0aW9uLkJPVFRPTV9SSUdIVFxuICApIHtcbiAgICAvLyByZWZsZWN0IHdpdGggcmVzcGVjdCB0byBhIHZlcnRpY2FsIGF4aXNcbiAgICBwb2ludHMxID0gcG9pbnRzMS5tYXAoKHApID0+IFtwWzBdLCBibGVlZCArIG1heExpbmVMZW5ndGggLSBwWzFdXSk7XG4gICAgcG9pbnRzMiA9IHBvaW50czIubWFwKChwKSA9PiBbcFswXSwgYmxlZWQgKyBtYXhMaW5lTGVuZ3RoIC0gcFsxXV0pO1xuICB9XG4gIGNvbnN0IGxpbmUxID0gY3JlYXRlUHJpbnRlck1hcmtFbGVtZW50KGRvYywgbGluZVdpZHRoKTtcbiAgbGluZTEuc2V0QXR0cmlidXRlKFwicG9pbnRzXCIsIHBvaW50czEubWFwKChwKSA9PiBwLmpvaW4oXCIsXCIpKS5qb2luKFwiIFwiKSk7XG4gIG1hcmsuYXBwZW5kQ2hpbGQobGluZTEpO1xuICBjb25zdCBsaW5lMiA9IGNyZWF0ZVByaW50ZXJNYXJrRWxlbWVudChkb2MsIGxpbmVXaWR0aCk7XG4gIGxpbmUyLnNldEF0dHJpYnV0ZShcInBvaW50c1wiLCBwb2ludHMyLm1hcCgocCkgPT4gcC5qb2luKFwiLFwiKSkuam9pbihcIiBcIikpO1xuICBtYXJrLmFwcGVuZENoaWxkKGxpbmUyKTtcbiAgcG9zaXRpb24uc3BsaXQoXCIgXCIpLmZvckVhY2goKHNpZGUpID0+IHtcbiAgICAobWFyayBhcyBhbnkpLnN0eWxlW3NpZGVdID0gYCR7b2Zmc2V0fXB4YDtcbiAgfSk7XG4gIHJldHVybiBtYXJrO1xufVxuXG4vKipcbiAqIFBvc2l0aW9uIG9mIGEgY3Jvc3MgbWFya1xuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gQ3Jvc3NNYXJrUG9zaXRpb24ge1xuICBUT1AgPSBcInRvcFwiLFxuICBCT1RUT00gPSBcImJvdHRvbVwiLFxuICBMRUZUID0gXCJsZWZ0XCIsXG4gIFJJR0hUID0gXCJyaWdodFwiLFxufVxuXG4vKipcbiAqIENyZWF0ZSBhIGNyb3NzIG1hcmsuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDcm9zc01hcmsoXG4gIGRvYzogRG9jdW1lbnQsXG4gIHBvc2l0aW9uOiBDcm9zc01hcmtQb3NpdGlvbixcbiAgbGluZVdpZHRoOiBudW1iZXIsXG4gIGxpbmVMZW5ndGg6IG51bWJlcixcbiAgb2Zmc2V0OiBudW1iZXIsXG4pOiBFbGVtZW50IHtcbiAgY29uc3QgbG9uZ0xpbmVMZW5ndGggPSBsaW5lTGVuZ3RoICogMjtcbiAgbGV0IHdpZHRoOiBudW1iZXI7XG4gIGxldCBoZWlnaHQ6IG51bWJlcjtcbiAgaWYgKFxuICAgIHBvc2l0aW9uID09PSBDcm9zc01hcmtQb3NpdGlvbi5UT1AgfHxcbiAgICBwb3NpdGlvbiA9PT0gQ3Jvc3NNYXJrUG9zaXRpb24uQk9UVE9NXG4gICkge1xuICAgIHdpZHRoID0gbG9uZ0xpbmVMZW5ndGg7XG4gICAgaGVpZ2h0ID0gbGluZUxlbmd0aDtcbiAgfSBlbHNlIHtcbiAgICB3aWR0aCA9IGxpbmVMZW5ndGg7XG4gICAgaGVpZ2h0ID0gbG9uZ0xpbmVMZW5ndGg7XG4gIH1cbiAgY29uc3QgbWFyayA9IGNyZWF0ZVByaW50ZXJNYXJrU3ZnKGRvYywgd2lkdGgsIGhlaWdodCk7XG4gIGNvbnN0IGhvcml6b250YWxMaW5lID0gY3JlYXRlUHJpbnRlck1hcmtFbGVtZW50KGRvYywgbGluZVdpZHRoKTtcbiAgaG9yaXpvbnRhbExpbmUuc2V0QXR0cmlidXRlKFxuICAgIFwicG9pbnRzXCIsXG4gICAgYDAsJHtoZWlnaHQgLyAyfSAke3dpZHRofSwke2hlaWdodCAvIDJ9YCxcbiAgKTtcbiAgbWFyay5hcHBlbmRDaGlsZChob3Jpem9udGFsTGluZSk7XG4gIGNvbnN0IHZlcnRpY2FsTGluZSA9IGNyZWF0ZVByaW50ZXJNYXJrRWxlbWVudChkb2MsIGxpbmVXaWR0aCk7XG4gIHZlcnRpY2FsTGluZS5zZXRBdHRyaWJ1dGUoXCJwb2ludHNcIiwgYCR7d2lkdGggLyAyfSwwICR7d2lkdGggLyAyfSwke2hlaWdodH1gKTtcbiAgbWFyay5hcHBlbmRDaGlsZCh2ZXJ0aWNhbExpbmUpO1xuICBjb25zdCBjaXJjbGUgPSBjcmVhdGVQcmludGVyTWFya0VsZW1lbnQoZG9jLCBsaW5lV2lkdGgsIFwiY2lyY2xlXCIpO1xuICBjaXJjbGUuc2V0QXR0cmlidXRlKFwiY3hcIiwgd2lkdGggLyAyKTtcbiAgY2lyY2xlLnNldEF0dHJpYnV0ZShcImN5XCIsIGhlaWdodCAvIDIpO1xuICBjaXJjbGUuc2V0QXR0cmlidXRlKFwiclwiLCBsaW5lTGVuZ3RoIC8gNCk7XG4gIG1hcmsuYXBwZW5kQ2hpbGQoY2lyY2xlKTtcbiAgbGV0IG9wcG9zaXRlOiBDcm9zc01hcmtQb3NpdGlvbjtcbiAgc3dpdGNoIChwb3NpdGlvbikge1xuICAgIGNhc2UgQ3Jvc3NNYXJrUG9zaXRpb24uVE9QOlxuICAgICAgb3Bwb3NpdGUgPSBDcm9zc01hcmtQb3NpdGlvbi5CT1RUT007XG4gICAgICBicmVhaztcbiAgICBjYXNlIENyb3NzTWFya1Bvc2l0aW9uLkJPVFRPTTpcbiAgICAgIG9wcG9zaXRlID0gQ3Jvc3NNYXJrUG9zaXRpb24uVE9QO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBDcm9zc01hcmtQb3NpdGlvbi5MRUZUOlxuICAgICAgb3Bwb3NpdGUgPSBDcm9zc01hcmtQb3NpdGlvbi5SSUdIVDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQ3Jvc3NNYXJrUG9zaXRpb24uUklHSFQ6XG4gICAgICBvcHBvc2l0ZSA9IENyb3NzTWFya1Bvc2l0aW9uLkxFRlQ7XG4gICAgICBicmVhaztcbiAgfVxuICBPYmplY3Qua2V5cyhDcm9zc01hcmtQb3NpdGlvbikuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgY29uc3Qgc2lkZSA9IENyb3NzTWFya1Bvc2l0aW9uW2tleV07XG4gICAgaWYgKHNpZGUgPT09IHBvc2l0aW9uKSB7XG4gICAgICAobWFyayBhcyBhbnkpLnN0eWxlW3NpZGVdID0gYCR7b2Zmc2V0fXB4YDtcbiAgICB9IGVsc2UgaWYgKHNpZGUgIT09IG9wcG9zaXRlKSB7XG4gICAgICAobWFyayBhcyBhbnkpLnN0eWxlW3NpZGVdID0gXCIwXCI7XG4gICAgICAobWFyayBhcyBhbnkpLnN0eWxlW2BtYXJnaW4tJHtzaWRlfWBdID0gXCJhdXRvXCI7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG1hcms7XG59XG5cbi8qKlxuICogQWRkIHByaW50ZXIgbWFya3MgdG8gdGhlIHBhZ2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRQcmludGVyTWFya3MoXG4gIGNhc2NhZGVkUGFnZVN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZDogRXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZCxcbiAgcGFnZTogVnRyZWUuUGFnZSxcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbik6IHZvaWQge1xuICBsZXQgY3JvcCA9IGZhbHNlO1xuICBsZXQgY3Jvc3MgPSBmYWxzZTtcbiAgY29uc3QgbWFya3MgPSBjYXNjYWRlZFBhZ2VTdHlsZVtcIm1hcmtzXCJdO1xuICBpZiAobWFya3MpIHtcbiAgICBjb25zdCB2YWx1ZSA9IG1hcmtzLnZhbHVlO1xuICAgIGlmICh2YWx1ZS5pc1NwYWNlTGlzdCgpKSB7XG4gICAgICB2YWx1ZS52YWx1ZXMuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICBpZiAodiA9PT0gQ3NzLmlkZW50LmNyb3ApIHtcbiAgICAgICAgICBjcm9wID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICh2ID09PSBDc3MuaWRlbnQuY3Jvc3MpIHtcbiAgICAgICAgICBjcm9zcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IENzcy5pZGVudC5jcm9wKSB7XG4gICAgICBjcm9wID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBDc3MuaWRlbnQuY3Jvc3MpIHtcbiAgICAgIGNyb3NzID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKCFjcm9wICYmICFjcm9zcykge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBjb250YWluZXIgPSBwYWdlLmNvbnRhaW5lcjtcbiAgY29uc3QgZG9jID0gY29udGFpbmVyLm93bmVyRG9jdW1lbnQgYXMgRG9jdW1lbnQ7XG4gIEFzc2VydHMuYXNzZXJ0KGRvYyk7XG4gIGNvbnN0IGJsZWVkID0gZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5ibGVlZDtcbiAgY29uc3QgbGluZVdpZHRoID0gQ3NzLnRvTnVtYmVyKGRlZmF1bHRQcmludGVyTWFya0xpbmVXaWR0aCwgY29udGV4dCk7XG4gIGNvbnN0IHByaW50ZXJNYXJrT2Zmc2V0ID0gQ3NzLnRvTnVtYmVyKGRlZmF1bHRQcmludGVyTWFya09mZnNldCwgY29udGV4dCk7XG4gIGNvbnN0IGxpbmVMZW5ndGggPSBDc3MudG9OdW1iZXIoZGVmYXVsdFByaW50ZXJNYXJrTGluZUxlbmd0aCwgY29udGV4dCk7XG5cbiAgaWYgKGJsZWVkKSB7XG4gICAgY29uc3QgYmdjb2xvciA9IGNhc2NhZGVkUGFnZVN0eWxlW1wiYmFja2dyb3VuZC1jb2xvclwiXTtcbiAgICBpZiAoYmdjb2xvciAmJiBiZ2NvbG9yLnZhbHVlKSB7XG4gICAgICBwYWdlLmJsZWVkQm94LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJnY29sb3IudmFsdWUuc3RyaW5nVmFsdWUoKTtcbiAgICB9XG4gIH1cblxuICAvLyBjb3JuZXIgbWFya3NcbiAgaWYgKGNyb3ApIHtcbiAgICBPYmplY3Qua2V5cyhDb3JuZXJNYXJrUG9zaXRpb24pLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBDb3JuZXJNYXJrUG9zaXRpb25ba2V5XTtcbiAgICAgIGNvbnN0IG1hcmsgPSBjcmVhdGVDb3JuZXJNYXJrKFxuICAgICAgICBkb2MsXG4gICAgICAgIHBvc2l0aW9uLFxuICAgICAgICBsaW5lV2lkdGgsXG4gICAgICAgIGxpbmVMZW5ndGgsXG4gICAgICAgIGJsZWVkLFxuICAgICAgICBwcmludGVyTWFya09mZnNldCxcbiAgICAgICk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobWFyayk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBjcm9zcyBtYXJrc1xuICBpZiAoY3Jvc3MpIHtcbiAgICBPYmplY3Qua2V5cyhDcm9zc01hcmtQb3NpdGlvbikuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IENyb3NzTWFya1Bvc2l0aW9uW2tleV07XG4gICAgICBjb25zdCBtYXJrID0gY3JlYXRlQ3Jvc3NNYXJrKFxuICAgICAgICBkb2MsXG4gICAgICAgIHBvc2l0aW9uLFxuICAgICAgICBsaW5lV2lkdGgsXG4gICAgICAgIGxpbmVMZW5ndGgsXG4gICAgICAgIHByaW50ZXJNYXJrT2Zmc2V0LFxuICAgICAgKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChtYXJrKTtcbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFByb3BlcnRpZXMgdHJhbnNmZXJlZCBmcm9tIHRoZSBQYWdlUnVsZU1hc3RlciB0byB0aGUgUGFnZVJ1bGVQYXJ0aXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IHByb3BlcnRpZXNBcHBsaWVkVG9QYXJ0aXRpb24gPSAoKCkgPT4ge1xuICBjb25zdCBzaWRlcyA9IFtcbiAgICBcImxlZnRcIixcbiAgICBcInJpZ2h0XCIsXG4gICAgXCJ0b3BcIixcbiAgICBcImJvdHRvbVwiLFxuICAgIFwiYmVmb3JlXCIsXG4gICAgXCJhZnRlclwiLFxuICAgIFwic3RhcnRcIixcbiAgICBcImVuZFwiLFxuICAgIFwiYmxvY2stc3RhcnRcIixcbiAgICBcImJsb2NrLWVuZFwiLFxuICAgIFwiaW5saW5lLXN0YXJ0XCIsXG4gICAgXCJpbmxpbmUtZW5kXCIsXG4gIF07XG4gIGNvbnN0IHByb3BzID0ge1xuICAgIHdpZHRoOiB0cnVlLFxuICAgIGhlaWdodDogdHJ1ZSxcbiAgICBcImJsb2NrLXNpemVcIjogdHJ1ZSxcbiAgICBcImlubGluZS1zaXplXCI6IHRydWUsXG4gICAgbWFyZ2luOiB0cnVlLFxuICAgIHBhZGRpbmc6IHRydWUsXG4gICAgYm9yZGVyOiB0cnVlLFxuICAgIG91dGxpbmU6IHRydWUsXG4gICAgXCJvdXRsaW5lLXdpZHRoXCI6IHRydWUsXG4gICAgXCJvdXRsaW5lLXN0eWxlXCI6IHRydWUsXG4gICAgXCJvdXRsaW5lLWNvbG9yXCI6IHRydWUsXG4gIH07XG4gIHNpZGVzLmZvckVhY2goKHNpZGUpID0+IHtcbiAgICBwcm9wc1tgbWFyZ2luLSR7c2lkZX1gXSA9IHRydWU7XG4gICAgcHJvcHNbYHBhZGRpbmctJHtzaWRlfWBdID0gdHJ1ZTtcbiAgICBwcm9wc1tgYm9yZGVyLSR7c2lkZX0td2lkdGhgXSA9IHRydWU7XG4gICAgcHJvcHNbYGJvcmRlci0ke3NpZGV9LXN0eWxlYF0gPSB0cnVlO1xuICAgIHByb3BzW2Bib3JkZXItJHtzaWRlfS1jb2xvcmBdID0gdHJ1ZTtcbiAgfSk7XG4gIHJldHVybiBwcm9wcztcbn0pKCk7XG5cbi8qKlxuICogUmVwcmVzZW50cyBwb3NpdGlvbiBvZiBhIG1hcmdpbiBib3ggYWxvbmcgdGhlIHZhcmlhYmxlIGRpbWVuc2lvbiBvZiB0aGUgcGFnZS5cbiAqIFNUQVJUIGFuZCBFTkQgY2FuIGJlIGludGVycHJldGVkIGFzICdpbmxpbmUtc3RhcnQnIGFuZCAnaW5saW5lLWVuZCcgaW5cbiAqIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIHdyaXRpbmcgbW9kZXMuIEZvciBleGFtcGxlLCBmb3IgdG9wIG1hcmdpbiBib3hlc1xuICogKEB0b3AtbGVmdC1jb3JuZXIsIEB0b3AtbGVmdCwgQHRvcC1jZW50ZXIsIEB0b3AtcmlnaHQsIEB0b3AtcmlnaHQtY29ybmVyKSxcbiAqIEB0b3AtbGVmdCBjb3JyZXNwb25kcyB0byBTVEFSVCwgQHRvcC1jZW50ZXIgdG8gQ0VOVEVSLCBhbmQgQHRvcC1yaWdodCB0byBFTkQuXG4gKiBUaGUgY29ybmVyIGJveGVzIChAdG9wLWxlZnQtY29ybmVyIGFuZCBAdG9wLXJpZ2h0LWNvcm5lcikgaGF2ZSBhICdudWxsJ1xuICogcG9zaXRpb24uXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24ge1xuICBTVEFSVCA9IFwic3RhcnRcIixcbiAgQ0VOVEVSID0gXCJjZW50ZXJcIixcbiAgRU5EID0gXCJlbmRcIixcbn1cblxuZXhwb3J0IHR5cGUgUGFnZU1hcmdpbkJveEluZm9ybWF0aW9uID0ge1xuICBvcmRlcjogbnVtYmVyO1xuICBpc0luVG9wUm93OiBib29sZWFuO1xuICBpc0luQm90dG9tUm93OiBib29sZWFuO1xuICBpc0luTGVmdENvbHVtbjogYm9vbGVhbjtcbiAgaXNJblJpZ2h0Q29sdW1uOiBib29sZWFuO1xuICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246IE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjtcbn07XG5cbi8qKlxuICogUGFnZS1tYXJnaW4gYm94ZXMuXG4gKiBAZGljdFxuICovXG5leHBvcnQgY29uc3QgcGFnZU1hcmdpbkJveGVzOiB7IFtrZXk6IHN0cmluZ106IFBhZ2VNYXJnaW5Cb3hJbmZvcm1hdGlvbiB9ID0ge1xuICBcInRvcC1sZWZ0LWNvcm5lclwiOiB7XG4gICAgb3JkZXI6IDEsXG4gICAgaXNJblRvcFJvdzogdHJ1ZSxcbiAgICBpc0luQm90dG9tUm93OiBmYWxzZSxcbiAgICBpc0luTGVmdENvbHVtbjogdHJ1ZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IHRydWUsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOiBudWxsLFxuICB9LFxuICBcInRvcC1sZWZ0XCI6IHtcbiAgICBvcmRlcjogMixcbiAgICBpc0luVG9wUm93OiB0cnVlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IGZhbHNlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiBmYWxzZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IGZhbHNlLFxuICAgIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjpcbiAgICAgIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5TVEFSVCxcbiAgfSxcbiAgXCJ0b3AtY2VudGVyXCI6IHtcbiAgICBvcmRlcjogMyxcbiAgICBpc0luVG9wUm93OiB0cnVlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IGZhbHNlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiBmYWxzZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IGZhbHNlLFxuICAgIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjpcbiAgICAgIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5DRU5URVIsXG4gIH0sXG4gIFwidG9wLXJpZ2h0XCI6IHtcbiAgICBvcmRlcjogNCxcbiAgICBpc0luVG9wUm93OiB0cnVlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IGZhbHNlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiBmYWxzZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IGZhbHNlLFxuICAgIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjogTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkVORCxcbiAgfSxcbiAgXCJ0b3AtcmlnaHQtY29ybmVyXCI6IHtcbiAgICBvcmRlcjogNSxcbiAgICBpc0luVG9wUm93OiB0cnVlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IGZhbHNlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiBmYWxzZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IHRydWUsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOiBudWxsLFxuICB9LFxuICBcInJpZ2h0LXRvcFwiOiB7XG4gICAgb3JkZXI6IDYsXG4gICAgaXNJblRvcFJvdzogZmFsc2UsXG4gICAgaXNJbkJvdHRvbVJvdzogZmFsc2UsXG4gICAgaXNJbkxlZnRDb2x1bW46IGZhbHNlLFxuICAgIGlzSW5SaWdodENvbHVtbjogdHJ1ZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246XG4gICAgICBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uU1RBUlQsXG4gIH0sXG4gIFwicmlnaHQtbWlkZGxlXCI6IHtcbiAgICBvcmRlcjogNyxcbiAgICBpc0luVG9wUm93OiBmYWxzZSxcbiAgICBpc0luQm90dG9tUm93OiBmYWxzZSxcbiAgICBpc0luTGVmdENvbHVtbjogZmFsc2UsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiB0cnVlLFxuICAgIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjpcbiAgICAgIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5DRU5URVIsXG4gIH0sXG4gIFwicmlnaHQtYm90dG9tXCI6IHtcbiAgICBvcmRlcjogOCxcbiAgICBpc0luVG9wUm93OiBmYWxzZSxcbiAgICBpc0luQm90dG9tUm93OiBmYWxzZSxcbiAgICBpc0luTGVmdENvbHVtbjogZmFsc2UsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiB0cnVlLFxuICAgIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjogTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkVORCxcbiAgfSxcbiAgXCJib3R0b20tcmlnaHQtY29ybmVyXCI6IHtcbiAgICBvcmRlcjogOSxcbiAgICBpc0luVG9wUm93OiBmYWxzZSxcbiAgICBpc0luQm90dG9tUm93OiB0cnVlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiBmYWxzZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IHRydWUsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOiBudWxsLFxuICB9LFxuICBcImJvdHRvbS1yaWdodFwiOiB7XG4gICAgb3JkZXI6IDEwLFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IHRydWUsXG4gICAgaXNJbkxlZnRDb2x1bW46IGZhbHNlLFxuICAgIGlzSW5SaWdodENvbHVtbjogZmFsc2UsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOiBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uRU5ELFxuICB9LFxuICBcImJvdHRvbS1jZW50ZXJcIjoge1xuICAgIG9yZGVyOiAxMSxcbiAgICBpc0luVG9wUm93OiBmYWxzZSxcbiAgICBpc0luQm90dG9tUm93OiB0cnVlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiBmYWxzZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IGZhbHNlLFxuICAgIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjpcbiAgICAgIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5DRU5URVIsXG4gIH0sXG4gIFwiYm90dG9tLWxlZnRcIjoge1xuICAgIG9yZGVyOiAxMixcbiAgICBpc0luVG9wUm93OiBmYWxzZSxcbiAgICBpc0luQm90dG9tUm93OiB0cnVlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiBmYWxzZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IGZhbHNlLFxuICAgIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjpcbiAgICAgIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5TVEFSVCxcbiAgfSxcbiAgXCJib3R0b20tbGVmdC1jb3JuZXJcIjoge1xuICAgIG9yZGVyOiAxMyxcbiAgICBpc0luVG9wUm93OiBmYWxzZSxcbiAgICBpc0luQm90dG9tUm93OiB0cnVlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiB0cnVlLFxuICAgIGlzSW5SaWdodENvbHVtbjogZmFsc2UsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOiBudWxsLFxuICB9LFxuICBcImxlZnQtYm90dG9tXCI6IHtcbiAgICBvcmRlcjogMTQsXG4gICAgaXNJblRvcFJvdzogZmFsc2UsXG4gICAgaXNJbkJvdHRvbVJvdzogZmFsc2UsXG4gICAgaXNJbkxlZnRDb2x1bW46IHRydWUsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiBmYWxzZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246IE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5FTkQsXG4gIH0sXG4gIFwibGVmdC1taWRkbGVcIjoge1xuICAgIG9yZGVyOiAxNSxcbiAgICBpc0luVG9wUm93OiBmYWxzZSxcbiAgICBpc0luQm90dG9tUm93OiBmYWxzZSxcbiAgICBpc0luTGVmdENvbHVtbjogdHJ1ZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IGZhbHNlLFxuICAgIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjpcbiAgICAgIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5DRU5URVIsXG4gIH0sXG4gIFwibGVmdC10b3BcIjoge1xuICAgIG9yZGVyOiAxNixcbiAgICBpc0luVG9wUm93OiBmYWxzZSxcbiAgICBpc0luQm90dG9tUm93OiBmYWxzZSxcbiAgICBpc0luTGVmdENvbHVtbjogdHJ1ZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IGZhbHNlLFxuICAgIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjpcbiAgICAgIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5TVEFSVCxcbiAgfSxcbn07XG5cbi8qKlxuICogTmFtZXMgZm9yIHBhZ2UtbWFyZ2luIGJveGVzIG9yZGVyIGluIHRoZSBkZWZhdWx0IHBhaW50aW5nIG9yZGVyLlxuICovXG5leHBvcnQgY29uc3QgcGFnZU1hcmdpbkJveE5hbWVzOiBzdHJpbmdbXSA9ICgoKSA9PiB7XG4gIGNvbnN0IGJveGVzID0gcGFnZU1hcmdpbkJveGVzO1xuICByZXR1cm4gT2JqZWN0LmtleXMoYm94ZXMpLnNvcnQoKGEsIGIpID0+IGJveGVzW2FdLm9yZGVyIC0gYm94ZXNbYl0ub3JkZXIpO1xufSkoKTtcblxuLyoqXG4gKiBJbmRpY2F0ZXMgdGhhdCB0aGUgcGFnZSBtYXN0ZXIgaXMgZ2VuZXJhdGVkIGZvciBgQHBhZ2VgIHJ1bGVzLlxuICovXG5leHBvcnQgY29uc3QgcGFnZVJ1bGVNYXN0ZXJQc2V1ZG9OYW1lID0gXCJ2aXZsaW9zdHlsZS1wYWdlLXJ1bGUtbWFzdGVyXCI7XG5cbi8qKlxuICogS2V5IGZvciBwcm9wZXJ0aWVzIGluIG1hcmdpbiBjb250ZXh0cy5cbiAqIFN0eWxlcyBpbiBtYXJnaW4gY29udGV4dHMgYXJlIHN0b3JlZCBpbiBwYWdlU3R5bGVbXCJfbWFyZ2luQm94ZXNcIl1bKG1hcmdpblxuICogYm94J3MgbmFtZSldLlxuICovXG5leHBvcnQgY29uc3QgbWFyZ2luQm94ZXNLZXk6IHN0cmluZyA9IFwiX21hcmdpbkJveGVzXCI7XG5cbi8qKlxuICogUmVwcmVzZW50IGEgcGFnZSBtYXN0ZXIgZ2VuZXJhdGVkIGZvciBgQHBhZ2VgIHJ1bGVzXG4gKiBAcGFyYW0gc3R5bGUgQ2FzY2FkZWQgc3R5bGUgZm9yIGBAcGFnZWAgcnVsZXNcbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2VSdWxlTWFzdGVyIGV4dGVuZHMgUGFnZU1hc3Rlci5QYWdlTWFzdGVyPFxuICBQYWdlUnVsZU1hc3Rlckluc3RhbmNlXG4+IHtcbiAgcHJpdmF0ZSBib2R5UGFydGl0aW9uS2V5OiBzdHJpbmc7XG4gIHByaXZhdGUgcGFnZU1hcmdpbkJveGVzID0ge30gYXMge1xuICAgIFtrZXk6IHN0cmluZ106IFBhZ2VNYXJnaW5Cb3hQYXJ0aXRpb247XG4gIH07XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBwYXJlbnQ6IFBhZ2VNYXN0ZXIuUm9vdFBhZ2VCb3gsXG4gICAgc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICApIHtcbiAgICBzdXBlcihzY29wZSwgbnVsbCwgcGFnZVJ1bGVNYXN0ZXJQc2V1ZG9OYW1lLCBbXSwgcGFyZW50LCBudWxsLCAwKTtcbiAgICBjb25zdCBwYWdlU2l6ZSA9IHJlc29sdmVQYWdlU2l6ZUFuZEJsZWVkKHN0eWxlIGFzIGFueSk7XG4gICAgY29uc3QgcGFydGl0aW9uID0gbmV3IFBhZ2VSdWxlUGFydGl0aW9uKHRoaXMuc2NvcGUsIHRoaXMsIHN0eWxlLCBwYWdlU2l6ZSk7XG4gICAgdGhpcy5ib2R5UGFydGl0aW9uS2V5ID0gcGFydGl0aW9uLmtleTtcbiAgICB0aGlzLmNyZWF0ZVBhZ2VNYXJnaW5Cb3hlcyhzdHlsZSk7XG4gICAgdGhpcy5hcHBseVNwZWNpZmllZChzdHlsZSwgcGFnZVNpemUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBwYWdlLW1hcmdpbiBib3hlc1xuICAgKi9cbiAgY3JlYXRlUGFnZU1hcmdpbkJveGVzKHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSkge1xuICAgIGNvbnN0IG1hcmdpbkJveGVzTWFwID0gc3R5bGVbbWFyZ2luQm94ZXNLZXldO1xuICAgIGlmIChtYXJnaW5Cb3hlc01hcCkge1xuICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICBwYWdlTWFyZ2luQm94TmFtZXMuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICBpZiAobWFyZ2luQm94ZXNNYXBbbmFtZV0pIHtcbiAgICAgICAgICBzZWxmLnBhZ2VNYXJnaW5Cb3hlc1tuYW1lXSA9IG5ldyBQYWdlTWFyZ2luQm94UGFydGl0aW9uKFxuICAgICAgICAgICAgc2VsZi5zY29wZSxcbiAgICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgc3R5bGUsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZmVyIGNhc2NhZGVkIHN0eWxlIGZvciBgQHBhZ2VgIHJ1bGVzIHRvICdzcGVjaWZpZWQnIHN0eWxlIG9mIHRoaXNcbiAgICogUGFnZUJveFxuICAgKi9cbiAgcHJpdmF0ZSBhcHBseVNwZWNpZmllZChzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsIHBhZ2VTaXplOiBQYWdlU2l6ZSkge1xuICAgIHRoaXMuc3BlY2lmaWVkW1wicG9zaXRpb25cIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICBDc3MuaWRlbnQucmVsYXRpdmUsXG4gICAgICAwLFxuICAgICk7XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJ3aWR0aFwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShwYWdlU2l6ZS53aWR0aCwgMCk7XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJoZWlnaHRcIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUocGFnZVNpemUuaGVpZ2h0LCAwKTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gc3R5bGUpIHtcbiAgICAgIGlmICghcHJvcGVydGllc0FwcGxpZWRUb1BhcnRpdGlvbltuYW1lXSAmJiBuYW1lICE9PSBcImJhY2tncm91bmQtY2xpcFwiKSB7XG4gICAgICAgIHRoaXMuc3BlY2lmaWVkW25hbWVdID0gc3R5bGVbbmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY3JlYXRlSW5zdGFuY2UocGFyZW50SW5zdGFuY2UpOiBQYWdlUnVsZU1hc3Rlckluc3RhbmNlIHtcbiAgICByZXR1cm4gbmV3IFBhZ2VSdWxlTWFzdGVySW5zdGFuY2UocGFyZW50SW5zdGFuY2UsIHRoaXMpO1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50IGEgcGFydGl0aW9uIHBsYWNlZCBpbiBhIFBhZ2VSdWxlTWFzdGVyXG4gKiBAcGFyYW0gc3R5bGUgQ2FzY2FkZWQgc3R5bGUgZm9yIGBAcGFnZWAgcnVsZXNcbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2VSdWxlUGFydGl0aW9uIGV4dGVuZHMgUGFnZU1hc3Rlci5QYXJ0aXRpb248XG4gIFBhZ2VSdWxlUGFydGl0aW9uSW5zdGFuY2Vcbj4ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIHBhcmVudDogUGFnZVJ1bGVNYXN0ZXIsXG4gICAgc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIHB1YmxpYyByZWFkb25seSBwYWdlU2l6ZTogUGFnZVNpemUsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBudWxsLCBudWxsLCBbXSwgcGFyZW50KTtcbiAgICB0aGlzLnNwZWNpZmllZFtcInotaW5kZXhcIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUobmV3IENzcy5JbnQoMCksIDApO1xuICAgIHRoaXMuYXBwbHlTcGVjaWZpZWQoc3R5bGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZmVyIGNhc2NhZGVkIHN0eWxlIGZvciBgQHBhZ2VgIHJ1bGVzIHRvICdzcGVjaWZpZWQnIHN0eWxlIG9mIHRoaXNcbiAgICogUGFnZUJveFxuICAgKi9cbiAgcHJpdmF0ZSBhcHBseVNwZWNpZmllZChzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUpIHtcbiAgICB0aGlzLnNwZWNpZmllZFtcImZsb3ctZnJvbVwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgIENzcy5nZXROYW1lKFwiYm9keVwiKSxcbiAgICAgIDAsXG4gICAgKTtcblxuICAgIC8vIFVzZSBhYnNvbHV0ZSBwb3NpdGlvbmluZyBzbyB0aGF0IHRoaXMgcGFydGl0aW9uJ3MgbWFyZ2lucyBkb24ndCBjb2xsYXBzZVxuICAgIC8vIHdpdGggaXRzIHBhcmVudCdzIG1hcmdpbnNcbiAgICB0aGlzLnNwZWNpZmllZFtcInBvc2l0aW9uXCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgQ3NzLmlkZW50LmFic29sdXRlLFxuICAgICAgMCxcbiAgICApO1xuICAgIHRoaXMuc3BlY2lmaWVkW1wib3ZlcmZsb3dcIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICBDc3MuaWRlbnQudmlzaWJsZSxcbiAgICAgIDAsXG4gICAgKTtcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gcHJvcGVydGllc0FwcGxpZWRUb1BhcnRpdGlvbikge1xuICAgICAgaWYgKHByb3BlcnRpZXNBcHBsaWVkVG9QYXJ0aXRpb24uaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgdGhpcy5zcGVjaWZpZWRbcHJvcF0gPSBzdHlsZVtwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjcmVhdGVJbnN0YW5jZShwYXJlbnRJbnN0YW5jZSk6IFBhZ2VNYXN0ZXIuUGFnZUJveEluc3RhbmNlIHtcbiAgICByZXR1cm4gbmV3IFBhZ2VSdWxlUGFydGl0aW9uSW5zdGFuY2UocGFyZW50SW5zdGFuY2UsIHRoaXMpO1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50IGEgcGFydGl0aW9uIGZvciBhIHBhZ2UtbWFyZ2luIGJveFxuICovXG5leHBvcnQgY2xhc3MgUGFnZU1hcmdpbkJveFBhcnRpdGlvbiBleHRlbmRzIFBhZ2VNYXN0ZXIuUGFydGl0aW9uPFxuICBQYWdlTWFyZ2luQm94UGFydGl0aW9uSW5zdGFuY2Vcbj4ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIHBhcmVudDogUGFnZVJ1bGVNYXN0ZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IG1hcmdpbkJveE5hbWU6IHN0cmluZyxcbiAgICBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBudWxsLCBudWxsLCBbXSwgcGFyZW50KTtcbiAgICB0aGlzLmFwcGx5U3BlY2lmaWVkKHN0eWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2ZlciBjYXNjYWRlZCBzdHlsZSBmb3IgYEBwYWdlYCBydWxlcyB0byAnc3BlY2lmaWVkJyBzdHlsZSBvZiB0aGlzXG4gICAqIFBhZ2VNYXJnaW5Cb3hcbiAgICovXG4gIGFwcGx5U3BlY2lmaWVkKHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSkge1xuICAgIGNvbnN0IG93blN0eWxlID0gc3R5bGVbbWFyZ2luQm94ZXNLZXldW1xuICAgICAgdGhpcy5tYXJnaW5Cb3hOYW1lXG4gICAgXSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcblxuICAgIC8vIEluaGVyaXQgcHJvcGVydGllcyBpbiB0aGUgcGFnZSBjb250ZXh0IHRvIHRoZSBwYWdlLW1hcmdpbiBjb250ZXh0XG4gICAgZm9yIChjb25zdCBwcm9wIGluIHN0eWxlKSB7XG4gICAgICBjb25zdCB2YWwgPSBzdHlsZVtwcm9wXSBhcyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZTtcbiAgICAgIGNvbnN0IG93blZhbCA9IG93blN0eWxlW3Byb3BdIGFzIENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlO1xuICAgICAgaWYgKFxuICAgICAgICBDc3NDYXNjYWRlLmluaGVyaXRlZFByb3BzW3Byb3BdIHx8XG4gICAgICAgIChvd25WYWwgJiYgb3duVmFsLnZhbHVlID09PSBDc3MuaWRlbnQuaW5oZXJpdClcbiAgICAgICkge1xuICAgICAgICB0aGlzLnNwZWNpZmllZFtwcm9wXSA9IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBwcm9wIGluIG93blN0eWxlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG93blN0eWxlLCBwcm9wKSkge1xuICAgICAgICBjb25zdCB2YWwgPSBvd25TdHlsZVtwcm9wXSBhcyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZTtcbiAgICAgICAgaWYgKHZhbCAmJiB2YWwudmFsdWUgIT09IENzcy5pZGVudC5pbmhlcml0KSB7XG4gICAgICAgICAgdGhpcy5zcGVjaWZpZWRbcHJvcF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjcmVhdGVJbnN0YW5jZShwYXJlbnRJbnN0YW5jZSk6IFBhZ2VNYXN0ZXIuUGFnZUJveEluc3RhbmNlIHtcbiAgICByZXR1cm4gbmV3IFBhZ2VNYXJnaW5Cb3hQYXJ0aXRpb25JbnN0YW5jZShwYXJlbnRJbnN0YW5jZSwgdGhpcyk7XG4gIH1cbn1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEluc3RhbmNlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgdHlwZSBQYWdlQXJlYURpbWVuc2lvbiA9IHtcbiAgYm9yZGVyQm94V2lkdGg6IEV4cHJzLlZhbDtcbiAgYm9yZGVyQm94SGVpZ2h0OiBFeHBycy5WYWw7XG4gIG1hcmdpblRvcDogRXhwcnMuVmFsO1xuICBtYXJnaW5Cb3R0b206IEV4cHJzLlZhbDtcbiAgbWFyZ2luTGVmdDogRXhwcnMuVmFsO1xuICBtYXJnaW5SaWdodDogRXhwcnMuVmFsO1xufTtcblxuZXhwb3J0IGNsYXNzIFBhZ2VSdWxlTWFzdGVySW5zdGFuY2UgZXh0ZW5kcyBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXJJbnN0YW5jZTxcbiAgUGFnZVJ1bGVNYXN0ZXJcbj4ge1xuICBwYWdlQXJlYURpbWVuc2lvbjogUGFnZUFyZWFEaW1lbnNpb24gfCBudWxsID0gbnVsbDtcbiAgcGFnZU1hcmdpbkJveEluc3RhbmNlczoge1xuICAgIFtrZXk6IHN0cmluZ106IFBhZ2VNYXJnaW5Cb3hQYXJ0aXRpb25JbnN0YW5jZTtcbiAgfSA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHBhcmVudEluc3RhbmNlOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSxcbiAgICBwYWdlUnVsZU1hc3RlcjogUGFnZVJ1bGVNYXN0ZXIsXG4gICkge1xuICAgIHN1cGVyKHBhcmVudEluc3RhbmNlLCBwYWdlUnVsZU1hc3Rlcik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseUNhc2NhZGVBbmRJbml0KFxuICAgIGNhc2NhZGU6IENzc0Nhc2NhZGUuQ2FzY2FkZUluc3RhbmNlLFxuICAgIGRvY0VsZW1lbnRTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5jYXNjYWRlZDtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gZG9jRWxlbWVudFN0eWxlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRvY0VsZW1lbnRTdHlsZSwgbmFtZSkpIHtcbiAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgY2FzZSBcIndyaXRpbmctbW9kZVwiOlxuICAgICAgICAgIGNhc2UgXCJkaXJlY3Rpb25cIjpcbiAgICAgICAgICAgIHN0eWxlW25hbWVdID0gZG9jRWxlbWVudFN0eWxlW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHN1cGVyLmFwcGx5Q2FzY2FkZUFuZEluaXQoY2FzY2FkZSwgZG9jRWxlbWVudFN0eWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGluaXRIb3Jpem9udGFsKCk6IHZvaWQge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5zdHlsZTtcbiAgICBzdHlsZVtcImxlZnRcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbXCJtYXJnaW4tbGVmdFwiXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtcImJvcmRlci1sZWZ0LXdpZHRoXCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wicGFkZGluZy1sZWZ0XCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wicGFkZGluZy1yaWdodFwiXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtcImJvcmRlci1yaWdodC13aWR0aFwiXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtcIm1hcmdpbi1yaWdodFwiXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtcInJpZ2h0XCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaW5pdFZlcnRpY2FsKCk6IHZvaWQge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5zdHlsZTtcblxuICAgIC8vIFNoaWZ0IDFweCB0byB3b3JrYXJvdW5kIENocm9tZSBwcmludGluZyBidWdcbiAgICAvLyBzdHlsZVtcInRvcFwiXSA9IG5ldyBDc3MuTnVtZXJpYygtMSwgXCJweFwiKTtcbiAgICBzdHlsZVtcInRvcFwiXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtcIm1hcmdpbi10b3BcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbXCJib3JkZXItdG9wLXdpZHRoXCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wicGFkZGluZy10b3BcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbXCJwYWRkaW5nLWJvdHRvbVwiXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtcImJvcmRlci1ib3R0b20td2lkdGhcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbXCJtYXJnaW4tYm90dG9tXCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wiYm90dG9tXCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICB9XG5cbiAgc2V0UGFnZUFyZWFEaW1lbnNpb24oZGltOiBQYWdlQXJlYURpbWVuc2lvbikge1xuICAgIHRoaXMucGFnZUFyZWFEaW1lbnNpb24gPSBkaW07XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgIHN0eWxlW1wid2lkdGhcIl0gPSBuZXcgQ3NzLkV4cHIoZGltLmJvcmRlckJveFdpZHRoKTtcbiAgICBzdHlsZVtcImhlaWdodFwiXSA9IG5ldyBDc3MuRXhwcihkaW0uYm9yZGVyQm94SGVpZ2h0KTtcbiAgICBzdHlsZVtcInBhZGRpbmctbGVmdFwiXSA9IG5ldyBDc3MuRXhwcihkaW0ubWFyZ2luTGVmdCk7XG4gICAgc3R5bGVbXCJwYWRkaW5nLXJpZ2h0XCJdID0gbmV3IENzcy5FeHByKGRpbS5tYXJnaW5SaWdodCk7XG4gICAgc3R5bGVbXCJwYWRkaW5nLXRvcFwiXSA9IG5ldyBDc3MuRXhwcihkaW0ubWFyZ2luVG9wKTtcbiAgICBzdHlsZVtcInBhZGRpbmctYm90dG9tXCJdID0gbmV3IENzcy5FeHByKGRpbS5tYXJnaW5Cb3R0b20pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWRqdXN0UGFnZUxheW91dChcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICkge1xuICAgIGNvbnN0IG1hcmdpbkJveENvbnRhaW5lcnMgPSBwYWdlLm1hcmdpbkJveGVzO1xuICAgIGNvbnN0IGhvcml6b250YWxEaW1lbnNpb25zID0ge1xuICAgICAgc3RhcnQ6IHRoaXMucGFnZUFyZWFEaW1lbnNpb24ubWFyZ2luTGVmdCxcbiAgICAgIGVuZDogdGhpcy5wYWdlQXJlYURpbWVuc2lvbi5tYXJnaW5SaWdodCxcbiAgICAgIGV4dGVudDogdGhpcy5wYWdlQXJlYURpbWVuc2lvbi5ib3JkZXJCb3hXaWR0aCxcbiAgICB9O1xuICAgIGNvbnN0IHZlcnRpY2FsRGltZW5zaW9ucyA9IHtcbiAgICAgIHN0YXJ0OiB0aGlzLnBhZ2VBcmVhRGltZW5zaW9uLm1hcmdpblRvcCxcbiAgICAgIGVuZDogdGhpcy5wYWdlQXJlYURpbWVuc2lvbi5tYXJnaW5Cb3R0b20sXG4gICAgICBleHRlbnQ6IHRoaXMucGFnZUFyZWFEaW1lbnNpb24uYm9yZGVyQm94SGVpZ2h0LFxuICAgIH07XG4gICAgdGhpcy5zaXplTWFyZ2luQm94ZXNBbG9uZ1ZhcmlhYmxlRGltZW5zaW9uKFxuICAgICAgbWFyZ2luQm94Q29udGFpbmVycy50b3AsXG4gICAgICB0cnVlLFxuICAgICAgaG9yaXpvbnRhbERpbWVuc2lvbnMsXG4gICAgICBjb250ZXh0LFxuICAgICAgY2xpZW50TGF5b3V0LFxuICAgICk7XG4gICAgdGhpcy5zaXplTWFyZ2luQm94ZXNBbG9uZ1ZhcmlhYmxlRGltZW5zaW9uKFxuICAgICAgbWFyZ2luQm94Q29udGFpbmVycy5ib3R0b20sXG4gICAgICB0cnVlLFxuICAgICAgaG9yaXpvbnRhbERpbWVuc2lvbnMsXG4gICAgICBjb250ZXh0LFxuICAgICAgY2xpZW50TGF5b3V0LFxuICAgICk7XG4gICAgdGhpcy5zaXplTWFyZ2luQm94ZXNBbG9uZ1ZhcmlhYmxlRGltZW5zaW9uKFxuICAgICAgbWFyZ2luQm94Q29udGFpbmVycy5sZWZ0LFxuICAgICAgZmFsc2UsXG4gICAgICB2ZXJ0aWNhbERpbWVuc2lvbnMsXG4gICAgICBjb250ZXh0LFxuICAgICAgY2xpZW50TGF5b3V0LFxuICAgICk7XG4gICAgdGhpcy5zaXplTWFyZ2luQm94ZXNBbG9uZ1ZhcmlhYmxlRGltZW5zaW9uKFxuICAgICAgbWFyZ2luQm94Q29udGFpbmVycy5yaWdodCxcbiAgICAgIGZhbHNlLFxuICAgICAgdmVydGljYWxEaW1lbnNpb25zLFxuICAgICAgY29udGV4dCxcbiAgICAgIGNsaWVudExheW91dCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSBhbmQgc2V0IG1hcmdpbiBib3hlcycgc2l6ZXMgYWxvbmcgdmFyaWFibGUgZGltZW5zaW9uIHVzaW5nIGFuXG4gICAqIGFsZ29yaXRobSBzcGVjaWZpZWQgaW4gQ1NTIFBhZ2VkIE1lZGlhIHNwZWMuXG4gICAqIEBwYXJhbSBtYXJnaW5Cb3hDb250YWluZXJzIENvbnRhaW5lcnMgY29ycmVzcG9uZGluZyB0byB0aGUgdGFyZ2V0IG1hcmdpblxuICAgKiAgICAgYm94ZXMgaW4gb25lIHBhZ2UgZWRnZSAodG9wLCBib3R0b20sIGxlZnQsIHJpZ2h0KVxuICAgKiBAcGFyYW0gaXNIb3Jpem9udGFsIEluZGljYXRlcyBpZiB0aGUgdGFyZ2V0IG1hcmdpbiBib3hlcyBhcmUgb24gdGhlXG4gICAqICAgICBob3Jpem9udGFsIGVkZ2UgKHRvcCBvciBib3R0b20pIG9yIG5vdCAobGVmdCBvciByaWdodCkuXG4gICAqIEBwYXJhbSBkaW1lbnNpb25zIFBhZ2UgZGltZW5zaW9ucy4gc3RhcnQ6IG1hcmdpbi1sZWZ0IG9yIG1hcmdpbi10b3AuIGVuZDpcbiAgICogICAgIG1hcmdpbi1yaWdodCBvciBtYXJnaW4tYm90dG9tLiBleHRlbnQ6IGJvcmRlci1ib3ggd2lkdGggb3IgaGVpZ2h0IG9mXG4gICAqICAgICB0aGUgcGFnZSBhcmVhICg9IGF2YWlsYWJsZSB3aWR0aCBvciBoZWlnaHQgZm9yIHRoZSB0YXJnZXQgbWFyZ2luIGJveGVzKVxuICAgKi9cbiAgcHJpdmF0ZSBzaXplTWFyZ2luQm94ZXNBbG9uZ1ZhcmlhYmxlRGltZW5zaW9uKFxuICAgIG1hcmdpbkJveENvbnRhaW5lcnM6IHsgW2tleTogc3RyaW5nXTogVnRyZWUuQ29udGFpbmVyIH0sXG4gICAgaXNIb3Jpem9udGFsOiBib29sZWFuLFxuICAgIGRpbWVuc2lvbnM6IHsgc3RhcnQ6IEV4cHJzLlZhbDsgZW5kOiBFeHBycy5WYWw7IGV4dGVudDogRXhwcnMuVmFsIH0sXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgKSB7XG4gICAgY29uc3QgU1RBUlQgPSBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uU1RBUlQ7XG4gICAgY29uc3QgQ0VOVEVSID0gTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkNFTlRFUjtcbiAgICBjb25zdCBFTkQgPSBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uRU5EO1xuXG4gICAgLy8gcHJlcGFyZSBwYXJhbWV0ZXJzXG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLnBhZ2VCb3guc2NvcGU7XG4gICAgY29uc3QgY29udGFpbmVyczoge1xuICAgICAgW2tleSBpbiBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb25dPzogVnRyZWUuQ29udGFpbmVyO1xuICAgIH0gPSB7fTtcbiAgICBjb25zdCBib3hJbnN0YW5jZXM6IHtcbiAgICAgIFtrZXkgaW4gTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uXT86IFBhZ2VNYXJnaW5Cb3hQYXJ0aXRpb25JbnN0YW5jZTtcbiAgICB9ID0ge307XG4gICAgY29uc3QgYm94UGFyYW1zOiB7XG4gICAgICBba2V5IGluIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbl0/OiBNYXJnaW5Cb3hTaXppbmdQYXJhbTtcbiAgICB9ID0ge307XG4gICAgZm9yIChjb25zdCBuYW1lIGluIG1hcmdpbkJveENvbnRhaW5lcnMpIHtcbiAgICAgIGNvbnN0IGJveEluZm8gPSBwYWdlTWFyZ2luQm94ZXNbbmFtZV07XG4gICAgICBpZiAoYm94SW5mbykge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBtYXJnaW5Cb3hDb250YWluZXJzW25hbWVdO1xuICAgICAgICBjb25zdCBib3hJbnN0YW5jZSA9IHRoaXMucGFnZU1hcmdpbkJveEluc3RhbmNlc1tuYW1lXTtcbiAgICAgICAgY29uc3QgYm94UGFyYW0gPSBuZXcgU2luZ2xlQm94TWFyZ2luQm94U2l6aW5nUGFyYW0oXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIChib3hJbnN0YW5jZSBhcyBhbnkpLnN0eWxlLFxuICAgICAgICAgIGlzSG9yaXpvbnRhbCxcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgICBjbGllbnRMYXlvdXQsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRhaW5lcnNbYm94SW5mby5wb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb25dID0gY29udGFpbmVyO1xuICAgICAgICBib3hJbnN0YW5jZXNbYm94SW5mby5wb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb25dID0gYm94SW5zdGFuY2U7XG4gICAgICAgIGJveFBhcmFtc1tib3hJbmZvLnBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbl0gPSBib3hQYXJhbTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkZXRlcm1pbmUgc2l6ZXNcbiAgICBjb25zdCBldmFsdWF0ZWREaW0gPSB7XG4gICAgICBzdGFydDogZGltZW5zaW9ucy5zdGFydC5ldmFsdWF0ZShjb250ZXh0KSBhcyBudW1iZXIsXG4gICAgICBlbmQ6IGRpbWVuc2lvbnMuZW5kLmV2YWx1YXRlKGNvbnRleHQpIGFzIG51bWJlcixcbiAgICAgIGV4dGVudDogZGltZW5zaW9ucy5leHRlbnQuZXZhbHVhdGUoY29udGV4dCkgYXMgbnVtYmVyLFxuICAgIH07XG4gICAgbGV0IHNpemVzID0gdGhpcy5nZXRTaXplc09mTWFyZ2luQm94ZXNBbG9uZ1ZhcmlhYmxlRGltZW5zaW9uKFxuICAgICAgYm94UGFyYW1zLFxuICAgICAgZXZhbHVhdGVkRGltLmV4dGVudCxcbiAgICApO1xuICAgIGxldCBuZWVkUmVjYWxjdWxhdGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8vIENoZWNrIG1heC13aWR0aC9tYXgtaGVpZ2h0XG4gICAgY29uc3QgbWF4T3V0ZXJTaXplczoge1xuICAgICAgW2tleSBpbiBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb25dPzogbnVtYmVyO1xuICAgIH0gPSB7fTtcbiAgICBPYmplY3Qua2V5cyhjb250YWluZXJzKS5mb3JFYWNoKChuKSA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gbiBhcyBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb247XG4gICAgICBjb25zdCBtYXhTaXplID0gUGFnZU1hc3Rlci50b0V4cHJBdXRvKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgYm94SW5zdGFuY2VzW25hbWVdLnN0eWxlW2lzSG9yaXpvbnRhbCA/IFwibWF4LXdpZHRoXCIgOiBcIm1heC1oZWlnaHRcIl0sXG4gICAgICAgIGRpbWVuc2lvbnMuZXh0ZW50LFxuICAgICAgKTtcbiAgICAgIGlmIChtYXhTaXplKSB7XG4gICAgICAgIGNvbnN0IGV2YWx1YXRlZE1heFNpemUgPSBtYXhTaXplLmV2YWx1YXRlKGNvbnRleHQpIGFzIG51bWJlcjtcbiAgICAgICAgaWYgKHNpemVzW25hbWVdID4gZXZhbHVhdGVkTWF4U2l6ZSkge1xuICAgICAgICAgIGNvbnN0IHAgPSAoYm94UGFyYW1zW25hbWVdID0gbmV3IEZpeGVkU2l6ZU1hcmdpbkJveFNpemluZ1BhcmFtKFxuICAgICAgICAgICAgY29udGFpbmVyc1tuYW1lXSxcbiAgICAgICAgICAgIGJveEluc3RhbmNlc1tuYW1lXS5zdHlsZSxcbiAgICAgICAgICAgIGlzSG9yaXpvbnRhbCxcbiAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgY2xpZW50TGF5b3V0LFxuICAgICAgICAgICAgZXZhbHVhdGVkTWF4U2l6ZSxcbiAgICAgICAgICApKTtcbiAgICAgICAgICBtYXhPdXRlclNpemVzW25hbWVdID0gcC5nZXRPdXRlclNpemUoKTtcbiAgICAgICAgICBuZWVkUmVjYWxjdWxhdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKG5lZWRSZWNhbGN1bGF0ZSkge1xuICAgICAgc2l6ZXMgPSB0aGlzLmdldFNpemVzT2ZNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgICAgIGJveFBhcmFtcyxcbiAgICAgICAgZXZhbHVhdGVkRGltLmV4dGVudCxcbiAgICAgICk7XG4gICAgICBuZWVkUmVjYWxjdWxhdGUgPSBmYWxzZTtcbiAgICAgIFtTVEFSVCwgQ0VOVEVSLCBFTkRdLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgc2l6ZXNbbmFtZV0gPSBtYXhPdXRlclNpemVzW25hbWVdIHx8IHNpemVzW25hbWVdO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgbWluLXdpZHRoL21pbi1oZWlnaHRcbiAgICBjb25zdCBtaW5PdXRlclNpemVzOiB7XG4gICAgICBba2V5IGluIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbl0/OiBudW1iZXI7XG4gICAgfSA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGNvbnRhaW5lcnMpLmZvckVhY2goKG4pID0+IHtcbiAgICAgIGNvbnN0IG5hbWUgPSBuIGFzIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjtcbiAgICAgIGNvbnN0IG1pblNpemUgPSBQYWdlTWFzdGVyLnRvRXhwckF1dG8oXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBib3hJbnN0YW5jZXNbbmFtZV0uc3R5bGVbaXNIb3Jpem9udGFsID8gXCJtaW4td2lkdGhcIiA6IFwibWluLWhlaWdodFwiXSxcbiAgICAgICAgZGltZW5zaW9ucy5leHRlbnQsXG4gICAgICApO1xuICAgICAgaWYgKG1pblNpemUpIHtcbiAgICAgICAgY29uc3QgZXZhbHVhdGVkTWluU2l6ZSA9IG1pblNpemUuZXZhbHVhdGUoY29udGV4dCkgYXMgbnVtYmVyO1xuICAgICAgICBpZiAoc2l6ZXNbbmFtZV0gPCBldmFsdWF0ZWRNaW5TaXplKSB7XG4gICAgICAgICAgY29uc3QgcCA9IChib3hQYXJhbXNbbmFtZV0gPSBuZXcgRml4ZWRTaXplTWFyZ2luQm94U2l6aW5nUGFyYW0oXG4gICAgICAgICAgICBjb250YWluZXJzW25hbWVdLFxuICAgICAgICAgICAgYm94SW5zdGFuY2VzW25hbWVdLnN0eWxlLFxuICAgICAgICAgICAgaXNIb3Jpem9udGFsLFxuICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICBjbGllbnRMYXlvdXQsXG4gICAgICAgICAgICBldmFsdWF0ZWRNaW5TaXplLFxuICAgICAgICAgICkpO1xuICAgICAgICAgIG1pbk91dGVyU2l6ZXNbbmFtZV0gPSBwLmdldE91dGVyU2l6ZSgpO1xuICAgICAgICAgIG5lZWRSZWNhbGN1bGF0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAobmVlZFJlY2FsY3VsYXRlKSB7XG4gICAgICBzaXplcyA9IHRoaXMuZ2V0U2l6ZXNPZk1hcmdpbkJveGVzQWxvbmdWYXJpYWJsZURpbWVuc2lvbihcbiAgICAgICAgYm94UGFyYW1zLFxuICAgICAgICBldmFsdWF0ZWREaW0uZXh0ZW50LFxuICAgICAgKTtcbiAgICAgIFtTVEFSVCwgQ0VOVEVSLCBFTkRdLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgc2l6ZXNbbmFtZV0gPSBtaW5PdXRlclNpemVzW25hbWVdIHx8IHNpemVzW25hbWVdO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gc2V0IHNpemVzXG4gICAgY29uc3QgZW5kRWRnZSA9IGV2YWx1YXRlZERpbS5zdGFydCArIGV2YWx1YXRlZERpbS5leHRlbnQ7XG4gICAgY29uc3Qgc3RhcnRFbmRTdW0gPVxuICAgICAgZXZhbHVhdGVkRGltLnN0YXJ0ICsgKGV2YWx1YXRlZERpbS5zdGFydCArIGV2YWx1YXRlZERpbS5leHRlbnQpO1xuICAgIFtTVEFSVCwgQ0VOVEVSLCBFTkRdLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgIGNvbnN0IG91dGVyU2l6ZSA9IHNpemVzW25hbWVdO1xuICAgICAgaWYgKG91dGVyU2l6ZSkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBjb250YWluZXJzW25hbWVdO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgY2FzZSBTVEFSVDpcbiAgICAgICAgICAgIG9mZnNldCA9IGlzSG9yaXpvbnRhbCA/IGNvbnRhaW5lci5sZWZ0IDogY29udGFpbmVyLnRvcDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ0VOVEVSOlxuICAgICAgICAgICAgb2Zmc2V0ID0gKHN0YXJ0RW5kU3VtIC0gb3V0ZXJTaXplKSAvIDI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEVORDpcbiAgICAgICAgICAgIG9mZnNldCA9IGVuZEVkZ2UgLSBvdXRlclNpemU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNIb3Jpem9udGFsKSB7XG4gICAgICAgICAgY29udGFpbmVyLnNldEhvcml6b250YWxQb3NpdGlvbihcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgIG91dGVyU2l6ZSAtIGNvbnRhaW5lci5nZXRJbnNldExlZnQoKSAtIGNvbnRhaW5lci5nZXRJbnNldFJpZ2h0KCksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250YWluZXIuc2V0VmVydGljYWxQb3NpdGlvbihcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgIG91dGVyU2l6ZSAtIGNvbnRhaW5lci5nZXRJbnNldFRvcCgpIC0gY29udGFpbmVyLmdldEluc2V0Qm90dG9tKCksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTaXplc09mTWFyZ2luQm94ZXNBbG9uZ1ZhcmlhYmxlRGltZW5zaW9uKFxuICAgIGJveFBhcmFtczoge1xuICAgICAgW2tleSBpbiBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb25dPzogTWFyZ2luQm94U2l6aW5nUGFyYW07XG4gICAgfSxcbiAgICBhdmFpbGFibGVTaXplOiBudW1iZXIsXG4gICk6IHsgW2tleSBpbiBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb25dPzogbnVtYmVyIH0ge1xuICAgIGNvbnN0IHN0YXJ0Qm94UGFyYW0gPVxuICAgICAgYm94UGFyYW1zW01hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5TVEFSVF07XG4gICAgY29uc3QgY2VudGVyQm94UGFyYW0gPVxuICAgICAgYm94UGFyYW1zW01hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5DRU5URVJdO1xuICAgIGNvbnN0IGVuZEJveFBhcmFtID0gYm94UGFyYW1zW01hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5FTkRdO1xuICAgIGNvbnN0IHNpemVzOiB7XG4gICAgICBba2V5IGluIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbl0/OiBudW1iZXI7XG4gICAgfSA9IHt9O1xuICAgIGlmICghY2VudGVyQm94UGFyYW0pIHtcbiAgICAgIGNvbnN0IHN0YXJ0RW5kU2l6ZXMgPSB0aGlzLmRpc3RyaWJ1dGVBdXRvTWFyZ2luQm94U2l6ZXMoXG4gICAgICAgIHN0YXJ0Qm94UGFyYW0sXG4gICAgICAgIGVuZEJveFBhcmFtLFxuICAgICAgICBhdmFpbGFibGVTaXplLFxuICAgICAgKTtcbiAgICAgIGlmIChzdGFydEVuZFNpemVzLnhTaXplKSB7XG4gICAgICAgIHNpemVzW01hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5TVEFSVF0gPVxuICAgICAgICAgIHN0YXJ0RW5kU2l6ZXMueFNpemU7XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnRFbmRTaXplcy55U2l6ZSkge1xuICAgICAgICBzaXplc1tNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uRU5EXSA9XG4gICAgICAgICAgc3RhcnRFbmRTaXplcy55U2l6ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcGFyYW1zID0gW3N0YXJ0Qm94UGFyYW0sIGVuZEJveFBhcmFtXS5maWx0ZXIoKHApID0+IHApO1xuICAgICAgY29uc3Qgc3RhcnRFbmRCb3hQYXJhbSA9IHBhcmFtcy5sZW5ndGhcbiAgICAgICAgPyBuZXcgTXVsdGlwbGVCb3hlc01hcmdpbkJveFNpemluZ1BhcmFtKHBhcmFtcylcbiAgICAgICAgOiBudWxsO1xuICAgICAgY29uc3QgY2VudGVyU2l6ZXMgPSB0aGlzLmRpc3RyaWJ1dGVBdXRvTWFyZ2luQm94U2l6ZXMoXG4gICAgICAgIGNlbnRlckJveFBhcmFtLFxuICAgICAgICBzdGFydEVuZEJveFBhcmFtLFxuICAgICAgICBhdmFpbGFibGVTaXplLFxuICAgICAgKTtcbiAgICAgIGlmIChjZW50ZXJTaXplcy54U2l6ZSkge1xuICAgICAgICBzaXplc1tNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uQ0VOVEVSXSA9XG4gICAgICAgICAgY2VudGVyU2l6ZXMueFNpemU7XG4gICAgICB9XG4gICAgICBjb25zdCBjZW50ZXJTaXplID0gY2VudGVyU2l6ZXMueFNpemUgfHwgY2VudGVyQm94UGFyYW0uZ2V0T3V0ZXJTaXplKCk7XG4gICAgICBjb25zdCBzdGFydEVuZEF1dG9TaXplID0gKGF2YWlsYWJsZVNpemUgLSBjZW50ZXJTaXplKSAvIDI7XG4gICAgICBpZiAoc3RhcnRCb3hQYXJhbSAmJiBzdGFydEJveFBhcmFtLmhhc0F1dG9TaXplKCkpIHtcbiAgICAgICAgc2l6ZXNbTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLlNUQVJUXSA9IHN0YXJ0RW5kQXV0b1NpemU7XG4gICAgICB9XG4gICAgICBpZiAoZW5kQm94UGFyYW0gJiYgZW5kQm94UGFyYW0uaGFzQXV0b1NpemUoKSkge1xuICAgICAgICBzaXplc1tNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uRU5EXSA9IHN0YXJ0RW5kQXV0b1NpemU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzaXplcztcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXN0cmlidXRlIGF1dG8gbWFyZ2luIHNpemVzIGFtb25nIHR3byBtYXJnaW4gYm94ZXMgdXNpbmcgYW4gYWxnb3JpdGhtXG4gICAqIHNwZWNpZmllZCBpbiBDU1MgUGFnZWQgTWVkaWEgc3BlYy5cbiAgICogQHBhcmFtIHggUGFyYW1ldGVyIGZvciB0aGUgZmlyc3QgbWFyZ2luIGJveC4gbnVsbCBpZiB0aGUgYm94IGlzIG5vdFxuICAgKiAgICAgZ2VuZXJhdGVkLlxuICAgKiBAcGFyYW0geSBQYXJhbWV0ZXIgZm9yIHRoZSBzZWNvbmQgbWFyZ2luIGJveC4gbnVsbCBpZiB0aGUgYm94IGlzIG5vdFxuICAgKiAgICAgZ2VuZXJhdGVkLlxuICAgKiBAcGFyYW0gYXZhaWxhYmxlU2l6ZSBBdmFpbGFibGUgc2l6ZSBmb3IgdGhlIG1hcmdpbiBib3hlcy5cbiAgICogQHJldHVybnMgRGV0ZXJtaW5lZCBzaXplcyBmb3IgdGhlIHR3byBib3hlcy4gRWFjaCB2YWx1ZSBpcyBwcmVzZW50IG9ubHlcbiAgICogICAgIHdoZW4gdGhlIHNpemUgb2YgdGhlIGNvcnJlc3BvbmRpbmcgYm94IGlzICdhdXRvJy5cbiAgICovXG4gIHByaXZhdGUgZGlzdHJpYnV0ZUF1dG9NYXJnaW5Cb3hTaXplcyhcbiAgICB4OiBNYXJnaW5Cb3hTaXppbmdQYXJhbSxcbiAgICB5OiBNYXJnaW5Cb3hTaXppbmdQYXJhbSxcbiAgICBhdmFpbGFibGVTaXplOiBudW1iZXIsXG4gICk6IHsgeFNpemU6IG51bWJlciB8IG51bGw7IHlTaXplOiBudW1iZXIgfCBudWxsIH0ge1xuICAgIGNvbnN0IHJlc3VsdDogeyB4U2l6ZTogbnVtYmVyIHwgbnVsbDsgeVNpemU6IG51bWJlciB8IG51bGwgfSA9IHtcbiAgICAgIHhTaXplOiBudWxsLFxuICAgICAgeVNpemU6IG51bGwsXG4gICAgfTtcbiAgICBpZiAoeCAmJiB5KSB7XG4gICAgICBpZiAoeC5oYXNBdXRvU2l6ZSgpICYmIHkuaGFzQXV0b1NpemUoKSkge1xuICAgICAgICBjb25zdCB4T3V0ZXJNYXhDb250ZW50U2l6ZSA9IHguZ2V0T3V0ZXJNYXhDb250ZW50U2l6ZSgpO1xuICAgICAgICBjb25zdCB5T3V0ZXJNYXhDb250ZW50U2l6ZSA9IHkuZ2V0T3V0ZXJNYXhDb250ZW50U2l6ZSgpO1xuICAgICAgICBpZiAoeE91dGVyTWF4Q29udGVudFNpemUgPiAwICYmIHlPdXRlck1heENvbnRlbnRTaXplID4gMCkge1xuICAgICAgICAgIGNvbnN0IG1heENvbnRlbnRTaXplU3VtID0geE91dGVyTWF4Q29udGVudFNpemUgKyB5T3V0ZXJNYXhDb250ZW50U2l6ZTtcbiAgICAgICAgICBpZiAobWF4Q29udGVudFNpemVTdW0gPCBhdmFpbGFibGVTaXplKSB7XG4gICAgICAgICAgICByZXN1bHQueFNpemUgPVxuICAgICAgICAgICAgICAoYXZhaWxhYmxlU2l6ZSAqIHhPdXRlck1heENvbnRlbnRTaXplKSAvIG1heENvbnRlbnRTaXplU3VtO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB4T3V0ZXJNaW5Db250ZW50U2l6ZSA9IHguZ2V0T3V0ZXJNaW5Db250ZW50U2l6ZSgpO1xuICAgICAgICAgICAgY29uc3QgeU91dGVyTWluQ29udGVudFNpemUgPSB5LmdldE91dGVyTWluQ29udGVudFNpemUoKTtcbiAgICAgICAgICAgIGNvbnN0IG1pbkNvbnRlbnRTaXplU3VtID1cbiAgICAgICAgICAgICAgeE91dGVyTWluQ29udGVudFNpemUgKyB5T3V0ZXJNaW5Db250ZW50U2l6ZTtcbiAgICAgICAgICAgIGlmIChtaW5Db250ZW50U2l6ZVN1bSA8IGF2YWlsYWJsZVNpemUpIHtcbiAgICAgICAgICAgICAgcmVzdWx0LnhTaXplID1cbiAgICAgICAgICAgICAgICB4T3V0ZXJNaW5Db250ZW50U2l6ZSArXG4gICAgICAgICAgICAgICAgKChhdmFpbGFibGVTaXplIC0gbWluQ29udGVudFNpemVTdW0pICpcbiAgICAgICAgICAgICAgICAgICh4T3V0ZXJNYXhDb250ZW50U2l6ZSAtIHhPdXRlck1pbkNvbnRlbnRTaXplKSkgL1xuICAgICAgICAgICAgICAgICAgKG1heENvbnRlbnRTaXplU3VtIC0gbWluQ29udGVudFNpemVTdW0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtaW5Db250ZW50U2l6ZVN1bSA+IDApIHtcbiAgICAgICAgICAgICAgcmVzdWx0LnhTaXplID1cbiAgICAgICAgICAgICAgICAoYXZhaWxhYmxlU2l6ZSAqIHhPdXRlck1pbkNvbnRlbnRTaXplKSAvIG1pbkNvbnRlbnRTaXplU3VtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzdWx0LnhTaXplID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnlTaXplID0gYXZhaWxhYmxlU2l6ZSAtIHJlc3VsdC54U2l6ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoeE91dGVyTWF4Q29udGVudFNpemUgPiAwKSB7XG4gICAgICAgICAgcmVzdWx0LnhTaXplID0gYXZhaWxhYmxlU2l6ZTtcbiAgICAgICAgfSBlbHNlIGlmICh5T3V0ZXJNYXhDb250ZW50U2l6ZSA+IDApIHtcbiAgICAgICAgICByZXN1bHQueVNpemUgPSBhdmFpbGFibGVTaXplO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHguaGFzQXV0b1NpemUoKSkge1xuICAgICAgICByZXN1bHQueFNpemUgPSBNYXRoLm1heChhdmFpbGFibGVTaXplIC0geS5nZXRPdXRlclNpemUoKSwgMCk7XG4gICAgICB9IGVsc2UgaWYgKHkuaGFzQXV0b1NpemUoKSkge1xuICAgICAgICByZXN1bHQueVNpemUgPSBNYXRoLm1heChhdmFpbGFibGVTaXplIC0geC5nZXRPdXRlclNpemUoKSwgMCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh4KSB7XG4gICAgICBpZiAoeC5oYXNBdXRvU2l6ZSgpKSB7XG4gICAgICAgIHJlc3VsdC54U2l6ZSA9IGF2YWlsYWJsZVNpemU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh5KSB7XG4gICAgICBpZiAoeS5oYXNBdXRvU2l6ZSgpKSB7XG4gICAgICAgIHJlc3VsdC55U2l6ZSA9IGF2YWlsYWJsZVNpemU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcmVwYXJlQ29udGFpbmVyKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICApOiB2b2lkIHtcbiAgICBzdXBlci5wcmVwYXJlQ29udGFpbmVyKGNvbnRleHQsIGNvbnRhaW5lciwgcGFnZSwgZG9jRmFjZXMsIGNsaWVudExheW91dCk7XG5cbiAgICAvLyBBZGQgYW4gYXR0cmlidXRlIHRvIHRoZSBlbGVtZW50IHNvIHRoYXQgaXQgY2FuIGJlIHJlZmVyZWQgZnJvbSBleHRlcm5hbFxuICAgIC8vIHN0eWxlIHNoZWV0cy5cbiAgICBjb250YWluZXIuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpdmxpb3N0eWxlLXBhZ2UtYm94XCIsIHRydWUpO1xuICB9XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIHVzZWQgZm9yIHBhcmFtZXRlcnMgcGFzc2VkIHRvIGRpc3RyaWJ1dGVBdXRvTWFyZ2luQm94U2l6ZXMgbWV0aG9kLlxuICovXG5pbnRlcmZhY2UgTWFyZ2luQm94U2l6aW5nUGFyYW0ge1xuICBoYXNBdXRvU2l6ZSgpOiBib29sZWFuO1xuXG4gIGdldE91dGVyTWF4Q29udGVudFNpemUoKTogbnVtYmVyO1xuXG4gIGdldE91dGVyTWluQ29udGVudFNpemUoKTogbnVtYmVyO1xuXG4gIGdldE91dGVyU2l6ZSgpOiBudW1iZXI7XG59XG5cbi8qKlxuICogTWFyZ2luQm94U2l6aW5nUGFyYW0gZm9yIGEgc2luZ2xlIHBhZ2UtbWFyZ2luIGJveC5cbiAqIEBwYXJhbSBjb250YWluZXIgQSBjb250YWluZXIgY29ycmVzcG9uZGluZyB0byB0aGUgdGFyZ2V0IG1hcmdpbiBib3guXG4gKiBAcGFyYW0gc3R5bGUgU3R5bGVzIHNwZWNpZmllZCB0byB0aGUgdGFyZ2V0IG1hcmdpbiBib3guXG4gKi9cbmNsYXNzIFNpbmdsZUJveE1hcmdpbkJveFNpemluZ1BhcmFtIGltcGxlbWVudHMgTWFyZ2luQm94U2l6aW5nUGFyYW0ge1xuICBwcml2YXRlIGhhc0F1dG9TaXplXzogYm9vbGVhbjtcbiAgcHJpdmF0ZSBzaXplOiB7IFtrZXkgaW4gU2l6aW5nLlNpemVdOiBudW1iZXIgfSB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCByZWFkb25seSBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBzdHlsZTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0sXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGlzSG9yaXpvbnRhbDogYm9vbGVhbixcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICkge1xuICAgIHRoaXMuaGFzQXV0b1NpemVfID0gIVBhZ2VNYXN0ZXIudG9FeHByQXV0byhcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbaXNIb3Jpem9udGFsID8gXCJ3aWR0aFwiIDogXCJoZWlnaHRcIl0sXG4gICAgICBuZXcgRXhwcnMuTnVtZXJpYyhzY29wZSwgMCwgXCJweFwiKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqICBAb3ZlcnJpZGVcbiAgICovXG4gIGhhc0F1dG9TaXplKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmhhc0F1dG9TaXplXztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U2l6ZSgpOiB7IFtrZXkgaW4gU2l6aW5nLlNpemVdOiBudW1iZXIgfSB7XG4gICAgaWYgKCF0aGlzLnNpemUpIHtcbiAgICAgIGNvbnN0IHNpemVzID0gdGhpcy5pc0hvcml6b250YWxcbiAgICAgICAgPyBbU2l6aW5nLlNpemUuTUFYX0NPTlRFTlRfV0lEVEgsIFNpemluZy5TaXplLk1JTl9DT05URU5UX1dJRFRIXVxuICAgICAgICA6IFtTaXppbmcuU2l6ZS5NQVhfQ09OVEVOVF9IRUlHSFQsIFNpemluZy5TaXplLk1JTl9DT05URU5UX0hFSUdIVF07XG4gICAgICB0aGlzLnNpemUgPSBTaXppbmcuZ2V0U2l6ZShcbiAgICAgICAgdGhpcy5jbGllbnRMYXlvdXQsXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmVsZW1lbnQsXG4gICAgICAgIHNpemVzLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2l6ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE91dGVyTWF4Q29udGVudFNpemUoKTogbnVtYmVyIHtcbiAgICBjb25zdCBzaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldExlZnQoKSArXG4gICAgICAgIHNpemVbU2l6aW5nLlNpemUuTUFYX0NPTlRFTlRfV0lEVEhdICtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRSaWdodCgpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldFRvcCgpICtcbiAgICAgICAgc2l6ZVtTaXppbmcuU2l6ZS5NQVhfQ09OVEVOVF9IRUlHSFRdICtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRCb3R0b20oKVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPdXRlck1pbkNvbnRlbnRTaXplKCk6IG51bWJlciB7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xuICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRMZWZ0KCkgK1xuICAgICAgICBzaXplW1NpemluZy5TaXplLk1JTl9DT05URU5UX1dJRFRIXSArXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0UmlnaHQoKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRUb3AoKSArXG4gICAgICAgIHNpemVbU2l6aW5nLlNpemUuTUlOX0NPTlRFTlRfSEVJR0hUXSArXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0Qm90dG9tKClcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3V0ZXJTaXplKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldExlZnQoKSArXG4gICAgICAgIHRoaXMuY29udGFpbmVyLndpZHRoICtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRSaWdodCgpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldFRvcCgpICtcbiAgICAgICAgdGhpcy5jb250YWluZXIuaGVpZ2h0ICtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRCb3R0b20oKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBNYXJnaW5Cb3hTaXppbmdQYXJhbSB3aXRoIHdoaWNoIG11bHRpcGxlIG1hcmdpbiBib3hlcyBhcmUgdHJlYXRlZCBhcyBvbmVcbiAqIG1hcmdpbiBib3guIEVhY2ggbWV0aG9kIHF1ZXJ5aW5nIGEgZGltZW5zaW9uIHJldHVybnMgdGhlIG1heGltdW0gb2YgdGhlIGJveGVzXG4gKiBtdWx0aXBsaWVkIGJ5IHRoZSBudW1iZXIgb2YgdGhlIGJveGVzLlxuICogQHBhcmFtIHBhcmFtcyBNYXJnaW5Cb3hTaXppbmdQYXJhbSdzIG9mIHRoZSB0YXJnZXQgbWFyZ2luIGJveGVzLlxuICovXG5jbGFzcyBNdWx0aXBsZUJveGVzTWFyZ2luQm94U2l6aW5nUGFyYW0gaW1wbGVtZW50cyBNYXJnaW5Cb3hTaXppbmdQYXJhbSB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgcGFyYW1zOiBNYXJnaW5Cb3hTaXppbmdQYXJhbVtdKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGhhc0F1dG9TaXplKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnBhcmFtcy5zb21lKChwKSA9PiBwLmhhc0F1dG9TaXplKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqICBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE91dGVyTWF4Q29udGVudFNpemUoKTogbnVtYmVyIHtcbiAgICBjb25zdCBzaXplcyA9IHRoaXMucGFyYW1zLm1hcCgocCkgPT4gcC5nZXRPdXRlck1heENvbnRlbnRTaXplKCkpO1xuICAgIHJldHVybiBNYXRoLm1heC5hcHBseShudWxsLCBzaXplcykgKiBzaXplcy5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3V0ZXJNaW5Db250ZW50U2l6ZSgpOiBudW1iZXIge1xuICAgIGNvbnN0IHNpemVzID0gdGhpcy5wYXJhbXMubWFwKChwKSA9PiBwLmdldE91dGVyTWluQ29udGVudFNpemUoKSk7XG4gICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIHNpemVzKSAqIHNpemVzLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiAgQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPdXRlclNpemUoKTogbnVtYmVyIHtcbiAgICBjb25zdCBzaXplcyA9IHRoaXMucGFyYW1zLm1hcCgocCkgPT4gcC5nZXRPdXRlclNpemUoKSk7XG4gICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIHNpemVzKSAqIHNpemVzLmxlbmd0aDtcbiAgfVxufVxuXG4vKipcbiAqIE1hcmdpbkJveFNpemluZ1BhcmFtIGZvciBhIHNpbmdsZSBwYWdlLW1hcmdpbiBib3ggd2l0aCBhIGZpeGVkIHNpemUgYWxvbmcgdGhlXG4gKiB2YXJpYWJsZSBkaW1lbnNpb24uXG4gKiBAcGFyYW0gY29udGFpbmVyIEEgY29udGFpbmVyIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHRhcmdldCBtYXJnaW4gYm94LlxuICogQHBhcmFtIHN0eWxlIFN0eWxlcyBzcGVjaWZpZWQgdG8gdGhlIHRhcmdldCBtYXJnaW4gYm94LlxuICogQHBhcmFtIHNpemUgVGhlIGZpeGVkIHNpemUgKHdpZHRoIG9yIGhlaWdodCkgYWxvbmcgdGhlIHZhcmlhYmxlIGRpbWVuc2lvbi5cbiAqL1xuY2xhc3MgRml4ZWRTaXplTWFyZ2luQm94U2l6aW5nUGFyYW0gZXh0ZW5kcyBTaW5nbGVCb3hNYXJnaW5Cb3hTaXppbmdQYXJhbSB7XG4gIHByaXZhdGUgZml4ZWRTaXplOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgc3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuICAgIGlzSG9yaXpvbnRhbDogYm9vbGVhbixcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICAgIHNpemU6IG51bWJlcixcbiAgKSB7XG4gICAgc3VwZXIoY29udGFpbmVyLCBzdHlsZSwgaXNIb3Jpem9udGFsLCBzY29wZSwgY2xpZW50TGF5b3V0KTtcbiAgICB0aGlzLmZpeGVkU2l6ZSA9IHNpemU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBoYXNBdXRvU2l6ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3V0ZXJNYXhDb250ZW50U2l6ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmdldE91dGVyU2l6ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqICBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE91dGVyTWluQ29udGVudFNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5nZXRPdXRlclNpemUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE91dGVyU2l6ZSgpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRMZWZ0KCkgK1xuICAgICAgICB0aGlzLmZpeGVkU2l6ZSArXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0UmlnaHQoKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRUb3AoKSArXG4gICAgICAgIHRoaXMuZml4ZWRTaXplICtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRCb3R0b20oKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2VSdWxlUGFydGl0aW9uSW5zdGFuY2UgZXh0ZW5kcyBQYWdlTWFzdGVyLlBhcnRpdGlvbkluc3RhbmNlPFxuICBQYWdlUnVsZVBhcnRpdGlvblxuPiB7XG4gIGJvcmRlckJveFdpZHRoOiBFeHBycy5WYWwgPSBudWxsO1xuICBib3JkZXJCb3hIZWlnaHQ6IEV4cHJzLlZhbCA9IG51bGw7XG4gIG1hcmdpblRvcDogRXhwcnMuVmFsID0gbnVsbDtcbiAgbWFyZ2luUmlnaHQ6IEV4cHJzLlZhbCA9IG51bGw7XG4gIG1hcmdpbkJvdHRvbTogRXhwcnMuVmFsID0gbnVsbDtcbiAgbWFyZ2luTGVmdDogRXhwcnMuVmFsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwYXJlbnRJbnN0YW5jZTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2UsXG4gICAgcGFnZVJ1bGVQYXJ0aXRpb246IFBhZ2VSdWxlUGFydGl0aW9uLFxuICApIHtcbiAgICBzdXBlcihwYXJlbnRJbnN0YW5jZSwgcGFnZVJ1bGVQYXJ0aXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHlDYXNjYWRlQW5kSW5pdChcbiAgICBjYXNjYWRlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSxcbiAgICBkb2NFbGVtZW50U3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuY2FzY2FkZWQ7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIGRvY0VsZW1lbnRTdHlsZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkb2NFbGVtZW50U3R5bGUsIG5hbWUpKSB7XG4gICAgICAgIGlmIChuYW1lLm1hdGNoKC9eY29sdW1uLiokLykgfHwgbmFtZS5tYXRjaCgvXmJhY2tncm91bmQtLykpIHtcbiAgICAgICAgICBzdHlsZVtuYW1lXSA9IGRvY0VsZW1lbnRTdHlsZVtuYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBzdXBlci5hcHBseUNhc2NhZGVBbmRJbml0KGNhc2NhZGUsIGRvY0VsZW1lbnRTdHlsZSk7XG4gICAgY29uc3QgcGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZSA9IHRoaXNcbiAgICAgIC5wYXJlbnRJbnN0YW5jZSBhcyBQYWdlUnVsZU1hc3Rlckluc3RhbmNlO1xuICAgIHBhZ2VSdWxlTWFzdGVySW5zdGFuY2Uuc2V0UGFnZUFyZWFEaW1lbnNpb24oe1xuICAgICAgYm9yZGVyQm94V2lkdGg6IHRoaXMuYm9yZGVyQm94V2lkdGgsXG4gICAgICBib3JkZXJCb3hIZWlnaHQ6IHRoaXMuYm9yZGVyQm94SGVpZ2h0LFxuICAgICAgbWFyZ2luVG9wOiB0aGlzLm1hcmdpblRvcCxcbiAgICAgIG1hcmdpblJpZ2h0OiB0aGlzLm1hcmdpblJpZ2h0LFxuICAgICAgbWFyZ2luQm90dG9tOiB0aGlzLm1hcmdpbkJvdHRvbSxcbiAgICAgIG1hcmdpbkxlZnQ6IHRoaXMubWFyZ2luTGVmdCxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGluaXRIb3Jpem9udGFsKCk6IHZvaWQge1xuICAgIGNvbnN0IGRpbSA9IHRoaXMucmVzb2x2ZVBhZ2VCb3hEaW1lbnNpb25zKHtcbiAgICAgIHN0YXJ0OiBcImxlZnRcIixcbiAgICAgIGVuZDogXCJyaWdodFwiLFxuICAgICAgZXh0ZW50OiBcIndpZHRoXCIsXG4gICAgfSk7XG4gICAgdGhpcy5ib3JkZXJCb3hXaWR0aCA9IGRpbS5ib3JkZXJCb3hFeHRlbnQ7XG4gICAgdGhpcy5tYXJnaW5MZWZ0ID0gZGltLm1hcmdpblN0YXJ0O1xuICAgIHRoaXMubWFyZ2luUmlnaHQgPSBkaW0ubWFyZ2luRW5kO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaW5pdFZlcnRpY2FsKCk6IHZvaWQge1xuICAgIGNvbnN0IGRpbSA9IHRoaXMucmVzb2x2ZVBhZ2VCb3hEaW1lbnNpb25zKHtcbiAgICAgIHN0YXJ0OiBcInRvcFwiLFxuICAgICAgZW5kOiBcImJvdHRvbVwiLFxuICAgICAgZXh0ZW50OiBcImhlaWdodFwiLFxuICAgIH0pO1xuICAgIHRoaXMuYm9yZGVyQm94SGVpZ2h0ID0gZGltLmJvcmRlckJveEV4dGVudDtcbiAgICB0aGlzLm1hcmdpblRvcCA9IGRpbS5tYXJnaW5TdGFydDtcbiAgICB0aGlzLm1hcmdpbkJvdHRvbSA9IGRpbS5tYXJnaW5FbmQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHBhZ2UgZGltZW5zaW9ucyBhcyBzcGVjaWZpZWQgaW4gQ1NTIFBhZ2VkIE1lZGlhXG4gICAqIChodHRwOi8vZGV2LnczLm9yZy9jc3N3Zy9jc3MtcGFnZS8jcGFnZS1tb2RlbCkgUGFnZSBib3JkZXIgYm94IGV4dGVudCBhbmRcbiAgICogbWFyZ2lucy4gU2luY2UgdGhlIGNvbnRhaW5pbmcgYmxvY2sgY2FuIGJlIHJlc2l6ZWQgaW4gdGhlIG92ZXItY29uc3RyYWluZWRcbiAgICogY2FzZSwgdGhlIHN1bSBvZiB0aGVzZSB2YWx1ZXMgaXMgbm90IG5lY2Vzc2FyaWx5IHNhbWUgdG8gdGhlIG9yaWdpbmFsIHBhZ2VcbiAgICogZGltZW5zaW9uIHNwZWNpZmllZCBpbiB0aGUgcGFnZSBhdC1ydWxlcy5cbiAgICovXG4gIHByaXZhdGUgcmVzb2x2ZVBhZ2VCb3hEaW1lbnNpb25zKG5hbWVzOiB7XG4gICAgc3RhcnQ6IHN0cmluZztcbiAgICBlbmQ6IHN0cmluZztcbiAgICBleHRlbnQ6IHN0cmluZztcbiAgfSk6IHtcbiAgICBib3JkZXJCb3hFeHRlbnQ6IEV4cHJzLlZhbDtcbiAgICBtYXJnaW5TdGFydDogRXhwcnMuVmFsO1xuICAgIG1hcmdpbkVuZDogRXhwcnMuVmFsO1xuICB9IHtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgY29uc3QgcGFnZVNpemUgPSB0aGlzLnBhZ2VCb3gucGFnZVNpemU7XG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLnBhZ2VCb3guc2NvcGU7XG4gICAgY29uc3Qgc3RhcnRTaWRlID0gbmFtZXMuc3RhcnQ7XG4gICAgY29uc3QgZW5kU2lkZSA9IG5hbWVzLmVuZDtcbiAgICBjb25zdCBleHRlbnROYW1lID0gbmFtZXMuZXh0ZW50O1xuICAgIGNvbnN0IHBhZ2VFeHRlbnQgPSBwYWdlU2l6ZVtleHRlbnROYW1lXS50b0V4cHIoc2NvcGUsIG51bGwpO1xuICAgIGxldCBleHRlbnQgPSBQYWdlTWFzdGVyLnRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW2V4dGVudE5hbWVdLCBwYWdlRXh0ZW50KTtcbiAgICBsZXQgbWFyZ2luU3RhcnQgPSBQYWdlTWFzdGVyLnRvRXhwckF1dG8oXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW2BtYXJnaW4tJHtzdGFydFNpZGV9YF0sXG4gICAgICBwYWdlRXh0ZW50LFxuICAgICk7XG4gICAgbGV0IG1hcmdpbkVuZCA9IFBhZ2VNYXN0ZXIudG9FeHByQXV0byhcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbYG1hcmdpbi0ke2VuZFNpZGV9YF0sXG4gICAgICBwYWdlRXh0ZW50LFxuICAgICk7XG4gICAgY29uc3QgcGFkZGluZ1N0YXJ0ID0gUGFnZU1hc3Rlci50b0V4cHJaZXJvKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtgcGFkZGluZy0ke3N0YXJ0U2lkZX1gXSxcbiAgICAgIHBhZ2VFeHRlbnQsXG4gICAgKTtcbiAgICBjb25zdCBwYWRkaW5nRW5kID0gUGFnZU1hc3Rlci50b0V4cHJaZXJvKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtgcGFkZGluZy0ke2VuZFNpZGV9YF0sXG4gICAgICBwYWdlRXh0ZW50LFxuICAgICk7XG4gICAgY29uc3QgYm9yZGVyU3RhcnRXaWR0aCA9IFBhZ2VNYXN0ZXIudG9FeHByWmVyb0JvcmRlcihcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbYGJvcmRlci0ke3N0YXJ0U2lkZX0td2lkdGhgXSxcbiAgICAgIHN0eWxlW2Bib3JkZXItJHtzdGFydFNpZGV9LXN0eWxlYF0sXG4gICAgICBwYWdlRXh0ZW50LFxuICAgICk7XG4gICAgY29uc3QgYm9yZGVyRW5kV2lkdGggPSBQYWdlTWFzdGVyLnRvRXhwclplcm9Cb3JkZXIoXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW2Bib3JkZXItJHtlbmRTaWRlfS13aWR0aGBdLFxuICAgICAgc3R5bGVbYGJvcmRlci0ke2VuZFNpZGV9LXN0eWxlYF0sXG4gICAgICBwYWdlRXh0ZW50LFxuICAgICk7XG4gICAgbGV0IHJlbWFpbnMgPSBFeHBycy5zdWIoXG4gICAgICBzY29wZSxcbiAgICAgIHBhZ2VFeHRlbnQsXG4gICAgICBFeHBycy5hZGQoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBFeHBycy5hZGQoc2NvcGUsIGJvcmRlclN0YXJ0V2lkdGgsIHBhZGRpbmdTdGFydCksXG4gICAgICAgIEV4cHJzLmFkZChzY29wZSwgYm9yZGVyRW5kV2lkdGgsIHBhZGRpbmdFbmQpLFxuICAgICAgKSxcbiAgICApO1xuXG4gICAgLy8gVGhlIGRpbWVuc2lvbnMgYXJlIGNhbGN1bGF0ZWQgYXMgZm9yIGEgbm9uLXJlcGxhY2VkIGJsb2NrIGVsZW1lbnQgaW5cbiAgICAvLyBub3JtYWwgZmxvdyAoaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvdmlzdWRldC5odG1sI2Jsb2Nrd2lkdGgpXG4gICAgaWYgKCFleHRlbnQpIHtcbiAgICAgIGlmICghbWFyZ2luU3RhcnQpIHtcbiAgICAgICAgbWFyZ2luU3RhcnQgPSBzY29wZS56ZXJvO1xuICAgICAgfVxuICAgICAgaWYgKCFtYXJnaW5FbmQpIHtcbiAgICAgICAgbWFyZ2luRW5kID0gc2NvcGUuemVybztcbiAgICAgIH1cbiAgICAgIGV4dGVudCA9IEV4cHJzLnN1YihcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHJlbWFpbnMsXG4gICAgICAgIEV4cHJzLmFkZChzY29wZSwgbWFyZ2luU3RhcnQsIG1hcmdpbkVuZCksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1haW5zID0gRXhwcnMuc3ViKHNjb3BlLCByZW1haW5zLCBleHRlbnQpO1xuICAgICAgaWYgKCFtYXJnaW5TdGFydCAmJiAhbWFyZ2luRW5kKSB7XG4gICAgICAgIG1hcmdpblN0YXJ0ID0gRXhwcnMubXVsKHNjb3BlLCByZW1haW5zLCBuZXcgRXhwcnMuQ29uc3Qoc2NvcGUsIDAuNSkpO1xuICAgICAgICBtYXJnaW5FbmQgPSBtYXJnaW5TdGFydDtcbiAgICAgIH0gZWxzZSBpZiAobWFyZ2luU3RhcnQpIHtcbiAgICAgICAgbWFyZ2luRW5kID0gRXhwcnMuc3ViKHNjb3BlLCByZW1haW5zLCBtYXJnaW5TdGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXJnaW5TdGFydCA9IEV4cHJzLnN1YihzY29wZSwgcmVtYWlucywgbWFyZ2luRW5kKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPIG92ZXItY29uc3RyYWluZWQgY2FzZVxuICAgIC8vIFwiaWYgdGhlIHZhbHVlcyBhcmUgb3Zlci1jb25zdHJhaW5lZCwgaW5zdGVhZCBvZiBpZ25vcmluZyBhbnkgbWFyZ2lucywgdGhlXG4gICAgLy8gY29udGFpbmluZyBibG9jayBpcyByZXNpemVkIHRvIGNvaW5jaWRlIHdpdGggdGhlIG1hcmdpbiBlZGdlcyBvZiB0aGUgcGFnZVxuICAgIC8vIGJveC5cIiAoQ1NTIFBhZ2VkIE1lZGlhIGh0dHA6Ly9kZXYudzMub3JnL2Nzc3dnL2Nzcy1wYWdlLyNwYWdlLW1vZGVsKVxuICAgIHN0eWxlW3N0YXJ0U2lkZV0gPSBuZXcgQ3NzLkV4cHIobWFyZ2luU3RhcnQpO1xuICAgIHN0eWxlW2VuZFNpZGVdID0gbmV3IENzcy5FeHByKG1hcmdpbkVuZCk7XG4gICAgc3R5bGVbYG1hcmdpbi0ke3N0YXJ0U2lkZX1gXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtgbWFyZ2luLSR7ZW5kU2lkZX1gXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtgcGFkZGluZy0ke3N0YXJ0U2lkZX1gXSA9IG5ldyBDc3MuRXhwcihwYWRkaW5nU3RhcnQpO1xuICAgIHN0eWxlW2BwYWRkaW5nLSR7ZW5kU2lkZX1gXSA9IG5ldyBDc3MuRXhwcihwYWRkaW5nRW5kKTtcbiAgICBzdHlsZVtgYm9yZGVyLSR7c3RhcnRTaWRlfS13aWR0aGBdID0gbmV3IENzcy5FeHByKGJvcmRlclN0YXJ0V2lkdGgpO1xuICAgIHN0eWxlW2Bib3JkZXItJHtlbmRTaWRlfS13aWR0aGBdID0gbmV3IENzcy5FeHByKGJvcmRlckVuZFdpZHRoKTtcbiAgICBzdHlsZVtleHRlbnROYW1lXSA9IG5ldyBDc3MuRXhwcihleHRlbnQpO1xuICAgIHN0eWxlW2BtYXgtJHtleHRlbnROYW1lfWBdID0gbmV3IENzcy5FeHByKGV4dGVudCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJvcmRlckJveEV4dGVudDogRXhwcnMuc3ViKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgcGFnZUV4dGVudCxcbiAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBtYXJnaW5TdGFydCwgbWFyZ2luRW5kKSxcbiAgICAgICksXG4gICAgICBtYXJnaW5TdGFydCxcbiAgICAgIG1hcmdpbkVuZCxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJlcGFyZUNvbnRhaW5lcihcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgZG9jRmFjZXM6IEZvbnQuRG9jdW1lbnRGYWNlcyxcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgKTogdm9pZCB7XG4gICAgc3VwZXIucHJlcGFyZUNvbnRhaW5lcihjb250ZXh0LCBjb250YWluZXIsIHBhZ2UsIGRvY0ZhY2VzLCBjbGllbnRMYXlvdXQpO1xuICAgIHBhZ2UucGFnZUFyZWFFbGVtZW50ID0gY29udGFpbmVyLmVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAvLyBTZXQgcGFnZSBhcmVhIHNpemUgZm9yIHZ3L3ZoIHVuaXQgY2FsY3VsYXRpb25cbiAgICBjb250ZXh0LnBhZ2VBcmVhV2lkdGggPSBwYXJzZUZsb2F0KHBhZ2UucGFnZUFyZWFFbGVtZW50LnN0eWxlLndpZHRoKTtcbiAgICBjb250ZXh0LnBhZ2VBcmVhSGVpZ2h0ID0gcGFyc2VGbG9hdChwYWdlLnBhZ2VBcmVhRWxlbWVudC5zdHlsZS5oZWlnaHQpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYWdlTWFyZ2luQm94UGFydGl0aW9uSW5zdGFuY2UgZXh0ZW5kcyBQYWdlTWFzdGVyLlBhcnRpdGlvbkluc3RhbmNlPFxuICBQYWdlTWFyZ2luQm94UGFydGl0aW9uXG4+IHtcbiAgYm94SW5mbzogUGFnZU1hcmdpbkJveEluZm9ybWF0aW9uO1xuICBzdXBwcmVzc0VtcHR5Qm94R2VuZXJhdGlvbjogYm9vbGVhbiA9IHRydWU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcGFyZW50SW5zdGFuY2U6IFBhZ2VNYXN0ZXIuUGFnZUJveEluc3RhbmNlLFxuICAgIHBhZ2VNYXJnaW5Cb3hQYXJ0aXRpb246IFBhZ2VNYXJnaW5Cb3hQYXJ0aXRpb24sXG4gICkge1xuICAgIHN1cGVyKHBhcmVudEluc3RhbmNlLCBwYWdlTWFyZ2luQm94UGFydGl0aW9uKTtcbiAgICBjb25zdCBuYW1lID0gcGFnZU1hcmdpbkJveFBhcnRpdGlvbi5tYXJnaW5Cb3hOYW1lO1xuICAgIHRoaXMuYm94SW5mbyA9IHBhZ2VNYXJnaW5Cb3hlc1tuYW1lXTtcbiAgICBjb25zdCBwYWdlUnVsZU1hc3Rlckluc3RhbmNlID0gcGFyZW50SW5zdGFuY2UgYXMgUGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZTtcbiAgICBwYWdlUnVsZU1hc3Rlckluc3RhbmNlLnBhZ2VNYXJnaW5Cb3hJbnN0YW5jZXNbbmFtZV0gPSB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJlcGFyZUNvbnRhaW5lcihcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgZG9jRmFjZXM6IEZvbnQuRG9jdW1lbnRGYWNlcyxcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5hcHBseVZlcnRpY2FsQWxpZ24oY29udGV4dCwgY29udGFpbmVyLmVsZW1lbnQpO1xuICAgIHN1cGVyLnByZXBhcmVDb250YWluZXIoY29udGV4dCwgY29udGFpbmVyLCBwYWdlLCBkb2NGYWNlcywgY2xpZW50TGF5b3V0KTtcbiAgfVxuXG4gIHByaXZhdGUgYXBwbHlWZXJ0aWNhbEFsaWduKGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsIGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwiZGlzcGxheVwiLCBcImZsZXhcIik7XG4gICAgY29uc3QgdmVydGljYWxBbGlnbjogQ3NzLlZhbCA9IHRoaXMuZ2V0UHJvcChjb250ZXh0LCBcInZlcnRpY2FsLWFsaWduXCIpO1xuICAgIGxldCBmbGV4QWxpZ246IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgIGlmICh2ZXJ0aWNhbEFsaWduID09PSBDc3MuZ2V0TmFtZShcIm1pZGRsZVwiKSkge1xuICAgICAgZmxleEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICB9IGVsc2UgaWYgKHZlcnRpY2FsQWxpZ24gPT09IENzcy5nZXROYW1lKFwidG9wXCIpKSB7XG4gICAgICBmbGV4QWxpZ24gPSBcImZsZXgtc3RhcnRcIjtcbiAgICB9IGVsc2UgaWYgKHZlcnRpY2FsQWxpZ24gPT09IENzcy5nZXROYW1lKFwiYm90dG9tXCIpKSB7XG4gICAgICBmbGV4QWxpZ24gPSBcImZsZXgtZW5kXCI7XG4gICAgfVxuICAgIGlmIChmbGV4QWxpZ24pIHtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIFwiZmxleC1mbG93XCIsXG4gICAgICAgIHRoaXMudmVydGljYWwgPyBcInJvd1wiIDogXCJjb2x1bW5cIixcbiAgICAgICk7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwianVzdGlmeS1jb250ZW50XCIsIGZsZXhBbGlnbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBwYWdlLW1hcmdpbiBib3hlcyBwb3NpdGlvbnMgYWxvbmcgdGhlIHZhcmlhYmxlIGRpbWVuc2lvbiBvZiB0aGVcbiAgICogcGFnZS4gRm9yIENFTlRFUiBhbmQgRU5EIG1hcmdpbiBib3hlcywgdGhlIHBvc2l0aW9uIGlzIGNhbGN1bGF0ZWQgb25seSBpZlxuICAgKiB0aGUgZGltZW5zaW9uICh3aWR0aCBvciBoZWlnaHQpIGlzIG5vbi1hdXRvLCBzbyB0aGF0IGl0IGNhbiBiZSByZXNvbHZlZCBhdFxuICAgKiB0aGlzIHBvaW50LiBJZiB0aGUgZGltZW5zaW9uIGlzIGF1dG8sIHRoZSBjYWxjdWxhdGlvbiBpcyBkZWZmZXJlZC5cbiAgICovXG4gIHByaXZhdGUgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uKFxuICAgIG5hbWVzOiB7IHN0YXJ0OiBzdHJpbmc7IGVuZDogc3RyaW5nOyBleHRlbnQ6IHN0cmluZyB9LFxuICAgIGRpbTogUGFnZUFyZWFEaW1lbnNpb24gfCBudWxsLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLnBhZ2VCb3guc2NvcGU7XG4gICAgY29uc3Qgc3RhcnRTaWRlID0gbmFtZXMuc3RhcnQ7XG4gICAgY29uc3QgZW5kU2lkZSA9IG5hbWVzLmVuZDtcbiAgICBjb25zdCBleHRlbnROYW1lID0gbmFtZXMuZXh0ZW50O1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHN0YXJ0U2lkZSA9PT0gXCJsZWZ0XCI7XG4gICAgY29uc3QgYXZhaWxhYmxlRXh0ZW50ID0gaXNIb3Jpem9udGFsXG4gICAgICA/IGRpbS5ib3JkZXJCb3hXaWR0aFxuICAgICAgOiBkaW0uYm9yZGVyQm94SGVpZ2h0O1xuICAgIGNvbnN0IGV4dGVudCA9IFBhZ2VNYXN0ZXIudG9FeHByQXV0byhcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbZXh0ZW50TmFtZV0sXG4gICAgICBhdmFpbGFibGVFeHRlbnQsXG4gICAgKTtcbiAgICBjb25zdCBzdGFydE9mZnNldCA9IGlzSG9yaXpvbnRhbCA/IGRpbS5tYXJnaW5MZWZ0IDogZGltLm1hcmdpblRvcDtcbiAgICBpZiAoXG4gICAgICB0aGlzLmJveEluZm8ucG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uID09PVxuICAgICAgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLlNUQVJUXG4gICAgKSB7XG4gICAgICBzdHlsZVtzdGFydFNpZGVdID0gbmV3IENzcy5FeHByKHN0YXJ0T2Zmc2V0KTtcbiAgICB9IGVsc2UgaWYgKGV4dGVudCkge1xuICAgICAgY29uc3QgbWFyZ2luU3RhcnQgPSBQYWdlTWFzdGVyLnRvRXhwclplcm8oXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBzdHlsZVtgbWFyZ2luLSR7c3RhcnRTaWRlfWBdLFxuICAgICAgICBhdmFpbGFibGVFeHRlbnQsXG4gICAgICApO1xuICAgICAgY29uc3QgbWFyZ2luRW5kID0gUGFnZU1hc3Rlci50b0V4cHJaZXJvKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgc3R5bGVbYG1hcmdpbi0ke2VuZFNpZGV9YF0sXG4gICAgICAgIGF2YWlsYWJsZUV4dGVudCxcbiAgICAgICk7XG4gICAgICBjb25zdCBwYWRkaW5nU3RhcnQgPSBQYWdlTWFzdGVyLnRvRXhwclplcm8oXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBzdHlsZVtgcGFkZGluZy0ke3N0YXJ0U2lkZX1gXSxcbiAgICAgICAgYXZhaWxhYmxlRXh0ZW50LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHBhZGRpbmdFbmQgPSBQYWdlTWFzdGVyLnRvRXhwclplcm8oXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBzdHlsZVtgcGFkZGluZy0ke2VuZFNpZGV9YF0sXG4gICAgICAgIGF2YWlsYWJsZUV4dGVudCxcbiAgICAgICk7XG4gICAgICBjb25zdCBib3JkZXJTdGFydFdpZHRoID0gUGFnZU1hc3Rlci50b0V4cHJaZXJvQm9yZGVyKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgc3R5bGVbYGJvcmRlci0ke3N0YXJ0U2lkZX0td2lkdGhgXSxcbiAgICAgICAgc3R5bGVbYGJvcmRlci0ke3N0YXJ0U2lkZX0tc3R5bGVgXSxcbiAgICAgICAgYXZhaWxhYmxlRXh0ZW50LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGJvcmRlckVuZFdpZHRoID0gUGFnZU1hc3Rlci50b0V4cHJaZXJvQm9yZGVyKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgc3R5bGVbYGJvcmRlci0ke2VuZFNpZGV9LXdpZHRoYF0sXG4gICAgICAgIHN0eWxlW2Bib3JkZXItJHtlbmRTaWRlfS1zdHlsZWBdLFxuICAgICAgICBhdmFpbGFibGVFeHRlbnQsXG4gICAgICApO1xuICAgICAgY29uc3Qgb3V0ZXJFeHRlbnQgPSBFeHBycy5hZGQoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBleHRlbnQsXG4gICAgICAgIEV4cHJzLmFkZChcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIHBhZGRpbmdTdGFydCwgcGFkZGluZ0VuZCksXG4gICAgICAgICAgRXhwcnMuYWRkKFxuICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIGJvcmRlclN0YXJ0V2lkdGgsIGJvcmRlckVuZFdpZHRoKSxcbiAgICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgbWFyZ2luU3RhcnQsIG1hcmdpbkVuZCksXG4gICAgICAgICAgKSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgICBzd2l0Y2ggKHRoaXMuYm94SW5mby5wb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24pIHtcbiAgICAgICAgY2FzZSBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uQ0VOVEVSOlxuICAgICAgICAgIHN0eWxlW3N0YXJ0U2lkZV0gPSBuZXcgQ3NzLkV4cHIoXG4gICAgICAgICAgICBFeHBycy5hZGQoXG4gICAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgICBzdGFydE9mZnNldCxcbiAgICAgICAgICAgICAgRXhwcnMuZGl2KFxuICAgICAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgICAgIEV4cHJzLnN1YihzY29wZSwgYXZhaWxhYmxlRXh0ZW50LCBvdXRlckV4dGVudCksXG4gICAgICAgICAgICAgICAgbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCAyKSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uRU5EOlxuICAgICAgICAgIHN0eWxlW3N0YXJ0U2lkZV0gPSBuZXcgQ3NzLkV4cHIoXG4gICAgICAgICAgICBFeHBycy5zdWIoXG4gICAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIHN0YXJ0T2Zmc2V0LCBhdmFpbGFibGVFeHRlbnQpLFxuICAgICAgICAgICAgICBvdXRlckV4dGVudCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHBhZ2UtbWFyZ2luIGJveGVzIHBvc2l0aW9ucyBhbG9uZyB0aGUgZml4ZWQgZGltZW5zaW9uIG9mIHRoZVxuICAgKiBwYWdlLlxuICAgKi9cbiAgcHJpdmF0ZSBwb3NpdGlvbkFuZFNpemVBbG9uZ0ZpeGVkRGltZW5zaW9uKFxuICAgIG5hbWVzOiB7IGluc2lkZTogc3RyaW5nOyBvdXRzaWRlOiBzdHJpbmc7IGV4dGVudDogc3RyaW5nIH0sXG4gICAgZGltOiBQYWdlQXJlYURpbWVuc2lvbiB8IG51bGwsXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5zdHlsZTtcbiAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZUJveC5zY29wZTtcbiAgICBjb25zdCBpbnNpZGVOYW1lID0gbmFtZXMuaW5zaWRlO1xuICAgIGNvbnN0IG91dHNpZGVOYW1lID0gbmFtZXMub3V0c2lkZTtcbiAgICBjb25zdCBleHRlbnROYW1lID0gbmFtZXMuZXh0ZW50O1xuICAgIGNvbnN0IHBhZ2VNYXJnaW4gPVxuICAgICAgZGltW1xuICAgICAgICBgbWFyZ2luJHtvdXRzaWRlTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKX0ke291dHNpZGVOYW1lLnN1YnN0cmluZyhcbiAgICAgICAgICAxLFxuICAgICAgICApfWBcbiAgICAgIF07XG4gICAgY29uc3QgbWFyZ2luSW5zaWRlID0gUGFnZU1hc3Rlci50b0V4cHJaZXJvQXV0byhcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbYG1hcmdpbi0ke2luc2lkZU5hbWV9YF0sXG4gICAgICBwYWdlTWFyZ2luLFxuICAgICk7XG4gICAgY29uc3QgbWFyZ2luT3V0c2lkZSA9IFBhZ2VNYXN0ZXIudG9FeHByWmVyb0F1dG8oXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW2BtYXJnaW4tJHtvdXRzaWRlTmFtZX1gXSxcbiAgICAgIHBhZ2VNYXJnaW4sXG4gICAgKTtcbiAgICBjb25zdCBwYWRkaW5nSW5zaWRlID0gUGFnZU1hc3Rlci50b0V4cHJaZXJvKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtgcGFkZGluZy0ke2luc2lkZU5hbWV9YF0sXG4gICAgICBwYWdlTWFyZ2luLFxuICAgICk7XG4gICAgY29uc3QgcGFkZGluZ091dHNpZGUgPSBQYWdlTWFzdGVyLnRvRXhwclplcm8oXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW2BwYWRkaW5nLSR7b3V0c2lkZU5hbWV9YF0sXG4gICAgICBwYWdlTWFyZ2luLFxuICAgICk7XG4gICAgY29uc3QgYm9yZGVySW5zaWRlV2lkdGggPSBQYWdlTWFzdGVyLnRvRXhwclplcm9Cb3JkZXIoXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW2Bib3JkZXItJHtpbnNpZGVOYW1lfS13aWR0aGBdLFxuICAgICAgc3R5bGVbYGJvcmRlci0ke2luc2lkZU5hbWV9LXN0eWxlYF0sXG4gICAgICBwYWdlTWFyZ2luLFxuICAgICk7XG4gICAgY29uc3QgYm9yZGVyT3V0c2lkZVdpZHRoID0gUGFnZU1hc3Rlci50b0V4cHJaZXJvQm9yZGVyKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtgYm9yZGVyLSR7b3V0c2lkZU5hbWV9LXdpZHRoYF0sXG4gICAgICBzdHlsZVtgYm9yZGVyLSR7b3V0c2lkZU5hbWV9LXN0eWxlYF0sXG4gICAgICBwYWdlTWFyZ2luLFxuICAgICk7XG4gICAgY29uc3QgZXh0ZW50ID0gUGFnZU1hc3Rlci50b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtleHRlbnROYW1lXSwgcGFnZU1hcmdpbik7XG4gICAgbGV0IHJlc3VsdDoge1xuICAgICAgZXh0ZW50OiBFeHBycy5SZXN1bHQ7XG4gICAgICBtYXJnaW5JbnNpZGU6IEV4cHJzLlJlc3VsdDtcbiAgICAgIG1hcmdpbk91dHNpZGU6IEV4cHJzLlJlc3VsdDtcbiAgICB9ID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIGdldENvbXB1dGVkVmFsdWVzKFxuICAgICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICApOiB7XG4gICAgICBleHRlbnQ6IEV4cHJzLlJlc3VsdCB8IG51bGw7XG4gICAgICBtYXJnaW5JbnNpZGU6IEV4cHJzLlJlc3VsdCB8IG51bGw7XG4gICAgICBtYXJnaW5PdXRzaWRlOiBFeHBycy5SZXN1bHQgfCBudWxsO1xuICAgIH0ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBleHRlbnQ6IGV4dGVudCA/IGV4dGVudC5ldmFsdWF0ZShjb250ZXh0KSA6IG51bGwsXG4gICAgICAgIG1hcmdpbkluc2lkZTogbWFyZ2luSW5zaWRlID8gbWFyZ2luSW5zaWRlLmV2YWx1YXRlKGNvbnRleHQpIDogbnVsbCxcbiAgICAgICAgbWFyZ2luT3V0c2lkZTogbWFyZ2luT3V0c2lkZSA/IG1hcmdpbk91dHNpZGUuZXZhbHVhdGUoY29udGV4dCkgOiBudWxsLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHBhZ2VNYXJnaW5WYWx1ZSA9IHBhZ2VNYXJnaW4uZXZhbHVhdGUoY29udGV4dCk7XG4gICAgICBsZXQgYm9yZGVyQW5kUGFkZGluZyA9IDA7XG4gICAgICBbXG4gICAgICAgIGJvcmRlckluc2lkZVdpZHRoLFxuICAgICAgICBwYWRkaW5nSW5zaWRlLFxuICAgICAgICBwYWRkaW5nT3V0c2lkZSxcbiAgICAgICAgYm9yZGVyT3V0c2lkZVdpZHRoLFxuICAgICAgXS5mb3JFYWNoKCh4KSA9PiB7XG4gICAgICAgIGlmICh4KSB7XG4gICAgICAgICAgYm9yZGVyQW5kUGFkZGluZyArPSB4LmV2YWx1YXRlKGNvbnRleHQpIGFzIG51bWJlcjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAocmVzdWx0Lm1hcmdpbkluc2lkZSA9PT0gbnVsbCB8fCByZXN1bHQubWFyZ2luT3V0c2lkZSA9PT0gbnVsbCkge1xuICAgICAgICBjb25zdCB0b3RhbCA9XG4gICAgICAgICAgYm9yZGVyQW5kUGFkZGluZyArXG4gICAgICAgICAgKHJlc3VsdC5leHRlbnQgYXMgbnVtYmVyKSArXG4gICAgICAgICAgKHJlc3VsdC5tYXJnaW5JbnNpZGUgYXMgbnVtYmVyKSArXG4gICAgICAgICAgKHJlc3VsdC5tYXJnaW5PdXRzaWRlIGFzIG51bWJlcik7XG4gICAgICAgIGlmICh0b3RhbCA+IHBhZ2VNYXJnaW5WYWx1ZSkge1xuICAgICAgICAgIGlmIChyZXN1bHQubWFyZ2luSW5zaWRlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXN1bHQubWFyZ2luSW5zaWRlID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlc3VsdC5tYXJnaW5PdXRzaWRlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXN1bHQubWFyZ2luT3V0c2lkZSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIHJlc3VsdC5leHRlbnQgIT09IG51bGwgJiZcbiAgICAgICAgcmVzdWx0Lm1hcmdpbkluc2lkZSAhPT0gbnVsbCAmJlxuICAgICAgICByZXN1bHQubWFyZ2luT3V0c2lkZSAhPT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIC8vIG92ZXItY29uc3RyYWluZWRcbiAgICAgICAgcmVzdWx0Lm1hcmdpbk91dHNpZGUgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICByZXN1bHQuZXh0ZW50ID09PSBudWxsICYmXG4gICAgICAgIHJlc3VsdC5tYXJnaW5JbnNpZGUgIT09IG51bGwgJiZcbiAgICAgICAgcmVzdWx0Lm1hcmdpbk91dHNpZGUgIT09IG51bGxcbiAgICAgICkge1xuICAgICAgICByZXN1bHQuZXh0ZW50ID1cbiAgICAgICAgICBwYWdlTWFyZ2luVmFsdWUgLVxuICAgICAgICAgIGJvcmRlckFuZFBhZGRpbmcgLVxuICAgICAgICAgIChyZXN1bHQubWFyZ2luSW5zaWRlIGFzIG51bWJlcikgLVxuICAgICAgICAgIChyZXN1bHQubWFyZ2luT3V0c2lkZSBhcyBudW1iZXIpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgcmVzdWx0LmV4dGVudCAhPT0gbnVsbCAmJlxuICAgICAgICAocmVzdWx0Lm1hcmdpbkluc2lkZSBhcyBudW1iZXIpID09PSBudWxsICYmXG4gICAgICAgIChyZXN1bHQubWFyZ2luT3V0c2lkZSBhcyBudW1iZXIpICE9PSBudWxsXG4gICAgICApIHtcbiAgICAgICAgcmVzdWx0Lm1hcmdpbkluc2lkZSA9XG4gICAgICAgICAgcGFnZU1hcmdpblZhbHVlIC1cbiAgICAgICAgICBib3JkZXJBbmRQYWRkaW5nIC1cbiAgICAgICAgICAocmVzdWx0LmV4dGVudCBhcyBudW1iZXIpIC1cbiAgICAgICAgICAocmVzdWx0Lm1hcmdpbk91dHNpZGUgYXMgbnVtYmVyKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHJlc3VsdC5leHRlbnQgIT09IG51bGwgJiZcbiAgICAgICAgcmVzdWx0Lm1hcmdpbkluc2lkZSAhPT0gbnVsbCAmJlxuICAgICAgICByZXN1bHQubWFyZ2luT3V0c2lkZSA9PT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIHJlc3VsdC5tYXJnaW5PdXRzaWRlID1cbiAgICAgICAgICBwYWdlTWFyZ2luVmFsdWUgLVxuICAgICAgICAgIGJvcmRlckFuZFBhZGRpbmcgLVxuICAgICAgICAgIChyZXN1bHQuZXh0ZW50IGFzIG51bWJlcikgLVxuICAgICAgICAgIChyZXN1bHQubWFyZ2luSW5zaWRlIGFzIG51bWJlcik7XG4gICAgICB9IGVsc2UgaWYgKHJlc3VsdC5leHRlbnQgPT09IG51bGwpIHtcbiAgICAgICAgcmVzdWx0Lm1hcmdpbkluc2lkZSA9IHJlc3VsdC5tYXJnaW5PdXRzaWRlID0gMDtcbiAgICAgICAgcmVzdWx0LmV4dGVudCA9IHBhZ2VNYXJnaW5WYWx1ZSAtIGJvcmRlckFuZFBhZGRpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQubWFyZ2luSW5zaWRlID0gcmVzdWx0Lm1hcmdpbk91dHNpZGUgPVxuICAgICAgICAgIChwYWdlTWFyZ2luVmFsdWUgLSBib3JkZXJBbmRQYWRkaW5nIC0gKHJlc3VsdC5leHRlbnQgYXMgbnVtYmVyKSkgLyAyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgc3R5bGVbZXh0ZW50TmFtZV0gPSBuZXcgQ3NzLkV4cHIoXG4gICAgICBuZXcgRXhwcnMuTmF0aXZlKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBnZXRDb21wdXRlZFZhbHVlcyh0aGlzKS5leHRlbnQ7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gMCA6IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBleHRlbnROYW1lLFxuICAgICAgKSxcbiAgICApO1xuICAgIHN0eWxlW2BtYXJnaW4tJHtpbnNpZGVOYW1lfWBdID0gbmV3IENzcy5FeHByKFxuICAgICAgbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ2V0Q29tcHV0ZWRWYWx1ZXModGhpcykubWFyZ2luSW5zaWRlO1xuICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCA/IDAgOiB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgYG1hcmdpbi0ke2luc2lkZU5hbWV9YCxcbiAgICAgICksXG4gICAgKTtcbiAgICBzdHlsZVtgbWFyZ2luLSR7b3V0c2lkZU5hbWV9YF0gPSBuZXcgQ3NzLkV4cHIoXG4gICAgICBuZXcgRXhwcnMuTmF0aXZlKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBnZXRDb21wdXRlZFZhbHVlcyh0aGlzKS5tYXJnaW5PdXRzaWRlO1xuICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCA/IDAgOiB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgYG1hcmdpbi0ke291dHNpZGVOYW1lfWAsXG4gICAgICApLFxuICAgICk7XG4gICAgaWYgKGluc2lkZU5hbWUgPT09IFwibGVmdFwiKSB7XG4gICAgICBzdHlsZVtcImxlZnRcIl0gPSBuZXcgQ3NzLkV4cHIoXG4gICAgICAgIEV4cHJzLmFkZChzY29wZSwgZGltLm1hcmdpbkxlZnQsIGRpbS5ib3JkZXJCb3hXaWR0aCksXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoaW5zaWRlTmFtZSA9PT0gXCJ0b3BcIikge1xuICAgICAgc3R5bGVbXCJ0b3BcIl0gPSBuZXcgQ3NzLkV4cHIoXG4gICAgICAgIEV4cHJzLmFkZChzY29wZSwgZGltLm1hcmdpblRvcCwgZGltLmJvcmRlckJveEhlaWdodCksXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGluaXRIb3Jpem9udGFsKCk6IHZvaWQge1xuICAgIGNvbnN0IHBhZ2VSdWxlTWFzdGVySW5zdGFuY2UgPSB0aGlzXG4gICAgICAucGFyZW50SW5zdGFuY2UgYXMgUGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZTtcbiAgICBjb25zdCBkaW0gPSBwYWdlUnVsZU1hc3Rlckluc3RhbmNlLnBhZ2VBcmVhRGltZW5zaW9uO1xuICAgIGlmICh0aGlzLmJveEluZm8uaXNJbkxlZnRDb2x1bW4pIHtcbiAgICAgIHRoaXMucG9zaXRpb25BbmRTaXplQWxvbmdGaXhlZERpbWVuc2lvbihcbiAgICAgICAgeyBpbnNpZGU6IFwicmlnaHRcIiwgb3V0c2lkZTogXCJsZWZ0XCIsIGV4dGVudDogXCJ3aWR0aFwiIH0sXG4gICAgICAgIGRpbSxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmJveEluZm8uaXNJblJpZ2h0Q29sdW1uKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uQW5kU2l6ZUFsb25nRml4ZWREaW1lbnNpb24oXG4gICAgICAgIHsgaW5zaWRlOiBcImxlZnRcIiwgb3V0c2lkZTogXCJyaWdodFwiLCBleHRlbnQ6IFwid2lkdGhcIiB9LFxuICAgICAgICBkaW0sXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbihcbiAgICAgICAgeyBzdGFydDogXCJsZWZ0XCIsIGVuZDogXCJyaWdodFwiLCBleHRlbnQ6IFwid2lkdGhcIiB9LFxuICAgICAgICBkaW0sXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGluaXRWZXJ0aWNhbCgpOiB2b2lkIHtcbiAgICBjb25zdCBwYWdlUnVsZU1hc3Rlckluc3RhbmNlID0gdGhpc1xuICAgICAgLnBhcmVudEluc3RhbmNlIGFzIFBhZ2VSdWxlTWFzdGVySW5zdGFuY2U7XG4gICAgY29uc3QgZGltID0gcGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZS5wYWdlQXJlYURpbWVuc2lvbjtcbiAgICBpZiAodGhpcy5ib3hJbmZvLmlzSW5Ub3BSb3cpIHtcbiAgICAgIHRoaXMucG9zaXRpb25BbmRTaXplQWxvbmdGaXhlZERpbWVuc2lvbihcbiAgICAgICAgeyBpbnNpZGU6IFwiYm90dG9tXCIsIG91dHNpZGU6IFwidG9wXCIsIGV4dGVudDogXCJoZWlnaHRcIiB9LFxuICAgICAgICBkaW0sXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5ib3hJbmZvLmlzSW5Cb3R0b21Sb3cpIHtcbiAgICAgIHRoaXMucG9zaXRpb25BbmRTaXplQWxvbmdGaXhlZERpbWVuc2lvbihcbiAgICAgICAgeyBpbnNpZGU6IFwidG9wXCIsIG91dHNpZGU6IFwiYm90dG9tXCIsIGV4dGVudDogXCJoZWlnaHRcIiB9LFxuICAgICAgICBkaW0sXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbihcbiAgICAgICAgeyBzdGFydDogXCJ0b3BcIiwgZW5kOiBcImJvdHRvbVwiLCBleHRlbnQ6IFwiaGVpZ2h0XCIgfSxcbiAgICAgICAgZGltLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmaW5pc2hDb250YWluZXIoXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGNvbHVtbjogVnRyZWUuQ29udGFpbmVyLFxuICAgIGNvbHVtbkNvdW50OiBudW1iZXIsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICAgZG9jRmFjZXM6IEZvbnQuRG9jdW1lbnRGYWNlcyxcbiAgKTogdm9pZCB7XG4gICAgc3VwZXIuZmluaXNoQ29udGFpbmVyKFxuICAgICAgY29udGV4dCxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIHBhZ2UsXG4gICAgICBjb2x1bW4sXG4gICAgICBjb2x1bW5Db3VudCxcbiAgICAgIGNsaWVudExheW91dCxcbiAgICAgIGRvY0ZhY2VzLFxuICAgICk7XG5cbiAgICAvLyBmaW5pc2hDb250YWluZXIgaXMgY2FsbGVkIG9ubHkgd2hlbiB0aGUgbWFyZ2luIGJveCBpcyBnZW5lcmF0ZWQuXG4gICAgLy8gSW4gdGhpcyBjYXNlLCBzdG9yZSB0aGUgZ2VuZXJhdGVkIGNvbnRhaW5lciBmb3IgdGhlIG1hcmdpbiBib3ggaW4gdGhlXG4gICAgLy8gcGFnZSBvYmplY3QuIChleGNlcHQgd2hlbiBpdCBpcyBhIGNvcm5lciBtYXJnaW4gYm94LCBiZWNhdXNlIHNpemUgb2YgYVxuICAgIC8vIGNvcm5lciBtYXJnaW4gYm94IGRvZXMgbm90IG5lZWQgdG8gYmUgYWRqdXN0ZWQgYWZ0ZXIgdGhlIGxheW91dClcbiAgICBjb25zdCBtYXJnaW5Cb3hlcyA9IHBhZ2UubWFyZ2luQm94ZXM7XG4gICAgY29uc3QgbmFtZSA9ICh0aGlzLnBhZ2VCb3ggYXMgYW55KS5tYXJnaW5Cb3hOYW1lO1xuICAgIGNvbnN0IGJveEluZm8gPSB0aGlzLmJveEluZm87XG4gICAgaWYgKCFib3hJbmZvLmlzSW5MZWZ0Q29sdW1uICYmICFib3hJbmZvLmlzSW5SaWdodENvbHVtbikge1xuICAgICAgaWYgKGJveEluZm8uaXNJblRvcFJvdykge1xuICAgICAgICBtYXJnaW5Cb3hlcy50b3BbbmFtZV0gPSBjb250YWluZXI7XG4gICAgICB9IGVsc2UgaWYgKGJveEluZm8uaXNJbkJvdHRvbVJvdykge1xuICAgICAgICBtYXJnaW5Cb3hlcy5ib3R0b21bbmFtZV0gPSBjb250YWluZXI7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghYm94SW5mby5pc0luVG9wUm93ICYmICFib3hJbmZvLmlzSW5Cb3R0b21Sb3cpIHtcbiAgICAgIGlmIChib3hJbmZvLmlzSW5MZWZ0Q29sdW1uKSB7XG4gICAgICAgIG1hcmdpbkJveGVzLmxlZnRbbmFtZV0gPSBjb250YWluZXI7XG4gICAgICB9IGVsc2UgaWYgKGJveEluZm8uaXNJblJpZ2h0Q29sdW1uKSB7XG4gICAgICAgIG1hcmdpbkJveGVzLnJpZ2h0W25hbWVdID0gY29udGFpbmVyO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIER5bmFtaWNhbGx5IGdlbmVyYXRlIGFuZCBtYW5hZ2UgcGFnZSBtYXN0ZXJzIGNvcnJlc3BvbmRpbmcgdG8gcGFnZSBhdC1ydWxlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2VNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBwYWdlTWFzdGVyQ2FjaGU6IGFueSA9IHt9IGFzIHtcbiAgICBba2V5OiBzdHJpbmddOiBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXJJbnN0YW5jZTtcbiAgfTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNhc2NhZGVJbnN0YW5jZTogQ3NzQ2FzY2FkZS5DYXNjYWRlSW5zdGFuY2UsXG4gICAgcHJpdmF0ZSByZWFkb25seSBwYWdlU2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBwcml2YXRlIHJlYWRvbmx5IHJvb3RQYWdlQm94SW5zdGFuY2U6IFBhZ2VNYXN0ZXIuUm9vdFBhZ2VCb3hJbnN0YW5jZSxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgcHJpdmF0ZSByZWFkb25seSBkb2NFbGVtZW50U3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICApIHtcbiAgICB0aGlzLmRlZmluZVBhZ2VQcm9ncmVzc2lvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSB0aGUgcGFnZSBwcm9ncmVzc2lvbiBhbmQgZGVmaW5lIGxlZnQvcmlnaHQvcmVjdG8vdmVyc28gcGFnZXMuXG4gICAqL1xuICBwcml2YXRlIGRlZmluZVBhZ2VQcm9ncmVzc2lvbigpIHtcbiAgICAvLyBUT0RPIElmIGEgcGFnZSBicmVhayBpcyBmb3JjZWQgYmVmb3JlIHRoZSByb290IGVsZW1lbnQsIHJlY3RvL3ZlcnNvIHBhZ2VzXG4gICAgLy8gYXJlIG5vIGxvbmdlciBvZGQvZXZlbiBwYWdlcy4gbGVmdC9yaWdodCBhcmUgcmV2ZXJzZWQgdG9vLlxuICAgIGNvbnN0IHNjb3BlID0gdGhpcy5wYWdlU2NvcGU7XG4gICAgY29uc3QgcGFnZU51bWJlciA9IG5ldyBFeHBycy5OYW1lZChzY29wZSwgXCJwYWdlLW51bWJlclwiKTtcbiAgICBjb25zdCBpc0V2ZW5QYWdlID0gbmV3IEV4cHJzLkVxKFxuICAgICAgc2NvcGUsXG4gICAgICBuZXcgRXhwcnMuTW9kdWxvKHNjb3BlLCBwYWdlTnVtYmVyLCBuZXcgRXhwcnMuQ29uc3Qoc2NvcGUsIDIpKSxcbiAgICAgIHNjb3BlLnplcm8sXG4gICAgKTtcbiAgICBzY29wZS5kZWZpbmVOYW1lKFwicmVjdG8tcGFnZVwiLCBuZXcgRXhwcnMuTm90KHNjb3BlLCBpc0V2ZW5QYWdlKSk7XG4gICAgc2NvcGUuZGVmaW5lTmFtZShcInZlcnNvLXBhZ2VcIiwgaXNFdmVuUGFnZSk7XG4gICAgY29uc3Qgc3R5bGVJbnN0YW5jZTogYW55IC8qIE9wcy5TdHlsZUluc3RhbmNlICovID0gdGhpcy5jb250ZXh0O1xuICAgIGNvbnN0IHBhZ2VQcm9ncmVzc2lvbiA9XG4gICAgICBzdHlsZUluc3RhbmNlLnBhZ2VQcm9ncmVzc2lvbiB8fFxuICAgICAgcmVzb2x2ZVBhZ2VQcm9ncmVzc2lvbih0aGlzLmRvY0VsZW1lbnRTdHlsZSk7XG4gICAgaWYgKHBhZ2VQcm9ncmVzc2lvbiA9PT0gQ29uc3RhbnRzLlBhZ2VQcm9ncmVzc2lvbi5MVFIpIHtcbiAgICAgIHNjb3BlLmRlZmluZU5hbWUoXCJsZWZ0LXBhZ2VcIiwgaXNFdmVuUGFnZSk7XG4gICAgICBzY29wZS5kZWZpbmVOYW1lKFwicmlnaHQtcGFnZVwiLCBuZXcgRXhwcnMuTm90KHNjb3BlLCBpc0V2ZW5QYWdlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjb3BlLmRlZmluZU5hbWUoXCJsZWZ0LXBhZ2VcIiwgbmV3IEV4cHJzLk5vdChzY29wZSwgaXNFdmVuUGFnZSkpO1xuICAgICAgc2NvcGUuZGVmaW5lTmFtZShcInJpZ2h0LXBhZ2VcIiwgaXNFdmVuUGFnZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjYXNjYWRlZCBwYWdlIHN0eWxlIHNwZWNpZmllZCBpbiBwYWdlIGNvbnRleHQgZm9yIHRoZSBjdXJyZW50IHBhZ2UuXG4gICAqL1xuICBnZXRDYXNjYWRlZFBhZ2VTdHlsZSgpOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSB7XG4gICAgY29uc3Qgc3R5bGUgPSB7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgICB0aGlzLmNhc2NhZGVJbnN0YW5jZS5wdXNoUnVsZShbXSwgXCJcIiwgc3R5bGUpO1xuICAgIHRoaXMuY2FzY2FkZUluc3RhbmNlLnBvcFJ1bGUoKTtcbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGEgUGFnZU1hc3Rlckluc3RhbmNlIHdpdGggcGFnZSBydWxlcyBhcHBsaWVkLiBSZXR1cm4gYSBjYWNoZWRcbiAgICogaW5zdGFuY2UgaWYgdGhlcmUgYWxyZWFkeSBleGlzdHMgb25lIHdpdGggdGhlIHNhbWUgc3R5bGVzLlxuICAgKiBAcGFyYW0gcGFnZU1hc3Rlckluc3RhbmNlIFRoZSBvcmlnaW5hbCBwYWdlIG1hc3RlciBpbnN0YW5jZS5cbiAgICogQHBhcmFtIGNhc2NhZGVkUGFnZVN0eWxlIENhc2NhZGVkIHBhZ2Ugc3R5bGUgc3BlY2lmaWVkIGluIHBhZ2UgY29udGV4dC5cbiAgICovXG4gIGdldFBhZ2VSdWxlUGFnZU1hc3RlcihcbiAgICBwYWdlTWFzdGVySW5zdGFuY2U6IFBhZ2VNYXN0ZXIuUGFnZU1hc3Rlckluc3RhbmNlLFxuICAgIGNhc2NhZGVkUGFnZVN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgKTogUGFnZU1hc3Rlci5QYWdlTWFzdGVySW5zdGFuY2Uge1xuICAgIGNvbnN0IHBhZ2VNYXN0ZXIgPSBwYWdlTWFzdGVySW5zdGFuY2UucGFnZUJveCBhcyBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXI7XG5cbiAgICAvLyBJZiBubyBwcm9wZXJpZXMgYXJlIHNwZWNpZmllZCBpbiBAcGFnZSBydWxlcywgdXNlIHRoZSBvcmlnaW5hbCBwYWdlXG4gICAgLy8gbWFzdGVyLlxuICAgIGlmIChPYmplY3Qua2V5cyhjYXNjYWRlZFBhZ2VTdHlsZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICBwYWdlTWFzdGVyLnJlc2V0U2NvcGUoKTtcbiAgICAgIHJldHVybiBwYWdlTWFzdGVySW5zdGFuY2U7XG4gICAgfVxuICAgIGNvbnN0IGtleSA9IHRoaXMubWFrZUNhY2hlS2V5KGNhc2NhZGVkUGFnZVN0eWxlLCBwYWdlTWFzdGVyKTtcbiAgICBsZXQgYXBwbGllZCA9IHRoaXMucGFnZU1hc3RlckNhY2hlW2tleV07XG4gICAgaWYgKCFhcHBsaWVkKSB7XG4gICAgICBpZiAocGFnZU1hc3Rlci5wc2V1ZG9OYW1lID09PSBQYWdlTWFzdGVyLnVzZXJBZ2VudFBhZ2VNYXN0ZXJQc2V1ZG8pIHtcbiAgICAgICAgLy8gSWYgdGhlIHBhc3NlZCBwYWdlIG1hc3RlciBpcyBhIFVBIHBhZ2UgbWFzdGVyLFxuICAgICAgICAvLyBpZ25vcmUgaXQgYW5kIGdlbmVyYXRlIGEgbmV3IHBhZ2UgbWFzdGVyIGZyb20gQHBhZ2UgcnVsZXMuXG4gICAgICAgIGFwcGxpZWQgPSB0aGlzLmdlbmVyYXRlUGFnZVJ1bGVNYXN0ZXIoY2FzY2FkZWRQYWdlU3R5bGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT3RoZXJ3aXNlIGNhc2NhZGUgc29tZSBwcm9wZXJ0aWVzIGZyb20gQHBhZ2UgcnVsZXMgdG8gdGhlIHBhZ2VcbiAgICAgICAgLy8gbWFzdGVyLlxuICAgICAgICBhcHBsaWVkID0gdGhpcy5nZW5lcmF0ZUNhc2NhZGVkUGFnZU1hc3RlcihcbiAgICAgICAgICBjYXNjYWRlZFBhZ2VTdHlsZSxcbiAgICAgICAgICBwYWdlTWFzdGVyLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhpcy5wYWdlTWFzdGVyQ2FjaGVba2V5XSA9IGFwcGxpZWQ7XG4gICAgfVxuICAgIGFwcGxpZWQucGFnZUJveC5yZXNldFNjb3BlKCk7XG4gICAgcmV0dXJuIGFwcGxpZWQ7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgYSBjYWNoZSBrZXkgZnJvbSB0aGUgc3BlY2lmaWVkIHN0eWxlcyBhbmQgdGhlIG9yaWdpbmFsIHBhZ2UgbWFzdGVyXG4gICAqIGtleS5cbiAgICovXG4gIHByaXZhdGUgbWFrZUNhY2hlS2V5KFxuICAgIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBwYWdlTWFzdGVyOiBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXIsXG4gICk6IHN0cmluZyB7XG4gICAgY29uc3QgcHJvcHNTdHIgPSB0aGlzLm1ha2VDYXNjYWRlVmFsdWVPYmplY3RLZXkoc3R5bGUpO1xuICAgIHJldHVybiBgJHtwYWdlTWFzdGVyLmtleX1eJHtwcm9wc1N0cn1gO1xuICB9XG5cbiAgcHJpdmF0ZSBtYWtlQ2FzY2FkZVZhbHVlT2JqZWN0S2V5KG9iamVjdDogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUpOiBzdHJpbmcge1xuICAgIGNvbnN0IHByb3BzID0gW10gYXMgc3RyaW5nW107XG4gICAgZm9yIChjb25zdCBwcm9wIGluIG9iamVjdCkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3ApKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IG9iamVjdFtwcm9wXTtcbiAgICAgICAgbGV0IHN0cjogc3RyaW5nO1xuICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUpIHtcbiAgICAgICAgICBzdHIgPSBgJHt2YWwudmFsdWV9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSB0aGlzLm1ha2VDYXNjYWRlVmFsdWVPYmplY3RLZXkodmFsKTtcbiAgICAgICAgfVxuICAgICAgICBwcm9wcy5wdXNoKHByb3AgKyBzdHIgKyAodmFsLnByaW9yaXR5IHx8IFwiXCIpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb3BzLnNvcnQoKS5qb2luKFwiXlwiKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVQYWdlUnVsZU1hc3RlcihcbiAgICBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICk6IFBhZ2VSdWxlTWFzdGVySW5zdGFuY2Uge1xuICAgIGNvbnN0IHBhZ2VNYXN0ZXIgPSBuZXcgUGFnZVJ1bGVNYXN0ZXIoXG4gICAgICB0aGlzLnBhZ2VTY29wZSxcbiAgICAgIHRoaXMucm9vdFBhZ2VCb3hJbnN0YW5jZS5wYWdlQm94IGFzIFBhZ2VNYXN0ZXIuUm9vdFBhZ2VCb3gsXG4gICAgICBzdHlsZSxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VNYXN0ZXJJbnN0YW5jZSA9IHBhZ2VNYXN0ZXIuY3JlYXRlSW5zdGFuY2UoXG4gICAgICB0aGlzLnJvb3RQYWdlQm94SW5zdGFuY2UsXG4gICAgKTtcblxuICAgIC8vIERvIHRoZSBzYW1lIGluaXRpYWxpemF0aW9uIGFzIGluIE9wcy5TdHlsZUluc3RhbmNlLnByb3RvdHlwZS5pbml0XG4gICAgcGFnZU1hc3Rlckluc3RhbmNlLmFwcGx5Q2FzY2FkZUFuZEluaXQoXG4gICAgICB0aGlzLmNhc2NhZGVJbnN0YW5jZSxcbiAgICAgIHRoaXMuZG9jRWxlbWVudFN0eWxlLFxuICAgICk7XG4gICAgcGFnZU1hc3Rlckluc3RhbmNlLnJlc29sdmVBdXRvU2l6aW5nKHRoaXMuY29udGV4dCk7XG4gICAgcmV0dXJuIHBhZ2VNYXN0ZXJJbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYXNjYWRlIHNvbWUgcHJvcGVydGllcyBmcm9tIGBAcGFnZWAgcnVsZXMgdG8gYSBwYWdlIG1hc3Rlci5cbiAgICogRm9yIG5vdywgb25seSAnd2lkdGgnIGFuZCAnaGVpZ2h0JyByZXNvbHZlZCBmcm9tICdzaXplJyB2YWx1ZSBhcmUgY2FzY2FkZWQuXG4gICAqIEBwYXJhbSBzdHlsZSBDYXNjYWRlZCBzdHlsZSBpbiB0aGUgcGFnZSBjb250ZXh0XG4gICAqIEBwYXJhbSBwYWdlTWFzdGVyIFRoZSBvcmlnaW5hbCBwYWdlIG1hc3RlclxuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZUNhc2NhZGVkUGFnZU1hc3RlcihcbiAgICBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgcGFnZU1hc3RlcjogUGFnZU1hc3Rlci5QYWdlTWFzdGVyLFxuICApOiBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXJJbnN0YW5jZSB7XG4gICAgY29uc3QgbmV3UGFnZU1hc3RlciA9IHBhZ2VNYXN0ZXIuY2xvbmUoe1xuICAgICAgcHNldWRvTmFtZTogcGFnZVJ1bGVNYXN0ZXJQc2V1ZG9OYW1lLFxuICAgIH0pO1xuICAgIGNvbnN0IHBhZ2VNYXN0ZXJTdHlsZSA9IG5ld1BhZ2VNYXN0ZXIuc3BlY2lmaWVkO1xuICAgIGNvbnN0IHNpemUgPSBzdHlsZVtcInNpemVcIl07XG4gICAgaWYgKHNpemUpIHtcbiAgICAgIGNvbnN0IHBhZ2VTaXplID0gcmVzb2x2ZVBhZ2VTaXplQW5kQmxlZWQoc3R5bGUgYXMgYW55KTtcbiAgICAgIGNvbnN0IHByaW9yaXR5ID0gc2l6ZS5wcmlvcml0eTtcbiAgICAgIHBhZ2VNYXN0ZXJTdHlsZVtcIndpZHRoXCJdID0gQ3NzQ2FzY2FkZS5jYXNjYWRlVmFsdWVzKFxuICAgICAgICB0aGlzLmNvbnRleHQsXG4gICAgICAgIHBhZ2VNYXN0ZXJTdHlsZVtcIndpZHRoXCJdLFxuICAgICAgICBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUocGFnZVNpemUud2lkdGgsIHByaW9yaXR5KSxcbiAgICAgICk7XG4gICAgICBwYWdlTWFzdGVyU3R5bGVbXCJoZWlnaHRcIl0gPSBDc3NDYXNjYWRlLmNhc2NhZGVWYWx1ZXMoXG4gICAgICAgIHRoaXMuY29udGV4dCxcbiAgICAgICAgcGFnZU1hc3RlclN0eWxlW1wiaGVpZ2h0XCJdLFxuICAgICAgICBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUocGFnZVNpemUuaGVpZ2h0LCBwcmlvcml0eSksXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFRyYW5zZmVyIGNvdW50ZXIgcHJvcGVydGllcyB0byB0aGUgcGFnZSBzdHlsZSBzbyB0aGF0IHRoZXNlIHNwZWNpZmllZCBpblxuICAgIC8vIHRoZSBwYWdlIG1hc3RlciBhcmUgYWxzbyBlZmZlY3RpdmUuIE5vdGUgdGhhdCB0aGVzZSB2YWx1ZXMgKGlmIHNwZWNpZmllZClcbiAgICAvLyBhbHdheXMgb3ZlcnJpZGUgdmFsdWVzIGluIHBhZ2UgY29udGV4dHMuXG4gICAgW1wiY291bnRlci1yZXNldFwiLCBcImNvdW50ZXItaW5jcmVtZW50XCJdLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgIGlmIChwYWdlTWFzdGVyU3R5bGVbbmFtZV0pIHtcbiAgICAgICAgc3R5bGVbbmFtZV0gPSBwYWdlTWFzdGVyU3R5bGVbbmFtZV07XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgcGFnZU1hc3Rlckluc3RhbmNlID0gbmV3UGFnZU1hc3Rlci5jcmVhdGVJbnN0YW5jZShcbiAgICAgIHRoaXMucm9vdFBhZ2VCb3hJbnN0YW5jZSxcbiAgICApIGFzIFBhZ2VNYXN0ZXIuUGFnZU1hc3Rlckluc3RhbmNlO1xuXG4gICAgLy8gRG8gdGhlIHNhbWUgaW5pdGlhbGl6YXRpb24gYXMgaW4gT3BzLlN0eWxlSW5zdGFuY2UucHJvdG90eXBlLmluaXRcbiAgICBwYWdlTWFzdGVySW5zdGFuY2UuYXBwbHlDYXNjYWRlQW5kSW5pdChcbiAgICAgIHRoaXMuY2FzY2FkZUluc3RhbmNlLFxuICAgICAgdGhpcy5kb2NFbGVtZW50U3R5bGUsXG4gICAgKTtcbiAgICBwYWdlTWFzdGVySW5zdGFuY2UucmVzb2x2ZUF1dG9TaXppbmcodGhpcy5jb250ZXh0KTtcbiAgICByZXR1cm4gcGFnZU1hc3Rlckluc3RhbmNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja1BhZ2VUeXBlQWN0aW9uIGV4dGVuZHMgQ3NzQ2FzY2FkZS5DaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHBhZ2VUeXBlOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChjYXNjYWRlSW5zdGFuY2UuY3VycmVudFBhZ2VUeXBlID09PSB0aGlzLnBhZ2VUeXBlKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbWFrZVByaW1hcnkoY2FzY2FkZTogQ3NzQ2FzY2FkZS5DYXNjYWRlKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuY2hhaW5lZCkge1xuICAgICAgY2FzY2FkZS5pbnNlcnRJblRhYmxlKGNhc2NhZGUucGFnZXR5cGVzLCB0aGlzLnBhZ2VUeXBlLCB0aGlzLmNoYWluZWQpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNGaXJzdFBhZ2VBY3Rpb24gZXh0ZW5kcyBDc3NDYXNjYWRlLkNoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENzc0Nhc2NhZGUuQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgY29uc3QgcGFnZU51bWJlciA9IG5ldyBFeHBycy5OYW1lZCh0aGlzLnNjb3BlLCBcInBhZ2UtbnVtYmVyXCIpO1xuICAgIGlmIChwYWdlTnVtYmVyLmV2YWx1YXRlKGNhc2NhZGVJbnN0YW5jZS5jb250ZXh0KSA9PT0gMSkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNMZWZ0UGFnZUFjdGlvbiBleHRlbmRzIENzc0Nhc2NhZGUuQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ3NzQ2FzY2FkZS5DYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBjb25zdCBsZWZ0UGFnZSA9IG5ldyBFeHBycy5OYW1lZCh0aGlzLnNjb3BlLCBcImxlZnQtcGFnZVwiKTtcbiAgICBpZiAobGVmdFBhZ2UuZXZhbHVhdGUoY2FzY2FkZUluc3RhbmNlLmNvbnRleHQpKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAxO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJc1JpZ2h0UGFnZUFjdGlvbiBleHRlbmRzIENzc0Nhc2NhZGUuQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ3NzQ2FzY2FkZS5DYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBjb25zdCByaWdodFBhZ2UgPSBuZXcgRXhwcnMuTmFtZWQodGhpcy5zY29wZSwgXCJyaWdodC1wYWdlXCIpO1xuICAgIGlmIChyaWdodFBhZ2UuZXZhbHVhdGUoY2FzY2FkZUluc3RhbmNlLmNvbnRleHQpKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAxO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJc1JlY3RvUGFnZUFjdGlvbiBleHRlbmRzIENzc0Nhc2NhZGUuQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ3NzQ2FzY2FkZS5DYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBjb25zdCByZWN0b1BhZ2UgPSBuZXcgRXhwcnMuTmFtZWQodGhpcy5zY29wZSwgXCJyZWN0by1wYWdlXCIpO1xuICAgIGlmIChyZWN0b1BhZ2UuZXZhbHVhdGUoY2FzY2FkZUluc3RhbmNlLmNvbnRleHQpKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAxO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJc1ZlcnNvUGFnZUFjdGlvbiBleHRlbmRzIENzc0Nhc2NhZGUuQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ3NzQ2FzY2FkZS5DYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBjb25zdCB2ZXJzb1BhZ2UgPSBuZXcgRXhwcnMuTmFtZWQodGhpcy5zY29wZSwgXCJ2ZXJzby1wYWdlXCIpO1xuICAgIGlmICh2ZXJzb1BhZ2UuZXZhbHVhdGUoY2FzY2FkZUluc3RhbmNlLmNvbnRleHQpKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAxO1xuICB9XG59XG5cbi8qKlxuICogQWN0aW9uIGFwcGx5aW5nIGFuIGF0LXBhZ2UgcnVsZVxuICovXG5leHBvcnQgY2xhc3MgQXBwbHlQYWdlUnVsZUFjdGlvbiBleHRlbmRzIENzc0Nhc2NhZGUuQXBwbHlSdWxlQWN0aW9uIHtcbiAgY29uc3RydWN0b3Ioc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLCBzcGVjaWZpY2l0eTogbnVtYmVyKSB7XG4gICAgc3VwZXIoc3R5bGUsIHNwZWNpZmljaXR5LCBudWxsLCBudWxsLCBudWxsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ3NzQ2FzY2FkZS5DYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBtZXJnZUluUGFnZVJ1bGUoXG4gICAgICBjYXNjYWRlSW5zdGFuY2UuY29udGV4dCxcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50U3R5bGUsXG4gICAgICB0aGlzLnN0eWxlLFxuICAgICAgdGhpcy5zcGVjaWZpY2l0eSxcbiAgICAgIGNhc2NhZGVJbnN0YW5jZSxcbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogTWVyZ2UgcGFnZSBzdHlsZXMsIGluY2x1ZGluZyBzdHlsZXMgc3BlY2lmaWVkIG9uIHBhZ2UtbWFyZ2luIGJveGVzLFxuICogY29uc2lkZXJpbmcgc3BlY2lmaWNpdHkuIEludGVuZGVkIHRvIGJlIHVzZWQgaW4gcGxhY2Ugb2ZcbiAqIENzc0Nhc2NhZGUubWVyZ2VJbiwgd2hpY2ggaXMgZm9yIGVsZW1lbnQgc3R5bGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VJblBhZ2VSdWxlKFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICB0YXJnZXQ6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gIHNwZWNpZmljaXR5OiBudW1iZXIsXG4gIGNhc2NhZGVJbnN0YW5jZTogQ3NzQ2FzY2FkZS5DYXNjYWRlSW5zdGFuY2UsXG4pOiB2b2lkIHtcbiAgQ3NzQ2FzY2FkZS5tZXJnZUluKGNvbnRleHQsIHRhcmdldCwgc3R5bGUsIHNwZWNpZmljaXR5LCBudWxsLCBudWxsLCBudWxsKTtcbiAgY29uc3QgbWFyZ2luQm94ZXMgPSBzdHlsZVttYXJnaW5Cb3hlc0tleV07XG4gIGlmIChtYXJnaW5Cb3hlcykge1xuICAgIGNvbnN0IHRhcmdldE1hcCA9IENzc0Nhc2NhZGUuZ2V0TXV0YWJsZVN0eWxlTWFwKHRhcmdldCwgbWFyZ2luQm94ZXNLZXkpO1xuICAgIGZvciAoY29uc3QgYm94TmFtZSBpbiBtYXJnaW5Cb3hlcykge1xuICAgICAgaWYgKG1hcmdpbkJveGVzLmhhc093blByb3BlcnR5KGJveE5hbWUpKSB7XG4gICAgICAgIGxldCB0YXJnZXRCb3ggPSB0YXJnZXRNYXBbYm94TmFtZV07XG4gICAgICAgIGlmICghdGFyZ2V0Qm94KSB7XG4gICAgICAgICAgdGFyZ2V0Qm94ID0ge30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gICAgICAgICAgdGFyZ2V0TWFwW2JveE5hbWVdID0gdGFyZ2V0Qm94O1xuICAgICAgICB9XG4gICAgICAgIENzc0Nhc2NhZGUubWVyZ2VJbihcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIHRhcmdldEJveCxcbiAgICAgICAgICBtYXJnaW5Cb3hlc1tib3hOYW1lXSxcbiAgICAgICAgICBzcGVjaWZpY2l0eSxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBQYXJzZXJIYW5kbGVyIGZvciBgQHBhZ2VgIHJ1bGVzLiBJdCBoYW5kbGVzIHByb3BlcnRpZXMgc3BlY2lmaWVkIHdpdGggcGFnZVxuICogY29udGV4dHMuIEl0IGFsc28gZG9lcyBiYXNpYyBjYXNjYWRpbmcgKHdoaWNoIGNhbiBiZSBkb25lIHdpdGhvdXQgaW5mb3JtYXRpb25cbiAqIG90aGVyIHRoYW4gdGhlIHBhZ2UgcnVsZXMgdGhlbXNlbHZlcykgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGluIGBwYWdlUHJvcHNgXG4gKiBvYmplY3QgYXMgYSBtYXAgZnJvbSBwYWdlIHNlbGVjdG9ycyB0byBzZXRzIG9mIHByb3BlcnRpZXMuIFRoaXMgcmVzdWx0IGlzXG4gKiBsYXRlciB1c2VkIGZvciBhZGRpbmcgYEBwYWdlYCBydWxlcyB0byB0aGUgcmVhbCBET00sIHdoaWNoIGFyZSB0aGVuIHVzZWQgYnlcbiAqIHRoZSBQREYgcmVuZGVyZXIgKENocm9taXVtKSB0byBkZXRlcm1pbmUgcGFnZSBzaXplcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2VQYXJzZXJIYW5kbGVyIGV4dGVuZHMgQ3NzQ2FzY2FkZS5DYXNjYWRlUGFyc2VySGFuZGxlclxuICBpbXBsZW1lbnRzIENzc1ZhbGlkYXRvci5Qcm9wZXJ0eVJlY2VpdmVyIHtcbiAgcHJpdmF0ZSBjdXJyZW50UGFnZVNlbGVjdG9yczoge1xuICAgIHNlbGVjdG9yczogc3RyaW5nW10gfCBudWxsO1xuICAgIHNwZWNpZmljaXR5OiBudW1iZXI7XG4gIH1bXSA9IFtdO1xuICBwcml2YXRlIGN1cnJlbnROYW1lZFBhZ2VTZWxlY3Rvcjogc3RyaW5nID0gXCJcIjtcbiAgcHJpdmF0ZSBjdXJyZW50UHNldWRvUGFnZUNsYXNzU2VsZWN0b3JzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgb3duZXI6IENzc1BhcnNlci5EaXNwYXRjaFBhcnNlckhhbmRsZXIsXG4gICAgcGFyZW50OiBDc3NDYXNjYWRlLkNhc2NhZGVQYXJzZXJIYW5kbGVyLFxuICAgIHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCxcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBhZ2VQcm9wczogeyBba2V5OiBzdHJpbmddOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSB9LFxuICApIHtcbiAgICBzdXBlcihzY29wZSwgb3duZXIsIG51bGwsIHBhcmVudCwgbnVsbCwgdmFsaWRhdG9yU2V0LCBmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMuc3RhcnRTZWxlY3RvclJ1bGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRhZ1NlbGVjdG9yKG5zOiBzdHJpbmcgfCBudWxsLCBuYW1lOiBzdHJpbmcgfCBudWxsKTogdm9pZCB7XG4gICAgQXNzZXJ0cy5hc3NlcnQobmFtZSk7XG4gICAgdGhpcy5jdXJyZW50TmFtZWRQYWdlU2VsZWN0b3IgPSBuYW1lO1xuICAgIGlmIChuYW1lKSB7XG4gICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrUGFnZVR5cGVBY3Rpb24obmFtZSkpO1xuICAgICAgdGhpcy5zcGVjaWZpY2l0eSArPSA2NTUzNjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwc2V1ZG9jbGFzc1NlbGVjdG9yKG5hbWU6IHN0cmluZywgcGFyYW1zOiAobnVtYmVyIHwgc3RyaW5nKVtdKTogdm9pZCB7XG4gICAgaWYgKHBhcmFtcykge1xuICAgICAgdGhpcy5yZXBvcnRBbmRTa2lwKFxuICAgICAgICBgRV9JTlZBTElEX1BBR0VfU0VMRUNUT1IgOiR7bmFtZX0oJHtwYXJhbXMuam9pbihcIlwiKX0pYCxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudFBzZXVkb1BhZ2VDbGFzc1NlbGVjdG9ycy5wdXNoKGA6JHtuYW1lfWApO1xuICAgIHN3aXRjaCAobmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjYXNlIFwiZmlyc3RcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc0ZpcnN0UGFnZUFjdGlvbih0aGlzLnNjb3BlKSk7XG4gICAgICAgIHRoaXMuc3BlY2lmaWNpdHkgKz0gMjU2O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNMZWZ0UGFnZUFjdGlvbih0aGlzLnNjb3BlKSk7XG4gICAgICAgIHRoaXMuc3BlY2lmaWNpdHkgKz0gMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc1JpZ2h0UGFnZUFjdGlvbih0aGlzLnNjb3BlKSk7XG4gICAgICAgIHRoaXMuc3BlY2lmaWNpdHkgKz0gMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmVjdG9cIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc1JlY3RvUGFnZUFjdGlvbih0aGlzLnNjb3BlKSk7XG4gICAgICAgIHRoaXMuc3BlY2lmaWNpdHkgKz0gMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidmVyc29cIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc1ZlcnNvUGFnZUFjdGlvbih0aGlzLnNjb3BlKSk7XG4gICAgICAgIHRoaXMuc3BlY2lmaWNpdHkgKz0gMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLnJlcG9ydEFuZFNraXAoYEVfSU5WQUxJRF9QQUdFX1NFTEVDVE9SIDoke25hbWV9YCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlIGN1cnJlbnRseSBwcm9jZXNzZWQgc2VsZWN0b3IgYW5kIHJlc2V0IHZhcmlhYmxlcy5cbiAgICovXG4gIHByaXZhdGUgZmluaXNoU2VsZWN0b3IoKSB7XG4gICAgbGV0IHNlbGVjdG9yczogc3RyaW5nW107XG4gICAgaWYgKFxuICAgICAgIXRoaXMuY3VycmVudE5hbWVkUGFnZVNlbGVjdG9yICYmXG4gICAgICAhdGhpcy5jdXJyZW50UHNldWRvUGFnZUNsYXNzU2VsZWN0b3JzLmxlbmd0aFxuICAgICkge1xuICAgICAgc2VsZWN0b3JzID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0b3JzID0gW3RoaXMuY3VycmVudE5hbWVkUGFnZVNlbGVjdG9yXS5jb25jYXQoXG4gICAgICAgIHRoaXMuY3VycmVudFBzZXVkb1BhZ2VDbGFzc1NlbGVjdG9ycy5zb3J0KCksXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRQYWdlU2VsZWN0b3JzLnB1c2goe1xuICAgICAgc2VsZWN0b3JzLFxuICAgICAgc3BlY2lmaWNpdHk6IHRoaXMuc3BlY2lmaWNpdHksXG4gICAgfSk7XG4gICAgdGhpcy5jdXJyZW50TmFtZWRQYWdlU2VsZWN0b3IgPSBcIlwiO1xuICAgIHRoaXMuY3VycmVudFBzZXVkb1BhZ2VDbGFzc1NlbGVjdG9ycyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbmV4dFNlbGVjdG9yKCk6IHZvaWQge1xuICAgIHRoaXMuZmluaXNoU2VsZWN0b3IoKTtcbiAgICBzdXBlci5uZXh0U2VsZWN0b3IoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UnVsZUJvZHkoKTogdm9pZCB7XG4gICAgdGhpcy5maW5pc2hTZWxlY3RvcigpO1xuICAgIHN1cGVyLnN0YXJ0UnVsZUJvZHkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNpbXBsZVByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwsIGltcG9ydGFudCk6IHZvaWQge1xuICAgIC8vIHdlIGxpbWl0ICdibGVlZCcgYW5kICdtYXJrcycgdG8gYmUgZWZmZWN0aXZlIG9ubHkgd2hlbiBzcGVjaWZpZWQgd2l0aG91dFxuICAgIC8vIHBhZ2Ugc2VsZWN0b3JzXG4gICAgaWYgKFxuICAgICAgKG5hbWUgPT09IFwiYmxlZWRcIiB8fCBuYW1lID09PSBcIm1hcmtzXCIpICYmXG4gICAgICAhdGhpcy5jdXJyZW50UGFnZVNlbGVjdG9ycy5zb21lKChzKSA9PiBzLnNlbGVjdG9ycyA9PT0gbnVsbClcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3VwZXIuc2ltcGxlUHJvcGVydHkobmFtZSwgdmFsdWUsIGltcG9ydGFudCk7XG4gICAgY29uc3QgY2FzY1ZhbCA9IENzc0Nhc2NhZGUuZ2V0UHJvcCh0aGlzLmVsZW1lbnRTdHlsZSwgbmFtZSk7XG4gICAgY29uc3QgcGFnZVByb3BzID0gdGhpcy5wYWdlUHJvcHM7XG4gICAgaWYgKG5hbWUgPT09IFwiYmxlZWRcIiB8fCBuYW1lID09PSBcIm1hcmtzXCIpIHtcbiAgICAgIGlmICghcGFnZVByb3BzW1wiXCJdKSB7XG4gICAgICAgIHBhZ2VQcm9wc1tcIlwiXSA9IHt9IGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICAgICAgfVxuXG4gICAgICAvLyB3ZSBjYW4gc2ltcGx5IG92ZXJ3cml0ZSB3aXRob3V0IGNvbnNpZGVyaW5nIHNwZWNpZmljaXR5XG4gICAgICAvLyBzaW5jZSAnYmxlZWQnIGFuZCAnbWFya3MnIGFsd2F5cyBjb21lIGZyb20gYSBwYWdlIHJ1bGUgd2l0aG91dCBwYWdlXG4gICAgICAvLyBzZWxlY3RvcnMuXG4gICAgICBPYmplY3Qua2V5cyhwYWdlUHJvcHMpLmZvckVhY2goKHNlbGVjdG9yKSA9PiB7XG4gICAgICAgIENzc0Nhc2NhZGUuc2V0UHJvcChwYWdlUHJvcHNbc2VsZWN0b3JdLCBuYW1lLCBjYXNjVmFsKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gXCJzaXplXCIpIHtcbiAgICAgIGNvbnN0IG5vUGFnZVNlbGVjdG9yUHJvcHMgPSBwYWdlUHJvcHNbXCJcIl07XG4gICAgICB0aGlzLmN1cnJlbnRQYWdlU2VsZWN0b3JzLmZvckVhY2goKHMpID0+IHtcbiAgICAgICAgLy8gdXBkYXRlIHNwZWNpZmljaXR5IHRvIHJlZmxlY3QgdGhlIHNwZWNpZmljaXR5IG9mIHRoZSBzZWxlY3RvclxuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgICAgIGNhc2NWYWwudmFsdWUsXG4gICAgICAgICAgY2FzY1ZhbC5wcmlvcml0eSArIHMuc3BlY2lmaWNpdHksXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gcy5zZWxlY3RvcnMgPyBzLnNlbGVjdG9ycy5qb2luKFwiXCIpIDogXCJcIjtcbiAgICAgICAgbGV0IHByb3BzID0gcGFnZVByb3BzW3NlbGVjdG9yXTtcbiAgICAgICAgaWYgKCFwcm9wcykge1xuICAgICAgICAgIC8vIHNpbmNlIG5vIHByb3BlcnRpZXMgZm9yIHRoaXMgc2VsZWN0b3IgaGF2ZSBiZWVuIHN0b3JlZCBiZWZvcmUsXG4gICAgICAgICAgLy8gd2UgY2FuIHNpbXBseSBzZXQgdGhlICdzaXplJywgJ2JsZWVkJyBhbmQgJ21hcmtzJyBwcm9wZXJ0aWVzLlxuICAgICAgICAgIHByb3BzID0gcGFnZVByb3BzW3NlbGVjdG9yXSA9IHt9IGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICAgICAgICAgIENzc0Nhc2NhZGUuc2V0UHJvcChwcm9wcywgbmFtZSwgcmVzdWx0KTtcbiAgICAgICAgICBpZiAobm9QYWdlU2VsZWN0b3JQcm9wcykge1xuICAgICAgICAgICAgW1wiYmxlZWRcIiwgXCJtYXJrc1wiXS5mb3JFYWNoKChuKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChub1BhZ2VTZWxlY3RvclByb3BzW25dKSB7XG4gICAgICAgICAgICAgICAgQ3NzQ2FzY2FkZS5zZXRQcm9wKHByb3BzLCBuLCBub1BhZ2VTZWxlY3RvclByb3BzW25dKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNvbnNpZGVyIHNwZWNpZmljaXR5IHdoZW4gc2V0dGluZyAnc2l6ZScgcHJvcGVydHkuXG4gICAgICAgICAgLy8gd2UgZG9uJ3QgaGF2ZSB0byBzZXQgJ2JsZWVkJyBhbmQgJ21hcmtzJyBzaW5jZSB0aGV5IHNob3VsZCBoYXZlXG4gICAgICAgICAgLy8gYmVlbiBhbHJlYWR5IHVwZGF0ZWQuXG4gICAgICAgICAgY29uc3QgcHJldkNhc2NWYWwgPSBDc3NDYXNjYWRlLmdldFByb3AocHJvcHMsIG5hbWUpO1xuICAgICAgICAgIHJlc3VsdCA9IHByZXZDYXNjVmFsXG4gICAgICAgICAgICA/IENzc0Nhc2NhZGUuY2FzY2FkZVZhbHVlcyhudWxsLCByZXN1bHQsIHByZXZDYXNjVmFsKVxuICAgICAgICAgICAgOiByZXN1bHQ7XG4gICAgICAgICAgQ3NzQ2FzY2FkZS5zZXRQcm9wKHByb3BzLCBuYW1lLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbnNlcnROb25QcmltYXJ5KGFjdGlvbjogQ3NzQ2FzY2FkZS5DYXNjYWRlQWN0aW9uKTogdm9pZCB7XG4gICAgLy8gV2UgcmVwcmVzZW50IHBhZ2UgcnVsZXMgd2l0aG91dCBzZWxlY3RvcnMgYnkgKiwgdGhvdWdoIGl0IGlzIGlsbGVnYWwgaW5cbiAgICAvLyBDU1NcbiAgICB0aGlzLmNhc2NhZGUuaW5zZXJ0SW5UYWJsZSh0aGlzLmNhc2NhZGUucGFnZXR5cGVzLCBcIipcIiwgYWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG1ha2VBcHBseVJ1bGVBY3Rpb24oc3BlY2lmaWNpdHk6IG51bWJlcik6IENzc0Nhc2NhZGUuQXBwbHlSdWxlQWN0aW9uIHtcbiAgICByZXR1cm4gbmV3IEFwcGx5UGFnZVJ1bGVBY3Rpb24odGhpcy5lbGVtZW50U3R5bGUsIHNwZWNpZmljaXR5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFnZU1hcmdpbkJveFJ1bGUobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgbWFyZ2luQm94TWFwID0gQ3NzQ2FzY2FkZS5nZXRNdXRhYmxlU3R5bGVNYXAoXG4gICAgICB0aGlzLmVsZW1lbnRTdHlsZSxcbiAgICAgIG1hcmdpbkJveGVzS2V5LFxuICAgICk7XG4gICAgbGV0IGJveFN0eWxlID0gbWFyZ2luQm94TWFwW25hbWVdO1xuICAgIGlmICghYm94U3R5bGUpIHtcbiAgICAgIGJveFN0eWxlID0ge30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gICAgICBtYXJnaW5Cb3hNYXBbbmFtZV0gPSBib3hTdHlsZTtcbiAgICB9XG4gICAgY29uc3QgaGFuZGxlciA9IG5ldyBQYWdlTWFyZ2luQm94UGFyc2VySGFuZGxlcihcbiAgICAgIHRoaXMuc2NvcGUsXG4gICAgICB0aGlzLm93bmVyLFxuICAgICAgdGhpcy52YWxpZGF0b3JTZXQsXG4gICAgICBib3hTdHlsZSxcbiAgICApO1xuICAgIHRoaXMub3duZXIucHVzaEhhbmRsZXIoaGFuZGxlcik7XG4gIH1cbn1cblxuLyoqXG4gKiBQYXJzZXIgaGFuZGxlciBmb3IgYSBwYWdlLW1hcmdpbiBib3ggcnVsZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2VNYXJnaW5Cb3hQYXJzZXJIYW5kbGVyIGV4dGVuZHMgQ3NzUGFyc2VyLlNsYXZlUGFyc2VySGFuZGxlclxuICBpbXBsZW1lbnRzIENzc1ZhbGlkYXRvci5Qcm9wZXJ0eVJlY2VpdmVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogQ3NzUGFyc2VyLkRpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmFsaWRhdG9yU2V0OiBDc3NWYWxpZGF0b3IuVmFsaWRhdG9yU2V0LFxuICAgIHB1YmxpYyByZWFkb25seSBib3hTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBvd25lciwgZmFsc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50OiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy52YWxpZGF0b3JTZXQudmFsaWRhdGVQcm9wZXJ0eUFuZEhhbmRsZVNob3J0aGFuZChcbiAgICAgIG5hbWUsXG4gICAgICB2YWx1ZSxcbiAgICAgIGltcG9ydGFudCxcbiAgICAgIHRoaXMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGludmFsaWRQcm9wZXJ0eVZhbHVlKG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydChgRV9JTlZBTElEX1BST1BFUlRZX1ZBTFVFICR7bmFtZX06ICR7dmFsdWUudG9TdHJpbmcoKX1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHVua25vd25Qcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnQoYEVfSU5WQUxJRF9QUk9QRVJUWSAke25hbWV9OiAke3ZhbHVlLnRvU3RyaW5nKCl9YCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzaW1wbGVQcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQpOiB2b2lkIHtcbiAgICBjb25zdCBzcGVjaWZpY2l0eSA9IGltcG9ydGFudFxuICAgICAgPyB0aGlzLmdldEltcG9ydGFudFNwZWNpZmljaXR5KClcbiAgICAgIDogdGhpcy5nZXRCYXNlU3BlY2lmaWNpdHkoKTtcbiAgICBjb25zdCBjYXNjdmFsID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKHZhbHVlLCBzcGVjaWZpY2l0eSk7XG4gICAgQ3NzQ2FzY2FkZS5zZXRQcm9wKHRoaXMuYm94U3R5bGUsIG5hbWUsIGNhc2N2YWwpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBVcmxzIC0gVVJMIFV0aWxpdGllc1xuICovXG5cbi8qKlxuICogdHJhbnNmb3JtIGFsbCB1cmxzIGluIGF0dHJpYnV0ZVZhbHVlIHVzaW5nIGRvY3VtZW50VVJMVHJhbnNmb3JtZXIuXG4gKlxuICogQHJldHVybnMgdHJhbnNmb3JtZWQgYXR0cmlidXRlVmFsdWVcbiAqL1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtVVJJcyA9IChcbiAgYXR0cmlidXRlVmFsdWUsXG4gIGJhc2VVcmwsXG4gIGRvY3VtZW50VVJMVHJhbnNmb3JtZXIsXG4pID0+XG4gIGF0dHJpYnV0ZVZhbHVlXG4gICAgLnJlcGxhY2UoXG4gICAgICAvW3VVXVtyUl1bbExdXFwoXFxzKlwiKChcXFxcKFteMC05YS1mQS1GXSt8WzAtOWEtZkEtRl0rXFxzKil8W15cIlxcclxcbl0pKylcIi9nbSxcbiAgICAgIChtYXRjaCwgbTEpID0+XG4gICAgICAgIGB1cmwoXCIke2RvY3VtZW50VVJMVHJhbnNmb3JtZXIudHJhbnNmb3JtVVJMKG0xLCBiYXNlVXJsKX1cImAsXG4gICAgKVxuICAgIC5yZXBsYWNlKFxuICAgICAgL1t1VV1bclJdW2xMXVxcKFxccyonKChcXFxcKFteMC05YS1mQS1GXSt8WzAtOWEtZkEtRl0rXFxzKil8W14nXFxyXFxuXSkrKScvZ20sXG4gICAgICAobWF0Y2gsIG0xKSA9PlxuICAgICAgICBgdXJsKCcke2RvY3VtZW50VVJMVHJhbnNmb3JtZXIudHJhbnNmb3JtVVJMKG0xLCBiYXNlVXJsKX0nYCxcbiAgICApXG4gICAgLnJlcGxhY2UoXG4gICAgICAvW3VVXVtyUl1bbExdXFwoXFxzKigoXFxcXChbXjAtOWEtZkEtRl0rfFswLTlhLWZBLUZdK1xccyopfFteXCInXFxyXFxuXFwpXFxzXSkrKS9nbSxcbiAgICAgIChtYXRjaCwgbTEpID0+IGB1cmwoJHtkb2N1bWVudFVSTFRyYW5zZm9ybWVyLnRyYW5zZm9ybVVSTChtMSwgYmFzZVVybCl9YCxcbiAgICApO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBWZ2VuIC0gVmlldyB0cmVlIGdlbmVyYXRvci5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIENzc0Nhc2NhZGUgZnJvbSBcIi4vY3NzLWNhc2NhZGVcIjtcbmltcG9ydCAqIGFzIENzc1Byb3AgZnJvbSBcIi4vY3NzLXByb3BcIjtcbmltcG9ydCAqIGFzIENzc1N0eWxlciBmcm9tIFwiLi9jc3Mtc3R5bGVyXCI7XG5pbXBvcnQgKiBhcyBEaWZmIGZyb20gXCIuL2RpZmZcIjtcbmltcG9ydCAqIGFzIERpc3BsYXkgZnJvbSBcIi4vZGlzcGxheVwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIEZvbnQgZnJvbSBcIi4vZm9udFwiO1xuaW1wb3J0ICogYXMgTWF0Y2hlcnMgZnJvbSBcIi4vbWF0Y2hlcnNcIjtcbmltcG9ydCAqIGFzIFBhZ2VGbG9hdHMgZnJvbSBcIi4vcGFnZS1mbG9hdHNcIjtcbmltcG9ydCAqIGFzIFBsdWdpbiBmcm9tIFwiLi9wbHVnaW5cIjtcbmltcG9ydCAqIGFzIFBzZXVkb0VsZW1lbnQgZnJvbSBcIi4vcHNldWRvLWVsZW1lbnRcIjtcbmltcG9ydCAqIGFzIFJlcGV0aXRpdmVFbGVtZW50IGZyb20gXCIuL3JlcGV0aXRpdmUtZWxlbWVudFwiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBUYXNrVXRpbCBmcm9tIFwiLi90YXNrLXV0aWxcIjtcbmltcG9ydCAqIGFzIFVybHMgZnJvbSBcIi4vdXJsc1wiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCAqIGFzIExheW91dCBmcm9tIFwiLi9sYXlvdXRcIjtcbmltcG9ydCB7IFhtbERvYyB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmNvbnN0IG5hbWVzcGFjZVByZWZpeE1hcCA9IHt9O1xuXG5leHBvcnQgY29uc3QgZnJvbnRFZGdlQmxhY2tMaXN0SG9yOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xuICBcInRleHQtaW5kZW50XCI6IFwiMHB4XCIsXG4gIFwibWFyZ2luLXRvcFwiOiBcIjBweFwiLFxuICBcInBhZGRpbmctdG9wXCI6IFwiMHB4XCIsXG4gIFwiYm9yZGVyLXRvcC13aWR0aFwiOiBcIjBweFwiLFxuICBcImJvcmRlci10b3Atc3R5bGVcIjogXCJub25lXCIsXG4gIFwiYm9yZGVyLXRvcC1jb2xvclwiOiBcInRyYW5zcGFyZW50XCIsXG4gIFwiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1c1wiOiBcIjBweFwiLFxuICBcImJvcmRlci10b3AtcmlnaHQtcmFkaXVzXCI6IFwiMHB4XCIsXG59O1xuXG5leHBvcnQgY29uc3QgZnJvbnRFZGdlQmxhY2tMaXN0VmVydDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcbiAgXCJ0ZXh0LWluZGVudFwiOiBcIjBweFwiLFxuICBcIm1hcmdpbi1yaWdodFwiOiBcIjBweFwiLFxuICBcInBhZGRpbmctcmlnaHRcIjogXCIwcHhcIixcbiAgXCJib3JkZXItcmlnaHQtd2lkdGhcIjogXCIwcHhcIixcbiAgXCJib3JkZXItcmlnaHQtc3R5bGVcIjogXCJub25lXCIsXG4gIFwiYm9yZGVyLXJpZ2h0LWNvbG9yXCI6IFwidHJhbnNwYXJlbnRcIixcbiAgXCJib3JkZXItdG9wLXJpZ2h0LXJhZGl1c1wiOiBcIjBweFwiLFxuICBcImJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzXCI6IFwiMHB4XCIsXG59O1xuXG5leHBvcnQgY29uc3QgZnJvbnRFZGdlVW5mb3JjZWRCcmVha0JsYWNrTGlzdEhvcjogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcbiAgXCJtYXJnaW4tdG9wXCI6IFwiMHB4XCIsXG59O1xuXG5leHBvcnQgY29uc3QgZnJvbnRFZGdlVW5mb3JjZWRCcmVha0JsYWNrTGlzdFZlcnQ6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG4gIFwibWFyZ2luLXJpZ2h0XCI6IFwiMHB4XCIsXG59O1xuXG5leHBvcnQgdHlwZSBDdXN0b21SZW5kZXJlciA9IChcbiAgcDE6IEVsZW1lbnQsXG4gIHAyOiBFbGVtZW50LFxuICBwMzogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0sXG4pID0+IFRhc2suUmVzdWx0PEVsZW1lbnQ+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEN1c3RvbVJlbmRlcmVyRmFjdG9yeSB7XG4gIG1ha2VDdXN0b21SZW5kZXJlcih4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpOiBDdXN0b21SZW5kZXJlcjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGVwdWJSZWFkaW5nU3lzdGVtIG9iamVjdCBpbiB0aGUgaWZyYW1lLmNvbnRlbnRXaW5kb3cubmF2aWdhdG9yXG4gKiB3aGVuIGxvYWQgZXZlbnQgZmlyZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0SUZyYW1lKGlmcmFtZTogSFRNTElGcmFtZUVsZW1lbnQpOiB2b2lkIHtcbiAgaWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgXCJsb2FkXCIsXG4gICAgKCkgPT4ge1xuICAgICAgaWZyYW1lLmNvbnRlbnRXaW5kb3cubmF2aWdhdG9yW1wiZXB1YlJlYWRpbmdTeXN0ZW1cIl0gPSB7XG4gICAgICAgIG5hbWU6IFwiYWRhcHRcIixcbiAgICAgICAgdmVyc2lvbjogXCIwLjFcIixcbiAgICAgICAgbGF5b3V0U3R5bGU6IFwicGFnaW5hdGVkXCIsXG4gICAgICAgIGhhc0ZlYXR1cmU6IGZ1bmN0aW9uKG5hbWUsIHZlcnNpb24pIHtcbiAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJtb3VzZS1ldmVudHNcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSxcbiAgICBmYWxzZSxcbiAgKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHlsZXJQcm9kdWNlciB7XG4gIGdldFN0eWxlckZvckRvYyh4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpOiBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBWaWV3RmFjdG9yeSBleHRlbmRzIEJhc2UuU2ltcGxlRXZlbnRUYXJnZXRcbiAgaW1wbGVtZW50cyBWdHJlZS5MYXlvdXRDb250ZXh0IHtcbiAgcHJpdmF0ZSBzdGF0aWMgU1ZHX1VSTF9BVFRSSUJVVEVTOiBzdHJpbmdbXSA9IFtcbiAgICBcImNvbG9yLXByb2ZpbGVcIixcbiAgICBcImNsaXAtcGF0aFwiLFxuICAgIFwiY3Vyc29yXCIsXG4gICAgXCJmaWx0ZXJcIixcbiAgICBcIm1hcmtlclwiLFxuICAgIFwibWFya2VyLXN0YXJ0XCIsXG4gICAgXCJtYXJrZXItZW5kXCIsXG4gICAgXCJtYXJrZXItbWlkXCIsXG4gICAgXCJmaWxsXCIsXG4gICAgXCJzdHJva2VcIixcbiAgICBcIm1hc2tcIixcbiAgXTtcbiAgZG9jdW1lbnQ6IERvY3VtZW50O1xuICBleHByQ29udGVudExpc3RlbmVyOiBWdHJlZS5FeHByQ29udGVudExpc3RlbmVyO1xuXG4gIC8vIHByb3ZpZGVkIGJ5IGxheW91dFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQgfCBudWxsID0gbnVsbDtcbiAgdmlld1Jvb3Q6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgaXNGb290bm90ZTogYm9vbGVhbiA9IGZhbHNlO1xuICBzb3VyY2VOb2RlOiBOb2RlIHwgbnVsbCA9IG51bGw7XG4gIG9mZnNldEluTm9kZTogbnVtYmVyID0gMDtcblxuICAvLyBjb21wdXRlZFxuICAvLyBUT0RPOiBvbmx5IHNldCBpdCBvbiBOb2RlQ29udGV4dFxuICB2aWV3Tm9kZTogTm9kZSB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBmbG93TmFtZTogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSB2aWV3cG9ydDogVmlld3BvcnQsXG4gICAgcHVibGljIHJlYWRvbmx5IHN0eWxlcjogQ3NzU3R5bGVyLlN0eWxlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVnaW9uSWRzOiBzdHJpbmdbXSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyLFxuICAgIHB1YmxpYyByZWFkb25seSBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICAgIHB1YmxpYyByZWFkb25seSBmb290bm90ZVN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3R5bGVyUHJvZHVjZXI6IFN0eWxlclByb2R1Y2VyLFxuICAgIHB1YmxpYyByZWFkb25seSBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIHB1YmxpYyByZWFkb25seSBjdXN0b21SZW5kZXJlcjogQ3VzdG9tUmVuZGVyZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGZhbGxiYWNrTWFwOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9LFxuICAgIHB1YmxpYyByZWFkb25seSBkb2N1bWVudFVSTFRyYW5zZm9ybWVyOiBCYXNlLkRvY3VtZW50VVJMVHJhbnNmb3JtZXIsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5kb2N1bWVudCA9IHZpZXdwb3J0LmRvY3VtZW50O1xuICAgIHRoaXMuZXhwckNvbnRlbnRMaXN0ZW5lciA9IHN0eWxlci5jb3VudGVyTGlzdGVuZXIuZ2V0RXhwckNvbnRlbnRMaXN0ZW5lcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xvbmUoKTogVnRyZWUuTGF5b3V0Q29udGV4dCB7XG4gICAgcmV0dXJuIG5ldyBWaWV3RmFjdG9yeShcbiAgICAgIHRoaXMuZmxvd05hbWUsXG4gICAgICB0aGlzLmNvbnRleHQsXG4gICAgICB0aGlzLnZpZXdwb3J0LFxuICAgICAgdGhpcy5zdHlsZXIsXG4gICAgICB0aGlzLnJlZ2lvbklkcyxcbiAgICAgIHRoaXMueG1sZG9jLFxuICAgICAgdGhpcy5kb2NGYWNlcyxcbiAgICAgIHRoaXMuZm9vdG5vdGVTdHlsZSxcbiAgICAgIHRoaXMuc3R5bGVyUHJvZHVjZXIsXG4gICAgICB0aGlzLnBhZ2UsXG4gICAgICB0aGlzLmN1c3RvbVJlbmRlcmVyLFxuICAgICAgdGhpcy5mYWxsYmFja01hcCxcbiAgICAgIHRoaXMuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcixcbiAgICApO1xuICB9XG5cbiAgY3JlYXRlUHNldWRvZWxlbWVudFNoYWRvdyhcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIGlzUm9vdDogYm9vbGVhbixcbiAgICBjYXNjU3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuICAgIHN0eWxlcjogQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyLFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgcGFyZW50U2hhZG93OiBWdHJlZS5TaGFkb3dDb250ZXh0LFxuICAgIHN1YlNoYWRvdzogVnRyZWUuU2hhZG93Q29udGV4dCxcbiAgKTogVnRyZWUuU2hhZG93Q29udGV4dCB7XG4gICAgY29uc3QgcHNldWRvTWFwID0gdGhpcy5nZXRQc2V1ZG9NYXAoXG4gICAgICBjYXNjU3R5bGUsXG4gICAgICB0aGlzLnJlZ2lvbklkcyxcbiAgICAgIHRoaXMuaXNGb290bm90ZSxcbiAgICAgIHRoaXMubm9kZUNvbnRleHQsXG4gICAgICBjb250ZXh0LFxuICAgICk7XG4gICAgaWYgKCFwc2V1ZG9NYXApIHtcbiAgICAgIHJldHVybiBzdWJTaGFkb3c7XG4gICAgfVxuICAgIGNvbnN0IGFkZGVkTmFtZXMgPSBbXTtcbiAgICBjb25zdCByb290ID0gUHNldWRvRWxlbWVudC5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoQmFzZS5OUy5TSEFET1csIFwicm9vdFwiKTtcbiAgICBsZXQgYXR0ID0gcm9vdDtcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgUHNldWRvRWxlbWVudC5wc2V1ZG9OYW1lcykge1xuICAgICAgbGV0IGVsZW06IEVsZW1lbnQ7XG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICBpZiAoIXBzZXVkb01hcFtuYW1lXSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYW1lID09IFwiZm9vdG5vdGUtbWFya2VyXCIgJiYgIShpc1Jvb3QgJiYgdGhpcy5pc0Zvb3Rub3RlKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYW1lLm1hdGNoKC9eZmlyc3QtLykpIHtcbiAgICAgICAgICBjb25zdCBkaXNwbGF5ID0gY29tcHV0ZWRTdHlsZVtcImRpc3BsYXlcIl07XG4gICAgICAgICAgaWYgKCFkaXNwbGF5IHx8IGRpc3BsYXkgPT09IENzcy5pZGVudC5pbmxpbmUpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZSA9PT0gXCJiZWZvcmVcIiB8fCBuYW1lID09PSBcImFmdGVyXCIpIHtcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gcHNldWRvTWFwW25hbWVdW1wiY29udGVudFwiXTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhY29udGVudCB8fFxuICAgICAgICAgICAgY29udGVudCA9PT0gQ3NzLmlkZW50Lm5vcm1hbCB8fFxuICAgICAgICAgICAgY29udGVudCA9PT0gQ3NzLmlkZW50Lm5vbmVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhZGRlZE5hbWVzLnB1c2gobmFtZSk7XG4gICAgICAgIGVsZW0gPSBQc2V1ZG9FbGVtZW50LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhCYXNlLk5TLlhIVE1MLCBcInNwYW5cIik7XG4gICAgICAgIFBzZXVkb0VsZW1lbnQuc2V0UHNldWRvTmFtZShlbGVtLCBuYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW0gPSBQc2V1ZG9FbGVtZW50LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgICBCYXNlLk5TLlNIQURPVyxcbiAgICAgICAgICBcImNvbnRlbnRcIixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGF0dC5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgIGlmIChuYW1lLm1hdGNoKC9eZmlyc3QtLykpIHtcbiAgICAgICAgYXR0ID0gZWxlbTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFhZGRlZE5hbWVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHN1YlNoYWRvdztcbiAgICB9XG4gICAgY29uc3Qgc2hhZG93U3R5bGVyID0gbmV3IFBzZXVkb0VsZW1lbnQuUHNldWRvZWxlbWVudFN0eWxlcihcbiAgICAgIGVsZW1lbnQsXG4gICAgICBjYXNjU3R5bGUsXG4gICAgICBzdHlsZXIsXG4gICAgICBjb250ZXh0LFxuICAgICAgdGhpcy5leHByQ29udGVudExpc3RlbmVyLFxuICAgICk7XG4gICAgcmV0dXJuIG5ldyBWdHJlZS5TaGFkb3dDb250ZXh0KFxuICAgICAgZWxlbWVudCxcbiAgICAgIHJvb3QsXG4gICAgICBudWxsLFxuICAgICAgcGFyZW50U2hhZG93LFxuICAgICAgc3ViU2hhZG93LFxuICAgICAgVnRyZWUuU2hhZG93VHlwZS5ST09UTEVTUyxcbiAgICAgIHNoYWRvd1N0eWxlcixcbiAgICApO1xuICB9XG5cbiAgZ2V0UHNldWRvTWFwKFxuICAgIGNhc2NTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgcmVnaW9uSWRzOiBzdHJpbmdbXSxcbiAgICBpc0Zvb3Rub3RlOiBib29sZWFuLFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICApIHtcbiAgICBjb25zdCBwc2V1ZG9NYXAgPSBDc3NDYXNjYWRlLmdldFN0eWxlTWFwKGNhc2NTdHlsZSwgXCJfcHNldWRvc1wiKTtcbiAgICBpZiAoIXBzZXVkb01hcCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGNvbXB1dGVkUHNldWRvU3R5bGVNYXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwc2V1ZG9NYXApIHtcbiAgICAgIGNvbnN0IGNvbXB1dGVkUHNldWRvU3R5bGUgPSAoY29tcHV0ZWRQc2V1ZG9TdHlsZU1hcFtrZXldID0ge30pO1xuICAgICAgQ3NzQ2FzY2FkZS5tZXJnZVN0eWxlKGNvbXB1dGVkUHNldWRvU3R5bGUsIHBzZXVkb01hcFtrZXldLCBjb250ZXh0KTtcbiAgICAgIENzc0Nhc2NhZGUubWVyZ2VWaWV3Q29uZGl0aW9uYWxTdHlsZXMoXG4gICAgICAgIGNvbXB1dGVkUHNldWRvU3R5bGUsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIHBzZXVkb01hcFtrZXldLFxuICAgICAgKTtcbiAgICAgIENzc0Nhc2NhZGUuZm9yRWFjaFN0eWxlc0luUmVnaW9uKFxuICAgICAgICBwc2V1ZG9NYXBba2V5XSxcbiAgICAgICAgcmVnaW9uSWRzLFxuICAgICAgICBpc0Zvb3Rub3RlLFxuICAgICAgICAocmVnaW9uSWQsIHJlZ2lvblN0eWxlKSA9PiB7XG4gICAgICAgICAgQ3NzQ2FzY2FkZS5tZXJnZVN0eWxlKGNvbXB1dGVkUHNldWRvU3R5bGUsIHJlZ2lvblN0eWxlLCBjb250ZXh0KTtcbiAgICAgICAgICBDc3NDYXNjYWRlLmZvckVhY2hWaWV3Q29uZGl0aW9uYWxTdHlsZXMoXG4gICAgICAgICAgICByZWdpb25TdHlsZSxcbiAgICAgICAgICAgICh2aWV3Q29uZGl0aW9uYWxTdHlsZXMpID0+IHtcbiAgICAgICAgICAgICAgQ3NzQ2FzY2FkZS5tZXJnZVN0eWxlKFxuICAgICAgICAgICAgICAgIGNvbXB1dGVkUHNldWRvU3R5bGUsXG4gICAgICAgICAgICAgICAgdmlld0NvbmRpdGlvbmFsU3R5bGVzLFxuICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY29tcHV0ZWRQc2V1ZG9TdHlsZU1hcDtcbiAgfVxuXG4gIGNyZWF0ZVJlZlNoYWRvdyhcbiAgICBocmVmOiBzdHJpbmcsXG4gICAgdHlwZTogVnRyZWUuU2hhZG93VHlwZSxcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIHBhcmVudFNoYWRvdzogVnRyZWUuU2hhZG93Q29udGV4dCxcbiAgICBzdWJTaGFkb3c6IFZ0cmVlLlNoYWRvd0NvbnRleHQsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLlNoYWRvd0NvbnRleHQ+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5TaGFkb3dDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcImNyZWF0ZVJlZlNoYWRvd1wiLFxuICAgICk7XG4gICAgc2VsZi54bWxkb2Muc3RvcmUubG9hZChocmVmKS50aGVuKChyZWZEb2NQYXJhbSkgPT4ge1xuICAgICAgY29uc3QgcmVmRG9jID0gcmVmRG9jUGFyYW07XG4gICAgICBpZiAocmVmRG9jKSB7XG4gICAgICAgIGNvbnN0IHJlZkVsZW1lbnQgPSByZWZEb2MuZ2V0RWxlbWVudChocmVmKTtcbiAgICAgICAgaWYgKHJlZkVsZW1lbnQpIHtcbiAgICAgICAgICBjb25zdCByZWZTdHlsZXIgPSBzZWxmLnN0eWxlclByb2R1Y2VyLmdldFN0eWxlckZvckRvYyhyZWZEb2MpO1xuICAgICAgICAgIHN1YlNoYWRvdyA9IG5ldyBWdHJlZS5TaGFkb3dDb250ZXh0KFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIHJlZkVsZW1lbnQsXG4gICAgICAgICAgICByZWZEb2MsXG4gICAgICAgICAgICBwYXJlbnRTaGFkb3csXG4gICAgICAgICAgICBzdWJTaGFkb3csXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcmVmU3R5bGVyLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZyYW1lLmZpbmlzaChzdWJTaGFkb3cpO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGNyZWF0ZVNoYWRvd3MoXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgICBpc1Jvb3QsXG4gICAgY2FzY1N0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBjb21wdXRlZFN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbiAgICBzdHlsZXI6IENzc1N0eWxlci5BYnN0cmFjdFN0eWxlcixcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIHNoYWRvd0NvbnRleHQ6IFZ0cmVlLlNoYWRvd0NvbnRleHQsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLlNoYWRvd0NvbnRleHQ+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5TaGFkb3dDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcImNyZWF0ZVNoYWRvd3NcIixcbiAgICApO1xuICAgIGNvbnN0IHNoYWRvdzogVnRyZWUuU2hhZG93Q29udGV4dCA9IG51bGw7XG4gICAgY29uc3QgdGVtcGxhdGVVUkxWYWwgPSBjb21wdXRlZFN0eWxlW1widGVtcGxhdGVcIl07XG4gICAgbGV0IGNvbnQ6IFRhc2suUmVzdWx0PFZ0cmVlLlNoYWRvd0NvbnRleHQ+O1xuICAgIGlmICh0ZW1wbGF0ZVVSTFZhbCBpbnN0YW5jZW9mIENzcy5VUkwpIHtcbiAgICAgIGNvbnN0IHVybCA9ICh0ZW1wbGF0ZVVSTFZhbCBhcyBDc3MuVVJMKS51cmw7XG4gICAgICBjb250ID0gc2VsZi5jcmVhdGVSZWZTaGFkb3coXG4gICAgICAgIHVybCxcbiAgICAgICAgVnRyZWUuU2hhZG93VHlwZS5ST09UTEVTUyxcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgc2hhZG93Q29udGV4dCxcbiAgICAgICAgc2hhZG93LFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udCA9IFRhc2submV3UmVzdWx0KHNoYWRvdyk7XG4gICAgfVxuICAgIGNvbnQudGhlbigoc2hhZG93KSA9PiB7XG4gICAgICBsZXQgY29udDE6IFRhc2suUmVzdWx0PFZ0cmVlLlNoYWRvd0NvbnRleHQ+ID0gbnVsbDtcbiAgICAgIGlmIChlbGVtZW50Lm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLlNIQURPVykge1xuICAgICAgICBpZiAoZWxlbWVudC5sb2NhbE5hbWUgPT0gXCJpbmNsdWRlXCIpIHtcbiAgICAgICAgICBsZXQgaHJlZiA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcbiAgICAgICAgICBsZXQgeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyID0gbnVsbDtcbiAgICAgICAgICBpZiAoaHJlZikge1xuICAgICAgICAgICAgeG1sZG9jID0gc2hhZG93Q29udGV4dCA/IHNoYWRvd0NvbnRleHQueG1sZG9jIDogc2VsZi54bWxkb2M7XG4gICAgICAgICAgfSBlbHNlIGlmIChzaGFkb3dDb250ZXh0KSB7XG4gICAgICAgICAgICBpZiAoc2hhZG93Q29udGV4dC5vd25lci5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5YSFRNTCkge1xuICAgICAgICAgICAgICBocmVmID0gc2hhZG93Q29udGV4dC5vd25lci5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaHJlZiA9IHNoYWRvd0NvbnRleHQub3duZXIuZ2V0QXR0cmlidXRlTlMoQmFzZS5OUy5YTElOSywgXCJocmVmXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeG1sZG9jID0gc2hhZG93Q29udGV4dC5wYXJlbnRTaGFkb3dcbiAgICAgICAgICAgICAgPyBzaGFkb3dDb250ZXh0LnBhcmVudFNoYWRvdy54bWxkb2NcbiAgICAgICAgICAgICAgOiBzZWxmLnhtbGRvYztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGhyZWYpIHtcbiAgICAgICAgICAgIGhyZWYgPSBCYXNlLnJlc29sdmVVUkwoaHJlZiwgeG1sZG9jLnVybCk7XG4gICAgICAgICAgICBjb250MSA9IHNlbGYuY3JlYXRlUmVmU2hhZG93KFxuICAgICAgICAgICAgICBocmVmLFxuICAgICAgICAgICAgICBWdHJlZS5TaGFkb3dUeXBlLlJPT1RFRCxcbiAgICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgICAgc2hhZG93Q29udGV4dCxcbiAgICAgICAgICAgICAgc2hhZG93LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb250MSA9PSBudWxsKSB7XG4gICAgICAgIGNvbnQxID0gVGFzay5uZXdSZXN1bHQoc2hhZG93KTtcbiAgICAgIH1cbiAgICAgIGxldCBjb250MjogVGFzay5SZXN1bHQ8VnRyZWUuU2hhZG93Q29udGV4dD4gPSBudWxsO1xuICAgICAgY29udDEudGhlbigoc2hhZG93KSA9PiB7XG4gICAgICAgIGlmIChjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9PT0gQ3NzLmlkZW50LnRhYmxlX2NlbGwpIHtcbiAgICAgICAgICBjb25zdCB1cmwgPSBCYXNlLnJlc29sdmVVUkwoXG4gICAgICAgICAgICBcInVzZXItYWdlbnQueG1sI3RhYmxlLWNlbGxcIixcbiAgICAgICAgICAgIEJhc2UucmVzb3VyY2VCYXNlVVJMLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29udDIgPSBzZWxmLmNyZWF0ZVJlZlNoYWRvdyhcbiAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgIFZ0cmVlLlNoYWRvd1R5cGUuUk9PVExFU1MsXG4gICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgc2hhZG93Q29udGV4dCxcbiAgICAgICAgICAgIHNoYWRvdyxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnQyID0gVGFzay5uZXdSZXN1bHQoc2hhZG93KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb250Mi50aGVuKChzaGFkb3cpID0+IHtcbiAgICAgICAgc2hhZG93ID0gc2VsZi5jcmVhdGVQc2V1ZG9lbGVtZW50U2hhZG93KFxuICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgaXNSb290LFxuICAgICAgICAgIGNhc2NTdHlsZSxcbiAgICAgICAgICBjb21wdXRlZFN0eWxlLFxuICAgICAgICAgIHN0eWxlcixcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIHNoYWRvd0NvbnRleHQsXG4gICAgICAgICAgc2hhZG93LFxuICAgICAgICApO1xuICAgICAgICBmcmFtZS5maW5pc2goc2hhZG93KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNldFZpZXdSb290KHZpZXdSb290OiBFbGVtZW50LCBpc0Zvb3Rub3RlOiBib29sZWFuKSB7XG4gICAgdGhpcy52aWV3Um9vdCA9IHZpZXdSb290O1xuICAgIHRoaXMuaXNGb290bm90ZSA9IGlzRm9vdG5vdGU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB2ZXJ0aWNhbFxuICAgKi9cbiAgY29tcHV0ZVN0eWxlKFxuICAgIHZlcnRpY2FsOiBib29sZWFuLFxuICAgIHJ0bDogYm9vbGVhbixcbiAgICBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgY29tcHV0ZWRTdHlsZTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0sXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgY29uc3QgY2FzY01hcCA9IENzc0Nhc2NhZGUuZmxhdHRlbkNhc2NhZGVkU3R5bGUoXG4gICAgICBzdHlsZSxcbiAgICAgIGNvbnRleHQsXG4gICAgICB0aGlzLnJlZ2lvbklkcyxcbiAgICAgIHRoaXMuaXNGb290bm90ZSxcbiAgICAgIHRoaXMubm9kZUNvbnRleHQsXG4gICAgKTtcbiAgICB2ZXJ0aWNhbCA9IENzc0Nhc2NhZGUuaXNWZXJ0aWNhbChjYXNjTWFwLCBjb250ZXh0LCB2ZXJ0aWNhbCk7XG4gICAgcnRsID0gQ3NzQ2FzY2FkZS5pc1J0bChjYXNjTWFwLCBjb250ZXh0LCBydGwpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIENzc0Nhc2NhZGUuY29udmVydFRvUGh5c2ljYWwoXG4gICAgICBjYXNjTWFwLFxuICAgICAgY29tcHV0ZWRTdHlsZSxcbiAgICAgIHZlcnRpY2FsLFxuICAgICAgcnRsLFxuICAgICAgKG5hbWUsIGNhc2NWYWwpID0+IHtcbiAgICAgICAgbGV0IHZhbHVlID0gY2FzY1ZhbC5ldmFsdWF0ZShjb250ZXh0LCBuYW1lKTtcbiAgICAgICAgaWYgKG5hbWUgPT0gXCJmb250LWZhbWlseVwiKSB7XG4gICAgICAgICAgdmFsdWUgPSBzZWxmLmRvY0ZhY2VzLmZpbHRlckZvbnRGYW1pbHkodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIC8vIENvbXB1dGUgdmFsdWVzIG9mIGRpc3BsYXksIHBvc2l0aW9uIGFuZCBmbG9hdFxuICAgIGNvbnN0IHBvc2l0aW9uID0gY29tcHV0ZWRTdHlsZVtcInBvc2l0aW9uXCJdIGFzIENzcy5JZGVudDtcbiAgICBjb25zdCBmbG9hdCA9IGNvbXB1dGVkU3R5bGVbXCJmbG9hdFwiXSBhcyBDc3MuSWRlbnQ7XG4gICAgY29uc3QgZGlzcGxheVZhbHVlcyA9IERpc3BsYXkuZ2V0Q29tcHV0ZWREaXNsYXlWYWx1ZShcbiAgICAgIChjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSBhcyBDc3MuSWRlbnQpIHx8IENzcy5pZGVudC5pbmxpbmUsXG4gICAgICBwb3NpdGlvbixcbiAgICAgIGZsb2F0LFxuICAgICAgdGhpcy5zb3VyY2VOb2RlID09PSB0aGlzLnhtbGRvYy5yb290LFxuICAgICk7XG4gICAgW1wiZGlzcGxheVwiLCBcInBvc2l0aW9uXCIsIFwiZmxvYXRcIl0uZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgaWYgKGRpc3BsYXlWYWx1ZXNbbmFtZV0pIHtcbiAgICAgICAgY29tcHV0ZWRTdHlsZVtuYW1lXSA9IGRpc3BsYXlWYWx1ZXNbbmFtZV07XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHZlcnRpY2FsO1xuICB9XG5cbiAgcHJpdmF0ZSBpbmhlcml0RnJvbVNvdXJjZVBhcmVudChcbiAgICBlbGVtZW50U3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICApOiB7IGxhbmc6IHN0cmluZyB8IG51bGw7IGVsZW1lbnRTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUgfSB7XG4gICAgbGV0IG5vZGUgPSB0aGlzLm5vZGVDb250ZXh0LnNvdXJjZU5vZGU7XG4gICAgY29uc3Qgc3R5bGVzID0gW107XG4gICAgbGV0IGxhbmc6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gICAgLy8gVE9ETzogdGhpcyBpcyBoYWNreS4gV2UgbmVlZCB0byByZWNvdmVyIHRoZSBwYXRoIHRocm91Z2ggdGhlIHNoYWRvd1xuICAgIC8vIHRyZWVzLCBidXQgd2UgZG8gbm90IGhhdmUgdGhlIGZ1bGwgc2hhZG93IHRyZWUgc3RydWN0dXJlIGF0IHRoaXMgcG9pbnQuXG4gICAgLy8gVGhpcyBjb2RlIGhhbmRsZXMgY29taW5nIG91dCBvZiB0aGUgc2hhZG93IHRyZWVzLCBidXQgZG9lcyBub3QgZ28gYmFjayBpblxuICAgIC8vICh0aHJvdWdoIHNoYWRvdzpjb250ZW50IGVsZW1lbnQpLlxuICAgIGxldCBzaGFkb3dDb250ZXh0ID0gdGhpcy5ub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0O1xuICAgIGxldCBzdGVwcyA9IC0xO1xuICAgIHdoaWxlIChub2RlICYmIG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgY29uc3Qgc2hhZG93Um9vdCA9IHNoYWRvd0NvbnRleHQgJiYgc2hhZG93Q29udGV4dC5yb290ID09IG5vZGU7XG4gICAgICBpZiAoIXNoYWRvd1Jvb3QgfHwgc2hhZG93Q29udGV4dC50eXBlID09IFZ0cmVlLlNoYWRvd1R5cGUuUk9PVExFU1MpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVyID0gc2hhZG93Q29udGV4dFxuICAgICAgICAgID8gKHNoYWRvd0NvbnRleHQuc3R5bGVyIGFzIENzc1N0eWxlci5BYnN0cmFjdFN0eWxlcilcbiAgICAgICAgICA6IHRoaXMuc3R5bGVyO1xuICAgICAgICBjb25zdCBub2RlU3R5bGUgPSBzdHlsZXIuZ2V0U3R5bGUobm9kZSBhcyBFbGVtZW50LCBmYWxzZSk7XG4gICAgICAgIHN0eWxlcy5wdXNoKG5vZGVTdHlsZSk7XG4gICAgICAgIGxhbmcgPSBsYW5nIHx8IEJhc2UuZ2V0TGFuZ0F0dHJpYnV0ZShub2RlIGFzIEVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgaWYgKHNoYWRvd1Jvb3QpIHtcbiAgICAgICAgbm9kZSA9IHNoYWRvd0NvbnRleHQub3duZXI7XG4gICAgICAgIHNoYWRvd0NvbnRleHQgPSBzaGFkb3dDb250ZXh0LnBhcmVudFNoYWRvdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIHN0ZXBzKys7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGlzUm9vdCA9IHN0ZXBzID09PSAwO1xuICAgIGNvbnN0IGZvbnRTaXplID0gdGhpcy5jb250ZXh0LnF1ZXJ5VW5pdFNpemUoXCJlbVwiLCBpc1Jvb3QpO1xuICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgXCJmb250LXNpemVcIjogbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgICBuZXcgQ3NzLk51bWVyaWMoZm9udFNpemUsIFwicHhcIiksXG4gICAgICAgIDAsXG4gICAgICApLFxuICAgIH0gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gICAgY29uc3QgaW5oZXJpdGFuY2VWaXNpdG9yID0gbmV3IENzc0Nhc2NhZGUuSW5oZXJpdGFuY2VWaXNpdG9yKFxuICAgICAgcHJvcHMsXG4gICAgICB0aGlzLmNvbnRleHQsXG4gICAgKTtcbiAgICBmb3IgKGxldCBpID0gc3R5bGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICBjb25zdCBzdHlsZSA9IHN0eWxlc1tpXTtcbiAgICAgIGNvbnN0IHByb3BMaXN0ID0gW107XG4gICAgICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIHN0eWxlKSB7XG4gICAgICAgIGlmIChDc3NDYXNjYWRlLmlzSW5oZXJpdGVkKHByb3BOYW1lKSkge1xuICAgICAgICAgIHByb3BMaXN0LnB1c2gocHJvcE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwcm9wTGlzdC5zb3J0KENzcy5wcm9jZXNzaW5nT3JkZXJGbik7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgcHJvcExpc3QpIHtcbiAgICAgICAgaW5oZXJpdGFuY2VWaXNpdG9yLnNldFByb3BOYW1lKG5hbWUpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IENzc0Nhc2NhZGUuZ2V0UHJvcChzdHlsZSwgbmFtZSk7XG4gICAgICAgIGlmICh2YWx1ZS52YWx1ZSAhPT0gQ3NzLmlkZW50LmluaGVyaXQpIHtcbiAgICAgICAgICBwcm9wc1tuYW1lXSA9IHZhbHVlLmZpbHRlclZhbHVlKGluaGVyaXRhbmNlVmlzaXRvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBzbmFtZSBpbiBlbGVtZW50U3R5bGUpIHtcbiAgICAgIGlmICghQ3NzQ2FzY2FkZS5pc0luaGVyaXRlZChzbmFtZSkpIHtcbiAgICAgICAgcHJvcHNbc25hbWVdID0gZWxlbWVudFN0eWxlW3NuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgbGFuZywgZWxlbWVudFN0eWxlOiBwcm9wcyB9O1xuICB9XG5cbiAgcmVzb2x2ZVVSTCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgdXJsID0gQmFzZS5yZXNvbHZlVVJMKHVybCwgdGhpcy54bWxkb2MudXJsKTtcbiAgICByZXR1cm4gdGhpcy5mYWxsYmFja01hcFt1cmxdIHx8IHVybDtcbiAgfVxuXG4gIGluaGVyaXRMYW5nQXR0cmlidXRlKCkge1xuICAgIHRoaXMubm9kZUNvbnRleHQubGFuZyA9XG4gICAgICBCYXNlLmdldExhbmdBdHRyaWJ1dGUodGhpcy5ub2RlQ29udGV4dC5zb3VyY2VOb2RlIGFzIEVsZW1lbnQpIHx8XG4gICAgICAodGhpcy5ub2RlQ29udGV4dC5wYXJlbnQgJiYgdGhpcy5ub2RlQ29udGV4dC5wYXJlbnQubGFuZykgfHxcbiAgICAgIHRoaXMubm9kZUNvbnRleHQubGFuZztcbiAgfVxuXG4gIHRyYW5zZmVyUG9seWZpbGxlZEluaGVyaXRlZFByb3BzKGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9KSB7XG4gICAgY29uc3QgcG9seWZpbGxlZEluaGVyaXRlZFByb3BzID0gQ3NzQ2FzY2FkZS5nZXRQb2x5ZmlsbGVkSW5oZXJpdGVkUHJvcHMoKS5maWx0ZXIoXG4gICAgICAobmFtZSkgPT4gY29tcHV0ZWRTdHlsZVtuYW1lXSxcbiAgICApO1xuICAgIGlmIChwb2x5ZmlsbGVkSW5oZXJpdGVkUHJvcHMubGVuZ3RoKSB7XG4gICAgICBsZXQgcHJvcHMgPSB0aGlzLm5vZGVDb250ZXh0LmluaGVyaXRlZFByb3BzO1xuICAgICAgaWYgKHRoaXMubm9kZUNvbnRleHQucGFyZW50KSB7XG4gICAgICAgIHByb3BzID0gdGhpcy5ub2RlQ29udGV4dC5pbmhlcml0ZWRQcm9wcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IG4gaW4gdGhpcy5ub2RlQ29udGV4dC5wYXJlbnQuaW5oZXJpdGVkUHJvcHMpIHtcbiAgICAgICAgICBwcm9wc1tuXSA9IHRoaXMubm9kZUNvbnRleHQucGFyZW50LmluaGVyaXRlZFByb3BzW25dO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwb2x5ZmlsbGVkSW5oZXJpdGVkUHJvcHMuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGNvbXB1dGVkU3R5bGVbbmFtZV07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIENzcy5JbnQpIHtcbiAgICAgICAgICAgIHByb3BzW25hbWVdID0gKHZhbHVlIGFzIENzcy5JbnQpLm51bTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgQ3NzLklkZW50KSB7XG4gICAgICAgICAgICBwcm9wc1tuYW1lXSA9ICh2YWx1ZSBhcyBDc3MuSWRlbnQpLm5hbWU7XG4gICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIENzcy5OdW1lcmljKSB7XG4gICAgICAgICAgICBjb25zdCBudW1lcmljVmFsID0gdmFsdWUgYXMgQ3NzLk51bWVyaWM7XG4gICAgICAgICAgICBzd2l0Y2ggKG51bWVyaWNWYWwudW5pdCkge1xuICAgICAgICAgICAgICBjYXNlIFwiZHBpXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkcGNtXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkcHB4XCI6XG4gICAgICAgICAgICAgICAgcHJvcHNbbmFtZV0gPVxuICAgICAgICAgICAgICAgICAgbnVtZXJpY1ZhbC5udW0gKiBFeHBycy5kZWZhdWx0VW5pdFNpemVzW251bWVyaWNWYWwudW5pdF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb3BzW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlbGV0ZSBjb21wdXRlZFN0eWxlW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXNvbHZlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZpcnN0VGltZTogYm9vbGVhbixcbiAgICBkaXNwbGF5OiBDc3MuSWRlbnQsXG4gICAgcG9zaXRpb246IENzcy5JZGVudCxcbiAgICBmbG9hdDogQ3NzLklkZW50LFxuICAgIGlzUm9vdDogYm9vbGVhbixcbiAgKSB7XG4gICAgY29uc3QgaG9va3M6IFBsdWdpbi5SZXNvbHZlRm9ybWF0dGluZ0NvbnRleHRIb29rW10gPSBQbHVnaW4uZ2V0SG9va3NGb3JOYW1lKFxuICAgICAgUGx1Z2luLkhPT0tTLlJFU09MVkVfRk9STUFUVElOR19DT05URVhULFxuICAgICk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob29rcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBob29rc1tpXShcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIGZpcnN0VGltZSxcbiAgICAgICAgZGlzcGxheSxcbiAgICAgICAgcG9zaXRpb24sXG4gICAgICAgIGZsb2F0LFxuICAgICAgICBpc1Jvb3QsXG4gICAgICApO1xuICAgICAgaWYgKGZvcm1hdHRpbmdDb250ZXh0KSB7XG4gICAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0ID0gZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBob2xkaW5nIHRydWUgaWYgY2hpbGRyZW4gc2hvdWxkIGJlIHByb2Nlc3NlZFxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVFbGVtZW50VmlldyhcbiAgICBmaXJzdFRpbWU6IGJvb2xlYW4sXG4gICAgYXRVbmZvcmNlZEJyZWFrOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IG5lZWRUb1Byb2Nlc3NDaGlsZHJlbiA9IHRydWU7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwiY3JlYXRlRWxlbWVudFZpZXdcIik7XG5cbiAgICAvLyBGaWd1cmUgb3V0IGVsZW1lbnQncyBzdHlsZXNcbiAgICBsZXQgZWxlbWVudCA9IHNlbGYuc291cmNlTm9kZSBhcyBFbGVtZW50O1xuICAgIGNvbnN0IHN0eWxlciA9IHNlbGYubm9kZUNvbnRleHQuc2hhZG93Q29udGV4dFxuICAgICAgPyAoc2VsZi5ub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0LnN0eWxlciBhcyBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXIpXG4gICAgICA6IHNlbGYuc3R5bGVyO1xuICAgIGxldCBlbGVtZW50U3R5bGUgPSBzdHlsZXIuZ2V0U3R5bGUoZWxlbWVudCwgZmFsc2UpO1xuICAgIGlmICghc2VsZi5ub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0KSB7XG4gICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLnhtbGRvYy5nZXRFbGVtZW50T2Zmc2V0KGVsZW1lbnQpO1xuICAgICAgTWF0Y2hlcnMuTnRoRnJhZ21lbnRNYXRjaGVyLnJlZ2lzdGVyRnJhZ21lbnRJbmRleChcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmZyYWdtZW50SW5kZXgsXG4gICAgICAgIDAsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFN0eWxlID0ge307XG4gICAgaWYgKCFzZWxmLm5vZGVDb250ZXh0LnBhcmVudCkge1xuICAgICAgY29uc3QgaW5oZXJpdGVkVmFsdWVzID0gc2VsZi5pbmhlcml0RnJvbVNvdXJjZVBhcmVudChlbGVtZW50U3R5bGUpO1xuICAgICAgZWxlbWVudFN0eWxlID0gaW5oZXJpdGVkVmFsdWVzLmVsZW1lbnRTdHlsZTtcbiAgICAgIHNlbGYubm9kZUNvbnRleHQubGFuZyA9IGluaGVyaXRlZFZhbHVlcy5sYW5nO1xuICAgIH1cbiAgICBjb25zdCBmbG9hdFJlZmVyZW5jZSA9XG4gICAgICBlbGVtZW50U3R5bGVbXCJmbG9hdC1yZWZlcmVuY2VcIl0gJiZcbiAgICAgIFBhZ2VGbG9hdHMuZmxvYXRSZWZlcmVuY2VPZihcbiAgICAgICAgZWxlbWVudFN0eWxlW1wiZmxvYXQtcmVmZXJlbmNlXCJdLnZhbHVlLnRvU3RyaW5nKCksXG4gICAgICApO1xuICAgIGlmIChcbiAgICAgIHNlbGYubm9kZUNvbnRleHQucGFyZW50ICYmXG4gICAgICBmbG9hdFJlZmVyZW5jZSAmJlxuICAgICAgUGFnZUZsb2F0cy5pc1BhZ2VGbG9hdChmbG9hdFJlZmVyZW5jZSlcbiAgICApIHtcbiAgICAgIC8vIFNpbmNlIGEgcGFnZSBmbG9hdCB3aWxsIGJlIGRldGFjaGVkIGZyb20gYSB2aWV3IG5vZGUgb2YgaXRzIHBhcmVudCxcbiAgICAgIC8vIGluaGVyaXRlZCBwcm9wZXJ0aWVzIG5lZWQgdG8gYmUgaW5oZXJpdGVkIGZyb20gaXRzIHNvdXJjZSBwYXJlbnQuXG4gICAgICBjb25zdCBpbmhlcml0ZWRWYWx1ZXMgPSBzZWxmLmluaGVyaXRGcm9tU291cmNlUGFyZW50KGVsZW1lbnRTdHlsZSk7XG4gICAgICBlbGVtZW50U3R5bGUgPSBpbmhlcml0ZWRWYWx1ZXMuZWxlbWVudFN0eWxlO1xuICAgICAgc2VsZi5ub2RlQ29udGV4dC5sYW5nID0gaW5oZXJpdGVkVmFsdWVzLmxhbmc7XG4gICAgfVxuICAgIHNlbGYubm9kZUNvbnRleHQudmVydGljYWwgPSBzZWxmLmNvbXB1dGVTdHlsZShcbiAgICAgIHNlbGYubm9kZUNvbnRleHQudmVydGljYWwsXG4gICAgICBzZWxmLm5vZGVDb250ZXh0LmRpcmVjdGlvbiA9PT0gXCJydGxcIixcbiAgICAgIGVsZW1lbnRTdHlsZSxcbiAgICAgIGNvbXB1dGVkU3R5bGUsXG4gICAgKTtcbiAgICBzdHlsZXIucHJvY2Vzc0NvbnRlbnQoZWxlbWVudCwgY29tcHV0ZWRTdHlsZSk7XG4gICAgdGhpcy50cmFuc2ZlclBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wcyhjb21wdXRlZFN0eWxlKTtcbiAgICB0aGlzLmluaGVyaXRMYW5nQXR0cmlidXRlKCk7XG4gICAgaWYgKGNvbXB1dGVkU3R5bGVbXCJkaXJlY3Rpb25cIl0pIHtcbiAgICAgIHNlbGYubm9kZUNvbnRleHQuZGlyZWN0aW9uID0gY29tcHV0ZWRTdHlsZVtcImRpcmVjdGlvblwiXS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIC8vIFNvcnQgb3V0IHRoZSBwcm9wZXJ0aWVzXG4gICAgY29uc3QgZmxvdyA9IGNvbXB1dGVkU3R5bGVbXCJmbG93LWludG9cIl07XG4gICAgaWYgKGZsb3cgJiYgZmxvdy50b1N0cmluZygpICE9IHNlbGYuZmxvd05hbWUpIHtcbiAgICAgIC8vIGZvcmVpZ24gZmxvdywgZG9uJ3QgY3JlYXRlIGEgdmlld1xuICAgICAgZnJhbWUuZmluaXNoKGZhbHNlKTtcbiAgICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgICB9XG4gICAgbGV0IGRpc3BsYXkgPSBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXTtcbiAgICBpZiAoZGlzcGxheSA9PT0gQ3NzLmlkZW50Lm5vbmUpIHtcbiAgICAgIC8vIG5vIGNvbnRlbnRcbiAgICAgIGZyYW1lLmZpbmlzaChmYWxzZSk7XG4gICAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gICAgfVxuICAgIGNvbnN0IGlzUm9vdCA9IHNlbGYubm9kZUNvbnRleHQucGFyZW50ID09IG51bGw7XG4gICAgc2VsZi5ub2RlQ29udGV4dC5mbGV4Q29udGFpbmVyID0gZGlzcGxheSA9PT0gQ3NzLmlkZW50LmZsZXg7XG4gICAgc2VsZlxuICAgICAgLmNyZWF0ZVNoYWRvd3MoXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGlzUm9vdCxcbiAgICAgICAgZWxlbWVudFN0eWxlLFxuICAgICAgICBjb21wdXRlZFN0eWxlLFxuICAgICAgICBzdHlsZXIsXG4gICAgICAgIHNlbGYuY29udGV4dCxcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0LFxuICAgICAgKVxuICAgICAgLnRoZW4oKHNoYWRvd1BhcmFtKSA9PiB7XG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQubm9kZVNoYWRvdyA9IHNoYWRvd1BhcmFtO1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGNvbXB1dGVkU3R5bGVbXCJwb3NpdGlvblwiXTtcbiAgICAgICAgbGV0IGZsb2F0U2lkZSA9IGNvbXB1dGVkU3R5bGVbXCJmbG9hdFwiXTtcbiAgICAgICAgbGV0IGNsZWFyU2lkZSA9IGNvbXB1dGVkU3R5bGVbXCJjbGVhclwiXTtcbiAgICAgICAgY29uc3Qgd3JpdGluZ01vZGUgPSBzZWxmLm5vZGVDb250ZXh0LnZlcnRpY2FsXG4gICAgICAgICAgPyBDc3MuaWRlbnQudmVydGljYWxfcmxcbiAgICAgICAgICA6IENzcy5pZGVudC5ob3Jpem9udGFsX3RiO1xuICAgICAgICBjb25zdCBwYXJlbnRXcml0aW5nTW9kZSA9IHNlbGYubm9kZUNvbnRleHQucGFyZW50XG4gICAgICAgICAgPyBzZWxmLm5vZGVDb250ZXh0LnBhcmVudC52ZXJ0aWNhbFxuICAgICAgICAgICAgPyBDc3MuaWRlbnQudmVydGljYWxfcmxcbiAgICAgICAgICAgIDogQ3NzLmlkZW50Lmhvcml6b250YWxfdGJcbiAgICAgICAgICA6IHdyaXRpbmdNb2RlO1xuICAgICAgICBjb25zdCBpc0Zsb3dSb290ID0gRGlzcGxheS5pc0Zsb3dSb290KGVsZW1lbnQpO1xuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmVzdGFibGlzaGVzQkZDID0gRGlzcGxheS5lc3RhYmxpc2hlc0JGQyhcbiAgICAgICAgICBkaXNwbGF5LFxuICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgIGZsb2F0U2lkZSxcbiAgICAgICAgICBjb21wdXRlZFN0eWxlW1wib3ZlcmZsb3dcIl0sXG4gICAgICAgICAgd3JpdGluZ01vZGUsXG4gICAgICAgICAgcGFyZW50V3JpdGluZ01vZGUsXG4gICAgICAgICAgaXNGbG93Um9vdCxcbiAgICAgICAgKTtcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5jb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSA9IERpc3BsYXkuZXN0YWJsaXNoZXNDQkZvckFic29sdXRlKFxuICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICApO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5pc0luc2lkZUJGQygpICYmXG4gICAgICAgICAgZmxvYXRTaWRlICE9PSBDc3MuaWRlbnQuZm9vdG5vdGUgJiZcbiAgICAgICAgICAhKGZsb2F0UmVmZXJlbmNlICYmIFBhZ2VGbG9hdHMuaXNQYWdlRmxvYXQoZmxvYXRSZWZlcmVuY2UpKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBXaGVuIHRoZSBlbGVtZW50IGlzIGFscmVhZHkgaW5zaWRlIGEgYmxvY2sgZm9ybWF0dGluZyBjb250ZXh0XG4gICAgICAgICAgLy8gKGV4Y2VwdCBvbmUgZnJvbSB0aGUgcm9vdCksIGZsb2F0IGFuZCBjbGVhciBjYW4gYmUgY29udHJvbGxlZCBieVxuICAgICAgICAgIC8vIHRoZSBicm93c2VyIGFuZCB3ZSBkb24ndCBuZWVkIHRvIGNhcmUuXG4gICAgICAgICAgZmxvYXRTaWRlID0gbnVsbDtcbiAgICAgICAgICBjbGVhclNpZGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBmbG9hdGluZyA9XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQubGVmdCB8fFxuICAgICAgICAgIGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LnJpZ2h0IHx8XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQudG9wIHx8XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQuYm90dG9tIHx8XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQuaW5saW5lX3N0YXJ0IHx8XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQuaW5saW5lX2VuZCB8fFxuICAgICAgICAgIGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LmJsb2NrX3N0YXJ0IHx8XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQuYmxvY2tfZW5kIHx8XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQuc25hcF9ibG9jayB8fFxuICAgICAgICAgIGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LmZvb3Rub3RlO1xuICAgICAgICBpZiAoZmxvYXRTaWRlKSB7XG4gICAgICAgICAgLy8gRG9uJ3Qgd2FudCB0byBzZXQgaXQgaW4gdmlldyBET00gQ1NTLlxuICAgICAgICAgIGRlbGV0ZSBjb21wdXRlZFN0eWxlW1wiZmxvYXRcIl07XG4gICAgICAgICAgaWYgKGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LmZvb3Rub3RlKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5pc0Zvb3Rub3RlKSB7XG4gICAgICAgICAgICAgIC8vIE5vIGZvb3Rub3RlcyBpbnNpZGUgZm9vdG5vdGVzLiBzZWxmIGlzIG1vc3QgbGlrZWx5IHRoZSByb290XG4gICAgICAgICAgICAgIC8vIG9mIHRoZSBmb290bm90ZSBib2R5IGJlaW5nIHJlbmRlcmVkIGluIGZvb3Rub3RlIGFyZWEuIFRyZWF0XG4gICAgICAgICAgICAgIC8vIGFzIGJsb2NrLlxuICAgICAgICAgICAgICBmbG9hdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9IENzcy5pZGVudC5ibG9jaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJkaXNwbGF5XCJdID0gQ3NzLmlkZW50LmlubGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsZWFyU2lkZSkge1xuICAgICAgICAgIGlmIChjbGVhclNpZGUgPT09IENzcy5pZGVudC5pbmhlcml0KSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQgJiYgc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQuY2xlYXJTaWRlKSB7XG4gICAgICAgICAgICAgIGNsZWFyU2lkZSA9IENzcy5nZXROYW1lKHNlbGYubm9kZUNvbnRleHQucGFyZW50LmNsZWFyU2lkZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNsZWFyU2lkZSA9PT0gQ3NzLmlkZW50LmxlZnQgfHxcbiAgICAgICAgICAgIGNsZWFyU2lkZSA9PT0gQ3NzLmlkZW50LnJpZ2h0IHx8XG4gICAgICAgICAgICBjbGVhclNpZGUgPT09IENzcy5pZGVudC50b3AgfHxcbiAgICAgICAgICAgIGNsZWFyU2lkZSA9PT0gQ3NzLmlkZW50LmJvdHRvbSB8fFxuICAgICAgICAgICAgY2xlYXJTaWRlID09PSBDc3MuaWRlbnQuYm90aCB8fFxuICAgICAgICAgICAgY2xlYXJTaWRlID09PSBDc3MuaWRlbnQuYWxsIHx8XG4gICAgICAgICAgICBjbGVhclNpZGUgPT09IENzcy5pZGVudC5zYW1lXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBkZWxldGUgY29tcHV0ZWRTdHlsZVtcImNsZWFyXCJdO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSAmJlxuICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSAhPSBDc3MuaWRlbnQuaW5saW5lXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5jbGVhclNpZGUgPSBjbGVhclNpZGUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGlzdEl0ZW0gPVxuICAgICAgICAgIGRpc3BsYXkgPT09IENzcy5pZGVudC5saXN0X2l0ZW0gJiZcbiAgICAgICAgICBjb21wdXRlZFN0eWxlW1widWEtbGlzdC1pdGVtLWNvdW50XCJdO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZmxvYXRpbmcgfHxcbiAgICAgICAgICAoY29tcHV0ZWRTdHlsZVtcImJyZWFrLWluc2lkZVwiXSAmJlxuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImJyZWFrLWluc2lkZVwiXSAhPT0gQ3NzLmlkZW50LmF1dG8pXG4gICAgICAgICkge1xuICAgICAgICAgIHNlbGYubm9kZUNvbnRleHQuYnJlYWtQZW5hbHR5Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRpc3BsYXkgJiZcbiAgICAgICAgICBkaXNwbGF5ICE9PSBDc3MuaWRlbnQuaW5saW5lICYmXG4gICAgICAgICAgRGlzcGxheS5pc0lubGluZUxldmVsKGRpc3BsYXkpXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIERvbid0IGJyZWFrIGluc2lkZSBydWJ5LCBpbmxpbmUtYmxvY2ssIGV0Yy5cbiAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmJyZWFrUGVuYWx0eSsrO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQuaW5saW5lID1cbiAgICAgICAgICAoIWZsb2F0aW5nICYmICFkaXNwbGF5KSB8fFxuICAgICAgICAgIERpc3BsYXkuaXNJbmxpbmVMZXZlbChkaXNwbGF5KSB8fFxuICAgICAgICAgIERpc3BsYXkuaXNSdWJ5SW50ZXJuYWxEaXNwbGF5KGRpc3BsYXkpO1xuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmRpc3BsYXkgPSBkaXNwbGF5ID8gZGlzcGxheS50b1N0cmluZygpIDogXCJpbmxpbmVcIjtcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5mbG9hdFNpZGUgPSBmbG9hdGluZyA/IGZsb2F0U2lkZS50b1N0cmluZygpIDogbnVsbDtcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5mbG9hdFJlZmVyZW5jZSA9XG4gICAgICAgICAgZmxvYXRSZWZlcmVuY2UgfHwgUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5JTkxJTkU7XG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQuZmxvYXRNaW5XcmFwQmxvY2sgPVxuICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJmbG9hdC1taW4td3JhcC1ibG9ja1wiXSB8fCBudWxsO1xuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmNvbHVtblNwYW4gPSBjb21wdXRlZFN0eWxlW1wiY29sdW1uLXNwYW5cIl07XG4gICAgICAgIGlmICghc2VsZi5ub2RlQ29udGV4dC5pbmxpbmUpIHtcbiAgICAgICAgICBjb25zdCBicmVha0FmdGVyID0gY29tcHV0ZWRTdHlsZVtcImJyZWFrLWFmdGVyXCJdO1xuICAgICAgICAgIGlmIChicmVha0FmdGVyKSB7XG4gICAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmJyZWFrQWZ0ZXIgPSBicmVha0FmdGVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGJyZWFrQmVmb3JlID0gY29tcHV0ZWRTdHlsZVtcImJyZWFrLWJlZm9yZVwiXTtcbiAgICAgICAgICBpZiAoYnJlYWtCZWZvcmUpIHtcbiAgICAgICAgICAgIHNlbGYubm9kZUNvbnRleHQuYnJlYWtCZWZvcmUgPSBicmVha0JlZm9yZS50b1N0cmluZygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LnZlcnRpY2FsQWxpZ24gPVxuICAgICAgICAgIChjb21wdXRlZFN0eWxlW1widmVydGljYWwtYWxpZ25cIl0gJiZcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJ2ZXJ0aWNhbC1hbGlnblwiXS50b1N0cmluZygpKSB8fFxuICAgICAgICAgIFwiYmFzZWxpbmVcIjtcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5jYXB0aW9uU2lkZSA9XG4gICAgICAgICAgKGNvbXB1dGVkU3R5bGVbXCJjYXB0aW9uLXNpZGVcIl0gJiZcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJjYXB0aW9uLXNpZGVcIl0udG9TdHJpbmcoKSkgfHxcbiAgICAgICAgICBcInRvcFwiO1xuICAgICAgICBjb25zdCBib3JkZXJDb2xsYXBzZSA9IGNvbXB1dGVkU3R5bGVbXCJib3JkZXItY29sbGFwc2VcIl07XG4gICAgICAgIGlmICghYm9yZGVyQ29sbGFwc2UgfHwgYm9yZGVyQ29sbGFwc2UgPT09IENzcy5nZXROYW1lKFwic2VwYXJhdGVcIikpIHtcbiAgICAgICAgICBjb25zdCBib3JkZXJTcGFjaW5nID0gY29tcHV0ZWRTdHlsZVtcImJvcmRlci1zcGFjaW5nXCJdO1xuICAgICAgICAgIGxldCBpbmxpbmVCb3JkZXJTcGFjaW5nO1xuICAgICAgICAgIGxldCBibG9ja0JvcmRlclNwYWNpbmc7XG4gICAgICAgICAgaWYgKGJvcmRlclNwYWNpbmcpIHtcbiAgICAgICAgICAgIGlmIChib3JkZXJTcGFjaW5nLmlzU3BhY2VMaXN0KCkpIHtcbiAgICAgICAgICAgICAgaW5saW5lQm9yZGVyU3BhY2luZyA9IGJvcmRlclNwYWNpbmcudmFsdWVzWzBdO1xuICAgICAgICAgICAgICBibG9ja0JvcmRlclNwYWNpbmcgPSBib3JkZXJTcGFjaW5nLnZhbHVlc1sxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlubGluZUJvcmRlclNwYWNpbmcgPSBibG9ja0JvcmRlclNwYWNpbmcgPSBib3JkZXJTcGFjaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlubGluZUJvcmRlclNwYWNpbmcuaXNOdW1lcmljKCkpIHtcbiAgICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5pbmxpbmVCb3JkZXJTcGFjaW5nID0gQ3NzLnRvTnVtYmVyKFxuICAgICAgICAgICAgICAgIGlubGluZUJvcmRlclNwYWNpbmcsXG4gICAgICAgICAgICAgICAgc2VsZi5jb250ZXh0LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJsb2NrQm9yZGVyU3BhY2luZy5pc051bWVyaWMoKSkge1xuICAgICAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmJsb2NrQm9yZGVyU3BhY2luZyA9IENzcy50b051bWJlcihcbiAgICAgICAgICAgICAgICBibG9ja0JvcmRlclNwYWNpbmcsXG4gICAgICAgICAgICAgICAgc2VsZi5jb250ZXh0LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmZvb3Rub3RlUG9saWN5ID0gY29tcHV0ZWRTdHlsZVtcImZvb3Rub3RlLXBvbGljeVwiXTtcbiAgICAgICAgY29uc3QgZmlyc3RQc2V1ZG8gPSBjb21wdXRlZFN0eWxlW1wieC1maXJzdC1wc2V1ZG9cIl07XG4gICAgICAgIGlmIChmaXJzdFBzZXVkbykge1xuICAgICAgICAgIGNvbnN0IG91dGVyUHNldWRvID0gc2VsZi5ub2RlQ29udGV4dC5wYXJlbnRcbiAgICAgICAgICAgID8gc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQuZmlyc3RQc2V1ZG9cbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmZpcnN0UHNldWRvID0gbmV3IFZ0cmVlLkZpcnN0UHNldWRvKFxuICAgICAgICAgICAgb3V0ZXJQc2V1ZG8sXG4gICAgICAgICAgICAvKiogQ3NzLkludCAqL1xuICAgICAgICAgICAgZmlyc3RQc2V1ZG8ubnVtLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZWxmLm5vZGVDb250ZXh0LmlubGluZSkge1xuICAgICAgICAgIHNlbGYucHJvY2Vzc0FmdGVySWZjb250aW51ZXMoXG4gICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgZWxlbWVudFN0eWxlLFxuICAgICAgICAgICAgc3R5bGVyLFxuICAgICAgICAgICAgc2VsZi5jb250ZXh0LFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd2hpdGVzcGFjZSA9IGNvbXB1dGVkU3R5bGVbXCJ3aGl0ZS1zcGFjZVwiXTtcbiAgICAgICAgaWYgKHdoaXRlc3BhY2UpIHtcbiAgICAgICAgICBjb25zdCB3aGl0ZXNwYWNlVmFsdWUgPSBWdHJlZS53aGl0ZXNwYWNlRnJvbVByb3BlcnR5VmFsdWUoXG4gICAgICAgICAgICB3aGl0ZXNwYWNlLnRvU3RyaW5nKCksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAod2hpdGVzcGFjZVZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LndoaXRlc3BhY2UgPSB3aGl0ZXNwYWNlVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGh5cGhlbmF0ZUNoYXJhY3RlciA9IGNvbXB1dGVkU3R5bGVbXCJoeXBoZW5hdGUtY2hhcmFjdGVyXCJdO1xuICAgICAgICBpZiAoaHlwaGVuYXRlQ2hhcmFjdGVyICYmIGh5cGhlbmF0ZUNoYXJhY3RlciAhPT0gQ3NzLmlkZW50LmF1dG8pIHtcbiAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0Lmh5cGhlbmF0ZUNoYXJhY3RlciA9IGh5cGhlbmF0ZUNoYXJhY3Rlci5zdHI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd29yZEJyZWFrID0gY29tcHV0ZWRTdHlsZVtcIndvcmQtYnJlYWtcIl07XG4gICAgICAgIGNvbnN0IG92ZXJmbG93V3JhcCA9IGNvbXB1dGVkU3R5bGVbXCJvdmVyZmxvdy13cmFwXCJdIHx8IFtcIndvcmQtd3JhcFwiXTtcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5icmVha1dvcmQgPVxuICAgICAgICAgIHdvcmRCcmVhayA9PT0gQ3NzLmlkZW50LmJyZWFrX2FsbCB8fFxuICAgICAgICAgIG92ZXJmbG93V3JhcCA9PT0gQ3NzLmlkZW50LmJyZWFrX3dvcmQ7XG5cbiAgICAgICAgLy8gUmVzb2x2ZSBmb3JtYXR0aW5nIGNvbnRleHRcbiAgICAgICAgc2VsZi5yZXNvbHZlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICAgICAgc2VsZi5ub2RlQ29udGV4dCxcbiAgICAgICAgICBmaXJzdFRpbWUsXG4gICAgICAgICAgZGlzcGxheSxcbiAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICBmbG9hdFNpZGUsXG4gICAgICAgICAgaXNSb290LFxuICAgICAgICApO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQgJiZcbiAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LnBhcmVudC5mb3JtYXR0aW5nQ29udGV4dFxuICAgICAgICApIHtcbiAgICAgICAgICBmaXJzdFRpbWUgPSBzZWxmLm5vZGVDb250ZXh0LnBhcmVudC5mb3JtYXR0aW5nQ29udGV4dC5pc0ZpcnN0VGltZShcbiAgICAgICAgICAgIHNlbGYubm9kZUNvbnRleHQsXG4gICAgICAgICAgICBmaXJzdFRpbWUsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNlbGYubm9kZUNvbnRleHQuaW5saW5lKSB7XG4gICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5yZXBlYXRPbkJyZWFrID0gc2VsZi5wcm9jZXNzUmVwZWF0T25CcmVhayhcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGUsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZWxmLmZpbmRBbmRQcm9jZXNzUmVwZWF0aW5nRWxlbWVudHMoZWxlbWVudCwgc3R5bGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgdmlldyBlbGVtZW50XG4gICAgICAgIGxldCBjdXN0b20gPSBmYWxzZTtcbiAgICAgICAgbGV0IGlubmVyOiBFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgY29uc3QgZmV0Y2hlcnMgPSBbXTtcbiAgICAgICAgbGV0IG5zID0gZWxlbWVudC5uYW1lc3BhY2VVUkk7XG4gICAgICAgIGxldCB0YWcgPSBlbGVtZW50LmxvY2FsTmFtZTtcbiAgICAgICAgaWYgKG5zID09IEJhc2UuTlMuWEhUTUwpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0YWcgPT0gXCJodG1sXCIgfHxcbiAgICAgICAgICAgIHRhZyA9PSBcImJvZHlcIiB8fFxuICAgICAgICAgICAgdGFnID09IFwic2NyaXB0XCIgfHxcbiAgICAgICAgICAgIHRhZyA9PSBcImxpbmtcIiB8fFxuICAgICAgICAgICAgdGFnID09IFwibWV0YVwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0YWcgPSBcImRpdlwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGFnID09IFwidmlkZV9cIikge1xuICAgICAgICAgICAgdGFnID0gXCJ2aWRlb1wiO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGFnID09IFwiYXVkaV9cIikge1xuICAgICAgICAgICAgdGFnID0gXCJhdWRpb1wiO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGFnID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGN1c3RvbSA9ICEhc2VsZi5jdXN0b21SZW5kZXJlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFBzZXVkb0VsZW1lbnQuUFNFVURPX0FUVFIpKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGVsZW1lbnRTdHlsZVtcImNvbnRlbnRcIl0gJiZcbiAgICAgICAgICAgICAgZWxlbWVudFN0eWxlW1wiY29udGVudFwiXS52YWx1ZSAmJlxuICAgICAgICAgICAgICBlbGVtZW50U3R5bGVbXCJjb250ZW50XCJdLnZhbHVlLnVybFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHRhZyA9IFwiaW1nXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG5zID09IEJhc2UuTlMuZXB1Yikge1xuICAgICAgICAgIHRhZyA9IFwic3BhblwiO1xuICAgICAgICAgIG5zID0gQmFzZS5OUy5YSFRNTDtcbiAgICAgICAgfSBlbHNlIGlmIChucyA9PSBCYXNlLk5TLkZCMikge1xuICAgICAgICAgIG5zID0gQmFzZS5OUy5YSFRNTDtcbiAgICAgICAgICBpZiAodGFnID09IFwiaW1hZ2VcIikge1xuICAgICAgICAgICAgdGFnID0gXCJkaXZcIjtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlUmVmID0gZWxlbWVudC5nZXRBdHRyaWJ1dGVOUyhCYXNlLk5TLlhMSU5LLCBcImhyZWZcIik7XG4gICAgICAgICAgICBpZiAoaW1hZ2VSZWYgJiYgaW1hZ2VSZWYuY2hhckF0KDApID09IFwiI1wiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGltYWdlQmluYXJ5ID0gc2VsZi54bWxkb2MuZ2V0RWxlbWVudChpbWFnZVJlZik7XG4gICAgICAgICAgICAgIGlmIChpbWFnZUJpbmFyeSkge1xuICAgICAgICAgICAgICAgIGlubmVyID0gc2VsZi5jcmVhdGVFbGVtZW50KG5zLCBcImltZ1wiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZWRpYVR5cGUgPVxuICAgICAgICAgICAgICAgICAgaW1hZ2VCaW5hcnkuZ2V0QXR0cmlidXRlKFwiY29udGVudC10eXBlXCIpIHx8IFwiaW1hZ2UvanBlZ1wiO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyU3JjID0gYGRhdGE6JHttZWRpYVR5cGV9O2Jhc2U2NCwke2ltYWdlQmluYXJ5LnRleHRDb250ZW50LnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAvWyBcXHRcXG5cXHRdL2csXG4gICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICl9YDtcbiAgICAgICAgICAgICAgICBmZXRjaGVycy5wdXNoKFRhc2tVdGlsLmxvYWRFbGVtZW50KGlubmVyLCBpbm5lclNyYykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhZyA9IGZiMlJlbWFwW3RhZ107XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghdGFnKSB7XG4gICAgICAgICAgICB0YWcgPSBzZWxmLm5vZGVDb250ZXh0LmlubGluZSA/IFwic3BhblwiIDogXCJkaXZcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobnMgPT0gQmFzZS5OUy5OQ1gpIHtcbiAgICAgICAgICBucyA9IEJhc2UuTlMuWEhUTUw7XG4gICAgICAgICAgaWYgKHRhZyA9PSBcIm5jeFwiIHx8IHRhZyA9PSBcIm5hdlBvaW50XCIpIHtcbiAgICAgICAgICAgIHRhZyA9IFwiZGl2XCI7XG4gICAgICAgICAgfSBlbHNlIGlmICh0YWcgPT0gXCJuYXZMYWJlbFwiKSB7XG4gICAgICAgICAgICAvLyBDaGVhdCBoZXJlLiBUcmFuc2xhdGUgc291cmNlIHRvIEhUTUwsIHNvIGl0IHdpbGwgcGx1Z1xuICAgICAgICAgICAgLy8gaW4gaW50byB0aGUgcmVzdCBvZiB0aGUgcGlwZWxpbmUuXG4gICAgICAgICAgICB0YWcgPSBcInNwYW5cIjtcbiAgICAgICAgICAgIGNvbnN0IG5hdlBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIGlmIChuYXZQYXJlbnQpIHtcbiAgICAgICAgICAgICAgLy8gZmluZCB0aGUgY29udGVudCBlbGVtZW50XG4gICAgICAgICAgICAgIGxldCBocmVmOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICAgICAgICAgICAgZm9yIChsZXQgYzogTm9kZSA9IG5hdlBhcmVudC5maXJzdENoaWxkOyBjOyBjID0gYy5uZXh0U2libGluZykge1xuICAgICAgICAgICAgICAgIGlmIChjLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEVsZW1lbnQgPSBjIGFzIEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgY2hpbGRFbGVtZW50Lm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLk5DWCAmJlxuICAgICAgICAgICAgICAgICAgY2hpbGRFbGVtZW50LmxvY2FsTmFtZSA9PSBcImNvbnRlbnRcIlxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgaHJlZiA9IGNoaWxkRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJzcmNcIik7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGhyZWYpIHtcbiAgICAgICAgICAgICAgICB0YWcgPSBcImFcIjtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgXCJhXCIpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBocmVmKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YWcgPSBcInNwYW5cIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobnMgPT0gQmFzZS5OUy5TSEFET1cpIHtcbiAgICAgICAgICBucyA9IEJhc2UuTlMuWEhUTUw7XG4gICAgICAgICAgdGFnID0gc2VsZi5ub2RlQ29udGV4dC5pbmxpbmUgPyBcInNwYW5cIiA6IFwiZGl2XCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VzdG9tID0gISFzZWxmLmN1c3RvbVJlbmRlcmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaXN0SXRlbSkge1xuICAgICAgICAgIGlmIChmaXJzdFRpbWUpIHtcbiAgICAgICAgICAgIHRhZyA9IFwibGlcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFnID0gXCJkaXZcIjtcbiAgICAgICAgICAgIGRpc3BsYXkgPSBDc3MuaWRlbnQuYmxvY2s7XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9IGRpc3BsYXk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRhZyA9PSBcImJvZHlcIiB8fCB0YWcgPT0gXCJsaVwiKSB7XG4gICAgICAgICAgdGFnID0gXCJkaXZcIjtcbiAgICAgICAgfSBlbHNlIGlmICh0YWcgPT0gXCJxXCIpIHtcbiAgICAgICAgICB0YWcgPSBcInNwYW5cIjtcbiAgICAgICAgfSBlbHNlIGlmICh0YWcgPT0gXCJhXCIpIHtcbiAgICAgICAgICBjb25zdCBocCA9IGNvbXB1dGVkU3R5bGVbXCJoeXBlcmxpbmstcHJvY2Vzc2luZ1wiXTtcbiAgICAgICAgICBpZiAoaHAgJiYgaHAudG9TdHJpbmcoKSAhPSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgICB0YWcgPSBcInNwYW5cIjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXB1dGVkU3R5bGVbXCJiZWhhdmlvclwiXSkge1xuICAgICAgICAgIGNvbnN0IGJlaGF2aW9yID0gY29tcHV0ZWRTdHlsZVtcImJlaGF2aW9yXCJdLnRvU3RyaW5nKCk7XG4gICAgICAgICAgaWYgKGJlaGF2aW9yICE9IFwibm9uZVwiICYmIHNlbGYuY3VzdG9tUmVuZGVyZXIpIHtcbiAgICAgICAgICAgIGN1c3RvbSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkuZGF0YXNldCAmJlxuICAgICAgICAgIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tYXRoLXR5cGVzZXRcIikgPT09IFwidHJ1ZVwiXG4gICAgICAgICkge1xuICAgICAgICAgIGN1c3RvbSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGVsZW1SZXN1bHQ6IFRhc2suUmVzdWx0PEVsZW1lbnQ+O1xuICAgICAgICBpZiAoY3VzdG9tKSB7XG4gICAgICAgICAgY29uc3QgcGFyZW50Tm9kZSA9IHNlbGYubm9kZUNvbnRleHQucGFyZW50XG4gICAgICAgICAgICA/IHNlbGYubm9kZUNvbnRleHQucGFyZW50LnZpZXdOb2RlXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgZWxlbVJlc3VsdCA9IHNlbGYuY3VzdG9tUmVuZGVyZXIoXG4gICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgcGFyZW50Tm9kZSBhcyBFbGVtZW50LFxuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZSxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1SZXN1bHQgPSBUYXNrLm5ld1Jlc3VsdChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtUmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChjdXN0b20pIHtcbiAgICAgICAgICAgICAgbmVlZFRvUHJvY2Vzc0NoaWxkcmVuID1cbiAgICAgICAgICAgICAgICByZXN1bHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1hZGFwdC1wcm9jZXNzLWNoaWxkcmVuXCIpID09IFwidHJ1ZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBzZWxmLmNyZWF0ZUVsZW1lbnQobnMsIHRhZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0YWcgPT0gXCJhXCIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc2VsZi5wYWdlLmhyZWZIYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbm5lcikge1xuICAgICAgICAgICAgc2VsZi5hcHBseVBzZXVkb2VsZW1lbnRTdHlsZShzZWxmLm5vZGVDb250ZXh0LCBcImlubmVyXCIsIGlubmVyKTtcbiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmRDaGlsZChpbm5lcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHJlc3VsdC5sb2NhbE5hbWUgPT0gXCJpZnJhbWVcIiAmJlxuICAgICAgICAgICAgcmVzdWx0Lm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLlhIVE1MXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpbml0SUZyYW1lKHJlc3VsdCBhcyBIVE1MSUZyYW1lRWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGltYWdlUmVzb2x1dGlvbiA9IHNlbGYubm9kZUNvbnRleHQuaW5oZXJpdGVkUHJvcHNbXG4gICAgICAgICAgICBcImltYWdlLXJlc29sdXRpb25cIlxuICAgICAgICAgIF0gYXMgbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgICAgICAgIGNvbnN0IGltYWdlczoge1xuICAgICAgICAgICAgaW1hZ2U6IEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBmZXRjaGVyOiBUYXNrVXRpbC5GZXRjaGVyPHN0cmluZz47XG4gICAgICAgICAgfVtdID0gW107XG4gICAgICAgICAgY29uc3QgY3NzV2lkdGggPSBjb21wdXRlZFN0eWxlW1wid2lkdGhcIl07XG4gICAgICAgICAgY29uc3QgY3NzSGVpZ2h0ID0gY29tcHV0ZWRTdHlsZVtcImhlaWdodFwiXTtcbiAgICAgICAgICBjb25zdCBhdHRyV2lkdGggPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcIndpZHRoXCIpO1xuICAgICAgICAgIGNvbnN0IGF0dHJIZWlnaHQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImhlaWdodFwiKTtcbiAgICAgICAgICBjb25zdCBoYXNBdXRvV2lkdGggPVxuICAgICAgICAgICAgY3NzV2lkdGggPT09IENzcy5pZGVudC5hdXRvIHx8ICghY3NzV2lkdGggJiYgIWF0dHJXaWR0aCk7XG4gICAgICAgICAgY29uc3QgaGFzQXV0b0hlaWdodCA9XG4gICAgICAgICAgICBjc3NIZWlnaHQgPT09IENzcy5pZGVudC5hdXRvIHx8ICghY3NzSGVpZ2h0ICYmICFhdHRySGVpZ2h0KTtcbiAgICAgICAgICBpZiAoZWxlbWVudC5uYW1lc3BhY2VVUkkgIT0gQmFzZS5OUy5GQjIgfHwgdGFnID09IFwidGRcIikge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGVsZW1lbnQuYXR0cmlidXRlcztcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZUNvdW50ID0gYXR0cmlidXRlcy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgZGVsYXllZFNyYzogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJpYnV0ZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTlMgPSBhdHRyaWJ1dGUubmFtZXNwYWNlVVJJO1xuICAgICAgICAgICAgICBsZXQgYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZS5sb2NhbE5hbWU7XG4gICAgICAgICAgICAgIGxldCBhdHRyaWJ1dGVWYWx1ZSA9IGF0dHJpYnV0ZS5ub2RlVmFsdWU7XG4gICAgICAgICAgICAgIGlmICghYXR0cmlidXRlTlMpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlTmFtZS5tYXRjaCgvXm9uLykpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBkb24ndCBwcm9wYWdhdGUgSmF2YVNjcmlwdCBjb2RlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09IFwic3R5bGVcIikge1xuICAgICAgICAgICAgICAgICAgY29udGludWU7IC8vIHdlIGRvIHN0eWxpbmcgb3Vyc2VsdmVzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09IFwiaWRcIiB8fCBhdHRyaWJ1dGVOYW1lID09IFwibmFtZVwiKSB7XG4gICAgICAgICAgICAgICAgICAvLyBQcm9wYWdhdGUgdHJhbnNmb3JtZWQgaWRzIGFuZCBjb2xsZWN0IHRoZW0gb24gdGhlIHBhZ2VcbiAgICAgICAgICAgICAgICAgIC8vIChvbmx5IGZpcnN0IHRpbWUpLlxuICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSA9IHNlbGYuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci50cmFuc2Zvcm1GcmFnbWVudChcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLnhtbGRvYy51cmwsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnBhZ2UucmVnaXN0ZXJFbGVtZW50V2l0aElkKHJlc3VsdCwgYXR0cmlidXRlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiB1bmRlcnN0YW5kIHRoZSBlbGVtZW50IHdlIGFyZSB3b3JraW5nIHdpdGguXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9PSBcInNyY1wiIHx8XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lID09IFwiaHJlZlwiIHx8XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lID09IFwicG9zdGVyXCJcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZVZhbHVlID0gc2VsZi5yZXNvbHZlVVJMKGF0dHJpYnV0ZVZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09PSBcImhyZWZcIikge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSA9IHNlbGYuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci50cmFuc2Zvcm1VUkwoXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgc2VsZi54bWxkb2MudXJsLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTmFtZSA9PSBcInNyY3NldFwiKSB7XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSA9IGF0dHJpYnV0ZVZhbHVlXG4gICAgICAgICAgICAgICAgICAgIC5zcGxpdChcIixcIilcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgodmFsdWUpID0+IHNlbGYucmVzb2x2ZVVSTCh2YWx1ZS50cmltKCkpKVxuICAgICAgICAgICAgICAgICAgICAuam9pbihcIixcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgPT09IFwicG9zdGVyXCIgJiZcbiAgICAgICAgICAgICAgICAgIHRhZyA9PT0gXCJ2aWRlb1wiICYmXG4gICAgICAgICAgICAgICAgICBucyA9PT0gQmFzZS5OUy5YSFRNTCAmJlxuICAgICAgICAgICAgICAgICAgaGFzQXV0b1dpZHRoICYmXG4gICAgICAgICAgICAgICAgICBoYXNBdXRvSGVpZ2h0XG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICAgICAgY29uc3QgZmV0Y2hlciA9IFRhc2tVdGlsLmxvYWRFbGVtZW50KGltYWdlLCBhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICBmZXRjaGVycy5wdXNoKGZldGNoZXIpO1xuICAgICAgICAgICAgICAgICAgaW1hZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogcmVzdWx0IGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICBmZXRjaGVyLFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZU5TID09IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy9cIikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBuYW1lc3BhY2UgZGVjbGFyYXRpb24gKGluIEZpcmVmb3gpXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTlMgPT0gQmFzZS5OUy5YTElOSykge1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09IFwiaHJlZlwiKSB7XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSA9IHNlbGYucmVzb2x2ZVVSTChhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChucyA9PSBCYXNlLk5TLlNWRyAmJiAvXltBLVpcXC1dKyQvLnRlc3QoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBFZGdlIGJ1Z1xuICAgICAgICAgICAgICAgIC8vIFNlZVxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1pY3Jvc29mdC5jb20vZW4tdXMvbWljcm9zb2Z0LWVkZ2UvcGxhdGZvcm0vaXNzdWVzLzU1NzkzMTEvXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoc2VsZi5pc1NWR1VybEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZVZhbHVlID0gVXJscy50cmFuc2Zvcm1VUklzKFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlVmFsdWUsXG4gICAgICAgICAgICAgICAgICBzZWxmLnhtbGRvYy51cmwsXG4gICAgICAgICAgICAgICAgICBzZWxmLmRvY3VtZW50VVJMVHJhbnNmb3JtZXIsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlTlMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVQcmVmaXggPSBuYW1lc3BhY2VQcmVmaXhNYXBbYXR0cmlidXRlTlNdO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVQcmVmaXgpIHtcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgPSBgJHthdHRyaWJ1dGVQcmVmaXh9OiR7YXR0cmlidXRlTmFtZX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9PSBcInNyY1wiICYmXG4gICAgICAgICAgICAgICAgIWF0dHJpYnV0ZU5TICYmXG4gICAgICAgICAgICAgICAgKHRhZyA9PSBcImltZ1wiIHx8IHRhZyA9PSBcImlucHV0XCIpICYmXG4gICAgICAgICAgICAgICAgbnMgPT0gQmFzZS5OUy5YSFRNTFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBIVE1MIGltZyBlbGVtZW50IHNob3VsZCBzdGFydCBsb2FkaW5nIG9ubHkgb25jZSBhbGxcbiAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGVzIGFyZSBhc3NpZ25lZC5cbiAgICAgICAgICAgICAgICBkZWxheWVkU3JjID0gYXR0cmlidXRlVmFsdWU7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9PSBcImhyZWZcIiAmJlxuICAgICAgICAgICAgICAgIHRhZyA9PSBcImltYWdlXCIgJiZcbiAgICAgICAgICAgICAgICBucyA9PSBCYXNlLk5TLlNWRyAmJlxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5TID09IEJhc2UuTlMuWExJTktcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5wYWdlLmZldGNoZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgICBUYXNrVXRpbC5sb2FkRWxlbWVudChyZXN1bHQsIGF0dHJpYnV0ZVZhbHVlKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGRvY3VtZW50IGlzIG5vdCBYTUwgZG9jdW1lbnQgKGUuZy4gbm9uLVhNTCBIVE1MKVxuICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZU5TIGNhbiBiZSBudWxsXG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZU5TKSB7XG4gICAgICAgICAgICAgICAgICByZXN1bHQuc2V0QXR0cmlidXRlTlMoXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5TLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHJlc3VsdC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlbGF5ZWRTcmMpIHtcbiAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSB0YWcgPT09IFwiaW5wdXRcIiA/IG5ldyBJbWFnZSgpIDogcmVzdWx0O1xuICAgICAgICAgICAgICBjb25zdCBpbWFnZUZldGNoZXIgPSBUYXNrVXRpbC5sb2FkRWxlbWVudChpbWFnZSwgZGVsYXllZFNyYyk7XG4gICAgICAgICAgICAgIGlmIChpbWFnZSAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgKHJlc3VsdCBhcyBIVE1MSW1hZ2VFbGVtZW50KS5zcmMgPSBkZWxheWVkU3JjO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghaGFzQXV0b1dpZHRoICYmICFoYXNBdXRvSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gbmVlZCB0byB3YWl0IGZvciB0aGUgaW1hZ2UsIGRvZXMgbm90IGFmZmVjdCBsYXlvdXRcbiAgICAgICAgICAgICAgICBzZWxmLnBhZ2UuZmV0Y2hlcnMucHVzaChpbWFnZUZldGNoZXIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGhhc0F1dG9XaWR0aCAmJlxuICAgICAgICAgICAgICAgICAgaGFzQXV0b0hlaWdodCAmJlxuICAgICAgICAgICAgICAgICAgaW1hZ2VSZXNvbHV0aW9uICYmXG4gICAgICAgICAgICAgICAgICBpbWFnZVJlc29sdXRpb24gIT09IDFcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGltYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGltYWdlIGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiByZXN1bHQgYXMgSFRNTEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGZldGNoZXI6IGltYWdlRmV0Y2hlcixcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmZXRjaGVycy5wdXNoKGltYWdlRmV0Y2hlcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlIGNvbXB1dGVkU3R5bGVbXCJjb250ZW50XCJdO1xuICAgICAgICAgIGNvbnN0IGxpc3RTdHlsZUltYWdlID0gY29tcHV0ZWRTdHlsZVtcImxpc3Qtc3R5bGUtaW1hZ2VcIl07XG4gICAgICAgICAgaWYgKGxpc3RTdHlsZUltYWdlICYmIGxpc3RTdHlsZUltYWdlIGluc3RhbmNlb2YgQ3NzLlVSTCkge1xuICAgICAgICAgICAgY29uc3QgbGlzdFN0eWxlVVJMID0gKGxpc3RTdHlsZUltYWdlIGFzIENzcy5VUkwpLnVybDtcbiAgICAgICAgICAgIGZldGNoZXJzLnB1c2goVGFza1V0aWwubG9hZEVsZW1lbnQobmV3IEltYWdlKCksIGxpc3RTdHlsZVVSTCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxmLnByZXByb2Nlc3NFbGVtZW50U3R5bGUoY29tcHV0ZWRTdHlsZSk7XG4gICAgICAgICAgc2VsZi5hcHBseUNvbXB1dGVkU3R5bGVzKHJlc3VsdCwgY29tcHV0ZWRTdHlsZSk7XG4gICAgICAgICAgaWYgKCFzZWxmLm5vZGVDb250ZXh0LmlubGluZSkge1xuICAgICAgICAgICAgbGV0IGJsYWNrTGlzdDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoIWZpcnN0VGltZSkge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5pbmhlcml0ZWRQcm9wc1tcImJveC1kZWNvcmF0aW9uLWJyZWFrXCJdICE9PVxuICAgICAgICAgICAgICAgIFwiY2xvbmVcIlxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBibGFja0xpc3QgPSBzZWxmLm5vZGVDb250ZXh0LnZlcnRpY2FsXG4gICAgICAgICAgICAgICAgICA/IGZyb250RWRnZUJsYWNrTGlzdFZlcnRcbiAgICAgICAgICAgICAgICAgIDogZnJvbnRFZGdlQmxhY2tMaXN0SG9yO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gYm94LWRlY29yYXRpb24tYnJlYWs6IGNsb25lLCBjbG9uZWQgbWFyZ2lucyBhcmUgYWx3YXlzXG4gICAgICAgICAgICAgICAgLy8gdHJ1bmNhdGVkIHRvIHplcm8uXG4gICAgICAgICAgICAgICAgYmxhY2tMaXN0ID0gc2VsZi5ub2RlQ29udGV4dC52ZXJ0aWNhbFxuICAgICAgICAgICAgICAgICAgPyBmcm9udEVkZ2VVbmZvcmNlZEJyZWFrQmxhY2tMaXN0VmVydFxuICAgICAgICAgICAgICAgICAgOiBmcm9udEVkZ2VVbmZvcmNlZEJyZWFrQmxhY2tMaXN0SG9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGF0VW5mb3JjZWRCcmVhaykge1xuICAgICAgICAgICAgICBibGFja0xpc3QgPSBzZWxmLm5vZGVDb250ZXh0LnZlcnRpY2FsXG4gICAgICAgICAgICAgICAgPyBmcm9udEVkZ2VVbmZvcmNlZEJyZWFrQmxhY2tMaXN0VmVydFxuICAgICAgICAgICAgICAgIDogZnJvbnRFZGdlVW5mb3JjZWRCcmVha0JsYWNrTGlzdEhvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChibGFja0xpc3QpIHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBibGFja0xpc3QpIHtcbiAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHJlc3VsdCwgcHJvcE5hbWUsIGJsYWNrTGlzdFtwcm9wTmFtZV0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChsaXN0SXRlbSkge1xuICAgICAgICAgICAgcmVzdWx0LnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlW1widWEtbGlzdC1pdGVtLWNvdW50XCJdLnN0cmluZ1ZhbHVlKCksXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxmLnZpZXdOb2RlID0gcmVzdWx0O1xuICAgICAgICAgIGlmIChmZXRjaGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIFRhc2tVdGlsLndhaXRGb3JGZXRjaGVycyhmZXRjaGVycykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChpbWFnZVJlc29sdXRpb24gPiAwKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5tb2RpZnlFbGVtRGltZW5zaW9uV2l0aEltYWdlUmVzb2x1dGlvbihcbiAgICAgICAgICAgICAgICAgIGltYWdlcyxcbiAgICAgICAgICAgICAgICAgIGltYWdlUmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgIGNvbXB1dGVkU3R5bGUsXG4gICAgICAgICAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LnZlcnRpY2FsLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKG5lZWRUb1Byb2Nlc3NDaGlsZHJlbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJhbWUudGltZVNsaWNlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChuZWVkVG9Qcm9jZXNzQ2hpbGRyZW4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgcHJvY2Vzc0FmdGVySWZjb250aW51ZXMoXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgICBjYXNjU3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIHN0eWxlcjogQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyLFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICkge1xuICAgIGNvbnN0IHBzZXVkb01hcCA9IHRoaXMuZ2V0UHNldWRvTWFwKFxuICAgICAgY2FzY1N0eWxlLFxuICAgICAgdGhpcy5yZWdpb25JZHMsXG4gICAgICB0aGlzLmlzRm9vdG5vdGUsXG4gICAgICB0aGlzLm5vZGVDb250ZXh0LFxuICAgICAgY29udGV4dCxcbiAgICApO1xuICAgIGlmICghcHNldWRvTWFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHBzZXVkb01hcFtcImFmdGVyLWlmLWNvbnRpbnVlc1wiXSAmJlxuICAgICAgcHNldWRvTWFwW1wiYWZ0ZXItaWYtY29udGludWVzXCJdW1wiY29udGVudFwiXVxuICAgICkge1xuICAgICAgY29uc3Qgc2hhZG93U3R5bGVyID0gbmV3IFBzZXVkb0VsZW1lbnQuUHNldWRvZWxlbWVudFN0eWxlcihcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgY2FzY1N0eWxlLFxuICAgICAgICBzdHlsZXIsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIHRoaXMuZXhwckNvbnRlbnRMaXN0ZW5lcixcbiAgICAgICk7XG4gICAgICB0aGlzLm5vZGVDb250ZXh0LmFmdGVySWZDb250aW51ZXMgPSBuZXcgTGF5b3V0LkFmdGVySWZDb250aW51ZXMoXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIHNoYWRvd1N0eWxlcixcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gaXNTVkdVcmxBdHRyaWJ1dGVcbiAgICovXG4gIGlzU1ZHVXJsQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBWaWV3RmFjdG9yeS5TVkdfVVJMX0FUVFJJQlVURVMuaW5jbHVkZXMoYXR0cmlidXRlTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgfVxuXG4gIG1vZGlmeUVsZW1EaW1lbnNpb25XaXRoSW1hZ2VSZXNvbHV0aW9uKFxuICAgIGltYWdlczoge1xuICAgICAgaW1hZ2U6IEhUTUxFbGVtZW50O1xuICAgICAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgICBmZXRjaGVyOiBUYXNrVXRpbC5GZXRjaGVyPHN0cmluZz47XG4gICAgfVtdLFxuICAgIGltYWdlUmVzb2x1dGlvbjogbnVtYmVyLFxuICAgIGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuICAgIGlzVmVydGljYWw6IGJvb2xlYW4sXG4gICkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGltYWdlcy5mb3JFYWNoKChwYXJhbSkgPT4ge1xuICAgICAgaWYgKHBhcmFtLmZldGNoZXIuZ2V0KCkuZ2V0KCkgPT09IFwibG9hZFwiKSB7XG4gICAgICAgIGNvbnN0IGltZyA9IHBhcmFtLmltYWdlO1xuICAgICAgICBsZXQgc2NhbGVkV2lkdGggPSAoaW1nIGFzIEhUTUxJbWFnZUVsZW1lbnQpLndpZHRoIC8gaW1hZ2VSZXNvbHV0aW9uO1xuICAgICAgICBsZXQgc2NhbGVkSGVpZ2h0ID0gKGltZyBhcyBIVE1MSW1hZ2VFbGVtZW50KS5oZWlnaHQgLyBpbWFnZVJlc29sdXRpb247XG4gICAgICAgIGNvbnN0IGVsZW0gPSBwYXJhbS5lbGVtZW50O1xuICAgICAgICBpZiAoc2NhbGVkV2lkdGggPiAwICYmIHNjYWxlZEhlaWdodCA+IDApIHtcbiAgICAgICAgICBpZiAoY29tcHV0ZWRTdHlsZVtcImJveC1zaXppbmdcIl0gPT09IENzcy5pZGVudC5ib3JkZXJfYm94KSB7XG4gICAgICAgICAgICBpZiAoY29tcHV0ZWRTdHlsZVtcImJvcmRlci1sZWZ0LXN0eWxlXCJdICE9PSBDc3MuaWRlbnQubm9uZSkge1xuICAgICAgICAgICAgICBzY2FsZWRXaWR0aCArPSBDc3MudG9OdW1iZXIoXG4gICAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImJvcmRlci1sZWZ0LXdpZHRoXCJdLFxuICAgICAgICAgICAgICAgIHNlbGYuY29udGV4dCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb21wdXRlZFN0eWxlW1wiYm9yZGVyLXJpZ2h0LXN0eWxlXCJdICE9PSBDc3MuaWRlbnQubm9uZSkge1xuICAgICAgICAgICAgICBzY2FsZWRXaWR0aCArPSBDc3MudG9OdW1iZXIoXG4gICAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImJvcmRlci1yaWdodC13aWR0aFwiXSxcbiAgICAgICAgICAgICAgICBzZWxmLmNvbnRleHQsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29tcHV0ZWRTdHlsZVtcImJvcmRlci10b3Atc3R5bGVcIl0gIT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgICAgICAgICAgIHNjYWxlZEhlaWdodCArPSBDc3MudG9OdW1iZXIoXG4gICAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImJvcmRlci10b3Atd2lkdGhcIl0sXG4gICAgICAgICAgICAgICAgc2VsZi5jb250ZXh0LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbXB1dGVkU3R5bGVbXCJib3JkZXItYm90dG9tLXN0eWxlXCJdICE9PSBDc3MuaWRlbnQubm9uZSkge1xuICAgICAgICAgICAgICBzY2FsZWRIZWlnaHQgKz0gQ3NzLnRvTnVtYmVyKFxuICAgICAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJib3JkZXItYm90dG9tLXdpZHRoXCJdLFxuICAgICAgICAgICAgICAgIHNlbGYuY29udGV4dCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGltYWdlUmVzb2x1dGlvbiA+IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IG1heFdpZHRoID0gY29tcHV0ZWRTdHlsZVtcIm1heC13aWR0aFwiXSB8fCBDc3MuaWRlbnQubm9uZTtcbiAgICAgICAgICAgIGNvbnN0IG1heEhlaWdodCA9IGNvbXB1dGVkU3R5bGVbXCJtYXgtaGVpZ2h0XCJdIHx8IENzcy5pZGVudC5ub25lO1xuICAgICAgICAgICAgaWYgKG1heFdpZHRoID09PSBDc3MuaWRlbnQubm9uZSAmJiBtYXhIZWlnaHQgPT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJtYXgtd2lkdGhcIiwgYCR7c2NhbGVkV2lkdGh9cHhgKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgIG1heFdpZHRoICE9PSBDc3MuaWRlbnQubm9uZSAmJlxuICAgICAgICAgICAgICBtYXhIZWlnaHQgPT09IENzcy5pZGVudC5ub25lXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtLCBcIndpZHRoXCIsIGAke3NjYWxlZFdpZHRofXB4YCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICBtYXhXaWR0aCA9PT0gQ3NzLmlkZW50Lm5vbmUgJiZcbiAgICAgICAgICAgICAgbWF4SGVpZ2h0ICE9PSBDc3MuaWRlbnQubm9uZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJoZWlnaHRcIiwgYCR7c2NhbGVkSGVpZ2h0fXB4YCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBtYXhXaWR0aCAhPSBub25lICYmIG1heEhlaWdodCAhPSBub25lXG4gICAgICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KG1heFdpZHRoLmlzTnVtZXJpYygpKTtcbiAgICAgICAgICAgICAgQXNzZXJ0cy5hc3NlcnQobWF4SGVpZ2h0LmlzTnVtZXJpYygpKTtcbiAgICAgICAgICAgICAgY29uc3QgbnVtZXJpY01heFdpZHRoID0gbWF4V2lkdGggYXMgQ3NzLk51bWVyaWM7XG4gICAgICAgICAgICAgIGNvbnN0IG51bWVyaWNNYXhIZWlnaHQgPSBtYXhIZWlnaHQgYXMgQ3NzLk51bWVyaWM7XG4gICAgICAgICAgICAgIGlmIChudW1lcmljTWF4V2lkdGgudW5pdCAhPT0gXCIlXCIpIHtcbiAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgZWxlbSxcbiAgICAgICAgICAgICAgICAgIFwibWF4LXdpZHRoXCIsXG4gICAgICAgICAgICAgICAgICBgJHtNYXRoLm1pbihcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVkV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIENzcy50b051bWJlcihudW1lcmljTWF4V2lkdGgsIHNlbGYuY29udGV4dCksXG4gICAgICAgICAgICAgICAgICApfXB4YCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKG51bWVyaWNNYXhIZWlnaHQudW5pdCAhPT0gXCIlXCIpIHtcbiAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgZWxlbSxcbiAgICAgICAgICAgICAgICAgIFwibWF4LWhlaWdodFwiLFxuICAgICAgICAgICAgICAgICAgYCR7TWF0aC5taW4oXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlZEhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgQ3NzLnRvTnVtYmVyKG51bWVyaWNNYXhIZWlnaHQsIHNlbGYuY29udGV4dCksXG4gICAgICAgICAgICAgICAgICApfXB4YCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiaGVpZ2h0XCIsIGAke3NjYWxlZEhlaWdodH1weGApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwid2lkdGhcIiwgYCR7c2NhbGVkV2lkdGh9cHhgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGltYWdlUmVzb2x1dGlvbiA8IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pbldpZHRoID0gY29tcHV0ZWRTdHlsZVtcIm1pbi13aWR0aFwiXSB8fCBDc3MubnVtZXJpY1plcm87XG4gICAgICAgICAgICBjb25zdCBtaW5IZWlnaHQgPSBjb21wdXRlZFN0eWxlW1wibWluLWhlaWdodFwiXSB8fCBDc3MubnVtZXJpY1plcm87XG4gICAgICAgICAgICBBc3NlcnRzLmFzc2VydChtaW5XaWR0aC5pc051bWVyaWMoKSk7XG4gICAgICAgICAgICBBc3NlcnRzLmFzc2VydChtaW5XaWR0aC5pc051bWVyaWMoKSk7XG4gICAgICAgICAgICBjb25zdCBudW1lcmljTWluV2lkdGggPSBtaW5XaWR0aCBhcyBDc3MuTnVtZXJpYztcbiAgICAgICAgICAgIGNvbnN0IG51bWVyaWNNaW5IZWlnaHQgPSBtaW5IZWlnaHQgYXMgQ3NzLk51bWVyaWM7XG4gICAgICAgICAgICBpZiAobnVtZXJpY01pbldpZHRoLm51bSA9PT0gMCAmJiBudW1lcmljTWluSGVpZ2h0Lm51bSA9PT0gMCkge1xuICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwibWluLXdpZHRoXCIsIGAke3NjYWxlZFdpZHRofXB4YCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICBudW1lcmljTWluV2lkdGgubnVtICE9PSAwICYmXG4gICAgICAgICAgICAgIG51bWVyaWNNaW5IZWlnaHQubnVtID09PSAwXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtLCBcIndpZHRoXCIsIGAke3NjYWxlZFdpZHRofXB4YCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICBudW1lcmljTWluV2lkdGgubnVtID09PSAwICYmXG4gICAgICAgICAgICAgIG51bWVyaWNNaW5IZWlnaHQubnVtICE9PSAwXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtLCBcImhlaWdodFwiLCBgJHtzY2FsZWRIZWlnaHR9cHhgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIG1pbldpZHRoICE9IDAgJiYgbWluSGVpZ2h0ICE9IDBcbiAgICAgICAgICAgICAgaWYgKG51bWVyaWNNaW5XaWR0aC51bml0ICE9PSBcIiVcIikge1xuICAgICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICBlbGVtLFxuICAgICAgICAgICAgICAgICAgXCJtaW4td2lkdGhcIixcbiAgICAgICAgICAgICAgICAgIGAke01hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICBzY2FsZWRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgQ3NzLnRvTnVtYmVyKG51bWVyaWNNaW5XaWR0aCwgc2VsZi5jb250ZXh0KSxcbiAgICAgICAgICAgICAgICAgICl9cHhgLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtZXJpY01pbkhlaWdodC51bml0ICE9PSBcIiVcIikge1xuICAgICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICBlbGVtLFxuICAgICAgICAgICAgICAgICAgXCJtaW4taGVpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICBgJHtNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVkSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBDc3MudG9OdW1iZXIobnVtZXJpY01pbkhlaWdodCwgc2VsZi5jb250ZXh0KSxcbiAgICAgICAgICAgICAgICAgICl9cHhgLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzVmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJoZWlnaHRcIiwgYCR7c2NhbGVkSGVpZ2h0fXB4YCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJ3aWR0aFwiLCBgJHtzY2FsZWRXaWR0aH1weGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBwcmVwcm9jZXNzRWxlbWVudFN0eWxlKGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgaG9va3M6IFBsdWdpbi5QcmVQcm9jZXNzRWxlbWVudFN0eWxlSG9va1tdID0gUGx1Z2luLmdldEhvb2tzRm9yTmFtZShcbiAgICAgIFBsdWdpbi5IT09LUy5QUkVQUk9DRVNTX0VMRU1FTlRfU1RZTEUsXG4gICAgKTtcbiAgICBob29rcy5mb3JFYWNoKChob29rKSA9PiB7XG4gICAgICBob29rKHNlbGYubm9kZUNvbnRleHQsIGNvbXB1dGVkU3R5bGUpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBmaW5kQW5kUHJvY2Vzc1JlcGVhdGluZ0VsZW1lbnRzKFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgc3R5bGVyOiBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXIsXG4gICkge1xuICAgIGZvciAoXG4gICAgICBsZXQgY2hpbGQ6IE5vZGUgPSBlbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgICBjaGlsZDtcbiAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmdcbiAgICApIHtcbiAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSAhPT0gMSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSB7fTtcbiAgICAgIGNvbnN0IGVsZW1lbnRTdHlsZSA9IHN0eWxlci5nZXRTdHlsZShjaGlsZCBhcyBFbGVtZW50LCBmYWxzZSk7XG4gICAgICB0aGlzLmNvbXB1dGVTdHlsZShcbiAgICAgICAgdGhpcy5ub2RlQ29udGV4dC52ZXJ0aWNhbCxcbiAgICAgICAgdGhpcy5ub2RlQ29udGV4dC5kaXJlY3Rpb24gPT09IFwicnRsXCIsXG4gICAgICAgIGVsZW1lbnRTdHlsZSxcbiAgICAgICAgY29tcHV0ZWRTdHlsZSxcbiAgICAgICk7XG4gICAgICBjb25zdCBwcm9jZXNzUmVwZWF0T25CcmVhayA9IHRoaXMucHJvY2Vzc1JlcGVhdE9uQnJlYWsoY29tcHV0ZWRTdHlsZSk7XG4gICAgICBpZiAoIXByb2Nlc3NSZXBlYXRPbkJyZWFrKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0IGluc3RhbmNlb2ZcbiAgICAgICAgICBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0ICYmXG4gICAgICAgICF0aGlzLm5vZGVDb250ZXh0LmJlbG9uZ3NUbyh0aGlzLm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMubm9kZUNvbnRleHQucGFyZW50O1xuICAgICAgY29uc3QgcGFyZW50Rm9ybWF0dGluZ0NvbnRleHQgPSBwYXJlbnQgJiYgcGFyZW50LmZvcm1hdHRpbmdDb250ZXh0O1xuICAgICAgdGhpcy5ub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCA9IG5ldyBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgICBwYXJlbnRGb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICAgdGhpcy5ub2RlQ29udGV4dC5zb3VyY2VOb2RlIGFzIEVsZW1lbnQsXG4gICAgICApO1xuICAgICAgKHRoaXMubm9kZUNvbnRleHRcbiAgICAgICAgLmZvcm1hdHRpbmdDb250ZXh0IGFzIFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQpLmluaXRpYWxpemVSZXBldGl0aXZlRWxlbWVudHMoXG4gICAgICAgIHRoaXMubm9kZUNvbnRleHQudmVydGljYWwsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcHJvY2Vzc1JlcGVhdE9uQnJlYWsoY29tcHV0ZWRTdHlsZTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0pIHtcbiAgICBsZXQgcmVwZWF0T25CcmVhayA9IGNvbXB1dGVkU3R5bGVbXCJyZXBlYXQtb24tYnJlYWtcIl07XG4gICAgaWYgKHJlcGVhdE9uQnJlYWsgIT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgICBpZiAocmVwZWF0T25CcmVhayA9PT0gQ3NzLmlkZW50LmF1dG8pIHtcbiAgICAgICAgaWYgKGNvbXB1dGVkU3R5bGVbXCJkaXNwbGF5XCJdID09PSBDc3MuaWRlbnQudGFibGVfaGVhZGVyX2dyb3VwKSB7XG4gICAgICAgICAgcmVwZWF0T25CcmVhayA9IENzcy5pZGVudC5oZWFkZXI7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcHV0ZWRTdHlsZVtcImRpc3BsYXlcIl0gPT09IENzcy5pZGVudC50YWJsZV9mb290ZXJfZ3JvdXApIHtcbiAgICAgICAgICByZXBlYXRPbkJyZWFrID0gQ3NzLmlkZW50LmZvb3RlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXBlYXRPbkJyZWFrID0gQ3NzLmlkZW50Lm5vbmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXBlYXRPbkJyZWFrICYmIHJlcGVhdE9uQnJlYWsgIT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgICAgIHJldHVybiByZXBlYXRPbkJyZWFrLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVUZXh0Tm9kZVZpZXcoKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImNyZWF0ZVRleHROb2RlVmlld1wiKTtcbiAgICB0aGlzLnByZXByb2Nlc3NUZXh0Q29udGVudCgpLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3Qgb2Zmc2V0SW5Ob2RlID0gc2VsZi5vZmZzZXRJbk5vZGUgfHwgMDtcbiAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gRGlmZi5yZXN0b3JlTmV3VGV4dChcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5wcmVwcm9jZXNzZWRUZXh0Q29udGVudCxcbiAgICAgICkuc3Vic3RyKG9mZnNldEluTm9kZSk7XG4gICAgICBzZWxmLnZpZXdOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dENvbnRlbnQpO1xuICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgcHJlcHJvY2Vzc1RleHRDb250ZW50KCk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBpZiAodGhpcy5ub2RlQ29udGV4dC5wcmVwcm9jZXNzZWRUZXh0Q29udGVudCAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBvcmlnaW5sOiBzdHJpbmc7XG4gICAgbGV0IHRleHRDb250ZW50ID0gKG9yaWdpbmwgPSBzZWxmLnNvdXJjZU5vZGUudGV4dENvbnRlbnQpO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcInByZXByb2Nlc3NUZXh0Q29udGVudFwiKTtcbiAgICBjb25zdCBob29rczogUGx1Z2luLlByZVByb2Nlc3NUZXh0Q29udGVudEhvb2tbXSA9IFBsdWdpbi5nZXRIb29rc0Zvck5hbWUoXG4gICAgICBQbHVnaW4uSE9PS1MuUFJFUFJPQ0VTU19URVhUX0NPTlRFTlQsXG4gICAgKTtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGZyYW1lXG4gICAgICAubG9vcCgoKSA9PiB7XG4gICAgICAgIGlmIChpbmRleCA+PSBob29rcy5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBob29rc1tpbmRleCsrXShzZWxmLm5vZGVDb250ZXh0LCB0ZXh0Q29udGVudCkudGhlbkFzeW5jKFxuICAgICAgICAgIChwcm9jZXNzZWRUZXh0KSA9PiB7XG4gICAgICAgICAgICB0ZXh0Q29udGVudCA9IHByb2Nlc3NlZFRleHQ7XG4gICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQgPSBEaWZmLmRpZmZDaGFycyhcbiAgICAgICAgICBvcmlnaW5sLFxuICAgICAgICAgIHRleHRDb250ZW50LFxuICAgICAgICApO1xuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBob2xkaW5nIHRydWUgaWYgY2hpbGRyZW4gc2hvdWxkIGJlIHByb2Nlc3NlZFxuICAgKi9cbiAgY3JlYXRlTm9kZVZpZXcoXG4gICAgZmlyc3RUaW1lOiBib29sZWFuLFxuICAgIGF0VW5mb3JjZWRCcmVhazogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImNyZWF0ZU5vZGVWaWV3XCIpO1xuICAgIGxldCByZXN1bHQ6IFRhc2suUmVzdWx0PGJvb2xlYW4+O1xuICAgIGxldCBuZWVkVG9Qcm9jZXNzQ2hpbGRyZW4gPSB0cnVlO1xuICAgIGlmIChzZWxmLnNvdXJjZU5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgcmVzdWx0ID0gc2VsZi5jcmVhdGVFbGVtZW50VmlldyhmaXJzdFRpbWUsIGF0VW5mb3JjZWRCcmVhayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzZWxmLnNvdXJjZU5vZGUubm9kZVR5cGUgPT0gOCkge1xuICAgICAgICBzZWxmLnZpZXdOb2RlID0gbnVsbDsgLy8gY29tbWVudCBub2RlXG4gICAgICAgIHJlc3VsdCA9IFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gc2VsZi5jcmVhdGVUZXh0Tm9kZVZpZXcoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnRoZW4oKHByb2Nlc3NDaGlsZHJlbikgPT4ge1xuICAgICAgbmVlZFRvUHJvY2Vzc0NoaWxkcmVuID0gcHJvY2Vzc0NoaWxkcmVuO1xuICAgICAgc2VsZi5ub2RlQ29udGV4dC52aWV3Tm9kZSA9IHNlbGYudmlld05vZGU7XG4gICAgICBpZiAoc2VsZi52aWV3Tm9kZSkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBzZWxmLm5vZGVDb250ZXh0LnBhcmVudFxuICAgICAgICAgID8gc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQudmlld05vZGVcbiAgICAgICAgICA6IHNlbGYudmlld1Jvb3Q7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoc2VsZi52aWV3Tm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZyYW1lLmZpbmlzaChuZWVkVG9Qcm9jZXNzQ2hpbGRyZW4pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNldEN1cnJlbnQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZpcnN0VGltZTogYm9vbGVhbixcbiAgICBhdFVuZm9yY2VkQnJlYWs/OiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgdGhpcy5ub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0O1xuICAgIGlmIChub2RlQ29udGV4dCkge1xuICAgICAgdGhpcy5zb3VyY2VOb2RlID0gbm9kZUNvbnRleHQuc291cmNlTm9kZTtcbiAgICAgIHRoaXMub2Zmc2V0SW5Ob2RlID0gbm9kZUNvbnRleHQub2Zmc2V0SW5Ob2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNvdXJjZU5vZGUgPSBudWxsO1xuICAgICAgdGhpcy5vZmZzZXRJbk5vZGUgPSAtMTtcbiAgICB9XG4gICAgdGhpcy52aWV3Tm9kZSA9IG51bGw7XG4gICAgaWYgKHRoaXMubm9kZUNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZU5vZGVWaWV3KGZpcnN0VGltZSwgISFhdFVuZm9yY2VkQnJlYWspO1xuICAgIH1cbiAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gIH1cblxuICBwcm9jZXNzU2hhZG93Q29udGVudChwb3M6IFZ0cmVlLk5vZGVDb250ZXh0KTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIGlmIChcbiAgICAgIHBvcy5zaGFkb3dDb250ZXh0ID09IG51bGwgfHxcbiAgICAgIChwb3Muc291cmNlTm9kZSBhcyBFbGVtZW50KS5sb2NhbE5hbWUgIT0gXCJjb250ZW50XCIgfHxcbiAgICAgIHBvcy5zb3VyY2VOb2RlLm5hbWVzcGFjZVVSSSAhPSBCYXNlLk5TLlNIQURPV1xuICAgICkge1xuICAgICAgcmV0dXJuIHBvcztcbiAgICB9XG4gICAgY29uc3QgYm94T2Zmc2V0ID0gcG9zLmJveE9mZnNldDtcbiAgICBjb25zdCBzaGFkb3cgPSBwb3Muc2hhZG93Q29udGV4dDtcbiAgICBjb25zdCBwYXJlbnQgPSBwb3MucGFyZW50O1xuXG4gICAgLy8gY29udGVudCB0aGF0IHdpbGwgYmUgaW5zZXJ0ZWRcbiAgICBsZXQgY29udGVudE5vZGU6IE5vZGU7XG4gICAgbGV0IGNvbnRlbnRTaGFkb3dUeXBlOiBWdHJlZS5TaGFkb3dUeXBlO1xuICAgIGxldCBjb250ZW50U2hhZG93OiBWdHJlZS5TaGFkb3dDb250ZXh0O1xuICAgIGlmIChzaGFkb3cuc3ViU2hhZG93KSB7XG4gICAgICBjb250ZW50U2hhZG93ID0gc2hhZG93LnN1YlNoYWRvdztcbiAgICAgIGNvbnRlbnROb2RlID0gc2hhZG93LnJvb3Q7XG4gICAgICBjb250ZW50U2hhZG93VHlwZSA9IHNoYWRvdy50eXBlO1xuICAgICAgaWYgKGNvbnRlbnRTaGFkb3dUeXBlID09IFZ0cmVlLlNoYWRvd1R5cGUuUk9PVExFU1MpIHtcbiAgICAgICAgY29udGVudE5vZGUgPSBjb250ZW50Tm9kZS5maXJzdENoaWxkO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZW50U2hhZG93ID0gc2hhZG93LnBhcmVudFNoYWRvdztcbiAgICAgIGNvbnRlbnROb2RlID0gc2hhZG93Lm93bmVyLmZpcnN0Q2hpbGQ7XG4gICAgICBjb250ZW50U2hhZG93VHlwZSA9IFZ0cmVlLlNoYWRvd1R5cGUuUk9PVExFU1M7XG4gICAgfVxuICAgIGNvbnN0IG5leHRTaWJsaW5nID0gcG9zLnNvdXJjZU5vZGUubmV4dFNpYmxpbmc7XG4gICAgaWYgKG5leHRTaWJsaW5nKSB7XG4gICAgICBwb3Muc291cmNlTm9kZSA9IG5leHRTaWJsaW5nO1xuICAgICAgcG9zLnJlc2V0VmlldygpO1xuICAgIH0gZWxzZSBpZiAocG9zLnNoYWRvd1NpYmxpbmcpIHtcbiAgICAgIHBvcyA9IHBvcy5zaGFkb3dTaWJsaW5nO1xuICAgIH0gZWxzZSBpZiAoY29udGVudE5vZGUpIHtcbiAgICAgIHBvcyA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvcyA9IHBvcy5wYXJlbnQubW9kaWZ5KCk7XG4gICAgICBwb3MuYWZ0ZXIgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoY29udGVudE5vZGUpIHtcbiAgICAgIGNvbnN0IHIgPSBuZXcgVnRyZWUuTm9kZUNvbnRleHQoY29udGVudE5vZGUsIHBhcmVudCwgYm94T2Zmc2V0KTtcbiAgICAgIHIuc2hhZG93Q29udGV4dCA9IGNvbnRlbnRTaGFkb3c7XG4gICAgICByLnNoYWRvd1R5cGUgPSBjb250ZW50U2hhZG93VHlwZTtcbiAgICAgIHIuc2hhZG93U2libGluZyA9IHBvcztcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICBwb3MuYm94T2Zmc2V0ID0gYm94T2Zmc2V0O1xuICAgIHJldHVybiBwb3M7XG4gIH1cblxuICBwcml2YXRlIG5leHRQb3NpdGlvbkluVHJlZShwb3M6IFZ0cmVlLk5vZGVDb250ZXh0KTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIGxldCBib3hPZmZzZXQgPSBwb3MuYm94T2Zmc2V0ICsgMTsgLy8gb2Zmc2V0IGZvciB0aGUgbmV4dCBwb3NpdGlvblxuICAgIGlmIChwb3MuYWZ0ZXIpIHtcbiAgICAgIC8vIHJvb3QsIHRoYXQgd2FzIHRoZSBsYXN0IHBvc3NpYmxlIHBvc2l0aW9uXG4gICAgICBpZiAoIXBvcy5wYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIHdlIGFyZSBkb25lIHdpdGggdGhpcyBzb3VyY2VOb2RlLCBzZWUgaWYgdGhlcmUgaXMgYSBuZXh0IHNpYmxpbmcsXG4gICAgICAvLyB1bmxlc3MgdGhpcyBpcyB0aGUgcm9vdCBvZiB0aGUgc2hhZG93IHRyZWVcbiAgICAgIGlmIChwb3Muc2hhZG93VHlwZSAhPSBWdHJlZS5TaGFkb3dUeXBlLlJPT1RFRCkge1xuICAgICAgICBjb25zdCBuZXh0ID0gcG9zLnNvdXJjZU5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgcG9zID0gcG9zLm1vZGlmeSgpO1xuXG4gICAgICAgICAgLy8ga2VlcCBzaGFkb3dUeXBlXG4gICAgICAgICAgcG9zLmJveE9mZnNldCA9IGJveE9mZnNldDtcbiAgICAgICAgICBwb3Muc291cmNlTm9kZSA9IG5leHQ7XG4gICAgICAgICAgcG9zLnJlc2V0VmlldygpO1xuICAgICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NTaGFkb3dDb250ZW50KHBvcyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gaWYgbm8gdmlhYmxlIHNpYmxpbmdzLCBjaGVjayBpZiB0aGVyZSBhcmUgc2hhZG93IHNpYmxpbmdzXG4gICAgICBpZiAocG9zLnNoYWRvd1NpYmxpbmcpIHtcbiAgICAgICAgLy8gb3VyIG5leHQgcG9zaXRpb24gaXMgdGhlIGVsZW1lbnQgYWZ0ZXIgc2hhZG93OmNvbnRlbnQgaW4gdGhlIHBhcmVudFxuICAgICAgICAvLyBzaGFkb3cgdHJlZVxuICAgICAgICBwb3MgPSBwb3Muc2hhZG93U2libGluZy5tb2RpZnkoKTtcbiAgICAgICAgcG9zLmJveE9mZnNldCA9IGJveE9mZnNldDtcbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgIH1cblxuICAgICAgLy8gaWYgbm90IHJvb3RsZXNzIHNoYWRvdywgbW92ZSB0byB0aGUgXCJhZnRlclwiIHBvc2l0aW9uIGZvciB0aGUgcGFyZW50XG4gICAgICBwb3MgPSBwb3MucGFyZW50Lm1vZGlmeSgpO1xuICAgICAgcG9zLmJveE9mZnNldCA9IGJveE9mZnNldDtcbiAgICAgIHBvcy5hZnRlciA9IHRydWU7XG4gICAgICByZXR1cm4gcG9zO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhbnkgc2hhZG93IHRyZWVzP1xuICAgICAgaWYgKHBvcy5ub2RlU2hhZG93KSB7XG4gICAgICAgIGxldCBzaGFkb3dOb2RlOiBOb2RlIHwgbnVsbCA9IHBvcy5ub2RlU2hhZG93LnJvb3Q7XG4gICAgICAgIGlmIChwb3Mubm9kZVNoYWRvdy50eXBlID09IFZ0cmVlLlNoYWRvd1R5cGUuUk9PVExFU1MpIHtcbiAgICAgICAgICBzaGFkb3dOb2RlID0gc2hhZG93Tm9kZS5maXJzdENoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaGFkb3dOb2RlKSB7XG4gICAgICAgICAgY29uc3Qgc3IgPSBuZXcgVnRyZWUuTm9kZUNvbnRleHQoc2hhZG93Tm9kZSwgcG9zLCBib3hPZmZzZXQpO1xuICAgICAgICAgIHNyLnNoYWRvd0NvbnRleHQgPSBwb3Mubm9kZVNoYWRvdztcbiAgICAgICAgICBzci5zaGFkb3dUeXBlID0gcG9zLm5vZGVTaGFkb3cudHlwZTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzU2hhZG93Q29udGVudChzcik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gYW55IGNoaWxkcmVuP1xuICAgICAgY29uc3QgY2hpbGQgPSBwb3Muc291cmNlTm9kZS5maXJzdENoaWxkO1xuICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NTaGFkb3dDb250ZW50KFxuICAgICAgICAgIG5ldyBWdHJlZS5Ob2RlQ29udGV4dChjaGlsZCwgcG9zLCBib3hPZmZzZXQpLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBubyBjaGlsZHJlbiAtIHdhcyB0aGVyZSB0ZXh0IGNvbnRlbnQ/XG4gICAgICBpZiAocG9zLnNvdXJjZU5vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gRGlmZi5yZXN0b3JlTmV3VGV4dChwb3MucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQpO1xuICAgICAgICBib3hPZmZzZXQgKz0gY29udGVudC5sZW5ndGggLSAxIC0gcG9zLm9mZnNldEluTm9kZTtcbiAgICAgIH1cbiAgICAgIHBvcyA9IHBvcy5tb2RpZnkoKTtcbiAgICAgIHBvcy5ib3hPZmZzZXQgPSBib3hPZmZzZXQ7XG4gICAgICBwb3MuYWZ0ZXIgPSB0cnVlO1xuICAgICAgcmV0dXJuIHBvcztcbiAgICB9XG4gIH1cblxuICBpc1RyYW5zY2x1c2lvbihcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIGVsZW1lbnRTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgdHJhbnNjbHVzaW9uVHlwZTogc3RyaW5nIHwgbnVsbCxcbiAgKSB7XG4gICAgY29uc3QgcHJvYyA9IENzc0Nhc2NhZGUuZ2V0UHJvcChlbGVtZW50U3R5bGUsIFwiaHlwZXJsaW5rLXByb2Nlc3NpbmdcIik7XG4gICAgaWYgKCFwcm9jKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHByb3AgPSBwcm9jLmV2YWx1YXRlKHRoaXMuY29udGV4dCwgXCJoeXBlcmxpbmstcHJvY2Vzc2luZ1wiKTtcbiAgICBpZiAoIXByb3ApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3AudG9TdHJpbmcoKSA9PSB0cmFuc2NsdXNpb25UeXBlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbmV4dEluVHJlZShcbiAgICBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgYXRVbmZvcmNlZEJyZWFrPzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBsZXQgbm9kZUNvbnRleHQgPSB0aGlzLm5leHRQb3NpdGlvbkluVHJlZShwb3NpdGlvbik7XG4gICAgaWYgKCFub2RlQ29udGV4dCB8fCBub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG5vZGVDb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcIm5leHRJblRyZWVcIik7XG4gICAgdGhpcy5zZXRDdXJyZW50KG5vZGVDb250ZXh0LCB0cnVlLCBhdFVuZm9yY2VkQnJlYWspLnRoZW4oXG4gICAgICAocHJvY2Vzc0NoaWxkcmVuKSA9PiB7XG4gICAgICAgIGlmICghbm9kZUNvbnRleHQudmlld05vZGUgfHwgIXByb2Nlc3NDaGlsZHJlbikge1xuICAgICAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQubW9kaWZ5KCk7XG4gICAgICAgICAgbm9kZUNvbnRleHQuYWZ0ZXIgPSB0cnVlOyAvLyBza2lwXG4gICAgICAgICAgaWYgKCFub2RlQ29udGV4dC52aWV3Tm9kZSkge1xuICAgICAgICAgICAgbm9kZUNvbnRleHQuaW5saW5lID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogXCJuZXh0SW5UcmVlXCIsIG5vZGVDb250ZXh0IH0gYXMgYW55KTtcbiAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0KTtcbiAgICAgIH0sXG4gICAgKTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBhZGRJbWFnZUZldGNoZXJzKGJnOiBDc3MuVmFsKSB7XG4gICAgaWYgKGJnIGluc3RhbmNlb2YgQ3NzLkNvbW1hTGlzdCkge1xuICAgICAgY29uc3QgdmFsdWVzID0gKGJnIGFzIENzcy5Db21tYUxpc3QpLnZhbHVlcztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuYWRkSW1hZ2VGZXRjaGVycyh2YWx1ZXNbaV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYmcgaW5zdGFuY2VvZiBDc3MuVVJMKSB7XG4gICAgICBjb25zdCB1cmwgPSAoYmcgYXMgQ3NzLlVSTCkudXJsO1xuICAgICAgdGhpcy5wYWdlLmZldGNoZXJzLnB1c2goVGFza1V0aWwubG9hZEVsZW1lbnQobmV3IEltYWdlKCksIHVybCkpO1xuICAgIH1cbiAgfVxuXG4gIGFwcGx5Q29tcHV0ZWRTdHlsZXMoXG4gICAgdGFyZ2V0OiBFbGVtZW50LFxuICAgIGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuICApIHtcbiAgICBjb25zdCBiZyA9IGNvbXB1dGVkU3R5bGVbXCJiYWNrZ3JvdW5kLWltYWdlXCJdO1xuICAgIGlmIChiZykge1xuICAgICAgdGhpcy5hZGRJbWFnZUZldGNoZXJzKGJnKTtcbiAgICB9XG4gICAgY29uc3QgaXNSZWxhdGl2ZVBvc2l0aW9uZWQgPVxuICAgICAgY29tcHV0ZWRTdHlsZVtcInBvc2l0aW9uXCJdID09PSBDc3MuaWRlbnQucmVsYXRpdmU7XG4gICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBjb21wdXRlZFN0eWxlKSB7XG4gICAgICBpZiAocHJvcGVydGllc05vdFBhc3NlZFRvRE9NW3Byb3BOYW1lXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGxldCB2YWx1ZSA9IGNvbXB1dGVkU3R5bGVbcHJvcE5hbWVdO1xuICAgICAgdmFsdWUgPSB2YWx1ZS52aXNpdChcbiAgICAgICAgbmV3IENzc1Byb3AuVXJsVHJhbnNmb3JtVmlzaXRvcihcbiAgICAgICAgICB0aGlzLnhtbGRvYy51cmwsXG4gICAgICAgICAgdGhpcy5kb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgdmFsdWUuaXNOdW1lcmljKCkgJiZcbiAgICAgICAgRXhwcnMubmVlZFVuaXRDb252ZXJzaW9uKCh2YWx1ZSBhcyBDc3MuTnVtZXJpYykudW5pdClcbiAgICAgICkge1xuICAgICAgICAvLyBmb250LXNpemUgZm9yIHRoZSByb290IGVsZW1lbnQgaXMgYWxyZWFkeSBjb252ZXJ0ZWQgdG8gcHhcbiAgICAgICAgdmFsdWUgPSBDc3MuY29udmVydE51bWVyaWNUb1B4KHZhbHVlLCB0aGlzLmNvbnRleHQpO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBWdHJlZS5kZWxheWVkUHJvcHNbcHJvcE5hbWVdIHx8XG4gICAgICAgIChpc1JlbGF0aXZlUG9zaXRpb25lZCAmJlxuICAgICAgICAgIFZ0cmVlLmRlbGF5ZWRQcm9wc0lmUmVsYXRpdmVQb3NpdGlvbmVkW3Byb3BOYW1lXSlcbiAgICAgICkge1xuICAgICAgICAvLyBTZXQgaXQgYWZ0ZXIgcGFnZSBsYXlvdXQgaXMgZG9uZS5cbiAgICAgICAgdGhpcy5wYWdlLmRlbGF5ZWRJdGVtcy5wdXNoKFxuICAgICAgICAgIG5ldyBWdHJlZS5EZWxheWVkSXRlbSh0YXJnZXQsIHByb3BOYW1lLCB2YWx1ZSksXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0YXJnZXQsIHByb3BOYW1lLCB2YWx1ZS50b1N0cmluZygpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseVBzZXVkb2VsZW1lbnRTdHlsZShcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nLFxuICAgIHRhcmdldDogRWxlbWVudCxcbiAgKTogdm9pZCB7XG4gICAgaWYgKG5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLnNvdXJjZU5vZGUgYXMgRWxlbWVudDtcbiAgICBjb25zdCBzdHlsZXIgPSBub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0XG4gICAgICA/IChub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0LnN0eWxlciBhcyBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXIpXG4gICAgICA6IHRoaXMuc3R5bGVyO1xuICAgIGxldCBlbGVtZW50U3R5bGUgPSBzdHlsZXIuZ2V0U3R5bGUoZWxlbWVudCwgZmFsc2UpO1xuICAgIGNvbnN0IHBzZXVkb01hcCA9IENzc0Nhc2NhZGUuZ2V0U3R5bGVNYXAoZWxlbWVudFN0eWxlLCBcIl9wc2V1ZG9zXCIpO1xuICAgIGlmICghcHNldWRvTWFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsZW1lbnRTdHlsZSA9IHBzZXVkb01hcFtwc2V1ZG9OYW1lXTtcbiAgICBpZiAoIWVsZW1lbnRTdHlsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFN0eWxlID0ge307XG4gICAgbm9kZUNvbnRleHQudmVydGljYWwgPSB0aGlzLmNvbXB1dGVTdHlsZShcbiAgICAgIG5vZGVDb250ZXh0LnZlcnRpY2FsLFxuICAgICAgbm9kZUNvbnRleHQuZGlyZWN0aW9uID09PSBcInJ0bFwiLFxuICAgICAgZWxlbWVudFN0eWxlLFxuICAgICAgY29tcHV0ZWRTdHlsZSxcbiAgICApO1xuICAgIGNvbnN0IGNvbnRlbnQgPSBjb21wdXRlZFN0eWxlW1wiY29udGVudFwiXTtcbiAgICBpZiAoVnRyZWUubm9uVHJpdmlhbENvbnRlbnQoY29udGVudCkpIHtcbiAgICAgIGNvbnRlbnQudmlzaXQoXG4gICAgICAgIG5ldyBWdHJlZS5Db250ZW50UHJvcGVydHlIYW5kbGVyKFxuICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgY29udGVudCxcbiAgICAgICAgICB0aGlzLmV4cHJDb250ZW50TGlzdGVuZXIsXG4gICAgICAgICksXG4gICAgICApO1xuICAgICAgZGVsZXRlIGNvbXB1dGVkU3R5bGVbXCJjb250ZW50XCJdO1xuICAgIH1cbiAgICB0aGlzLmFwcGx5Q29tcHV0ZWRTdHlsZXModGFyZ2V0LCBjb21wdXRlZFN0eWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBlZWxPZmYoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIG5vZGVPZmZzZXQ6IG51bWJlcixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFwicGVlbE9mZlwiKTtcbiAgICBjb25zdCBmaXJzdFBzZXVkbyA9IG5vZGVDb250ZXh0LmZpcnN0UHNldWRvO1xuICAgIGxldCBvZmZzZXRJbk5vZGUgPSBub2RlQ29udGV4dC5vZmZzZXRJbk5vZGU7XG4gICAgY29uc3QgYWZ0ZXIgPSBub2RlQ29udGV4dC5hZnRlcjtcbiAgICBpZiAobm9kZU9mZnNldCA+IDApIHtcbiAgICAgIGNvbnN0IHRleHQgPSBub2RlQ29udGV4dC52aWV3Tm9kZS50ZXh0Q29udGVudDtcbiAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlLnRleHRDb250ZW50ID0gdGV4dC5zdWJzdHIoMCwgbm9kZU9mZnNldCk7XG4gICAgICBvZmZzZXRJbk5vZGUgKz0gbm9kZU9mZnNldDtcbiAgICB9IGVsc2UgaWYgKCFhZnRlciAmJiBub2RlQ29udGV4dC52aWV3Tm9kZSAmJiBvZmZzZXRJbk5vZGUgPT0gMCkge1xuICAgICAgY29uc3QgcGFyZW50ID0gbm9kZUNvbnRleHQudmlld05vZGUucGFyZW50Tm9kZTtcbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYm94T2Zmc2V0ID0gbm9kZUNvbnRleHQuYm94T2Zmc2V0ICsgbm9kZU9mZnNldDtcbiAgICBjb25zdCBhcnIgPSBbXTtcbiAgICB3aGlsZSAobm9kZUNvbnRleHQuZmlyc3RQc2V1ZG8gPT09IGZpcnN0UHNldWRvKSB7XG4gICAgICBhcnIucHVzaChub2RlQ29udGV4dCk7XG4gICAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0LnBhcmVudDtcbiAgICB9XG4gICAgbGV0IHBuID0gYXJyLnBvcCgpOyAvLyBjb250YWluZXIgZm9yIHRoYXQgcHNldWRvZWxlbWVudFxuICAgIGxldCBzaGFkb3dTaWJsaW5nID0gcG4uc2hhZG93U2libGluZztcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBmcmFtZVxuICAgICAgLmxvb3AoKCkgPT4ge1xuICAgICAgICB3aGlsZSAoYXJyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBwbiA9IGFyci5wb3AoKTtcbiAgICAgICAgICBub2RlQ29udGV4dCA9IG5ldyBWdHJlZS5Ob2RlQ29udGV4dChcbiAgICAgICAgICAgIHBuLnNvdXJjZU5vZGUsXG4gICAgICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgICAgIGJveE9mZnNldCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChhcnIubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0Lm9mZnNldEluTm9kZSA9IG9mZnNldEluTm9kZTtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0LmFmdGVyID0gYWZ0ZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5vZGVDb250ZXh0LnNoYWRvd1R5cGUgPSBwbi5zaGFkb3dUeXBlO1xuICAgICAgICAgIChub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0ID0gcG4uc2hhZG93Q29udGV4dCksXG4gICAgICAgICAgICAobm9kZUNvbnRleHQubm9kZVNoYWRvdyA9IHBuLm5vZGVTaGFkb3cpO1xuICAgICAgICAgIG5vZGVDb250ZXh0LnNoYWRvd1NpYmxpbmcgPSBwbi5zaGFkb3dTaWJsaW5nXG4gICAgICAgICAgICA/IHBuLnNoYWRvd1NpYmxpbmdcbiAgICAgICAgICAgIDogc2hhZG93U2libGluZztcbiAgICAgICAgICBzaGFkb3dTaWJsaW5nID0gbnVsbDtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBzZWxmLnNldEN1cnJlbnQobm9kZUNvbnRleHQsIGZhbHNlKTtcbiAgICAgICAgICBpZiAocmVzdWx0LmlzUGVuZGluZygpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGNyZWF0ZUVsZW1lbnQobnM6IHN0cmluZywgdGFnOiBzdHJpbmcpOiBFbGVtZW50IHtcbiAgICBpZiAobnMgPT0gQmFzZS5OUy5YSFRNTCkge1xuICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsIHRhZyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseUZvb3Rub3RlU3R5bGUoXG4gICAgdmVydGljYWw6IGJvb2xlYW4sXG4gICAgcnRsOiBib29sZWFuLFxuICAgIHRhcmdldDogRWxlbWVudCxcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IHt9O1xuICAgIGNvbnN0IHBzZXVkb01hcCA9IENzc0Nhc2NhZGUuZ2V0U3R5bGVNYXAodGhpcy5mb290bm90ZVN0eWxlLCBcIl9wc2V1ZG9zXCIpO1xuICAgIHZlcnRpY2FsID0gdGhpcy5jb21wdXRlU3R5bGUoXG4gICAgICB2ZXJ0aWNhbCxcbiAgICAgIHJ0bCxcbiAgICAgIHRoaXMuZm9vdG5vdGVTdHlsZSxcbiAgICAgIGNvbXB1dGVkU3R5bGUsXG4gICAgKTtcbiAgICBpZiAocHNldWRvTWFwICYmIHBzZXVkb01hcFtcImJlZm9yZVwiXSkge1xuICAgICAgY29uc3QgY2hpbGRDb21wdXRlZFN0eWxlID0ge307XG4gICAgICBjb25zdCBzcGFuID0gdGhpcy5jcmVhdGVFbGVtZW50KEJhc2UuTlMuWEhUTUwsIFwic3BhblwiKTtcbiAgICAgIFBzZXVkb0VsZW1lbnQuc2V0UHNldWRvTmFtZShzcGFuLCBcImJlZm9yZVwiKTtcbiAgICAgIHRhcmdldC5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgIHRoaXMuY29tcHV0ZVN0eWxlKHZlcnRpY2FsLCBydGwsIHBzZXVkb01hcFtcImJlZm9yZVwiXSwgY2hpbGRDb21wdXRlZFN0eWxlKTtcbiAgICAgIGRlbGV0ZSBjaGlsZENvbXB1dGVkU3R5bGVbXCJjb250ZW50XCJdO1xuICAgICAgdGhpcy5hcHBseUNvbXB1dGVkU3R5bGVzKHNwYW4sIGNoaWxkQ29tcHV0ZWRTdHlsZSk7XG4gICAgfVxuICAgIGRlbGV0ZSBjb21wdXRlZFN0eWxlW1wiY29udGVudFwiXTtcbiAgICB0aGlzLmFwcGx5Q29tcHV0ZWRTdHlsZXModGFyZ2V0LCBjb21wdXRlZFN0eWxlKTtcbiAgICByZXR1cm4gdmVydGljYWw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcm9jZXNzRnJhZ21lbnRlZEJsb2NrRWRnZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpIHtcbiAgICBpZiAobm9kZUNvbnRleHQpIHtcbiAgICAgIG5vZGVDb250ZXh0LndhbGtVcEJsb2NrcygoYmxvY2spID0+IHtcbiAgICAgICAgY29uc3QgYm94RGVjb3JhdGlvbkJyZWFrID0gYmxvY2suaW5oZXJpdGVkUHJvcHNbXCJib3gtZGVjb3JhdGlvbi1icmVha1wiXTtcbiAgICAgICAgaWYgKCFib3hEZWNvcmF0aW9uQnJlYWsgfHwgYm94RGVjb3JhdGlvbkJyZWFrID09PSBcInNsaWNlXCIpIHtcbiAgICAgICAgICBjb25zdCBlbGVtID0gYmxvY2sudmlld05vZGUgYXMgRWxlbWVudDtcbiAgICAgICAgICBBc3NlcnRzLmFzc2VydChlbGVtIGluc3RhbmNlb2YgRWxlbWVudCk7XG4gICAgICAgICAgaWYgKGJsb2NrLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwicGFkZGluZy1sZWZ0XCIsIFwiMFwiKTtcbiAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJib3JkZXItbGVmdFwiLCBcIm5vbmVcIik7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1c1wiLCBcIjBcIik7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1c1wiLCBcIjBcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJwYWRkaW5nLWJvdHRvbVwiLCBcIjBcIik7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiYm9yZGVyLWJvdHRvbVwiLCBcIm5vbmVcIik7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1c1wiLCBcIjBcIik7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXNcIiwgXCIwXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY29udmVydExlbmd0aFRvUHgoXG4gICAgbnVtZXJpYzogQ3NzLk51bWVyaWMsXG4gICAgdmlld05vZGU6IE5vZGUsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICk6IG51bWJlciB8IENzcy5OdW1lcmljIHtcbiAgICBjb25zdCBudW0gPSBudW1lcmljLm51bTtcbiAgICBjb25zdCB1bml0ID0gbnVtZXJpYy51bml0O1xuICAgIGlmIChFeHBycy5pc0ZvbnRSZWxhdGl2ZUxlbmd0aFVuaXQodW5pdCkpIHtcbiAgICAgIGxldCBlbGVtID0gdmlld05vZGU7XG4gICAgICB3aGlsZSAoZWxlbSAmJiBlbGVtLm5vZGVUeXBlICE9PSAxKSB7XG4gICAgICAgIGVsZW0gPSBlbGVtLnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgICBBc3NlcnRzLmFzc2VydChlbGVtKTtcbiAgICAgIGNvbnN0IGZvbnRTaXplID0gcGFyc2VGbG9hdChcbiAgICAgICAgY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDb21wdXRlZFN0eWxlKGVsZW0gYXMgRWxlbWVudClbXCJmb250LXNpemVcIl0sXG4gICAgICApO1xuICAgICAgQXNzZXJ0cy5hc3NlcnQodGhpcy5jb250ZXh0KTtcbiAgICAgIHJldHVybiBDc3NDYXNjYWRlLmNvbnZlcnRGb250UmVsYXRpdmVMZW5ndGhUb1B4KFxuICAgICAgICBudW1lcmljLFxuICAgICAgICBmb250U2l6ZSxcbiAgICAgICAgdGhpcy5jb250ZXh0LFxuICAgICAgKS5udW07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHVuaXRTaXplID0gdGhpcy5jb250ZXh0LnF1ZXJ5VW5pdFNpemUodW5pdCwgZmFsc2UpO1xuICAgICAgaWYgKHVuaXRTaXplKSB7XG4gICAgICAgIHJldHVybiBudW0gKiB1bml0U2l6ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudW1lcmljO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGlmIHR3byBOb2RlUG9zaXRpb25TdGVwIGFyZSBlcXVpdmFsZW50LlxuICAgKi9cbiAgaXNTYW1lTm9kZVBvc2l0aW9uU3RlcChcbiAgICBzdGVwMTogVnRyZWUuTm9kZVBvc2l0aW9uU3RlcCxcbiAgICBzdGVwMjogVnRyZWUuTm9kZVBvc2l0aW9uU3RlcCxcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKHN0ZXAxLnNoYWRvd0NvbnRleHQpIHtcbiAgICAgIGlmICghc3RlcDIuc2hhZG93Q29udGV4dCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCBlbGVtMSA9XG4gICAgICAgIHN0ZXAxLm5vZGUubm9kZVR5cGUgPT09IDFcbiAgICAgICAgICA/IChzdGVwMS5ub2RlIGFzIEVsZW1lbnQpXG4gICAgICAgICAgOiAoc3RlcDEubm9kZS5wYXJlbnRFbGVtZW50IGFzIEVsZW1lbnQpO1xuICAgICAgY29uc3QgZWxlbTIgPVxuICAgICAgICBzdGVwMi5ub2RlLm5vZGVUeXBlID09PSAxXG4gICAgICAgICAgPyAoc3RlcDIubm9kZSBhcyBFbGVtZW50KVxuICAgICAgICAgIDogKHN0ZXAyLm5vZGUucGFyZW50RWxlbWVudCBhcyBFbGVtZW50KTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHN0ZXAxLnNoYWRvd0NvbnRleHQub3duZXIgPT09IHN0ZXAyLnNoYWRvd0NvbnRleHQub3duZXIgJiZcbiAgICAgICAgUHNldWRvRWxlbWVudC5nZXRQc2V1ZG9OYW1lKGVsZW0xKSA9PT1cbiAgICAgICAgICBQc2V1ZG9FbGVtZW50LmdldFBzZXVkb05hbWUoZWxlbTIpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3RlcDEubm9kZSA9PT0gc3RlcDIubm9kZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpc1NhbWVOb2RlUG9zaXRpb24oXG4gICAgbm9kZVBvc2l0aW9uMTogVnRyZWUuTm9kZVBvc2l0aW9uLFxuICAgIG5vZGVQb3NpdGlvbjI6IFZ0cmVlLk5vZGVQb3NpdGlvbixcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIG5vZGVQb3NpdGlvbjEub2Zmc2V0SW5Ob2RlID09PSBub2RlUG9zaXRpb24yLm9mZnNldEluTm9kZSAmJlxuICAgICAgbm9kZVBvc2l0aW9uMS5hZnRlciA9PSBub2RlUG9zaXRpb24yLmFmdGVyICYmXG4gICAgICBub2RlUG9zaXRpb24xLnN0ZXBzLmxlbmd0aCA9PT0gbm9kZVBvc2l0aW9uMi5zdGVwcy5sZW5ndGggJiZcbiAgICAgIG5vZGVQb3NpdGlvbjEuc3RlcHMuZXZlcnkoKHN0ZXAxLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0ZXAyID0gbm9kZVBvc2l0aW9uMi5zdGVwc1tpXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTYW1lTm9kZVBvc2l0aW9uU3RlcChzdGVwMSwgc3RlcDIpO1xuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgaXNQc2V1ZG9lbGVtZW50KGVsZW0pIHtcbiAgICByZXR1cm4gISFQc2V1ZG9FbGVtZW50LmdldFBzZXVkb05hbWUoZWxlbSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGZiMlJlbWFwID0ge1xuICBhOiBcImFcIixcbiAgc3ViOiBcInN1YlwiLFxuICBzdXA6IFwic3VwXCIsXG4gIHRhYmxlOiBcInRhYmxlXCIsXG4gIHRyOiBcInRyXCIsXG4gIHRkOiBcInRkXCIsXG4gIHRoOiBcInRoXCIsXG4gIGNvZGU6IFwiY29kZVwiLFxuICBib2R5OiBcImRpdlwiLFxuICBwOiBcInBcIixcbiAgdjogXCJwXCIsXG4gIGRhdGU6IFwicFwiLFxuICBlbXBoYXNpczogXCJlbVwiLFxuICBzdHJvbmc6IFwic3Ryb25nXCIsXG4gIHN0eWxlOiBcInNwYW5cIixcbiAgc3RyaWtldGhyb3VnaDogXCJkZWxcIixcbn07XG5cbmV4cG9ydCBjb25zdCBwcm9wZXJ0aWVzTm90UGFzc2VkVG9ET00gPSB7XG4gIFwiYm94LWRlY29yYXRpb24tYnJlYWtcIjogdHJ1ZSxcbiAgXCJmbG9hdC1taW4td3JhcC1ibG9ja1wiOiB0cnVlLFxuICBcImZsb2F0LXJlZmVyZW5jZVwiOiB0cnVlLFxuICBcImZsb3ctaW50b1wiOiB0cnVlLFxuICBcImZsb3ctbGluZ2VyXCI6IHRydWUsXG4gIFwiZmxvdy1vcHRpb25zXCI6IHRydWUsXG4gIFwiZmxvdy1wcmlvcml0eVwiOiB0cnVlLFxuICBcImZvb3Rub3RlLXBvbGljeVwiOiB0cnVlLFxuICBwYWdlOiB0cnVlLFxufTtcblxuZXhwb3J0IGNsYXNzIERlZmF1bHRDbGllbnRMYXlvdXQgaW1wbGVtZW50cyBWdHJlZS5DbGllbnRMYXlvdXQge1xuICBsYXlvdXRCb3g6IEVsZW1lbnQ7XG4gIHdpbmRvdzogV2luZG93O1xuXG4gIGNvbnN0cnVjdG9yKHZpZXdwb3J0OiBWaWV3cG9ydCkge1xuICAgIHRoaXMubGF5b3V0Qm94ID0gdmlld3BvcnQubGF5b3V0Qm94O1xuICAgIHRoaXMud2luZG93ID0gdmlld3BvcnQud2luZG93O1xuICB9XG5cbiAgcHJpdmF0ZSBzdWJ0cmFjdE9mZnNldHMoXG4gICAgcmVjdDogVnRyZWUuQ2xpZW50UmVjdCxcbiAgICBvcmlnaW5SZWN0OiBWdHJlZS5DbGllbnRSZWN0LFxuICApOiBWdHJlZS5DbGllbnRSZWN0IHtcbiAgICBjb25zdCB2aWV3cG9ydExlZnQgPSBvcmlnaW5SZWN0LmxlZnQ7XG4gICAgY29uc3Qgdmlld3BvcnRUb3AgPSBvcmlnaW5SZWN0LnRvcDtcbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogcmVjdC5sZWZ0IC0gdmlld3BvcnRMZWZ0LFxuICAgICAgdG9wOiByZWN0LnRvcCAtIHZpZXdwb3J0VG9wLFxuICAgICAgcmlnaHQ6IHJlY3QucmlnaHQgLSB2aWV3cG9ydExlZnQsXG4gICAgICBib3R0b206IHJlY3QuYm90dG9tIC0gdmlld3BvcnRUb3AsXG4gICAgICB3aWR0aDogcmVjdC53aWR0aCxcbiAgICAgIGhlaWdodDogcmVjdC5oZWlnaHQsXG4gICAgfSBhcyBWdHJlZS5DbGllbnRSZWN0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UmFuZ2VDbGllbnRSZWN0cyhyYW5nZTogUmFuZ2UpOiBDbGllbnRSZWN0W10ge1xuICAgIGNvbnN0IHJlY3RzID0gcmFuZ2VbXCJnZXRDbGllbnRSZWN0c1wiXSgpO1xuICAgIGNvbnN0IGxheW91dEJveFJlY3QgPSB0aGlzLmxheW91dEJveC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShyZWN0cykubWFwKChyZWN0KSA9PlxuICAgICAgdGhpcy5zdWJ0cmFjdE9mZnNldHMocmVjdCwgbGF5b3V0Qm94UmVjdCksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldEVsZW1lbnRDbGllbnRSZWN0KGVsZW1lbnQ6IEVsZW1lbnQpOiBDbGllbnRSZWN0IHtcbiAgICBjb25zdCBodG1sRWxlbWVudCA9IGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgcmVjdCA9IGh0bWxFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIGFzIFZ0cmVlLkNsaWVudFJlY3Q7XG4gICAgY29uc3QgbGF5b3V0Qm94UmVjdCA9IHRoaXMubGF5b3V0Qm94LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiB0aGlzLnN1YnRyYWN0T2Zmc2V0cyhyZWN0LCBsYXlvdXRCb3hSZWN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldEVsZW1lbnRDb21wdXRlZFN0eWxlKGVsZW1lbnQ6IEVsZW1lbnQpOiBDU1NTdHlsZURlY2xhcmF0aW9uIHtcbiAgICByZXR1cm4gdGhpcy53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmlld3BvcnQge1xuICBkb2N1bWVudDogRG9jdW1lbnQ7XG4gIHJvb3Q6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIG91dGVyWm9vbUJveDogSFRNTEVsZW1lbnQ7XG4gIGNvbnRlbnRDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBsYXlvdXRCb3g6IEVsZW1lbnQ7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSB3aW5kb3c6IFdpbmRvdyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9udFNpemU6IG51bWJlcixcbiAgICBvcHRfcm9vdD86IEhUTUxFbGVtZW50LFxuICAgIG9wdF93aWR0aD86IG51bWJlcixcbiAgICBvcHRfaGVpZ2h0PzogbnVtYmVyLFxuICApIHtcbiAgICB0aGlzLmRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xuICAgIHRoaXMucm9vdCA9IG9wdF9yb290IHx8IHRoaXMuZG9jdW1lbnQuYm9keTtcbiAgICBsZXQgb3V0ZXJab29tQm94ID0gdGhpcy5yb290LmZpcnN0RWxlbWVudENoaWxkO1xuICAgIGlmICghb3V0ZXJab29tQm94KSB7XG4gICAgICBvdXRlclpvb21Cb3ggPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBvdXRlclpvb21Cb3guc2V0QXR0cmlidXRlKFwiZGF0YS12aXZsaW9zdHlsZS1vdXRlci16b29tLWJveFwiLCBcInRydWVcIik7XG4gICAgICB0aGlzLnJvb3QuYXBwZW5kQ2hpbGQob3V0ZXJab29tQm94KTtcbiAgICB9XG4gICAgbGV0IGNvbnRlbnRDb250YWluZXIgPSBvdXRlclpvb21Cb3guZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgaWYgKCFjb250ZW50Q29udGFpbmVyKSB7XG4gICAgICBjb250ZW50Q29udGFpbmVyID0gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgY29udGVudENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXG4gICAgICAgIFwiZGF0YS12aXZsaW9zdHlsZS1zcHJlYWQtY29udGFpbmVyXCIsXG4gICAgICAgIFwidHJ1ZVwiLFxuICAgICAgKTtcbiAgICAgIG91dGVyWm9vbUJveC5hcHBlbmRDaGlsZChjb250ZW50Q29udGFpbmVyKTtcbiAgICB9XG4gICAgbGV0IGxheW91dEJveCA9IG91dGVyWm9vbUJveC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgaWYgKCFsYXlvdXRCb3gpIHtcbiAgICAgIGxheW91dEJveCA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGxheW91dEJveC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpdmxpb3N0eWxlLWxheW91dC1ib3hcIiwgXCJ0cnVlXCIpO1xuICAgICAgdGhpcy5yb290LmFwcGVuZENoaWxkKGxheW91dEJveCk7XG4gICAgfVxuICAgIHRoaXMub3V0ZXJab29tQm94ID0gb3V0ZXJab29tQm94IGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMuY29udGVudENvbnRhaW5lciA9IGNvbnRlbnRDb250YWluZXIgYXMgSFRNTEVsZW1lbnQ7XG4gICAgdGhpcy5sYXlvdXRCb3ggPSBsYXlvdXRCb3ggYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgY2xpZW50TGF5b3V0ID0gbmV3IERlZmF1bHRDbGllbnRMYXlvdXQodGhpcyk7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGNsaWVudExheW91dC5nZXRFbGVtZW50Q29tcHV0ZWRTdHlsZSh0aGlzLnJvb3QpO1xuICAgIHRoaXMud2lkdGggPVxuICAgICAgb3B0X3dpZHRoIHx8IHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVtcIndpZHRoXCJdKSB8fCB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLmhlaWdodCA9XG4gICAgICBvcHRfaGVpZ2h0IHx8IHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVtcImhlaWdodFwiXSkgfHwgd2luZG93LmlubmVySGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IHpvb20uXG4gICAqL1xuICByZXNldFpvb20oKSB7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLm91dGVyWm9vbUJveCwgXCJ3aWR0aFwiLCBcIlwiKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMub3V0ZXJab29tQm94LCBcImhlaWdodFwiLCBcIlwiKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMuY29udGVudENvbnRhaW5lciwgXCJ3aWR0aFwiLCBcIlwiKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMuY29udGVudENvbnRhaW5lciwgXCJoZWlnaHRcIiwgXCJcIik7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmNvbnRlbnRDb250YWluZXIsIFwidHJhbnNmb3JtXCIsIFwiXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFpvb20gdmlld3BvcnQuXG4gICAqIEBwYXJhbSB3aWR0aCBPdmVyYWxsIHdpZHRoIG9mIGNvbnRlbnRzIGJlZm9yZSBzY2FsaW5nIChweClcbiAgICogQHBhcmFtIGhlaWdodCBPdmVyYWxsIGhlaWdodCBvZiBjb250ZW50cyBiZWZvcmUgc2NhbGluZyAocHgpXG4gICAqIEBwYXJhbSBzY2FsZSBGYWN0b3IgdG8gd2hpY2ggdGhlIHZpZXdwb3J0IHdpbGwgYmUgc2NhbGVkLlxuICAgKi9cbiAgem9vbSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgc2NhbGU6IG51bWJlcikge1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5vdXRlclpvb21Cb3gsIFwid2lkdGhcIiwgYCR7d2lkdGggKiBzY2FsZX1weGApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5vdXRlclpvb21Cb3gsIFwiaGVpZ2h0XCIsIGAke2hlaWdodCAqIHNjYWxlfXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmNvbnRlbnRDb250YWluZXIsIFwid2lkdGhcIiwgYCR7d2lkdGh9cHhgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMuY29udGVudENvbnRhaW5lciwgXCJoZWlnaHRcIiwgYCR7aGVpZ2h0fXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmNvbnRlbnRDb250YWluZXIsIFwidHJhbnNmb3JtXCIsIGBzY2FsZSgke3NjYWxlfSlgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIHBhZ2VzIGluc2lkZSB0aGUgdmlld3BvcnQuXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICBjb25zdCByb290ID0gdGhpcy5yb290O1xuICAgIHdoaWxlIChyb290Lmxhc3RDaGlsZCkge1xuICAgICAgcm9vdC5yZW1vdmVDaGlsZChyb290Lmxhc3RDaGlsZCk7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFhtbERvYyAtIFV0aWxpdHkgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aCBYTUwgKG1vc3RseSBYSFRNTClcbiAqIGRvY3VtZW50cy5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBOZXQgZnJvbSBcIi4vbmV0XCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCB7IFhtbERvYyB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCB0eXBlIFhNTERvY1N0b3JlID0gWG1sRG9jLlhNTERvY1N0b3JlO1xuXG5leHBvcnQgY29uc3QgRUxFTUVOVF9PRkZTRVRfQVRUUiA9IFwiZGF0YS1hZGFwdC1lbG9mZlwiO1xuXG5leHBvcnQgY2xhc3MgWE1MRG9jSG9sZGVyIGltcGxlbWVudHMgWG1sRG9jLlhNTERvY0hvbGRlciB7XG4gIGxhbmc6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICB0b3RhbE9mZnNldDogbnVtYmVyID0gLTE7XG4gIHJvb3Q6IEVsZW1lbnQ7XG4gIGJvZHk6IEVsZW1lbnQ7XG4gIGhlYWQ6IEVsZW1lbnQ7XG4gIGxhc3Q6IEVsZW1lbnQ7XG4gIGxhc3RPZmZzZXQ6IG51bWJlciA9IDE7XG4gIGlkTWFwOiB7IFtrZXk6IHN0cmluZ106IEVsZW1lbnQgfTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RvcmU6IFhNTERvY1N0b3JlLFxuICAgIHB1YmxpYyByZWFkb25seSB1cmw6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZG9jdW1lbnQ6IERvY3VtZW50LFxuICApIHtcbiAgICB0aGlzLnJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7IC8vIGh0bWwgZWxlbWVudFxuICAgIGxldCBib2R5OiBFbGVtZW50ID0gbnVsbDtcbiAgICBsZXQgaGVhZDogRWxlbWVudCA9IG51bGw7XG4gICAgaWYgKHRoaXMucm9vdC5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5YSFRNTCkge1xuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGNoaWxkOiBOb2RlID0gdGhpcy5yb290LmZpcnN0Q2hpbGQ7XG4gICAgICAgIGNoaWxkO1xuICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nXG4gICAgICApIHtcbiAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtID0gY2hpbGQgYXMgRWxlbWVudDtcbiAgICAgICAgaWYgKGVsZW0ubmFtZXNwYWNlVVJJID09IEJhc2UuTlMuWEhUTUwpIHtcbiAgICAgICAgICBzd2l0Y2ggKGVsZW0ubG9jYWxOYW1lKSB7XG4gICAgICAgICAgICBjYXNlIFwiaGVhZFwiOlxuICAgICAgICAgICAgICBoZWFkID0gZWxlbTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYm9keVwiOlxuICAgICAgICAgICAgICBib2R5ID0gZWxlbTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmxhbmcgPSB0aGlzLnJvb3QuZ2V0QXR0cmlidXRlKFwibGFuZ1wiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucm9vdC5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5GQjIpIHtcbiAgICAgIGhlYWQgPSB0aGlzLnJvb3Q7XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgY2hpbGQ6IE5vZGUgPSB0aGlzLnJvb3QuZmlyc3RDaGlsZDtcbiAgICAgICAgY2hpbGQ7XG4gICAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmdcbiAgICAgICkge1xuICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVsZW0gPSBjaGlsZCBhcyBFbGVtZW50O1xuICAgICAgICBpZiAoZWxlbS5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5GQjIpIHtcbiAgICAgICAgICBpZiAoZWxlbS5sb2NhbE5hbWUgPT0gXCJib2R5XCIpIHtcbiAgICAgICAgICAgIGJvZHkgPSBlbGVtO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgbGFuZ3MgPSB0aGlzLmRvYygpXG4gICAgICAgIC5jaGlsZChcIkZpY3Rpb25Cb29rXCIpXG4gICAgICAgIC5jaGlsZChcImRlc2NyaXB0aW9uXCIpXG4gICAgICAgIC5jaGlsZChcInRpdGxlLWluZm9cIilcbiAgICAgICAgLmNoaWxkKFwibGFuZ1wiKVxuICAgICAgICAudGV4dENvbnRlbnQoKTtcbiAgICAgIGlmIChsYW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMubGFuZyA9IGxhbmdzWzBdO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5yb290Lm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLlNTRSkge1xuICAgICAgLy8gdHJlYXQgPG1ldGE+IGVsZW1lbnQgYXMgXCJoZWFkXCIgb2YgdGhlIGRvY3VtZW50XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgZWxlbSA9IHRoaXMucm9vdC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgZWxlbTtcbiAgICAgICAgZWxlbSA9IGVsZW0ubmV4dEVsZW1lbnRTaWJsaW5nXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgbG9jYWxOYW1lID0gZWxlbS5sb2NhbE5hbWU7XG4gICAgICAgIGlmIChsb2NhbE5hbWUgPT09IFwibWV0YVwiKSB7XG4gICAgICAgICAgaGVhZCA9IGVsZW07XG4gICAgICAgIH0gZWxzZSBpZiAobG9jYWxOYW1lID09PSBcImJvZHlcIikge1xuICAgICAgICAgIGJvZHkgPSBlbGVtO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuYm9keSA9IGJvZHkgYXMgRWxlbWVudDtcbiAgICB0aGlzLmhlYWQgPSBoZWFkIGFzIEVsZW1lbnQ7XG4gICAgdGhpcy5sYXN0ID0gdGhpcy5yb290O1xuICAgIHRoaXMubGFzdC5zZXRBdHRyaWJ1dGUoRUxFTUVOVF9PRkZTRVRfQVRUUiwgXCIwXCIpO1xuICB9XG5cbiAgZG9jKCk6IFhtbERvYy5Ob2RlTGlzdCB7XG4gICAgcmV0dXJuIG5ldyBOb2RlTGlzdChbdGhpcy5kb2N1bWVudF0pO1xuICB9XG5cbiAgZ2V0RWxlbWVudE9mZnNldChlbGVtZW50OiBFbGVtZW50KTogbnVtYmVyIHtcbiAgICBjb25zdCBvZmZzZXRTdHIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShFTEVNRU5UX09GRlNFVF9BVFRSKTtcbiAgICBpZiAob2Zmc2V0U3RyKSB7XG4gICAgICByZXR1cm4gcGFyc2VJbnQob2Zmc2V0U3RyLCAxMCk7XG4gICAgfVxuICAgIGxldCBvZmZzZXQgPSB0aGlzLmxhc3RPZmZzZXQ7XG4gICAgbGV0IGxhc3Q6IE5vZGUgfCBudWxsID0gdGhpcy5sYXN0O1xuICAgIHdoaWxlIChsYXN0ICE9IGVsZW1lbnQpIHtcbiAgICAgIGxldCBuZXh0OiBOb2RlIHwgbnVsbCA9IGxhc3QuZmlyc3RDaGlsZDtcbiAgICAgIGlmICghbmV4dCkge1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIG5leHQgPSBsYXN0Lm5leHRTaWJsaW5nO1xuICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbGFzdCA9IGxhc3QucGFyZW50Tm9kZTtcbiAgICAgICAgICBpZiAobGFzdCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcm5hbCBlcnJvclwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxhc3QgPSBuZXh0O1xuICAgICAgaWYgKG5leHQubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICBjb25zdCBuZXh0RWxlbWVudCA9IG5leHQgYXMgRWxlbWVudDtcbiAgICAgICAgbmV4dEVsZW1lbnQuc2V0QXR0cmlidXRlKEVMRU1FTlRfT0ZGU0VUX0FUVFIsIG9mZnNldC50b1N0cmluZygpKTtcbiAgICAgICAgKytvZmZzZXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvZmZzZXQgKz0gKG5leHQudGV4dENvbnRlbnQgYXMgc3RyaW5nKS5sZW5ndGg7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubGFzdE9mZnNldCA9IG9mZnNldDtcbiAgICB0aGlzLmxhc3QgPSBlbGVtZW50O1xuICAgIHJldHVybiBvZmZzZXQgLSAxO1xuICB9XG5cbiAgZ2V0Tm9kZU9mZnNldChzcmNOb2RlOiBOb2RlLCBvZmZzZXRJbk5vZGU6IG51bWJlciwgYWZ0ZXI6IGJvb2xlYW4pIHtcbiAgICBsZXQgZXh0cmFPZmZzZXQgPSAwO1xuICAgIGxldCBub2RlOiBOb2RlIHwgbnVsbCA9IHNyY05vZGU7XG4gICAgbGV0IHByZXY6IE5vZGUgfCBudWxsID0gbnVsbDtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAvLyBhZnRlciA9IHRydWUgaXMgb25seSB2YWxpZCBmb3IgZWxlbWVudHNcbiAgICAgIGlmICghYWZ0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RWxlbWVudE9mZnNldChub2RlIGFzIEVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvZmZzZXRJbk5vZGUgaXMgb25seSB2YWxpZCBmb3IgdGV4dCBub2Rlc1xuICAgICAgZXh0cmFPZmZzZXQgPSBvZmZzZXRJbk5vZGU7XG4gICAgICBwcmV2ID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICBpZiAoIXByZXYpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgZXh0cmFPZmZzZXQgKz0gMTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RWxlbWVudE9mZnNldChub2RlIGFzIEVsZW1lbnQpICsgZXh0cmFPZmZzZXQ7XG4gICAgICB9XG4gICAgICBub2RlID0gcHJldjtcbiAgICB9XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHdoaWxlIChub2RlLmxhc3RDaGlsZCkge1xuICAgICAgICBub2RlID0gbm9kZS5sYXN0Q2hpbGQ7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgIC8vIGVtcHR5IGVsZW1lbnRcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBleHRyYU9mZnNldCArPSAobm9kZS50ZXh0Q29udGVudCBhcyBzdHJpbmcpLmxlbmd0aDtcbiAgICAgIHByZXYgPSBub2RlLnByZXZpb3VzU2libGluZztcbiAgICAgIGlmICghcHJldikge1xuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBwcmV2O1xuICAgIH1cbiAgICBleHRyYU9mZnNldCArPSAxO1xuICAgIHJldHVybiB0aGlzLmdldEVsZW1lbnRPZmZzZXQobm9kZSBhcyBFbGVtZW50KSArIGV4dHJhT2Zmc2V0O1xuICB9XG5cbiAgZ2V0VG90YWxPZmZzZXQoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy50b3RhbE9mZnNldCA8IDApIHtcbiAgICAgIHRoaXMudG90YWxPZmZzZXQgPSB0aGlzLmdldE5vZGVPZmZzZXQodGhpcy5yb290LCAwLCB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG90YWxPZmZzZXQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBsYXN0IG5vZGUgc3VjaCB0aGF0IGl0cyBvZmZzZXQgaXMgbGVzcyBvciBlcXVhbCB0byB0aGUgZ2l2ZW5cbiAgICovXG4gIGdldE5vZGVCeU9mZnNldChvZmZzZXQ6IG51bWJlcik6IE5vZGUge1xuICAgIGxldCBlbGVtZW50T2Zmc2V0OiBudW1iZXI7XG5cbiAgICAvLyBGaXJzdCwgZmluZCB0aGUgbGFzdCBlbGVtZW50IGluIHRoZSBkb2N1bWVudCwgc3VjaCB0aGF0XG4gICAgLy8gdGhpcy5nZXRFbGVtZW50T2Zmc2V0KGVsZW1lbnQpIDw9IG9mZnNldDsgaWYgb2ZmZXN0IG1hdGNoZXNcbiAgICAvLyBleGFjdGx5LCBqdXN0IHJldHVybiBpdC5cbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBsZXQgZWxlbWVudCA9IHRoaXMucm9vdDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgZWxlbWVudE9mZnNldCA9IHRoaXMuZ2V0RWxlbWVudE9mZnNldChlbGVtZW50KTtcbiAgICAgIGlmIChlbGVtZW50T2Zmc2V0ID49IG9mZnNldCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbjsgLy8gRWxlbWVudCBjaGlsZHJlblxuICAgICAgaWYgKCFjaGlsZHJlbikge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGluZGV4ID0gQmFzZS5iaW5hcnlTZWFyY2goY2hpbGRyZW4ubGVuZ3RoLCAoaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpbmRleF07XG4gICAgICAgIGNvbnN0IGNoaWxkT2Zmc2V0ID0gc2VsZi5nZXRFbGVtZW50T2Zmc2V0KGNoaWxkKTtcbiAgICAgICAgcmV0dXJuIGNoaWxkT2Zmc2V0ID4gb2Zmc2V0O1xuICAgICAgfSk7XG4gICAgICBpZiAoaW5kZXggPT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChWSVZMSU9TVFlMRV9ERUJVRykge1xuICAgICAgICBpZiAoaW5kZXggPCBjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCBlbGVtT2Zmc2V0ID0gc2VsZi5nZXRFbGVtZW50T2Zmc2V0KGNoaWxkcmVuW2luZGV4XSk7XG4gICAgICAgICAgaWYgKGVsZW1PZmZzZXQgPD0gb2Zmc2V0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb25zaXN0ZW5jeSBjaGVjayBmYWlsZWQhXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxlbWVudCA9IGNoaWxkcmVuW2luZGV4IC0gMV07XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgZWxlbWVudCB3aXRoIG9mZnNldCBsZXNzIHRoYW4gZGVzaXJlZC4gRmluZCBmb2xsb3dpbmdcbiAgICAvLyAobm9uLWVsZW1lbnQpIG5vZGUgd2l0aCB0aGUgcmlnaHQgb2Zmc2V0LlxuICAgIGxldCBub2RlT2Zmc2V0ID0gZWxlbWVudE9mZnNldCArIDE7XG4gICAgbGV0IG5vZGU6IE5vZGUgfCBudWxsID0gZWxlbWVudDtcbiAgICBsZXQgbmV4dDogTm9kZSB8IG51bGwgPSBub2RlLmZpcnN0Q2hpbGQgfHwgbm9kZS5uZXh0U2libGluZztcbiAgICBsZXQgbGFzdEdvb2Q6IE5vZGUgfCBudWxsID0gbnVsbDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgaWYgKG5leHQubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBuZXh0O1xuICAgICAgICBsYXN0R29vZCA9IG5vZGU7XG4gICAgICAgIG5vZGVPZmZzZXQgKz0gKG5leHQudGV4dENvbnRlbnQgYXMgc3RyaW5nKS5sZW5ndGg7XG4gICAgICAgIGlmIChub2RlT2Zmc2V0ID4gb2Zmc2V0KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIGxhc3RHb29kIHx8IGVsZW1lbnQ7XG4gIH1cblxuICBwcml2YXRlIGJ1aWxkSWRNYXAoZTogRWxlbWVudCk6IHZvaWQge1xuICAgIGNvbnN0IGlkID0gZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICBpZiAoaWQgJiYgIXRoaXMuaWRNYXBbaWRdKSB7XG4gICAgICB0aGlzLmlkTWFwW2lkXSA9IGU7XG4gICAgfVxuICAgIGNvbnN0IHhtbGlkID0gZS5nZXRBdHRyaWJ1dGVOUyhCYXNlLk5TLlhNTCwgXCJpZFwiKTtcbiAgICBpZiAoeG1saWQgJiYgIXRoaXMuaWRNYXBbeG1saWRdKSB7XG4gICAgICB0aGlzLmlkTWFwW3htbGlkXSA9IGU7XG4gICAgfVxuICAgIGZvciAobGV0IGMgPSBlLmZpcnN0RWxlbWVudENoaWxkOyBjOyBjID0gYy5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICAgIHRoaXMuYnVpbGRJZE1hcChjKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGVsZW1lbnQgYnkgVVJMIGluIHRoZSBzb3VyY2UgZG9jdW1lbnQocykuIFVSTCBtdXN0IGJlIGluIGVpdGhlciAnI2lkJ1xuICAgKiBvciAndXJsI2lkJyBmb3JtLlxuICAgKi9cbiAgZ2V0RWxlbWVudCh1cmw6IHN0cmluZyk6IEVsZW1lbnQgfCBudWxsIHtcbiAgICBjb25zdCBtID0gdXJsLm1hdGNoKC8oW14jXSopIyguKykkLyk7XG4gICAgaWYgKCFtIHx8IChtWzFdICYmIG1bMV0gIT0gdGhpcy51cmwpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgaWQgPSBtWzJdO1xuICAgIGxldCByOiBFbGVtZW50ID0gdGhpcy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgaWYgKCFyICYmIHRoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUpIHtcbiAgICAgIHIgPSB0aGlzLmRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKGlkKVswXTtcbiAgICB9XG4gICAgaWYgKCFyKSB7XG4gICAgICBpZiAoIXRoaXMuaWRNYXApIHtcbiAgICAgICAgdGhpcy5pZE1hcCA9IHt9O1xuICAgICAgICB0aGlzLmJ1aWxkSWRNYXAodGhpcy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgciA9IHRoaXMuaWRNYXBbaWRdO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxufVxuXG4vKipcbiAqIGNmLiBodHRwczovL3czYy5naXRodWIuaW8vRE9NLVBhcnNpbmcvI3RoZS1kb21wYXJzZXItaW50ZXJmYWNlXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBET01QYXJzZXJTdXBwb3J0ZWRUeXBlIHtcbiAgVEVYVF9IVE1MID0gXCJ0ZXh0L2h0bWxcIixcbiAgVEVYVF9YTUwgPSBcInRleHQveG1sXCIsXG4gIEFQUExJQ0FUSU9OX1hNTCA9IFwiYXBwbGljYXRpb24veG1sXCIsXG4gIEFQUExJQ0FUSU9OX1hIVE1MX1hNTCA9IFwiYXBwbGljYXRpb24veGh0bWxfeG1sXCIsXG4gIElNQUdFX1NWR19YTUwgPSBcImltYWdlL3N2Zyt4bWxcIixcbn1cblxuLyoqXG4gKiBQYXJzZXMgYSBzdHJpbmcgd2l0aCBhIERPTVBhcnNlciBhbmQgcmV0dXJucyB0aGUgZG9jdW1lbnQuXG4gKiBJZiBhIHBhcnNlIGVycm9yIG9jY3VycywgcmV0dXJuIG51bGwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUFuZFJldHVybk51bGxJZkVycm9yKFxuICBzdHI6IHN0cmluZyxcbiAgdHlwZTogc3RyaW5nLFxuICBvcHRfcGFyc2VyPzogRE9NUGFyc2VyLFxuKTogRG9jdW1lbnQgfCBudWxsIHtcbiAgY29uc3QgcGFyc2VyID0gb3B0X3BhcnNlciB8fCBuZXcgRE9NUGFyc2VyKCk7XG4gIGxldCBkb2M6IERvY3VtZW50O1xuICB0cnkge1xuICAgIGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoc3RyLCB0eXBlIGFzIFN1cHBvcnRlZFR5cGUpO1xuICB9IGNhdGNoIChlKSB7fVxuICBpZiAoIWRvYykge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGRvY0VsZW1lbnQgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgIGNvbnN0IGVycm9yVGFnTmFtZSA9IFwicGFyc2VyZXJyb3JcIjtcbiAgICBpZiAoZG9jRWxlbWVudC5sb2NhbE5hbWUgPT09IGVycm9yVGFnTmFtZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGMgPSBkb2NFbGVtZW50LmZpcnN0RWxlbWVudENoaWxkOyBjOyBjID0gYy5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICAgICAgaWYgKGMubG9jYWxOYW1lID09PSBlcnJvclRhZ05hbWUpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZG9jO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIG51bGwgaWYgY29udGVudFR5cGUgY2Fubm90IGJlIGluZmVycmVkIGZyb20gSFRUUCBoZWFkZXIgYW5kIGZpbGVcbiAqICAgICBleHRlbnNpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVDb250ZW50VHlwZShyZXNwb25zZTogTmV0LlJlc3BvbnNlKTogc3RyaW5nIHwgbnVsbCB7XG4gIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuY29udGVudFR5cGU7XG4gIGlmIChjb250ZW50VHlwZSkge1xuICAgIGNvbnN0IHN1cHBvcnRlZEtleXMgPSBPYmplY3Qua2V5cyhET01QYXJzZXJTdXBwb3J0ZWRUeXBlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1cHBvcnRlZEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChET01QYXJzZXJTdXBwb3J0ZWRUeXBlW3N1cHBvcnRlZEtleXNbaV1dID09PSBjb250ZW50VHlwZSkge1xuICAgICAgICByZXR1cm4gY29udGVudFR5cGU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb250ZW50VHlwZS5tYXRjaCgvXFwreG1sJC8pKSB7XG4gICAgICByZXR1cm4gRE9NUGFyc2VyU3VwcG9ydGVkVHlwZS5BUFBMSUNBVElPTl9YTUw7XG4gICAgfVxuICB9XG4gIGNvbnN0IG1hdGNoID0gcmVzcG9uc2UudXJsLm1hdGNoKC9cXC4oW14uL10rKSQvKTtcbiAgaWYgKG1hdGNoKSB7XG4gICAgY29uc3QgZXh0ZW5zaW9uID0gbWF0Y2hbMV07XG4gICAgc3dpdGNoIChleHRlbnNpb24pIHtcbiAgICAgIGNhc2UgXCJodG1sXCI6XG4gICAgICBjYXNlIFwiaHRtXCI6XG4gICAgICAgIHJldHVybiBET01QYXJzZXJTdXBwb3J0ZWRUeXBlLlRFWFRfSFRNTDtcbiAgICAgIGNhc2UgXCJ4aHRtbFwiOlxuICAgICAgY2FzZSBcInhodFwiOlxuICAgICAgICByZXR1cm4gRE9NUGFyc2VyU3VwcG9ydGVkVHlwZS5BUFBMSUNBVElPTl9YSFRNTF9YTUw7XG4gICAgICBjYXNlIFwic3ZnXCI6XG4gICAgICBjYXNlIFwic3ZnelwiOlxuICAgICAgICByZXR1cm4gRE9NUGFyc2VyU3VwcG9ydGVkVHlwZS5JTUFHRV9TVkdfWE1MO1xuICAgICAgY2FzZSBcIm9wZlwiOlxuICAgICAgY2FzZSBcInhtbFwiOlxuICAgICAgICByZXR1cm4gRE9NUGFyc2VyU3VwcG9ydGVkVHlwZS5BUFBMSUNBVElPTl9YTUw7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VYTUxSZXNvdXJjZShcbiAgcmVzcG9uc2U6IE5ldC5SZXNwb25zZSxcbiAgc3RvcmU6IFhNTERvY1N0b3JlLFxuKTogVGFzay5SZXN1bHQ8WG1sRG9jLlhNTERvY0hvbGRlcj4ge1xuICBsZXQgZG9jID0gcmVzcG9uc2UucmVzcG9uc2VYTUw7XG4gIGlmICghZG9jKSB7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgIGNvbnN0IHRleHQgPSByZXNwb25zZS5yZXNwb25zZVRleHQ7XG4gICAgaWYgKHRleHQpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzb2x2ZUNvbnRlbnRUeXBlKHJlc3BvbnNlKTtcbiAgICAgIGRvYyA9IHBhcnNlQW5kUmV0dXJuTnVsbElmRXJyb3IoXG4gICAgICAgIHRleHQsXG4gICAgICAgIGNvbnRlbnRUeXBlIHx8IERPTVBhcnNlclN1cHBvcnRlZFR5cGUuQVBQTElDQVRJT05fWE1MLFxuICAgICAgICBwYXJzZXIsXG4gICAgICApO1xuXG4gICAgICAvLyBXaGVuIGNvbnRlbnRUeXBlIGNhbm5vdCBiZSBpbmZlcnJlZCBmcm9tIEhUVFAgaGVhZGVyIGFuZCBmaWxlXG4gICAgICAvLyBleHRlbnNpb24sIHdlIHVzZSByb290IGVsZW1lbnQncyB0YWcgbmFtZSB0byBpbmZlciB0aGUgY29udGVudFR5cGUuIElmXG4gICAgICAvLyBpdCBpcyBodG1sIG9yIHN2Zywgd2UgcmUtcGFyc2UgdGhlIHNvdXJjZSB3aXRoIGFuIGFwcHJvcHJpYXRlXG4gICAgICAvLyBjb250ZW50VHlwZS5cbiAgICAgIGlmIChkb2MgJiYgIWNvbnRlbnRUeXBlKSB7XG4gICAgICAgIGNvbnN0IHJvb3QgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICBpZiAocm9vdC5sb2NhbE5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJodG1sXCIgJiYgIXJvb3QubmFtZXNwYWNlVVJJKSB7XG4gICAgICAgICAgZG9jID0gcGFyc2VBbmRSZXR1cm5OdWxsSWZFcnJvcihcbiAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICBET01QYXJzZXJTdXBwb3J0ZWRUeXBlLlRFWFRfSFRNTCxcbiAgICAgICAgICAgIHBhcnNlcixcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHJvb3QubG9jYWxOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwic3ZnXCIgJiZcbiAgICAgICAgICAoZG9jIGFzIGFueSkuY29udGVudFR5cGUgIT09IERPTVBhcnNlclN1cHBvcnRlZFR5cGUuSU1BR0VfU1ZHX1hNTFxuICAgICAgICApIHtcbiAgICAgICAgICBkb2MgPSBwYXJzZUFuZFJldHVybk51bGxJZkVycm9yKFxuICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgIERPTVBhcnNlclN1cHBvcnRlZFR5cGUuSU1BR0VfU1ZHX1hNTCxcbiAgICAgICAgICAgIHBhcnNlcixcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWRvYykge1xuICAgICAgICAvLyBGYWxsYmFjayB0byBIVE1MIHBhcnNpbmdcbiAgICAgICAgZG9jID0gcGFyc2VBbmRSZXR1cm5OdWxsSWZFcnJvcihcbiAgICAgICAgICB0ZXh0LFxuICAgICAgICAgIERPTVBhcnNlclN1cHBvcnRlZFR5cGUuVEVYVF9IVE1MLFxuICAgICAgICAgIHBhcnNlcixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgeG1sZG9jID0gZG9jID8gbmV3IFhNTERvY0hvbGRlcihzdG9yZSwgcmVzcG9uc2UudXJsLCBkb2MpIDogbnVsbDtcbiAgcmV0dXJuIFRhc2submV3UmVzdWx0KHhtbGRvYyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXdYTUxEb2NTdG9yZSgpOiBYTUxEb2NTdG9yZSB7XG4gIHJldHVybiBuZXcgTmV0LlJlc291cmNlU3RvcmUoXG4gICAgcGFyc2VYTUxSZXNvdXJjZSxcbiAgICBOZXQuWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGUuRE9DVU1FTlQsXG4gICk7XG59XG5cbmV4cG9ydCBjbGFzcyBQcmVkaWNhdGUgaW1wbGVtZW50cyBYbWxEb2MuUHJlZGljYXRlIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGZuOiAocDE6IE5vZGUpID0+IGJvb2xlYW4pIHt9XG5cbiAgY2hlY2sobm9kZTogTm9kZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmZuKG5vZGUpO1xuICB9XG5cbiAgd2l0aEF0dHJpYnV0ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiBQcmVkaWNhdGUge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJlZGljYXRlKFxuICAgICAgKG5vZGUpID0+XG4gICAgICAgIHNlbGYuY2hlY2sobm9kZSkgJiZcbiAgICAgICAgbm9kZS5ub2RlVHlwZSA9PSAxICYmXG4gICAgICAgIChub2RlIGFzIEVsZW1lbnQpLmdldEF0dHJpYnV0ZShuYW1lKSA9PSB2YWx1ZSxcbiAgICApO1xuICB9XG5cbiAgd2l0aENoaWxkKG5hbWU6IHN0cmluZywgb3B0X2NoaWxkUHJlZGljYXRlPzogUHJlZGljYXRlKTogUHJlZGljYXRlIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByZWRpY2F0ZSgobm9kZSkgPT4ge1xuICAgICAgaWYgKCFzZWxmLmNoZWNrKG5vZGUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGxldCBsaXN0ID0gbmV3IE5vZGVMaXN0KFtub2RlXSk7XG4gICAgICBsaXN0ID0gbGlzdC5jaGlsZChuYW1lKTtcbiAgICAgIGlmIChvcHRfY2hpbGRQcmVkaWNhdGUpIHtcbiAgICAgICAgbGlzdCA9IGxpc3QucHJlZGljYXRlKG9wdF9jaGlsZFByZWRpY2F0ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGlzdC5zaXplKCkgPiAwO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBwcmVkaWNhdGUgPSBuZXcgUHJlZGljYXRlKChub2RlKSA9PiB0cnVlKTtcblxuZXhwb3J0IGNsYXNzIE5vZGVMaXN0IGltcGxlbWVudHMgWG1sRG9jLk5vZGVMaXN0IHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG5vZGVzOiBOb2RlW10pIHt9XG5cbiAgYXNBcnJheSgpOiBOb2RlW10ge1xuICAgIHJldHVybiB0aGlzLm5vZGVzO1xuICB9XG5cbiAgc2l6ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaWx0ZXIgd2l0aCBwcmVkaWNhdGVcbiAgICovXG4gIHByZWRpY2F0ZShwcjogUHJlZGljYXRlKTogTm9kZUxpc3Qge1xuICAgIGNvbnN0IGFyciA9IFtdO1xuICAgIGZvciAoY29uc3QgbiBvZiB0aGlzLm5vZGVzKSB7XG4gICAgICBpZiAocHIuY2hlY2sobikpIHtcbiAgICAgICAgYXJyLnB1c2gobik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgTm9kZUxpc3QoYXJyKTtcbiAgfVxuXG4gIGZvckVhY2hOb2RlKGZuOiAocDE6IE5vZGUsIHAyOiAocDE6IE5vZGUpID0+IHZvaWQpID0+IHZvaWQpOiBOb2RlTGlzdCB7XG4gICAgY29uc3QgYXJyID0gW107XG4gICAgY29uc3QgYWRkID0gKG4pID0+IHtcbiAgICAgIGFyci5wdXNoKG4pO1xuICAgIH07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmbih0aGlzLm5vZGVzW2ldLCBhZGQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE5vZGVMaXN0KGFycik7XG4gIH1cblxuICAvKipcbiAgICogQHRlbXBsYXRlIFRcbiAgICovXG4gIGZvckVhY2g8VD4oZm46IChwMTogTm9kZSkgPT4gVCk6IFRbXSB7XG4gICAgY29uc3QgYXJyID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcnIucHVzaChmbih0aGlzLm5vZGVzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogQHRlbXBsYXRlIFRcbiAgICovXG4gIGZvckVhY2hOb25OdWxsPFQ+KGZuOiAocDE6IE5vZGUpID0+IFQpOiBUW10ge1xuICAgIGNvbnN0IGFyciA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdCA9IGZuKHRoaXMubm9kZXNbaV0pO1xuICAgICAgaWYgKHQgIT0gbnVsbCkge1xuICAgICAgICBhcnIucHVzaCh0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIGNoaWxkKHRhZzogc3RyaW5nKTogTm9kZUxpc3Qge1xuICAgIHJldHVybiB0aGlzLmZvckVhY2hOb2RlKChub2RlLCBhZGQpID0+IHtcbiAgICAgIGZvciAobGV0IGM6IE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7IGM7IGMgPSBjLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIGlmIChjLm5vZGVUeXBlID09IDEgJiYgKGMgYXMgRWxlbWVudCkubG9jYWxOYW1lID09IHRhZykge1xuICAgICAgICAgIGFkZChjKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY2hpbGRFbGVtZW50cygpOiBOb2RlTGlzdCB7XG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaE5vZGUoKG5vZGUsIGFkZCkgPT4ge1xuICAgICAgZm9yIChsZXQgYzogTm9kZSA9IG5vZGUuZmlyc3RDaGlsZDsgYzsgYyA9IGMubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgaWYgKGMubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgIGFkZChjKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYXR0cmlidXRlKG5hbWU6IHN0cmluZyk6IChzdHJpbmcgfCBudWxsKVtdIHtcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoTm9uTnVsbCgobm9kZSkgPT4ge1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICByZXR1cm4gKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSk7XG4gIH1cblxuICB0ZXh0Q29udGVudCgpOiAoc3RyaW5nIHwgbnVsbClbXSB7XG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgobm9kZSkgPT4gbm9kZS50ZXh0Q29udGVudCk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgT3BzIC0gUmVuZGVyIEVQVUIgY29udGVudCBmaWxlcyBieSBhcHBseWluZyBwYWdlIG1hc3RlcnMsXG4gKiBzdHlsaW5nIGFuZCBsYXlvdXQuXG4gKi9cbmltcG9ydCBcIi4vZm9vdG5vdGVzXCI7XG5pbXBvcnQgXCIuL3RhYmxlXCI7XG5pbXBvcnQgKiBhcyBBc3NlcnRzIGZyb20gXCIuL2Fzc2VydHNcIjtcbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQnJlYWsgZnJvbSBcIi4vYnJlYWtcIjtcbmltcG9ydCAqIGFzIENvbHVtbnMgZnJvbSBcIi4vY29sdW1uc1wiO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0ICogYXMgQ291bnRlcnMgZnJvbSBcIi4vY291bnRlcnNcIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIENzc0Nhc2NhZGUgZnJvbSBcIi4vY3NzLWNhc2NhZGVcIjtcbmltcG9ydCAqIGFzIENzc1BhcnNlciBmcm9tIFwiLi9jc3MtcGFyc2VyXCI7XG5pbXBvcnQgKiBhcyBDc3NQcm9wIGZyb20gXCIuL2Nzcy1wcm9wXCI7XG5pbXBvcnQgKiBhcyBDc3NTdHlsZXIgZnJvbSBcIi4vY3NzLXN0eWxlclwiO1xuaW1wb3J0ICogYXMgQ3NzVG9rZW5pemVyIGZyb20gXCIuL2Nzcy10b2tlbml6ZXJcIjtcbmltcG9ydCAqIGFzIENzc1ZhbGlkYXRvciBmcm9tIFwiLi9jc3MtdmFsaWRhdG9yXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgRm9udCBmcm9tIFwiLi9mb250XCI7XG5pbXBvcnQgKiBhcyBHZW9tZXRyeVV0aWwgZnJvbSBcIi4vZ2VvbWV0cnktdXRpbFwiO1xuaW1wb3J0ICogYXMgTGF5b3V0IGZyb20gXCIuL2xheW91dFwiO1xuaW1wb3J0ICogYXMgTGF5b3V0UHJvY2Vzc29yIGZyb20gXCIuL2xheW91dC1wcm9jZXNzb3JcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgTmV0IGZyb20gXCIuL25ldFwiO1xuaW1wb3J0ICogYXMgUGFnZUZsb2F0cyBmcm9tIFwiLi9wYWdlLWZsb2F0c1wiO1xuaW1wb3J0ICogYXMgQ3NzUGFnZSBmcm9tIFwiLi9jc3MtcGFnZVwiO1xuaW1wb3J0ICogYXMgUGx1Z2luIGZyb20gXCIuL3BsdWdpblwiO1xuaW1wb3J0ICogYXMgUGFnZU1hc3RlciBmcm9tIFwiLi9wYWdlLW1hc3RlclwiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBUYXNrVXRpbCBmcm9tIFwiLi90YXNrLXV0aWxcIjtcbmltcG9ydCAqIGFzIFZnZW4gZnJvbSBcIi4vdmdlblwiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCAqIGFzIFhtbERvYyBmcm9tIFwiLi94bWwtZG9jXCI7XG5pbXBvcnQgeyBMYXlvdXQgYXMgTGF5b3V0VHlwZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgVXNlckFnZW50QmFzZUNzcyBmcm9tIFwiLi9hc3NldHMvdXNlci1hZ2VudC1iYXNlLmNzc1wiO1xuaW1wb3J0IFVzZXJBZ2VudFBhZ2VDc3MgZnJvbSBcIi4vYXNzZXRzL3VzZXItYWdlbnQtcGFnZS5jc3NcIjtcblxuZXhwb3J0IGNvbnN0IHVhU3R5bGVzaGVldEJhc2VGZXRjaGVyOiBUYXNrVXRpbC5GZXRjaGVyPGJvb2xlYW4+ID0gbmV3IFRhc2tVdGlsLkZldGNoZXIoXG4gICgpID0+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJ1YVN0eWxlc2hlZXRCYXNlXCIpO1xuICAgIGNvbnN0IHZhbGlkYXRvclNldCA9IENzc1ZhbGlkYXRvci5iYXNlVmFsaWRhdG9yU2V0KCk7XG4gICAgY29uc3QgdXJsID0gQmFzZS5yZXNvbHZlVVJMKFwidXNlci1hZ2VudC1iYXNlLmNzc1wiLCBCYXNlLnJlc291cmNlQmFzZVVSTCk7XG4gICAgY29uc3QgaGFuZGxlciA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVQYXJzZXJIYW5kbGVyKFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICB2YWxpZGF0b3JTZXQsXG4gICAgICB0cnVlLFxuICAgICk7XG4gICAgaGFuZGxlci5zdGFydFN0eWxlc2hlZXQoQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IuVVNFUl9BR0VOVCk7XG4gICAgQ3NzQ2FzY2FkZS5zZXRVQUJhc2VDYXNjYWRlKGhhbmRsZXIuY2FzY2FkZSk7XG4gICAgQ3NzUGFyc2VyLnBhcnNlU3R5bGVzaGVldEZyb21UZXh0KFxuICAgICAgVXNlckFnZW50QmFzZUNzcyxcbiAgICAgIGhhbmRsZXIsXG4gICAgICB1cmwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICApLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfSxcbiAgXCJ1YVN0eWxlc2hlZXRCYXNlRmV0Y2hlclwiLFxuKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRVQUJhc2UoKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICByZXR1cm4gdWFTdHlsZXNoZWV0QmFzZUZldGNoZXIuZ2V0KCk7XG59XG5cbmV4cG9ydCB0eXBlIEZvbnRGYWNlID0ge1xuICBwcm9wZXJ0aWVzOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgY29uZGl0aW9uOiBFeHBycy5WYWw7XG59O1xuXG5leHBvcnQgY2xhc3MgU3R5bGUge1xuICBmb250RGVvYmZ1c2NhdG9yOlxuICAgIHwgKChwMTogc3RyaW5nKSA9PiAoKHAxOiBCbG9iKSA9PiBUYXNrLlJlc3VsdDxCbG9iPikgfCBudWxsKVxuICAgIHwgbnVsbDtcbiAgdmFsaWRhdG9yU2V0OiBDc3NWYWxpZGF0b3IuVmFsaWRhdG9yU2V0O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBzdG9yZTogT1BTRG9jU3RvcmUsXG4gICAgcHVibGljIHJlYWRvbmx5IHJvb3RTY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIHB1YmxpYyByZWFkb25seSBwYWdlU2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2FzY2FkZTogQ3NzQ2FzY2FkZS5DYXNjYWRlLFxuICAgIHB1YmxpYyByZWFkb25seSByb290Qm94OiBQYWdlTWFzdGVyLlJvb3RQYWdlQm94LFxuICAgIHB1YmxpYyByZWFkb25seSBmb250RmFjZXM6IEZvbnRGYWNlW10sXG4gICAgcHVibGljIHJlYWRvbmx5IGZvb3Rub3RlUHJvcHM6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIHB1YmxpYyByZWFkb25seSBmbG93UHJvcHM6IHsgW2tleTogc3RyaW5nXTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUgfSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmlld3BvcnRQcm9wczogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGVbXSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFnZVByb3BzOiB7IFtrZXk6IHN0cmluZ106IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIH0sXG4gICkge1xuICAgIHRoaXMuZm9udERlb2JmdXNjYXRvciA9IHN0b3JlLmZvbnREZW9iZnVzY2F0b3I7XG4gICAgdGhpcy52YWxpZGF0b3JTZXQgPSBzdG9yZS52YWxpZGF0b3JTZXQ7XG4gICAgdGhpcy5wYWdlU2NvcGUuZGVmaW5lQnVpbHRJbihcImhhcy1jb250ZW50XCIsIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIG5hbWUgPSBuYW1lIGFzIHN0cmluZztcbiAgICAgIGNvbnN0IHN0eWxlSW5zdGFuY2UgPSB0aGlzIGFzIFN0eWxlSW5zdGFuY2U7XG4gICAgICBjb25zdCBjcCA9IHN0eWxlSW5zdGFuY2UuY3VycmVudExheW91dFBvc2l0aW9uO1xuICAgICAgY29uc3QgZmxvd0NodW5rID0gY3AuZmlyc3RGbG93Q2h1bmtPZkZsb3cobmFtZSk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBzdHlsZUluc3RhbmNlLm1hdGNoUGFnZVNpZGUoY3Auc3RhcnRTaWRlT2ZGbG93KG5hbWUgYXMgc3RyaW5nKSkgJiZcbiAgICAgICAgY3AuaGFzQ29udGVudChuYW1lIGFzIHN0cmluZywgc3R5bGVJbnN0YW5jZS5sb29rdXBPZmZzZXQpICYmXG4gICAgICAgICEhZmxvd0NodW5rICYmXG4gICAgICAgICFzdHlsZUluc3RhbmNlLmZsb3dDaHVua0lzQWZ0ZXJQYXJlbnRGbG93Rm9yY2VkQnJlYWsoZmxvd0NodW5rKVxuICAgICAgKTtcbiAgICB9KTtcbiAgICB0aGlzLnBhZ2VTY29wZS5kZWZpbmVOYW1lKFxuICAgICAgXCJwYWdlLW51bWJlclwiLFxuICAgICAgbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgICAgdGhpcy5wYWdlU2NvcGUsXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbnN0IHN0eWxlSW5zdGFuY2UgPSB0aGlzIGFzIFN0eWxlSW5zdGFuY2U7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHN0eWxlSW5zdGFuY2UucGFnZU51bWJlck9mZnNldCArXG4gICAgICAgICAgICBzdHlsZUluc3RhbmNlLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5wYWdlXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJwYWdlLW51bWJlclwiLFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgc2l6ZVZpZXdwb3J0KFxuICAgIHZpZXdwb3J0V2lkdGg6IG51bWJlcixcbiAgICB2aWV3cG9ydEhlaWdodDogbnVtYmVyLFxuICAgIGZvbnRTaXplOiBudW1iZXIsXG4gICAgcHJlZj86IEV4cHJzLlByZWZlcmVuY2VzLFxuICApOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyOyBmb250U2l6ZTogbnVtYmVyIH0ge1xuICAgIGlmICh0aGlzLnZpZXdwb3J0UHJvcHMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gbmV3IEV4cHJzLkNvbnRleHQoXG4gICAgICAgIHRoaXMucm9vdFNjb3BlLFxuICAgICAgICB2aWV3cG9ydFdpZHRoLFxuICAgICAgICB2aWV3cG9ydEhlaWdodCxcbiAgICAgICAgZm9udFNpemUsXG4gICAgICApO1xuICAgICAgY29uc3Qgdmlld3BvcnRQcm9wcyA9IENzc0Nhc2NhZGUubWVyZ2VBbGwoY29udGV4dCwgdGhpcy52aWV3cG9ydFByb3BzKTtcbiAgICAgIGNvbnN0IHdpZHRoID0gdmlld3BvcnRQcm9wc1tcIndpZHRoXCJdO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gdmlld3BvcnRQcm9wc1tcImhlaWdodFwiXTtcbiAgICAgIGNvbnN0IHRleHRab29tID0gdmlld3BvcnRQcm9wc1tcInRleHQtem9vbVwiXTtcbiAgICAgIGxldCBzY2FsZUZhY3RvciA9IDE7XG4gICAgICBpZiAoKHdpZHRoICYmIGhlaWdodCkgfHwgdGV4dFpvb20pIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdEZvbnRTaXplID0gRXhwcnMuZGVmYXVsdFVuaXRTaXplc1tcImVtXCJdO1xuICAgICAgICBjb25zdCB6b29tVmFsID0gdGV4dFpvb21cbiAgICAgICAgICA/IHRleHRab29tLmV2YWx1YXRlKGNvbnRleHQsIFwidGV4dC16b29tXCIpXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgICBpZiAoem9vbVZhbCA9PT0gQ3NzLmlkZW50LnNjYWxlKSB7XG4gICAgICAgICAgc2NhbGVGYWN0b3IgPSBkZWZhdWx0Rm9udFNpemUgLyBmb250U2l6ZTtcbiAgICAgICAgICBmb250U2l6ZSA9IGRlZmF1bHRGb250U2l6ZTtcbiAgICAgICAgICB2aWV3cG9ydFdpZHRoICo9IHNjYWxlRmFjdG9yO1xuICAgICAgICAgIHZpZXdwb3J0SGVpZ2h0ICo9IHNjYWxlRmFjdG9yO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3aWR0aCAmJiBoZWlnaHQpIHtcbiAgICAgICAgICBjb25zdCB3aWR0aFZhbCA9IENzcy50b051bWJlcihcbiAgICAgICAgICAgIHdpZHRoLmV2YWx1YXRlKGNvbnRleHQsIFwid2lkdGhcIiksXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgaGVpZ2h0VmFsID0gQ3NzLnRvTnVtYmVyKFxuICAgICAgICAgICAgaGVpZ2h0LmV2YWx1YXRlKGNvbnRleHQsIFwiaGVpZ2h0XCIpLFxuICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICh3aWR0aFZhbCA+IDAgJiYgaGVpZ2h0VmFsID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgc3ByZWFkV2lkdGggPVxuICAgICAgICAgICAgICBwcmVmICYmIHByZWYuc3ByZWFkVmlld1xuICAgICAgICAgICAgICAgID8gKHdpZHRoVmFsICsgcHJlZi5wYWdlQm9yZGVyKSAqIDJcbiAgICAgICAgICAgICAgICA6IHdpZHRoVmFsO1xuICAgICAgICAgICAgcmV0dXJuIHsgd2lkdGg6IHNwcmVhZFdpZHRoLCBoZWlnaHQ6IGhlaWdodFZhbCwgZm9udFNpemUgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgd2lkdGg6IHZpZXdwb3J0V2lkdGgsIGhlaWdodDogdmlld3BvcnRIZWlnaHQsIGZvbnRTaXplIH07XG4gIH1cbn1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgU3R5bGVJbnN0YW5jZSBleHRlbmRzIEV4cHJzLkNvbnRleHRcbiAgaW1wbGVtZW50c1xuICAgIENzc1N0eWxlci5GbG93TGlzdGVuZXIsXG4gICAgUGFnZU1hc3Rlci5JbnN0YW5jZUhvbGRlcixcbiAgICBWZ2VuLlN0eWxlclByb2R1Y2VyIHtcbiAgbGFuZzogc3RyaW5nIHwgbnVsbDtcbiAgcHJpbWFyeUZsb3dzID0geyBib2R5OiB0cnVlIH0gYXMgeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH07XG4gIHJvb3RQYWdlQm94SW5zdGFuY2U6IFBhZ2VNYXN0ZXIuUm9vdFBhZ2VCb3hJbnN0YW5jZSA9IG51bGw7XG4gIHN0eWxlcjogQ3NzU3R5bGVyLlN0eWxlciA9IG51bGw7XG4gIHN0eWxlck1hcDogeyBba2V5OiBzdHJpbmddOiBDc3NTdHlsZXIuU3R5bGVyIH0gPSBudWxsO1xuICBjdXJyZW50TGF5b3V0UG9zaXRpb246IFZ0cmVlLkxheW91dFBvc2l0aW9uID0gbnVsbDtcbiAgbGF5b3V0UG9zaXRpb25BdFBhZ2VTdGFydDogVnRyZWUuTGF5b3V0UG9zaXRpb24gPSBudWxsO1xuICBsb29rdXBPZmZzZXQ6IG51bWJlciA9IDA7XG4gIGZhY2VzOiBGb250LkRvY3VtZW50RmFjZXM7XG4gIHBhZ2VCb3hJbnN0YW5jZXM6IHsgW2tleTogc3RyaW5nXTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2UgfSA9IHt9O1xuICBwYWdlTWFuYWdlcjogQ3NzUGFnZS5QYWdlTWFuYWdlciA9IG51bGw7XG4gIHByaXZhdGUgcm9vdFBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dDtcbiAgcGFnZUJyZWFrczogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcbiAgcGFnZVByb2dyZXNzaW9uOiBDb25zdGFudHMuUGFnZVByb2dyZXNzaW9uIHwgbnVsbCA9IG51bGw7XG4gIHBhZ2VTaGVldFNpemU6IHsgW2tleTogc3RyaW5nXTogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9IH0gPSB7fTtcbiAgcGFnZVNoZWV0SGVpZ2h0OiBudW1iZXIgPSAwO1xuICBwYWdlU2hlZXRXaWR0aDogbnVtYmVyID0gMDtcbiAgYWN0dWFsUGFnZVdpZHRoOiBudW1iZXI7XG4gIGFjdHVhbFBhZ2VIZWlnaHQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3R5bGU6IFN0eWxlLFxuICAgIHB1YmxpYyByZWFkb25seSB4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIsXG4gICAgZGVmYXVsdExhbmc6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIHJlYWRvbmx5IHZpZXdwb3J0OiBWZ2VuLlZpZXdwb3J0LFxuICAgIHB1YmxpYyByZWFkb25seSBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9udE1hcHBlcjogRm9udC5NYXBwZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGN1c3RvbVJlbmRlcmVyOiBWZ2VuLkN1c3RvbVJlbmRlcmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBmYWxsYmFja01hcDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFnZU51bWJlck9mZnNldDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBkb2N1bWVudFVSTFRyYW5zZm9ybWVyOiBCYXNlLkRvY3VtZW50VVJMVHJhbnNmb3JtZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvdW50ZXJTdG9yZTogQ291bnRlcnMuQ291bnRlclN0b3JlLFxuICAgIHBhZ2VQcm9ncmVzc2lvbj86IENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24sXG4gICkge1xuICAgIHN1cGVyKHN0eWxlLnJvb3RTY29wZSwgdmlld3BvcnQud2lkdGgsIHZpZXdwb3J0LmhlaWdodCwgdmlld3BvcnQuZm9udFNpemUpO1xuICAgIHRoaXMubGFuZyA9IHhtbGRvYy5sYW5nIHx8IGRlZmF1bHRMYW5nO1xuICAgIHRoaXMuZmFjZXMgPSBuZXcgRm9udC5Eb2N1bWVudEZhY2VzKHRoaXMuc3R5bGUuZm9udERlb2JmdXNjYXRvcik7XG4gICAgdGhpcy5yb290UGFnZUZsb2F0TGF5b3V0Q29udGV4dCA9IG5ldyBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICk7XG4gICAgdGhpcy5wYWdlUHJvZ3Jlc3Npb24gPSBwYWdlUHJvZ3Jlc3Npb24gfHwgbnVsbDtcbiAgICBmb3IgKGNvbnN0IGZsb3dOYW1lIGluIHN0eWxlLmZsb3dQcm9wcykge1xuICAgICAgY29uc3QgZmxvd1N0eWxlID0gc3R5bGUuZmxvd1Byb3BzW2Zsb3dOYW1lXTtcbiAgICAgIGNvbnN0IGNvbnN1bWUgPSBDc3NDYXNjYWRlLmdldFByb3AoZmxvd1N0eWxlLCBcImZsb3ctY29uc3VtZVwiKTtcbiAgICAgIGlmIChjb25zdW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbnN1bWVWYWwgPSBjb25zdW1lLmV2YWx1YXRlKHRoaXMsIFwiZmxvdy1jb25zdW1lXCIpO1xuICAgICAgICBpZiAoY29uc3VtZVZhbCA9PSBDc3MuaWRlbnQuYWxsKSB7XG4gICAgICAgICAgdGhpcy5wcmltYXJ5Rmxvd3NbZmxvd05hbWVdID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5wcmltYXJ5Rmxvd3NbZmxvd05hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaW5pdCgpOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwiU3R5bGVJbnN0YW5jZS5pbml0XCIpO1xuICAgIGNvbnN0IGNvdW50ZXJMaXN0ZW5lciA9IHNlbGYuY291bnRlclN0b3JlLmNyZWF0ZUNvdW50ZXJMaXN0ZW5lcihcbiAgICAgIHNlbGYueG1sZG9jLnVybCxcbiAgICApO1xuICAgIGNvbnN0IGNvdW50ZXJSZXNvbHZlciA9IHNlbGYuY291bnRlclN0b3JlLmNyZWF0ZUNvdW50ZXJSZXNvbHZlcihcbiAgICAgIHNlbGYueG1sZG9jLnVybCxcbiAgICAgIHNlbGYuc3R5bGUucm9vdFNjb3BlLFxuICAgICAgc2VsZi5zdHlsZS5wYWdlU2NvcGUsXG4gICAgKTtcbiAgICBzZWxmLnN0eWxlciA9IG5ldyBDc3NTdHlsZXIuU3R5bGVyKFxuICAgICAgc2VsZi54bWxkb2MsXG4gICAgICBzZWxmLnN0eWxlLmNhc2NhZGUsXG4gICAgICBzZWxmLnN0eWxlLnJvb3RTY29wZSxcbiAgICAgIHNlbGYsXG4gICAgICB0aGlzLnByaW1hcnlGbG93cyxcbiAgICAgIHNlbGYuc3R5bGUudmFsaWRhdG9yU2V0LFxuICAgICAgY291bnRlckxpc3RlbmVyLFxuICAgICAgY291bnRlclJlc29sdmVyLFxuICAgICk7XG4gICAgY291bnRlclJlc29sdmVyLnNldFN0eWxlcihzZWxmLnN0eWxlcik7XG4gICAgc2VsZi5zdHlsZXIucmVzZXRGbG93Q2h1bmtTdHJlYW0oc2VsZik7XG4gICAgc2VsZi5zdHlsZXJNYXAgPSB7fTtcbiAgICBzZWxmLnN0eWxlck1hcFtzZWxmLnhtbGRvYy51cmxdID0gc2VsZi5zdHlsZXI7XG4gICAgY29uc3QgZG9jRWxlbWVudFN0eWxlID0gc2VsZi5zdHlsZXIuZ2V0VG9wQ29udGFpbmVyU3R5bGUoKTtcbiAgICBpZiAoIXNlbGYucGFnZVByb2dyZXNzaW9uKSB7XG4gICAgICBzZWxmLnBhZ2VQcm9ncmVzc2lvbiA9IENzc1BhZ2UucmVzb2x2ZVBhZ2VQcm9ncmVzc2lvbihkb2NFbGVtZW50U3R5bGUpO1xuICAgIH1cbiAgICBjb25zdCByb290Qm94ID0gdGhpcy5zdHlsZS5yb290Qm94O1xuICAgIHRoaXMucm9vdFBhZ2VCb3hJbnN0YW5jZSA9IG5ldyBQYWdlTWFzdGVyLlJvb3RQYWdlQm94SW5zdGFuY2Uocm9vdEJveCk7XG4gICAgY29uc3QgY2FzY2FkZUluc3RhbmNlID0gdGhpcy5zdHlsZS5jYXNjYWRlLmNyZWF0ZUluc3RhbmNlKFxuICAgICAgc2VsZixcbiAgICAgIGNvdW50ZXJMaXN0ZW5lcixcbiAgICAgIGNvdW50ZXJSZXNvbHZlcixcbiAgICAgIHRoaXMubGFuZyxcbiAgICApO1xuICAgIHRoaXMucm9vdFBhZ2VCb3hJbnN0YW5jZS5hcHBseUNhc2NhZGVBbmRJbml0KFxuICAgICAgY2FzY2FkZUluc3RhbmNlLFxuICAgICAgZG9jRWxlbWVudFN0eWxlLFxuICAgICk7XG4gICAgdGhpcy5yb290UGFnZUJveEluc3RhbmNlLnJlc29sdmVBdXRvU2l6aW5nKHNlbGYpO1xuICAgIHRoaXMucGFnZU1hbmFnZXIgPSBuZXcgQ3NzUGFnZS5QYWdlTWFuYWdlcihcbiAgICAgIGNhc2NhZGVJbnN0YW5jZSxcbiAgICAgIHRoaXMuc3R5bGUucGFnZVNjb3BlLFxuICAgICAgdGhpcy5yb290UGFnZUJveEluc3RhbmNlLFxuICAgICAgc2VsZixcbiAgICAgIGRvY0VsZW1lbnRTdHlsZSxcbiAgICApO1xuICAgIGNvbnN0IHNyY0ZhY2VzID0gW10gYXMgRm9udC5GYWNlW107XG4gICAgZm9yIChjb25zdCBmb250RmFjZSBvZiBzZWxmLnN0eWxlLmZvbnRGYWNlcykge1xuICAgICAgaWYgKGZvbnRGYWNlLmNvbmRpdGlvbiAmJiAhZm9udEZhY2UuY29uZGl0aW9uLmV2YWx1YXRlKHNlbGYpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgcHJvcGVydGllcyA9IEZvbnQucHJlcGFyZVByb3BlcnRpZXMoZm9udEZhY2UucHJvcGVydGllcywgc2VsZik7XG4gICAgICBjb25zdCBzcmNGYWNlID0gbmV3IEZvbnQuRmFjZShwcm9wZXJ0aWVzKTtcbiAgICAgIHNyY0ZhY2VzLnB1c2goc3JjRmFjZSk7XG4gICAgfVxuICAgIHNlbGYuZm9udE1hcHBlci5maW5kT3JMb2FkRm9udHMoc3JjRmFjZXMsIHNlbGYuZmFjZXMpLnRoZW5GaW5pc2goZnJhbWUpO1xuXG4gICAgLy8gRGV0ZXJtaW5lIHBhZ2Ugc2hlZXQgc2l6ZXMgY29ycmVzcG9uZGluZyB0byBwYWdlIHNlbGVjdG9yc1xuICAgIGNvbnN0IHBhZ2VQcm9wcyA9IHNlbGYuc3R5bGUucGFnZVByb3BzO1xuICAgIE9iamVjdC5rZXlzKHBhZ2VQcm9wcykuZm9yRWFjaCgoc2VsZWN0b3IpID0+IHtcbiAgICAgIGNvbnN0IHBhZ2VTaXplQW5kQmxlZWQgPSBDc3NQYWdlLmV2YWx1YXRlUGFnZVNpemVBbmRCbGVlZChcbiAgICAgICAgQ3NzUGFnZS5yZXNvbHZlUGFnZVNpemVBbmRCbGVlZChwYWdlUHJvcHNbc2VsZWN0b3JdIGFzIGFueSksXG4gICAgICAgIHRoaXMsXG4gICAgICApO1xuICAgICAgdGhpcy5wYWdlU2hlZXRTaXplW3NlbGVjdG9yXSA9IHtcbiAgICAgICAgd2lkdGg6IHBhZ2VTaXplQW5kQmxlZWQucGFnZVdpZHRoICsgcGFnZVNpemVBbmRCbGVlZC5jcm9wT2Zmc2V0ICogMixcbiAgICAgICAgaGVpZ2h0OiBwYWdlU2l6ZUFuZEJsZWVkLnBhZ2VIZWlnaHQgKyBwYWdlU2l6ZUFuZEJsZWVkLmNyb3BPZmZzZXQgKiAyLFxuICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRTdHlsZXJGb3JEb2MoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKTogQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyIHtcbiAgICBsZXQgc3R5bGVyID0gdGhpcy5zdHlsZXJNYXBbeG1sZG9jLnVybF07XG4gICAgaWYgKCFzdHlsZXIpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5zdHlsZS5zdG9yZS5nZXRTdHlsZUZvckRvYyh4bWxkb2MpO1xuXG4gICAgICAvLyBXZSBuZWVkIGEgc2VwYXJhdGUgY29udGVudCwgc28gdGhhdCB2YXJpYWJsZXMgY2FuIGdldCBwb3RlbnRpYWxseVxuICAgICAgLy8gZGlmZmVyZW50IHZhbHVlcy5cbiAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgRXhwcnMuQ29udGV4dChcbiAgICAgICAgc3R5bGUucm9vdFNjb3BlLFxuICAgICAgICB0aGlzLnBhZ2VXaWR0aCgpLFxuICAgICAgICB0aGlzLnBhZ2VIZWlnaHQoKSxcbiAgICAgICAgdGhpcy5pbml0aWFsRm9udFNpemUsXG4gICAgICApO1xuICAgICAgY29uc3QgY291bnRlckxpc3RlbmVyID0gdGhpcy5jb3VudGVyU3RvcmUuY3JlYXRlQ291bnRlckxpc3RlbmVyKFxuICAgICAgICB4bWxkb2MudXJsLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGNvdW50ZXJSZXNvbHZlciA9IHRoaXMuY291bnRlclN0b3JlLmNyZWF0ZUNvdW50ZXJSZXNvbHZlcihcbiAgICAgICAgeG1sZG9jLnVybCxcbiAgICAgICAgc3R5bGUucm9vdFNjb3BlLFxuICAgICAgICBzdHlsZS5wYWdlU2NvcGUsXG4gICAgICApO1xuICAgICAgc3R5bGVyID0gbmV3IENzc1N0eWxlci5TdHlsZXIoXG4gICAgICAgIHhtbGRvYyxcbiAgICAgICAgc3R5bGUuY2FzY2FkZSxcbiAgICAgICAgc3R5bGUucm9vdFNjb3BlLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICB0aGlzLnByaW1hcnlGbG93cyxcbiAgICAgICAgc3R5bGUudmFsaWRhdG9yU2V0LFxuICAgICAgICBjb3VudGVyTGlzdGVuZXIsXG4gICAgICAgIGNvdW50ZXJSZXNvbHZlcixcbiAgICAgICk7XG4gICAgICB0aGlzLnN0eWxlck1hcFt4bWxkb2MudXJsXSA9IHN0eWxlcjtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHJlZ2lzdGVySW5zdGFuY2Uoa2V5OiBzdHJpbmcsIGluc3RhbmNlOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSk6IHZvaWQge1xuICAgIHRoaXMucGFnZUJveEluc3RhbmNlc1trZXldID0gaW5zdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBsb29rdXBJbnN0YW5jZShrZXk6IHN0cmluZyk6IFBhZ2VNYXN0ZXIuUGFnZUJveEluc3RhbmNlIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlQm94SW5zdGFuY2VzW2tleV07XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBlbmNvdW50ZXJlZEZsb3dDaHVuayhmbG93Q2h1bms6IFZ0cmVlLkZsb3dDaHVuaywgZmxvdzogVnRyZWUuRmxvdyk6IGFueSB7XG4gICAgY29uc3QgY3AgPSB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbjtcbiAgICBpZiAoY3ApIHtcbiAgICAgIGlmICghY3AuZmxvd3NbZmxvd0NodW5rLmZsb3dOYW1lXSkge1xuICAgICAgICBjcC5mbG93c1tmbG93Q2h1bmsuZmxvd05hbWVdID0gZmxvdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZsb3cgPSBjcC5mbG93c1tmbG93Q2h1bmsuZmxvd05hbWVdO1xuICAgICAgfVxuICAgICAgbGV0IGZsb3dQb3NpdGlvbiA9IGNwLmZsb3dQb3NpdGlvbnNbZmxvd0NodW5rLmZsb3dOYW1lXTtcbiAgICAgIGlmICghZmxvd1Bvc2l0aW9uKSB7XG4gICAgICAgIGZsb3dQb3NpdGlvbiA9IG5ldyBWdHJlZS5GbG93UG9zaXRpb24oKTtcbiAgICAgICAgY3AuZmxvd1Bvc2l0aW9uc1tmbG93Q2h1bmsuZmxvd05hbWVdID0gZmxvd1Bvc2l0aW9uO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9kZVBvc2l0aW9uID0gVnRyZWUubmV3Tm9kZVBvc2l0aW9uRnJvbU5vZGUoZmxvd0NodW5rLmVsZW1lbnQpO1xuICAgICAgY29uc3QgY2h1bmtQb3NpdGlvbiA9IG5ldyBWdHJlZS5DaHVua1Bvc2l0aW9uKG5vZGVQb3NpdGlvbik7XG4gICAgICBjb25zdCBmbG93Q2h1bmtQb3NpdGlvbiA9IG5ldyBWdHJlZS5GbG93Q2h1bmtQb3NpdGlvbihcbiAgICAgICAgY2h1bmtQb3NpdGlvbixcbiAgICAgICAgZmxvd0NodW5rLFxuICAgICAgKTtcbiAgICAgIGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMucHVzaChmbG93Q2h1bmtQb3NpdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q29uc3VtZWRPZmZzZXQoZmxvd1Bvc2l0aW9uOiBWdHJlZS5GbG93UG9zaXRpb24pOiBudW1iZXIge1xuICAgIGxldCBvZmZzZXQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbG93UG9zaXRpb24ucG9zaXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwb3MgPSBmbG93UG9zaXRpb24ucG9zaXRpb25zW2ldLmNodW5rUG9zaXRpb24ucHJpbWFyeTtcbiAgICAgIGxldCBub2RlID0gcG9zLnN0ZXBzWzBdLm5vZGU7XG4gICAgICBsZXQgb2Zmc2V0SW5Ob2RlID0gcG9zLm9mZnNldEluTm9kZTtcbiAgICAgIGxldCBhZnRlciA9IHBvcy5hZnRlcjtcbiAgICAgIGxldCBrID0gMDtcbiAgICAgIHdoaWxlIChub2RlLm93bmVyRG9jdW1lbnQgIT0gdGhpcy54bWxkb2MuZG9jdW1lbnQpIHtcbiAgICAgICAgaysrO1xuICAgICAgICBub2RlID0gcG9zLnN0ZXBzW2tdLm5vZGU7XG4gICAgICAgIGFmdGVyID0gZmFsc2U7XG4gICAgICAgIG9mZnNldEluTm9kZSA9IDA7XG4gICAgICB9XG4gICAgICBjb25zdCBjaHVua09mZnNldCA9IHRoaXMueG1sZG9jLmdldE5vZGVPZmZzZXQobm9kZSwgb2Zmc2V0SW5Ob2RlLCBhZnRlcik7XG4gICAgICBpZiAoY2h1bmtPZmZzZXQgPCBvZmZzZXQpIHtcbiAgICAgICAgb2Zmc2V0ID0gY2h1bmtPZmZzZXQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvZmZzZXQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIG5vTG9va0FoZWFkIERvIG5vdCBsb29rIGFoZWFkIGVsZW1lbnRzIHRoYXQgYXJlIG5vdCBzdHlsZWQgeWV0XG4gICAqIEByZXR1cm4gZG9jdW1lbnQgb2Zmc2V0IG9mIHRoZSBnaXZlbiBsYXlvdXRQb3NpdGlvblxuICAgKi9cbiAgZ2V0UG9zaXRpb24oXG4gICAgbGF5b3V0UG9zaXRpb24/OiBWdHJlZS5MYXlvdXRQb3NpdGlvbixcbiAgICBub0xvb2tBaGVhZD86IGJvb2xlYW4sXG4gICk6IG51bWJlciB7XG4gICAgaWYgKCFsYXlvdXRQb3NpdGlvbikge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGxldCBjdXJyZW50UG9zaXRpb24gPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgZm9yIChjb25zdCBmbG93TmFtZSBpbiB0aGlzLnByaW1hcnlGbG93cykge1xuICAgICAgbGV0IGZsb3dQb3NpdGlvbiA9IGxheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVdO1xuICAgICAgaWYgKFxuICAgICAgICAhbm9Mb29rQWhlYWQgJiZcbiAgICAgICAgKCFmbG93UG9zaXRpb24gfHwgZmxvd1Bvc2l0aW9uLnBvc2l0aW9ucy5sZW5ndGggPT0gMCkgJiZcbiAgICAgICAgdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb25cbiAgICAgICkge1xuICAgICAgICB0aGlzLnN0eWxlci5zdHlsZVVudGlsRmxvd0lzUmVhY2hlZChmbG93TmFtZSk7XG4gICAgICAgIGZsb3dQb3NpdGlvbiA9IHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVdO1xuICAgICAgICBpZiAobGF5b3V0UG9zaXRpb24gIT0gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24pIHtcbiAgICAgICAgICBpZiAoZmxvd1Bvc2l0aW9uKSB7XG4gICAgICAgICAgICBmbG93UG9zaXRpb24gPSBmbG93UG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgIGxheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVdID0gZmxvd1Bvc2l0aW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGZsb3dQb3NpdGlvbikge1xuICAgICAgICBjb25zdCBjb25zdW1lZE9mZnNldCA9IHRoaXMuZ2V0Q29uc3VtZWRPZmZzZXQoZmxvd1Bvc2l0aW9uKTtcbiAgICAgICAgaWYgKGNvbnN1bWVkT2Zmc2V0IDwgY3VycmVudFBvc2l0aW9uKSB7XG4gICAgICAgICAgY3VycmVudFBvc2l0aW9uID0gY29uc3VtZWRPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRQb3NpdGlvbjtcbiAgfVxuXG4gIGR1bXBMb2NhdGlvbihwb3NpdGlvbikge1xuICAgIExvZ2dpbmcubG9nZ2VyLmRlYnVnKFwiTG9jYXRpb24gLSBwYWdlXCIsIHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uLnBhZ2UpO1xuICAgIExvZ2dpbmcubG9nZ2VyLmRlYnVnKFwiICBjdXJyZW50OlwiLCBwb3NpdGlvbik7XG4gICAgTG9nZ2luZy5sb2dnZXIuZGVidWcoXCIgIGxvb2t1cDpcIiwgdGhpcy5sb29rdXBPZmZzZXQpO1xuICAgIGZvciAoY29uc3QgZmxvd05hbWUgaW4gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9ucykge1xuICAgICAgY29uc3QgZmxvd1Bvc2l0aW9uID0gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9uc1tmbG93TmFtZV07XG4gICAgICBmb3IgKGNvbnN0IHAgb2YgZmxvd1Bvc2l0aW9uLnBvc2l0aW9ucykge1xuICAgICAgICBMb2dnaW5nLmxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICBcIiAgQ2h1bmtcIixcbiAgICAgICAgICBgJHtmbG93TmFtZX06YCxcbiAgICAgICAgICBwLmZsb3dDaHVuay5zdGFydE9mZnNldCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBtYXRjaFBhZ2VTaWRlKHNpZGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHN3aXRjaCAoc2lkZSkge1xuICAgICAgY2FzZSBcImxlZnRcIjpcbiAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgY2FzZSBcInJlY3RvXCI6XG4gICAgICBjYXNlIFwidmVyc29cIjpcbiAgICAgICAgcmV0dXJuIG5ldyBFeHBycy5OYW1lZCh0aGlzLnN0eWxlLnBhZ2VTY29wZSwgYCR7c2lkZX0tcGFnZWApLmV2YWx1YXRlKFxuICAgICAgICAgIHRoaXMsXG4gICAgICAgICkgYXMgYm9vbGVhbjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVN0YXJ0U2lkZShsYXlvdXRQb3NpdGlvbjogVnRyZWUuTGF5b3V0UG9zaXRpb24pIHtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gbGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9ucykge1xuICAgICAgY29uc3QgZmxvd1BvcyA9IGxheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnNbbmFtZV07XG4gICAgICBpZiAoZmxvd1BvcyAmJiBmbG93UG9zLnBvc2l0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGZsb3dDaHVuayA9IGZsb3dQb3MucG9zaXRpb25zWzBdLmZsb3dDaHVuaztcbiAgICAgICAgaWYgKHRoaXMuZ2V0Q29uc3VtZWRPZmZzZXQoZmxvd1BvcykgPT09IGZsb3dDaHVuay5zdGFydE9mZnNldCkge1xuICAgICAgICAgIGNvbnN0IGZsb3dDaHVua0JyZWFrQmVmb3JlID1cbiAgICAgICAgICAgIGZsb3dQb3MucG9zaXRpb25zWzBdLmZsb3dDaHVuay5icmVha0JlZm9yZTtcbiAgICAgICAgICBjb25zdCBmbG93QnJlYWtBZnRlciA9IEJyZWFrLnN0YXJ0U2lkZVZhbHVlVG9CcmVha1ZhbHVlKFxuICAgICAgICAgICAgZmxvd1Bvcy5zdGFydFNpZGUsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBmbG93UG9zLnN0YXJ0U2lkZSA9IEJyZWFrLmJyZWFrVmFsdWVUb1N0YXJ0U2lkZVZhbHVlKFxuICAgICAgICAgICAgQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICAgICAgICAgIGZsb3dCcmVha0FmdGVyLFxuICAgICAgICAgICAgICBmbG93Q2h1bmtCcmVha0JlZm9yZSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gY2FzY2FkZWRQYWdlU3R5bGUgQ2FzY2FkZWQgcGFnZSBzdHlsZSBzcGVjaWZpZWQgaW4gcGFnZSBjb250ZXh0XG4gICAqL1xuICBzZWxlY3RQYWdlTWFzdGVyKFxuICAgIGNhc2NhZGVkUGFnZVN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgKTogUGFnZU1hc3Rlci5QYWdlTWFzdGVySW5zdGFuY2Uge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGNwID0gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb247XG5cbiAgICAvLyAzLjUuIFBhZ2UgTGF5b3V0IFByb2Nlc3NpbmcgTW9kZWxcbiAgICAvLyAxLiBEZXRlcm1pbmUgY3VycmVudCBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnQ6IEZpbmQgdGhlIG1pbmltYWxcbiAgICAvLyBjb25zdW1lZC1vZmZzZXQgZm9yIGFsbCBlbGVtZW50cyBub3QgZnVsbHktY29uc3VtZWQgaW4gZWFjaCBwcmltYXJ5IGZsb3cuXG4gICAgLy8gQ3VycmVudCBwb3NpdGlvbiBpcyBtYXhpbXVtIG9mIHRoZSByZXN1bHRzIGFtb25nIGFsbCBwcmltYXJ5IGZsb3dzLlxuICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IHRoaXMuZ2V0UG9zaXRpb24oY3ApO1xuICAgIGlmIChjdXJyZW50UG9zaXRpb24gPT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICAvLyBlbmQgb2YgcHJpbWFyeSBjb250ZW50IGlzIHJlYWNoZWRcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIDIuIFBhZ2UgbWFzdGVyIHNlbGVjdGlvbjogZm9yIGVhY2ggcGFnZSBtYXN0ZXI6XG4gICAgY29uc3QgcGFnZU1hc3RlcnMgPSB0aGlzLnJvb3RQYWdlQm94SW5zdGFuY2VcbiAgICAgIC5jaGlsZHJlbiBhcyBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXJJbnN0YW5jZVtdO1xuICAgIGxldCBwYWdlTWFzdGVyOiBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXJJbnN0YW5jZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2VNYXN0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwYWdlTWFzdGVyID0gcGFnZU1hc3RlcnNbaV07XG5cbiAgICAgIC8vIFNraXAgYSBwYWdlIG1hc3RlciBnZW5lcmF0ZWQgZm9yIEBwYWdlIHJ1bGVzXG4gICAgICBpZiAocGFnZU1hc3Rlci5wYWdlQm94LnBzZXVkb05hbWUgPT09IENzc1BhZ2UucGFnZVJ1bGVNYXN0ZXJQc2V1ZG9OYW1lKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgbGV0IGNvZWZmID0gMTtcblxuICAgICAgLy8gQS4gQ2FsY3VsYXRlIGxvb2t1cCBwb3NpdGlvbiB1c2luZyBjdXJyZW50IHBvc2l0aW9uIGFuZCB1dGlsaXphdGlvblxuICAgICAgLy8gKHNlZSAtZXB1YngtdXRpbGl6YXRpb24gcHJvcGVydHkpXG4gICAgICBjb25zdCB1dGlsaXphdGlvbiA9IHBhZ2VNYXN0ZXIuZ2V0UHJvcChzZWxmLCBcInV0aWxpemF0aW9uXCIpO1xuICAgICAgaWYgKHV0aWxpemF0aW9uICYmIHV0aWxpemF0aW9uLmlzTnVtKCkpIHtcbiAgICAgICAgY29lZmYgPSAodXRpbGl6YXRpb24gYXMgQ3NzLk51bSkubnVtO1xuICAgICAgfVxuICAgICAgY29uc3QgZW0gPSBzZWxmLnF1ZXJ5VW5pdFNpemUoXCJlbVwiLCBmYWxzZSk7XG4gICAgICBjb25zdCBwYWdlQXJlYSA9IHNlbGYucGFnZVdpZHRoKCkgKiBzZWxmLnBhZ2VIZWlnaHQoKTtcbiAgICAgIGNvbnN0IGxvb2t1cCA9IE1hdGguY2VpbCgoY29lZmYgKiBwYWdlQXJlYSkgLyAoZW0gKiBlbSkpO1xuXG4gICAgICAvLyBCLiBEZXRlcm1pbmUgZWxlbWVudCBlbGlnaWJpbGl0eS4gRWFjaCBlbGVtZW50IGluIGEgZmxvdyBpcyBjb25zaWRlcmVkXG4gICAgICAvLyBlbGlnaWJsZSBpZiBpdCBpcyBpcyBub3QgbWFya2VkIGFzIGZ1bGx5IGNvbnN1bWVkIGFuZCBpdCBjb21lcyBpbiB0aGVcbiAgICAgIC8vIGRvY3VtZW50IGJlZm9yZSB0aGUgbG9va3VwIHBvc2l0aW9uLiBGZWVkIGxvb2t1cE9mZnNldCBhbmQgZmxvd1xuICAgICAgLy8gYXZhaWxhYmlsaXR5IGludG8gdGhlIGNvbnRleHRcbiAgICAgIHRoaXMubG9va3VwT2Zmc2V0ID0gdGhpcy5zdHlsZXIuc3R5bGVVbnRpbChjdXJyZW50UG9zaXRpb24sIGxvb2t1cCk7XG4gICAgICBBc3NlcnRzLmFzc2VydChjcCk7XG4gICAgICB0aGlzLnVwZGF0ZVN0YXJ0U2lkZShjcCk7XG5cbiAgICAgIC8vIHVwZGF0ZSBsYXlvdXRQb3NpdGlvbkF0UGFnZVN0YXJ0IHNpbmNlIHN0YXJ0U2lkZSBvZiBGbG93Q2h1bmtzIG1heSBiZVxuICAgICAgLy8gdXBkYXRlZFxuICAgICAgdGhpcy5sYXlvdXRQb3NpdGlvbkF0UGFnZVN0YXJ0ID0gY3AuY2xvbmUoKTtcbiAgICAgIHRoaXMuaW5pdExpbmdlcmluZygpO1xuICAgICAgc2VsZi5jbGVhclNjb3BlKHRoaXMuc3R5bGUucGFnZVNjb3BlKTtcblxuICAgICAgLy8gQy4gRGV0ZXJtaW5lIGNvbnRlbnQgYXZhaWxhYmlsaXR5LiBGbG93IGhhcyBjb250ZW50IGF2YWlsYWJsZSBpZiBpdFxuICAgICAgLy8gY29udGFpbnMgZWxpZ2libGUgZWxlbWVudHMuIEQuIERldGVybWluZSBpZiBwYWdlIG1hc3RlciBpcyBlbmFibGVkXG4gICAgICAvLyB1c2luZyBydWxlcyBpbiBTZWN0aW9uIDMuNC43XG4gICAgICBjb25zdCBlbmFibGVkID0gcGFnZU1hc3Rlci5nZXRQcm9wKHNlbGYsIFwiZW5hYmxlZFwiKTtcblxuICAgICAgLy8gRS4gRmlyc3QgZW5hYmxlZCBwYWdlIG1hc3RlciBpcyB1c2VkIGZvciB0aGUgbmV4dCBwYWdlXG4gICAgICBpZiAoIWVuYWJsZWQgfHwgZW5hYmxlZCA9PT0gQ3NzLmlkZW50Ll90cnVlKSB7XG4gICAgICAgIGlmIChWSVZMSU9TVFlMRV9ERUJVRykge1xuICAgICAgICAgIHRoaXMuZHVtcExvY2F0aW9uKGN1cnJlbnRQb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcHBseSBAcGFnZSBydWxlc1xuICAgICAgICByZXR1cm4gdGhpcy5wYWdlTWFuYWdlci5nZXRQYWdlUnVsZVBhZ2VNYXN0ZXIoXG4gICAgICAgICAgcGFnZU1hc3RlcixcbiAgICAgICAgICBjYXNjYWRlZFBhZ2VTdHlsZSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZW5hYmxlZCBwYWdlIG1hc3RlcnNcIik7XG4gIH1cblxuICBmbG93Q2h1bmtJc0FmdGVyUGFyZW50Rmxvd0ZvcmNlZEJyZWFrKGZsb3dDaHVuazogVnRyZWUuRmxvd0NodW5rKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZmxvd3MgPSB0aGlzLmxheW91dFBvc2l0aW9uQXRQYWdlU3RhcnQuZmxvd3M7XG4gICAgY29uc3QgcGFyZW50Rmxvd05hbWUgPSBmbG93c1tmbG93Q2h1bmsuZmxvd05hbWVdLnBhcmVudEZsb3dOYW1lO1xuICAgIGlmIChwYXJlbnRGbG93TmFtZSkge1xuICAgICAgY29uc3Qgc3RhcnRPZmZzZXQgPSBmbG93Q2h1bmsuc3RhcnRPZmZzZXQ7XG4gICAgICBjb25zdCBmb3JjZWRCcmVha09mZnNldHMgPSBmbG93c1twYXJlbnRGbG93TmFtZV0uZm9yY2VkQnJlYWtPZmZzZXRzO1xuICAgICAgaWYgKCFmb3JjZWRCcmVha09mZnNldHMubGVuZ3RoIHx8IHN0YXJ0T2Zmc2V0IDwgZm9yY2VkQnJlYWtPZmZzZXRzWzBdKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJyZWFrT2Zmc2V0QmVmb3JlU3RhcnRJbmRleCA9XG4gICAgICAgIEJhc2UuYmluYXJ5U2VhcmNoKFxuICAgICAgICAgIGZvcmNlZEJyZWFrT2Zmc2V0cy5sZW5ndGgsXG4gICAgICAgICAgKGkpID0+IGZvcmNlZEJyZWFrT2Zmc2V0c1tpXSA+IHN0YXJ0T2Zmc2V0LFxuICAgICAgICApIC0gMTtcbiAgICAgIGNvbnN0IGJyZWFrT2Zmc2V0QmVmb3JlU3RhcnQgPVxuICAgICAgICBmb3JjZWRCcmVha09mZnNldHNbYnJlYWtPZmZzZXRCZWZvcmVTdGFydEluZGV4XTtcbiAgICAgIGNvbnN0IHBhcmVudEZsb3dQb3NpdGlvbiA9IHRoaXMubGF5b3V0UG9zaXRpb25BdFBhZ2VTdGFydC5mbG93UG9zaXRpb25zW1xuICAgICAgICBwYXJlbnRGbG93TmFtZVxuICAgICAgXTtcbiAgICAgIGNvbnN0IHBhcmVudFN0YXJ0T2Zmc2V0ID0gdGhpcy5nZXRDb25zdW1lZE9mZnNldChwYXJlbnRGbG93UG9zaXRpb24pO1xuICAgICAgaWYgKGJyZWFrT2Zmc2V0QmVmb3JlU3RhcnQgPCBwYXJlbnRTdGFydE9mZnNldCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAocGFyZW50U3RhcnRPZmZzZXQgPCBicmVha09mZnNldEJlZm9yZVN0YXJ0KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBTcGVjaWFsIGNhc2U6IHBhcmVudFN0YXJ0T2Zmc2V0ID09PSBicmVha09mZnNldEJlZm9yZVN0YXJ0XG4gICAgICAvLyBJbiB0aGlzIGNhc2UsIHRoZSBmbG93Q2h1bmsgY2FuIGJlIHVzZWQgaWYgdGhlIHN0YXJ0IHNpZGUgb2YgdGhlIHBhcmVudFxuICAgICAgLy8gZmxvdyBtYXRjaGVzIHRoZSBjdXJyZW50IHBhZ2Ugc2lkZS5cbiAgICAgIHJldHVybiAhdGhpcy5tYXRjaFBhZ2VTaWRlKHBhcmVudEZsb3dQb3NpdGlvbi5zdGFydFNpZGUpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzZXRGb3JtYXR0aW5nQ29udGV4dFRvQ29sdW1uKGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sIGZsb3dOYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBmbG93ID0gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24uZmxvd3NbZmxvd05hbWVdO1xuICAgIGlmICghZmxvdy5mb3JtYXR0aW5nQ29udGV4dCkge1xuICAgICAgZmxvdy5mb3JtYXR0aW5nQ29udGV4dCA9IG5ldyBMYXlvdXRQcm9jZXNzb3IuQmxvY2tGb3JtYXR0aW5nQ29udGV4dChudWxsKTtcbiAgICB9XG4gICAgY29sdW1uLmZsb3dSb290Rm9ybWF0dGluZ0NvbnRleHQgPSBmbG93LmZvcm1hdHRpbmdDb250ZXh0O1xuICB9XG5cbiAgbGF5b3V0RGVmZXJyZWRQYWdlRmxvYXRzKGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgcGFnZUZsb2F0TGF5b3V0Q29udGV4dCA9IGNvbHVtbi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0O1xuICAgIGNvbnN0IGRlZmVycmVkRmxvYXRzID0gcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5nZXREZWZlcnJlZFBhZ2VGbG9hdENvbnRpbnVhdGlvbnMoKTtcbiAgICBjb25zdCBmcmFtZSA9IFRhc2submV3RnJhbWU8Ym9vbGVhbj4oXCJsYXlvdXREZWZlcnJlZFBhZ2VGbG9hdHNcIik7XG4gICAgbGV0IGludmFsaWRhdGVkID0gZmFsc2U7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgIGlmIChpID09PSBkZWZlcnJlZEZsb2F0cy5sZW5ndGgpIHtcbiAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRpbnVhdGlvbiA9IGRlZmVycmVkRmxvYXRzW2krK107XG4gICAgICAgIGNvbnN0IGZsb2F0ID0gY29udGludWF0aW9uLmZsb2F0O1xuICAgICAgICBjb25zdCBzdHJhdGVneSA9IG5ldyBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5UmVzb2x2ZXIoKS5maW5kQnlGbG9hdChcbiAgICAgICAgICBmbG9hdCxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgcGFnZUZsb2F0RnJhZ21lbnQgPSBzdHJhdGVneS5maW5kUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgICAgICAgZmxvYXQsXG4gICAgICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHBhZ2VGbG9hdEZyYWdtZW50ICYmIHBhZ2VGbG9hdEZyYWdtZW50Lmhhc0Zsb2F0KGZsb2F0KSkge1xuICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ZvcmJpZGRlbihmbG9hdCkgfHxcbiAgICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0Lmhhc1ByZWNlZGluZ0Zsb2F0c0RlZmVycmVkVG9OZXh0KGZsb2F0KVxuICAgICAgICApIHtcbiAgICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmRlZmVyUGFnZUZsb2F0KGNvbnRpbnVhdGlvbik7XG4gICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb2x1bW5cbiAgICAgICAgICAubGF5b3V0UGFnZUZsb2F0SW5uZXIoY29udGludWF0aW9uLCBzdHJhdGVneSwgbnVsbCwgcGFnZUZsb2F0RnJhZ21lbnQpXG4gICAgICAgICAgLnRoZW4oKHN1Y2Nlc3MpID0+IHtcbiAgICAgICAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhcmVudEludmFsaWRhdGVkID0gcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5wYXJlbnQuaXNJbnZhbGlkYXRlZCgpO1xuICAgICAgICAgICAgaWYgKHBhcmVudEludmFsaWRhdGVkKSB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkgJiZcbiAgICAgICAgICAgICAgIXBhcmVudEludmFsaWRhdGVkXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaW52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LnZhbGlkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoaW52YWxpZGF0ZWQpIHtcbiAgICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmludmFsaWRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBnZXRMYXN0QWZ0ZXJQb3NpdGlvbklmRGVmZXJyZWRGbG9hdHNFeGlzdHMoXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgICBuZXdQb3NpdGlvbjogVnRyZWUuQ2h1bmtQb3NpdGlvbiB8IG51bGwsXG4gICk6IFZ0cmVlLkNodW5rUG9zaXRpb24gfCBudWxsIHtcbiAgICBjb25zdCBwYWdlRmxvYXRMYXlvdXRDb250ZXh0ID0gY29sdW1uLnBhZ2VGbG9hdExheW91dENvbnRleHQ7XG4gICAgY29uc3QgZGVmZXJyZWRGbG9hdHMgPSBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmdldFBhZ2VGbG9hdENvbnRpbnVhdGlvbnNEZWZlcnJlZFRvTmV4dCgpO1xuICAgIGlmIChkZWZlcnJlZEZsb2F0cy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoY29sdW1uLmxhc3RBZnRlclBvc2l0aW9uKSB7XG4gICAgICAgIGxldCByZXN1bHQ6IFZ0cmVlLkNodW5rUG9zaXRpb247XG4gICAgICAgIGlmIChuZXdQb3NpdGlvbikge1xuICAgICAgICAgIC8vIE5lZWQgb3ZlcmZsb3duIGZvb3Rub3RlcyBvd25lZCBieSBuZXdQb3NpdGlvblxuICAgICAgICAgIHJlc3VsdCA9IG5ld1Bvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgICAgcmVzdWx0LnByaW1hcnkgPSBjb2x1bW4ubGFzdEFmdGVyUG9zaXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gbmV3IFZ0cmVlLkNodW5rUG9zaXRpb24oY29sdW1uLmxhc3RBZnRlclBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgQXNzZXJ0cy5hc3NlcnQoXCJjb2x1bW4ubGFzdEFmdGVyUG9zaXRpb24gPT09IG51bGxcIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBob2xkaW5nIHRydWVcbiAgICovXG4gIGxheW91dENvbHVtbihcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICAgIGZsb3dOYW1lOiBzdHJpbmcsXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmbG93UG9zaXRpb24gPSB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5mbG93UG9zaXRpb25zW2Zsb3dOYW1lXTtcbiAgICBpZiAoIWZsb3dQb3NpdGlvbiB8fCAhdGhpcy5tYXRjaFBhZ2VTaWRlKGZsb3dQb3NpdGlvbi5zdGFydFNpZGUpKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIGZsb3dQb3NpdGlvbi5zdGFydFNpZGUgPSBcImFueVwiO1xuICAgIHRoaXMuc2V0Rm9ybWF0dGluZ0NvbnRleHRUb0NvbHVtbihjb2x1bW4sIGZsb3dOYW1lKTtcbiAgICBjb2x1bW4uaW5pdCgpO1xuICAgIGlmICh0aGlzLnByaW1hcnlGbG93c1tmbG93TmFtZV0gJiYgY29sdW1uLmJhbmRzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIEluIGdlbmVyYWwsIHdlIGZvcmNlIG5vbi1maXR0aW5nIGNvbnRlbnQuIEV4Y2VwdGlvbiBpcyBvbmx5IGZvciBwcmltYXJ5XG4gICAgICAvLyBmbG93IGNvbHVtbnMgdGhhdCBoYXZlIGV4Y2x1c2lvbnMuXG4gICAgICBjb2x1bW4uZm9yY2VOb25maXR0aW5nID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImxheW91dENvbHVtblwiKTtcbiAgICB0aGlzLmxheW91dERlZmVycmVkUGFnZUZsb2F0cyhjb2x1bW4pLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKGNvbHVtbi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gUmVjb3JkIGluZGljZXMgb2YgcmVwZWF0ZWQgcG9zaXRpb25zIGFuZCByZW1vdmVkIHBvc2l0aW9uc1xuICAgICAgY29uc3QgcmVwZWF0ZWRJbmRpY2VzID0gW10gYXMgbnVtYmVyW107XG4gICAgICBjb25zdCByZW1vdmVkSW5kaWNlcyA9IFtdIGFzIG51bWJlcltdO1xuICAgICAgbGV0IGxlYWRpbmdFZGdlID0gdHJ1ZTtcbiAgICAgIGZyYW1lXG4gICAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjb2x1bW4ucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5oYXNDb250aW51aW5nRmxvYXRGcmFnbWVudHNJbkZsb3coXG4gICAgICAgICAgICAgIGZsb3dOYW1lLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3aGlsZSAoZmxvd1Bvc2l0aW9uLnBvc2l0aW9ucy5sZW5ndGggLSByZW1vdmVkSW5kaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xuXG4gICAgICAgICAgICAvLyBTa2lwIGFsbCByZW1vdmVkIHBvc2l0aW9uc1xuICAgICAgICAgICAgd2hpbGUgKHJlbW92ZWRJbmRpY2VzLmluY2x1ZGVzKGluZGV4KSkge1xuICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkID0gZmxvd1Bvc2l0aW9uLnBvc2l0aW9uc1tpbmRleF07XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHNlbGVjdGVkLmZsb3dDaHVuay5zdGFydE9mZnNldCA+IHNlbGYubG9va3VwT2Zmc2V0IHx8XG4gICAgICAgICAgICAgIHNlbGYuZmxvd0NodW5rSXNBZnRlclBhcmVudEZsb3dGb3JjZWRCcmVhayhzZWxlY3RlZC5mbG93Q2h1bmspXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBrID0gaW5kZXggKyAxOyBrIDwgZmxvd1Bvc2l0aW9uLnBvc2l0aW9ucy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICBpZiAocmVtb3ZlZEluZGljZXMuaW5jbHVkZXMoaykpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gU2tpcCByZW1vdmVkIHBvc2l0aW9uc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IGFsdCA9IGZsb3dQb3NpdGlvbi5wb3NpdGlvbnNba107XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBhbHQuZmxvd0NodW5rLnN0YXJ0T2Zmc2V0ID4gc2VsZi5sb29rdXBPZmZzZXQgfHxcbiAgICAgICAgICAgICAgICBzZWxmLmZsb3dDaHVua0lzQWZ0ZXJQYXJlbnRGbG93Rm9yY2VkQnJlYWsoYWx0LmZsb3dDaHVuaylcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGFsdC5mbG93Q2h1bmsuaXNCZXR0ZXIoc2VsZWN0ZWQuZmxvd0NodW5rKSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkID0gYWx0O1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZmxvd0NodW5rID0gc2VsZWN0ZWQuZmxvd0NodW5rO1xuICAgICAgICAgICAgbGV0IHBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgY29sdW1uXG4gICAgICAgICAgICAgIC5sYXlvdXQoXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQuY2h1bmtQb3NpdGlvbixcbiAgICAgICAgICAgICAgICBsZWFkaW5nRWRnZSxcbiAgICAgICAgICAgICAgICBmbG93UG9zaXRpb24uYnJlYWtBZnRlcixcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAudGhlbigobmV3UG9zaXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uLnBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxlYWRpbmdFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvLyBzdGF0aWM6IGtlZXAgaW4gdGhlIGZsb3dcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZC5mbG93Q2h1bmsucmVwZWF0ZWQgJiZcbiAgICAgICAgICAgICAgICAgIChuZXdQb3NpdGlvbiA9PT0gbnVsbCB8fCBmbG93Q2h1bmsuZXhjbHVzaXZlKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgcmVwZWF0ZWRJbmRpY2VzLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZmxvd0NodW5rLmV4Y2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgLy8gZXhjbHVzaXZlLCBvbmx5IGNhbiBoYXZlIG9uZSwgcmVtb3ZlIGZyb20gdGhlIGZsb3cgZXZlblxuICAgICAgICAgICAgICAgICAgLy8gaWYgaXQgZGlkIG5vdCBmaXRcbiAgICAgICAgICAgICAgICAgIHJlbW92ZWRJbmRpY2VzLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBub3QgZXhjbHVzaXZlXG4gICAgICAgICAgICAgICAgICBjb25zdCBlbmRPZkNvbHVtbiA9ICEhbmV3UG9zaXRpb24gfHwgISFjb2x1bW4ucGFnZUJyZWFrVHlwZTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RBZnRlclBvc2l0aW9uID0gc2VsZi5nZXRMYXN0QWZ0ZXJQb3NpdGlvbklmRGVmZXJyZWRGbG9hdHNFeGlzdHMoXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgbmV3UG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5wYWdlQnJlYWtUeXBlICYmIGxhc3RBZnRlclBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkLmNodW5rUG9zaXRpb24gPSBsYXN0QWZ0ZXJQb3NpdGlvbjtcblxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIHByb3BhZ2F0ZSBwYWdlQnJlYWtUeXBlXG4gICAgICAgICAgICAgICAgICAgIGZsb3dQb3NpdGlvbi5icmVha0FmdGVyID0gY29sdW1uLnBhZ2VCcmVha1R5cGU7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5wYWdlQnJlYWtUeXBlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGdvIHRvIHRoZSBuZXh0IGVsZW1lbnQgaW4gdGhlIGZsb3dcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZEluZGljZXMucHVzaChpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdQb3NpdGlvbiB8fCBsYXN0QWZ0ZXJQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIGRpZCBub3QgZml0IGNvbXBsZXRlbHlcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZC5jaHVua1Bvc2l0aW9uID0gbmV3UG9zaXRpb24gfHwgbGFzdEFmdGVyUG9zaXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgcmVwZWF0ZWRJbmRpY2VzLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2x1bW4ucGFnZUJyZWFrVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIGZvcmNlZCBicmVha1xuICAgICAgICAgICAgICAgICAgICAgIGZsb3dQb3NpdGlvbi5zdGFydFNpZGUgPSBCcmVhay5icmVha1ZhbHVlVG9TdGFydFNpZGVWYWx1ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5wYWdlQnJlYWtUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChlbmRPZkNvbHVtbikge1xuICAgICAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBTaW5jZSBhdCBsZWFzdCBvbmUgZmxvd0NodW5rIGhhcyBiZWVuIHBsYWNlZCBpbiB0aGVcbiAgICAgICAgICAgICAgICAvLyBjb2x1bW4sIHRoZSBuZXh0IGZsb3dDaHVuayBvZiB0aGUgZmxvdyBjYW4gYmUgZGVmZXJyZWQgdG9cbiAgICAgICAgICAgICAgICAvLyB0aGUgbmV4dCBwYXJ0aXRpb24gaWYgdGhlcmUgaXMgbm90IGVub3VnaCBzcGFjZSBpbiB0aGVcbiAgICAgICAgICAgICAgICAvLyBjdXJyZW50IHBhcnRpdGlvbi5cbiAgICAgICAgICAgICAgICBjb2x1bW4uZm9yY2VOb25maXR0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFN5bmMgcmVzdWx0XG4gICAgICAgICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIEFzeW5jIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAocGVuZGluZykge1xuICAgICAgICAgICAgICAvLyBBc3luYyByZXN1bHRcbiAgICAgICAgICAgICAgcGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU3luYyByZXN1bHRcbiAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBpZiAoIWNvbHVtbi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICAgICAgLy8gS2VlcCBwb3NpdGlvbnMgcmVwZWF0ZWQgb3Igbm90IHJlbW92ZWRcbiAgICAgICAgICAgIGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMgPSBmbG93UG9zaXRpb24ucG9zaXRpb25zLmZpbHRlcihcbiAgICAgICAgICAgICAgKHBvcywgaSkgPT5cbiAgICAgICAgICAgICAgICByZXBlYXRlZEluZGljZXMuaW5jbHVkZXMoaSkgfHwgIXJlbW92ZWRJbmRpY2VzLmluY2x1ZGVzKGkpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChmbG93UG9zaXRpb24uYnJlYWtBZnRlciA9PT0gXCJjb2x1bW5cIikge1xuICAgICAgICAgICAgICBmbG93UG9zaXRpb24uYnJlYWtBZnRlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2x1bW4uc2F2ZURpc3RhbmNlVG9CbG9ja0VuZEZsb2F0cygpO1xuICAgICAgICAgICAgY29uc3QgZWRnZSA9IGNvbHVtbi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmdldE1heFJlYWNoZWRBZnRlckVkZ2UoKTtcbiAgICAgICAgICAgIGNvbHVtbi51cGRhdGVNYXhSZWFjaGVkQWZ0ZXJFZGdlKGVkZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGNyZWF0ZUxheW91dENvbnN0cmFpbnQoXG4gICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICApOiBMYXlvdXRUeXBlLkxheW91dENvbnN0cmFpbnQge1xuICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uLnBhZ2UgLSAxO1xuICAgIGNvbnN0IGNvdW50ZXJDb25zdHJhaW50ID0gdGhpcy5jb3VudGVyU3RvcmUuY3JlYXRlTGF5b3V0Q29uc3RyYWludChcbiAgICAgIHBhZ2VJbmRleCxcbiAgICApO1xuICAgIHJldHVybiBuZXcgTGF5b3V0LkFsbExheW91dENvbnN0cmFpbnQoXG4gICAgICBbY291bnRlckNvbnN0cmFpbnRdLmNvbmNhdChwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmdldExheW91dENvbnN0cmFpbnRzKCkpLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUFuZExheW91dENvbHVtbihcbiAgICBib3hJbnN0YW5jZTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2UsXG4gICAgb2Zmc2V0WDogbnVtYmVyLFxuICAgIG9mZnNldFk6IG51bWJlcixcbiAgICBleGNsdXNpb25zOiBHZW9tZXRyeVV0aWwuU2hhcGVbXSxcbiAgICBsYXlvdXRDb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBjdXJyZW50Q29sdW1uSW5kZXg6IG51bWJlcixcbiAgICBmbG93TmFtZVN0cjogc3RyaW5nLFxuICAgIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICBjb2x1bW5Db3VudDogbnVtYmVyLFxuICAgIGNvbHVtbkdhcDogbnVtYmVyLFxuICAgIGNvbHVtbldpZHRoOiBudW1iZXIsXG4gICAgaW5uZXJTaGFwZTogR2VvbWV0cnlVdGlsLlNoYXBlLFxuICAgIGxheW91dENvbnRleHQ6IFZ0cmVlLkxheW91dENvbnRleHQsXG4gICAgZm9yY2VOb25GaXR0aW5nOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxMYXlvdXRUeXBlLkNvbHVtbj4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGRvbnRBcHBseUV4Y2x1c2lvbnMgPSBib3hJbnN0YW5jZS52ZXJ0aWNhbFxuICAgICAgPyBib3hJbnN0YW5jZS5pc0F1dG9XaWR0aCAmJiBib3hJbnN0YW5jZS5pc1JpZ2h0RGVwZW5kZW50T25BdXRvV2lkdGhcbiAgICAgIDogYm94SW5zdGFuY2UuaXNBdXRvSGVpZ2h0ICYmIGJveEluc3RhbmNlLmlzVG9wRGVwZW5kZW50T25BdXRvSGVpZ2h0O1xuICAgIGNvbnN0IGJveENvbnRhaW5lciA9IGxheW91dENvbnRhaW5lci5lbGVtZW50O1xuICAgIGNvbnN0IGNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHQgPSBuZXcgUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgIFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuQ09MVU1OLFxuICAgICAgbnVsbCxcbiAgICAgIGZsb3dOYW1lU3RyLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICk7XG4gICAgY29uc3QgcG9zaXRpb25BdENvbHVtblN0YXJ0ID0gc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24uY2xvbmUoKTtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxMYXlvdXRUeXBlLkNvbHVtbj4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJjcmVhdGVBbmRMYXlvdXRDb2x1bW5cIixcbiAgICApO1xuICAgIGxldCBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uO1xuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IGxheW91dENvbnN0cmFpbnQgPSBzZWxmLmNyZWF0ZUxheW91dENvbnN0cmFpbnQoXG4gICAgICAgICAgY29sdW1uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGNvbHVtbkNvdW50ID4gMSkge1xuICAgICAgICAgIGNvbnN0IGNvbHVtbkNvbnRhaW5lciA9IHNlbGYudmlld3BvcnQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbHVtbkNvbnRhaW5lciwgXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpO1xuICAgICAgICAgIGJveENvbnRhaW5lci5hcHBlbmRDaGlsZChjb2x1bW5Db250YWluZXIpO1xuICAgICAgICAgIGNvbHVtbiA9IG5ldyBMYXlvdXQuQ29sdW1uKFxuICAgICAgICAgICAgY29sdW1uQ29udGFpbmVyLFxuICAgICAgICAgICAgbGF5b3V0Q29udGV4dCxcbiAgICAgICAgICAgIHNlbGYuY2xpZW50TGF5b3V0LFxuICAgICAgICAgICAgbGF5b3V0Q29uc3RyYWludCxcbiAgICAgICAgICAgIGNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb2x1bW4uZm9yY2VOb25maXR0aW5nID0gZm9yY2VOb25GaXR0aW5nO1xuICAgICAgICAgIGNvbHVtbi52ZXJ0aWNhbCA9IGxheW91dENvbnRhaW5lci52ZXJ0aWNhbDtcbiAgICAgICAgICBjb2x1bW4uc25hcEhlaWdodCA9IGxheW91dENvbnRhaW5lci5zbmFwSGVpZ2h0O1xuICAgICAgICAgIGNvbHVtbi5zbmFwV2lkdGggPSBsYXlvdXRDb250YWluZXIuc25hcFdpZHRoO1xuICAgICAgICAgIGlmIChsYXlvdXRDb250YWluZXIudmVydGljYWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbHVtblkgPVxuICAgICAgICAgICAgICBjdXJyZW50Q29sdW1uSW5kZXggKiAoY29sdW1uV2lkdGggKyBjb2x1bW5HYXApICtcbiAgICAgICAgICAgICAgbGF5b3V0Q29udGFpbmVyLnBhZGRpbmdUb3A7XG4gICAgICAgICAgICBjb2x1bW4uc2V0SG9yaXpvbnRhbFBvc2l0aW9uKFxuICAgICAgICAgICAgICBsYXlvdXRDb250YWluZXIucGFkZGluZ0xlZnQsXG4gICAgICAgICAgICAgIGxheW91dENvbnRhaW5lci53aWR0aCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb2x1bW4uc2V0VmVydGljYWxQb3NpdGlvbihjb2x1bW5ZLCBjb2x1bW5XaWR0aCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbHVtblggPVxuICAgICAgICAgICAgICBjdXJyZW50Q29sdW1uSW5kZXggKiAoY29sdW1uV2lkdGggKyBjb2x1bW5HYXApICtcbiAgICAgICAgICAgICAgbGF5b3V0Q29udGFpbmVyLnBhZGRpbmdMZWZ0O1xuICAgICAgICAgICAgY29sdW1uLnNldFZlcnRpY2FsUG9zaXRpb24oXG4gICAgICAgICAgICAgIGxheW91dENvbnRhaW5lci5wYWRkaW5nVG9wLFxuICAgICAgICAgICAgICBsYXlvdXRDb250YWluZXIuaGVpZ2h0LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbHVtbi5zZXRIb3Jpem9udGFsUG9zaXRpb24oY29sdW1uWCwgY29sdW1uV2lkdGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb2x1bW4ub3JpZ2luWCA9IG9mZnNldFg7XG4gICAgICAgICAgY29sdW1uLm9yaWdpblkgPSBvZmZzZXRZO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbHVtbiA9IG5ldyBMYXlvdXQuQ29sdW1uKFxuICAgICAgICAgICAgYm94Q29udGFpbmVyLFxuICAgICAgICAgICAgbGF5b3V0Q29udGV4dCxcbiAgICAgICAgICAgIHNlbGYuY2xpZW50TGF5b3V0LFxuICAgICAgICAgICAgbGF5b3V0Q29uc3RyYWludCxcbiAgICAgICAgICAgIGNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb2x1bW4uY29weUZyb20obGF5b3V0Q29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBjb2x1bW4uZXhjbHVzaW9ucyA9IGRvbnRBcHBseUV4Y2x1c2lvbnMgPyBbXSA6IGV4Y2x1c2lvbnMuY29uY2F0KCk7XG4gICAgICAgIGNvbHVtbi5pbm5lclNoYXBlID0gaW5uZXJTaGFwZTtcbiAgICAgICAgY29sdW1uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5zZXRDb250YWluZXIoY29sdW1uKTtcbiAgICAgICAgaWYgKGNvbHVtbi53aWR0aCA+PSAwKSB7XG4gICAgICAgICAgLy8gY29sdW1uLmVsZW1lbnQuc3R5bGUub3V0bGluZSA9IFwiMXB4IGRvdHRlZCBncmVlblwiO1xuICAgICAgICAgIHNlbGYubGF5b3V0Q29sdW1uKGNvbHVtbiwgZmxvd05hbWVTdHIpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFjb2x1bW5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICAgICAgICBjb2x1bW5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LmZpbmlzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBjb2x1bW4ucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkgJiZcbiAgICAgICAgICAgICAgIXJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29sdW1uLnBhZ2VGbG9hdExheW91dENvbnRleHQudmFsaWRhdGUoKTtcbiAgICAgICAgICAgICAgc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24gPSBwb3NpdGlvbkF0Q29sdW1uU3RhcnQuY2xvbmUoKTtcbiAgICAgICAgICAgICAgaWYgKGNvbHVtbi5lbGVtZW50ICE9PSBib3hDb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICBib3hDb250YWluZXIucmVtb3ZlQ2hpbGQoY29sdW1uLmVsZW1lbnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb2x1bW5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LmZpbmlzaCgpO1xuICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKGNvbHVtbik7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBzZXRQYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dENvbnRhaW5lcihcbiAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgIGJveEluc3RhbmNlOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSxcbiAgICBsYXlvdXRDb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgKSB7XG4gICAgaWYgKFxuICAgICAgYm94SW5zdGFuY2UgaW5zdGFuY2VvZiBDc3NQYWdlLlBhZ2VSdWxlUGFydGl0aW9uSW5zdGFuY2UgfHxcbiAgICAgIChib3hJbnN0YW5jZSBpbnN0YW5jZW9mIFBhZ2VNYXN0ZXIuUGFnZU1hc3Rlckluc3RhbmNlICYmXG4gICAgICAgICEoYm94SW5zdGFuY2UgaW5zdGFuY2VvZiBDc3NQYWdlLlBhZ2VSdWxlTWFzdGVySW5zdGFuY2UpKVxuICAgICkge1xuICAgICAgcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQuc2V0Q29udGFpbmVyKGxheW91dENvbnRhaW5lcik7XG4gICAgfVxuICB9XG5cbiAgZ2V0UmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dChcbiAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgIGJveEluc3RhbmNlOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSxcbiAgICBsYXlvdXRDb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBmbG93TmFtZTogc3RyaW5nLFxuICApOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQge1xuICAgIEFzc2VydHMuYXNzZXJ0KGJveEluc3RhbmNlIGluc3RhbmNlb2YgUGFnZU1hc3Rlci5QYXJ0aXRpb25JbnN0YW5jZSk7XG4gICAgY29uc3Qgd3JpdGluZ01vZGUgPSBib3hJbnN0YW5jZS5nZXRQcm9wKHRoaXMsIFwid3JpdGluZy1tb2RlXCIpIHx8IG51bGw7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gYm94SW5zdGFuY2UuZ2V0UHJvcCh0aGlzLCBcImRpcmVjdGlvblwiKSB8fCBudWxsO1xuICAgIHJldHVybiBuZXcgUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgICAgcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLlJFR0lPTixcbiAgICAgIGxheW91dENvbnRhaW5lcixcbiAgICAgIGZsb3dOYW1lLFxuICAgICAgbnVsbCxcbiAgICAgIHdyaXRpbmdNb2RlLFxuICAgICAgZGlyZWN0aW9uLFxuICAgICk7XG4gIH1cblxuICBsYXlvdXRGbG93Q29sdW1uc1dpdGhCYWxhbmNpbmcoXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBib3hJbnN0YW5jZTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2UsXG4gICAgb2Zmc2V0WDogbnVtYmVyLFxuICAgIG9mZnNldFk6IG51bWJlcixcbiAgICBleGNsdXNpb25zOiBHZW9tZXRyeVV0aWwuU2hhcGVbXSxcbiAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgIGxheW91dENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIGZsb3dOYW1lU3RyOiBzdHJpbmcsXG4gICAgY29sdW1uQ291bnQ6IG51bWJlcixcbiAgKTogVGFzay5SZXN1bHQ8TGF5b3V0VHlwZS5Db2x1bW5bXT4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IHBvc2l0aW9uQXRDb250YWluZXJTdGFydCA9IHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uLmNsb25lKCk7XG4gICAgY29uc3QgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCA9IHNlbGYuZ2V0UmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dChcbiAgICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgYm94SW5zdGFuY2UsXG4gICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgICBmbG93TmFtZVN0cixcbiAgICApO1xuICAgIGxldCBpc0ZpcnN0VGltZSA9IHRydWU7XG5cbiAgICBmdW5jdGlvbiBsYXlvdXRDb2x1bW5zKCkge1xuICAgICAgc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24gPSBwb3NpdGlvbkF0Q29udGFpbmVyU3RhcnQuY2xvbmUoKTtcbiAgICAgIHJldHVybiBzZWxmXG4gICAgICAgIC5sYXlvdXRGbG93Q29sdW1ucyhcbiAgICAgICAgICBwYWdlLFxuICAgICAgICAgIGJveEluc3RhbmNlLFxuICAgICAgICAgIG9mZnNldFgsXG4gICAgICAgICAgb2Zmc2V0WSxcbiAgICAgICAgICBleGNsdXNpb25zLFxuICAgICAgICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgICAgIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICAgICAgbGF5b3V0Q29udGFpbmVyLFxuICAgICAgICAgIGZsb3dOYW1lU3RyLFxuICAgICAgICAgIGNvbHVtbkNvdW50LFxuICAgICAgICAgIGlzRmlyc3RUaW1lLFxuICAgICAgICApXG4gICAgICAgIC50aGVuQXN5bmMoKGNvbHVtbnMpID0+IHtcbiAgICAgICAgICBpZiAoY29sdW1ucykge1xuICAgICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHtcbiAgICAgICAgICAgICAgY29sdW1ucyxcbiAgICAgICAgICAgICAgcG9zaXRpb246IHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbGF5b3V0Q29sdW1ucygpLnRoZW5Bc3luYygoZ2VuZXJhdG9yUmVzdWx0KSA9PiB7XG4gICAgICBpZiAoIWdlbmVyYXRvclJlc3VsdCkge1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCk7XG4gICAgICB9XG4gICAgICBpZiAoY29sdW1uQ291bnQgPD0gMSkge1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZ2VuZXJhdG9yUmVzdWx0LmNvbHVtbnMpO1xuICAgICAgfVxuICAgICAgY29uc3QgY29sdW1uRmlsbCA9XG4gICAgICAgIChib3hJbnN0YW5jZS5nZXRQcm9wKHNlbGYsIFwiY29sdW1uLWZpbGxcIikgYXMgQ3NzLklkZW50KSB8fFxuICAgICAgICBDc3MuaWRlbnQuYmFsYW5jZTtcbiAgICAgIGNvbnN0IGZsb3dQb3NpdGlvbiA9XG4gICAgICAgIHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVTdHJdO1xuICAgICAgQXNzZXJ0cy5hc3NlcnQoZmxvd1Bvc2l0aW9uKTtcbiAgICAgIGNvbnN0IGNvbHVtbkJhbGFuY2VyID0gQ29sdW1ucy5jcmVhdGVDb2x1bW5CYWxhbmNlcihcbiAgICAgICAgY29sdW1uQ291bnQsXG4gICAgICAgIGNvbHVtbkZpbGwsXG4gICAgICAgIGxheW91dENvbHVtbnMsXG4gICAgICAgIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICAgIGxheW91dENvbnRhaW5lcixcbiAgICAgICAgZ2VuZXJhdG9yUmVzdWx0LmNvbHVtbnMsXG4gICAgICAgIGZsb3dQb3NpdGlvbixcbiAgICAgICk7XG4gICAgICBpZiAoIWNvbHVtbkJhbGFuY2VyKSB7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChnZW5lcmF0b3JSZXN1bHQuY29sdW1ucyk7XG4gICAgICB9XG4gICAgICBpc0ZpcnN0VGltZSA9IGZhbHNlO1xuICAgICAgcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQubG9jaygpO1xuICAgICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5sb2NrKCk7XG4gICAgICByZXR1cm4gY29sdW1uQmFsYW5jZXJcbiAgICAgICAgLmJhbGFuY2VDb2x1bW5zKGdlbmVyYXRvclJlc3VsdClcbiAgICAgICAgLnRoZW5Bc3luYygocmVzdWx0KSA9PiB7XG4gICAgICAgICAgcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQudW5sb2NrKCk7XG4gICAgICAgICAgcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQudmFsaWRhdGUoKTtcbiAgICAgICAgICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LnVubG9jaygpO1xuICAgICAgICAgIHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uID0gcmVzdWx0LnBvc2l0aW9uO1xuICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChyZXN1bHQuY29sdW1ucyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgbGF5b3V0Rmxvd0NvbHVtbnMoXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBib3hJbnN0YW5jZTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2UsXG4gICAgb2Zmc2V0WDogbnVtYmVyLFxuICAgIG9mZnNldFk6IG51bWJlcixcbiAgICBleGNsdXNpb25zOiBHZW9tZXRyeVV0aWwuU2hhcGVbXSxcbiAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICBsYXlvdXRDb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBmbG93TmFtZVN0cjogc3RyaW5nLFxuICAgIGNvbHVtbkNvdW50OiBudW1iZXIsXG4gICAgZm9yY2VOb25GaXR0aW5nOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxMYXlvdXRUeXBlLkNvbHVtbltdIHwgbnVsbD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPExheW91dFR5cGUuQ29sdW1uW10gfCBudWxsPiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcImxheW91dEZsb3dDb2x1bW5zXCIsXG4gICAgKTtcbiAgICBjb25zdCBwb3NpdGlvbkF0Q29udGFpbmVyU3RhcnQgPSBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5jbG9uZSgpO1xuICAgIGNvbnN0IGNvbHVtbkdhcCA9IGJveEluc3RhbmNlLmdldFByb3BBc051bWJlcihzZWxmLCBcImNvbHVtbi1nYXBcIik7XG5cbiAgICAvLyBEb24ndCBxdWVyeSBjb2x1bW5XaWR0aCB3aGVuIGl0J3Mgbm90IG5lZWRlZCwgc28gdGhhdCB3aWR0aCBjYWxjdWxhdGlvblxuICAgIC8vIGNhbiBiZSBkZWxheWVkIGZvciB3aWR0aDogYXV0byBjb2x1bW5zLlxuICAgIGNvbnN0IGNvbHVtbldpZHRoID1cbiAgICAgIGNvbHVtbkNvdW50ID4gMVxuICAgICAgICA/IGJveEluc3RhbmNlLmdldFByb3BBc051bWJlcihzZWxmLCBcImNvbHVtbi13aWR0aFwiKVxuICAgICAgICA6IGxheW91dENvbnRhaW5lci53aWR0aDtcbiAgICBjb25zdCByZWdpb25JZHMgPSBib3hJbnN0YW5jZS5nZXRBY3RpdmVSZWdpb25zKHNlbGYpO1xuICAgIGNvbnN0IGlubmVyU2hhcGVWYWwgPSBib3hJbnN0YW5jZS5nZXRQcm9wKHNlbGYsIFwic2hhcGUtaW5zaWRlXCIpO1xuICAgIGNvbnN0IGlubmVyU2hhcGUgPSBDc3NQcm9wLnRvU2hhcGUoXG4gICAgICBpbm5lclNoYXBlVmFsLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICBsYXlvdXRDb250YWluZXIud2lkdGgsXG4gICAgICBsYXlvdXRDb250YWluZXIuaGVpZ2h0LFxuICAgICAgc2VsZixcbiAgICApO1xuICAgIGNvbnN0IGxheW91dENvbnRleHQgPSBuZXcgVmdlbi5WaWV3RmFjdG9yeShcbiAgICAgIGZsb3dOYW1lU3RyLFxuICAgICAgc2VsZixcbiAgICAgIHNlbGYudmlld3BvcnQsXG4gICAgICBzZWxmLnN0eWxlcixcbiAgICAgIHJlZ2lvbklkcyxcbiAgICAgIHNlbGYueG1sZG9jLFxuICAgICAgc2VsZi5mYWNlcyxcbiAgICAgIHNlbGYuc3R5bGUuZm9vdG5vdGVQcm9wcyxcbiAgICAgIHNlbGYsXG4gICAgICBwYWdlLFxuICAgICAgc2VsZi5jdXN0b21SZW5kZXJlcixcbiAgICAgIHNlbGYuZmFsbGJhY2tNYXAsXG4gICAgICB0aGlzLmRvY3VtZW50VVJMVHJhbnNmb3JtZXIsXG4gICAgKTtcbiAgICBsZXQgY29sdW1uSW5kZXggPSAwO1xuICAgIGxldCBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uID0gbnVsbDtcbiAgICBsZXQgY29sdW1uczogTGF5b3V0VHlwZS5Db2x1bW5bXSA9IFtdO1xuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgIHNlbGZcbiAgICAgICAgICAuY3JlYXRlQW5kTGF5b3V0Q29sdW1uKFxuICAgICAgICAgICAgYm94SW5zdGFuY2UsXG4gICAgICAgICAgICBvZmZzZXRYLFxuICAgICAgICAgICAgb2Zmc2V0WSxcbiAgICAgICAgICAgIGV4Y2x1c2lvbnMsXG4gICAgICAgICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgICAgICAgICBjb2x1bW5JbmRleCsrLFxuICAgICAgICAgICAgZmxvd05hbWVTdHIsXG4gICAgICAgICAgICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgICAgICAgY29sdW1uQ291bnQsXG4gICAgICAgICAgICBjb2x1bW5HYXAsXG4gICAgICAgICAgICBjb2x1bW5XaWR0aCxcbiAgICAgICAgICAgIGlubmVyU2hhcGUsXG4gICAgICAgICAgICBsYXlvdXRDb250ZXh0LFxuICAgICAgICAgICAgZm9yY2VOb25GaXR0aW5nLFxuICAgICAgICAgIClcbiAgICAgICAgICAudGhlbigoYykgPT4ge1xuICAgICAgICAgICAgaWYgKHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICAgICAgICBjb2x1bW5zID0gbnVsbDtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmb3JjZWRSZWdpb25CcmVhayA9XG4gICAgICAgICAgICAgICEhYy5wYWdlQnJlYWtUeXBlICYmIGMucGFnZUJyZWFrVHlwZSAhPT0gXCJjb2x1bW5cIjtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKGZvcmNlZFJlZ2lvbkJyZWFrIHx8IGNvbHVtbkluZGV4ID09PSBjb2x1bW5Db3VudCkgJiZcbiAgICAgICAgICAgICAgIXJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5maW5pc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICAgICAgICBjb2x1bW5JbmRleCA9IDA7XG4gICAgICAgICAgICAgIHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uID0gcG9zaXRpb25BdENvbnRhaW5lclN0YXJ0LmNsb25lKCk7XG4gICAgICAgICAgICAgIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQudmFsaWRhdGUoKTtcbiAgICAgICAgICAgICAgaWYgKHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQuaXNMb2NrZWQoKSkge1xuICAgICAgICAgICAgICAgIGNvbHVtbnMgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29sdW1uID0gYztcbiAgICAgICAgICAgIGNvbHVtbnNbY29sdW1uSW5kZXggLSAxXSA9IGNvbHVtbjtcbiAgICAgICAgICAgIGlmIChjb2x1bW4ucGFnZUJyZWFrVHlwZSkge1xuICAgICAgICAgICAgICBpZiAoY29sdW1uLnBhZ2VCcmVha1R5cGUgIT0gXCJjb2x1bW5cIikge1xuICAgICAgICAgICAgICAgIC8vIHNraXAgcmVtYWluaW5nIGNvbHVtbnNcbiAgICAgICAgICAgICAgICBjb2x1bW5JbmRleCA9IGNvbHVtbkNvdW50O1xuICAgICAgICAgICAgICAgIGlmIChjb2x1bW4ucGFnZUJyZWFrVHlwZSAhPSBcInJlZ2lvblwiKSB7XG4gICAgICAgICAgICAgICAgICAvLyBza2lwIHJlbWFpbmluZyByZWdpb25zXG4gICAgICAgICAgICAgICAgICBzZWxmLnBhZ2VCcmVha3NbZmxvd05hbWVTdHJdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb2x1bW5JbmRleCA8IGNvbHVtbkNvdW50KSB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChjb2x1bW5zKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGhvbGRpbmcgdHJ1ZVxuICAgKi9cbiAgbGF5b3V0Q29udGFpbmVyKFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgYm94SW5zdGFuY2U6IFBhZ2VNYXN0ZXIuUGFnZUJveEluc3RhbmNlLFxuICAgIHBhcmVudENvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgb2Zmc2V0WDogbnVtYmVyLFxuICAgIG9mZnNldFk6IG51bWJlcixcbiAgICBleGNsdXNpb25zOiBHZW9tZXRyeVV0aWwuU2hhcGVbXSxcbiAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgYm94SW5zdGFuY2UucmVzZXQoKTtcbiAgICBjb25zdCBlbmFibGVkID0gYm94SW5zdGFuY2UuZ2V0UHJvcChzZWxmLCBcImVuYWJsZWRcIik7XG4gICAgaWYgKGVuYWJsZWQgJiYgZW5hYmxlZCAhPT0gQ3NzLmlkZW50Ll90cnVlKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImxheW91dENvbnRhaW5lclwiKTtcbiAgICBjb25zdCB3cmFwRmxvdyA9IGJveEluc3RhbmNlLmdldFByb3Aoc2VsZiwgXCJ3cmFwLWZsb3dcIik7XG4gICAgY29uc3QgZG9udEV4Y2x1ZGUgPSB3cmFwRmxvdyA9PT0gQ3NzLmlkZW50LmF1dG87XG4gICAgY29uc3QgZmxvd05hbWUgPSBib3hJbnN0YW5jZS5nZXRQcm9wKHNlbGYsIFwiZmxvdy1mcm9tXCIpO1xuICAgIGNvbnN0IGJveENvbnRhaW5lciA9IHNlbGYudmlld3BvcnQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCBwb3NpdGlvbiA9IGJveEluc3RhbmNlLmdldFByb3Aoc2VsZiwgXCJwb3NpdGlvblwiKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgYm94Q29udGFpbmVyLFxuICAgICAgXCJwb3NpdGlvblwiLFxuICAgICAgcG9zaXRpb24gPyAocG9zaXRpb24gYXMgYW55KS5uYW1lIDogXCJhYnNvbHV0ZVwiLFxuICAgICk7XG4gICAgcGFyZW50Q29udGFpbmVyLmluc2VydEJlZm9yZShib3hDb250YWluZXIsIHBhcmVudENvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICBsZXQgbGF5b3V0Q29udGFpbmVyID0gbmV3IFZ0cmVlLkNvbnRhaW5lcihib3hDb250YWluZXIpO1xuICAgIGxheW91dENvbnRhaW5lci52ZXJ0aWNhbCA9IGJveEluc3RhbmNlLnZlcnRpY2FsO1xuICAgIGxheW91dENvbnRhaW5lci5leGNsdXNpb25zID0gZXhjbHVzaW9ucztcbiAgICBib3hJbnN0YW5jZS5wcmVwYXJlQ29udGFpbmVyKFxuICAgICAgc2VsZixcbiAgICAgIGxheW91dENvbnRhaW5lcixcbiAgICAgIHBhZ2UsXG4gICAgICBzZWxmLmZhY2VzLFxuICAgICAgc2VsZi5jbGllbnRMYXlvdXQsXG4gICAgKTtcbiAgICBsYXlvdXRDb250YWluZXIub3JpZ2luWCA9IG9mZnNldFg7XG4gICAgbGF5b3V0Q29udGFpbmVyLm9yaWdpblkgPSBvZmZzZXRZO1xuICAgIG9mZnNldFggKz1cbiAgICAgIGxheW91dENvbnRhaW5lci5sZWZ0ICtcbiAgICAgIGxheW91dENvbnRhaW5lci5tYXJnaW5MZWZ0ICtcbiAgICAgIGxheW91dENvbnRhaW5lci5ib3JkZXJMZWZ0O1xuICAgIG9mZnNldFkgKz1cbiAgICAgIGxheW91dENvbnRhaW5lci50b3AgK1xuICAgICAgbGF5b3V0Q29udGFpbmVyLm1hcmdpblRvcCArXG4gICAgICBsYXlvdXRDb250YWluZXIuYm9yZGVyVG9wO1xuICAgIHRoaXMuc2V0UGFnZVBhZ2VGbG9hdExheW91dENvbnRleHRDb250YWluZXIoXG4gICAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgIGJveEluc3RhbmNlLFxuICAgICAgbGF5b3V0Q29udGFpbmVyLFxuICAgICk7XG4gICAgbGV0IGNvbnQ6IFRhc2suUmVzdWx0PGJvb2xlYW4+O1xuICAgIGxldCByZW1vdmVkID0gZmFsc2U7XG4gICAgaWYgKCFmbG93TmFtZSB8fCAhZmxvd05hbWUuaXNJZGVudCgpKSB7XG4gICAgICBjb25zdCBjb250ZW50VmFsID0gYm94SW5zdGFuY2UuZ2V0UHJvcChzZWxmLCBcImNvbnRlbnRcIik7XG4gICAgICBpZiAoY29udGVudFZhbCAmJiBWdHJlZS5ub25Ucml2aWFsQ29udGVudChjb250ZW50VmFsKSkge1xuICAgICAgICBsZXQgaW5uZXJDb250YWluZXJUYWcgPSBcInNwYW5cIjtcbiAgICAgICAgaWYgKChjb250ZW50VmFsIGFzIGFueSkudXJsKSB7XG4gICAgICAgICAgaW5uZXJDb250YWluZXJUYWcgPSBcImltZ1wiO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlubmVyQ29udGFpbmVyID0gc2VsZi52aWV3cG9ydC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIGlubmVyQ29udGFpbmVyVGFnLFxuICAgICAgICApO1xuICAgICAgICBjb250ZW50VmFsLnZpc2l0KFxuICAgICAgICAgIG5ldyBWdHJlZS5Db250ZW50UHJvcGVydHlIYW5kbGVyKFxuICAgICAgICAgICAgaW5uZXJDb250YWluZXIsXG4gICAgICAgICAgICBzZWxmLFxuICAgICAgICAgICAgY29udGVudFZhbCxcbiAgICAgICAgICAgIHNlbGYuY291bnRlclN0b3JlLmdldEV4cHJDb250ZW50TGlzdGVuZXIoKSxcbiAgICAgICAgICApLFxuICAgICAgICApO1xuICAgICAgICBib3hDb250YWluZXIuYXBwZW5kQ2hpbGQoaW5uZXJDb250YWluZXIpO1xuICAgICAgICBpZiAoaW5uZXJDb250YWluZXJUYWcgPT0gXCJpbWdcIikge1xuICAgICAgICAgIGJveEluc3RhbmNlLnRyYW5zZmVyU2luZ2xVcmlDb250ZW50UHJvcHMoXG4gICAgICAgICAgICBzZWxmLFxuICAgICAgICAgICAgaW5uZXJDb250YWluZXIsXG4gICAgICAgICAgICBzZWxmLmZhY2VzLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYm94SW5zdGFuY2UudHJhbnNmZXJDb250ZW50UHJvcHMoXG4gICAgICAgICAgc2VsZixcbiAgICAgICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgICAgICAgcGFnZSxcbiAgICAgICAgICBzZWxmLmZhY2VzLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChib3hJbnN0YW5jZS5zdXBwcmVzc0VtcHR5Qm94R2VuZXJhdGlvbikge1xuICAgICAgICBwYXJlbnRDb250YWluZXIucmVtb3ZlQ2hpbGQoYm94Q29udGFpbmVyKTtcbiAgICAgICAgcmVtb3ZlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoIXJlbW92ZWQpIHtcbiAgICAgICAgYm94SW5zdGFuY2UuZmluaXNoQ29udGFpbmVyKFxuICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgbGF5b3V0Q29udGFpbmVyLFxuICAgICAgICAgIHBhZ2UsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICAxLFxuICAgICAgICAgIHNlbGYuY2xpZW50TGF5b3V0LFxuICAgICAgICAgIHNlbGYuZmFjZXMsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb250ID0gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfSBlbHNlIGlmICghc2VsZi5wYWdlQnJlYWtzW2Zsb3dOYW1lLnRvU3RyaW5nKCldKSB7XG4gICAgICBjb25zdCBpbm5lckZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgICAgXCJsYXlvdXRDb250YWluZXIuaW5uZXJcIixcbiAgICAgICk7XG4gICAgICBjb25zdCBmbG93TmFtZVN0ciA9IGZsb3dOYW1lLnRvU3RyaW5nKCk7XG5cbiAgICAgIC8vIGZvciBub3cgb25seSBhIHNpbmdsZSBjb2x1bW4gaW4gdmVydGljYWwgY2FzZVxuICAgICAgY29uc3QgY29sdW1uQ291bnQgPSBib3hJbnN0YW5jZS5nZXRQcm9wQXNOdW1iZXIoc2VsZiwgXCJjb2x1bW4tY291bnRcIik7XG4gICAgICBzZWxmXG4gICAgICAgIC5sYXlvdXRGbG93Q29sdW1uc1dpdGhCYWxhbmNpbmcoXG4gICAgICAgICAgcGFnZSxcbiAgICAgICAgICBib3hJbnN0YW5jZSxcbiAgICAgICAgICBvZmZzZXRYLFxuICAgICAgICAgIG9mZnNldFksXG4gICAgICAgICAgZXhjbHVzaW9ucyxcbiAgICAgICAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgICAgICAgZmxvd05hbWVTdHIsXG4gICAgICAgICAgY29sdW1uQ291bnQsXG4gICAgICAgIClcbiAgICAgICAgLnRoZW4oKGNvbHVtbnMpID0+IHtcbiAgICAgICAgICBpZiAoIXBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICAgICAgY29uc3QgY29sdW1uID0gY29sdW1uc1swXTtcbiAgICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KGNvbHVtbik7XG4gICAgICAgICAgICBpZiAoY29sdW1uLmVsZW1lbnQgPT09IGJveENvbnRhaW5lcikge1xuICAgICAgICAgICAgICBsYXlvdXRDb250YWluZXIgPSBjb2x1bW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXlvdXRDb250YWluZXIuY29tcHV0ZWRCbG9ja1NpemUgPSBNYXRoLm1heC5hcHBseShcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgY29sdW1ucy5tYXAoKGMpID0+IGMuY29tcHV0ZWRCbG9ja1NpemUpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJveEluc3RhbmNlLmZpbmlzaENvbnRhaW5lcihcbiAgICAgICAgICAgICAgc2VsZixcbiAgICAgICAgICAgICAgbGF5b3V0Q29udGFpbmVyLFxuICAgICAgICAgICAgICBwYWdlLFxuICAgICAgICAgICAgICBjb2x1bW4sXG4gICAgICAgICAgICAgIGNvbHVtbkNvdW50LFxuICAgICAgICAgICAgICBzZWxmLmNsaWVudExheW91dCxcbiAgICAgICAgICAgICAgc2VsZi5mYWNlcyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBmbG93UG9zaXRpb24gPVxuICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5mbG93UG9zaXRpb25zW2Zsb3dOYW1lU3RyXTtcbiAgICAgICAgICAgIGlmIChmbG93UG9zaXRpb24gJiYgZmxvd1Bvc2l0aW9uLmJyZWFrQWZ0ZXIgPT09IFwicmVnaW9uXCIpIHtcbiAgICAgICAgICAgICAgZmxvd1Bvc2l0aW9uLmJyZWFrQWZ0ZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpbm5lckZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICBjb250ID0gaW5uZXJGcmFtZS5yZXN1bHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgYm94SW5zdGFuY2UuZmluaXNoQ29udGFpbmVyKFxuICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgbGF5b3V0Q29udGFpbmVyLFxuICAgICAgICAgIHBhZ2UsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICAxLFxuICAgICAgICAgIHNlbGYuY2xpZW50TGF5b3V0LFxuICAgICAgICAgIHNlbGYuZmFjZXMsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb250ID0gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIGNvbnQudGhlbigoKSA9PiB7XG4gICAgICBpZiAocGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICAhYm94SW5zdGFuY2UuaXNBdXRvSGVpZ2h0IHx8XG4gICAgICAgIE1hdGguZmxvb3IobGF5b3V0Q29udGFpbmVyLmNvbXB1dGVkQmxvY2tTaXplKSA+IDBcbiAgICAgICkge1xuICAgICAgICBpZiAoIXJlbW92ZWQgJiYgIWRvbnRFeGNsdWRlKSB7XG4gICAgICAgICAgY29uc3Qgb3V0ZXJTaGFwZVByb3AgPSBib3hJbnN0YW5jZS5nZXRQcm9wKHNlbGYsIFwic2hhcGUtb3V0c2lkZVwiKTtcbiAgICAgICAgICBjb25zdCBvdXRlclNoYXBlID0gbGF5b3V0Q29udGFpbmVyLmdldE91dGVyU2hhcGUoXG4gICAgICAgICAgICBvdXRlclNoYXBlUHJvcCxcbiAgICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIFRob3VnaCBpdCBzZWVtcyB0aGF0IExTaGFwZUZsb2F0QnVnIHN0aWxsIGV4aXN0cyBpbiBGaXJlZm94LCBpdFxuICAgICAgICAgIC8vIGFwcGFyZW50bHkgZG9lcyBub3Qgb2NjdXIgb24gZXhjbHVzaW9uIGZsb2F0cy4gU2VlIHRoZSB0ZXN0IGZpbGU6XG4gICAgICAgICAgLy8gdGVzdC9maWxlcy9jb2x1bW4tYnJlYWstYnVnLmh0bWxcbiAgICAgICAgICAvLyBpZiAoQmFzZS5jaGVja0xTaGFwZUZsb2F0QnVnKHNlbGYudmlld3BvcnQucm9vdCkpIHtcbiAgICAgICAgICAvLyBcdC8vIFNpbXBsaXN0aWMgYnVnIHdvcmthcm91bmQ6IGFkZCBhIGNvcHkgb2YgdGhlIHNoYXBlIHRyYW5zbGF0ZWQgdXAuXG4gICAgICAgICAgLy8gICAgIGV4Y2x1c2lvbnMucHVzaChvdXRlclNoYXBlLndpdGhPZmZzZXQoMCwgLTEuMjUgKiBzZWxmLnF1ZXJ5VW5pdFNpemUoXCJlbVwiLCBmYWxzZSkpKTtcbiAgICAgICAgICAvLyB9XG4gICAgICAgICAgZXhjbHVzaW9ucy5wdXNoKG91dGVyU2hhcGUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGJveEluc3RhbmNlLmNoaWxkcmVuLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIHBhcmVudENvbnRhaW5lci5yZW1vdmVDaGlsZChib3hDb250YWluZXIpO1xuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCBpID0gYm94SW5zdGFuY2UuY2hpbGRyZW4ubGVuZ3RoIC0gMTtcbiAgICAgIGZyYW1lXG4gICAgICAgIC5sb29wKCgpID0+IHtcbiAgICAgICAgICB3aGlsZSAoaSA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IGJveEluc3RhbmNlLmNoaWxkcmVuW2ktLV07XG4gICAgICAgICAgICBjb25zdCByID0gc2VsZi5sYXlvdXRDb250YWluZXIoXG4gICAgICAgICAgICAgIHBhZ2UsXG4gICAgICAgICAgICAgIGNoaWxkLFxuICAgICAgICAgICAgICBib3hDb250YWluZXIgYXMgSFRNTEVsZW1lbnQsXG4gICAgICAgICAgICAgIG9mZnNldFgsXG4gICAgICAgICAgICAgIG9mZnNldFksXG4gICAgICAgICAgICAgIGV4Y2x1c2lvbnMsXG4gICAgICAgICAgICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChyLmlzUGVuZGluZygpKSB7XG4gICAgICAgICAgICAgIHJldHVybiByLnRoZW5Bc3luYygoKSA9PlxuICAgICAgICAgICAgICAgIFRhc2submV3UmVzdWx0KCFwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChmYWxzZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHByb2Nlc3NMaW5nZXIoKTogdm9pZCB7XG4gICAgY29uc3QgcGFnZU51bWJlciA9IHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uLnBhZ2U7XG4gICAgZm9yIChjb25zdCBmbG93TmFtZSBpbiB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5mbG93UG9zaXRpb25zKSB7XG4gICAgICBjb25zdCBmbG93UG9zaXRpb24gPSB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5mbG93UG9zaXRpb25zW2Zsb3dOYW1lXTtcbiAgICAgIGZvciAobGV0IGkgPSBmbG93UG9zaXRpb24ucG9zaXRpb25zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IGZsb3dQb3NpdGlvbi5wb3NpdGlvbnNbaV07XG4gICAgICAgIGlmIChcbiAgICAgICAgICBwb3MuZmxvd0NodW5rLnN0YXJ0UGFnZSA+PSAwICYmXG4gICAgICAgICAgcG9zLmZsb3dDaHVuay5zdGFydFBhZ2UgKyBwb3MuZmxvd0NodW5rLmxpbmdlciAtIDEgPD0gcGFnZU51bWJlclxuICAgICAgICApIHtcbiAgICAgICAgICBmbG93UG9zaXRpb24ucG9zaXRpb25zLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGluaXRMaW5nZXJpbmcoKTogdm9pZCB7XG4gICAgY29uc3QgcGFnZU51bWJlciA9IHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uLnBhZ2U7XG4gICAgZm9yIChjb25zdCBmbG93TmFtZSBpbiB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5mbG93UG9zaXRpb25zKSB7XG4gICAgICBjb25zdCBmbG93UG9zaXRpb24gPSB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5mbG93UG9zaXRpb25zW2Zsb3dOYW1lXTtcbiAgICAgIGZvciAobGV0IGkgPSBmbG93UG9zaXRpb24ucG9zaXRpb25zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IGZsb3dQb3NpdGlvbi5wb3NpdGlvbnNbaV07XG4gICAgICAgIGlmIChcbiAgICAgICAgICBwb3MuZmxvd0NodW5rLnN0YXJ0UGFnZSA8IDAgJiZcbiAgICAgICAgICBwb3MuZmxvd0NodW5rLnN0YXJ0T2Zmc2V0IDwgdGhpcy5sb29rdXBPZmZzZXRcbiAgICAgICAgKSB7XG4gICAgICAgICAgcG9zLmZsb3dDaHVuay5zdGFydFBhZ2UgPSBwYWdlTnVtYmVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbm9Nb3JlUHJpbWFyeUZsb3dzKGNwOiBWdHJlZS5MYXlvdXRQb3NpdGlvbik6IGJvb2xlYW4ge1xuICAgIGZvciAoY29uc3QgZmxvd05hbWUgaW4gdGhpcy5wcmltYXJ5Rmxvd3MpIHtcbiAgICAgIGNvbnN0IGZsb3dQb3NpdGlvbiA9IGNwLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVdO1xuICAgICAgaWYgKGZsb3dQb3NpdGlvbiAmJiBmbG93UG9zaXRpb24ucG9zaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGxheW91dE5leHRQYWdlKFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgY3A/OiBWdHJlZS5MYXlvdXRQb3NpdGlvbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTGF5b3V0UG9zaXRpb24+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIC8vIFRPQyBib3ggaXMgc3BlY2lhbCBwYWdlIGNvbnRhaW5lciwgbm8gcGFnaW5hdGlvblxuICAgIGNvbnN0IGlzVG9jQm94ID0gcGFnZS5jb250YWluZXIgPT09IHBhZ2UuYmxlZWRCb3g7XG5cbiAgICBzZWxmLnBhZ2VCcmVha3MgPSB7fTtcbiAgICBpZiAoY3ApIHtcbiAgICAgIHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uID0gY3AuY2xvbmUoKTtcbiAgICAgIHNlbGYuc3R5bGVyLnJlcGxheUZsb3dFbGVtZW50c0Zyb21PZmZzZXQoY3AuaGlnaGVzdFNlZW5PZmZzZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbiA9IG5ldyBWdHJlZS5MYXlvdXRQb3NpdGlvbigpO1xuICAgICAgc2VsZi5zdHlsZXIucmVwbGF5Rmxvd0VsZW1lbnRzRnJvbU9mZnNldCgtMSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmxhbmcpIHtcbiAgICAgIHBhZ2UuYmxlZWRCb3guc2V0QXR0cmlidXRlKFwibGFuZ1wiLCB0aGlzLmxhbmcpO1xuICAgIH1cbiAgICBjcCA9IHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uO1xuICAgIGNwLnBhZ2UrKztcbiAgICBzZWxmLmNsZWFyU2NvcGUoc2VsZi5zdHlsZS5wYWdlU2NvcGUpO1xuICAgIHNlbGYubGF5b3V0UG9zaXRpb25BdFBhZ2VTdGFydCA9IGNwLmNsb25lKCk7XG5cbiAgICAvLyBSZXNvbHZlIHBhZ2Ugc2l6ZSBiZWZvcmUgcGFnZSBtYXN0ZXIgc2VsZWN0aW9uLlxuICAgIGNvbnN0IGNhc2NhZGVkUGFnZVN0eWxlID0gaXNUb2NCb3hcbiAgICAgID8gKHt9IGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlKVxuICAgICAgOiBzZWxmLnBhZ2VNYW5hZ2VyLmdldENhc2NhZGVkUGFnZVN0eWxlKCk7XG4gICAgY29uc3QgcGFnZU1hc3RlciA9IHNlbGYuc2VsZWN0UGFnZU1hc3RlcihjYXNjYWRlZFBhZ2VTdHlsZSk7XG4gICAgaWYgKCFwYWdlTWFzdGVyKSB7XG4gICAgICAvLyBlbmQgb2YgcHJpbWFyeSBjb250ZW50XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCBhcyBWdHJlZS5MYXlvdXRQb3NpdGlvbik7XG4gICAgfVxuICAgIGxldCBibGVlZEJveFBhZGRpbmdFZGdlID0gMDtcbiAgICBpZiAoIWlzVG9jQm94KSB7XG4gICAgICBwYWdlLnNldEF1dG9QYWdlV2lkdGgoXG4gICAgICAgIHBhZ2VNYXN0ZXIucGFnZUJveC5zcGVjaWZpZWRbXCJ3aWR0aFwiXS52YWx1ZSA9PT0gQ3NzLmZ1bGxXaWR0aCxcbiAgICAgICk7XG4gICAgICBwYWdlLnNldEF1dG9QYWdlSGVpZ2h0KFxuICAgICAgICBwYWdlTWFzdGVyLnBhZ2VCb3guc3BlY2lmaWVkW1wiaGVpZ2h0XCJdLnZhbHVlID09PSBDc3MuZnVsbEhlaWdodCxcbiAgICAgICk7XG4gICAgICBzZWxmLmNvdW50ZXJTdG9yZS5zZXRDdXJyZW50UGFnZShwYWdlKTtcbiAgICAgIHNlbGYuY291bnRlclN0b3JlLnVwZGF0ZVBhZ2VDb3VudGVycyhjYXNjYWRlZFBhZ2VTdHlsZSwgc2VsZik7XG5cbiAgICAgIC8vIHNldHVwIGJsZWVkIGFyZWEgYW5kIGNyb3AgbWFya3NcbiAgICAgIGNvbnN0IGV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQgPSBDc3NQYWdlLmV2YWx1YXRlUGFnZVNpemVBbmRCbGVlZChcbiAgICAgICAgQ3NzUGFnZS5yZXNvbHZlUGFnZVNpemVBbmRCbGVlZChjYXNjYWRlZFBhZ2VTdHlsZSBhcyBhbnkpLFxuICAgICAgICB0aGlzLFxuICAgICAgKTtcbiAgICAgIHNlbGYuc2V0UGFnZVNpemVBbmRCbGVlZChldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLCBwYWdlKTtcbiAgICAgIENzc1BhZ2UuYWRkUHJpbnRlck1hcmtzKFxuICAgICAgICBjYXNjYWRlZFBhZ2VTdHlsZSxcbiAgICAgICAgZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZCxcbiAgICAgICAgcGFnZSxcbiAgICAgICAgdGhpcyxcbiAgICAgICk7XG4gICAgICBibGVlZEJveFBhZGRpbmdFZGdlID1cbiAgICAgICAgZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5ibGVlZE9mZnNldCArIGV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQuYmxlZWQ7XG4gICAgfVxuXG4gICAgY29uc3Qgd3JpdGluZ01vZGUgPVxuICAgICAgKCFpc1RvY0JveCAmJiBwYWdlTWFzdGVyLmdldFByb3Aoc2VsZiwgXCJ3cml0aW5nLW1vZGVcIikpIHx8XG4gICAgICBDc3MuaWRlbnQuaG9yaXpvbnRhbF90YjtcblxuICAgIHRoaXMucGFnZVZlcnRpY2FsID0gd3JpdGluZ01vZGUgIT0gQ3NzLmlkZW50Lmhvcml6b250YWxfdGI7XG5cbiAgICBjb25zdCBkaXJlY3Rpb24gPSBwYWdlTWFzdGVyLmdldFByb3Aoc2VsZiwgXCJkaXJlY3Rpb25cIikgfHwgQ3NzLmlkZW50Lmx0cjtcbiAgICBjb25zdCBwYWdlRmxvYXRMYXlvdXRDb250ZXh0ID0gbmV3IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dChcbiAgICAgIHNlbGYucm9vdFBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLlBBR0UsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICB3cml0aW5nTW9kZSxcbiAgICAgIGRpcmVjdGlvbixcbiAgICApO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLkxheW91dFBvc2l0aW9uPiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcImxheW91dE5leHRQYWdlXCIsXG4gICAgKTtcbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICAvLyBzZWxmLmxheW91dENvbnRhaW5lcihwYWdlLCBwYWdlTWFzdGVyLCBwYWdlLmJsZWVkQm94LCBibGVlZEJveFBhZGRpbmdFZGdlLCBibGVlZEJveFBhZGRpbmdFZGdlKzEsIC8vIENvbXBlbnNhdGUgJ3RvcDogLTFweCcgb24gcGFnZSBtYXN0ZXJcbiAgICAgICAgc2VsZlxuICAgICAgICAgIC5sYXlvdXRDb250YWluZXIoXG4gICAgICAgICAgICBwYWdlLFxuICAgICAgICAgICAgcGFnZU1hc3RlcixcbiAgICAgICAgICAgIHBhZ2UuYmxlZWRCb3gsXG4gICAgICAgICAgICBibGVlZEJveFBhZGRpbmdFZGdlLFxuICAgICAgICAgICAgYmxlZWRCb3hQYWRkaW5nRWRnZSxcbiAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgICAgICApXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmZpbmlzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICAgIHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uID0gc2VsZi5sYXlvdXRQb3NpdGlvbkF0UGFnZVN0YXJ0LmNsb25lKCk7XG4gICAgICAgICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQudmFsaWRhdGUoKTtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgcGFnZU1hc3Rlci5hZGp1c3RQYWdlTGF5b3V0KHNlbGYsIHBhZ2UsIHNlbGYuY2xpZW50TGF5b3V0KTtcbiAgICAgICAgaWYgKCFpc1RvY0JveCkge1xuICAgICAgICAgIGNvbnN0IGlzTGVmdFBhZ2UgPSBuZXcgRXhwcnMuTmFtZWQoXG4gICAgICAgICAgICBwYWdlTWFzdGVyLnBhZ2VCb3guc2NvcGUsXG4gICAgICAgICAgICBcImxlZnQtcGFnZVwiLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcGFnZS5zaWRlID0gaXNMZWZ0UGFnZS5ldmFsdWF0ZShzZWxmKVxuICAgICAgICAgICAgPyBDb25zdGFudHMuUGFnZVNpZGUuTEVGVFxuICAgICAgICAgICAgOiBDb25zdGFudHMuUGFnZVNpZGUuUklHSFQ7XG4gICAgICAgICAgc2VsZi5wcm9jZXNzTGluZ2VyKCk7XG4gICAgICAgICAgY3AgPSBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbjtcbiAgICAgICAgICBPYmplY3Qua2V5cyhjcC5mbG93UG9zaXRpb25zKS5mb3JFYWNoKChmbG93TmFtZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmxvd1Bvc2l0aW9uID0gY3AuZmxvd1Bvc2l0aW9uc1tmbG93TmFtZV07XG4gICAgICAgICAgICBjb25zdCBicmVha0FmdGVyID0gZmxvd1Bvc2l0aW9uLmJyZWFrQWZ0ZXI7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGJyZWFrQWZ0ZXIgJiZcbiAgICAgICAgICAgICAgKGJyZWFrQWZ0ZXIgPT09IFwicGFnZVwiIHx8ICFzZWxmLm1hdGNoUGFnZVNpZGUoYnJlYWtBZnRlcikpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgZmxvd1Bvc2l0aW9uLmJyZWFrQWZ0ZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uID0gc2VsZi5sYXlvdXRQb3NpdGlvbkF0UGFnZVN0YXJ0ID0gbnVsbDtcbiAgICAgICAgY3AuaGlnaGVzdFNlZW5PZmZzZXQgPSBzZWxmLnN0eWxlci5nZXRSZWFjaGVkT2Zmc2V0KCk7XG4gICAgICAgIGNvbnN0IHRyaWdnZXJzID0gc2VsZi5zdHlsZS5zdG9yZS5nZXRUcmlnZ2Vyc0ZvckRvYyhzZWxmLnhtbGRvYyk7XG4gICAgICAgIHBhZ2UuZmluaXNoKHRyaWdnZXJzLCBzZWxmLmNsaWVudExheW91dCk7XG4gICAgICAgIGlmIChzZWxmLm5vTW9yZVByaW1hcnlGbG93cyhjcCkpIHtcbiAgICAgICAgICBjcCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKGNwKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYWN0dWFsIHBhZ2Ugd2lkdGgsIGhlaWdodCBhbmQgYmxlZWQgZnJvbSBzdHlsZSBzcGVjaWZpZWQgaW4gcGFnZVxuICAgKiBjb250ZXh0LlxuICAgKi9cbiAgcHJpdmF0ZSBzZXRQYWdlU2l6ZUFuZEJsZWVkKFxuICAgIGV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQ6IENzc1BhZ2UuRXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZCxcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICApIHtcbiAgICB0aGlzLmFjdHVhbFBhZ2VXaWR0aCA9IGV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQucGFnZVdpZHRoO1xuICAgIHRoaXMuYWN0dWFsUGFnZUhlaWdodCA9IGV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQucGFnZUhlaWdodDtcbiAgICB0aGlzLnBhZ2VTaGVldFdpZHRoID1cbiAgICAgIGV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQucGFnZVdpZHRoICtcbiAgICAgIGV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQuY3JvcE9mZnNldCAqIDI7XG4gICAgdGhpcy5wYWdlU2hlZXRIZWlnaHQgPVxuICAgICAgZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5wYWdlSGVpZ2h0ICtcbiAgICAgIGV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQuY3JvcE9mZnNldCAqIDI7XG4gICAgcGFnZS5jb250YWluZXIuc3R5bGUud2lkdGggPSBgJHt0aGlzLnBhZ2VTaGVldFdpZHRofXB4YDtcbiAgICBwYWdlLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLnBhZ2VTaGVldEhlaWdodH1weGA7XG4gICAgcGFnZS5ibGVlZEJveC5zdHlsZS5sZWZ0ID0gYCR7ZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5ibGVlZE9mZnNldH1weGA7XG4gICAgcGFnZS5ibGVlZEJveC5zdHlsZS5yaWdodCA9IGAke2V2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQuYmxlZWRPZmZzZXR9cHhgO1xuICAgIHBhZ2UuYmxlZWRCb3guc3R5bGUudG9wID0gYCR7ZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5ibGVlZE9mZnNldH1weGA7XG4gICAgcGFnZS5ibGVlZEJveC5zdHlsZS5ib3R0b20gPSBgJHtldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLmJsZWVkT2Zmc2V0fXB4YDtcbiAgICBwYWdlLmJsZWVkQm94LnN0eWxlLnBhZGRpbmcgPSBgJHtldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLmJsZWVkfXB4YDtcblxuICAgIC8vIFNoaWZ0IDFweCB0byB3b3JrYXJvdW5kIENocm9tZSBwcmludGluZyBidWcgKENhbmNlbGVkIGJlY2F1c2Ugb2YgYW5vdGhlciBDaHJvbWUgcHJvYmxlbSlcbiAgICAvLyBwYWdlLmJsZWVkQm94LnN0eWxlLnBhZGRpbmdUb3AgPSBgJHtldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLmJsZWVkKzF9cHhgO1xuXG4gICAgLy8gU2hpZnQgMC4wMXB4IHRvIHdvcmthcm91bmQgRmlyZWZveCBwcmludGluZyBwcm9ibGVtXG4gICAgLy8gKFRoaXMgc21hbGwgdmFsdWUgKDwgMS82NCBweCkgaGFzIG5vIGVmZmVjdCB0byBDaHJvbWUpXG4gICAgcGFnZS5ibGVlZEJveC5zdHlsZS5wYWRkaW5nVG9wID0gYCR7ZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5ibGVlZCArXG4gICAgICAwLjAxfXB4YDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmFzZVBhcnNlckhhbmRsZXIgZXh0ZW5kcyBDc3NDYXNjYWRlLkNhc2NhZGVQYXJzZXJIYW5kbGVyIHtcbiAgaW5zaWRlUmVnaW9uOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIG1hc3RlckhhbmRsZXI6IFN0eWxlUGFyc2VySGFuZGxlcixcbiAgICBjb25kaXRpb246IEV4cHJzLlZhbCxcbiAgICBwYXJlbnQ6IEJhc2VQYXJzZXJIYW5kbGVyLFxuICAgIHJlZ2lvbklkOiBzdHJpbmcgfCBudWxsLFxuICApIHtcbiAgICBzdXBlcihcbiAgICAgIG1hc3RlckhhbmRsZXIucm9vdFNjb3BlLFxuICAgICAgbWFzdGVySGFuZGxlcixcbiAgICAgIGNvbmRpdGlvbixcbiAgICAgIHBhcmVudCxcbiAgICAgIHJlZ2lvbklkLFxuICAgICAgbWFzdGVySGFuZGxlci52YWxpZGF0b3JTZXQsXG4gICAgICAhcGFyZW50LFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VUZW1wbGF0ZVJ1bGUoKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFnZU1hc3RlclJ1bGUoXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBwYWdlTWFzdGVyID0gbmV3IFBhZ2VNYXN0ZXIuUGFnZU1hc3RlcihcbiAgICAgIHRoaXMubWFzdGVySGFuZGxlci5wYWdlU2NvcGUsXG4gICAgICBuYW1lLFxuICAgICAgcHNldWRvTmFtZSxcbiAgICAgIGNsYXNzZXMsXG4gICAgICB0aGlzLm1hc3RlckhhbmRsZXIucm9vdEJveCxcbiAgICAgIHRoaXMuY29uZGl0aW9uLFxuICAgICAgdGhpcy5vd25lci5nZXRCYXNlU3BlY2lmaWNpdHkoKSxcbiAgICApO1xuICAgIHRoaXMubWFzdGVySGFuZGxlci5wdXNoSGFuZGxlcihcbiAgICAgIG5ldyBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXJQYXJzZXJIYW5kbGVyKFxuICAgICAgICBwYWdlTWFzdGVyLnNjb3BlLFxuICAgICAgICB0aGlzLm1hc3RlckhhbmRsZXIsXG4gICAgICAgIHBhZ2VNYXN0ZXIsXG4gICAgICAgIHRoaXMudmFsaWRhdG9yU2V0LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRXaGVuUnVsZShleHByOiBDc3MuRXhwcik6IHZvaWQge1xuICAgIGxldCBjb25kaXRpb24gPSBleHByLmV4cHI7XG4gICAgaWYgKHRoaXMuY29uZGl0aW9uICE9IG51bGwpIHtcbiAgICAgIGNvbmRpdGlvbiA9IEV4cHJzLmFuZCh0aGlzLnNjb3BlLCB0aGlzLmNvbmRpdGlvbiwgY29uZGl0aW9uKTtcbiAgICB9XG4gICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnB1c2hIYW5kbGVyKFxuICAgICAgbmV3IEJhc2VQYXJzZXJIYW5kbGVyKHRoaXMubWFzdGVySGFuZGxlciwgY29uZGl0aW9uLCB0aGlzLCB0aGlzLnJlZ2lvbklkKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnREZWZpbmVSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMubWFzdGVySGFuZGxlci5wdXNoSGFuZGxlcihcbiAgICAgIG5ldyBDc3NDYXNjYWRlLkRlZmluZVBhcnNlckhhbmRsZXIodGhpcy5zY29wZSwgdGhpcy5vd25lciksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Rm9udEZhY2VSdWxlKCk6IHZvaWQge1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgICB0aGlzLm1hc3RlckhhbmRsZXIuZm9udEZhY2VzLnB1c2goe1xuICAgICAgcHJvcGVydGllcyxcbiAgICAgIGNvbmRpdGlvbjogdGhpcy5jb25kaXRpb24sXG4gICAgfSk7XG4gICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnB1c2hIYW5kbGVyKFxuICAgICAgbmV3IENzc0Nhc2NhZGUuUHJvcFNldFBhcnNlckhhbmRsZXIoXG4gICAgICAgIHRoaXMuc2NvcGUsXG4gICAgICAgIHRoaXMub3duZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIHRoaXMubWFzdGVySGFuZGxlci52YWxpZGF0b3JTZXQsXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydEZsb3dSdWxlKGZsb3dOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBsZXQgc3R5bGUgPSB0aGlzLm1hc3RlckhhbmRsZXIuZmxvd1Byb3BzW2Zsb3dOYW1lXTtcbiAgICBpZiAoIXN0eWxlKSB7XG4gICAgICBzdHlsZSA9IHt9IGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICAgICAgdGhpcy5tYXN0ZXJIYW5kbGVyLmZsb3dQcm9wc1tmbG93TmFtZV0gPSBzdHlsZTtcbiAgICB9XG4gICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnB1c2hIYW5kbGVyKFxuICAgICAgbmV3IENzc0Nhc2NhZGUuUHJvcFNldFBhcnNlckhhbmRsZXIoXG4gICAgICAgIHRoaXMuc2NvcGUsXG4gICAgICAgIHRoaXMub3duZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICB0aGlzLm1hc3RlckhhbmRsZXIudmFsaWRhdG9yU2V0LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRWaWV3cG9ydFJ1bGUoKTogdm9pZCB7XG4gICAgY29uc3Qgdmlld3BvcnRQcm9wcyA9IHt9IGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICAgIHRoaXMubWFzdGVySGFuZGxlci52aWV3cG9ydFByb3BzLnB1c2godmlld3BvcnRQcm9wcyk7XG4gICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnB1c2hIYW5kbGVyKFxuICAgICAgbmV3IENzc0Nhc2NhZGUuUHJvcFNldFBhcnNlckhhbmRsZXIoXG4gICAgICAgIHRoaXMuc2NvcGUsXG4gICAgICAgIHRoaXMub3duZXIsXG4gICAgICAgIHRoaXMuY29uZGl0aW9uLFxuICAgICAgICB2aWV3cG9ydFByb3BzLFxuICAgICAgICB0aGlzLm1hc3RlckhhbmRsZXIudmFsaWRhdG9yU2V0LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRGb290bm90ZVJ1bGUocHNldWRvZWxlbTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xuICAgIGxldCBzdHlsZSA9IHRoaXMubWFzdGVySGFuZGxlci5mb290bm90ZVByb3BzO1xuICAgIGlmIChwc2V1ZG9lbGVtKSB7XG4gICAgICBjb25zdCBwc2V1ZG9zID0gQ3NzQ2FzY2FkZS5nZXRNdXRhYmxlU3R5bGVNYXAoc3R5bGUsIFwiX3BzZXVkb3NcIik7XG4gICAgICBzdHlsZSA9IHBzZXVkb3NbcHNldWRvZWxlbV07XG4gICAgICBpZiAoIXN0eWxlKSB7XG4gICAgICAgIHN0eWxlID0ge30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gICAgICAgIHBzZXVkb3NbcHNldWRvZWxlbV0gPSBzdHlsZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnB1c2hIYW5kbGVyKFxuICAgICAgbmV3IENzc0Nhc2NhZGUuUHJvcFNldFBhcnNlckhhbmRsZXIoXG4gICAgICAgIHRoaXMuc2NvcGUsXG4gICAgICAgIHRoaXMub3duZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICB0aGlzLm1hc3RlckhhbmRsZXIudmFsaWRhdG9yU2V0LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRSZWdpb25SdWxlKCk6IHZvaWQge1xuICAgIHRoaXMuaW5zaWRlUmVnaW9uID0gdHJ1ZTtcbiAgICB0aGlzLnN0YXJ0U2VsZWN0b3JSdWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VSdWxlKCk6IHZvaWQge1xuICAgIGNvbnN0IHBhZ2VIYW5kbGVyID0gbmV3IENzc1BhZ2UuUGFnZVBhcnNlckhhbmRsZXIoXG4gICAgICB0aGlzLm1hc3RlckhhbmRsZXIucGFnZVNjb3BlLFxuICAgICAgdGhpcy5tYXN0ZXJIYW5kbGVyLFxuICAgICAgdGhpcyxcbiAgICAgIHRoaXMudmFsaWRhdG9yU2V0LFxuICAgICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnBhZ2VQcm9wcyxcbiAgICApO1xuICAgIHRoaXMubWFzdGVySGFuZGxlci5wdXNoSGFuZGxlcihwYWdlSGFuZGxlcik7XG4gICAgcGFnZUhhbmRsZXIuc3RhcnRQYWdlUnVsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRSdWxlQm9keSgpOiB2b2lkIHtcbiAgICBDc3NDYXNjYWRlLkNhc2NhZGVQYXJzZXJIYW5kbGVyLnByb3RvdHlwZS5zdGFydFJ1bGVCb2R5LmNhbGwodGhpcyk7XG4gICAgaWYgKHRoaXMuaW5zaWRlUmVnaW9uKSB7XG4gICAgICB0aGlzLmluc2lkZVJlZ2lvbiA9IGZhbHNlO1xuICAgICAgY29uc3QgcmVnaW9uSWQgPSBgUiR7dGhpcy5tYXN0ZXJIYW5kbGVyLnJlZ2lvbkNvdW50Kyt9YDtcbiAgICAgIHRoaXMuc3BlY2lhbChcInJlZ2lvbi1pZFwiLCBDc3MuZ2V0TmFtZShyZWdpb25JZCkpO1xuICAgICAgdGhpcy5lbmRSdWxlKCk7XG4gICAgICBjb25zdCByZWdpb25IYW5kbGVyID0gbmV3IEJhc2VQYXJzZXJIYW5kbGVyKFxuICAgICAgICB0aGlzLm1hc3RlckhhbmRsZXIsXG4gICAgICAgIHRoaXMuY29uZGl0aW9uLFxuICAgICAgICB0aGlzLFxuICAgICAgICByZWdpb25JZCxcbiAgICAgICk7XG4gICAgICB0aGlzLm1hc3RlckhhbmRsZXIucHVzaEhhbmRsZXIocmVnaW9uSGFuZGxlcik7XG4gICAgICByZWdpb25IYW5kbGVyLnN0YXJ0UnVsZUJvZHkoKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gb3ZlcnJpZGUsIHNvIHdlIGRvbid0IHJlZ2lzdGVyIGFuIGVycm9yXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc1ZpZXdwb3J0TWV0YShtZXRhOiBFbGVtZW50KTogc3RyaW5nIHtcbiAgbGV0IGNvbnRlbnQgPSBtZXRhLmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIik7XG4gIGlmICghY29udGVudCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGNvbnN0IHZhbHMgPSB7fTtcbiAgbGV0IHI6IFJlZ0V4cE1hdGNoQXJyYXk7XG4gIHdoaWxlIChcbiAgICAociA9IGNvbnRlbnQubWF0Y2goXG4gICAgICAvXiw/XFxzKihbLUEtWmEtel8uXVstQS1aYS16XzAtOS5dKilcXHMqPVxccyooWy0rQS1aYS16XzAtOS5dKilcXHMqLyxcbiAgICApKSAhPSBudWxsXG4gICkge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cihyWzBdLmxlbmd0aCk7XG4gICAgdmFsc1tyWzFdXSA9IHJbMl07XG4gIH1cbiAgY29uc3Qgd2lkdGggPSB2YWxzW1wid2lkdGhcIl0gLSAwO1xuICBjb25zdCBoZWlnaHQgPSB2YWxzW1wiaGVpZ2h0XCJdIC0gMDtcbiAgaWYgKHdpZHRoICYmIGhlaWdodCkge1xuICAgIHJldHVybiBgQC1lcHVieC12aWV3cG9ydHt3aWR0aDoke3dpZHRofXB4O2hlaWdodDoke2hlaWdodH1weDt9YDtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cblxuZXhwb3J0IGNsYXNzIFN0eWxlUGFyc2VySGFuZGxlciBleHRlbmRzIENzc1BhcnNlci5EaXNwYXRjaFBhcnNlckhhbmRsZXIge1xuICByb290U2NvcGU6IEV4cHJzLkxleGljYWxTY29wZTtcbiAgcGFnZVNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGU7XG4gIHJvb3RCb3g6IFBhZ2VNYXN0ZXIuUm9vdFBhZ2VCb3g7XG4gIGNhc2NhZGVQYXJzZXJIYW5kbGVyOiBCYXNlUGFyc2VySGFuZGxlcjtcbiAgcmVnaW9uQ291bnQ6IG51bWJlciA9IDA7XG4gIGZvbnRGYWNlcyA9IFtdIGFzIEZvbnRGYWNlW107XG4gIGZvb3Rub3RlUHJvcHMgPSB7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgZmxvd1Byb3BzID0ge30gYXMgeyBba2V5OiBzdHJpbmddOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSB9O1xuICB2aWV3cG9ydFByb3BzID0gW10gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGVbXTtcbiAgcGFnZVByb3BzID0ge30gYXMgeyBba2V5OiBzdHJpbmddOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSB9O1xuICBzbGF2ZTogQmFzZVBhcnNlckhhbmRsZXI7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5yb290U2NvcGUgPSBuZXcgRXhwcnMuTGV4aWNhbFNjb3BlKG51bGwpO1xuICAgIHRoaXMucGFnZVNjb3BlID0gbmV3IEV4cHJzLkxleGljYWxTY29wZSh0aGlzLnJvb3RTY29wZSk7XG4gICAgdGhpcy5yb290Qm94ID0gbmV3IFBhZ2VNYXN0ZXIuUm9vdFBhZ2VCb3godGhpcy5yb290U2NvcGUpO1xuICAgIHRoaXMuY2FzY2FkZVBhcnNlckhhbmRsZXIgPSBuZXcgQmFzZVBhcnNlckhhbmRsZXIodGhpcywgbnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgdGhpcy5zbGF2ZSA9IHRoaXMuY2FzY2FkZVBhcnNlckhhbmRsZXI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBlcnJvcihtbmVtb25pY3M6IHN0cmluZywgdG9rZW46IENzc1Rva2VuaXplci5Ub2tlbik6IHZvaWQge1xuICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJDU1MgcGFyc2VyOlwiLCBtbmVtb25pY3MpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFN0eWxlU291cmNlID0ge1xuICB1cmw6IHN0cmluZztcbiAgdGV4dDogc3RyaW5nIHwgbnVsbDtcbiAgZmxhdm9yOiBDc3NQYXJzZXIuU3R5bGVzaGVldEZsYXZvcjtcbiAgY2xhc3Nlczogc3RyaW5nIHwgbnVsbDtcbiAgbWVkaWE6IHN0cmluZyB8IG51bGw7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VPUFNSZXNvdXJjZShcbiAgcmVzcG9uc2U6IE5ldC5SZXNwb25zZSxcbiAgc3RvcmU6IFhtbERvYy5YTUxEb2NTdG9yZSxcbik6IFRhc2suUmVzdWx0PFhtbERvYy5YTUxEb2NIb2xkZXI+IHtcbiAgcmV0dXJuIChzdG9yZSBhcyBPUFNEb2NTdG9yZSkucGFyc2VPUFNSZXNvdXJjZShyZXNwb25zZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBPUFNEb2NTdG9yZSBleHRlbmRzIE5ldC5SZXNvdXJjZVN0b3JlPFhtbERvYy5YTUxEb2NIb2xkZXI+IHtcbiAgc3R5bGVCeUtleTogeyBba2V5OiBzdHJpbmddOiBTdHlsZSB9ID0ge307XG4gIHN0eWxlRmV0Y2hlckJ5S2V5OiB7IFtrZXk6IHN0cmluZ106IFRhc2tVdGlsLkZldGNoZXI8U3R5bGU+IH0gPSB7fTtcbiAgc3R5bGVCeURvY1VSTDogeyBba2V5OiBzdHJpbmddOiBTdHlsZSB9ID0ge307XG4gIHRyaWdnZXJzQnlEb2NVUkw6IHsgW2tleTogc3RyaW5nXTogVnRyZWUuVHJpZ2dlcltdIH0gPSB7fTtcbiAgdmFsaWRhdG9yU2V0OiBDc3NWYWxpZGF0b3IuVmFsaWRhdG9yU2V0ID0gbnVsbDtcbiAgcHJpdmF0ZSBzdHlsZVNoZWV0czogU3R5bGVTb3VyY2VbXSA9IFtdO1xuICBwcml2YXRlIHRyaWdnZXJTaW5nbGVEb2N1bWVudFByZXByb2Nlc3Npbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgZm9udERlb2JmdXNjYXRvcjpcbiAgICAgIHwgKChwMTogc3RyaW5nKSA9PiAoKHAxOiBCbG9iKSA9PiBUYXNrLlJlc3VsdDxCbG9iPikgfCBudWxsKVxuICAgICAgfCBudWxsLFxuICApIHtcbiAgICBzdXBlcihwYXJzZU9QU1Jlc291cmNlLCBOZXQuWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGUuRE9DVU1FTlQpO1xuICB9XG5cbiAgaW5pdChcbiAgICBhdXRob3JTdHlsZVNoZWV0czogeyB1cmw6IHN0cmluZyB8IG51bGw7IHRleHQ6IHN0cmluZyB8IG51bGwgfVtdIHwgbnVsbCxcbiAgICB1c2VyU3R5bGVTaGVldHM6IHsgdXJsOiBzdHJpbmcgfCBudWxsOyB0ZXh0OiBzdHJpbmcgfCBudWxsIH1bXSB8IG51bGwsXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICB0aGlzLnNldFN0eWxlU2hlZXRzKGF1dGhvclN0eWxlU2hlZXRzIGFzIGFueSwgdXNlclN0eWxlU2hlZXRzIGFzIGFueSk7XG4gICAgY29uc3QgdXNlckFnZW50WE1MID0gQmFzZS5yZXNvbHZlVVJMKFxuICAgICAgXCJ1c2VyLWFnZW50LnhtbFwiLFxuICAgICAgQmFzZS5yZXNvdXJjZUJhc2VVUkwsXG4gICAgKTtcbiAgICBjb25zdCBmcmFtZSA9IFRhc2submV3RnJhbWU8Ym9vbGVhbj4oXCJPUFNEb2NTdG9yZS5pbml0XCIpO1xuICAgIHRoaXMudmFsaWRhdG9yU2V0ID0gQ3NzVmFsaWRhdG9yLmJhc2VWYWxpZGF0b3JTZXQoKTtcbiAgICBsb2FkVUFCYXNlKCkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLmxvYWQodXNlckFnZW50WE1MKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy50cmlnZ2VyU2luZ2xlRG9jdW1lbnRQcmVwcm9jZXNzaW5nID0gdHJ1ZTtcbiAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgZ2V0U3R5bGVGb3JEb2MoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKTogU3R5bGUge1xuICAgIHJldHVybiB0aGlzLnN0eWxlQnlEb2NVUkxbeG1sZG9jLnVybF07XG4gIH1cblxuICBnZXRUcmlnZ2Vyc0ZvckRvYyh4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpOiBWdHJlZS5UcmlnZ2VyW10ge1xuICAgIHJldHVybiB0aGlzLnRyaWdnZXJzQnlEb2NVUkxbeG1sZG9jLnVybF07XG4gIH1cblxuICAvKipcbiAgICogU2V0IGF1dGhvciBzdHlsZXNoZWV0cyBhbmQgdXNlciBzdHlsZXNoZWV0cy4gRXhpc3Rpbmcgc3R5bGUgc2hlZXRzIGFyZVxuICAgKiByZW1vdmVkLlxuICAgKi9cbiAgcHJpdmF0ZSBzZXRTdHlsZVNoZWV0cyhcbiAgICBhdXRob3JTdHlsZVNoZWV0czogU3R5bGVTb3VyY2VbXSB8IG51bGwsXG4gICAgdXNlclN0eWxlU2hlZXRzOiBTdHlsZVNvdXJjZVtdIHwgbnVsbCxcbiAgKSB7XG4gICAgdGhpcy5jbGVhclN0eWxlU2hlZXRzKCk7XG4gICAgaWYgKGF1dGhvclN0eWxlU2hlZXRzKSB7XG4gICAgICBhdXRob3JTdHlsZVNoZWV0cy5mb3JFYWNoKHRoaXMuYWRkQXV0aG9yU3R5bGVTaGVldCwgdGhpcyk7XG4gICAgfVxuICAgIGlmICh1c2VyU3R5bGVTaGVldHMpIHtcbiAgICAgIHVzZXJTdHlsZVNoZWV0cy5mb3JFYWNoKHRoaXMuYWRkVXNlclN0eWxlU2hlZXQsIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY2xlYXJTdHlsZVNoZWV0cygpIHtcbiAgICB0aGlzLnN0eWxlU2hlZXRzLnNwbGljZSgwKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkQXV0aG9yU3R5bGVTaGVldChzdHlsZXNoZWV0OiBTdHlsZVNvdXJjZSkge1xuICAgIGxldCB1cmwgPSBzdHlsZXNoZWV0LnVybDtcbiAgICBpZiAodXJsKSB7XG4gICAgICB1cmwgPSBCYXNlLnJlc29sdmVVUkwoQmFzZS5jb252ZXJ0U3BlY2lhbFVSTCh1cmwpLCBCYXNlLmJhc2VVUkwpO1xuICAgIH1cbiAgICB0aGlzLnN0eWxlU2hlZXRzLnB1c2goe1xuICAgICAgdXJsLFxuICAgICAgdGV4dDogc3R5bGVzaGVldC50ZXh0LFxuICAgICAgZmxhdm9yOiBDc3NQYXJzZXIuU3R5bGVzaGVldEZsYXZvci5BVVRIT1IsXG4gICAgICBjbGFzc2VzOiBudWxsLFxuICAgICAgbWVkaWE6IG51bGwsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFkZFVzZXJTdHlsZVNoZWV0KHN0eWxlc2hlZXQ6IFN0eWxlU291cmNlKSB7XG4gICAgbGV0IHVybCA9IHN0eWxlc2hlZXQudXJsO1xuICAgIGlmICh1cmwpIHtcbiAgICAgIHVybCA9IEJhc2UucmVzb2x2ZVVSTChCYXNlLmNvbnZlcnRTcGVjaWFsVVJMKHVybCksIEJhc2UuYmFzZVVSTCk7XG4gICAgfVxuICAgIHRoaXMuc3R5bGVTaGVldHMucHVzaCh7XG4gICAgICB1cmwsXG4gICAgICB0ZXh0OiBzdHlsZXNoZWV0LnRleHQsXG4gICAgICBmbGF2b3I6IENzc1BhcnNlci5TdHlsZXNoZWV0Rmxhdm9yLlVTRVIsXG4gICAgICBjbGFzc2VzOiBudWxsLFxuICAgICAgbWVkaWE6IG51bGwsXG4gICAgfSk7XG4gIH1cblxuICBwYXJzZU9QU1Jlc291cmNlKHJlc3BvbnNlOiBOZXQuUmVzcG9uc2UpOiBUYXNrLlJlc3VsdDxYbWxEb2MuWE1MRG9jSG9sZGVyPiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8WG1sRG9jLlhNTERvY0hvbGRlcj4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJPUFNEb2NTdG9yZS5sb2FkXCIsXG4gICAgKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCB1cmwgPSByZXNwb25zZS51cmw7XG5cbiAgICAvLyBIYWNrIGZvciBUT0NWaWV3LnNob3dUT0MoKVxuICAgIGNvbnN0IGlzVG9jQm94ID0gdXJsLmVuZHNXaXRoKFwiP3Zpdi10b2MtYm94XCIpO1xuXG4gICAgWG1sRG9jLnBhcnNlWE1MUmVzb3VyY2UocmVzcG9uc2UsIHNlbGYpLnRoZW4oXG4gICAgICAoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKSA9PiB7XG4gICAgICAgIGlmICgheG1sZG9jKSB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZi50cmlnZ2VyU2luZ2xlRG9jdW1lbnRQcmVwcm9jZXNzaW5nKSB7XG4gICAgICAgICAgY29uc3QgaG9va3M6IFBsdWdpbi5QcmVQcm9jZXNzU2luZ2xlRG9jdW1lbnRIb29rW10gPSBQbHVnaW4uZ2V0SG9va3NGb3JOYW1lKFxuICAgICAgICAgICAgUGx1Z2luLkhPT0tTLlBSRVBST0NFU1NfU0lOR0xFX0RPQ1VNRU5ULFxuICAgICAgICAgICk7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob29rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaG9va3NbaV0oeG1sZG9jLmRvY3VtZW50KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcbiAgICAgICAgICAgICAgICBcIkVycm9yIGR1cmluZyBzaW5nbGUgZG9jdW1lbnQgcHJlcHJvY2Vzc2luZzpcIixcbiAgICAgICAgICAgICAgICBlLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmlnZ2VycyA9IFtdO1xuICAgICAgICBjb25zdCB0cmlnZ2VyTGlzdCA9IHhtbGRvYy5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKFxuICAgICAgICAgIEJhc2UuTlMuZXB1YixcbiAgICAgICAgICBcInRyaWdnZXJcIixcbiAgICAgICAgKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmlnZ2VyTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IHRyaWdnZXJFbGVtID0gdHJpZ2dlckxpc3RbaV07XG4gICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0cmlnZ2VyRWxlbS5nZXRBdHRyaWJ1dGVOUyhCYXNlLk5TLkVWLCBcIm9ic2VydmVyXCIpO1xuICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdHJpZ2dlckVsZW0uZ2V0QXR0cmlidXRlTlMoQmFzZS5OUy5FViwgXCJldmVudFwiKTtcbiAgICAgICAgICBjb25zdCBhY3Rpb24gPSB0cmlnZ2VyRWxlbS5nZXRBdHRyaWJ1dGUoXCJhY3Rpb25cIik7XG4gICAgICAgICAgY29uc3QgcmVmID0gdHJpZ2dlckVsZW0uZ2V0QXR0cmlidXRlKFwicmVmXCIpO1xuICAgICAgICAgIGlmIChvYnNlcnZlciAmJiBldmVudCAmJiBhY3Rpb24gJiYgcmVmKSB7XG4gICAgICAgICAgICB0cmlnZ2Vycy5wdXNoKHsgb2JzZXJ2ZXIsIGV2ZW50LCBhY3Rpb24sIHJlZiB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi50cmlnZ2Vyc0J5RG9jVVJMW3VybF0gPSB0cmlnZ2VycztcbiAgICAgICAgY29uc3Qgc291cmNlcyA9IFtdIGFzIFN0eWxlU291cmNlW107XG4gICAgICAgIGNvbnN0IHVzZXJBZ2VudFVSTCA9IEJhc2UucmVzb2x2ZVVSTChcbiAgICAgICAgICBcInVzZXItYWdlbnQtcGFnZS5jc3NcIixcbiAgICAgICAgICBCYXNlLnJlc291cmNlQmFzZVVSTCxcbiAgICAgICAgKTtcbiAgICAgICAgc291cmNlcy5wdXNoKHtcbiAgICAgICAgICB1cmw6IHVzZXJBZ2VudFVSTCxcbiAgICAgICAgICB0ZXh0OiBVc2VyQWdlbnRQYWdlQ3NzLFxuICAgICAgICAgIGZsYXZvcjogQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IuVVNFUl9BR0VOVCxcbiAgICAgICAgICBjbGFzc2VzOiBudWxsLFxuICAgICAgICAgIG1lZGlhOiBudWxsLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaGVhZCA9IHhtbGRvYy5oZWFkO1xuICAgICAgICBpZiAoIWlzVG9jQm94ICYmIGhlYWQpIHtcbiAgICAgICAgICBmb3IgKGxldCBjOiBOb2RlID0gaGVhZC5maXJzdENoaWxkOyBjOyBjID0gYy5uZXh0U2libGluZykge1xuICAgICAgICAgICAgaWYgKGMubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gYyBhcyBFbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgbnMgPSBjaGlsZC5uYW1lc3BhY2VVUkk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbE5hbWUgPSBjaGlsZC5sb2NhbE5hbWU7XG4gICAgICAgICAgICBpZiAobnMgPT0gQmFzZS5OUy5YSFRNTCkge1xuICAgICAgICAgICAgICBpZiAobG9jYWxOYW1lID09IFwic3R5bGVcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsYXNzZXMgPSBjaGlsZC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZWRpYSA9IGNoaWxkLmdldEF0dHJpYnV0ZShcIm1lZGlhXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gY2hpbGQuZ2V0QXR0cmlidXRlKFwidGl0bGVcIik7XG4gICAgICAgICAgICAgICAgc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgICAgIHRleHQ6IGNoaWxkLnRleHRDb250ZW50LFxuICAgICAgICAgICAgICAgICAgZmxhdm9yOiBDc3NQYXJzZXIuU3R5bGVzaGVldEZsYXZvci5BVVRIT1IsXG4gICAgICAgICAgICAgICAgICBjbGFzc2VzOiB0aXRsZSA/IGNsYXNzZXMgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgbWVkaWEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYWxOYW1lID09IFwibGlua1wiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVsID0gY2hpbGQuZ2V0QXR0cmlidXRlKFwicmVsXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsYXNzZXMgPSBjaGlsZC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZWRpYSA9IGNoaWxkLmdldEF0dHJpYnV0ZShcIm1lZGlhXCIpO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIHJlbCA9PSBcInN0eWxlc2hlZXRcIiB8fFxuICAgICAgICAgICAgICAgICAgKHJlbCA9PSBcImFsdGVybmF0ZSBzdHlsZXNoZWV0XCIgJiYgY2xhc3NlcylcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGxldCBzcmMgPSBjaGlsZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgICAgICAgICAgICAgc3JjID0gQmFzZS5yZXNvbHZlVVJMKHNyYywgdXJsKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gY2hpbGQuZ2V0QXR0cmlidXRlKFwidGl0bGVcIik7XG4gICAgICAgICAgICAgICAgICBzb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHNyYyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogdGl0bGUgPyBjbGFzc2VzIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEsXG4gICAgICAgICAgICAgICAgICAgIGZsYXZvcjogQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IuQVVUSE9SLFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIGxvY2FsTmFtZSA9PSBcIm1ldGFcIiAmJlxuICAgICAgICAgICAgICAgIGNoaWxkLmdldEF0dHJpYnV0ZShcIm5hbWVcIikgPT0gXCJ2aWV3cG9ydFwiXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgICB0ZXh0OiBwcm9jZXNzVmlld3BvcnRNZXRhKGNoaWxkKSxcbiAgICAgICAgICAgICAgICAgIGZsYXZvcjogQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IuQVVUSE9SLFxuICAgICAgICAgICAgICAgICAgY2xhc3NlczogbnVsbCxcbiAgICAgICAgICAgICAgICAgIG1lZGlhOiBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5zID09IEJhc2UuTlMuRkIyKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBsb2NhbE5hbWUgPT0gXCJzdHlsZXNoZWV0XCIgJiZcbiAgICAgICAgICAgICAgICBjaGlsZC5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpID09IFwidGV4dC9jc3NcIlxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgICAgICAgdGV4dDogY2hpbGQudGV4dENvbnRlbnQsXG4gICAgICAgICAgICAgICAgICBmbGF2b3I6IENzc1BhcnNlci5TdHlsZXNoZWV0Rmxhdm9yLkFVVEhPUixcbiAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICBtZWRpYTogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChucyA9PSBCYXNlLk5TLlNTRSAmJiBsb2NhbE5hbWUgPT09IFwicHJvcGVydHlcIikge1xuICAgICAgICAgICAgICAvLyBsb29rIGZvciBzdHlsZXNoZWV0IHNwZWNpZmljYXRpb24gbGlrZTpcbiAgICAgICAgICAgICAgLy8gPHByb3BlcnR5PjxuYW1lPnN0eWxlc2hlZXQ8L25hbWU+PHZhbHVlPnN0eWxlLmNzczwvdmFsdWU+PC9wcm9wZXJ0eT5cbiAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGNoaWxkLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibmFtZVwiKVswXTtcbiAgICAgICAgICAgICAgaWYgKG5hbWUgJiYgbmFtZS50ZXh0Q29udGVudCA9PT0gXCJzdHlsZXNoZWV0XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNoaWxkLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidmFsdWVcIilbMF07XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBzcmMgPSBCYXNlLnJlc29sdmVVUkwodmFsdWUudGV4dENvbnRlbnQsIHVybCk7XG4gICAgICAgICAgICAgICAgICBzb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHNyYyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbWVkaWE6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGZsYXZvcjogQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IuQVVUSE9SLFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaXNUb2NCb3gpIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGYuc3R5bGVTaGVldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNvdXJjZXMucHVzaChzZWxmLnN0eWxlU2hlZXRzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGtleSA9IFwiXCI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGtleSArPSBzb3VyY2VzW2ldLnVybDtcbiAgICAgICAgICBrZXkgKz0gXCJeXCI7XG4gICAgICAgICAgaWYgKHNvdXJjZXNbaV0udGV4dCkge1xuICAgICAgICAgICAga2V5ICs9IHNvdXJjZXNbaV0udGV4dDtcbiAgICAgICAgICB9XG4gICAgICAgICAga2V5ICs9IFwiXlwiO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdHlsZSA9IHNlbGYuc3R5bGVCeUtleVtrZXldO1xuICAgICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgICBzZWxmLnN0eWxlQnlEb2NVUkxbdXJsXSA9IHN0eWxlO1xuICAgICAgICAgIGZyYW1lLmZpbmlzaCh4bWxkb2MpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZmV0Y2hlciA9IHNlbGYuc3R5bGVGZXRjaGVyQnlLZXlba2V5XTtcbiAgICAgICAgaWYgKCFmZXRjaGVyKSB7XG4gICAgICAgICAgZmV0Y2hlciA9IG5ldyBUYXNrVXRpbC5GZXRjaGVyKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlubmVyRnJhbWU6IFRhc2suRnJhbWU8U3R5bGU+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgICAgICAgICAgXCJmZXRjaFN0eWxlc2hlZXRcIixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICAgICAgY29uc3Qgc3BoID0gbmV3IFN0eWxlUGFyc2VySGFuZGxlcihzZWxmLnZhbGlkYXRvclNldCk7XG4gICAgICAgICAgICBpbm5lckZyYW1lXG4gICAgICAgICAgICAgIC5sb29wKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCBzb3VyY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlc1tpbmRleCsrXTtcbiAgICAgICAgICAgICAgICAgIHNwaC5zdGFydFN0eWxlc2hlZXQoc291cmNlLmZsYXZvcik7XG4gICAgICAgICAgICAgICAgICBpZiAoc291cmNlLnRleHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENzc1BhcnNlci5wYXJzZVN0eWxlc2hlZXRGcm9tVGV4dChcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UudGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICBzcGgsXG4gICAgICAgICAgICAgICAgICAgICAgc291cmNlLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UubWVkaWEsXG4gICAgICAgICAgICAgICAgICAgICkudGhlblJldHVybih0cnVlKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDc3NQYXJzZXIucGFyc2VTdHlsZXNoZWV0RnJvbVVSTChcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UudXJsLFxuICAgICAgICAgICAgICAgICAgICAgIHNwaCxcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UubWVkaWEsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChmYWxzZSk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXNjYWRlID0gc3BoLmNhc2NhZGVQYXJzZXJIYW5kbGVyLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgIHN0eWxlID0gbmV3IFN0eWxlKFxuICAgICAgICAgICAgICAgICAgc2VsZixcbiAgICAgICAgICAgICAgICAgIHNwaC5yb290U2NvcGUsXG4gICAgICAgICAgICAgICAgICBzcGgucGFnZVNjb3BlLFxuICAgICAgICAgICAgICAgICAgY2FzY2FkZSxcbiAgICAgICAgICAgICAgICAgIHNwaC5yb290Qm94LFxuICAgICAgICAgICAgICAgICAgc3BoLmZvbnRGYWNlcyxcbiAgICAgICAgICAgICAgICAgIHNwaC5mb290bm90ZVByb3BzLFxuICAgICAgICAgICAgICAgICAgc3BoLmZsb3dQcm9wcyxcbiAgICAgICAgICAgICAgICAgIHNwaC52aWV3cG9ydFByb3BzLFxuICAgICAgICAgICAgICAgICAgc3BoLnBhZ2VQcm9wcyxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHNlbGYuc3R5bGVCeUtleVtrZXldID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYuc3R5bGVGZXRjaGVyQnlLZXlba2V5XTtcbiAgICAgICAgICAgICAgICBpbm5lckZyYW1lLmZpbmlzaChzdHlsZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGlubmVyRnJhbWUucmVzdWx0KCk7XG4gICAgICAgICAgfSwgYEZldGNoU3R5bGVzaGVldCAke3VybH1gKTtcbiAgICAgICAgICBzZWxmLnN0eWxlRmV0Y2hlckJ5S2V5W2tleV0gPSBmZXRjaGVyO1xuICAgICAgICAgIGZldGNoZXIuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBmZXRjaGVyLmdldCgpLnRoZW4oKHN0eWxlKSA9PiB7XG4gICAgICAgICAgc2VsZi5zdHlsZUJ5RG9jVVJMW3VybF0gPSBzdHlsZTtcbiAgICAgICAgICBmcmFtZS5maW5pc2goeG1sZG9jKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTcgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFNoYTEgLSBDYWxjdWxhdGUgU0hBMSBoYXNoIG9mIHRoZSBnaXZlbiBjb250ZW50LlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcblxuLyoqXG4gKiBAcmV0dXJuIGJpZy1lbmRpYW4gYnl0ZSBzZXF1ZW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlMzIobjogbnVtYmVyKTogc3RyaW5nIHtcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgKG4gPj4+IDI0KSAmIDI1NSxcbiAgICAobiA+Pj4gMTYpICYgMjU1LFxuICAgIChuID4+PiA4KSAmIDI1NSxcbiAgICBuICYgMjU1LFxuICApO1xufVxuXG4vKipcbiAqIEBwYXJhbSBieXRlcyBiaWctZW5kaWFuIGJ5dGUgc2VxdWVuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZTMyKGJ5dGVzOiBzdHJpbmcpOiBudW1iZXIge1xuICAvLyBJbXBvcnRhbnQgZmFjdHM6IFwiXCIuY2hhckNvZGVBdCgwKSA9PSBOYU4sIE5hTiAmIDB4RkYgPT0gMFxuICBjb25zdCBiMCA9IGJ5dGVzLmNoYXJDb2RlQXQoMCkgJiAyNTU7XG4gIGNvbnN0IGIxID0gYnl0ZXMuY2hhckNvZGVBdCgxKSAmIDI1NTtcbiAgY29uc3QgYjIgPSBieXRlcy5jaGFyQ29kZUF0KDIpICYgMjU1O1xuICBjb25zdCBiMyA9IGJ5dGVzLmNoYXJDb2RlQXQoMykgJiAyNTU7XG4gIHJldHVybiAoYjAgPDwgMjQpIHwgKGIxIDw8IDE2KSB8IChiMiA8PCA4KSB8IGIzO1xufVxuXG4vKipcbiAqIEBwYXJhbSBieXRlcyBjaGFycyB3aXRoIGNvZGVzIDAgLSAyNTUgdGhhdCByZXByZXNlbnQgbWVzc2FnZSBieXRlIHZhbHVlc1xuICogQHJldHVybiBiaWctZW5kaWFuIHVpbnQzMiBudW1iZXJzIHJlcHJlc2VudGluZyBzaGExIGhhc2hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9TSEExSW50MzIoYnl0ZXM6IHN0cmluZyk6IG51bWJlcltdIHtcbiAgY29uc3Qgc2IgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgc2IuYXBwZW5kKGJ5dGVzKTtcbiAgbGV0IGFwcGVuZENvdW50ID0gKDU1IC0gYnl0ZXMubGVuZ3RoKSAmIDYzO1xuICBzYi5hcHBlbmQoXCJcXHUwMDgwXCIpO1xuICB3aGlsZSAoYXBwZW5kQ291bnQgPiAwKSB7XG4gICAgYXBwZW5kQ291bnQtLTtcbiAgICBzYi5hcHBlbmQoXCJcXHgwMFwiKTtcbiAgfVxuICBzYi5hcHBlbmQoXCJcXHgwMFxceDAwXFx4MDBcXHgwMFwiKTtcbiAgc2IuYXBwZW5kKGVuY29kZTMyKGJ5dGVzLmxlbmd0aCAqIDgpKTtcbiAgYnl0ZXMgPSBzYi50b1N0cmluZygpO1xuICBjb25zdCBoID0gWzE3MzI1ODQxOTMsIDQwMjMyMzM0MTcsIDI1NjIzODMxMDIsIDI3MTczMzg3OCwgMzI4NTM3NzUyMF07XG4gIGNvbnN0IHcgPVxuICAgIC8qKiBAdHlwZSBBcnJheS48bnVtYmVyPiAqL1xuICAgIFtdIGFzIG51bWJlcltdO1xuICBsZXQgaTogbnVtYmVyO1xuICBmb3IgKGxldCBiaSA9IDA7IGJpIDwgYnl0ZXMubGVuZ3RoOyBiaSArPSA2NCkge1xuICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICB3W2ldID0gZGVjb2RlMzIoYnl0ZXMuc3Vic3RyKGJpICsgNCAqIGksIDQpKTtcbiAgICB9XG4gICAgZm9yICg7IGkgPCA4MDsgaSsrKSB7XG4gICAgICBjb25zdCBxID0gd1tpIC0gM10gXiB3W2kgLSA4XSBeIHdbaSAtIDE0XSBeIHdbaSAtIDE2XTtcbiAgICAgIHdbaV0gPSAocSA8PCAxKSB8IChxID4+PiAzMSk7XG4gICAgfVxuICAgIGxldCBhID0gaFswXTtcbiAgICBsZXQgYiA9IGhbMV07XG4gICAgbGV0IGMgPSBoWzJdO1xuICAgIGxldCBkID0gaFszXTtcbiAgICBsZXQgZSA9IGhbNF07XG4gICAgbGV0IGY6IG51bWJlcjtcbiAgICBmb3IgKGkgPSAwOyBpIDwgODA7IGkrKykge1xuICAgICAgaWYgKGkgPCAyMCkge1xuICAgICAgICBmID0gKChiICYgYykgfCAofmIgJiBkKSkgKyAxNTE4NTAwMjQ5O1xuICAgICAgfSBlbHNlIGlmIChpIDwgNDApIHtcbiAgICAgICAgZiA9IChiIF4gYyBeIGQpICsgMTg1OTc3NTM5MztcbiAgICAgIH0gZWxzZSBpZiAoaSA8IDYwKSB7XG4gICAgICAgIGYgPSAoKGIgJiBjKSB8IChiICYgZCkgfCAoYyAmIGQpKSArIDI0MDA5NTk3MDg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmID0gKGIgXiBjIF4gZCkgKyAzMzk1NDY5NzgyO1xuICAgICAgfVxuICAgICAgZiArPSAoKGEgPDwgNSkgfCAoYSA+Pj4gMjcpKSArIGUgKyB3W2ldO1xuICAgICAgZSA9IGQ7XG4gICAgICBkID0gYztcbiAgICAgIGMgPSAoYiA8PCAzMCkgfCAoYiA+Pj4gMik7XG4gICAgICBiID0gYTtcbiAgICAgIGEgPSBmO1xuICAgIH1cbiAgICBoWzBdID0gKGhbMF0gKyBhKSB8IDA7XG4gICAgaFsxXSA9IChoWzFdICsgYikgfCAwO1xuICAgIGhbMl0gPSAoaFsyXSArIGMpIHwgMDtcbiAgICBoWzNdID0gKGhbM10gKyBkKSB8IDA7XG4gICAgaFs0XSA9IChoWzRdICsgZSkgfCAwO1xuICB9XG4gIHJldHVybiBoO1xufVxuXG4vKipcbiAqIEBwYXJhbSBieXRlcyBjaGFycyB3aXRoIGNvZGVzIDAgLSAyNTUgdGhhdCByZXByZXNlbnQgbWVzc2FnZSBieXRlIHZhbHVlc1xuICogQHJldHVybiB1aW50OCBudW1iZXJzIHJlcHJlc2VudGluZyBzaGExIGhhc2hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9TSEExSW50OChieXRlczogc3RyaW5nKTogbnVtYmVyW10ge1xuICBjb25zdCBoID0gYnl0ZXNUb1NIQTFJbnQzMihieXRlcyk7XG4gIGNvbnN0IHJlcyA9IFtdO1xuICBmb3IgKGNvbnN0IG4gb2YgaCkge1xuICAgIHJlcy5wdXNoKChuID4+PiAyNCkgJiAyNTUsIChuID4+PiAxNikgJiAyNTUsIChuID4+PiA4KSAmIDI1NSwgbiAmIDI1NSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuLyoqXG4gKiBAcGFyYW0gYnl0ZXMgY2hhcnMgd2l0aCBjb2RlcyAwIC0gMjU1IHRoYXQgcmVwcmVzZW50IG1lc3NhZ2UgYnl0ZSB2YWx1ZXNcbiAqIEByZXR1cm4gY2hhcnMgd2l0aCBjb2RlcyAwIC0gMjU1IGVxdWFsIHRvIFNIQTEgaGFzaCBvZiB0aGUgaW5wdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9TSEExQnl0ZXMoYnl0ZXM6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IGggPSBieXRlc1RvU0hBMUludDMyKGJ5dGVzKTtcbiAgY29uc3Qgc2IgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBoLmxlbmd0aDsgaSsrKSB7XG4gICAgc2IuYXBwZW5kKGVuY29kZTMyKGhbaV0pKTtcbiAgfVxuICByZXR1cm4gc2IudG9TdHJpbmcoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gYnl0ZXMgY2hhcnMgd2l0aCBjb2RlcyAwIC0gMjU1IHRoYXQgcmVwcmVzZW50IG1lc3NhZ2UgYnl0ZSB2YWx1ZXNcbiAqIEByZXR1cm4gaGV4LWVuY29kZWQgU0hBMSBoYXNoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBieXRlc1RvU0hBMUhleChieXRlczogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3Qgc2hhMSA9IGJ5dGVzVG9TSEExQnl0ZXMoYnl0ZXMpO1xuICBjb25zdCBzYiA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNoYTEubGVuZ3RoOyBpKyspIHtcbiAgICBzYi5hcHBlbmQoKHNoYTEuY2hhckNvZGVBdChpKSB8IDI1NikudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG4gIH1cbiAgcmV0dXJuIHNiLnRvU3RyaW5nKCk7XG59XG5cbi8qKlxuICogQHBhcmFtIGJ5dGVzIGNoYXJzIHdpdGggY29kZXMgMCAtIDI1NSB0aGF0IHJlcHJlc2VudCBtZXNzYWdlIGJ5dGUgdmFsdWVzXG4gKiBAcmV0dXJuIGJhc2U2NC1lbmNvZGVkIFNIQTEgaGFzaCBvZiB0aGUgaW5wdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9TSEExQmFzZTY0KGJ5dGVzOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBzaGExID0gYnl0ZXNUb1NIQTFCeXRlcyhieXRlcyk7XG4gIGNvbnN0IHNiID0gbmV3IEJhc2UuU3RyaW5nQnVmZmVyKCk7XG4gIEJhc2UuYXBwZW5kQmFzZTY0KHNiLCBzaGExKTtcbiAgcmV0dXJuIHNiLnRvU3RyaW5nKCk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFRvYyAtIFRhYmxlIG9mIENvbnRlbnRzIHZpZXcuXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ291bnRlcnMgZnJvbSBcIi4vY291bnRlcnNcIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBGb250IGZyb20gXCIuL2ZvbnRcIjtcbmltcG9ydCAqIGFzIE9QUyBmcm9tIFwiLi9vcHNcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVmdlbiBmcm9tIFwiLi92Z2VuXCI7XG5pbXBvcnQgKiBhcyBWdHJlZSBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0ICogYXMgWG1sRG9jIGZyb20gXCIuL3htbC1kb2NcIjtcblxuLy8gY2xvc2VkOiAyNUI4XG4vLyBvcGVuOiAyNUJFXG4vLyBlbXB0eTogMjVCOVxuZXhwb3J0IGNvbnN0IGJ1bGxldENsb3NlZCA9IFwiXFx1MjViOFwiO1xuXG5leHBvcnQgY29uc3QgYnVsbGV0T3BlbiA9IFwiXFx1MjViZVwiO1xuXG5leHBvcnQgY29uc3QgYnVsbGV0RW1wdHkgPSBcIlxcdTI1YjlcIjtcblxuZXhwb3J0IGNsYXNzIFRPQ1ZpZXcgaW1wbGVtZW50cyBWZ2VuLkN1c3RvbVJlbmRlcmVyRmFjdG9yeSB7XG4gIHByZWY6IEV4cHJzLlByZWZlcmVuY2VzO1xuICBwYWdlOiBWdHJlZS5QYWdlID0gbnVsbDtcbiAgaW5zdGFuY2U6IE9QUy5TdHlsZUluc3RhbmNlID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RvcmU6IE9QUy5PUFNEb2NTdG9yZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdXJsOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IGxhbmc6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIHJlYWRvbmx5IGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICAgIHB1YmxpYyByZWFkb25seSBmb250TWFwcGVyOiBGb250Lk1hcHBlcixcbiAgICBwcmVmOiBFeHBycy5QcmVmZXJlbmNlcyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVuZGVyZXJGYWN0b3J5OiBWZ2VuLkN1c3RvbVJlbmRlcmVyRmFjdG9yeSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmFsbGJhY2tNYXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0sXG4gICAgcHVibGljIHJlYWRvbmx5IGRvY3VtZW50VVJMVHJhbnNmb3JtZXI6IEJhc2UuRG9jdW1lbnRVUkxUcmFuc2Zvcm1lcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnRlclN0b3JlOiBDb3VudGVycy5Db3VudGVyU3RvcmUsXG4gICkge1xuICAgIHRoaXMucHJlZiA9IEV4cHJzLmNsb25lUHJlZmVyZW5jZXMocHJlZik7XG4gICAgdGhpcy5wcmVmLnNwcmVhZFZpZXcgPSBmYWxzZTsgLy8gTm8gc3ByZWQgdmlldyBmb3IgVE9DIGJveFxuICB9XG5cbiAgc2V0QXV0b0hlaWdodChlbGVtOiBFbGVtZW50LCBkZXB0aDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKGRlcHRoLS0gPT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBjOiBOb2RlID0gZWxlbS5maXJzdENoaWxkOyBjOyBjID0gYy5uZXh0U2libGluZykge1xuICAgICAgaWYgKGMubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICBjb25zdCBlID0gYyBhcyBFbGVtZW50O1xuICAgICAgICBpZiAoQmFzZS5nZXRDU1NQcm9wZXJ0eShlLCBcImhlaWdodFwiLCBcImF1dG9cIikgIT0gXCJhdXRvXCIpIHtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGUsIFwiaGVpZ2h0XCIsIFwiYXV0b1wiKTtcbiAgICAgICAgICB0aGlzLnNldEF1dG9IZWlnaHQoZSwgZGVwdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChCYXNlLmdldENTU1Byb3BlcnR5KGUsIFwicG9zaXRpb25cIiwgXCJzdGF0aWNcIikgPT0gXCJhYnNvbHV0ZVwiKSB7XG4gICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlLCBcInBvc2l0aW9uXCIsIFwicmVsYXRpdmVcIik7XG4gICAgICAgICAgdGhpcy5zZXRBdXRvSGVpZ2h0KGUsIGRlcHRoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG1ha2VDdXN0b21SZW5kZXJlcih4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpOiBWZ2VuLkN1c3RvbVJlbmRlcmVyIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXJGYWN0b3J5Lm1ha2VDdXN0b21SZW5kZXJlcih4bWxkb2MpO1xuICAgIHJldHVybiAoXG4gICAgICBzcmNFbGVtOiBFbGVtZW50LFxuICAgICAgdmlld1BhcmVudDogRWxlbWVudCxcbiAgICAgIGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuICAgICk6IFRhc2suUmVzdWx0PEVsZW1lbnQ+ID0+IHtcbiAgICAgIGNvbnN0IGJlaGF2aW9yID0gY29tcHV0ZWRTdHlsZVtcImJlaGF2aW9yXCJdO1xuICAgICAgaWYgKGJlaGF2aW9yKSB7XG4gICAgICAgIHN3aXRjaCAoYmVoYXZpb3IudG9TdHJpbmcoKSkge1xuICAgICAgICAgIGNhc2UgXCJib2R5LWNoaWxkXCI6XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHNyY0VsZW0ucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgXCJkYXRhLXZpdmxpb3N0eWxlLXByaW1hcnktZW50cnlcIixcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhc3JjRWxlbS5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICAgICAgXCJbcm9sZT1kb2MtdG9jXSwgW3JvbGU9ZGlyZWN0b3J5XSwgbmF2IGxpIGEsIC50b2MsICN0b2NcIixcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIFRPQyBlbGVtZW50IGlzIGEgcGFydCBvZiB0aGUgcHJpbWF0eSBlbnRyeSAoWClIVE1MLFxuICAgICAgICAgICAgICAgIC8vIGhpZGUgZWxlbWVudHMgbm90IGNvbnRhaW5pbmcgVE9DLlxuICAgICAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJkaXNwbGF5XCJdID0gQ3NzLmlkZW50Lm5vbmU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ0b2Mtbm9kZS1hbmNob3JcIjpcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJjb2xvclwiXSA9IENzcy5pZGVudC5pbmhlcml0O1xuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcInRleHQtZGVjb3JhdGlvblwiXSA9IENzcy5pZGVudC5ub25lO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInRvYy1ub2RlXCI6XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9IENzcy5pZGVudC5ibG9jaztcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJtYXJnaW5cIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wicGFkZGluZ1wiXSA9IENzcy5udW1lcmljWmVybztcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJwYWRkaW5nLWlubGluZS1zdGFydFwiXSA9IG5ldyBDc3MuTnVtZXJpYygxLjI1LCBcImVtXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInRvYy1ub2RlLWZpcnN0LWNoaWxkXCI6XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9IENzcy5pZGVudC5pbmxpbmVfYmxvY2s7XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wibWFyZ2luXCJdID0gbmV3IENzcy5OdW1lcmljKDAuMiwgXCJlbVwiKTtcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJ2ZXJ0aWNhbC1hbGlnblwiXSA9IENzcy5pZGVudC50b3A7XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiY29sb3JcIl0gPSBDc3MuaWRlbnQuaW5oZXJpdDtcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJ0ZXh0LWRlY29yYXRpb25cIl0gPSBDc3MuaWRlbnQubm9uZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgICFiZWhhdmlvciB8fFxuICAgICAgICAoYmVoYXZpb3IudG9TdHJpbmcoKSAhPSBcInRvYy1ub2RlXCIgJiZcbiAgICAgICAgICBiZWhhdmlvci50b1N0cmluZygpICE9IFwidG9jLWNvbnRhaW5lclwiKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJlcihzcmNFbGVtLCB2aWV3UGFyZW50LCBjb21wdXRlZFN0eWxlKTtcbiAgICAgIH1cbiAgICAgIC8vIFJlbW92ZSB3aGl0ZS1zcGFjZSB0ZXh0bm9kZSB0aGF0IGJlY29tZXMgdW53YW50ZWQgc3BhY2UgYmV0d2VlbiBidXR0b24gYW5kIGFuY2hvciBlbGVtZW50LlxuICAgICAgY29uc3QgZmlyc3RDaGlsZCA9IHNyY0VsZW0uZmlyc3RDaGlsZDtcbiAgICAgIGlmIChcbiAgICAgICAgZmlyc3RDaGlsZCAmJlxuICAgICAgICBmaXJzdENoaWxkLm5vZGVUeXBlICE9PSAxICYmXG4gICAgICAgIGZpcnN0Q2hpbGQudGV4dENvbnRlbnQudHJpbSgpID09PSBcIlwiXG4gICAgICApIHtcbiAgICAgICAgLy8gVG8gYXZvaWQgXCJJbmNvbnNpc3RlbnQgb2Zmc2V0XCIgZXJyb3IsIGNyZWF0ZSBhIGNvbW1lbnQgbm9kZSB3aXRoIHNhbWUgd2hpdGUtc3BhY2UgdGV4dC5cbiAgICAgICAgc3JjRWxlbS5yZXBsYWNlQ2hpbGQoXG4gICAgICAgICAgc3JjRWxlbS5vd25lckRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoZmlyc3RDaGlsZC50ZXh0Q29udGVudCksXG4gICAgICAgICAgZmlyc3RDaGlsZCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGFkYXB0UGFyZW50Q2xhc3MgPSB2aWV3UGFyZW50LmdldEF0dHJpYnV0ZShcImRhdGEtYWRhcHQtY2xhc3NcIik7XG4gICAgICBpZiAoYWRhcHRQYXJlbnRDbGFzcyA9PSBcInRvYy1ub2RlXCIpIHtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gdmlld1BhcmVudC5maXJzdENoaWxkIGFzIEVsZW1lbnQ7XG4gICAgICAgIGlmIChidXR0b24udGV4dENvbnRlbnQgIT0gYnVsbGV0Q2xvc2VkKSB7XG4gICAgICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gYnVsbGV0Q2xvc2VkO1xuICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoYnV0dG9uLCBcImN1cnNvclwiLCBcInBvaW50ZXJcIik7XG4gICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVOb2RlRXhwYW5zaW9uLCBmYWxzZSk7XG5cbiAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImJ1dHRvblwiKTtcbiAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICAgIHZpZXdQYXJlbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpO1xuXG4gICAgICAgICAgLy8gRW5hYmxlIHRhYiBtb3ZlIHRvIHRoZSBidXR0b24gdW5sZXNzIGhpZGRlbi5cbiAgICAgICAgICBpZiAoKHZpZXdQYXJlbnQgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmhlaWdodCAhPT0gXCIwcHhcIikge1xuICAgICAgICAgICAgKGJ1dHRvbiBhcyBIVE1MRWxlbWVudCkudGFiSW5kZXggPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgZWxlbWVudCA9IHZpZXdQYXJlbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWFkYXB0LXByb2Nlc3MtY2hpbGRyZW5cIiwgXCJ0cnVlXCIpO1xuICAgICAgaWYgKGJlaGF2aW9yLnRvU3RyaW5nKCkgPT0gXCJ0b2Mtbm9kZVwiKSB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IHZpZXdQYXJlbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSBidWxsZXRFbXB0eTtcblxuICAgICAgICAvLyBUT0RPOiBkZWZpbmUgcHNldWRvLWVsZW1lbnQgZm9yIHRoZSBidXR0b24/XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoYnV0dG9uLCBcIm1hcmdpblwiLCBcIjAuMmVtIDAgMCAtMWVtXCIpO1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGJ1dHRvbiwgXCJtYXJnaW4taW5saW5lLXN0YXJ0XCIsIFwiLTFlbVwiKTtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShidXR0b24sIFwibWFyZ2luLWlubGluZS1lbmRcIiwgXCIwXCIpO1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGJ1dHRvbiwgXCJkaXNwbGF5XCIsIFwiaW5saW5lLWJsb2NrXCIpO1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGJ1dHRvbiwgXCJ3aWR0aFwiLCBcIjFlbVwiKTtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShidXR0b24sIFwidGV4dC1hbGlnblwiLCBcImNlbnRlclwiKTtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShidXR0b24sIFwidmVydGljYWwtYWxpZ25cIiwgXCJ0b3BcIik7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoYnV0dG9uLCBcImN1cnNvclwiLCBcImRlZmF1bHRcIik7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoYnV0dG9uLCBcImZvbnQtZmFtaWx5XCIsIFwiTWVubG8sc2Fucy1zZXJpZlwiKTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwib3ZlcmZsb3dcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1hZGFwdC1jbGFzc1wiLCBcInRvYy1ub2RlXCIpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJ0cmVlaXRlbVwiKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgYWRhcHRQYXJlbnRDbGFzcyA9PSBcInRvYy1ub2RlXCIgfHxcbiAgICAgICAgICBhZGFwdFBhcmVudENsYXNzID09IFwidG9jLWNvbnRhaW5lclwiXG4gICAgICAgICkge1xuICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJoZWlnaHRcIiwgXCIwcHhcIik7XG5cbiAgICAgICAgICAvLyBQcmV2ZW50IHRhYiBtb3ZlIHRvIGhpZGRlbiBhbmNob3IuXG4gICAgICAgICAgY29uc3QgYW5jaG9yRWxlbSA9IHNyY0VsZW0uZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICAgICAgaWYgKGFuY2hvckVsZW0gJiYgYW5jaG9yRWxlbS5sb2NhbE5hbWUgPT09IFwiYVwiKSB7XG4gICAgICAgICAgICAoYW5jaG9yRWxlbSBhcyBIVE1MRWxlbWVudCkudGFiSW5kZXggPSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmlld1BhcmVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwidHJlZVwiKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGFkYXB0UGFyZW50Q2xhc3MgPT0gXCJ0b2Mtbm9kZVwiKSB7XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWFkYXB0LWNsYXNzXCIsIFwidG9jLWNvbnRhaW5lclwiKTtcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJncm91cFwiKTtcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGVsZW1lbnQgYXMgRWxlbWVudCk7XG4gICAgfTtcbiAgfVxuXG4gIHNob3dUT0MoXG4gICAgZWxlbTogSFRNTEVsZW1lbnQsXG4gICAgdmlld3BvcnQ6IFZnZW4uVmlld3BvcnQsXG4gICAgd2lkdGg6IG51bWJlcixcbiAgICBoZWlnaHQ6IG51bWJlcixcbiAgICBmb250U2l6ZTogbnVtYmVyLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5QYWdlPiB7XG4gICAgaWYgKHRoaXMucGFnZSkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRoaXMucGFnZSBhcyBWdHJlZS5QYWdlKTtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuUGFnZT4gPSBUYXNrLm5ld0ZyYW1lKFwic2hvd1RPQ1wiKTtcbiAgICBjb25zdCBwYWdlID0gbmV3IFZ0cmVlLlBhZ2UoZWxlbSwgZWxlbSk7XG4gICAgdGhpcy5wYWdlID0gcGFnZTtcblxuICAgIC8vIFRoZSAoWClIVE1MIGRvYyBmb3IgdGhlIFRPQyBib3ggbWF5IGJlIHJldXNlZCBmb3IgdGhlIFRPQyBwYWdlIGluIHRoZSBib29rLFxuICAgIC8vIGJ1dCB0aGV5IG5lZWQgZGlmZmVyZW50IHN0eWxlcy4gU28sIGFkZCBcIj92aXYtdG9jLWJveFwiIHRvIGRpc3Rpbmd1aXNoIHdpdGggVE9DIHBhZ2UgVVJMLlxuICAgIGNvbnN0IHRvY0JveFVybCA9IHRoaXMudXJsICsgXCI/dml2LXRvYy1ib3hcIjtcblxuICAgIHRoaXMuc3RvcmUubG9hZCh0b2NCb3hVcmwpLnRoZW4oKHhtbGRvYykgPT4ge1xuICAgICAgLy8gTWFyayBpZiB0aGlzIGRvYyBpcyB0aGUgcHJpbWFyeSBlbnRyeSBwYWdlLlxuICAgICAgY29uc3Qgbm9uVG9jQm94RG9jID0gdGhpcy5zdG9yZS5yZXNvdXJjZXNbdGhpcy51cmxdO1xuICAgICAgaWYgKFxuICAgICAgICBub25Ub2NCb3hEb2MgJiZcbiAgICAgICAgbm9uVG9jQm94RG9jLmJvZHkgJiZcbiAgICAgICAgbm9uVG9jQm94RG9jLmJvZHkuZ2V0QXR0cmlidXRlKFwiZGF0YS12aXZsaW9zdHlsZS1wcmltYXJ5LWVudHJ5XCIpXG4gICAgICApIHtcbiAgICAgICAgeG1sZG9jLmJvZHkuc2V0QXR0cmlidXRlKFwiZGF0YS12aXZsaW9zdHlsZS1wcmltYXJ5LWVudHJ5XCIsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzdHlsZSA9IHNlbGYuc3RvcmUuZ2V0U3R5bGVGb3JEb2MoeG1sZG9jKTtcbiAgICAgIGNvbnN0IHZpZXdwb3J0U2l6ZSA9IHN0eWxlLnNpemVWaWV3cG9ydCh3aWR0aCwgMTAwMDAwLCBmb250U2l6ZSk7XG4gICAgICB2aWV3cG9ydCA9IG5ldyBWZ2VuLlZpZXdwb3J0KFxuICAgICAgICB2aWV3cG9ydC53aW5kb3csXG4gICAgICAgIHZpZXdwb3J0U2l6ZS5mb250U2l6ZSxcbiAgICAgICAgdmlld3BvcnQucm9vdCxcbiAgICAgICAgdmlld3BvcnRTaXplLndpZHRoLFxuICAgICAgICB2aWV3cG9ydFNpemUuaGVpZ2h0LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGN1c3RvbVJlbmRlcmVyID0gc2VsZi5tYWtlQ3VzdG9tUmVuZGVyZXIoeG1sZG9jKTtcbiAgICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IE9QUy5TdHlsZUluc3RhbmNlKFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgeG1sZG9jLFxuICAgICAgICBzZWxmLmxhbmcsXG4gICAgICAgIHZpZXdwb3J0LFxuICAgICAgICBzZWxmLmNsaWVudExheW91dCxcbiAgICAgICAgc2VsZi5mb250TWFwcGVyLFxuICAgICAgICBjdXN0b21SZW5kZXJlcixcbiAgICAgICAgc2VsZi5mYWxsYmFja01hcCxcbiAgICAgICAgMCxcbiAgICAgICAgc2VsZi5kb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICAgICAgICBzZWxmLmNvdW50ZXJTdG9yZSxcbiAgICAgICk7XG4gICAgICBzZWxmLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICBpbnN0YW5jZS5wcmVmID0gc2VsZi5wcmVmO1xuICAgICAgaW5zdGFuY2UuaW5pdCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBpbnN0YW5jZS5sYXlvdXROZXh0UGFnZShwYWdlLCBudWxsKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBBcnJheS5mcm9tKFxuICAgICAgICAgICAgcGFnZS5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgICAgXCJbZGF0YS12aXZsaW9zdHlsZS10b2MtYm94XT4qPio+Kj4qPipbc3R5bGUqPSdkaXNwbGF5OiBub25lJ11cIixcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKS5mb3JFYWNoKChib2R5Q2hpbGRFbGVtKSA9PiB7XG4gICAgICAgICAgICBib2R5Q2hpbGRFbGVtLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgIGJvZHlDaGlsZEVsZW0uc2V0QXR0cmlidXRlKFwiaGlkZGVuXCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNlbGYuc2V0QXV0b0hlaWdodChlbGVtLCAyKTtcbiAgICAgICAgICBmcmFtZS5maW5pc2gocGFnZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgaGlkZVRPQygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wYWdlKSB7XG4gICAgICB0aGlzLnBhZ2UuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgdGhpcy5wYWdlLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgfVxuICB9XG5cbiAgaXNUT0NWaXNpYmxlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMucGFnZSAmJiB0aGlzLnBhZ2UuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPT09IFwidmlzaWJsZVwiO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVOb2RlRXhwYW5zaW9uKGV2dDogRXZlbnQpOiB2b2lkIHtcbiAgY29uc3QgZWxlbSA9IGV2dC50YXJnZXQgYXMgRWxlbWVudDtcbiAgY29uc3Qgb3BlbiA9IGVsZW0udGV4dENvbnRlbnQgPT0gYnVsbGV0Q2xvc2VkO1xuICBlbGVtLnRleHRDb250ZW50ID0gb3BlbiA/IGJ1bGxldE9wZW4gOiBidWxsZXRDbG9zZWQ7XG4gIGNvbnN0IHRvY05vZGVFbGVtID0gZWxlbS5wYXJlbnROb2RlIGFzIEVsZW1lbnQ7XG4gIGVsZW0uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBvcGVuID8gXCJ0cnVlXCIgOiBcImZhbHNlXCIpO1xuICB0b2NOb2RlRWxlbS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIG9wZW4gPyBcInRydWVcIiA6IFwiZmFsc2VcIik7XG4gIGxldCBjOiBOb2RlID0gdG9jTm9kZUVsZW0uZmlyc3RDaGlsZDtcbiAgd2hpbGUgKGMpIHtcbiAgICBpZiAoYy5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgY29uc3QgY2UgPSBjIGFzIEhUTUxFbGVtZW50O1xuICAgICAgY29uc3QgYWRhcHRDbGFzcyA9IGNlLmdldEF0dHJpYnV0ZShcImRhdGEtYWRhcHQtY2xhc3NcIik7XG4gICAgICBpZiAoYWRhcHRDbGFzcyA9PT0gXCJ0b2MtY29udGFpbmVyXCIpIHtcbiAgICAgICAgY2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgIW9wZW4gPyBcInRydWVcIiA6IFwiZmFsc2VcIik7XG4gICAgICAgIGlmIChjZS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgYyA9IGNlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYWRhcHRDbGFzcyA9PT0gXCJ0b2Mtbm9kZVwiKSB7XG4gICAgICAgIGNlLnN0eWxlLmhlaWdodCA9IG9wZW4gPyBcImF1dG9cIiA6IFwiMHB4XCI7XG5cbiAgICAgICAgLy8gVXBkYXRlIGVuYWJsZS9kaXNhYmxlIHRhYiBtb3ZlIHRvIHRoZSBidXR0b24gYW5kIGFuY2hvci5cbiAgICAgICAgaWYgKGNlLmNoaWxkcmVuLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgKGNlLmNoaWxkcmVuWzFdIGFzIEhUTUxFbGVtZW50KS50YWJJbmRleCA9IG9wZW4gPyAwIDogLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNlLmNoaWxkcmVuLmxlbmd0aCA+PSAzKSB7XG4gICAgICAgICAgKGNlLmNoaWxkcmVuWzBdIGFzIEhUTUxFbGVtZW50KS50YWJJbmRleCA9IG9wZW4gPyAwIDogLTE7XG4gICAgICAgICAgaWYgKCFvcGVuKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtMSA9IGNlLmNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgaWYgKGVsZW0xLnRleHRDb250ZW50ID09IGJ1bGxldE9wZW4pIHtcbiAgICAgICAgICAgICAgZWxlbTEudGV4dENvbnRlbnQgPSBidWxsZXRDbG9zZWQ7XG4gICAgICAgICAgICAgIGVsZW0xLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgICAgICAgY2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICAgICAgICBjID0gY2UuY2hpbGRyZW5bMl07XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB3aGlsZSAoIWMubmV4dFNpYmxpbmcgJiYgYy5wYXJlbnROb2RlICE9PSB0b2NOb2RlRWxlbSkge1xuICAgICAgYyA9IGMucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgYyA9IGMubmV4dFNpYmxpbmc7XG4gIH1cbiAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTggVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBFcHViIC0gRGVhbCB3aXRoIE1FVEEtSU5GLyBhbmQgLm9wZiBmaWxlcyBpbiBFUFVCIGNvbnRhaW5lci5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIENGSSBmcm9tIFwiLi9jZmlcIjtcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCAqIGFzIENvdW50ZXJzIGZyb20gXCIuL2NvdW50ZXJzXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NDYXNjYWRlIGZyb20gXCIuL2Nzcy1jYXNjYWRlXCI7XG5pbXBvcnQgKiBhcyBDc3NQYXJzZXIgZnJvbSBcIi4vY3NzLXBhcnNlclwiO1xuaW1wb3J0ICogYXMgQ3NzVG9rZW5pemVyIGZyb20gXCIuL2Nzcy10b2tlbml6ZXJcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBGb250IGZyb20gXCIuL2ZvbnRcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgTmV0IGZyb20gXCIuL25ldFwiO1xuaW1wb3J0ICogYXMgT1BTIGZyb20gXCIuL29wc1wiO1xuaW1wb3J0ICogYXMgU0hBMSBmcm9tIFwiLi9zaGExXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFRvYyBmcm9tIFwiLi90b2NcIjtcbmltcG9ydCAqIGFzIFZnZW4gZnJvbSBcIi4vdmdlblwiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCAqIGFzIFhtbERvYyBmcm9tIFwiLi94bWwtZG9jXCI7XG5cbmV4cG9ydCB0eXBlIFBvc2l0aW9uID0ge1xuICBzcGluZUluZGV4OiBudW1iZXI7XG4gIHBhZ2VJbmRleDogbnVtYmVyO1xuICBvZmZzZXRJbkl0ZW06IG51bWJlcjtcbn07XG5cbmV4cG9ydCBjbGFzcyBFUFVCRG9jU3RvcmUgZXh0ZW5kcyBPUFMuT1BTRG9jU3RvcmUge1xuICBwbGFpblhNTFN0b3JlOiBYbWxEb2MuWE1MRG9jU3RvcmU7XG4gIGpzb25TdG9yZTogTmV0LkpTT05TdG9yZTtcbiAgb3BmQnlVUkw6IHsgW2tleTogc3RyaW5nXTogT1BGRG9jIH0gPSB7fTtcbiAgcHJpbWFyeU9QRkJ5RVB1YlVSTDogeyBba2V5OiBzdHJpbmddOiBPUEZEb2MgfSA9IHt9O1xuICBkZW9iZnVzY2F0b3JzOiB7IFtrZXk6IHN0cmluZ106IChwMTogQmxvYikgPT4gVGFzay5SZXN1bHQ8QmxvYj4gfSA9IHt9O1xuICBkb2N1bWVudHM6IHsgW2tleTogc3RyaW5nXTogVGFzay5SZXN1bHQ8WG1sRG9jLlhNTERvY0hvbGRlcj4gfSA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKG51bGwpO1xuICAgIHRoaXMuZm9udERlb2JmdXNjYXRvciA9IHRoaXMubWFrZURlb2JmdXNjYXRvckZhY3RvcnkoKTtcbiAgICB0aGlzLnBsYWluWE1MU3RvcmUgPSBYbWxEb2MubmV3WE1MRG9jU3RvcmUoKTtcbiAgICB0aGlzLmpzb25TdG9yZSA9IE5ldC5uZXdKU09OU3RvcmUoKTtcbiAgfVxuXG4gIG1ha2VEZW9iZnVzY2F0b3JGYWN0b3J5KCk6XG4gICAgfCAoKHAxOiBzdHJpbmcpID0+ICgocDE6IEJsb2IpID0+IFRhc2suUmVzdWx0PEJsb2I+KSB8IG51bGwpXG4gICAgfCBudWxsIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gKHVybDogc3RyaW5nKTogKChwMTogQmxvYikgPT4gVGFzay5SZXN1bHQ8QmxvYj4pIHwgbnVsbCA9PiB7XG4gICAgICByZXR1cm4gc2VsZi5kZW9iZnVzY2F0b3JzW3VybF07XG4gICAgfTtcbiAgfVxuXG4gIGxvYWRBc1BsYWluWE1MKFxuICAgIHVybDogc3RyaW5nLFxuICAgIG9wdF9yZXF1aXJlZD86IGJvb2xlYW4sXG4gICAgb3B0X21lc3NhZ2U/OiBzdHJpbmcsXG4gICk6IFRhc2suUmVzdWx0PFhtbERvYy5YTUxEb2NIb2xkZXI+IHtcbiAgICByZXR1cm4gdGhpcy5wbGFpblhNTFN0b3JlLmxvYWQoXG4gICAgICB1cmwsXG4gICAgICBvcHRfcmVxdWlyZWQsXG4gICAgICBvcHRfbWVzc2FnZSxcbiAgICApIGFzIFRhc2suUmVzdWx0PFhtbERvYy5YTUxEb2NIb2xkZXI+O1xuICB9XG5cbiAgc3RhcnRMb2FkaW5nQXNQbGFpblhNTCh1cmw6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMucGxhaW5YTUxTdG9yZS5mZXRjaCh1cmwpO1xuICB9XG5cbiAgbG9hZEFzSlNPTihcbiAgICB1cmw6IHN0cmluZyxcbiAgICBvcHRfcmVxdWlyZWQ/OiBib29sZWFuLFxuICAgIG9wdF9tZXNzYWdlPzogc3RyaW5nLFxuICApOiBUYXNrLlJlc3VsdDxCYXNlLkpTT04+IHtcbiAgICByZXR1cm4gdGhpcy5qc29uU3RvcmUubG9hZCh1cmwsIG9wdF9yZXF1aXJlZCwgb3B0X21lc3NhZ2UpO1xuICB9XG5cbiAgc3RhcnRMb2FkaW5nQXNKU09OKHVybDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5qc29uU3RvcmUuZmV0Y2godXJsKTtcbiAgfVxuXG4gIGxvYWRQdWJEb2ModXJsOiBzdHJpbmcsIGhhdmVaaXBNZXRhZGF0YTogYm9vbGVhbik6IFRhc2suUmVzdWx0PE9QRkRvYz4ge1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPE9QRkRvYz4gPSBUYXNrLm5ld0ZyYW1lKFwibG9hZFB1YkRvY1wiKTtcblxuICAgIE5ldC5hamF4KHVybCwgbnVsbCwgXCJIRUFEXCIpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDQwMCkge1xuICAgICAgICAvLyBUaGlzIHVybCBjYW4gYmUgdGhlIHJvb3Qgb2YgYW4gdW56aXBwZWQgRVBVQi5cbiAgICAgICAgdGhpcy5sb2FkRVBVQkRvYyh1cmwsIGhhdmVaaXBNZXRhZGF0YSkudGhlbigob3BmKSA9PiB7XG4gICAgICAgICAgaWYgKG9wZikge1xuICAgICAgICAgICAgZnJhbWUuZmluaXNoKG9wZik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKFxuICAgICAgICAgICAgYEZhaWxlZCB0byBmZXRjaCBhIHNvdXJjZSBkb2N1bWVudCBmcm9tICR7dXJsfSAoJHtyZXNwb25zZS5zdGF0dXN9JHtcbiAgICAgICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzVGV4dCA/IFwiIFwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dCA6IFwiXCJcbiAgICAgICAgICAgIH0pYCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIXJlc3BvbnNlLnN0YXR1cyAmJlxuICAgICAgICAgICFyZXNwb25zZS5yZXNwb25zZVhNTCAmJlxuICAgICAgICAgICFyZXNwb25zZS5yZXNwb25zZVRleHQgJiZcbiAgICAgICAgICAhcmVzcG9uc2UucmVzcG9uc2VCbG9iICYmXG4gICAgICAgICAgIXJlc3BvbnNlLmNvbnRlbnRUeXBlXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIEVtcHR5IHJlc3BvbnNlXG4gICAgICAgICAgaWYgKC9cXC9bXi8uXSsoPzpbIz9dfCQpLy50ZXN0KHVybCkpIHtcbiAgICAgICAgICAgIC8vIEFkZGluZyB0cmFpbGluZyBcIi9cIiBtYXkgc29sdmUgdGhlIHByb2JsZW0uXG4gICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgvKFsjP118JCkvLCBcIi8kMVwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWdub3JlIGVtcHR5IHJlc3BvbnNlIG9mIEhFQUQgcmVxdWVzdCwgaXQgbWF5IGJlY29tZSBPSyB3aXRoIEdFVCByZXF1ZXN0LlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgcmVzcG9uc2UuY29udGVudFR5cGUgPT0gXCJhcHBsaWNhdGlvbi9vZWJwcy1wYWNrYWdlK3htbFwiIHx8XG4gICAgICAgICAgL1xcLm9wZig/OlsjP118JCkvLnRlc3QodXJsKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBFUFVCIE9QRlxuICAgICAgICAgIGNvbnN0IFssIHB1YlVSTCwgcm9vdF0gPSB1cmwubWF0Y2goL14oKD86LipcXC8pPykoW14vXSopJC8pO1xuICAgICAgICAgIHRoaXMubG9hZE9QRihwdWJVUkwsIHJvb3QsIGhhdmVaaXBNZXRhZGF0YSkudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgcmVzcG9uc2UuY29udGVudFR5cGUgPT0gXCJhcHBsaWNhdGlvbi9sZCtqc29uXCIgfHxcbiAgICAgICAgICByZXNwb25zZS5jb250ZW50VHlwZSA9PSBcImFwcGxpY2F0aW9uL3dlYnB1Yitqc29uXCIgfHxcbiAgICAgICAgICByZXNwb25zZS5jb250ZW50VHlwZSA9PSBcImFwcGxpY2F0aW9uL2F1ZGlvYm9vaytqc29uXCIgfHxcbiAgICAgICAgICByZXNwb25zZS5jb250ZW50VHlwZSA9PSBcImFwcGxpY2F0aW9uL2pzb25cIiB8fFxuICAgICAgICAgIC9cXC5qc29uKD86bGQpPyg/OlsjP118JCkvLnRlc3QodXJsKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBXZWIgUHVibGljYXRpb24gTWFuaWZlc3RcbiAgICAgICAgICB0aGlzLmxvYWRBc0pTT04odXJsLCB0cnVlKS50aGVuKChtYW5pZmVzdE9iaikgPT4ge1xuICAgICAgICAgICAgaWYgKCFtYW5pZmVzdE9iaikge1xuICAgICAgICAgICAgICBMb2dnaW5nLmxvZ2dlci5lcnJvcihcbiAgICAgICAgICAgICAgICBgUmVjZWl2ZWQgYW4gZW1wdHkgcmVzcG9uc2UgZm9yICR7dXJsfS4gVGhpcyBtYXkgYmUgY2F1c2VkIGJ5IHRoZSBzZXJ2ZXIgbm90IGFsbG93aW5nIGNyb3NzLW9yaWdpbiByZXNvdXJjZSBzaGFyaW5nIChDT1JTKS5gLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG9wZiA9IG5ldyBPUEZEb2ModGhpcywgdXJsKTtcbiAgICAgICAgICAgIG9wZi5pbml0V2l0aFdlYlB1Yk1hbmlmZXN0KG1hbmlmZXN0T2JqKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKG9wZik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBXZWIgUHVibGljYXRpb24gcHJpbWFyeSBlbnRyeSAoWClIVE1MXG4gICAgICAgICAgdGhpcy5sb2FkV2ViUHViKHVybCkudGhlbigob3BmKSA9PiB7XG4gICAgICAgICAgICBpZiAob3BmKSB7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChvcGYpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGlzIHVybCBjYW4gYmUgdGhlIHJvb3Qgb2YgYW4gdW56aXBwZWQgRVBVQi5cbiAgICAgICAgICAgIHRoaXMubG9hZEVQVUJEb2ModXJsLCBoYXZlWmlwTWV0YWRhdGEpLnRoZW4oKG9wZikgPT4ge1xuICAgICAgICAgICAgICBpZiAob3BmKSB7XG4gICAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKG9wZik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKGBGYWlsZWQgdG8gbG9hZCAke3VybH0uYCk7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgbG9hZEVQVUJEb2ModXJsOiBzdHJpbmcsIGhhdmVaaXBNZXRhZGF0YTogYm9vbGVhbik6IFRhc2suUmVzdWx0PE9QRkRvYz4ge1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPE9QRkRvYz4gPSBUYXNrLm5ld0ZyYW1lKFwibG9hZEVQVUJEb2NcIik7XG4gICAgaWYgKCF1cmwuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICB1cmwgPSB1cmwgKyBcIi9cIjtcbiAgICB9XG4gICAgaWYgKGhhdmVaaXBNZXRhZGF0YSkge1xuICAgICAgdGhpcy5zdGFydExvYWRpbmdBc0pTT04odXJsICsgXCI/cj1saXN0XCIpO1xuICAgIH1cbiAgICB0aGlzLnN0YXJ0TG9hZGluZ0FzUGxhaW5YTUwodXJsICsgXCJNRVRBLUlORi9lbmNyeXB0aW9uLnhtbFwiKTtcbiAgICBjb25zdCBjb250YWluZXJVUkwgPSB1cmwgKyBcIk1FVEEtSU5GL2NvbnRhaW5lci54bWxcIjtcbiAgICB0aGlzLmxvYWRBc1BsYWluWE1MKGNvbnRhaW5lclVSTCkudGhlbigoY29udGFpbmVyWE1MKSA9PiB7XG4gICAgICBpZiAoY29udGFpbmVyWE1MKSB7XG4gICAgICAgIGNvbnN0IHJvb3RzID0gY29udGFpbmVyWE1MXG4gICAgICAgICAgLmRvYygpXG4gICAgICAgICAgLmNoaWxkKFwiY29udGFpbmVyXCIpXG4gICAgICAgICAgLmNoaWxkKFwicm9vdGZpbGVzXCIpXG4gICAgICAgICAgLmNoaWxkKFwicm9vdGZpbGVcIilcbiAgICAgICAgICAuYXR0cmlidXRlKFwiZnVsbC1wYXRoXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IHJvb3Qgb2Ygcm9vdHMpIHtcbiAgICAgICAgICBpZiAocm9vdCkge1xuICAgICAgICAgICAgdGhpcy5sb2FkT1BGKHVybCwgcm9vdCwgaGF2ZVppcE1ldGFkYXRhKS50aGVuRmluaXNoKGZyYW1lKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGxvYWRPUEYoXG4gICAgcHViVVJMOiBzdHJpbmcsXG4gICAgcm9vdDogc3RyaW5nLFxuICAgIGhhdmVaaXBNZXRhZGF0YTogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8T1BGRG9jPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgdXJsID0gcHViVVJMICsgcm9vdDtcbiAgICBsZXQgb3BmID0gc2VsZi5vcGZCeVVSTFt1cmxdO1xuICAgIGlmIChvcGYpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChvcGYpO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxPUEZEb2M+ID0gVGFzay5uZXdGcmFtZShcImxvYWRPUEZcIik7XG4gICAgc2VsZlxuICAgICAgLmxvYWRBc1BsYWluWE1MKHVybCwgdHJ1ZSwgYEZhaWxlZCB0byBmZXRjaCBFUFVCIE9QRiAke3VybH1gKVxuICAgICAgLnRoZW4oKG9wZlhNTCkgPT4ge1xuICAgICAgICBpZiAoIW9wZlhNTCkge1xuICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKFxuICAgICAgICAgICAgYFJlY2VpdmVkIGFuIGVtcHR5IHJlc3BvbnNlIGZvciBFUFVCIE9QRiAke3VybH0uIFRoaXMgbWF5IGJlIGNhdXNlZCBieSB0aGUgc2VydmVyIG5vdCBhbGxvd2luZyBjcm9zcy1vcmlnaW4gcmVzb3VyY2Ugc2hhcmluZyAoQ09SUykuYCxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGZcbiAgICAgICAgICAgIC5sb2FkQXNQbGFpblhNTChgJHtwdWJVUkx9TUVUQS1JTkYvZW5jcnlwdGlvbi54bWxgKVxuICAgICAgICAgICAgLnRoZW4oKGVuY1hNTCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB6aXBNZXRhZGF0YVJlc3VsdCA9IGhhdmVaaXBNZXRhZGF0YVxuICAgICAgICAgICAgICAgID8gc2VsZi5sb2FkQXNKU09OKGAke3B1YlVSTH0/cj1saXN0YClcbiAgICAgICAgICAgICAgICA6IFRhc2submV3UmVzdWx0KG51bGwpO1xuICAgICAgICAgICAgICB6aXBNZXRhZGF0YVJlc3VsdC50aGVuKCh6aXBNZXRhZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIG9wZiA9IG5ldyBPUEZEb2Moc2VsZiwgcHViVVJMKTtcbiAgICAgICAgICAgICAgICBvcGZcbiAgICAgICAgICAgICAgICAgIC5pbml0V2l0aFhNTERvYyhcbiAgICAgICAgICAgICAgICAgICAgb3BmWE1MLFxuICAgICAgICAgICAgICAgICAgICBlbmNYTUwsXG4gICAgICAgICAgICAgICAgICAgIHppcE1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICBgJHtwdWJVUkx9P3I9bWFuaWZlc3RgLFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLm9wZkJ5VVJMW3VybF0gPSBvcGY7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucHJpbWFyeU9QRkJ5RVB1YlVSTFtwdWJVUkxdID0gb3BmO1xuICAgICAgICAgICAgICAgICAgICBmcmFtZS5maW5pc2gob3BmKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBsb2FkV2ViUHViKHVybDogc3RyaW5nKTogVGFzay5SZXN1bHQ8T1BGRG9jPiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8T1BGRG9jPiA9IFRhc2submV3RnJhbWUoXCJsb2FkV2ViUHViXCIpO1xuXG4gICAgLy8gTG9hZCB0aGUgcHJpbWFyeSBlbnRyeSBwYWdlIChYKUhUTUxcbiAgICB0aGlzLmxvYWQodXJsKS50aGVuKCh4bWxkb2MpID0+IHtcbiAgICAgIGlmICgheG1sZG9jKSB7XG4gICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKFxuICAgICAgICAgIGBSZWNlaXZlZCBhbiBlbXB0eSByZXNwb25zZSBmb3IgJHt1cmx9LiBUaGlzIG1heSBiZSBjYXVzZWQgYnkgdGhlIHNlcnZlciBub3QgYWxsb3dpbmcgY3Jvc3Mtb3JpZ2luIHJlc291cmNlIHNoYXJpbmcgKENPUlMpLmAsXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICB4bWxkb2MuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICBcImFbaHJlZj0nTUVUQS1JTkYvJ10sYVtocmVmJD0nL01FVEEtSU5GLyddXCIsXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICAvLyBUaGlzIGlzIGxpa2VseSB0aGUgZGlyZWN0b3J5IGxpc3Rpbmcgb2YgdW56aXBwZWQgRVBVQiB0b3AgZGlyZWN0b3J5XG4gICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGRvYyA9IHhtbGRvYy5kb2N1bWVudDtcbiAgICAgICAgY29uc3Qgb3BmID0gbmV3IE9QRkRvYyh0aGlzLCB1cmwpO1xuXG4gICAgICAgIGlmIChkb2MuYm9keSkge1xuICAgICAgICAgIGRvYy5ib2R5LnNldEF0dHJpYnV0ZShcImRhdGEtdml2bGlvc3R5bGUtcHJpbWFyeS1lbnRyeVwiLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGaW5kIG1hbmlmZXN0LCBXM0MgV2ViUHVibGljYXRpb24gb3IgUmVhZGl1bSBXZWIgUHVibGljYXRpb24gTWFuaWZlc3RcbiAgICAgICAgY29uc3QgbWFuaWZlc3RMaW5rID0gZG9jLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgXCJsaW5rW3JlbD0ncHVibGljYXRpb24nXSxsaW5rW3JlbD0nbWFuaWZlc3QnXVt0eXBlPSdhcHBsaWNhdGlvbi93ZWJwdWIranNvbiddXCIsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChtYW5pZmVzdExpbmspIHtcbiAgICAgICAgICBjb25zdCBocmVmID0gbWFuaWZlc3RMaW5rLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gICAgICAgICAgaWYgKC9eIy8udGVzdChocmVmKSkge1xuICAgICAgICAgICAgY29uc3QgbWFuaWZlc3RPYmogPSBCYXNlLnN0cmluZ1RvSlNPTihcbiAgICAgICAgICAgICAgZG9jLmdldEVsZW1lbnRCeUlkKGhyZWYuc3Vic3RyKDEpKS50ZXh0Q29udGVudCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBvcGYuaW5pdFdpdGhXZWJQdWJNYW5pZmVzdChtYW5pZmVzdE9iaiwgZG9jKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKG9wZik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2FkQXNKU09OKFxuICAgICAgICAgICAgICBCYXNlLnJlc29sdmVVUkwobWFuaWZlc3RMaW5rLmdldEF0dHJpYnV0ZShcImhyZWZcIiksIHVybCksXG4gICAgICAgICAgICApLnRoZW4oKG1hbmlmZXN0T2JqKSA9PiB7XG4gICAgICAgICAgICAgIG9wZi5pbml0V2l0aFdlYlB1Yk1hbmlmZXN0KG1hbmlmZXN0T2JqLCBkb2MpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChvcGYpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBObyBtYW5pZmVzdFxuICAgICAgICAgIG9wZi5pbml0V2l0aFdlYlB1Yk1hbmlmZXN0KHt9LCBkb2MpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG9wZi54aHRtbFRvYyAmJiBvcGYueGh0bWxUb2Muc3JjID09PSB4bWxkb2MudXJsKSB7XG4gICAgICAgICAgICAgIC8vIHhodG1sVG9jIGlzIHRoZSBwcmltYXJpIGVudHJ5IChYKUhUTUxcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFkb2MucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgICAgIFwiW3JvbGU9ZG9jLXRvY10sIFtyb2xlPWRpcmVjdG9yeV0sIG5hdiwgLnRvYywgI3RvY1wiLFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9DIGlzIG5vdCBmb3VuZCBpbiB0aGUgcHJpbWFyaSBlbnRyeSAoWClIVE1MXG4gICAgICAgICAgICAgICAgb3BmLnhodG1sVG9jID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWUuZmluaXNoKG9wZik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBhZGREb2N1bWVudCh1cmw6IHN0cmluZywgZG9jOiBEb2N1bWVudCkge1xuICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxYbWxEb2MuWE1MRG9jSG9sZGVyPihcIkVQVUJEb2NTdG9yZS5sb2FkXCIpO1xuICAgIGNvbnN0IGRvY1VSTCA9IEJhc2Uuc3RyaXBGcmFnbWVudCh1cmwpO1xuICAgIGNvbnN0IHIgPSAodGhpcy5kb2N1bWVudHNbZG9jVVJMXSA9IHRoaXMucGFyc2VPUFNSZXNvdXJjZSh7XG4gICAgICBzdGF0dXM6IDIwMCxcbiAgICAgIHN0YXR1c1RleHQ6IFwiXCIsXG4gICAgICB1cmw6IGRvY1VSTCxcbiAgICAgIGNvbnRlbnRUeXBlOiAoZG9jIGFzIGFueSkuY29udGVudFR5cGUsXG4gICAgICByZXNwb25zZVRleHQ6IG51bGwsXG4gICAgICByZXNwb25zZVhNTDogZG9jLFxuICAgICAgcmVzcG9uc2VCbG9iOiBudWxsLFxuICAgIH0pKTtcbiAgICByLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxvYWQodXJsOiBzdHJpbmcpOiBUYXNrLlJlc3VsdDxYbWxEb2MuWE1MRG9jSG9sZGVyPiB7XG4gICAgY29uc3QgZG9jVVJMID0gQmFzZS5zdHJpcEZyYWdtZW50KHVybCk7XG4gICAgbGV0IHIgPSB0aGlzLmRvY3VtZW50c1tkb2NVUkxdO1xuICAgIGlmIChyKSB7XG4gICAgICByZXR1cm4gci5pc1BlbmRpbmcoKSA/IHIgOiBUYXNrLm5ld1Jlc3VsdChyLmdldCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPFhtbERvYy5YTUxEb2NIb2xkZXI+KFwiRVBVQkRvY1N0b3JlLmxvYWRcIik7XG4gICAgICByID0gc3VwZXIubG9hZChcbiAgICAgICAgZG9jVVJMLFxuICAgICAgICB0cnVlLFxuICAgICAgICBgRmFpbGVkIHRvIGZldGNoIGEgc291cmNlIGRvY3VtZW50IGZyb20gJHtkb2NVUkx9YCxcbiAgICAgICk7XG4gICAgICByLnRoZW4oKHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcikgPT4ge1xuICAgICAgICBpZiAoIXhtbGRvYykge1xuICAgICAgICAgIGlmIChkb2NVUkwuc3RhcnRzV2l0aChcImRhdGE6XCIpKSB7XG4gICAgICAgICAgICBMb2dnaW5nLmxvZ2dlci5lcnJvcihgRmFpbGVkIHRvIGxvYWQgJHtkb2NVUkx9LiBJbnZhbGlkIGRhdGEuYCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIGRvY1VSTC5zdGFydHNXaXRoKFwiaHR0cDpcIikgJiZcbiAgICAgICAgICAgIEJhc2UuYmFzZVVSTC5zdGFydHNXaXRoKFwiaHR0cHM6XCIpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBMb2dnaW5nLmxvZ2dlci5lcnJvcihcbiAgICAgICAgICAgICAgYEZhaWxlZCB0byBsb2FkICR7ZG9jVVJMfS4gTWl4ZWQgQ29udGVudCAoXCJodHRwOlwiIGNvbnRlbnQgb24gXCJodHRwczpcIiBjb250ZXh0KSBpcyBub3QgYWxsb3dlZC5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoXG4gICAgICAgICAgICAgIGBSZWNlaXZlZCBhbiBlbXB0eSByZXNwb25zZSBmb3IgJHtkb2NVUkx9LiBUaGlzIG1heSBiZSBjYXVzZWQgYnkgdGhlIHNlcnZlciBub3QgYWxsb3dpbmcgY3Jvc3Mtb3JpZ2luIHJlc291cmNlIHNoYXJpbmcgKENPUlMpLmAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmcmFtZS5maW5pc2goeG1sZG9jKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB0eXBlIE9QRkl0ZW1QYXJhbSA9IHtcbiAgdXJsOiBzdHJpbmc7XG4gIGluZGV4OiBudW1iZXI7XG4gIHN0YXJ0UGFnZTogbnVtYmVyIHwgbnVsbDtcbiAgc2tpcFBhZ2VzQmVmb3JlOiBudW1iZXIgfCBudWxsO1xufTtcblxuZXhwb3J0IGNsYXNzIE9QRkl0ZW0ge1xuICBpZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHNyYzogc3RyaW5nID0gXCJcIjtcbiAgbWVkaWFUeXBlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgdGl0bGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBpdGVtUmVmRWxlbWVudDogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBzcGluZUluZGV4OiBudW1iZXIgPSAtMTtcbiAgY29tcHJlc3NlZFNpemU6IG51bWJlciA9IDA7XG4gIGNvbXByZXNzZWQ6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcbiAgZXBhZ2U6IG51bWJlciA9IDA7XG4gIGVwYWdlQ291bnQ6IG51bWJlciA9IDA7XG4gIHN0YXJ0UGFnZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHNraXBQYWdlc0JlZm9yZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIGl0ZW1Qcm9wZXJ0aWVzOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLml0ZW1Qcm9wZXJ0aWVzID0gQmFzZS5lbXB0eU9iajtcbiAgfVxuXG4gIGluaXRXaXRoRWxlbWVudChpdGVtRWxlbTogRWxlbWVudCwgb3BmVVJMOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmlkID0gaXRlbUVsZW0uZ2V0QXR0cmlidXRlKFwiaWRcIik7XG4gICAgdGhpcy5zcmMgPSBCYXNlLnJlc29sdmVVUkwoaXRlbUVsZW0uZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSwgb3BmVVJMKTtcbiAgICB0aGlzLm1lZGlhVHlwZSA9IGl0ZW1FbGVtLmdldEF0dHJpYnV0ZShcIm1lZGlhLXR5cGVcIik7XG4gICAgY29uc3QgcHJvcFN0ciA9IGl0ZW1FbGVtLmdldEF0dHJpYnV0ZShcInByb3BlcnRpZXNcIik7XG4gICAgaWYgKHByb3BTdHIpIHtcbiAgICAgIHRoaXMuaXRlbVByb3BlcnRpZXMgPSBCYXNlLmFycmF5VG9TZXQocHJvcFN0ci5zcGxpdCgvXFxzKy8pKTtcbiAgICB9XG4gIH1cblxuICBpbml0V2l0aFBhcmFtKHBhcmFtOiBPUEZJdGVtUGFyYW0pIHtcbiAgICB0aGlzLnNwaW5lSW5kZXggPSBwYXJhbS5pbmRleDtcbiAgICB0aGlzLmlkID0gYGl0ZW0ke3BhcmFtLmluZGV4ICsgMX1gO1xuICAgIHRoaXMuc3JjID0gcGFyYW0udXJsO1xuICAgIHRoaXMuc3RhcnRQYWdlID0gcGFyYW0uc3RhcnRQYWdlO1xuICAgIHRoaXMuc2tpcFBhZ2VzQmVmb3JlID0gcGFyYW0uc2tpcFBhZ2VzQmVmb3JlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPUEZJdGVtSWQoaXRlbTogT1BGSXRlbSk6IHN0cmluZyB8IG51bGwge1xuICByZXR1cm4gaXRlbS5pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VEZW9iZnVzY2F0b3IodWlkOiBzdHJpbmcpOiAocDE6IEJsb2IpID0+IFRhc2suUmVzdWx0PEJsb2I+IHtcbiAgLy8gVE9ETzogdXNlIFVURjggb2YgdWlkXG4gIGNvbnN0IHNoYTFTdW0gPSBTSEExLmJ5dGVzVG9TSEExSW50OCh1aWQpO1xuICByZXR1cm4gKGJsb2IpID0+IHtcbiAgICBjb25zdCBmcmFtZSA9IFRhc2submV3RnJhbWUoXCJkZW9iZnVzY2F0b3JcIikgYXMgVGFzay5GcmFtZTxCbG9iPjtcbiAgICBsZXQgaGVhZDogQmxvYjtcbiAgICBsZXQgdGFpbDogQmxvYjtcbiAgICBpZiAoYmxvYi5zbGljZSkge1xuICAgICAgaGVhZCA9IGJsb2Iuc2xpY2UoMCwgMTA0MCk7XG4gICAgICB0YWlsID0gYmxvYi5zbGljZSgxMDQwLCBibG9iLnNpemUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkID0gYmxvYltcIndlYmtpdFNsaWNlXCJdKDAsIDEwNDApO1xuICAgICAgdGFpbCA9IGJsb2JbXCJ3ZWJraXRTbGljZVwiXSgxMDQwLCBibG9iLnNpemUgLSAxMDQwKTtcbiAgICB9XG4gICAgTmV0LnJlYWRCbG9iKGhlYWQpLnRoZW4oKGJ1ZikgPT4ge1xuICAgICAgY29uc3QgZGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmKTtcbiAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgZGF0YVZpZXcuYnl0ZUxlbmd0aDsgaysrKSB7XG4gICAgICAgIGxldCBiID0gZGF0YVZpZXcuZ2V0VWludDgoayk7XG4gICAgICAgIGIgXj0gc2hhMVN1bVtrICUgMjBdO1xuICAgICAgICBkYXRhVmlldy5zZXRVaW50OChrLCBiKTtcbiAgICAgIH1cbiAgICAgIGZyYW1lLmZpbmlzaChOZXQubWFrZUJsb2IoW2RhdGFWaWV3LCB0YWlsXSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VPYmZ1c2NhdGlvbktleSh1aWQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBgMTA0MDoke1NIQTEuYnl0ZXNUb1NIQTFIZXgodWlkKX1gO1xufVxuXG5leHBvcnQgdHlwZSBSYXdNZXRhSXRlbSA9IHtcbiAgbmFtZTogc3RyaW5nO1xuICB2YWx1ZTogc3RyaW5nO1xuICBpZDogc3RyaW5nIHwgbnVsbDtcbiAgcmVmaW5lczogc3RyaW5nIHwgbnVsbDtcbiAgc2NoZW1lOiBzdHJpbmcgfCBudWxsO1xuICBsYW5nOiBzdHJpbmcgfCBudWxsO1xuICBvcmRlcjogbnVtYmVyO1xufTtcblxuZXhwb3J0IGNvbnN0IHByZWRlZmluZWRQcmVmaXhlcyA9IHtcbiAgZGN0ZXJtczogXCJodHRwOi8vcHVybC5vcmcvZGMvdGVybXMvXCIsXG4gIG1hcmM6IFwiaHR0cDovL2lkLmxvYy5nb3Yvdm9jYWJ1bGFyeS9cIixcbiAgbWVkaWE6IFwiaHR0cDovL3d3dy5pZHBmLm9yZy9lcHViL3ZvY2FiL292ZXJsYXlzLyNcIixcbiAgcmVuZGl0aW9uOiBcImh0dHA6Ly93d3cuaWRwZi5vcmcvdm9jYWIvcmVuZGl0aW9uLyNcIixcbiAgb25peDogXCJodHRwOi8vd3d3LmVkaXRldXIub3JnL09OSVgvYm9vay9jb2RlbGlzdHMvY3VycmVudC5odG1sI1wiLFxuICB4c2Q6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjXCIsXG59O1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdElSSSA9IFwiaHR0cDovL2lkcGYub3JnL2VwdWIvdm9jYWIvcGFja2FnZS8jXCI7XG5cbmV4cG9ydCBjb25zdCBtZXRhVGVybXMgPSB7XG4gIGxhbmd1YWdlOiBgJHtwcmVkZWZpbmVkUHJlZml4ZXNbXCJkY3Rlcm1zXCJdfWxhbmd1YWdlYCxcbiAgdGl0bGU6IGAke3ByZWRlZmluZWRQcmVmaXhlc1tcImRjdGVybXNcIl19dGl0bGVgLFxuICBjcmVhdG9yOiBgJHtwcmVkZWZpbmVkUHJlZml4ZXNbXCJkY3Rlcm1zXCJdfWNyZWF0b3JgLFxuICBsYXlvdXQ6IGAke3ByZWRlZmluZWRQcmVmaXhlc1tcInJlbmRpdGlvblwiXX1sYXlvdXRgLFxuICB0aXRsZVR5cGU6IGAke2RlZmF1bHRJUkl9dGl0bGUtdHlwZWAsXG4gIGRpc3BsYXlTZXE6IGAke2RlZmF1bHRJUkl9ZGlzcGxheS1zZXFgLFxuICBhbHRlcm5hdGVTY3JpcHQ6IGAke2RlZmF1bHRJUkl9YWx0ZXJuYXRlLXNjcmlwdGAsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWV0YWRhdGFDb21wYXJhdG9yKFxuICB0ZXJtOiBzdHJpbmcsXG4gIGxhbmc6IHN0cmluZyxcbik6IChwMTogQmFzZS5KU09OLCBwMjogQmFzZS5KU09OKSA9PiBudW1iZXIge1xuICBjb25zdCBlbXB0eSA9IHt9O1xuICByZXR1cm4gKGl0ZW0xLCBpdGVtMikgPT4ge1xuICAgIGxldCBtMTogYm9vbGVhbjtcbiAgICBsZXQgbTI6IGJvb2xlYW47XG4gICAgY29uc3QgcjEgPSBpdGVtMVtcInJcIl0gfHwgZW1wdHk7XG4gICAgY29uc3QgcjIgPSBpdGVtMltcInJcIl0gfHwgZW1wdHk7XG4gICAgaWYgKHRlcm0gPT0gbWV0YVRlcm1zLnRpdGxlKSB7XG4gICAgICBtMSA9IHIxW21ldGFUZXJtcy50aXRsZVR5cGVdID09IFwibWFpblwiO1xuICAgICAgbTIgPSByMlttZXRhVGVybXMudGl0bGVUeXBlXSA9PSBcIm1haW5cIjtcbiAgICAgIGlmIChtMSAhPSBtMikge1xuICAgICAgICByZXR1cm4gbTEgPyAtMSA6IDE7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBpMSA9IHBhcnNlSW50KHIxW21ldGFUZXJtcy5kaXNwbGF5U2VxXSwgMTApO1xuICAgIGlmIChpc05hTihpMSkpIHtcbiAgICAgIGkxID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICB9XG4gICAgbGV0IGkyID0gcGFyc2VJbnQocjJbbWV0YVRlcm1zLmRpc3BsYXlTZXFdLCAxMCk7XG4gICAgaWYgKGlzTmFOKGkyKSkge1xuICAgICAgaTIgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgIH1cbiAgICBpZiAoaTEgIT0gaTIpIHtcbiAgICAgIHJldHVybiBpMSAtIGkyO1xuICAgIH1cbiAgICBpZiAodGVybSAhPSBtZXRhVGVybXMubGFuZ3VhZ2UgJiYgbGFuZykge1xuICAgICAgbTEgPSAocjFbbWV0YVRlcm1zLmxhbmd1YWdlXSB8fCByMVttZXRhVGVybXMuYWx0ZXJuYXRlU2NyaXB0XSkgPT0gbGFuZztcbiAgICAgIG0yID0gKHIyW21ldGFUZXJtcy5sYW5ndWFnZV0gfHwgcjJbbWV0YVRlcm1zLmFsdGVybmF0ZVNjcmlwdF0pID09IGxhbmc7XG4gICAgICBpZiAobTEgIT0gbTIpIHtcbiAgICAgICAgcmV0dXJuIG0xID8gLTEgOiAxO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXRlbTFbXCJvXCJdIC0gaXRlbTJbXCJvXCJdO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZE1ldGFkYXRhKFxuICBtcm9vdDogWG1sRG9jLk5vZGVMaXN0LFxuICBwcmVmaXhlczogc3RyaW5nIHwgbnVsbCxcbik6IEJhc2UuSlNPTiB7XG4gIC8vIFBhcnNlIHByZWZpeCBtYXAgKGlmIGFueSlcbiAgbGV0IHByZWZpeE1hcDtcbiAgaWYgKCFwcmVmaXhlcykge1xuICAgIHByZWZpeE1hcCA9IHByZWRlZmluZWRQcmVmaXhlcztcbiAgfSBlbHNlIHtcbiAgICBwcmVmaXhNYXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHBuIGluIHByZWRlZmluZWRQcmVmaXhlcykge1xuICAgICAgcHJlZml4TWFwW3BuXSA9IHByZWRlZmluZWRQcmVmaXhlc1twbl07XG4gICAgfVxuICAgIGxldCByOiBSZWdFeHBNYXRjaEFycmF5O1xuXG4gICAgLy8gVGhpcyBjb2RlIHBlcm1pdHMgYW55IG5vbi1BU0NJSSBjaGFyYWN0ZXJzIGluIHRoZSBuYW1lIHRvIGF2b2lkIGJsb2F0aW5nXG4gICAgLy8gdGhlIHBhdHRlcm4uXG4gICAgd2hpbGUgKFxuICAgICAgKHIgPSBwcmVmaXhlcy5tYXRjaChcbiAgICAgICAgL15cXHMqKFtBLVpfYS16XFx1MDA3Ri1cXHVGRkZGXVstLkEtWl9hLXowLTlcXHUwMDdGLVxcdUZGRkZdKik6XFxzKihcXFMrKS8sXG4gICAgICApKSAhPSBudWxsXG4gICAgKSB7XG4gICAgICBwcmVmaXhlcyA9IHByZWZpeGVzLnN1YnN0cihyWzBdLmxlbmd0aCk7XG4gICAgICBwcmVmaXhNYXBbclsxXV0gPSByWzJdO1xuICAgIH1cbiAgfVxuICBjb25zdCByZXNvbHZlUHJvcGVydHkgPSAodmFsOiBzdHJpbmcgfCBudWxsKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gICAgaWYgKHZhbCkge1xuICAgICAgY29uc3QgciA9IHZhbC5tYXRjaCgvXlxccyooKFteOl0qKTopPyhcXFMrKVxccyokLyk7XG4gICAgICBpZiAocikge1xuICAgICAgICBjb25zdCBpcmkgPSByWzJdID8gcHJlZml4TWFwW3JbMl1dIDogZGVmYXVsdElSSTtcbiAgICAgICAgaWYgKGlyaSkge1xuICAgICAgICAgIHJldHVybiBpcmkgKyByWzNdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBsZXQgb3JkZXIgPSAxO1xuXG4gIC8vIExpc3Qgb2YgbWV0YWRhdGEgaXRlbXMuXG4gIGNvbnN0IHJhd0l0ZW1zID0gbXJvb3QuY2hpbGRFbGVtZW50cygpLmZvckVhY2hOb25OdWxsKChub2RlOiBFbGVtZW50KSA9PiB7XG4gICAgaWYgKG5vZGUubG9jYWxOYW1lID09IFwibWV0YVwiKSB7XG4gICAgICBjb25zdCBwID0gcmVzb2x2ZVByb3BlcnR5KChub2RlIGFzIEVsZW1lbnQpLmdldEF0dHJpYnV0ZShcInByb3BlcnR5XCIpKTtcbiAgICAgIGlmIChwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZTogcCxcbiAgICAgICAgICB2YWx1ZTogbm9kZS50ZXh0Q29udGVudCxcbiAgICAgICAgICBpZDogKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKFwiaWRcIiksXG4gICAgICAgICAgb3JkZXI6IG9yZGVyKyssXG4gICAgICAgICAgcmVmaW5lczogKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKFwicmVmaW5lc1wiKSxcbiAgICAgICAgICBsYW5nOiBudWxsLFxuICAgICAgICAgIHNjaGVtZTogcmVzb2x2ZVByb3BlcnR5KChub2RlIGFzIEVsZW1lbnQpLmdldEF0dHJpYnV0ZShcInNjaGVtZVwiKSksXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChub2RlLm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLkRDKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBwcmVkZWZpbmVkUHJlZml4ZXNbXCJkY3Rlcm1zXCJdICsgbm9kZS5sb2NhbE5hbWUsXG4gICAgICAgIG9yZGVyOiBvcmRlcisrLFxuICAgICAgICBsYW5nOiAobm9kZSBhcyBFbGVtZW50KS5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKSxcbiAgICAgICAgdmFsdWU6IG5vZGUudGV4dENvbnRlbnQsXG4gICAgICAgIGlkOiAobm9kZSBhcyBFbGVtZW50KS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSxcbiAgICAgICAgcmVmaW5lczogbnVsbCxcbiAgICAgICAgc2NoZW1lOiBudWxsLFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0pO1xuXG4gIC8vIEl0ZW1zIGdyb3VwZWQgYnkgdGhlaXIgdGFyZ2V0IGlkLlxuICBjb25zdCByYXdJdGVtc0J5VGFyZ2V0ID0gQmFzZS5tdWx0aUluZGV4QXJyYXkoXG4gICAgcmF3SXRlbXMsXG4gICAgKHJhd0l0ZW0pID0+IHJhd0l0ZW0ucmVmaW5lcyxcbiAgKTtcbiAgY29uc3QgbWFrZU1ldGFkYXRhID0gKG1hcDoge1xuICAgIFtrZXk6IHN0cmluZ106IGFueVtdO1xuICB9KTogeyBba2V5OiBzdHJpbmddOiBhbnlbXSB9ID0+XG4gICAgQmFzZS5tYXBPYmoobWFwLCAocmF3SXRlbUFyciwgaXRlbU5hbWUpID0+XG4gICAgICByYXdJdGVtQXJyLm1hcCgocmF3SXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBlbnRyeSA9IHsgdjogcmF3SXRlbS52YWx1ZSwgbzogcmF3SXRlbS5vcmRlciB9O1xuICAgICAgICBpZiAocmF3SXRlbS5zY2hlbWEpIHtcbiAgICAgICAgICBlbnRyeVtcInNcIl0gPSByYXdJdGVtLnNjaGVtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmF3SXRlbS5pZCB8fCByYXdJdGVtLmxhbmcpIHtcbiAgICAgICAgICBsZXQgcmVmcyA9IHJhd0l0ZW1zQnlUYXJnZXRbcmF3SXRlbS5pZF07XG4gICAgICAgICAgaWYgKHJlZnMgfHwgcmF3SXRlbS5sYW5nKSB7XG4gICAgICAgICAgICBpZiAocmF3SXRlbS5sYW5nKSB7XG4gICAgICAgICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIHhtbDpsYW5nXG4gICAgICAgICAgICAgIGNvbnN0IGxhbmdJdGVtID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IG1ldGFUZXJtcy5sYW5ndWFnZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmF3SXRlbS5sYW5nLFxuICAgICAgICAgICAgICAgIGxhbmc6IG51bGwsXG4gICAgICAgICAgICAgICAgaWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgcmVmaW5lczogcmF3SXRlbS5pZCxcbiAgICAgICAgICAgICAgICBzY2hlbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgb3JkZXI6IHJhd0l0ZW0ub3JkZXIsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGlmIChyZWZzKSB7XG4gICAgICAgICAgICAgICAgcmVmcy5wdXNoKGxhbmdJdGVtKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWZzID0gW2xhbmdJdGVtXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZW50cnlNYXAgPSBCYXNlLm11bHRpSW5kZXhBcnJheShcbiAgICAgICAgICAgICAgcmVmcyxcbiAgICAgICAgICAgICAgKHJhd0l0ZW0pID0+IHJhd0l0ZW0ubmFtZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlbnRyeVtcInJcIl0gPSBtYWtlTWV0YWRhdGEoZW50cnlNYXApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICB9KSxcbiAgICApO1xuICBjb25zdCBtZXRhZGF0YSA9IG1ha2VNZXRhZGF0YShcbiAgICBCYXNlLm11bHRpSW5kZXhBcnJheShyYXdJdGVtcywgKHJhd0l0ZW0pID0+XG4gICAgICByYXdJdGVtLnJlZmluZXMgPyBudWxsIDogcmF3SXRlbS5uYW1lLFxuICAgICksXG4gICk7XG4gIGxldCBsYW5nOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgaWYgKG1ldGFkYXRhW21ldGFUZXJtcy5sYW5ndWFnZV0pIHtcbiAgICBsYW5nID0gbWV0YWRhdGFbbWV0YVRlcm1zLmxhbmd1YWdlXVswXVtcInZcIl07XG4gIH1cbiAgY29uc3Qgc29ydE1ldGFkYXRhID0gKG1ldGFkYXRhOiB7IFtrZXk6IHN0cmluZ106IGFueVtdIH0pID0+IHtcbiAgICBmb3IgKGNvbnN0IHRlcm0gaW4gbWV0YWRhdGEpIHtcbiAgICAgIGNvbnN0IGFyciA9IG1ldGFkYXRhW3Rlcm1dO1xuICAgICAgYXJyLnNvcnQoZ2V0TWV0YWRhdGFDb21wYXJhdG9yKHRlcm0sIGxhbmcpKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHIgPSBhcnJbaV1bXCJyXCJdO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIHNvcnRNZXRhZGF0YShyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgc29ydE1ldGFkYXRhKG1ldGFkYXRhKTtcbiAgcmV0dXJuIG1ldGFkYXRhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWF0aEpheEh1YigpOiBvYmplY3Qge1xuICBjb25zdCBtYXRoID0gd2luZG93W1wiTWF0aEpheFwiXTtcbiAgaWYgKG1hdGgpIHtcbiAgICByZXR1cm4gbWF0aFtcIkh1YlwiXTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrTWF0aEpheCgpOiB2b2lkIHtcbiAgaWYgKGdldE1hdGhKYXhIdWIoKSkge1xuICAgIENzc0Nhc2NhZGUuc3VwcG9ydGVkTmFtZXNwYWNlc1tCYXNlLk5TLk1BVEhNTF0gPSB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBzdXBwb3J0ZWRNZWRpYVR5cGVzID0ge1xuICBcImFwcGxpY2F0aW9uL3hodG1sK3htbFwiOiB0cnVlLFxuICBcImltYWdlL2pwZWdcIjogdHJ1ZSxcbiAgXCJpbWFnZS9wbmdcIjogdHJ1ZSxcbiAgXCJpbWFnZS9zdmcreG1sXCI6IHRydWUsXG4gIFwiaW1hZ2UvZ2lmXCI6IHRydWUsXG4gIFwiYXVkaW8vbXAzXCI6IHRydWUsXG59O1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtZWRJZFByZWZpeCA9IFwidml2LWlkLVwiO1xuXG5leHBvcnQgY2xhc3MgT1BGRG9jIHtcbiAgb3BmWE1MOiBYbWxEb2MuWE1MRG9jSG9sZGVyID0gbnVsbDtcbiAgZW5jWE1MOiBYbWxEb2MuWE1MRG9jSG9sZGVyID0gbnVsbDtcbiAgaXRlbXM6IE9QRkl0ZW1bXSA9IG51bGw7XG4gIHNwaW5lOiBPUEZJdGVtW10gPSBudWxsO1xuICBpdGVtTWFwOiB7IFtrZXk6IHN0cmluZ106IE9QRkl0ZW0gfSA9IG51bGw7XG4gIGl0ZW1NYXBCeVBhdGg6IHsgW2tleTogc3RyaW5nXTogT1BGSXRlbSB9ID0gbnVsbDtcbiAgdWlkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgYmluZGluZ3M6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcbiAgbGFuZzogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGVwYWdlQ291bnQ6IG51bWJlciA9IDA7XG4gIHByZVBhZ2luYXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBlcGFnZUlzUmVuZGVyZWRQYWdlOiBib29sZWFuID0gdHJ1ZTtcbiAgZXBhZ2VDb3VudENhbGxiYWNrOiAocDE6IG51bWJlcikgPT4gdm9pZCB8IG51bGwgPSBudWxsO1xuICBtZXRhZGF0YTogQmFzZS5KU09OID0ge307XG4gIG5jeFRvYzogT1BGSXRlbSA9IG51bGw7XG4gIHhodG1sVG9jOiBPUEZJdGVtID0gbnVsbDtcbiAgY292ZXI6IE9QRkl0ZW0gPSBudWxsO1xuICBmYWxsYmFja01hcDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuICBwYWdlUHJvZ3Jlc3Npb246IENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24gfCBudWxsID0gbnVsbDtcbiAgZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcjogQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBzdG9yZTogRVBVQkRvY1N0b3JlLFxuICAgIHB1YmxpYyByZWFkb25seSBwdWJVUkw6IHN0cmluZyxcbiAgKSB7XG4gICAgdGhpcy5kb2N1bWVudFVSTFRyYW5zZm9ybWVyID0gdGhpcy5jcmVhdGVEb2N1bWVudFVSTFRyYW5zZm9ybWVyKCk7XG4gICAgY2hlY2tNYXRoSmF4KCk7XG4gIH1cblxuICAvLyBGSVhNRTogVFM0MDU1XG4gIGNyZWF0ZURvY3VtZW50VVJMVHJhbnNmb3JtZXIoKTogQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjbGFzcyBPUEZEb2N1bWVudFVSTFRyYW5zZm9ybWVyIGltcGxlbWVudHMgQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyIHtcbiAgICAgIC8qKlxuICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgKi9cbiAgICAgIHRyYW5zZm9ybUZyYWdtZW50KGZyYWdtZW50OiBzdHJpbmcsIGJhc2VVUkw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHVybCA9IGJhc2VVUkwgKyAoZnJhZ21lbnQgPyBgIyR7ZnJhZ21lbnR9YCA6IFwiXCIpO1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWRJZFByZWZpeCArIEJhc2UuZXNjYXBlTmFtZVN0clRvSGV4KHVybCwgXCI6XCIpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICovXG4gICAgICB0cmFuc2Zvcm1VUkwodXJsOiBzdHJpbmcsIGJhc2VVUkw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHIgPSB1cmwubWF0Y2goL14oW14jXSopIz8oLiopJC8pO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIGNvbnN0IHBhdGggPSByWzFdIHx8IGJhc2VVUkw7XG4gICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSByWzJdO1xuICAgICAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5pdGVtcy5zb21lKChpdGVtKSA9PiBpdGVtLnNyYyA9PT0gcGF0aCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGAjJHt0aGlzLnRyYW5zZm9ybUZyYWdtZW50KGZyYWdtZW50LCBwYXRoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICovXG4gICAgICByZXN0b3JlVVJMKGVuY29kZWQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICAgICAgaWYgKGVuY29kZWQuY2hhckF0KDApID09PSBcIiNcIikge1xuICAgICAgICAgIGVuY29kZWQgPSBlbmNvZGVkLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5jb2RlZC5pbmRleE9mKHRyYW5zZm9ybWVkSWRQcmVmaXgpID09PSAwKSB7XG4gICAgICAgICAgZW5jb2RlZCA9IGVuY29kZWQuc3Vic3RyaW5nKHRyYW5zZm9ybWVkSWRQcmVmaXgubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWNvZGVkID0gQmFzZS51bmVzY2FwZVN0ckZyb21IZXgoZW5jb2RlZCwgXCI6XCIpO1xuICAgICAgICBjb25zdCByID0gZGVjb2RlZC5tYXRjaCgvXihbXiNdKikjPyguKikkLyk7XG4gICAgICAgIHJldHVybiByID8gW3JbMV0sIHJbMl1dIDogW107XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgT1BGRG9jdW1lbnRVUkxUcmFuc2Zvcm1lcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ldGFkYXRhIGlzIG9yZ2FuaXplZCBpbiB0aGUgZm9sbG93aW5nIHdheTogZnVsbHktZXhwYW5kZWQgcHJvcGVydHkgbmFtZXNcbiAgICogKHdpdGggSVJJIHByZWZpeGVzIHByZXBlbmRlZCkgcG9pbnQgdG8gYW4gYXJyYXkgb2YgdmFsdWVzLiBBcnJheSBjb250YWluc1xuICAgKiBhdCBsZWFzdCBvbmUgZWxlbWVudC4gRmlyc3QgZWxlbWVudCBpcyBwcmltYXJ5IGFuZCBzaG91bGQgYmUgdXNlZCBieVxuICAgKiBkZWZhdWx0LiBFbGVtZW50IHZhbHVlcyBhcmUgb2JqZWN0cyBoYXZlIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICogLSBcInZcIiAtIGl0ZW0gdmFsdWUgYXMgc3RyaW5nLFxuICAgKiAtIFwic1wiIC0gc2NoZW1lLFxuICAgKiAtIFwib1wiIC0gaW5kZXggaW4gdGhlIG9yZGVyIG9mIGFwcGVhcmluZyBpbiB0aGUgc291cmNlLFxuICAgKiAtIFwiclwiIC0gcmVmaW5lbWVudCBzdWJtZXRhZGF0YSAob3JnYW5pemVkIGp1c3QgbGlrZSB0aGUgdG9wLWxldmVsXG4gICAqIG1ldGFkYXRhKS5cbiAgICovXG4gIGdldE1ldGFkYXRhKCk6IEJhc2UuSlNPTiB7XG4gICAgcmV0dXJuIHRoaXMubWV0YWRhdGE7XG4gIH1cblxuICBnZXRQYXRoRnJvbVVSTCh1cmw6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgIGlmICh1cmwuc3RhcnRzV2l0aChcImRhdGE6XCIpKSB7XG4gICAgICByZXR1cm4gdXJsID09PSB0aGlzLnB1YlVSTCA/IFwiXCIgOiB1cmw7XG4gICAgfVxuICAgIGlmICh0aGlzLnB1YlVSTCkge1xuICAgICAgbGV0IGVwdWJCYXNlVVJMID0gQmFzZS5yZXNvbHZlVVJMKFwiXCIsIHRoaXMucHViVVJMKTtcbiAgICAgIGlmICh1cmwgPT09IGVwdWJCYXNlVVJMIHx8IHVybCArIFwiL1wiID09PSBlcHViQmFzZVVSTCkge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIH1cbiAgICAgIGlmIChlcHViQmFzZVVSTC5jaGFyQXQoZXB1YkJhc2VVUkwubGVuZ3RoIC0gMSkgIT0gXCIvXCIpIHtcbiAgICAgICAgZXB1YkJhc2VVUkwgKz0gXCIvXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXJsLnN1YnN0cigwLCBlcHViQmFzZVVSTC5sZW5ndGgpID09IGVwdWJCYXNlVVJMXG4gICAgICAgID8gZGVjb2RlVVJJKHVybC5zdWJzdHIoZXB1YkJhc2VVUkwubGVuZ3RoKSlcbiAgICAgICAgOiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgfVxuXG4gIGluaXRXaXRoWE1MRG9jKFxuICAgIG9wZlhNTDogWG1sRG9jLlhNTERvY0hvbGRlcixcbiAgICBlbmNYTUw6IFhtbERvYy5YTUxEb2NIb2xkZXIsXG4gICAgemlwTWV0YWRhdGE6IEJhc2UuSlNPTixcbiAgICBtYW5pZmVzdFVSTDogc3RyaW5nLFxuICApOiBUYXNrLlJlc3VsdDxhbnk+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLm9wZlhNTCA9IG9wZlhNTDtcbiAgICB0aGlzLmVuY1hNTCA9IGVuY1hNTDtcbiAgICBjb25zdCBwa2cgPSBvcGZYTUwuZG9jKCkuY2hpbGQoXCJwYWNrYWdlXCIpO1xuICAgIGNvbnN0IHVpZHJlZiA9IHBrZy5hdHRyaWJ1dGUoXCJ1bmlxdWUtaWRlbnRpZmllclwiKVswXTtcbiAgICBpZiAodWlkcmVmKSB7XG4gICAgICBjb25zdCB1aWRFbGVtID0gb3BmWE1MLmdldEVsZW1lbnQoYCR7b3BmWE1MLnVybH0jJHt1aWRyZWZ9YCk7XG4gICAgICBpZiAodWlkRWxlbSkge1xuICAgICAgICB0aGlzLnVpZCA9IHVpZEVsZW0udGV4dENvbnRlbnQucmVwbGFjZSgvWyBcXG5cXHJcXHRdL2csIFwiXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzcmNUb0ZhbGxiYWNrSWQgPSB7fTtcbiAgICB0aGlzLml0ZW1zID0gcGtnXG4gICAgICAuY2hpbGQoXCJtYW5pZmVzdFwiKVxuICAgICAgLmNoaWxkKFwiaXRlbVwiKVxuICAgICAgLmFzQXJyYXkoKVxuICAgICAgLm1hcCgobm9kZSkgPT4ge1xuICAgICAgICBjb25zdCBpdGVtID0gbmV3IE9QRkl0ZW0oKTtcbiAgICAgICAgY29uc3QgZWxlbSA9IG5vZGUgYXMgRWxlbWVudDtcbiAgICAgICAgaXRlbS5pbml0V2l0aEVsZW1lbnQoZWxlbSwgb3BmWE1MLnVybCk7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJmYWxsYmFja1wiKTtcbiAgICAgICAgaWYgKGZhbGxiYWNrICYmICFzdXBwb3J0ZWRNZWRpYVR5cGVzW2l0ZW0ubWVkaWFUeXBlXSkge1xuICAgICAgICAgIHNyY1RvRmFsbGJhY2tJZFtpdGVtLnNyY10gPSBmYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNlbGYueGh0bWxUb2MgJiYgaXRlbS5pdGVtUHJvcGVydGllc1tcIm5hdlwiXSkge1xuICAgICAgICAgIHNlbGYueGh0bWxUb2MgPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2VsZi5jb3ZlciAmJiBpdGVtLml0ZW1Qcm9wZXJ0aWVzW1wiY292ZXItaW1hZ2VcIl0pIHtcbiAgICAgICAgICBzZWxmLmNvdmVyID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIHRoaXMuaXRlbU1hcCA9IEJhc2UuaW5kZXhBcnJheShcbiAgICAgIHRoaXMuaXRlbXMsXG4gICAgICBnZXRPUEZJdGVtSWQgYXMgKHAxOiBPUEZJdGVtKSA9PiBzdHJpbmcgfCBudWxsLFxuICAgICk7XG4gICAgdGhpcy5pdGVtTWFwQnlQYXRoID0gQmFzZS5pbmRleEFycmF5KHRoaXMuaXRlbXMsIChpdGVtKSA9PlxuICAgICAgc2VsZi5nZXRQYXRoRnJvbVVSTChpdGVtLnNyYyksXG4gICAgKTtcbiAgICBmb3IgKGNvbnN0IHNyYyBpbiBzcmNUb0ZhbGxiYWNrSWQpIHtcbiAgICAgIGxldCBmYWxsYmFja1NyYyA9IHNyYztcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW1NYXBbc3JjVG9GYWxsYmFja0lkW2ZhbGxiYWNrU3JjXV07XG4gICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdXBwb3J0ZWRNZWRpYVR5cGVzW2l0ZW0ubWVkaWFUeXBlXSkge1xuICAgICAgICAgIHRoaXMuZmFsbGJhY2tNYXBbc3JjXSA9IGl0ZW0uc3JjO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGZhbGxiYWNrU3JjID0gaXRlbS5zcmM7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc3BpbmUgPSBwa2dcbiAgICAgIC5jaGlsZChcInNwaW5lXCIpXG4gICAgICAuY2hpbGQoXCJpdGVtcmVmXCIpXG4gICAgICAuYXNBcnJheSgpXG4gICAgICAubWFwKChub2RlLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtID0gbm9kZSBhcyBFbGVtZW50O1xuICAgICAgICBjb25zdCBpZCA9IGVsZW0uZ2V0QXR0cmlidXRlKFwiaWRyZWZcIik7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBzZWxmLml0ZW1NYXBbaWQgYXMgc3RyaW5nXTtcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICBpdGVtLml0ZW1SZWZFbGVtZW50ID0gZWxlbTtcbiAgICAgICAgICBpdGVtLnNwaW5lSW5kZXggPSBpbmRleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIGNvbnN0IHRvY0F0dHIgPSBwa2cuY2hpbGQoXCJzcGluZVwiKS5hdHRyaWJ1dGUoXCJ0b2NcIilbMF07XG4gICAgaWYgKHRvY0F0dHIpIHtcbiAgICAgIHRoaXMubmN4VG9jID0gdGhpcy5pdGVtTWFwW3RvY0F0dHJdO1xuICAgIH1cbiAgICBjb25zdCBwYWdlUHJvZ3Jlc3Npb25BdHRyID0gcGtnXG4gICAgICAuY2hpbGQoXCJzcGluZVwiKVxuICAgICAgLmF0dHJpYnV0ZShcInBhZ2UtcHJvZ3Jlc3Npb24tZGlyZWN0aW9uXCIpWzBdO1xuICAgIGlmIChwYWdlUHJvZ3Jlc3Npb25BdHRyKSB7XG4gICAgICB0aGlzLnBhZ2VQcm9ncmVzc2lvbiA9IENvbnN0YW50cy5wYWdlUHJvZ3Jlc3Npb25PZihwYWdlUHJvZ3Jlc3Npb25BdHRyKTtcbiAgICB9XG4gICAgY29uc3QgaWRwZk9iZlVSTHMgPSAhZW5jWE1MXG4gICAgICA/IFtdXG4gICAgICA6IGVuY1hNTFxuICAgICAgICAgIC5kb2MoKVxuICAgICAgICAgIC5jaGlsZChcImVuY3J5cHRpb25cIilcbiAgICAgICAgICAuY2hpbGQoXCJFbmNyeXB0ZWREYXRhXCIpXG4gICAgICAgICAgLnByZWRpY2F0ZShcbiAgICAgICAgICAgIFhtbERvYy5wcmVkaWNhdGUud2l0aENoaWxkKFxuICAgICAgICAgICAgICBcIkVuY3J5cHRpb25NZXRob2RcIixcbiAgICAgICAgICAgICAgWG1sRG9jLnByZWRpY2F0ZS53aXRoQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgIFwiQWxnb3JpdGhtXCIsXG4gICAgICAgICAgICAgICAgXCJodHRwOi8vd3d3LmlkcGYub3JnLzIwMDgvZW1iZWRkaW5nXCIsXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLFxuICAgICAgICAgIClcbiAgICAgICAgICAuY2hpbGQoXCJDaXBoZXJEYXRhXCIpXG4gICAgICAgICAgLmNoaWxkKFwiQ2lwaGVyUmVmZXJlbmNlXCIpXG4gICAgICAgICAgLmF0dHJpYnV0ZShcIlVSSVwiKTtcbiAgICBjb25zdCBtZWRpYVR5cGVFbGVtcyA9IHBrZ1xuICAgICAgLmNoaWxkKFwiYmluZGluZ3NcIilcbiAgICAgIC5jaGlsZChcIm1lZGlhVHlwZVwiKVxuICAgICAgLmFzQXJyYXkoKSBhcyBFbGVtZW50W107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZWRpYVR5cGVFbGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaGFuZGxlcklkID0gbWVkaWFUeXBlRWxlbXNbaV0uZ2V0QXR0cmlidXRlKFwiaGFuZGxlclwiKTtcbiAgICAgIGNvbnN0IG1lZGlhVHlwZSA9IG1lZGlhVHlwZUVsZW1zW2ldLmdldEF0dHJpYnV0ZShcIm1lZGlhLXR5cGVcIik7XG4gICAgICBpZiAobWVkaWFUeXBlICYmIGhhbmRsZXJJZCAmJiB0aGlzLml0ZW1NYXBbaGFuZGxlcklkXSkge1xuICAgICAgICB0aGlzLmJpbmRpbmdzW21lZGlhVHlwZV0gPSB0aGlzLml0ZW1NYXBbaGFuZGxlcklkXS5zcmM7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubWV0YWRhdGEgPSByZWFkTWV0YWRhdGEoXG4gICAgICBwa2cuY2hpbGQoXCJtZXRhZGF0YVwiKSxcbiAgICAgIHBrZy5hdHRyaWJ1dGUoXCJwcmVmaXhcIilbMF0sXG4gICAgKTtcbiAgICBpZiAodGhpcy5tZXRhZGF0YVttZXRhVGVybXMubGFuZ3VhZ2VdKSB7XG4gICAgICB0aGlzLmxhbmcgPSB0aGlzLm1ldGFkYXRhW21ldGFUZXJtcy5sYW5ndWFnZV1bMF1bXCJ2XCJdO1xuICAgIH1cbiAgICBpZiAodGhpcy5tZXRhZGF0YVttZXRhVGVybXMubGF5b3V0XSkge1xuICAgICAgdGhpcy5wcmVQYWdpbmF0ZWQgPVxuICAgICAgICB0aGlzLm1ldGFkYXRhW21ldGFUZXJtcy5sYXlvdXRdWzBdW1widlwiXSA9PT0gXCJwcmUtcGFnaW5hdGVkXCI7XG4gICAgfVxuXG4gICAgaWYgKCF6aXBNZXRhZGF0YSkge1xuICAgICAgaWYgKGlkcGZPYmZVUkxzLmxlbmd0aCA+IDAgJiYgdGhpcy51aWQpIHtcbiAgICAgICAgLy8gSGF2ZSB0byBkZW9iZnVzY2F0ZSBpbiBKYXZhU2NyaXB0XG4gICAgICAgIGNvbnN0IGRlb2JmdXNjYXRvciA9IG1ha2VEZW9iZnVzY2F0b3IodGhpcy51aWQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlkcGZPYmZVUkxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5zdG9yZS5kZW9iZnVzY2F0b3JzW3RoaXMucHViVVJMICsgaWRwZk9iZlVSTHNbaV1dID0gZGVvYmZ1c2NhdG9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wcmVQYWdpbmF0ZWQpIHtcbiAgICAgICAgdGhpcy5hc3NpZ25BdXRvUGFnZXMoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgY29uc3QgbWFuaWZlc3RUZXh0ID0gbmV3IEJhc2UuU3RyaW5nQnVmZmVyKCk7XG4gICAgY29uc3Qgb2JmdXNjYXRpb25zID0ge307XG4gICAgaWYgKGlkcGZPYmZVUkxzLmxlbmd0aCA+IDAgJiYgdGhpcy51aWQpIHtcbiAgICAgIC8vIERlb2JmdXNjYXRlIGluIHRoZSBzZXJ2ZXIuXG4gICAgICBjb25zdCBvYmZ1c2NhdGlvbktleSA9IG1ha2VPYmZ1c2NhdGlvbktleSh0aGlzLnVpZCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlkcGZPYmZVUkxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG9iZnVzY2F0aW9uc1tpZHBmT2JmVVJMc1tpXV0gPSBvYmZ1c2NhdGlvbktleTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB6aXBNZXRhZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZW50cnkgPSB6aXBNZXRhZGF0YVtpXTtcbiAgICAgIGNvbnN0IGVuY29kZWRQYXRoID0gZW50cnlbXCJuXCJdO1xuICAgICAgaWYgKGVuY29kZWRQYXRoKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBkZWNvZGVVUkkoZW5jb2RlZFBhdGgpO1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5pdGVtTWFwQnlQYXRoW3BhdGhdO1xuICAgICAgICBsZXQgbWVkaWFUeXBlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICBpdGVtLmNvbXByZXNzZWQgPSBlbnRyeVtcIm1cIl0gIT0gMDtcbiAgICAgICAgICBpdGVtLmNvbXByZXNzZWRTaXplID0gZW50cnlbXCJjXCJdO1xuICAgICAgICAgIGlmIChpdGVtLm1lZGlhVHlwZSkge1xuICAgICAgICAgICAgbWVkaWFUeXBlID0gaXRlbS5tZWRpYVR5cGUucmVwbGFjZSgvXFxzKy9nLCBcIlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2JmdXNjYXRpb24gPSBvYmZ1c2NhdGlvbnNbcGF0aF07XG4gICAgICAgIGlmIChtZWRpYVR5cGUgfHwgb2JmdXNjYXRpb24pIHtcbiAgICAgICAgICBtYW5pZmVzdFRleHQuYXBwZW5kKGVuY29kZWRQYXRoKTtcbiAgICAgICAgICBtYW5pZmVzdFRleHQuYXBwZW5kKFwiIFwiKTtcbiAgICAgICAgICBtYW5pZmVzdFRleHQuYXBwZW5kKG1lZGlhVHlwZSB8fCBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiKTtcbiAgICAgICAgICBpZiAob2JmdXNjYXRpb24pIHtcbiAgICAgICAgICAgIG1hbmlmZXN0VGV4dC5hcHBlbmQoXCIgXCIpO1xuICAgICAgICAgICAgbWFuaWZlc3RUZXh0LmFwcGVuZChvYmZ1c2NhdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1hbmlmZXN0VGV4dC5hcHBlbmQoXCJcXG5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgc2VsZi5hc3NpZ25BdXRvUGFnZXMoKTtcbiAgICByZXR1cm4gTmV0LmFqYXgoXG4gICAgICBtYW5pZmVzdFVSTCxcbiAgICAgIE5ldC5YTUxIdHRwUmVxdWVzdFJlc3BvbnNlVHlwZS5ERUZBVUxULFxuICAgICAgXCJQT1NUXCIsXG4gICAgICBtYW5pZmVzdFRleHQudG9TdHJpbmcoKSxcbiAgICAgIFwidGV4dC9wbGFpblwiLFxuICAgICk7XG4gIH1cblxuICBhc3NpZ25BdXRvUGFnZXMoKTogdm9pZCB7XG4gICAgbGV0IGVwYWdlID0gMDtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5zcGluZSkge1xuICAgICAgY29uc3QgZXBhZ2VDb3VudCA9IHRoaXMucHJlUGFnaW5hdGVkXG4gICAgICAgID8gMVxuICAgICAgICA6IE1hdGguY2VpbChpdGVtLmNvbXByZXNzZWRTaXplIC8gMTAyNCk7XG4gICAgICBpdGVtLmVwYWdlID0gZXBhZ2U7XG4gICAgICBpdGVtLmVwYWdlQ291bnQgPSBlcGFnZUNvdW50O1xuICAgICAgZXBhZ2UgKz0gZXBhZ2VDb3VudDtcbiAgICB9XG4gICAgdGhpcy5lcGFnZUNvdW50ID0gZXBhZ2U7XG5cbiAgICBpZiAodGhpcy5lcGFnZUNvdW50Q2FsbGJhY2spIHtcbiAgICAgIHRoaXMuZXBhZ2VDb3VudENhbGxiYWNrKHRoaXMuZXBhZ2VDb3VudCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RVBhZ2VDb3VudE1vZGUoZXBhZ2VJc1JlbmRlcmVkUGFnZTogYm9vbGVhbikge1xuICAgIHRoaXMuZXBhZ2VJc1JlbmRlcmVkUGFnZSA9IGVwYWdlSXNSZW5kZXJlZFBhZ2UgfHwgdGhpcy5wcmVQYWdpbmF0ZWQ7XG4gIH1cblxuICBjb3VudEVQYWdlcyhcbiAgICBlcGFnZUNvdW50Q2FsbGJhY2s6ICgocDE6IG51bWJlcikgPT4gdm9pZCkgfCBudWxsLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgdGhpcy5lcGFnZUNvdW50Q2FsbGJhY2sgPSBlcGFnZUNvdW50Q2FsbGJhY2s7XG5cbiAgICBpZiAodGhpcy5lcGFnZUlzUmVuZGVyZWRQYWdlKSB7XG4gICAgICBpZiAodGhpcy5wcmVQYWdpbmF0ZWQgJiYgdGhpcy5lcGFnZUNvdW50ID09IDApIHtcbiAgICAgICAgdGhpcy5hc3NpZ25BdXRvUGFnZXMoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG5cbiAgICBsZXQgZXBhZ2UgPSAwO1xuICAgIGxldCBpID0gMDtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJjb3VudEVQYWdlc1wiKTtcbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICBpZiAoaSA9PT0gdGhpcy5zcGluZS5sZW5ndGgpIHtcbiAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnNwaW5lW2krK107XG4gICAgICAgIGl0ZW0uZXBhZ2UgPSBlcGFnZTtcbiAgICAgICAgdGhpcy5zdG9yZS5sb2FkKGl0ZW0uc3JjKS50aGVuKCh4bWxkb2MpID0+IHtcbiAgICAgICAgICAvLyBBY2NvcmRpbmcgdG8gdGhlIG9sZCBjb21tZW50LFxuICAgICAgICAgIC8vIFwiRXN0aW1hdGUgdGhhdCBvZmZzZXQ9MjcwMCByb3VnaGx5IGNvcnJlc3BvbmRzIHRvIDEwMjQgYnl0ZXMgb2YgY29tcHJlc3NlZCBzaXplLlwiXG4gICAgICAgICAgLy8gSG93ZXZlciwgaXQgc2hvdWxkIGRlcGVuZCBvbiB0aGUgbGFuZ3VhZ2UuXG4gICAgICAgICAgLy8gRnVydGhlciBhZGp1c3RtZW50IG5lZWRlZC5cblxuICAgICAgICAgIC8vbGV0IG9mZnNldFBlckVQYWdlID0gMjcwMDtcbiAgICAgICAgICBsZXQgb2Zmc2V0UGVyRVBhZ2UgPSAxODAwO1xuICAgICAgICAgIGNvbnN0IGxhbmcgPSB4bWxkb2MubGFuZyB8fCB0aGlzLmxhbmc7XG4gICAgICAgICAgaWYgKGxhbmcgJiYgbGFuZy5tYXRjaCgvXihqYXxrb3x6aCkvKSkge1xuICAgICAgICAgICAgb2Zmc2V0UGVyRVBhZ2UgLz0gMztcbiAgICAgICAgICB9XG4gICAgICAgICAgaXRlbS5lcGFnZUNvdW50ID0gTWF0aC5jZWlsKHhtbGRvYy5nZXRUb3RhbE9mZnNldCgpIC8gb2Zmc2V0UGVyRVBhZ2UpO1xuICAgICAgICAgIGVwYWdlICs9IGl0ZW0uZXBhZ2VDb3VudDtcbiAgICAgICAgICB0aGlzLmVwYWdlQ291bnQgPSBlcGFnZTtcbiAgICAgICAgICBpZiAodGhpcy5lcGFnZUNvdW50Q2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuZXBhZ2VDb3VudENhbGxiYWNrKHRoaXMuZXBhZ2VDb3VudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZmFrZSBPUEYgXCJkb2N1bWVudFwiIHRoYXQgY29udGFpbnMgT1BTIGNoYXB0ZXJzLlxuICAgKi9cbiAgaW5pdFdpdGhDaGFwdGVycyhwYXJhbXM6IE9QRkl0ZW1QYXJhbVtdLCBkb2M/OiBEb2N1bWVudCB8IG51bGwpIHtcbiAgICB0aGlzLml0ZW1NYXAgPSB7fTtcbiAgICB0aGlzLml0ZW1NYXBCeVBhdGggPSB7fTtcbiAgICB0aGlzLml0ZW1zID0gW107XG4gICAgdGhpcy5zcGluZSA9IHRoaXMuaXRlbXM7XG5cbiAgICAvLyBjcmVhdGUgYSBtaW5pbXVtIGZha2UgT1BGIFhNTCBmb3IgbmF2aWdhdGlvbiB3aXRoIEVQVUIgQ0ZJXG4gICAgY29uc3Qgb3BmWE1MID0gKHRoaXMub3BmWE1MID0gbmV3IFhtbERvYy5YTUxEb2NIb2xkZXIoXG4gICAgICBudWxsLFxuICAgICAgXCJcIixcbiAgICAgIG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoXCI8c3BpbmU+PC9zcGluZT5cIiwgXCJ0ZXh0L3htbFwiKSxcbiAgICApKTtcbiAgICBwYXJhbXMuZm9yRWFjaCgocGFyYW0pID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBuZXcgT1BGSXRlbSgpO1xuICAgICAgaXRlbS5pbml0V2l0aFBhcmFtKHBhcmFtKTtcbiAgICAgIEFzc2VydHMuYXNzZXJ0KGl0ZW0uaWQpO1xuICAgICAgY29uc3QgaXRlbXJlZiA9IG9wZlhNTC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaXRlbXJlZlwiKTtcbiAgICAgIGl0ZW1yZWYuc2V0QXR0cmlidXRlKFwiaWRyZWZcIiwgaXRlbS5pZCk7XG4gICAgICBvcGZYTUwucm9vdC5hcHBlbmRDaGlsZChpdGVtcmVmKTtcbiAgICAgIGl0ZW0uaXRlbVJlZkVsZW1lbnQgPSBpdGVtcmVmO1xuICAgICAgdGhpcy5pdGVtTWFwW2l0ZW0uaWRdID0gaXRlbTtcbiAgICAgIGxldCBwYXRoID0gdGhpcy5nZXRQYXRoRnJvbVVSTChwYXJhbS51cmwpO1xuICAgICAgaWYgKHBhdGggPT0gbnVsbCkge1xuICAgICAgICBwYXRoID0gcGFyYW0udXJsO1xuICAgICAgfVxuICAgICAgdGhpcy5pdGVtTWFwQnlQYXRoW3BhdGhdID0gaXRlbTtcbiAgICAgIHRoaXMuaXRlbXMucHVzaChpdGVtKTtcbiAgICB9KTtcbiAgICBpZiAoZG9jKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdG9yZS5hZGREb2N1bWVudChwYXJhbXNbMF0udXJsLCBkb2MpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCk7XG4gICAgfVxuICB9XG5cbiAgaW5pdFdpdGhXZWJQdWJNYW5pZmVzdChcbiAgICBtYW5pZmVzdE9iajogQmFzZS5KU09OLFxuICAgIGRvYz86IERvY3VtZW50LFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgaWYgKG1hbmlmZXN0T2JqW1wicmVhZGluZ1Byb2dyZXNzaW9uXCJdKSB7XG4gICAgICB0aGlzLnBhZ2VQcm9ncmVzc2lvbiA9IG1hbmlmZXN0T2JqW1wicmVhZGluZ1Byb2dyZXNzaW9uXCJdO1xuICAgIH1cbiAgICBpZiAodGhpcy5tZXRhZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLm1ldGFkYXRhID0ge307XG4gICAgfVxuICAgIGNvbnN0IHRpdGxlID1cbiAgICAgIChkb2MgJiYgZG9jLnRpdGxlKSB8fFxuICAgICAgbWFuaWZlc3RPYmpbXCJuYW1lXCJdIHx8XG4gICAgICAobWFuaWZlc3RPYmpbXCJtZXRhZGF0YVwiXSAmJiBtYW5pZmVzdE9ialtcIm1ldGFkYXRhXCJdW1widGl0bGVcIl0pO1xuICAgIGlmICh0aXRsZSkge1xuICAgICAgdGhpcy5tZXRhZGF0YVttZXRhVGVybXMudGl0bGVdID0gW3sgdjogdGl0bGUgfV07XG4gICAgfVxuICAgIC8vIFRPRE86IG90aGVyIG1ldGFkYXRhLi4uXG5cbiAgICBjb25zdCBwcmltYXJ5RW50cnlQYXRoID0gdGhpcy5nZXRQYXRoRnJvbVVSTCh0aGlzLnB1YlVSTCk7XG4gICAgaWYgKCFtYW5pZmVzdE9ialtcInJlYWRpbmdPcmRlclwiXSAmJiBkb2MgJiYgcHJpbWFyeUVudHJ5UGF0aCAhPT0gbnVsbCkge1xuICAgICAgbWFuaWZlc3RPYmpbXCJyZWFkaW5nT3JkZXJcIl0gPSBbZW5jb2RlVVJJKHByaW1hcnlFbnRyeVBhdGgpXTtcblxuICAgICAgLy8gRmluZCBUT0MgaW4gdGhlIHByaW1hcnkgZW50cnkgKFgpSFRNTFxuICAgICAgY29uc3Qgc2VsZWN0b3IgPVxuICAgICAgICBcIltyb2xlPWRvYy10b2NdIGFbaHJlZl0sXCIgK1xuICAgICAgICBcIltyb2xlPWRpcmVjdG9yeV0gYVtocmVmXSxcIiArXG4gICAgICAgIFwibmF2IGxpIGFbaHJlZl0sXCIgK1xuICAgICAgICBcIi50b2MgYVtocmVmXSxcIiArXG4gICAgICAgIFwiI3RvYyBhW2hyZWZdXCI7XG4gICAgICBBcnJheS5mcm9tKGRvYy5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSkuZm9yRWFjaCgoYW5jaG9yRWxlbSkgPT4ge1xuICAgICAgICBjb25zdCBocmVmTm9GcmFnbWVudCA9IEJhc2Uuc3RyaXBGcmFnbWVudChcbiAgICAgICAgICBCYXNlLnJlc29sdmVVUkwoYW5jaG9yRWxlbS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLCB0aGlzLnB1YlVSTCksXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmdldFBhdGhGcm9tVVJMKGhyZWZOb0ZyYWdtZW50KTtcbiAgICAgICAgY29uc3QgdXJsID0gcGF0aCAhPT0gbnVsbCA/IGVuY29kZVVSSShwYXRoKSA6IGhyZWZOb0ZyYWdtZW50O1xuICAgICAgICBpZiAobWFuaWZlc3RPYmpbXCJyZWFkaW5nT3JkZXJcIl0uaW5kZXhPZih1cmwpID09IC0xKSB7XG4gICAgICAgICAgbWFuaWZlc3RPYmpbXCJyZWFkaW5nT3JkZXJcIl0ucHVzaCh1cmwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJhbXMgPSBbXTtcbiAgICBsZXQgaXRlbUNvdW50ID0gMDtcbiAgICBsZXQgdG9jRm91bmQgPSAtMTtcbiAgICBbbWFuaWZlc3RPYmpbXCJyZWFkaW5nT3JkZXJcIl0sIG1hbmlmZXN0T2JqW1wicmVzb3VyY2VzXCJdXS5mb3JFYWNoKFxuICAgICAgKHJlYWRpbmdPcmRlck9yUmVzb3VyY2VzKSA9PiB7XG4gICAgICAgIGlmIChyZWFkaW5nT3JkZXJPclJlc291cmNlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgcmVhZGluZ09yZGVyT3JSZXNvdXJjZXMuZm9yRWFjaCgoaXRlbU9iaikgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNJblJlYWRpbmdPcmRlciA9IG1hbmlmZXN0T2JqW1wicmVhZGluZ09yZGVyXCJdLmluY2x1ZGVzKFxuICAgICAgICAgICAgICBpdGVtT2JqLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9XG4gICAgICAgICAgICAgIHR5cGVvZiBpdGVtT2JqID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgPyBpdGVtT2JqXG4gICAgICAgICAgICAgICAgOiBpdGVtT2JqLnVybCB8fCBpdGVtT2JqLmhyZWY7XG4gICAgICAgICAgICBjb25zdCBlbmNvZGluZ0Zvcm1hdCA9XG4gICAgICAgICAgICAgIHR5cGVvZiBpdGVtT2JqID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgPyBcIlwiXG4gICAgICAgICAgICAgICAgOiBpdGVtT2JqLmVuY29kaW5nRm9ybWF0IHx8XG4gICAgICAgICAgICAgICAgICAoaXRlbU9iai5ocmVmICYmIGl0ZW1PYmoudHlwZSkgfHxcbiAgICAgICAgICAgICAgICAgIFwiXCI7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGlzSW5SZWFkaW5nT3JkZXIgfHxcbiAgICAgICAgICAgICAgZW5jb2RpbmdGb3JtYXQgPT09IFwidGV4dC9odG1sXCIgfHxcbiAgICAgICAgICAgICAgZW5jb2RpbmdGb3JtYXQgPT09IFwiYXBwbGljYXRpb24veGh0bWwreG1sXCIgfHxcbiAgICAgICAgICAgICAgLyhefFxcLykoW14vXStcXC4oeD9odG1sfGh0bXx4aHQpfFteLy5dKikoWyM/XXwkKS8udGVzdCh1cmwpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29uc3QgcGFyYW0gPSB7XG4gICAgICAgICAgICAgICAgdXJsOiBCYXNlLnJlc29sdmVVUkwoQmFzZS5jb252ZXJ0U3BlY2lhbFVSTCh1cmwpLCB0aGlzLnB1YlVSTCksXG4gICAgICAgICAgICAgICAgaW5kZXg6IGl0ZW1Db3VudCsrLFxuICAgICAgICAgICAgICAgIHN0YXJ0UGFnZTogbnVsbCxcbiAgICAgICAgICAgICAgICBza2lwUGFnZXNCZWZvcmU6IG51bGwsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGlmIChpdGVtT2JqLnJlbCA9PT0gXCJjb250ZW50c1wiICYmIHRvY0ZvdW5kID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRvY0ZvdW5kID0gcGFyYW0uaW5kZXg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGFyYW1zLnB1c2gocGFyYW0pO1xuXG4gICAgICAgICAgICAgIC8vVE9ETzogaXRlbXMgbm90IGluIHJlYWRpbmdPcmRlciBzaG91bGQgYmUgZXhjbHVkZWQgZnJvbSBsaW5lYXIgcmVhZGluZyBidXQgYXZhaWxhYmxlIHdpdGggaW50ZXJuYWwgbGluayBuYXZpZ2F0aW9uLlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICk7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwiaW5pdFdpdGhXZWJQdWJNYW5pZmVzdFwiKTtcbiAgICB0aGlzLmluaXRXaXRoQ2hhcHRlcnMocGFyYW1zKS50aGVuKCgpID0+IHtcbiAgICAgIGlmICh0b2NGb3VuZCAhPT0gLTEpIHtcbiAgICAgICAgdGhpcy54aHRtbFRvYyA9IHRoaXMuaXRlbXNbdG9jRm91bmRdO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMueGh0bWxUb2MpIHtcbiAgICAgICAgdGhpcy54aHRtbFRvYyA9IHRoaXMuaXRlbU1hcEJ5UGF0aFtwcmltYXJ5RW50cnlQYXRoXTtcbiAgICAgIH1cblxuICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGNmaVxuICAgKi9cbiAgZ2V0Q0ZJKHNwaW5lSW5kZXg6IG51bWJlciwgb2Zmc2V0SW5JdGVtOiBudW1iZXIpOiBUYXNrLlJlc3VsdDxzdHJpbmcgfCBudWxsPiB7XG4gICAgY29uc3QgaXRlbSA9IHRoaXMuc3BpbmVbc3BpbmVJbmRleF07XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8c3RyaW5nIHwgbnVsbD4gPSBUYXNrLm5ld0ZyYW1lKFwiZ2V0Q0ZJXCIpO1xuICAgIHRoaXMuc3RvcmUubG9hZChpdGVtLnNyYykudGhlbigoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKSA9PiB7XG4gICAgICBjb25zdCBub2RlID0geG1sZG9jLmdldE5vZGVCeU9mZnNldChvZmZzZXRJbkl0ZW0pO1xuICAgICAgbGV0IGNmaTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICBpZiAobm9kZSkge1xuICAgICAgICBjb25zdCBzdGFydE9mZnNldCA9IHhtbGRvYy5nZXROb2RlT2Zmc2V0KG5vZGUsIDAsIGZhbHNlKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0SW5Ob2RlID0gb2Zmc2V0SW5JdGVtIC0gc3RhcnRPZmZzZXQ7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gbmV3IENGSS5GcmFnbWVudCgpO1xuICAgICAgICBmcmFnbWVudC5wcmVwZW5kUGF0aEZyb21Ob2RlKG5vZGUsIG9mZnNldEluTm9kZSwgZmFsc2UsIG51bGwpO1xuICAgICAgICBpZiAoaXRlbS5pdGVtUmVmRWxlbWVudCkge1xuICAgICAgICAgIGZyYWdtZW50LnByZXBlbmRQYXRoRnJvbU5vZGUoaXRlbS5pdGVtUmVmRWxlbWVudCwgMCwgZmFsc2UsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGNmaSA9IGZyYWdtZW50LnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICBmcmFtZS5maW5pc2goY2ZpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICByZXNvbHZlRnJhZ21lbnQoZnJhZ3N0cjogc3RyaW5nIHwgbnVsbCk6IFRhc2suUmVzdWx0PFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBUYXNrLmhhbmRsZShcbiAgICAgIFwicmVzb2x2ZUZyYWdtZW50XCIsXG4gICAgICAoZnJhbWU6IFRhc2suRnJhbWU8UG9zaXRpb24gfCBudWxsPik6IHZvaWQgPT4ge1xuICAgICAgICBpZiAoIWZyYWdzdHIpIHtcbiAgICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBmcmFnbWVudCA9IG5ldyBDRkkuRnJhZ21lbnQoKTtcbiAgICAgICAgZnJhZ21lbnQuZnJvbVN0cmluZyhmcmFnc3RyKTtcbiAgICAgICAgbGV0IGl0ZW06IE9QRkl0ZW07XG4gICAgICAgIGlmIChzZWxmLm9wZlhNTCkge1xuICAgICAgICAgIGNvbnN0IG9wZk5hdiA9IGZyYWdtZW50Lm5hdmlnYXRlKHNlbGYub3BmWE1MLmRvY3VtZW50KTtcbiAgICAgICAgICBpZiAob3BmTmF2Lm5vZGUubm9kZVR5cGUgIT0gMSB8fCBvcGZOYXYuYWZ0ZXIgfHwgIW9wZk5hdi5yZWYpIHtcbiAgICAgICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZWxlbSA9IG9wZk5hdi5ub2RlIGFzIEVsZW1lbnQ7XG4gICAgICAgICAgY29uc3QgaWRyZWYgPSBlbGVtLmdldEF0dHJpYnV0ZShcImlkcmVmXCIpO1xuICAgICAgICAgIGlmIChlbGVtLmxvY2FsTmFtZSAhPSBcIml0ZW1yZWZcIiB8fCAhaWRyZWYgfHwgIXNlbGYuaXRlbU1hcFtpZHJlZl0pIHtcbiAgICAgICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaXRlbSA9IHNlbGYuaXRlbU1hcFtpZHJlZl07XG4gICAgICAgICAgZnJhZ21lbnQgPSBvcGZOYXYucmVmO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW0gPSBzZWxmLnNwaW5lWzBdO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuc3RvcmUubG9hZChpdGVtLnNyYykudGhlbigoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKSA9PiB7XG4gICAgICAgICAgY29uc3Qgbm9kZU5hdiA9IGZyYWdtZW50Lm5hdmlnYXRlKHhtbGRvYy5kb2N1bWVudCk7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0geG1sZG9jLmdldE5vZGVPZmZzZXQoXG4gICAgICAgICAgICBub2RlTmF2Lm5vZGUsXG4gICAgICAgICAgICBub2RlTmF2Lm9mZnNldCxcbiAgICAgICAgICAgIG5vZGVOYXYuYWZ0ZXIsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBmcmFtZS5maW5pc2goe1xuICAgICAgICAgICAgc3BpbmVJbmRleDogaXRlbS5zcGluZUluZGV4LFxuICAgICAgICAgICAgb2Zmc2V0SW5JdGVtOiBvZmZzZXQsXG4gICAgICAgICAgICBwYWdlSW5kZXg6IC0xLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICAoZnJhbWU6IFRhc2suRnJhbWU8UG9zaXRpb24gfCBudWxsPiwgZXJyOiBFcnJvcik6IHZvaWQgPT4ge1xuICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGVyciwgXCJDYW5ub3QgcmVzb2x2ZSBmcmFnbWVudDpcIiwgZnJhZ3N0cik7XG4gICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuXG4gIHJlc29sdmVFUGFnZShlcGFnZTogbnVtYmVyKTogVGFzay5SZXN1bHQ8UG9zaXRpb24gfCBudWxsPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIFRhc2suaGFuZGxlKFxuICAgICAgXCJyZXNvbHZlRVBhZ2VcIixcbiAgICAgIChmcmFtZTogVGFzay5GcmFtZTxQb3NpdGlvbiB8IG51bGw+KTogdm9pZCA9PiB7XG4gICAgICAgIGlmIChlcGFnZSA8PSAwKSB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHsgc3BpbmVJbmRleDogMCwgb2Zmc2V0SW5JdGVtOiAwLCBwYWdlSW5kZXg6IC0xIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZi5lcGFnZUlzUmVuZGVyZWRQYWdlKSB7XG4gICAgICAgICAgbGV0IHNwaW5lSW5kZXggPSBzZWxmLnNwaW5lLmZpbmRJbmRleCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGl0ZW0uZXBhZ2UgPT0gMCAmJiBpdGVtLmVwYWdlQ291bnQgPT0gMCkgfHxcbiAgICAgICAgICAgICAgKGl0ZW0uZXBhZ2UgPD0gZXBhZ2UgJiYgaXRlbS5lcGFnZSArIGl0ZW0uZXBhZ2VDb3VudCA+IGVwYWdlKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoc3BpbmVJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgc3BpbmVJbmRleCA9IHNlbGYuc3BpbmUubGVuZ3RoIC0gMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGl0ZW0gPSBzZWxmLnNwaW5lW3NwaW5lSW5kZXhdO1xuICAgICAgICAgIGlmICghaXRlbSB8fCBpdGVtLmVwYWdlQ291bnQgPT0gMCkge1xuICAgICAgICAgICAgaXRlbSA9IHNlbGYuc3BpbmVbLS1zcGluZUluZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgcGFnZUluZGV4ID0gTWF0aC5mbG9vcihlcGFnZSAtIGl0ZW0uZXBhZ2UpO1xuICAgICAgICAgIGZyYW1lLmZpbmlzaCh7IHNwaW5lSW5kZXgsIG9mZnNldEluSXRlbTogLTEsIHBhZ2VJbmRleDogcGFnZUluZGV4IH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3BpbmVJbmRleCA9IEJhc2UuYmluYXJ5U2VhcmNoKHNlbGYuc3BpbmUubGVuZ3RoLCAoaW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gc2VsZi5zcGluZVtpbmRleF07XG4gICAgICAgICAgcmV0dXJuIGl0ZW0uZXBhZ2UgKyBpdGVtLmVwYWdlQ291bnQgPiBlcGFnZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzcGluZUluZGV4ID09IHNlbGYuc3BpbmUubGVuZ3RoKSB7XG4gICAgICAgICAgc3BpbmVJbmRleC0tO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBzZWxmLnNwaW5lW3NwaW5lSW5kZXhdO1xuICAgICAgICBzZWxmLnN0b3JlLmxvYWQoaXRlbS5zcmMpLnRoZW4oKHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcikgPT4ge1xuICAgICAgICAgIGVwYWdlIC09IGl0ZW0uZXBhZ2U7XG4gICAgICAgICAgaWYgKGVwYWdlID4gaXRlbS5lcGFnZUNvdW50KSB7XG4gICAgICAgICAgICBlcGFnZSA9IGl0ZW0uZXBhZ2VDb3VudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgICAgaWYgKGVwYWdlID4gMCkge1xuICAgICAgICAgICAgY29uc3QgdG90YWxPZmZzZXQgPSB4bWxkb2MuZ2V0VG90YWxPZmZzZXQoKTtcbiAgICAgICAgICAgIG9mZnNldCA9IE1hdGgucm91bmQoKHRvdGFsT2Zmc2V0ICogZXBhZ2UpIC8gaXRlbS5lcGFnZUNvdW50KTtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPT0gdG90YWxPZmZzZXQpIHtcbiAgICAgICAgICAgICAgb2Zmc2V0LS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZyYW1lLmZpbmlzaCh7IHNwaW5lSW5kZXgsIG9mZnNldEluSXRlbTogb2Zmc2V0LCBwYWdlSW5kZXg6IC0xIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICAoZnJhbWU6IFRhc2suRnJhbWU8UG9zaXRpb24gfCBudWxsPiwgZXJyOiBFcnJvcik6IHZvaWQgPT4ge1xuICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGVyciwgXCJDYW5ub3QgcmVzb2x2ZSBlcGFnZTpcIiwgZXBhZ2UpO1xuICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICB9LFxuICAgICk7XG4gIH1cblxuICBnZXRFUGFnZUZyb21Qb3NpdGlvbihwb3NpdGlvbjogUG9zaXRpb24pOiBUYXNrLlJlc3VsdDxudW1iZXI+IHtcbiAgICBjb25zdCBpdGVtID0gdGhpcy5zcGluZVtwb3NpdGlvbi5zcGluZUluZGV4XTtcbiAgICBpZiAodGhpcy5lcGFnZUlzUmVuZGVyZWRQYWdlKSB7XG4gICAgICBjb25zdCBlcGFnZSA9IGl0ZW0uZXBhZ2UgKyBwb3NpdGlvbi5wYWdlSW5kZXg7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZXBhZ2UpO1xuICAgIH1cbiAgICBpZiAocG9zaXRpb24ub2Zmc2V0SW5JdGVtIDw9IDApIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChpdGVtLmVwYWdlKTtcbiAgICB9XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8bnVtYmVyPiA9IFRhc2submV3RnJhbWUoXCJnZXRFUGFnZVwiKTtcbiAgICB0aGlzLnN0b3JlLmxvYWQoaXRlbS5zcmMpLnRoZW4oKHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcikgPT4ge1xuICAgICAgY29uc3QgdG90YWxPZmZzZXQgPSB4bWxkb2MuZ2V0VG90YWxPZmZzZXQoKTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IE1hdGgubWluKHRvdGFsT2Zmc2V0LCBwb3NpdGlvbi5vZmZzZXRJbkl0ZW0pO1xuICAgICAgZnJhbWUuZmluaXNoKGl0ZW0uZXBhZ2UgKyAob2Zmc2V0ICogaXRlbS5lcGFnZUNvdW50KSAvIHRvdGFsT2Zmc2V0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgUGFnZUFuZFBvc2l0aW9uID0ge1xuICBwYWdlOiBWdHJlZS5QYWdlO1xuICBwb3NpdGlvbjogUG9zaXRpb247XG59O1xuXG5leHBvcnQgY29uc3QgbWFrZVBhZ2VBbmRQb3NpdGlvbiA9IChcbiAgcGFnZTogVnRyZWUuUGFnZSxcbiAgcGFnZUluZGV4OiBudW1iZXIsXG4pOiBQYWdlQW5kUG9zaXRpb24gPT4gKHtcbiAgcGFnZSxcbiAgcG9zaXRpb246IHtcbiAgICBzcGluZUluZGV4OiBwYWdlLnNwaW5lSW5kZXgsXG4gICAgcGFnZUluZGV4LFxuICAgIG9mZnNldEluSXRlbTogcGFnZS5vZmZzZXQsXG4gIH0sXG59KTtcblxuZXhwb3J0IHR5cGUgT1BGVmlld0l0ZW0gPSB7XG4gIGl0ZW06IE9QRkl0ZW07XG4gIHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcjtcbiAgaW5zdGFuY2U6IE9QUy5TdHlsZUluc3RhbmNlO1xuICBsYXlvdXRQb3NpdGlvbnM6IFZ0cmVlLkxheW91dFBvc2l0aW9uW107XG4gIHBhZ2VzOiBWdHJlZS5QYWdlW107XG4gIGNvbXBsZXRlOiBib29sZWFuO1xufTtcblxuZXhwb3J0IGNsYXNzIE9QRlZpZXcgaW1wbGVtZW50cyBWZ2VuLkN1c3RvbVJlbmRlcmVyRmFjdG9yeSB7XG4gIHNwaW5lSXRlbXM6IE9QRlZpZXdJdGVtW10gPSBbXTtcbiAgc3BpbmVJdGVtTG9hZGluZ0NvbnRpbnVhdGlvbnM6IFRhc2suQ29udGludWF0aW9uPGFueT5bXVtdID0gW107XG4gIHByZWY6IEV4cHJzLlByZWZlcmVuY2VzO1xuICBjbGllbnRMYXlvdXQ6IFZnZW4uRGVmYXVsdENsaWVudExheW91dDtcbiAgY291bnRlclN0b3JlOiBDb3VudGVycy5Db3VudGVyU3RvcmU7XG4gIHRvY0F1dG9oaWRlOiBib29sZWFuID0gZmFsc2U7XG4gIHRvY1ZpZXc/OiBUb2MuVE9DVmlldztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgb3BmOiBPUEZEb2MsXG4gICAgcHVibGljIHJlYWRvbmx5IHZpZXdwb3J0OiBWZ2VuLlZpZXdwb3J0LFxuICAgIHB1YmxpYyByZWFkb25seSBmb250TWFwcGVyOiBGb250Lk1hcHBlcixcbiAgICBwcmVmOiBFeHBycy5QcmVmZXJlbmNlcyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFnZVNoZWV0U2l6ZVJlcG9ydGVyOiAoXG4gICAgICBwMTogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9LFxuICAgICAgcDI6IHsgW2tleTogc3RyaW5nXTogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9IH0sXG4gICAgICBwMzogbnVtYmVyLFxuICAgICAgcDQ6IG51bWJlcixcbiAgICApID0+IGFueSxcbiAgKSB7XG4gICAgdGhpcy5wcmVmID0gRXhwcnMuY2xvbmVQcmVmZXJlbmNlcyhwcmVmKTtcbiAgICB0aGlzLmNsaWVudExheW91dCA9IG5ldyBWZ2VuLkRlZmF1bHRDbGllbnRMYXlvdXQodmlld3BvcnQpO1xuICAgIHRoaXMuY291bnRlclN0b3JlID0gbmV3IENvdW50ZXJzLkNvdW50ZXJTdG9yZShvcGYuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcik7XG4gIH1cblxuICBwcml2YXRlIGdldFBhZ2UocG9zaXRpb246IFBvc2l0aW9uKTogVnRyZWUuUGFnZSB7XG4gICAgY29uc3Qgdmlld0l0ZW0gPSB0aGlzLnNwaW5lSXRlbXNbcG9zaXRpb24uc3BpbmVJbmRleF07XG4gICAgcmV0dXJuIHZpZXdJdGVtID8gdmlld0l0ZW0ucGFnZXNbcG9zaXRpb24ucGFnZUluZGV4XSA6IG51bGw7XG4gIH1cblxuICBnZXRDdXJyZW50UGFnZVByb2dyZXNzaW9uKFxuICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgKTogQ29uc3RhbnRzLlBhZ2VQcm9ncmVzc2lvbiB8IG51bGwge1xuICAgIGlmICh0aGlzLm9wZi5wYWdlUHJvZ3Jlc3Npb24pIHtcbiAgICAgIHJldHVybiB0aGlzLm9wZi5wYWdlUHJvZ3Jlc3Npb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHZpZXdJdGVtID0gdGhpcy5zcGluZUl0ZW1zW3Bvc2l0aW9uID8gcG9zaXRpb24uc3BpbmVJbmRleCA6IDBdO1xuICAgICAgcmV0dXJuIHZpZXdJdGVtID8gdmlld0l0ZW0uaW5zdGFuY2UucGFnZVByb2dyZXNzaW9uIDogbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZpbmlzaFBhZ2VDb250YWluZXIoXG4gICAgdmlld0l0ZW06IE9QRlZpZXdJdGVtLFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgcGFnZUluZGV4OiBudW1iZXIsXG4gICkge1xuICAgIHBhZ2UuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBwYWdlLmNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgcGFnZS5jb250YWluZXIuc3R5bGUucG9zaXRpb24gPSBcIlwiO1xuICAgIHBhZ2UuY29udGFpbmVyLnN0eWxlLnRvcCA9IFwiXCI7XG4gICAgcGFnZS5jb250YWluZXIuc3R5bGUubGVmdCA9IFwiXCI7XG4gICAgcGFnZS5jb250YWluZXIuc2V0QXR0cmlidXRlKFxuICAgICAgXCJkYXRhLXZpdmxpb3N0eWxlLXBhZ2Utc2lkZVwiLFxuICAgICAgcGFnZS5zaWRlIGFzIHN0cmluZyxcbiAgICApO1xuICAgIGNvbnN0IG9sZFBhZ2UgPSB2aWV3SXRlbS5wYWdlc1twYWdlSW5kZXhdO1xuICAgIHBhZ2UuaXNGaXJzdFBhZ2UgPSB2aWV3SXRlbS5pdGVtLnNwaW5lSW5kZXggPT0gMCAmJiBwYWdlSW5kZXggPT0gMDtcbiAgICB2aWV3SXRlbS5wYWdlc1twYWdlSW5kZXhdID0gcGFnZTtcblxuICAgIGlmICh0aGlzLm9wZi5lcGFnZUlzUmVuZGVyZWRQYWdlKSB7XG4gICAgICBpZiAocGFnZUluZGV4ID09IDAgJiYgdmlld0l0ZW0uaXRlbS5zcGluZUluZGV4ID4gMCkge1xuICAgICAgICBjb25zdCBwcmV2SXRlbSA9IHRoaXMub3BmLnNwaW5lW3ZpZXdJdGVtLml0ZW0uc3BpbmVJbmRleCAtIDFdO1xuICAgICAgICB2aWV3SXRlbS5pdGVtLmVwYWdlID0gcHJldkl0ZW0uZXBhZ2UgKyBwcmV2SXRlbS5lcGFnZUNvdW50O1xuICAgICAgfVxuICAgICAgdmlld0l0ZW0uaXRlbS5lcGFnZUNvdW50ID0gdmlld0l0ZW0ucGFnZXMubGVuZ3RoO1xuICAgICAgdGhpcy5vcGYuZXBhZ2VDb3VudCA9IHRoaXMub3BmLnNwaW5lLnJlZHVjZShcbiAgICAgICAgKGNvdW50LCBpdGVtKSA9PiBjb3VudCArIGl0ZW0uZXBhZ2VDb3VudCxcbiAgICAgICAgMCxcbiAgICAgICk7XG5cbiAgICAgIGlmICh0aGlzLm9wZi5lcGFnZUNvdW50Q2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5vcGYuZXBhZ2VDb3VudENhbGxiYWNrKHRoaXMub3BmLmVwYWdlQ291bnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvbGRQYWdlKSB7XG4gICAgICB2aWV3SXRlbS5pbnN0YW5jZS52aWV3cG9ydC5jb250ZW50Q29udGFpbmVyLnJlcGxhY2VDaGlsZChcbiAgICAgICAgcGFnZS5jb250YWluZXIsXG4gICAgICAgIG9sZFBhZ2UuY29udGFpbmVyLFxuICAgICAgKTtcbiAgICAgIG9sZFBhZ2UuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgIHR5cGU6IFwicmVwbGFjZWRcIixcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICBjdXJyZW50VGFyZ2V0OiBudWxsLFxuICAgICAgICBwcmV2ZW50RGVmYXVsdDogbnVsbCxcbiAgICAgICAgbmV3UGFnZTogcGFnZSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGaW5kIGluc2VydCBwb3NpdGlvbiBpbiBjb250ZW50Q29udGFpbmVyLlxuICAgICAgbGV0IGluc2VydFBvczogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICAgICAgaWYgKHBhZ2VJbmRleCA+IDApIHtcbiAgICAgICAgaW5zZXJ0UG9zID0gdmlld0l0ZW0ucGFnZXNbcGFnZUluZGV4IC0gMV0uY29udGFpbmVyLm5leHRFbGVtZW50U2libGluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgbGV0IGkgPSB2aWV3SXRlbS5pdGVtLnNwaW5lSW5kZXggKyAxO1xuICAgICAgICAgIGkgPCB0aGlzLnNwaW5lSXRlbXMubGVuZ3RoO1xuICAgICAgICAgIGkrK1xuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5zcGluZUl0ZW1zW2ldO1xuICAgICAgICAgIGlmIChpdGVtICYmIGl0ZW0ucGFnZXNbMF0pIHtcbiAgICAgICAgICAgIGluc2VydFBvcyA9IGl0ZW0ucGFnZXNbMF0uY29udGFpbmVyO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2aWV3SXRlbS5pbnN0YW5jZS52aWV3cG9ydC5jb250ZW50Q29udGFpbmVyLmluc2VydEJlZm9yZShcbiAgICAgICAgcGFnZS5jb250YWluZXIsXG4gICAgICAgIGluc2VydFBvcyxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMucGFnZVNoZWV0U2l6ZVJlcG9ydGVyKFxuICAgICAge1xuICAgICAgICB3aWR0aDogdmlld0l0ZW0uaW5zdGFuY2UucGFnZVNoZWV0V2lkdGgsXG4gICAgICAgIGhlaWdodDogdmlld0l0ZW0uaW5zdGFuY2UucGFnZVNoZWV0SGVpZ2h0LFxuICAgICAgfSxcbiAgICAgIHZpZXdJdGVtLmluc3RhbmNlLnBhZ2VTaGVldFNpemUsXG4gICAgICB2aWV3SXRlbS5pdGVtLnNwaW5lSW5kZXgsXG4gICAgICB2aWV3SXRlbS5pbnN0YW5jZS5wYWdlTnVtYmVyT2Zmc2V0ICsgcGFnZUluZGV4LFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGEgc2luZ2xlIHBhZ2UuIElmIHRoZSBuZXcgcGFnZSBjb250YWlucyBlbGVtZW50cyB3aXRoIGlkcyB0aGF0IGFyZVxuICAgKiByZWZlcmVuY2VkIGZyb20gb3RoZXIgcGFnZXMgYnkgJ3RhcmdldC1jb3VudGVyKCknLCB0aG9zZSBwYWdlcyBhcmUgcmVuZGVyZWRcbiAgICogdG9vIChjYWxsaW5nIGByZW5kZXJTaW5nbGVQYWdlYCByZWN1cnNpdmVseSkuXG4gICAqL1xuICBwcml2YXRlIHJlbmRlclNpbmdsZVBhZ2UoXG4gICAgdmlld0l0ZW06IE9QRlZpZXdJdGVtLFxuICAgIHBvczogVnRyZWUuTGF5b3V0UG9zaXRpb24sXG4gICk6IFRhc2suUmVzdWx0PFJlbmRlclNpbmdsZVBhZ2VSZXN1bHQ+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxSZW5kZXJTaW5nbGVQYWdlUmVzdWx0PiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcInJlbmRlclNpbmdsZVBhZ2VcIixcbiAgICApO1xuICAgIGxldCBwYWdlID0gdGhpcy5tYWtlUGFnZSh2aWV3SXRlbSwgcG9zKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB2aWV3SXRlbS5pbnN0YW5jZS5sYXlvdXROZXh0UGFnZShwYWdlLCBwb3MpLnRoZW4oKHBvc1BhcmFtKSA9PiB7XG4gICAgICBwb3MgPSBwb3NQYXJhbSBhcyBWdHJlZS5MYXlvdXRQb3NpdGlvbjtcbiAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IHBvc1xuICAgICAgICA/IHBvcy5wYWdlIC0gMVxuICAgICAgICA6IHZpZXdJdGVtLmxheW91dFBvc2l0aW9ucy5sZW5ndGggLSAxO1xuICAgICAgc2VsZi5maW5pc2hQYWdlQ29udGFpbmVyKHZpZXdJdGVtLCBwYWdlLCBwYWdlSW5kZXgpO1xuICAgICAgc2VsZi5jb3VudGVyU3RvcmUuZmluaXNoUGFnZShwYWdlLnNwaW5lSW5kZXgsIHBhZ2VJbmRleCk7XG5cbiAgICAgIC8vIElmIHRoZSBwb3NpdGlvbiBvZiB0aGUgcGFnZSBicmVhayBjaGFuZ2UsIHdlIHNob3VsZCByZS1sYXlvdXQgdGhlIG5leHRcbiAgICAgIC8vIHBhZ2UgdG9vLlxuICAgICAgbGV0IGNvbnQ6IFRhc2suUmVzdWx0PGFueT4gPSBudWxsO1xuICAgICAgaWYgKHBvcykge1xuICAgICAgICBjb25zdCBwcmV2UG9zID0gdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zW3Bvcy5wYWdlXTtcbiAgICAgICAgdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zW3Bvcy5wYWdlXSA9IHBvcztcbiAgICAgICAgaWYgKHByZXZQb3MgJiYgdmlld0l0ZW0ucGFnZXNbcG9zLnBhZ2VdKSB7XG4gICAgICAgICAgaWYgKCFwb3MuaXNTYW1lUG9zaXRpb24ocHJldlBvcykpIHtcbiAgICAgICAgICAgIGNvbnQgPSBzZWxmLnJlbmRlclNpbmdsZVBhZ2Uodmlld0l0ZW0sIHBvcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWNvbnQpIHtcbiAgICAgICAgY29udCA9IFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgfVxuICAgICAgY29udC50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3QgdW5yZXNvbHZlZFJlZnMgPSBzZWxmLmNvdW50ZXJTdG9yZS5nZXRVbnJlc29sdmVkUmVmc1RvUGFnZShwYWdlKTtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgZnJhbWVcbiAgICAgICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gdW5yZXNvbHZlZFJlZnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVmcyA9IHVucmVzb2x2ZWRSZWZzW2luZGV4IC0gMV07XG4gICAgICAgICAgICByZWZzLnJlZnMgPSByZWZzLnJlZnMuZmlsdGVyKChyZWYpID0+ICFyZWYuaXNSZXNvbHZlZCgpKTtcbiAgICAgICAgICAgIGlmIChyZWZzLnJlZnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5nZXRQYWdlVmlld0l0ZW0ocmVmcy5zcGluZUluZGV4KS50aGVuKCh2aWV3SXRlbSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIXZpZXdJdGVtKSB7XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZWxmLmNvdW50ZXJTdG9yZS5wdXNoUGFnZUNvdW50ZXJzKHJlZnMucGFnZUNvdW50ZXJzKTtcbiAgICAgICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUucHVzaFJlZmVyZW5jZXNUb1NvbHZlKHJlZnMucmVmcyk7XG4gICAgICAgICAgICAgIGNvbnN0IHBvcyA9IHZpZXdJdGVtLmxheW91dFBvc2l0aW9uc1tyZWZzLnBhZ2VJbmRleF07XG4gICAgICAgICAgICAgIHNlbGYucmVuZGVyU2luZ2xlUGFnZSh2aWV3SXRlbSwgcG9zKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLmNvdW50ZXJTdG9yZS5wb3BQYWdlQ291bnRlcnMoKTtcbiAgICAgICAgICAgICAgICBzZWxmLmNvdW50ZXJTdG9yZS5wb3BSZWZlcmVuY2VzVG9Tb2x2ZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdFBvc2l0aW9uID0gcmVzdWx0LnBhZ2VBbmRQb3NpdGlvbi5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICByZXN1bHRQb3NpdGlvbi5zcGluZUluZGV4ID09PSBwYWdlLnNwaW5lSW5kZXggJiZcbiAgICAgICAgICAgICAgICAgIHJlc3VsdFBvc2l0aW9uLnBhZ2VJbmRleCA9PT0gcGFnZUluZGV4XG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBwYWdlID0gcmVzdWx0LnBhZ2VBbmRQb3NpdGlvbi5wYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXBhZ2UuY29udGFpbmVyLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgLy8gcGFnZSBpcyByZXBsYWNlZFxuICAgICAgICAgICAgICBwYWdlID0gdmlld0l0ZW0ucGFnZXNbcGFnZUluZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhZ2UuaXNMYXN0UGFnZSA9XG4gICAgICAgICAgICAgICFwb3MgJiYgdmlld0l0ZW0uaXRlbS5zcGluZUluZGV4ID09PSBzZWxmLm9wZi5zcGluZS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgaWYgKHBhZ2UuaXNMYXN0UGFnZSkge1xuICAgICAgICAgICAgICBBc3NlcnRzLmFzc2VydChzZWxmLnZpZXdwb3J0KTtcbiAgICAgICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUuZmluaXNoTGFzdFBhZ2Uoc2VsZi52aWV3cG9ydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZS5maW5pc2goe1xuICAgICAgICAgICAgICBwYWdlQW5kUG9zaXRpb246IG1ha2VQYWdlQW5kUG9zaXRpb24ocGFnZSwgcGFnZUluZGV4KSxcbiAgICAgICAgICAgICAgbmV4dExheW91dFBvc2l0aW9uOiBwb3MsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgbm9ybWFsaXplU2Vla1Bvc2l0aW9uKFxuICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgICB2aWV3SXRlbTogT1BGVmlld0l0ZW0sXG4gICk6IFBvc2l0aW9uIHwgbnVsbCB7XG4gICAgbGV0IHBhZ2VJbmRleCA9IHBvc2l0aW9uLnBhZ2VJbmRleDtcbiAgICBsZXQgc2Vla09mZnNldCA9IC0xO1xuICAgIGlmIChwYWdlSW5kZXggPCAwKSB7XG4gICAgICBzZWVrT2Zmc2V0ID0gcG9zaXRpb24ub2Zmc2V0SW5JdGVtO1xuXG4gICAgICAvLyBwYWdlIHdpdGggb2Zmc2V0IGhpZ2hlciB0aGFuIHNlZWtPZmZzZXRcbiAgICAgIGNvbnN0IHNlZWtPZmZzZXRQYWdlSW5kZXggPSBCYXNlLmJpbmFyeVNlYXJjaChcbiAgICAgICAgdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zLmxlbmd0aCxcbiAgICAgICAgKHBhZ2VJbmRleCkgPT4ge1xuICAgICAgICAgIC8vICdub0xvb2tBaGVhZCcgYXJndW1lbnQgb2YgZ2V0UG9zaXRpb24gbXVzdCBiZSB0cnVlLCBzaW5jZVxuICAgICAgICAgIC8vIG90aGVyd2lzZSBTdHlsZUluc3RhbmNlLmN1cnJlbnRMYXlvdXRQb3NpdGlvbiBpcyBtb2RpZmllZFxuICAgICAgICAgIC8vIHVuaW50ZW50aW9uYWxseS5cbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSB2aWV3SXRlbS5pbnN0YW5jZS5nZXRQb3NpdGlvbihcbiAgICAgICAgICAgIHZpZXdJdGVtLmxheW91dFBvc2l0aW9uc1twYWdlSW5kZXhdLFxuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBvZmZzZXQgPiBzZWVrT2Zmc2V0O1xuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIGlmIChzZWVrT2Zmc2V0UGFnZUluZGV4ID09PSB2aWV3SXRlbS5sYXlvdXRQb3NpdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh2aWV3SXRlbS5jb21wbGV0ZSkge1xuICAgICAgICAgIHBhZ2VJbmRleCA9IHZpZXdJdGVtLmxheW91dFBvc2l0aW9ucy5sZW5ndGggLSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG5lZWQgdG8gc2VhcmNoIHRocm91Z2ggcGFnZXMgdGhhdCBhcmUgbm90IHlldCBwcm9kdWNlZFxuICAgICAgICAgIHBhZ2VJbmRleCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcGFnZSB0aGF0IGNvbnRhaW5zIHNlZWtPZmZzZXRcbiAgICAgICAgcGFnZUluZGV4ID0gc2Vla09mZnNldFBhZ2VJbmRleCAtIDE7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHBhZ2VJbmRleCA9PT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZICYmXG4gICAgICBwb3NpdGlvbi5vZmZzZXRJbkl0ZW0gIT09IC0xXG4gICAgKSB7XG4gICAgICBzZWVrT2Zmc2V0ID0gcG9zaXRpb24ub2Zmc2V0SW5JdGVtO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc3BpbmVJbmRleDogcG9zaXRpb24uc3BpbmVJbmRleCxcbiAgICAgIHBhZ2VJbmRleCxcbiAgICAgIG9mZnNldEluSXRlbTogc2Vla09mZnNldCxcbiAgICB9IGFzIFBvc2l0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgYSBwYWdlIGNvcnJlc3BvbmRpbmcgdG8gYSBzcGVjaWZpZWQgcG9zaXRpb24gYW1vbmcgYWxyZWFkeSBsYWlkIG91dFxuICAgKiBwYWdlcy5cbiAgICogQHBhcmFtIHN5bmMgSWYgdHJ1ZSwgZmluZCB0aGUgcGFnZSBzeW5jaHJvbm91c2x5IChub3Qgd2FpdGluZyBhbm90aGVyXG4gICAqICAgICByZW5kZXJpbmcgdGFzaylcbiAgICovXG4gIHByaXZhdGUgZmluZFBhZ2UoXG4gICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgIHN5bmM6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiA9IFRhc2submV3RnJhbWUoXCJmaW5kUGFnZVwiKTtcbiAgICBzZWxmLmdldFBhZ2VWaWV3SXRlbShwb3NpdGlvbi5zcGluZUluZGV4KS50aGVuKCh2aWV3SXRlbSkgPT4ge1xuICAgICAgaWYgKCF2aWV3SXRlbSkge1xuICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCByZXN1bHRQYWdlOiBWdHJlZS5QYWdlID0gbnVsbDtcbiAgICAgIGxldCBwYWdlSW5kZXg6IG51bWJlcjtcbiAgICAgIGZyYW1lXG4gICAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkUG9zaXRpb24gPSBzZWxmLm5vcm1hbGl6ZVNlZWtQb3NpdGlvbihcbiAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgdmlld0l0ZW0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwYWdlSW5kZXggPSBub3JtYWxpemVkUG9zaXRpb24ucGFnZUluZGV4O1xuICAgICAgICAgIHJlc3VsdFBhZ2UgPSB2aWV3SXRlbS5wYWdlc1twYWdlSW5kZXhdO1xuICAgICAgICAgIGlmIChyZXN1bHRQYWdlKSB7XG4gICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgfSBlbHNlIGlmICh2aWV3SXRlbS5jb21wbGV0ZSkge1xuICAgICAgICAgICAgcGFnZUluZGV4ID0gdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICByZXN1bHRQYWdlID0gdmlld0l0ZW0ucGFnZXNbcGFnZUluZGV4XTtcbiAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN5bmMpIHtcbiAgICAgICAgICAgIHNlbGYucmVuZGVyUGFnZShub3JtYWxpemVkUG9zaXRpb24pLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0UGFnZSA9IHJlc3VsdC5wYWdlO1xuICAgICAgICAgICAgICAgIHBhZ2VJbmRleCA9IHJlc3VsdC5wb3NpdGlvbi5wYWdlSW5kZXg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBsYXlvdXQgdGFzayBhbmQgcmV0cnlcbiAgICAgICAgICAgIGZyYW1lLnNsZWVwKDEwMCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KHJlc3VsdFBhZ2UpO1xuICAgICAgICAgIGZyYW1lLmZpbmlzaChtYWtlUGFnZUFuZFBvc2l0aW9uKHJlc3VsdFBhZ2UsIHBhZ2VJbmRleCkpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVycyBhIHBhZ2UgYXQgdGhlIHNwZWNpZmllZCBwb3NpdGlvbi5cbiAgICovXG4gIHJlbmRlclBhZ2UocG9zaXRpb246IFBvc2l0aW9uKTogVGFzay5SZXN1bHQ8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwicmVuZGVyUGFnZVwiLFxuICAgICk7XG4gICAgc2VsZi5nZXRQYWdlVmlld0l0ZW0ocG9zaXRpb24uc3BpbmVJbmRleCkudGhlbigodmlld0l0ZW0pID0+IHtcbiAgICAgIGlmICghdmlld0l0ZW0pIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkUG9zaXRpb24gPSBzZWxmLm5vcm1hbGl6ZVNlZWtQb3NpdGlvbihwb3NpdGlvbiwgdmlld0l0ZW0pO1xuICAgICAgbGV0IHBhZ2VJbmRleCA9IG5vcm1hbGl6ZWRQb3NpdGlvbi5wYWdlSW5kZXg7XG4gICAgICBjb25zdCBzZWVrT2Zmc2V0ID0gbm9ybWFsaXplZFBvc2l0aW9uLm9mZnNldEluSXRlbTtcbiAgICAgIGxldCByZXN1bHRQYWdlID0gdmlld0l0ZW0ucGFnZXNbcGFnZUluZGV4XTtcbiAgICAgIGlmIChyZXN1bHRQYWdlKSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChtYWtlUGFnZUFuZFBvc2l0aW9uKHJlc3VsdFBhZ2UsIHBhZ2VJbmRleCkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmcmFtZVxuICAgICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgICAgaWYgKHBhZ2VJbmRleCA8IHZpZXdJdGVtLmxheW91dFBvc2l0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHZpZXdJdGVtLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICBwYWdlSW5kZXggPSB2aWV3SXRlbS5sYXlvdXRQb3NpdGlvbnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHBvcyA9XG4gICAgICAgICAgICB2aWV3SXRlbS5sYXlvdXRQb3NpdGlvbnNbdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIHNlbGYucmVuZGVyU2luZ2xlUGFnZSh2aWV3SXRlbSwgcG9zKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSByZXN1bHQucGFnZUFuZFBvc2l0aW9uLnBhZ2U7XG4gICAgICAgICAgICBwb3MgPSByZXN1bHQubmV4dExheW91dFBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKHBvcykge1xuICAgICAgICAgICAgICBpZiAoc2Vla09mZnNldCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gU2VhcmNoaW5nIGZvciBvZmZzZXQsIGRvbid0IGtub3cgdGhlIHBhZ2UgbnVtYmVyLlxuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHZpZXdJdGVtLmluc3RhbmNlLmdldFBvc2l0aW9uKHBvcyk7XG4gICAgICAgICAgICAgICAgaWYgKG9mZnNldCA+IHNlZWtPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgIHJlc3VsdFBhZ2UgPSBwYWdlO1xuICAgICAgICAgICAgICAgICAgcGFnZUluZGV4ID0gdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zLmxlbmd0aCAtIDI7XG4gICAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc3VsdFBhZ2UgPSBwYWdlO1xuICAgICAgICAgICAgICBwYWdlSW5kZXggPSByZXN1bHQucGFnZUFuZFBvc2l0aW9uLnBvc2l0aW9uLnBhZ2VJbmRleDtcbiAgICAgICAgICAgICAgdmlld0l0ZW0uY29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXN1bHRQYWdlID0gcmVzdWx0UGFnZSB8fCB2aWV3SXRlbS5wYWdlc1twYWdlSW5kZXhdO1xuICAgICAgICAgIGNvbnN0IHBvcyA9IHZpZXdJdGVtLmxheW91dFBvc2l0aW9uc1twYWdlSW5kZXhdO1xuICAgICAgICAgIGlmIChyZXN1bHRQYWdlKSB7XG4gICAgICAgICAgICBmcmFtZS5maW5pc2gobWFrZVBhZ2VBbmRQb3NpdGlvbihyZXN1bHRQYWdlLCBwYWdlSW5kZXgpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi5yZW5kZXJTaW5nbGVQYWdlKHZpZXdJdGVtLCBwb3MpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQubmV4dExheW91dFBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgIHZpZXdJdGVtLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyYW1lLmZpbmlzaChyZXN1bHQucGFnZUFuZFBvc2l0aW9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgcmVuZGVyQWxsUGFnZXMoKTogVGFzay5SZXN1bHQ8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIHJldHVybiB0aGlzLnJlbmRlclBhZ2VzVXB0byhcbiAgICAgIHtcbiAgICAgICAgc3BpbmVJbmRleDogdGhpcy5vcGYuc3BpbmUubGVuZ3RoIC0gMSxcbiAgICAgICAgcGFnZUluZGV4OiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgICAgIG9mZnNldEluSXRlbTogLTEsXG4gICAgICB9LFxuICAgICAgZmFsc2UsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgcGFnZXMgZnJvbSAoc3BpbmVJbmRleD0wLCBwYWdlSW5kZXg9MCkgdG8gdGhlIHNwZWNpZmllZCAoc3BpbmVJbmRleCxcbiAgICogcGFnZUluZGV4KS5cbiAgICogQHBhcmFtIG5vdEFsbFBhZ2VzIElmIHRydWUsIHJlbmRlciBmcm9tIGJpZ2lubmluZyBvZiBzcGVjaWZpZWQgc3BpbmUgaXRlbS5cbiAgICovXG4gIHJlbmRlclBhZ2VzVXB0byhcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgbm90QWxsUGFnZXM6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcInJlbmRlclBhZ2VzVXB0b1wiLFxuICAgICk7XG4gICAgaWYgKCFwb3NpdGlvbikge1xuICAgICAgcG9zaXRpb24gPSB7IHNwaW5lSW5kZXg6IDAsIHBhZ2VJbmRleDogMCwgb2Zmc2V0SW5JdGVtOiAwIH07XG4gICAgfVxuICAgIGNvbnN0IHNwaW5lSW5kZXggPSBwb3NpdGlvbi5zcGluZUluZGV4O1xuICAgIGNvbnN0IHBhZ2VJbmRleCA9IHBvc2l0aW9uLnBhZ2VJbmRleDtcbiAgICBsZXQgcyA9IDA7XG5cbiAgICBpZiAobm90QWxsUGFnZXMpIHtcbiAgICAgIC8vIFJlbmRlciBwYWdlcyBmcm9tIGJpZ2lubmluZyBvZiBzcGVjaWZpZWQgc3BpbmUgaXRlbS5cbiAgICAgIHMgPSBzcGluZUluZGV4O1xuICAgIH1cblxuICAgIGxldCBsYXN0UmVzdWx0OiBQYWdlQW5kUG9zaXRpb247XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgY29uc3QgcG9zID0ge1xuICAgICAgICAgIHNwaW5lSW5kZXg6IHMsXG4gICAgICAgICAgcGFnZUluZGV4OiBzID09PSBzcGluZUluZGV4ID8gcGFnZUluZGV4IDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgICAgICAgIG9mZnNldEluSXRlbTogcyA9PT0gc3BpbmVJbmRleCA/IHBvc2l0aW9uLm9mZnNldEluSXRlbSA6IC0xLFxuICAgICAgICB9O1xuICAgICAgICBzZWxmLnJlbmRlclBhZ2UocG9zKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICBsYXN0UmVzdWx0ID0gcmVzdWx0O1xuICAgICAgICAgIGlmICgrK3MgPiBzcGluZUluZGV4KSB7XG4gICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKGxhc3RSZXN1bHQpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgdG8gdGhlIGZpcnN0IHBhZ2UgYW5kIHJlbmRlciBpdC5cbiAgICovXG4gIGZpcnN0UGFnZShcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgc3luYzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIHJldHVybiB0aGlzLmZpbmRQYWdlKFxuICAgICAgeyBzcGluZUluZGV4OiAwLCBwYWdlSW5kZXg6IDAsIG9mZnNldEluSXRlbTogLTEgfSxcbiAgICAgIHN5bmMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHRoZSBsYXN0IHBhZ2UgYW5kIHJlbmRlciBpdC5cbiAgICovXG4gIGxhc3RQYWdlKFxuICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgICBzeW5jOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiB7XG4gICAgcmV0dXJuIHRoaXMuZmluZFBhZ2UoXG4gICAgICB7XG4gICAgICAgIHNwaW5lSW5kZXg6IHRoaXMub3BmLnNwaW5lLmxlbmd0aCAtIDEsXG4gICAgICAgIHBhZ2VJbmRleDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgICAgICBvZmZzZXRJbkl0ZW06IC0xLFxuICAgICAgfSxcbiAgICAgIHN5bmMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHRoZSBuZXh0IHBhZ2UgcG9zaXRpb24gYW5kIHJlbmRlciBwYWdlLlxuICAgKiBAcGFyYW0gc3luYyBJZiB0cnVlLCBnZXQgdGhlIHBhZ2Ugc3luY2hyb25vdXNseSAobm90IHdhaXRpbmcgYW5vdGhlclxuICAgKiAgICAgcmVuZGVyaW5nIHRhc2spXG4gICAqL1xuICBuZXh0UGFnZShcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgc3luYzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBzcGluZUluZGV4ID0gcG9zaXRpb24uc3BpbmVJbmRleDtcbiAgICBsZXQgcGFnZUluZGV4ID0gcG9zaXRpb24ucGFnZUluZGV4O1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+ID0gVGFzay5uZXdGcmFtZShcIm5leHRQYWdlXCIpO1xuICAgIHNlbGYuZ2V0UGFnZVZpZXdJdGVtKHNwaW5lSW5kZXgpLnRoZW4oKHZpZXdJdGVtKSA9PiB7XG4gICAgICBpZiAoIXZpZXdJdGVtKSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICB2aWV3SXRlbS5jb21wbGV0ZSAmJlxuICAgICAgICBwYWdlSW5kZXggPT0gdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zLmxlbmd0aCAtIDFcbiAgICAgICkge1xuICAgICAgICBpZiAoc3BpbmVJbmRleCA+PSBzZWxmLm9wZi5zcGluZS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzcGluZUluZGV4Kys7XG4gICAgICAgIHBhZ2VJbmRleCA9IDA7XG5cbiAgICAgICAgLy8gUmVtb3ZlIG5leHQgdmlld0l0ZW0gaWYgaXRzIGZpcnN0IHBhZ2UgaGFzIHNhbWUgc2lkZSBhcyB0aGUgY3VycmVudCBwYWdlXG4gICAgICAgIC8vIHRvIGF2b2lkIHVucGFpcmVkIHBhZ2UuXG4gICAgICAgIGNvbnN0IG5leHRWaWV3SXRlbSA9IHRoaXMuc3BpbmVJdGVtc1tzcGluZUluZGV4XTtcbiAgICAgICAgY29uc3QgbmV4dFBhZ2UgPSBuZXh0Vmlld0l0ZW0gJiYgbmV4dFZpZXdJdGVtLnBhZ2VzWzBdO1xuICAgICAgICBjb25zdCBjdXJyZW50UGFnZSA9IHZpZXdJdGVtLnBhZ2VzW3ZpZXdJdGVtLnBhZ2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobmV4dFBhZ2UgJiYgY3VycmVudFBhZ2UgJiYgbmV4dFBhZ2Uuc2lkZSA9PSBjdXJyZW50UGFnZS5zaWRlKSB7XG4gICAgICAgICAgbmV4dFZpZXdJdGVtLnBhZ2VzLmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgICAgICAgIGlmIChwYWdlLmNvbnRhaW5lcikgcGFnZS5jb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5zcGluZUl0ZW1zW3NwaW5lSW5kZXhdID0gbnVsbDtcbiAgICAgICAgICB0aGlzLnNwaW5lSXRlbUxvYWRpbmdDb250aW51YXRpb25zW3NwaW5lSW5kZXhdID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFnZUluZGV4Kys7XG4gICAgICB9XG4gICAgICBzZWxmXG4gICAgICAgIC5maW5kUGFnZSh7IHNwaW5lSW5kZXgsIHBhZ2VJbmRleCwgb2Zmc2V0SW5JdGVtOiAtMSB9LCBzeW5jKVxuICAgICAgICAudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgdG8gdGhlIHByZXZpb3VzIHBhZ2UgYW5kIHJlbmRlciBpdC5cbiAgICovXG4gIHByZXZpb3VzUGFnZShcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgc3luYzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIGxldCBzcGluZUluZGV4ID0gcG9zaXRpb24uc3BpbmVJbmRleDtcbiAgICBsZXQgcGFnZUluZGV4ID0gcG9zaXRpb24ucGFnZUluZGV4O1xuICAgIGlmIChwYWdlSW5kZXggPT0gMCkge1xuICAgICAgaWYgKHNwaW5lSW5kZXggPT0gMCkge1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCBhcyBQYWdlQW5kUG9zaXRpb24gfCBudWxsKTtcbiAgICAgIH1cbiAgICAgIHNwaW5lSW5kZXgtLTtcbiAgICAgIHBhZ2VJbmRleCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFnZUluZGV4LS07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZpbmRQYWdlKHsgc3BpbmVJbmRleCwgcGFnZUluZGV4LCBvZmZzZXRJbkl0ZW06IC0xIH0sIHN5bmMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBwYWdlIFRoaXMgcGFnZSBzaG91bGQgYmUgYSBjdXJyZW50bHkgZGlzcGxheWVkIHBhZ2UuXG4gICAqL1xuICBwcml2YXRlIGlzUmVjdG9QYWdlKHBhZ2U6IFZ0cmVlLlBhZ2UsIHBvc2l0aW9uOiBQb3NpdGlvbik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGlzTGVmdCA9IHBhZ2Uuc2lkZSA9PT0gQ29uc3RhbnRzLlBhZ2VTaWRlLkxFRlQ7XG4gICAgY29uc3QgaXNMVFIgPVxuICAgICAgdGhpcy5nZXRDdXJyZW50UGFnZVByb2dyZXNzaW9uKHBvc2l0aW9uKSA9PT1cbiAgICAgIENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24uTFRSO1xuICAgIHJldHVybiAoIWlzTGVmdCAmJiBpc0xUUikgfHwgKGlzTGVmdCAmJiAhaXNMVFIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHNwcmVhZCBjb250YWluaW5nIHRoZSBjdXJyZW50bHkgZGlzcGxheWVkIHBhZ2UuXG4gICAqIEBwYXJhbSBzeW5jIElmIHRydWUsIGdldCB0aGUgc3ByZWFkIHN5bmNocm9ub3VzbHkgKG5vdCB3YWl0aW5nIGFub3RoZXJcbiAgICogICAgIHJlbmRlcmluZyB0YXNrKVxuICAgKi9cbiAgZ2V0U3ByZWFkKHBvc2l0aW9uOiBQb3NpdGlvbiwgc3luYzogYm9vbGVhbik6IFRhc2suUmVzdWx0PFZ0cmVlLlNwcmVhZD4ge1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLlNwcmVhZD4gPSBUYXNrLm5ld0ZyYW1lKFwiZ2V0Q3VycmVudFNwcmVhZFwiKTtcbiAgICBjb25zdCBwYWdlID0gdGhpcy5nZXRQYWdlKHBvc2l0aW9uKTtcbiAgICBpZiAoIXBhZ2UpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChcbiAgICAgICAgLyoqIEB0eXBlIFZ0cmVlLlNwcmVhZCAqL1xuICAgICAgICB7IGxlZnQ6IG51bGwsIHJpZ2h0OiBudWxsIH0gYXMgVnRyZWUuU3ByZWFkLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgaXNMZWZ0ID0gcGFnZS5zaWRlID09PSBDb25zdGFudHMuUGFnZVNpZGUuTEVGVDtcbiAgICBsZXQgb3RoZXI6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbj47XG4gICAgaWYgKHRoaXMuaXNSZWN0b1BhZ2UocGFnZSwgcG9zaXRpb24pKSB7XG4gICAgICBvdGhlciA9IHRoaXMucHJldmlvdXNQYWdlKHBvc2l0aW9uLCBzeW5jKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3RoZXIgPSB0aGlzLm5leHRQYWdlKHBvc2l0aW9uLCBzeW5jKTtcbiAgICB9XG4gICAgb3RoZXIudGhlbigob3RoZXJQYWdlQW5kUG9zaXRpb24pID0+IHtcbiAgICAgIC8vIHRoaXMgcGFnZSBtYXkgYmUgcmVwbGFjZWQgZHVyaW5nIG5leHRQYWdlKCksIHNvIGdldCB0aGlzUGFnZSBhZ2Fpbi5cbiAgICAgIGNvbnN0IHRoaXNQYWdlID0gdGhpcy5nZXRQYWdlKHBvc2l0aW9uKTtcblxuICAgICAgbGV0IG90aGVyUGFnZSA9IG90aGVyUGFnZUFuZFBvc2l0aW9uICYmIG90aGVyUGFnZUFuZFBvc2l0aW9uLnBhZ2U7XG4gICAgICBpZiAob3RoZXJQYWdlICYmIG90aGVyUGFnZS5zaWRlID09PSB0aGlzUGFnZS5zaWRlKSB7XG4gICAgICAgIC8vIG90aGVyUGFnZSBtdXN0IG5vdCBiZSBzYW1lIHNpZGVcbiAgICAgICAgb3RoZXJQYWdlID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzTGVmdCkge1xuICAgICAgICBmcmFtZS5maW5pc2goeyBsZWZ0OiB0aGlzUGFnZSwgcmlnaHQ6IG90aGVyUGFnZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaCh7IGxlZnQ6IG90aGVyUGFnZSwgcmlnaHQ6IHRoaXNQYWdlIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHRoZSBuZXh0IHNwcmVhZCBhbmQgcmVuZGVyIHBhZ2VzLlxuICAgKiBAcGFyYW0gc3luYyBJZiB0cnVlLCBnZXQgdGhlIHNwcmVhZCBzeW5jaHJvbm91c2x5IChub3Qgd2FpdGluZyBhbm90aGVyXG4gICAqICAgICByZW5kZXJpbmcgdGFzaylcbiAgICogQHJldHVybnMgVGhlICd2ZXJzbycgcGFnZSBvZiB0aGUgbmV4dCBzcHJlYWQuXG4gICAqL1xuICBuZXh0U3ByZWFkKFxuICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgICBzeW5jOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiB7XG4gICAgY29uc3QgcGFnZSA9IHRoaXMuZ2V0UGFnZShwb3NpdGlvbik7XG4gICAgaWYgKCFwYWdlKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCBhcyBQYWdlQW5kUG9zaXRpb24gfCBudWxsKTtcbiAgICB9XG4gICAgY29uc3QgaXNSZWN0byA9IHRoaXMuaXNSZWN0b1BhZ2UocGFnZSwgcG9zaXRpb24pO1xuICAgIGNvbnN0IG5leHQgPSB0aGlzLm5leHRQYWdlKHBvc2l0aW9uLCBzeW5jKTtcbiAgICBpZiAoaXNSZWN0bykge1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgcmV0dXJuIG5leHQudGhlbkFzeW5jKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIGlmIChyZXN1bHQucGFnZS5zaWRlID09PSBwYWdlLnNpZGUpIHtcbiAgICAgICAgICAgIC8vIElmIHNhbWUgc2lkZSwgdGhpcyBpcyB0aGUgbmV4dCBzcHJlYWQuXG4gICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgbmV4dDIgPSBzZWxmLm5leHRQYWdlKHJlc3VsdC5wb3NpdGlvbiwgc3luYyk7XG4gICAgICAgICAgcmV0dXJuIG5leHQyLnRoZW5Bc3luYygocmVzdWx0MikgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdDIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGEgbGFzdCBzcHJlYWQsIG1vdmUgdG8gbmV4dCBwYWdlIGluIHRoZSBzYW1lIHNwcmVhZC5cbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwgYXMgUGFnZUFuZFBvc2l0aW9uIHwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHRoZSBwcmV2aW91cyBzcHJlYWQgYW5kIHJlbmRlciBwYWdlcy5cbiAgICogQHJldHVybnMgVGhlICdyZWN0bycgcGFnZSBvZiB0aGUgcHJldmlvdXMgc3ByZWFkLlxuICAgKi9cbiAgcHJldmlvdXNTcHJlYWQoXG4gICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgIHN5bmM6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBjb25zdCBwYWdlID0gdGhpcy5nZXRQYWdlKHBvc2l0aW9uKTtcbiAgICBpZiAoIXBhZ2UpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIFBhZ2VBbmRQb3NpdGlvbiB8IG51bGwpO1xuICAgIH1cbiAgICBjb25zdCBpc1JlY3RvID0gdGhpcy5pc1JlY3RvUGFnZShwYWdlLCBwb3NpdGlvbik7XG4gICAgY29uc3QgcHJldiA9IHRoaXMucHJldmlvdXNQYWdlKHBvc2l0aW9uLCBzeW5jKTtcbiAgICBjb25zdCBvbGRQcmV2UGFnZUNvbnQgPSBwYWdlLmNvbnRhaW5lci5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgIGlmIChpc1JlY3RvKSB7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIHJldHVybiBwcmV2LnRoZW5Bc3luYygocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0LnBhZ2Uuc2lkZSA9PT0gcGFnZS5zaWRlKSB7XG4gICAgICAgICAgICAvLyBJZiBzYW1lIHNpZGUsIHRoaXMgaXMgdGhlIHByZXZpb3VzIHNwcmVhZC5cbiAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzdWx0LnBhZ2UuY29udGFpbmVyICE9PSBvbGRQcmV2UGFnZUNvbnQpIHtcbiAgICAgICAgICAgIC8vIElmIHByZXZpb3VzIHBhZ2UgaXMgY2hhbmdlZCwgcmV0dXJuIGl0LlxuICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzZWxmLnByZXZpb3VzUGFnZShyZXN1bHQucG9zaXRpb24sIHN5bmMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIFBhZ2VBbmRQb3NpdGlvbiB8IG51bGwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHByZXY7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgdG8gdGhlIGVwYWdlIHNwZWNpZmllZCBieSB0aGUgZ2l2ZW4gbnVtYmVyICh6ZXJvLWJhc2VkKSBhbmQgcmVuZGVyIGl0LlxuICAgKi9cbiAgbmF2aWdhdGVUb0VQYWdlKFxuICAgIGVwYWdlOiBudW1iZXIsXG4gICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgIHN5bmM6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcIm5hdmlnYXRlVG9FUGFnZVwiLFxuICAgICk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5vcGYucmVzb2x2ZUVQYWdlKGVwYWdlKS50aGVuKChwb3NpdGlvbikgPT4ge1xuICAgICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgIHNlbGYuZmluZFBhZ2UocG9zaXRpb24sIHN5bmMpLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHRoZSBwYWdlIHNwZWNpZmllZCBieSB0aGUgZ2l2ZW4gQ0ZJIGFuZCByZW5kZXIgaXQuXG4gICAqL1xuICBuYXZpZ2F0ZVRvRnJhZ21lbnQoXG4gICAgZnJhZ21lbnQ6IHN0cmluZyxcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgc3luYzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwibmF2aWdhdGVUb0NGSVwiLFxuICAgICk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5vcGYucmVzb2x2ZUZyYWdtZW50KGZyYWdtZW50KS50aGVuKChwb3NpdGlvbikgPT4ge1xuICAgICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgIHNlbGYuZmluZFBhZ2UocG9zaXRpb24sIHN5bmMpLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHRoZSBwYWdlIHNwZWNpZmllZCBieSB0aGUgZ2l2ZW4gVVJMIGFuZCByZW5kZXIgaXQuXG4gICAqL1xuICBuYXZpZ2F0ZVRvKFxuICAgIGhyZWY6IHN0cmluZyxcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgc3luYzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIExvZ2dpbmcubG9nZ2VyLmRlYnVnKFwiTmF2aWdhdGUgdG9cIiwgaHJlZik7XG4gICAgbGV0IHBhdGggPSB0aGlzLm9wZi5nZXRQYXRoRnJvbVVSTChCYXNlLnN0cmlwRnJhZ21lbnQoaHJlZikpO1xuICAgIGlmICghcGF0aCkge1xuICAgICAgaWYgKHRoaXMub3BmLm9wZlhNTCAmJiBocmVmLm1hdGNoKC9eI2VwdWJjZmlcXCgvKSkge1xuICAgICAgICAvLyBDRkkgZnJhZ21lbnQgaXMgXCJyZWxhdGl2ZVwiIHRvIE9QRi5cbiAgICAgICAgcGF0aCA9IHRoaXMub3BmLmdldFBhdGhGcm9tVVJMKHRoaXMub3BmLm9wZlhNTC51cmwpO1xuICAgICAgfSBlbHNlIGlmIChocmVmLmNoYXJBdCgwKSA9PT0gXCIjXCIpIHtcbiAgICAgICAgY29uc3QgcmVzdG9yZWQgPSB0aGlzLm9wZi5kb2N1bWVudFVSTFRyYW5zZm9ybWVyLnJlc3RvcmVVUkwoaHJlZik7XG4gICAgICAgIGlmICh0aGlzLm9wZi5vcGZYTUwpIHtcbiAgICAgICAgICBwYXRoID0gdGhpcy5vcGYuZ2V0UGF0aEZyb21VUkwocmVzdG9yZWRbMF0pO1xuICAgICAgICAgIGlmIChwYXRoID09IG51bGwpIHtcbiAgICAgICAgICAgIHBhdGggPSByZXN0b3JlZFswXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGF0aCA9IHJlc3RvcmVkWzBdO1xuICAgICAgICB9XG4gICAgICAgIGhyZWYgPSByZXN0b3JlZFswXSArIChyZXN0b3JlZFsxXSA/IGAjJHtyZXN0b3JlZFsxXX1gIDogXCJcIik7XG4gICAgICB9XG4gICAgICBpZiAocGF0aCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIFBhZ2VBbmRQb3NpdGlvbiB8IG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpdGVtID0gdGhpcy5vcGYuaXRlbU1hcEJ5UGF0aFtwYXRoXTtcbiAgICBpZiAoIWl0ZW0pIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5vcGYub3BmWE1MICYmXG4gICAgICAgIHBhdGggPT0gdGhpcy5vcGYuZ2V0UGF0aEZyb21VUkwodGhpcy5vcGYub3BmWE1MLnVybClcbiAgICAgICkge1xuICAgICAgICAvLyBDRkkgbGluaz9cbiAgICAgICAgY29uc3QgZnJhZ21lbnRJbmRleCA9IGhyZWYuaW5kZXhPZihcIiNcIik7XG4gICAgICAgIGlmIChmcmFnbWVudEluZGV4ID49IDApIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5uYXZpZ2F0ZVRvRnJhZ21lbnQoXG4gICAgICAgICAgICBocmVmLnN1YnN0cihmcmFnbWVudEluZGV4ICsgMSksXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIHN5bmMsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwgYXMgUGFnZUFuZFBvc2l0aW9uIHwgbnVsbCk7XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwibmF2aWdhdGVUb1wiLFxuICAgICk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5nZXRQYWdlVmlld0l0ZW0oaXRlbS5zcGluZUluZGV4KS50aGVuKCh2aWV3SXRlbSkgPT4ge1xuICAgICAgaWYgKCF2aWV3SXRlbSkge1xuICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhcmdldCA9IHZpZXdJdGVtLnhtbGRvYy5nZXRFbGVtZW50KGhyZWYpO1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBzZWxmXG4gICAgICAgICAgLmZpbmRQYWdlKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzcGluZUluZGV4OiBpdGVtLnNwaW5lSW5kZXgsXG4gICAgICAgICAgICAgIHBhZ2VJbmRleDogLTEsXG4gICAgICAgICAgICAgIG9mZnNldEluSXRlbTogdmlld0l0ZW0ueG1sZG9jLmdldEVsZW1lbnRPZmZzZXQodGFyZ2V0KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzeW5jLFxuICAgICAgICAgIClcbiAgICAgICAgICAudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uLnNwaW5lSW5kZXggIT09IGl0ZW0uc3BpbmVJbmRleCkge1xuICAgICAgICAvLyBubyBmcmFnbWVudCwgZGlmZmVyZW50IHNwaW5lIGl0ZW1cbiAgICAgICAgc2VsZlxuICAgICAgICAgIC5maW5kUGFnZShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3BpbmVJbmRleDogaXRlbS5zcGluZUluZGV4LFxuICAgICAgICAgICAgICBwYWdlSW5kZXg6IDAsXG4gICAgICAgICAgICAgIG9mZnNldEluSXRlbTogLTEsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3luYyxcbiAgICAgICAgICApXG4gICAgICAgICAgLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIG1ha2VQYWdlKHZpZXdJdGVtOiBPUEZWaWV3SXRlbSwgcG9zOiBWdHJlZS5MYXlvdXRQb3NpdGlvbik6IFZ0cmVlLlBhZ2Uge1xuICAgIGNvbnN0IHZpZXdwb3J0ID0gdmlld0l0ZW0uaW5zdGFuY2Uudmlld3BvcnQ7XG4gICAgY29uc3QgcGFnZUNvbnQgPSB2aWV3cG9ydC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIHBhZ2VDb250LnNldEF0dHJpYnV0ZShcImRhdGEtdml2bGlvc3R5bGUtcGFnZS1jb250YWluZXJcIiwgXCJ0cnVlXCIpO1xuICAgIHBhZ2VDb250LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJyZWdpb25cIik7XG4gICAgcGFnZUNvbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgcGFnZUNvbnQuc3R5bGUudG9wID0gXCIwXCI7XG4gICAgcGFnZUNvbnQuc3R5bGUubGVmdCA9IFwiMFwiO1xuICAgIGlmICghQ29uc3RhbnRzLmlzRGVidWcpIHtcbiAgICAgIHBhZ2VDb250LnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgcGFnZUNvbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgIH1cbiAgICB2aWV3cG9ydC5sYXlvdXRCb3guYXBwZW5kQ2hpbGQocGFnZUNvbnQpO1xuICAgIGNvbnN0IGJsZWVkQm94ID0gdmlld3BvcnQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSBhcyBIVE1MRWxlbWVudDtcbiAgICBibGVlZEJveC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpdmxpb3N0eWxlLWJsZWVkLWJveFwiLCBcInRydWVcIik7XG4gICAgcGFnZUNvbnQuYXBwZW5kQ2hpbGQoYmxlZWRCb3gpO1xuICAgIGNvbnN0IHBhZ2UgPSBuZXcgVnRyZWUuUGFnZShwYWdlQ29udCwgYmxlZWRCb3gpO1xuICAgIHBhZ2Uuc3BpbmVJbmRleCA9IHZpZXdJdGVtLml0ZW0uc3BpbmVJbmRleDtcbiAgICBwYWdlLnBvc2l0aW9uID0gcG9zO1xuICAgIHBhZ2Uub2Zmc2V0ID0gdmlld0l0ZW0uaW5zdGFuY2UuZ2V0UG9zaXRpb24ocG9zKTtcbiAgICBpZiAocGFnZS5vZmZzZXQgPT09IDApIHtcbiAgICAgIGNvbnN0IGlkID0gdGhpcy5vcGYuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci50cmFuc2Zvcm1GcmFnbWVudChcbiAgICAgICAgXCJcIixcbiAgICAgICAgdmlld0l0ZW0uaXRlbS5zcmMsXG4gICAgICApO1xuICAgICAgYmxlZWRCb3guc2V0QXR0cmlidXRlKFwiaWRcIiwgaWQpO1xuICAgICAgcGFnZS5yZWdpc3RlckVsZW1lbnRXaXRoSWQoYmxlZWRCb3gsIGlkKTtcbiAgICB9XG4gICAgaWYgKHZpZXdwb3J0ICE9PSB0aGlzLnZpZXdwb3J0KSB7XG4gICAgICBjb25zdCBtYXRyaXggPSBFeHBycy5sZXR0ZXJib3goXG4gICAgICAgIHRoaXMudmlld3BvcnQud2lkdGgsXG4gICAgICAgIHRoaXMudmlld3BvcnQuaGVpZ2h0LFxuICAgICAgICB2aWV3cG9ydC53aWR0aCxcbiAgICAgICAgdmlld3BvcnQuaGVpZ2h0LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGNzc01hdHJpeCA9IENzc1BhcnNlci5wYXJzZVZhbHVlKFxuICAgICAgICBudWxsLFxuICAgICAgICBuZXcgQ3NzVG9rZW5pemVyLlRva2VuaXplcihtYXRyaXgsIG51bGwpLFxuICAgICAgICBcIlwiLFxuICAgICAgKTtcbiAgICAgIHBhZ2UuZGVsYXllZEl0ZW1zLnB1c2goXG4gICAgICAgIG5ldyBWdHJlZS5EZWxheWVkSXRlbShwYWdlQ29udCwgXCJ0cmFuc2Zvcm1cIiwgY3NzTWF0cml4KSxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBwYWdlO1xuICB9XG5cbiAgbWFrZU9iamVjdFZpZXcoXG4gICAgeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyLFxuICAgIHNyY0VsZW06IEVsZW1lbnQsXG4gICAgdmlld1BhcmVudDogRWxlbWVudCxcbiAgICBjb21wdXRlZFN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbiAgKTogVGFzay5SZXN1bHQ8RWxlbWVudD4ge1xuICAgIGxldCBkYXRhID0gc3JjRWxlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhXCIpO1xuICAgIGxldCByZXN1bHQ6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgZGF0YSA9IEJhc2UucmVzb2x2ZVVSTChkYXRhLCB4bWxkb2MudXJsKTtcbiAgICAgIGxldCBtZWRpYVR5cGUgPSBzcmNFbGVtLmdldEF0dHJpYnV0ZShcIm1lZGlhLXR5cGVcIik7XG4gICAgICBpZiAoIW1lZGlhVHlwZSkge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5vcGYuZ2V0UGF0aEZyb21VUkwoZGF0YSk7XG4gICAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMub3BmLml0ZW1NYXBCeVBhdGhbcGF0aF07XG4gICAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIG1lZGlhVHlwZSA9IGl0ZW0ubWVkaWFUeXBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhVHlwZSkge1xuICAgICAgICBjb25zdCBoYW5kbGVyU3JjID0gdGhpcy5vcGYuYmluZGluZ3NbbWVkaWFUeXBlXTtcbiAgICAgICAgaWYgKGhhbmRsZXJTcmMpIHtcbiAgICAgICAgICByZXN1bHQgPSB0aGlzLnZpZXdwb3J0LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG4gICAgICAgICAgKHJlc3VsdCBhcyBIVE1MRWxlbWVudCkuc3R5bGUuYm9yZGVyID0gXCJub25lXCI7XG4gICAgICAgICAgY29uc3Qgc3JjUGFyYW0gPSBCYXNlLmxpZ2h0VVJMRW5jb2RlKGRhdGEpO1xuICAgICAgICAgIGNvbnN0IHR5cGVQYXJhbSA9IEJhc2UubGlnaHRVUkxFbmNvZGUobWVkaWFUeXBlKTtcbiAgICAgICAgICBjb25zdCBzYiA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgIHNiLmFwcGVuZChoYW5kbGVyU3JjKTtcbiAgICAgICAgICBzYi5hcHBlbmQoXCI/c3JjPVwiKTtcbiAgICAgICAgICBzYi5hcHBlbmQoc3JjUGFyYW0pO1xuICAgICAgICAgIHNiLmFwcGVuZChcIiZ0eXBlPVwiKTtcbiAgICAgICAgICBzYi5hcHBlbmQodHlwZVBhcmFtKTtcbiAgICAgICAgICBmb3IgKGxldCBjOiBOb2RlID0gc3JjRWxlbS5maXJzdENoaWxkOyBjOyBjID0gYy5uZXh0U2libGluZykge1xuICAgICAgICAgICAgaWYgKGMubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgICAgICBjb25zdCBjZSA9IGMgYXMgRWxlbWVudDtcbiAgICAgICAgICAgICAgaWYgKGNlLmxvY2FsTmFtZSA9PSBcInBhcmFtXCIgJiYgY2UubmFtZXNwYWNlVVJJID09IEJhc2UuTlMuWEhUTUwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbmFtZSA9IGNlLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XG4gICAgICAgICAgICAgICAgY29uc3QgcHZhbHVlID0gY2UuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik7XG4gICAgICAgICAgICAgICAgaWYgKHBuYW1lICYmIHB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgc2IuYXBwZW5kKFwiJlwiKTtcbiAgICAgICAgICAgICAgICAgIHNiLmFwcGVuZChlbmNvZGVVUklDb21wb25lbnQocG5hbWUpKTtcbiAgICAgICAgICAgICAgICAgIHNiLmFwcGVuZChcIj1cIik7XG4gICAgICAgICAgICAgICAgICBzYi5hcHBlbmQoZW5jb2RlVVJJQ29tcG9uZW50KHB2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQuc2V0QXR0cmlidXRlKFwic3JjXCIsIHNiLnRvU3RyaW5nKCkpO1xuICAgICAgICAgIGNvbnN0IHdpZHRoID0gc3JjRWxlbS5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKTtcbiAgICAgICAgICBpZiAod2lkdGgpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCB3aWR0aCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHNyY0VsZW0uZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpO1xuICAgICAgICAgIGlmIChoZWlnaHQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgaGVpZ2h0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIHJlc3VsdCA9IHRoaXMudmlld3BvcnQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICByZXN1bHQuc2V0QXR0cmlidXRlKFwiZGF0YS1hZGFwdC1wcm9jZXNzLWNoaWxkcmVuXCIsIFwidHJ1ZVwiKTtcbiAgICB9XG5cbiAgICAvLyBOZWVkIHRvIGNhc3QgYmVjYXVzZSB3ZSBuZWVkIHtFbGVtZW50fSwgbm90IHshRWxlbWVudH1cbiAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQocmVzdWx0IGFzIEVsZW1lbnQpO1xuICB9XG5cbiAgbWFrZU1hdGhKYXhWaWV3KFxuICAgIHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcixcbiAgICBzcmNFbGVtOiBFbGVtZW50LFxuICAgIHZpZXdQYXJlbnQ6IEVsZW1lbnQsXG4gICAgY29tcHV0ZWRTdHlsZTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0sXG4gICk6IFRhc2suUmVzdWx0PEVsZW1lbnQ+IHtcbiAgICAvLyBTZWUgaWYgTWF0aEpheCBpbnN0YWxsZWQsIHVzZSBpdCBpZiBpdCBpcy5cbiAgICBjb25zdCBodWIgPSBnZXRNYXRoSmF4SHViKCk7XG4gICAgaWYgKGh1Yikge1xuICAgICAgY29uc3QgZG9jID0gdmlld1BhcmVudC5vd25lckRvY3VtZW50O1xuICAgICAgY29uc3Qgc3BhbiA9IGRvYy5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgIHZpZXdQYXJlbnQuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICBjb25zdCBjbG9uZWRNYXRoID0gZG9jLmltcG9ydE5vZGUoc3JjRWxlbSwgdHJ1ZSk7XG4gICAgICB0aGlzLnJlc29sdmVVUkxzSW5NYXRoTUwoY2xvbmVkTWF0aCwgeG1sZG9jKTtcbiAgICAgIHNwYW4uYXBwZW5kQ2hpbGQoY2xvbmVkTWF0aCk7XG4gICAgICBjb25zdCBxdWV1ZSA9IGh1YltcInF1ZXVlXCJdO1xuICAgICAgcXVldWVbXCJQdXNoXCJdKFtcIlR5cGVzZXRcIiwgaHViLCBzcGFuXSk7XG4gICAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxFbGVtZW50PiA9IFRhc2submV3RnJhbWUoXCJtYWtlTWF0aEpheFZpZXdcIik7XG4gICAgICBjb25zdCBjb250aW51YXRpb24gPSBmcmFtZS5zdXNwZW5kKCk7XG4gICAgICBxdWV1ZVtcIlB1c2hcIl0oKCkgPT4ge1xuICAgICAgICBjb250aW51YXRpb24uc2NoZWR1bGUoc3Bhbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgICB9XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwgYXMgRWxlbWVudCk7XG4gIH1cblxuICBwcml2YXRlIHJlc29sdmVVUkxzSW5NYXRoTUwobm9kZTogTm9kZSwgeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKSB7XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSAmJiAobm9kZSBhcyBFbGVtZW50KS50YWdOYW1lID09PSBcIm1nbHlwaFwiKSB7XG4gICAgICBjb25zdCBhdHRycyA9IEFycmF5LmZyb20oKG5vZGUgYXMgRWxlbWVudCkuYXR0cmlidXRlcyk7XG4gICAgICBmb3IgKGNvbnN0IGF0dHIgb2YgYXR0cnMpIHtcbiAgICAgICAgaWYgKGF0dHIubmFtZSAhPT0gXCJzcmNcIikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld1VybCA9IEJhc2UucmVzb2x2ZVVSTChhdHRyLm5vZGVWYWx1ZSwgeG1sZG9jLnVybCk7XG4gICAgICAgIGlmIChhdHRyLm5hbWVzcGFjZVVSSSkge1xuICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLnNldEF0dHJpYnV0ZU5TKFxuICAgICAgICAgICAgYXR0ci5uYW1lc3BhY2VVUkksXG4gICAgICAgICAgICBhdHRyLm5hbWUsXG4gICAgICAgICAgICBuZXdVcmwsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAobm9kZSBhcyBFbGVtZW50KS5zZXRBdHRyaWJ1dGUoYXR0ci5uYW1lLCBuZXdVcmwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHRoaXMucmVzb2x2ZVVSTHNJbk1hdGhNTChub2RlLmZpcnN0Q2hpbGQsIHhtbGRvYyk7XG4gICAgfVxuICAgIGlmIChub2RlLm5leHRTaWJsaW5nKSB7XG4gICAgICB0aGlzLnJlc29sdmVVUkxzSW5NYXRoTUwobm9kZS5uZXh0U2libGluZywgeG1sZG9jKTtcbiAgICB9XG4gIH1cblxuICAvLyBUT0RPIG1vdmUgbWFrZVNTRVZpZXcgdG8gYSBtb3JlIGFwcHJvcHJpYXRlIGNsYXNzIChTU0UgWE1MIGNvbnRlbnQgaXMgbm90XG4gIC8vIGFsbG93ZWQgaW4gRVBVQilcbiAgLyoqXG4gICAqIEBwYXJhbSBjb21wdXRlZFN0eWxlXG4gICAqL1xuICBtYWtlU1NFVmlldyhcbiAgICB4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIsXG4gICAgc3JjRWxlbTogRWxlbWVudCxcbiAgICB2aWV3UGFyZW50OiBFbGVtZW50LFxuICAgIGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuICApOiBUYXNrLlJlc3VsdDxFbGVtZW50PiB7XG4gICAgY29uc3QgZG9jID0gdmlld1BhcmVudCA/IHZpZXdQYXJlbnQub3duZXJEb2N1bWVudCA6IHRoaXMudmlld3BvcnQuZG9jdW1lbnQ7XG4gICAgY29uc3Qgc3JjVGFnTmFtZSA9IHNyY0VsZW0ubG9jYWxOYW1lO1xuICAgIGxldCB0YWdOYW1lOiBzdHJpbmc7XG4gICAgc3dpdGNoIChzcmNUYWdOYW1lKSB7XG4gICAgICBjYXNlIFwidFwiOlxuICAgICAgY2FzZSBcInRhYlwiOlxuICAgICAgY2FzZSBcImVjXCI6XG4gICAgICBjYXNlIFwibnRcIjpcbiAgICAgIGNhc2UgXCJmcmFjdGlvblwiOlxuICAgICAgY2FzZSBcImNvbW1lbnRcIjpcbiAgICAgIGNhc2UgXCJtYXJrXCI6XG4gICAgICAgIHRhZ05hbWUgPSBcInNwYW5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicnVieVwiOlxuICAgICAgY2FzZSBcInJwXCI6XG4gICAgICBjYXNlIFwicnRcIjpcbiAgICAgICAgdGFnTmFtZSA9IHNyY1RhZ05hbWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGFnTmFtZSA9IFwiZGl2XCI7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IGRvYy5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgIHJlc3VsdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWFkYXB0LXByb2Nlc3MtY2hpbGRyZW5cIiwgXCJ0cnVlXCIpO1xuXG4gICAgLy8gTmVlZCB0byBjYXN0IGJlY2F1c2Ugd2UgbmVlZCB7RWxlbWVudH0sIG5vdCB7IUVsZW1lbnR9XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHJlc3VsdCBhcyBFbGVtZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG1ha2VDdXN0b21SZW5kZXJlcih4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpOiBWZ2VuLkN1c3RvbVJlbmRlcmVyIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gKFxuICAgICAgc3JjRWxlbTogRWxlbWVudCxcbiAgICAgIHZpZXdQYXJlbnQ6IEVsZW1lbnQsXG4gICAgICBjb21wdXRlZFN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbiAgICApOiBUYXNrLlJlc3VsdDxFbGVtZW50PiA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIHNyY0VsZW0ubG9jYWxOYW1lID09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgc3JjRWxlbS5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5YSFRNTFxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBzZWxmLm1ha2VPYmplY3RWaWV3KHhtbGRvYywgc3JjRWxlbSwgdmlld1BhcmVudCwgY29tcHV0ZWRTdHlsZSk7XG4gICAgICB9IGVsc2UgaWYgKHNyY0VsZW0ubmFtZXNwYWNlVVJJID09IEJhc2UuTlMuTUFUSE1MKSB7XG4gICAgICAgIHJldHVybiBzZWxmLm1ha2VNYXRoSmF4Vmlldyh4bWxkb2MsIHNyY0VsZW0sIHZpZXdQYXJlbnQsIGNvbXB1dGVkU3R5bGUpO1xuICAgICAgfSBlbHNlIGlmIChzcmNFbGVtLm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLlNTRSkge1xuICAgICAgICByZXR1cm4gc2VsZi5tYWtlU1NFVmlldyh4bWxkb2MsIHNyY0VsZW0sIHZpZXdQYXJlbnQsIGNvbXB1dGVkU3R5bGUpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgKHNyY0VsZW0gYXMgSFRNTEVsZW1lbnQpLmRhdGFzZXQgJiZcbiAgICAgICAgKHNyY0VsZW0gYXMgSFRNTEVsZW1lbnQpLmRhdGFzZXRbXCJtYXRoVHlwZXNldFwiXSA9PSBcInRydWVcIlxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBzZWxmLm1ha2VNYXRoSmF4Vmlldyh4bWxkb2MsIHNyY0VsZW0sIHZpZXdQYXJlbnQsIGNvbXB1dGVkU3R5bGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwgYXMgRWxlbWVudCk7XG4gICAgfTtcbiAgfVxuXG4gIGdldFBhZ2VWaWV3SXRlbShzcGluZUluZGV4OiBudW1iZXIpOiBUYXNrLlJlc3VsdDxPUEZWaWV3SXRlbT4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmIChzcGluZUluZGV4ID09PSAtMSB8fCBzcGluZUluZGV4ID49IHNlbGYub3BmLnNwaW5lLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwgYXMgT1BGVmlld0l0ZW0pO1xuICAgIH1cbiAgICBsZXQgdmlld0l0ZW0gPSBzZWxmLnNwaW5lSXRlbXNbc3BpbmVJbmRleF07XG4gICAgaWYgKHZpZXdJdGVtKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodmlld0l0ZW0pO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxPUEZWaWV3SXRlbT4gPSBUYXNrLm5ld0ZyYW1lKFwiZ2V0UGFnZVZpZXdJdGVtXCIpO1xuXG4gICAgLy8gSWYgbG9hZGluZyBmb3IgdGhlIGl0ZW0gaGFzIGFscmVhZHkgYmVlbiBzdGFydGVkLCBzdXNwZW5kIGFuZCB3YWl0IGZvclxuICAgIC8vIHRoZSByZXN1bHQuXG4gICAgbGV0IGxvYWRpbmdDb250aW51YXRpb25zID0gdGhpcy5zcGluZUl0ZW1Mb2FkaW5nQ29udGludWF0aW9uc1tzcGluZUluZGV4XTtcbiAgICBpZiAobG9hZGluZ0NvbnRpbnVhdGlvbnMpIHtcbiAgICAgIGNvbnN0IGNvbnQgPSBmcmFtZS5zdXNwZW5kKCk7XG4gICAgICBsb2FkaW5nQ29udGludWF0aW9ucy5wdXNoKGNvbnQpO1xuICAgICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2FkaW5nQ29udGludWF0aW9ucyA9IHRoaXMuc3BpbmVJdGVtTG9hZGluZ0NvbnRpbnVhdGlvbnNbXG4gICAgICAgIHNwaW5lSW5kZXhcbiAgICAgIF0gPSBbXTtcbiAgICB9XG4gICAgY29uc3QgaXRlbSA9IHNlbGYub3BmLnNwaW5lW3NwaW5lSW5kZXhdO1xuICAgIGNvbnN0IHN0b3JlID0gc2VsZi5vcGYuc3RvcmU7XG4gICAgc3RvcmUubG9hZChpdGVtLnNyYykudGhlbigoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKSA9PiB7XG4gICAgICBpdGVtLnRpdGxlID0geG1sZG9jLmRvY3VtZW50LnRpdGxlO1xuICAgICAgY29uc3Qgc3R5bGUgPSBzdG9yZS5nZXRTdHlsZUZvckRvYyh4bWxkb2MpO1xuICAgICAgY29uc3QgY3VzdG9tUmVuZGVyZXIgPSBzZWxmLm1ha2VDdXN0b21SZW5kZXJlcih4bWxkb2MpO1xuICAgICAgbGV0IHZpZXdwb3J0ID0gc2VsZi52aWV3cG9ydDtcbiAgICAgIGNvbnN0IHZpZXdwb3J0U2l6ZSA9IHN0eWxlLnNpemVWaWV3cG9ydChcbiAgICAgICAgdmlld3BvcnQud2lkdGgsXG4gICAgICAgIHZpZXdwb3J0LmhlaWdodCxcbiAgICAgICAgdmlld3BvcnQuZm9udFNpemUsXG4gICAgICAgIHNlbGYucHJlZixcbiAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIHZpZXdwb3J0U2l6ZS53aWR0aCAhPSB2aWV3cG9ydC53aWR0aCB8fFxuICAgICAgICB2aWV3cG9ydFNpemUuaGVpZ2h0ICE9IHZpZXdwb3J0LmhlaWdodCB8fFxuICAgICAgICB2aWV3cG9ydFNpemUuZm9udFNpemUgIT0gdmlld3BvcnQuZm9udFNpemVcbiAgICAgICkge1xuICAgICAgICB2aWV3cG9ydCA9IG5ldyBWZ2VuLlZpZXdwb3J0KFxuICAgICAgICAgIHZpZXdwb3J0LndpbmRvdyxcbiAgICAgICAgICB2aWV3cG9ydFNpemUuZm9udFNpemUsXG4gICAgICAgICAgdmlld3BvcnQucm9vdCxcbiAgICAgICAgICB2aWV3cG9ydFNpemUud2lkdGgsXG4gICAgICAgICAgdmlld3BvcnRTaXplLmhlaWdodCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByZXZpb3VzVmlld0l0ZW0gPSBzZWxmLnNwaW5lSXRlbXNbc3BpbmVJbmRleCAtIDFdO1xuICAgICAgbGV0IHBhZ2VOdW1iZXJPZmZzZXQ6IG51bWJlcjtcbiAgICAgIGlmIChpdGVtLnN0YXJ0UGFnZSAhPT0gbnVsbCkge1xuICAgICAgICBwYWdlTnVtYmVyT2Zmc2V0ID0gaXRlbS5zdGFydFBhZ2UgLSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHNwaW5lSW5kZXggPiAwICYmXG4gICAgICAgICAgKCFwcmV2aW91c1ZpZXdJdGVtIHx8ICFwcmV2aW91c1ZpZXdJdGVtLmNvbXBsZXRlKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBXaGVuIG5hdmlnYXRlIHRvIGEgbmV3IHNwaW5lIGl0ZW0gc2tpcHBpbmcgdGhlIHByZXZpb3VzIGl0ZW1zLFxuICAgICAgICAgIC8vIGdpdmUgdXAgY2FsY3VsYXRlIHBhZ2VOdW1iZXJPZmZzZXQgYW5kIHVzZSBlcGFnZSAob3Igc3BpbmVJbmRleCBpZiBlcGFnZSBpcyB1bnNldCkuXG4gICAgICAgICAgcGFnZU51bWJlck9mZnNldCA9IGl0ZW0uZXBhZ2UgfHwgc3BpbmVJbmRleDtcbiAgICAgICAgICBpZiAoIXNlbGYub3BmLnByZVBhZ2luYXRlZCAmJiBwYWdlTnVtYmVyT2Zmc2V0ICUgMiA9PSAwKSB7XG4gICAgICAgICAgICAvLyBGb3JjZSB0byBvZGQgbnVtYmVyIHRvIGF2b2lkIHVucGFpcmVkIHBhZ2UuIChUaGlzIGlzIDAgYmFzZWQgYW5kIGV2ZW4gbnVtYmVyIGlzIHJlY3RvKVxuICAgICAgICAgICAgcGFnZU51bWJlck9mZnNldCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYWdlTnVtYmVyT2Zmc2V0ID0gcHJldmlvdXNWaWV3SXRlbVxuICAgICAgICAgICAgPyBwcmV2aW91c1ZpZXdJdGVtLmluc3RhbmNlLnBhZ2VOdW1iZXJPZmZzZXQgK1xuICAgICAgICAgICAgICBwcmV2aW91c1ZpZXdJdGVtLnBhZ2VzLmxlbmd0aFxuICAgICAgICAgICAgOiAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtLnNraXBQYWdlc0JlZm9yZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHBhZ2VOdW1iZXJPZmZzZXQgKz0gaXRlbS5za2lwUGFnZXNCZWZvcmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNlbGYuY291bnRlclN0b3JlLmZvcmNlU2V0UGFnZUNvdW50ZXIocGFnZU51bWJlck9mZnNldCk7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBPUFMuU3R5bGVJbnN0YW5jZShcbiAgICAgICAgc3R5bGUsXG4gICAgICAgIHhtbGRvYyxcbiAgICAgICAgc2VsZi5vcGYubGFuZyxcbiAgICAgICAgdmlld3BvcnQsXG4gICAgICAgIHNlbGYuY2xpZW50TGF5b3V0LFxuICAgICAgICBzZWxmLmZvbnRNYXBwZXIsXG4gICAgICAgIGN1c3RvbVJlbmRlcmVyLFxuICAgICAgICBzZWxmLm9wZi5mYWxsYmFja01hcCxcbiAgICAgICAgcGFnZU51bWJlck9mZnNldCxcbiAgICAgICAgc2VsZi5vcGYuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcixcbiAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUsXG4gICAgICAgIHNlbGYub3BmLnBhZ2VQcm9ncmVzc2lvbixcbiAgICAgICk7XG4gICAgICBpbnN0YW5jZS5wcmVmID0gc2VsZi5wcmVmO1xuXG4gICAgICAvLyBGb3IgZW52KHB1Yi10aXRsZSkgYW5kIGVudihkb2MtdGl0bGUpXG4gICAgICBjb25zdCBwdWJUaXRsZXMgPSBzZWxmLm9wZi5tZXRhZGF0YSAmJiBzZWxmLm9wZi5tZXRhZGF0YVttZXRhVGVybXMudGl0bGVdO1xuICAgICAgaW5zdGFuY2UucHViVGl0bGUgPVxuICAgICAgICAocHViVGl0bGVzICYmIHB1YlRpdGxlc1swXSAmJiBwdWJUaXRsZXNbMF1bXCJ2XCJdKSB8fCBcIlwiO1xuICAgICAgaW5zdGFuY2UuZG9jVGl0bGUgPSBpdGVtLnRpdGxlIHx8IFwiXCI7XG5cbiAgICAgIGluc3RhbmNlLmluaXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgdmlld0l0ZW0gPSB7XG4gICAgICAgICAgaXRlbSxcbiAgICAgICAgICB4bWxkb2MsXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgbGF5b3V0UG9zaXRpb25zOiBbbnVsbF0sXG4gICAgICAgICAgcGFnZXM6IFtdLFxuICAgICAgICAgIGNvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5zcGluZUl0ZW1zW3NwaW5lSW5kZXhdID0gdmlld0l0ZW07XG4gICAgICAgIGZyYW1lLmZpbmlzaCh2aWV3SXRlbSk7XG4gICAgICAgIGxvYWRpbmdDb250aW51YXRpb25zLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgICBjLnNjaGVkdWxlKHZpZXdJdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICByZW1vdmVSZW5kZXJlZFBhZ2VzKCkge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5zcGluZUl0ZW1zO1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgaXRlbS5wYWdlcy5zcGxpY2UoMCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudmlld3BvcnQuY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGlmIGF0IGxlYXN0IG9uZSBwYWdlIGhhcyAnYXV0bycgc2l6ZVxuICAgKi9cbiAgaGFzQXV0b1NpemVkUGFnZXMoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLnNwaW5lSXRlbXM7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICBpZiAoaXRlbSkge1xuICAgICAgICBjb25zdCBwYWdlcyA9IGl0ZW0ucGFnZXM7XG4gICAgICAgIGZvciAoY29uc3QgcGFnZSBvZiBwYWdlcykge1xuICAgICAgICAgIGlmIChwYWdlLmlzQXV0b1BhZ2VXaWR0aCAmJiBwYWdlLmlzQXV0b1BhZ2VIZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBoYXNQYWdlcygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zcGluZUl0ZW1zLnNvbWUoKGl0ZW0pID0+IGl0ZW0gJiYgaXRlbS5wYWdlcy5sZW5ndGggPiAwKTtcbiAgfVxuXG4gIHNob3dUT0MoYXV0b2hpZGU6IGJvb2xlYW4pOiBUYXNrLlJlc3VsdDxWdHJlZS5QYWdlPiB7XG4gICAgY29uc3Qgb3BmID0gdGhpcy5vcGY7XG4gICAgY29uc3QgdG9jID0gb3BmLnhodG1sVG9jIHx8IG9wZi5uY3hUb2M7XG4gICAgdGhpcy50b2NBdXRvaGlkZSA9IGF1dG9oaWRlO1xuICAgIGlmICghdG9jKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCBhcyBWdHJlZS5QYWdlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudG9jVmlldyAmJiB0aGlzLnRvY1ZpZXcucGFnZSkge1xuICAgICAgdGhpcy50b2NWaWV3LnBhZ2UuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgIHRoaXMudG9jVmlldy5wYWdlLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcImZhbHNlXCIpO1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRoaXMudG9jVmlldy5wYWdlKTtcbiAgICB9XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuUGFnZT4gPSBUYXNrLm5ld0ZyYW1lKFwic2hvd1RPQ1wiKTtcbiAgICBpZiAoIXRoaXMudG9jVmlldykge1xuICAgICAgdGhpcy50b2NWaWV3ID0gbmV3IFRvYy5UT0NWaWV3KFxuICAgICAgICBvcGYuc3RvcmUsXG4gICAgICAgIHRvYy5zcmMsXG4gICAgICAgIG9wZi5sYW5nLFxuICAgICAgICB0aGlzLmNsaWVudExheW91dCxcbiAgICAgICAgdGhpcy5mb250TWFwcGVyLFxuICAgICAgICB0aGlzLnByZWYsXG4gICAgICAgIHRoaXMsXG4gICAgICAgIG9wZi5mYWxsYmFja01hcCxcbiAgICAgICAgb3BmLmRvY3VtZW50VVJMVHJhbnNmb3JtZXIsXG4gICAgICAgIHRoaXMuY291bnRlclN0b3JlLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3Qgdmlld3BvcnQgPSB0aGlzLnZpZXdwb3J0O1xuICAgIGNvbnN0IHRvY1dpZHRoID0gTWF0aC5taW4oMzUwLCBNYXRoLnJvdW5kKDAuNjcgKiB2aWV3cG9ydC53aWR0aCkgLSAxNik7XG4gICAgY29uc3QgdG9jSGVpZ2h0ID0gdmlld3BvcnQuaGVpZ2h0IC0gNjtcbiAgICBjb25zdCBwYWdlQ29udCA9IHZpZXdwb3J0LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgdmlld3BvcnQucm9vdC5hcHBlbmRDaGlsZChwYWdlQ29udCk7XG4gICAgLy8gcGFnZUNvbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgcGFnZUNvbnQuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgLy8gcGFnZUNvbnQuc3R5bGUubGVmdCA9IFwiM3B4XCI7XG4gICAgLy8gcGFnZUNvbnQuc3R5bGUudG9wID0gXCIzcHhcIjtcbiAgICBwYWdlQ29udC5zdHlsZS53aWR0aCA9IGAke3RvY1dpZHRoICsgMTB9cHhgO1xuICAgIHBhZ2VDb250LnN0eWxlLm1heEhlaWdodCA9IGAke3RvY0hlaWdodH1weGA7XG4gICAgLy8gcGFnZUNvbnQuc3R5bGUub3ZlcmZsb3cgPSBcInNjcm9sbFwiO1xuICAgIC8vIHBhZ2VDb250LnN0eWxlLm92ZXJmbG93WCA9IFwiaGlkZGVuXCI7XG4gICAgLy8gcGFnZUNvbnQuc3R5bGUuYmFja2dyb3VuZCA9IFwicmdiYSgyNDgsMjQ4LDI0OCwwLjkpXCI7XG4gICAgLy8gcGFnZUNvbnQuc3R5bGVbXCJib3JkZXJSYWRpdXNcIl0gPSBcIjJweFwiO1xuICAgIC8vIHBhZ2VDb250LnN0eWxlW1wiYm94U2hhZG93XCJdID0gXCIxcHggMXB4IDJweCByZ2JhKDAsMCwwLDAuNClcIjtcblxuICAgIHBhZ2VDb250LnNldEF0dHJpYnV0ZShcImRhdGEtdml2bGlvc3R5bGUtdG9jLWJveFwiLCBcInRydWVcIik7XG4gICAgcGFnZUNvbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcIm5hdmlnYXRpb25cIik7XG5cbiAgICB0aGlzLnRvY1ZpZXdcbiAgICAgIC5zaG93VE9DKHBhZ2VDb250LCB2aWV3cG9ydCwgdG9jV2lkdGgsIHRvY0hlaWdodCwgdGhpcy52aWV3cG9ydC5mb250U2l6ZSlcbiAgICAgIC50aGVuKChwYWdlKSA9PiB7XG4gICAgICAgIHBhZ2VDb250LnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgcGFnZUNvbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgZnJhbWUuZmluaXNoKHBhZ2UpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgaGlkZVRPQygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy50b2NWaWV3KSB7XG4gICAgICB0aGlzLnRvY1ZpZXcuaGlkZVRPQygpO1xuICAgIH1cbiAgfVxuXG4gIGlzVE9DVmlzaWJsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLnRvY1ZpZXcgJiYgdGhpcy50b2NWaWV3LmlzVE9DVmlzaWJsZSgpO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyU2luZ2xlUGFnZVJlc3VsdCB7XG4gIHBhZ2VBbmRQb3NpdGlvbjogUGFnZUFuZFBvc2l0aW9uO1xuICBuZXh0TGF5b3V0UG9zaXRpb246IFZ0cmVlLkxheW91dFBvc2l0aW9uO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTggVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBBZGFwdGl2ZVZpZXdlciAtIFZpZXdlciBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCAqIGFzIEVwdWIgZnJvbSBcIi4vZXB1YlwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIEZvbnQgZnJvbSBcIi4vZm9udFwiO1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgKiBhcyBQbHVnaW4gZnJvbSBcIi4vcGx1Z2luXCI7XG5pbXBvcnQgKiBhcyBQcm9maWxlIGZyb20gXCIuL3Byb2ZpbGVcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVGFza1V0aWwgZnJvbSBcIi4vdGFzay11dGlsXCI7XG5pbXBvcnQgKiBhcyBWZ2VuIGZyb20gXCIuL3ZnZW5cIjtcbmltcG9ydCAqIGFzIFZ0cmVlIGZyb20gXCIuL3Z0cmVlXCI7XG5cbmV4cG9ydCB0eXBlIEFjdGlvbiA9IChwMTogQmFzZS5KU09OKSA9PiBUYXNrLlJlc3VsdDxib29sZWFuPjtcblxuZXhwb3J0IHR5cGUgVmlld3BvcnRTaXplID0ge1xuICBtYXJnaW5MZWZ0OiBudW1iZXI7XG4gIG1hcmdpblJpZ2h0OiBudW1iZXI7XG4gIG1hcmdpblRvcDogbnVtYmVyO1xuICBtYXJnaW5Cb3R0b206IG51bWJlcjtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG59O1xuXG5leHBvcnQgY29uc3QgVklFV1BPUlRfU1RBVFVTX0FUVFJJQlVURSA9IFwiZGF0YS12aXZsaW9zdHlsZS12aWV3ZXItc3RhdHVzXCI7XG5cbmV4cG9ydCBjb25zdCBWSUVXUE9SVF9TUFJFQURfVklFV19BVFRSSUJVVEUgPSBcImRhdGEtdml2bGlvc3R5bGUtc3ByZWFkLXZpZXdcIjtcblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBQYWdlVmlld01vZGUge1xuICBTSU5HTEVfUEFHRSA9IFwic2luZ2xlUGFnZVwiLFxuICBTUFJFQUQgPSBcInNwcmVhZFwiLFxuICBBVVRPX1NQUkVBRCA9IFwiYXV0b1NwcmVhZFwiLFxufVxuXG5leHBvcnQgdHlwZSBTaW5nbGVEb2N1bWVudFBhcmFtID0ge1xuICB1cmw6IHN0cmluZztcbiAgc3RhcnRQYWdlOiBudW1iZXIgfCBudWxsO1xuICBza2lwUGFnZXNCZWZvcmU6IG51bWJlciB8IG51bGw7XG59O1xuXG5leHBvcnQgY2xhc3MgQWRhcHRpdmVWaWV3ZXIge1xuICBmb250TWFwcGVyOiBGb250Lk1hcHBlcjtcbiAga2ljazogKCkgPT4gdm9pZDtcbiAgc2VuZENvbW1hbmQ6IChwMTogQmFzZS5KU09OIHwgc3RyaW5nKSA9PiB2b2lkO1xuICByZXNpemVMaXN0ZW5lcjogKCkgPT4gdm9pZDtcbiAgaHlwZXJsaW5rTGlzdGVuZXI6IEJhc2UuRXZlbnRMaXN0ZW5lcjtcbiAgcGFnZVJ1bGVTdHlsZUVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICBwYWdlU2hlZXRTaXplQWxyZWFkeVNldDogYm9vbGVhbiA9IGZhbHNlO1xuICByZW5kZXJUYXNrOiBUYXNrLlRhc2sgfCBudWxsID0gbnVsbDtcbiAgYWN0aW9uczogeyBba2V5OiBzdHJpbmddOiBBY3Rpb24gfTtcbiAgcmVhZHlTdGF0ZTogQ29uc3RhbnRzLlJlYWR5U3RhdGU7XG4gIHBhY2thZ2VVUkw6IHN0cmluZ1tdO1xuICBvcGY6IEVwdWIuT1BGRG9jO1xuICBoYXZlWmlwTWV0YWRhdGE6IGJvb2xlYW47XG4gIHRvdWNoQWN0aXZlOiBib29sZWFuO1xuICB0b3VjaFg6IG51bWJlcjtcbiAgdG91Y2hZOiBudW1iZXI7XG4gIG5lZWRSZXNpemU6IGJvb2xlYW47XG4gIG5lZWRSZWZyZXNoOiBib29sZWFuO1xuICB2aWV3cG9ydFNpemU6IFZpZXdwb3J0U2l6ZSB8IG51bGw7XG4gIGN1cnJlbnRQYWdlOiBWdHJlZS5QYWdlO1xuICBjdXJyZW50U3ByZWFkOiBWdHJlZS5TcHJlYWQgfCBudWxsO1xuICBwYWdlUG9zaXRpb246IEVwdWIuUG9zaXRpb24gfCBudWxsO1xuICBmb250U2l6ZTogbnVtYmVyO1xuICB6b29tOiBudW1iZXI7XG4gIGZpdFRvU2NyZWVuOiBib29sZWFuO1xuICBwYWdlVmlld01vZGU6IFBhZ2VWaWV3TW9kZTtcbiAgd2FpdEZvckxvYWRpbmc6IGJvb2xlYW47XG4gIHJlbmRlckFsbFBhZ2VzOiBib29sZWFuO1xuICBwcmVmOiBFeHBycy5QcmVmZXJlbmNlcztcbiAgcGFnZVNpemVzOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH1bXTtcblxuICAvLyBmb3JjZSByZWxheW91dFxuICB2aWV3cG9ydDogVmdlbi5WaWV3cG9ydCB8IG51bGw7XG4gIG9wZlZpZXc6IEVwdWIuT1BGVmlldztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgd2luZG93OiBXaW5kb3csXG4gICAgcHVibGljIHJlYWRvbmx5IHZpZXdwb3J0RWxlbWVudDogSFRNTEVsZW1lbnQsXG4gICAgcHVibGljIHJlYWRvbmx5IGluc3RhbmNlSWQ6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2FsbGJhY2tGbjogKHAxOiBCYXNlLkpTT04pID0+IHZvaWQsXG4gICkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHZpZXdwb3J0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpdmxpb3N0eWxlLXZpZXdlci12aWV3cG9ydFwiLCB0cnVlKTtcbiAgICBpZiAoQ29uc3RhbnRzLmlzRGVidWcpIHtcbiAgICAgIHZpZXdwb3J0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpdmxpb3N0eWxlLWRlYnVnXCIsIHRydWUpO1xuICAgIH1cbiAgICB2aWV3cG9ydEVsZW1lbnQuc2V0QXR0cmlidXRlKFZJRVdQT1JUX1NUQVRVU19BVFRSSUJVVEUsIFwibG9hZGluZ1wiKTtcbiAgICBjb25zdCBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcbiAgICB0aGlzLmZvbnRNYXBwZXIgPSBuZXcgRm9udC5NYXBwZXIoZG9jdW1lbnQuaGVhZCwgdmlld3BvcnRFbGVtZW50KTtcbiAgICB0aGlzLmluaXQoKTtcbiAgICB0aGlzLmtpY2sgPSAoKSA9PiB7fTtcbiAgICB0aGlzLnNlbmRDb21tYW5kID0gKCkgPT4ge307XG4gICAgdGhpcy5yZXNpemVMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgIHNlbGYubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgICBzZWxmLmtpY2soKTtcbiAgICB9O1xuICAgIHRoaXMucGFnZVJlcGxhY2VkTGlzdGVuZXIgPSB0aGlzLnBhZ2VSZXBsYWNlZExpc3RlbmVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oeXBlcmxpbmtMaXN0ZW5lciA9IChldnQpID0+IHt9O1xuICAgIHRoaXMucGFnZVJ1bGVTdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgIFwidml2bGlvc3R5bGUtcGFnZS1ydWxlc1wiLFxuICAgICk7XG4gICAgdGhpcy5hY3Rpb25zID0ge1xuICAgICAgbG9hZFB1YmxpY2F0aW9uOiB0aGlzLmxvYWRQdWJsaWNhdGlvbixcbiAgICAgIGxvYWRYTUw6IHRoaXMubG9hZFhNTCxcbiAgICAgIGNvbmZpZ3VyZTogdGhpcy5jb25maWd1cmUsXG4gICAgICBtb3ZlVG86IHRoaXMubW92ZVRvLFxuICAgICAgdG9jOiB0aGlzLnNob3dUT0MsXG4gICAgfTtcbiAgICB0aGlzLmFkZExvZ0xpc3RlbmVycygpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0KCk6IHZvaWQge1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9IENvbnN0YW50cy5SZWFkeVN0YXRlLkxPQURJTkc7XG4gICAgdGhpcy5wYWNrYWdlVVJMID0gW107XG4gICAgdGhpcy5vcGYgPSBudWxsO1xuICAgIHRoaXMuaGF2ZVppcE1ldGFkYXRhID0gZmFsc2U7XG4gICAgdGhpcy50b3VjaEFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMudG91Y2hYID0gMDtcbiAgICB0aGlzLnRvdWNoWSA9IDA7XG4gICAgdGhpcy5uZWVkUmVzaXplID0gZmFsc2U7XG4gICAgdGhpcy5uZWVkUmVmcmVzaCA9IGZhbHNlO1xuICAgIHRoaXMudmlld3BvcnRTaXplID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnRQYWdlID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnRTcHJlYWQgPSBudWxsO1xuICAgIHRoaXMucGFnZVBvc2l0aW9uID0gbnVsbDtcbiAgICB0aGlzLmZvbnRTaXplID0gMTY7XG4gICAgdGhpcy56b29tID0gMTtcbiAgICB0aGlzLmZpdFRvU2NyZWVuID0gZmFsc2U7XG4gICAgdGhpcy5wYWdlVmlld01vZGUgPSBQYWdlVmlld01vZGUuU0lOR0xFX1BBR0U7XG4gICAgdGhpcy53YWl0Rm9yTG9hZGluZyA9IGZhbHNlO1xuICAgIHRoaXMucmVuZGVyQWxsUGFnZXMgPSB0cnVlO1xuICAgIHRoaXMucHJlZiA9IEV4cHJzLmRlZmF1bHRQcmVmZXJlbmNlcygpO1xuICAgIHRoaXMucGFnZVNpemVzID0gW107XG4gIH1cblxuICBhZGRMb2dMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgbG9nTGV2ZWwgPSBMb2dnaW5nLkxvZ0xldmVsO1xuICAgIExvZ2dpbmcubG9nZ2VyLmFkZExpc3RlbmVyKGxvZ0xldmVsLkRFQlVHLCAoaW5mbykgPT4ge1xuICAgICAgdGhpcy5jYWxsYmFjayh7IHQ6IFwiZGVidWdcIiwgY29udGVudDogaW5mbyB9KTtcbiAgICB9KTtcbiAgICBMb2dnaW5nLmxvZ2dlci5hZGRMaXN0ZW5lcihsb2dMZXZlbC5JTkZPLCAoaW5mbykgPT4ge1xuICAgICAgdGhpcy5jYWxsYmFjayh7IHQ6IFwiaW5mb1wiLCBjb250ZW50OiBpbmZvIH0pO1xuICAgIH0pO1xuICAgIExvZ2dpbmcubG9nZ2VyLmFkZExpc3RlbmVyKGxvZ0xldmVsLldBUk4sIChpbmZvKSA9PiB7XG4gICAgICB0aGlzLmNhbGxiYWNrKHsgdDogXCJ3YXJuXCIsIGNvbnRlbnQ6IGluZm8gfSk7XG4gICAgfSk7XG4gICAgTG9nZ2luZy5sb2dnZXIuYWRkTGlzdGVuZXIobG9nTGV2ZWwuRVJST1IsIChpbmZvKSA9PiB7XG4gICAgICB0aGlzLmNhbGxiYWNrKHsgdDogXCJlcnJvclwiLCBjb250ZW50OiBpbmZvIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxsYmFjayhtZXNzYWdlOiBCYXNlLkpTT04pOiB2b2lkIHtcbiAgICBtZXNzYWdlW1wiaVwiXSA9IHRoaXMuaW5zdGFuY2VJZDtcbiAgICB0aGlzLmNhbGxiYWNrRm4obWVzc2FnZSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHJlYWR5U3RhdGUgYW5kIG5vdGlmeSB0byBsaXN0ZW5lcnNcbiAgICovXG4gIHNldFJlYWR5U3RhdGUocmVhZHlTdGF0ZTogQ29uc3RhbnRzLlJlYWR5U3RhdGUpIHtcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlICE9PSByZWFkeVN0YXRlKSB7XG4gICAgICB0aGlzLnJlYWR5U3RhdGUgPSByZWFkeVN0YXRlO1xuICAgICAgdGhpcy52aWV3cG9ydEVsZW1lbnQuc2V0QXR0cmlidXRlKFZJRVdQT1JUX1NUQVRVU19BVFRSSUJVVEUsIHJlYWR5U3RhdGUpO1xuICAgICAgdGhpcy5jYWxsYmFjayh7IHQ6IFwicmVhZHlzdGF0ZWNoYW5nZVwiIH0pO1xuICAgIH1cbiAgfVxuXG4gIGxvYWRQdWJsaWNhdGlvbihjb21tYW5kOiBCYXNlLkpTT04pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgUHJvZmlsZS5wcm9maWxlci5yZWdpc3RlclN0YXJ0VGltaW5nKFwiYmVmb3JlUmVuZGVyXCIpO1xuICAgIHRoaXMuc2V0UmVhZHlTdGF0ZShDb25zdGFudHMuUmVhZHlTdGF0ZS5MT0FESU5HKTtcbiAgICBjb25zdCB1cmwgPSBjb21tYW5kW1widXJsXCJdIGFzIHN0cmluZztcbiAgICBjb25zdCBmcmFnbWVudCA9IGNvbW1hbmRbXCJmcmFnbWVudFwiXSBhcyBzdHJpbmcgfCBudWxsO1xuICAgIGNvbnN0IGhhdmVaaXBNZXRhZGF0YSA9ICEhY29tbWFuZFtcInppcG1ldGFcIl07XG4gICAgY29uc3QgYXV0aG9yU3R5bGVTaGVldCA9IGNvbW1hbmRbXCJhdXRob3JTdHlsZVNoZWV0XCJdIGFzIHtcbiAgICAgIHVybDogc3RyaW5nIHwgbnVsbDtcbiAgICAgIHRleHQ6IHN0cmluZyB8IG51bGw7XG4gICAgfVtdO1xuICAgIGNvbnN0IHVzZXJTdHlsZVNoZWV0ID0gY29tbWFuZFtcInVzZXJTdHlsZVNoZWV0XCJdIGFzIHtcbiAgICAgIHVybDogc3RyaW5nIHwgbnVsbDtcbiAgICAgIHRleHQ6IHN0cmluZyB8IG51bGw7XG4gICAgfVtdO1xuICAgIHRoaXMudmlld3BvcnQgPSBudWxsO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImxvYWRQdWJsaWNhdGlvblwiKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBzZWxmLmNvbmZpZ3VyZShjb21tYW5kKS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IHN0b3JlID0gbmV3IEVwdWIuRVBVQkRvY1N0b3JlKCk7XG4gICAgICBzdG9yZS5pbml0KGF1dGhvclN0eWxlU2hlZXQsIHVzZXJTdHlsZVNoZWV0KS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3QgcHViVVJMID0gQmFzZS5yZXNvbHZlVVJMKFxuICAgICAgICAgIEJhc2UuY29udmVydFNwZWNpYWxVUkwodXJsKSxcbiAgICAgICAgICBzZWxmLndpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgICApO1xuICAgICAgICBzZWxmLnBhY2thZ2VVUkwgPSBbcHViVVJMXTtcbiAgICAgICAgc3RvcmUubG9hZFB1YkRvYyhwdWJVUkwsIGhhdmVaaXBNZXRhZGF0YSkudGhlbigob3BmKSA9PiB7XG4gICAgICAgICAgaWYgKG9wZikge1xuICAgICAgICAgICAgc2VsZi5vcGYgPSBvcGY7XG4gICAgICAgICAgICBzZWxmLnJlbmRlcihmcmFnbWVudCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcmFtZS5maW5pc2goZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBsb2FkWE1MKGNvbW1hbmQ6IEJhc2UuSlNPTik6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBQcm9maWxlLnByb2ZpbGVyLnJlZ2lzdGVyU3RhcnRUaW1pbmcoXCJiZWZvcmVSZW5kZXJcIik7XG4gICAgdGhpcy5zZXRSZWFkeVN0YXRlKENvbnN0YW50cy5SZWFkeVN0YXRlLkxPQURJTkcpO1xuICAgIGNvbnN0IHBhcmFtczogU2luZ2xlRG9jdW1lbnRQYXJhbVtdID0gY29tbWFuZFtcInVybFwiXTtcbiAgICBjb25zdCBkb2MgPSBjb21tYW5kW1wiZG9jdW1lbnRcIl0gYXMgRG9jdW1lbnQ7XG4gICAgY29uc3QgZnJhZ21lbnQgPSBjb21tYW5kW1wiZnJhZ21lbnRcIl0gYXMgc3RyaW5nIHwgbnVsbDtcbiAgICBjb25zdCBhdXRob3JTdHlsZVNoZWV0ID0gY29tbWFuZFtcImF1dGhvclN0eWxlU2hlZXRcIl0gYXMge1xuICAgICAgdXJsOiBzdHJpbmcgfCBudWxsO1xuICAgICAgdGV4dDogc3RyaW5nIHwgbnVsbDtcbiAgICB9W107XG4gICAgY29uc3QgdXNlclN0eWxlU2hlZXQgPSBjb21tYW5kW1widXNlclN0eWxlU2hlZXRcIl0gYXMge1xuICAgICAgdXJsOiBzdHJpbmcgfCBudWxsO1xuICAgICAgdGV4dDogc3RyaW5nIHwgbnVsbDtcbiAgICB9W107XG5cbiAgICAvLyBmb3JjZSByZWxheW91dFxuICAgIHRoaXMudmlld3BvcnQgPSBudWxsO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImxvYWRYTUxcIik7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5jb25maWd1cmUoY29tbWFuZCkudGhlbigoKSA9PiB7XG4gICAgICBjb25zdCBzdG9yZSA9IG5ldyBFcHViLkVQVUJEb2NTdG9yZSgpO1xuICAgICAgc3RvcmUuaW5pdChhdXRob3JTdHlsZVNoZWV0LCB1c2VyU3R5bGVTaGVldCkudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc29sdmVkUGFyYW1zOiBFcHViLk9QRkl0ZW1QYXJhbVtdID0gcGFyYW1zLm1hcCgocCwgaW5kZXgpID0+ICh7XG4gICAgICAgICAgdXJsOiBCYXNlLnJlc29sdmVVUkwoXG4gICAgICAgICAgICBCYXNlLmNvbnZlcnRTcGVjaWFsVVJMKHAudXJsKSxcbiAgICAgICAgICAgIHNlbGYud2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgKSxcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICBzdGFydFBhZ2U6IHAuc3RhcnRQYWdlLFxuICAgICAgICAgIHNraXBQYWdlc0JlZm9yZTogcC5za2lwUGFnZXNCZWZvcmUsXG4gICAgICAgIH0pKTtcbiAgICAgICAgc2VsZi5wYWNrYWdlVVJMID0gcmVzb2x2ZWRQYXJhbXMubWFwKChwKSA9PiBwLnVybCk7XG4gICAgICAgIHNlbGYub3BmID0gbmV3IEVwdWIuT1BGRG9jKHN0b3JlLCBcIlwiKTtcbiAgICAgICAgc2VsZi5vcGYuaW5pdFdpdGhDaGFwdGVycyhyZXNvbHZlZFBhcmFtcywgZG9jKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBzZWxmLnJlbmRlcihmcmFnbWVudCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXIoZnJhZ21lbnQ/OiBzdHJpbmcgfCBudWxsKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIHRoaXMuY2FuY2VsUmVuZGVyaW5nVGFzaygpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBjb250OiBUYXNrLlJlc3VsdDxib29sZWFuPjtcbiAgICBpZiAoZnJhZ21lbnQpIHtcbiAgICAgIGNvbnQgPSB0aGlzLm9wZi5yZXNvbHZlRnJhZ21lbnQoZnJhZ21lbnQpLnRoZW5Bc3luYygocG9zaXRpb24pID0+IHtcbiAgICAgICAgc2VsZi5wYWdlUG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnQgPSBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnQudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgIFByb2ZpbGUucHJvZmlsZXIucmVnaXN0ZXJFbmRUaW1pbmcoXCJiZWZvcmVSZW5kZXJcIik7XG4gICAgICByZXR1cm4gc2VsZi5yZXNpemUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVzb2x2ZUxlbmd0aChzcGVjaWZpZWQ6IHN0cmluZyk6IG51bWJlciB7XG4gICAgY29uc3QgdmFsdWUgPSBwYXJzZUZsb2F0KHNwZWNpZmllZCk7XG4gICAgY29uc3QgdW5pdFBhdHRlcm4gPSAvW2Etel0rJC87XG4gICAgbGV0IG1hdGNoZWQ6IFJlZ0V4cE1hdGNoQXJyYXk7XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIHNwZWNpZmllZCA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgKG1hdGNoZWQgPSBzcGVjaWZpZWQubWF0Y2godW5pdFBhdHRlcm4pKVxuICAgICkge1xuICAgICAgY29uc3QgdW5pdCA9IG1hdGNoZWRbMF07XG4gICAgICBpZiAodW5pdCA9PT0gXCJlbVwiIHx8IHVuaXQgPT09IFwicmVtXCIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICogdGhpcy5mb250U2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmICh1bml0ID09PSBcImV4XCIpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAodmFsdWUgKiBFeHBycy5kZWZhdWx0VW5pdFNpemVzW1wiZXhcIl0gKiB0aGlzLmZvbnRTaXplKSAvXG4gICAgICAgICAgRXhwcnMuZGVmYXVsdFVuaXRTaXplc1tcImVtXCJdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCB1bml0U2l6ZSA9IEV4cHJzLmRlZmF1bHRVbml0U2l6ZXNbdW5pdF07XG4gICAgICBpZiAodW5pdFNpemUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICogdW5pdFNpemU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGNvbmZpZ3VyZShjb21tYW5kOiBCYXNlLkpTT04pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wiYXV0b3Jlc2l6ZVwiXSA9PSBcImJvb2xlYW5cIikge1xuICAgICAgaWYgKGNvbW1hbmRbXCJhdXRvcmVzaXplXCJdKSB7XG4gICAgICAgIHRoaXMudmlld3BvcnRTaXplID0gbnVsbDtcbiAgICAgICAgdGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnJlc2l6ZUxpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMucmVzaXplTGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wiZm9udFNpemVcIl0gPT0gXCJudW1iZXJcIikge1xuICAgICAgY29uc3QgZm9udFNpemUgPSBjb21tYW5kW1wiZm9udFNpemVcIl0gYXMgbnVtYmVyO1xuICAgICAgaWYgKGZvbnRTaXplID49IDUgJiYgZm9udFNpemUgPD0gNzIgJiYgdGhpcy5mb250U2l6ZSAhPSBmb250U2l6ZSkge1xuICAgICAgICB0aGlzLmZvbnRTaXplID0gZm9udFNpemU7XG4gICAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcInZpZXdwb3J0XCJdID09IFwib2JqZWN0XCIgJiYgY29tbWFuZFtcInZpZXdwb3J0XCJdKSB7XG4gICAgICBjb25zdCB2cCA9IGNvbW1hbmRbXCJ2aWV3cG9ydFwiXTtcbiAgICAgIGNvbnN0IHZpZXdwb3J0U2l6ZSA9IHtcbiAgICAgICAgbWFyZ2luTGVmdDogdGhpcy5yZXNvbHZlTGVuZ3RoKHZwW1wibWFyZ2luLWxlZnRcIl0pIHx8IDAsXG4gICAgICAgIG1hcmdpblJpZ2h0OiB0aGlzLnJlc29sdmVMZW5ndGgodnBbXCJtYXJnaW4tcmlnaHRcIl0pIHx8IDAsXG4gICAgICAgIG1hcmdpblRvcDogdGhpcy5yZXNvbHZlTGVuZ3RoKHZwW1wibWFyZ2luLXRvcFwiXSkgfHwgMCxcbiAgICAgICAgbWFyZ2luQm90dG9tOiB0aGlzLnJlc29sdmVMZW5ndGgodnBbXCJtYXJnaW4tYm90dG9tXCJdKSB8fCAwLFxuICAgICAgICB3aWR0aDogdGhpcy5yZXNvbHZlTGVuZ3RoKHZwW1wid2lkdGhcIl0pIHx8IDAsXG4gICAgICAgIGhlaWdodDogdGhpcy5yZXNvbHZlTGVuZ3RoKHZwW1wiaGVpZ2h0XCJdKSB8fCAwLFxuICAgICAgfTtcbiAgICAgIGlmICh2aWV3cG9ydFNpemUud2lkdGggPj0gMjAwIHx8IHZpZXdwb3J0U2l6ZS5oZWlnaHQgPj0gMjAwKSB7XG4gICAgICAgIHRoaXMud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5yZXNpemVMaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICB0aGlzLnZpZXdwb3J0U2l6ZSA9IHZpZXdwb3J0U2l6ZTtcbiAgICAgICAgdGhpcy5uZWVkUmVzaXplID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wiaHlwaGVuYXRlXCJdID09IFwiYm9vbGVhblwiKSB7XG4gICAgICB0aGlzLnByZWYuaHlwaGVuYXRlID0gY29tbWFuZFtcImh5cGhlbmF0ZVwiXTtcbiAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcImhvcml6b250YWxcIl0gPT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHRoaXMucHJlZi5ob3Jpem9udGFsID0gY29tbWFuZFtcImhvcml6b250YWxcIl07XG4gICAgICB0aGlzLm5lZWRSZXNpemUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbW1hbmRbXCJuaWdodE1vZGVcIl0gPT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHRoaXMucHJlZi5uaWdodE1vZGUgPSBjb21tYW5kW1wibmlnaHRNb2RlXCJdO1xuICAgICAgdGhpcy5uZWVkUmVzaXplID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wibGluZUhlaWdodFwiXSA9PSBcIm51bWJlclwiKSB7XG4gICAgICB0aGlzLnByZWYubGluZUhlaWdodCA9IGNvbW1hbmRbXCJsaW5lSGVpZ2h0XCJdO1xuICAgICAgdGhpcy5uZWVkUmVzaXplID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wiY29sdW1uV2lkdGhcIl0gPT0gXCJudW1iZXJcIikge1xuICAgICAgdGhpcy5wcmVmLmNvbHVtbldpZHRoID0gY29tbWFuZFtcImNvbHVtbldpZHRoXCJdO1xuICAgICAgdGhpcy5uZWVkUmVzaXplID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wiZm9udEZhbWlseVwiXSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aGlzLnByZWYuZm9udEZhbWlseSA9IGNvbW1hbmRbXCJmb250RmFtaWx5XCJdO1xuICAgICAgdGhpcy5uZWVkUmVzaXplID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wibG9hZFwiXSA9PSBcImJvb2xlYW5cIikge1xuICAgICAgdGhpcy53YWl0Rm9yTG9hZGluZyA9IGNvbW1hbmRbXCJsb2FkXCJdOyAvLyBMb2FkIGltYWdlcyAoYW5kIG90aGVyIHJlc291cmNlcykgb24gdGhlIHBhZ2UuXG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcInJlbmRlckFsbFBhZ2VzXCJdID09IFwiYm9vbGVhblwiKSB7XG4gICAgICB0aGlzLnJlbmRlckFsbFBhZ2VzID0gY29tbWFuZFtcInJlbmRlckFsbFBhZ2VzXCJdO1xuICAgIH1cbiAgICAvLyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcInVzZXJBZ2VudFJvb3RVUkxcIl0gPT0gXCJzdHJpbmdcIikge1xuICAgICAgQmFzZS5zZXRCYXNlVVJMKGNvbW1hbmRbXCJ1c2VyQWdlbnRSb290VVJMXCJdLnJlcGxhY2UoL3Jlc291cmNlc1xcLz8kLywgXCJcIikpO1xuICAgICAgQmFzZS5zZXRSZXNvdXJjZUJhc2VVUkwoY29tbWFuZFtcInVzZXJBZ2VudFJvb3RVUkxcIl0pO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbW1hbmRbXCJyb290VVJMXCJdID09IFwic3RyaW5nXCIpIHtcbiAgICAgIEJhc2Uuc2V0QmFzZVVSTChjb21tYW5kW1wicm9vdFVSTFwiXSk7XG4gICAgICBCYXNlLnNldFJlc291cmNlQmFzZVVSTChgJHtCYXNlLmJhc2VVUkx9cmVzb3VyY2VzL2ApO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0eXBlb2YgY29tbWFuZFtcInBhZ2VWaWV3TW9kZVwiXSA9PSBcInN0cmluZ1wiICYmXG4gICAgICBjb21tYW5kW1wicGFnZVZpZXdNb2RlXCJdICE9PSB0aGlzLnBhZ2VWaWV3TW9kZVxuICAgICkge1xuICAgICAgdGhpcy5wYWdlVmlld01vZGUgPSBjb21tYW5kW1wicGFnZVZpZXdNb2RlXCJdIGFzIFBhZ2VWaWV3TW9kZTtcbiAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBjb21tYW5kW1wicGFnZUJvcmRlclwiXSA9PSBcIm51bWJlclwiICYmXG4gICAgICBjb21tYW5kW1wicGFnZUJvcmRlclwiXSAhPT0gdGhpcy5wcmVmLnBhZ2VCb3JkZXJcbiAgICApIHtcbiAgICAgIC8vIEZvcmNlIHJlbGF5b3V0XG4gICAgICB0aGlzLnZpZXdwb3J0ID0gbnVsbDtcbiAgICAgIHRoaXMucHJlZi5wYWdlQm9yZGVyID0gY29tbWFuZFtcInBhZ2VCb3JkZXJcIl07XG4gICAgICB0aGlzLm5lZWRSZXNpemUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbW1hbmRbXCJ6b29tXCJdID09IFwibnVtYmVyXCIgJiYgY29tbWFuZFtcInpvb21cIl0gIT09IHRoaXMuem9vbSkge1xuICAgICAgdGhpcy56b29tID0gY29tbWFuZFtcInpvb21cIl07XG4gICAgICB0aGlzLm5lZWRSZWZyZXNoID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGNvbW1hbmRbXCJmaXRUb1NjcmVlblwiXSA9PSBcImJvb2xlYW5cIiAmJlxuICAgICAgY29tbWFuZFtcImZpdFRvU2NyZWVuXCJdICE9PSB0aGlzLmZpdFRvU2NyZWVuXG4gICAgKSB7XG4gICAgICB0aGlzLmZpdFRvU2NyZWVuID0gY29tbWFuZFtcImZpdFRvU2NyZWVuXCJdO1xuICAgICAgdGhpcy5uZWVkUmVmcmVzaCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBjb21tYW5kW1wiZGVmYXVsdFBhcGVyU2l6ZVwiXSA9PSBcIm9iamVjdFwiICYmXG4gICAgICB0eXBlb2YgY29tbWFuZFtcImRlZmF1bHRQYXBlclNpemVcIl0ud2lkdGggPT0gXCJudW1iZXJcIiAmJlxuICAgICAgdHlwZW9mIGNvbW1hbmRbXCJkZWZhdWx0UGFwZXJTaXplXCJdLmhlaWdodCA9PSBcIm51bWJlclwiXG4gICAgKSB7XG4gICAgICB0aGlzLnZpZXdwb3J0ID0gbnVsbDtcbiAgICAgIHRoaXMucHJlZi5kZWZhdWx0UGFwZXJTaXplID0gY29tbWFuZFtcImRlZmF1bHRQYXBlclNpemVcIl07XG4gICAgICB0aGlzLm5lZWRSZXNpemUgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLmNvbmZpZ3VyZVBsdWdpbnMoY29tbWFuZCk7XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICB9XG5cbiAgY29uZmlndXJlUGx1Z2lucyhjb21tYW5kOiBCYXNlLkpTT04pIHtcbiAgICBjb25zdCBob29rczogUGx1Z2luLkNvbmZpZ3VyYXRpb25Ib29rW10gPSBQbHVnaW4uZ2V0SG9va3NGb3JOYW1lKFxuICAgICAgUGx1Z2luLkhPT0tTLkNPTkZJR1VSQVRJT04sXG4gICAgKTtcbiAgICBob29rcy5mb3JFYWNoKChob29rKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBob29rKGNvbW1hbmQpO1xuICAgICAgdGhpcy5uZWVkUmVzaXplID0gcmVzdWx0Lm5lZWRSZXNpemUgfHwgdGhpcy5uZWVkUmVzaXplO1xuICAgICAgdGhpcy5uZWVkUmVmcmVzaCA9IHJlc3VsdC5uZWVkUmVmcmVzaCB8fCB0aGlzLm5lZWRSZWZyZXNoO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZnJlc2ggdmlldyB3aGVuIGEgY3VycmVudGx5IGRpc3BsYXllZCBwYWdlIGlzIHJlcGxhY2VkIChieSByZS1sYXlvdXRcbiAgICogY2F1c2VkIGJ5IGNyb3NzIHJlZmVyZW5jZSByZXNvbHV0aW9ucylcbiAgICovXG4gIHBhZ2VSZXBsYWNlZExpc3RlbmVyKGV2dDogQmFzZS5FdmVudCkge1xuICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gdGhpcy5jdXJyZW50UGFnZTtcbiAgICBjb25zdCBzcHJlYWQgPSB0aGlzLmN1cnJlbnRTcHJlYWQ7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZ0LnRhcmdldDtcbiAgICBpZiAoc3ByZWFkKSB7XG4gICAgICBpZiAoc3ByZWFkLmxlZnQgPT09IHRhcmdldCB8fCBzcHJlYWQucmlnaHQgPT09IHRhcmdldCkge1xuICAgICAgICB0aGlzLnNob3dDdXJyZW50KGV2dC5uZXdQYWdlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRQYWdlID09PSBldnQudGFyZ2V0KSB7XG4gICAgICB0aGlzLnNob3dDdXJyZW50KGV2dC5uZXdQYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSXRlcmF0ZSB0aHJvdWdoIGN1cnJlbnRseSBkaXNwbGF5ZWQgcGFnZXMgYW5kIGRvIHNvbWV0aGluZ1xuICAgKi9cbiAgcHJpdmF0ZSBmb3JDdXJyZW50UGFnZXMoZm46IChwMTogVnRyZWUuUGFnZSkgPT4gYW55KSB7XG4gICAgY29uc3QgcGFnZXMgPSBbXTtcbiAgICBpZiAodGhpcy5jdXJyZW50UGFnZSkge1xuICAgICAgcGFnZXMucHVzaCh0aGlzLmN1cnJlbnRQYWdlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY3VycmVudFNwcmVhZCkge1xuICAgICAgcGFnZXMucHVzaCh0aGlzLmN1cnJlbnRTcHJlYWQubGVmdCk7XG4gICAgICBwYWdlcy5wdXNoKHRoaXMuY3VycmVudFNwcmVhZC5yaWdodCk7XG4gICAgfVxuICAgIHBhZ2VzLmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgIGlmIChwYWdlKSB7XG4gICAgICAgIGZuKHBhZ2UpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVQYWdlTGlzdGVuZXJzKCkge1xuICAgIHRoaXMuZm9yQ3VycmVudFBhZ2VzKChwYWdlKSA9PiB7XG4gICAgICBwYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJoeXBlcmxpbmtcIiwgdGhpcy5oeXBlcmxpbmtMaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgcGFnZS5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVwbGFjZWRcIiwgdGhpcy5wYWdlUmVwbGFjZWRMaXN0ZW5lciwgZmFsc2UpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhpZGUgY3VycmVudCBwYWdlcyAodGhpcy5jdXJyZW50UGFnZSwgdGhpcy5jdXJyZW50U3ByZWFkKVxuICAgKi9cbiAgcHJpdmF0ZSBoaWRlUGFnZXMoKSB7XG4gICAgdGhpcy5yZW1vdmVQYWdlTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5mb3JDdXJyZW50UGFnZXMoKHBhZ2UpID0+IHtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkocGFnZS5jb250YWluZXIsIFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG4gICAgICBwYWdlLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgfSk7XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IG51bGw7XG4gICAgdGhpcy5jdXJyZW50U3ByZWFkID0gbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgc2hvd1NpbmdsZVBhZ2UocGFnZTogVnRyZWUuUGFnZSkge1xuICAgIHBhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImh5cGVybGlua1wiLCB0aGlzLmh5cGVybGlua0xpc3RlbmVyLCBmYWxzZSk7XG4gICAgcGFnZS5hZGRFdmVudExpc3RlbmVyKFwicmVwbGFjZWRcIiwgdGhpcy5wYWdlUmVwbGFjZWRMaXN0ZW5lciwgZmFsc2UpO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkocGFnZS5jb250YWluZXIsIFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShwYWdlLmNvbnRhaW5lciwgXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgcGFnZS5jb250YWluZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJmYWxzZVwiKTtcbiAgfVxuXG4gIHByaXZhdGUgc2hvd1BhZ2UocGFnZTogVnRyZWUuUGFnZSk6IHZvaWQge1xuICAgIHRoaXMuaGlkZVBhZ2VzKCk7XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhZ2U7XG4gICAgcGFnZS5jb250YWluZXIuc3R5bGUubWFyZ2luTGVmdCA9IFwiXCI7XG4gICAgcGFnZS5jb250YWluZXIuc3R5bGUubWFyZ2luUmlnaHQgPSBcIlwiO1xuICAgIHRoaXMuc2hvd1NpbmdsZVBhZ2UocGFnZSk7XG4gIH1cblxuICBwcml2YXRlIHNob3dTcHJlYWQoc3ByZWFkOiBWdHJlZS5TcHJlYWQpIHtcbiAgICB0aGlzLmhpZGVQYWdlcygpO1xuICAgIHRoaXMuY3VycmVudFNwcmVhZCA9IHNwcmVhZDtcbiAgICBpZiAoc3ByZWFkLmxlZnQgJiYgc3ByZWFkLnJpZ2h0KSB7XG4gICAgICAvLyBBZGp1c3Qgc3ByZWFkIGhvcml6b250YWwgYWxpZ25tZW50IHdoZW4gbGVmdC9yaWdodCBwYWdlIHdpZHRocyBkaWZmZXJcbiAgICAgIGxldCBsZWZ0V2lkdGggPSBwYXJzZUZsb2F0KHNwcmVhZC5sZWZ0LmNvbnRhaW5lci5zdHlsZS53aWR0aCk7XG4gICAgICBsZXQgcmlnaHRXaWR0aCA9IHBhcnNlRmxvYXQoc3ByZWFkLnJpZ2h0LmNvbnRhaW5lci5zdHlsZS53aWR0aCk7XG4gICAgICBpZiAobGVmdFdpZHRoICYmIHJpZ2h0V2lkdGggJiYgbGVmdFdpZHRoICE9PSByaWdodFdpZHRoKSB7XG4gICAgICAgIGlmIChsZWZ0V2lkdGggPCByaWdodFdpZHRoKSB7XG4gICAgICAgICAgc3ByZWFkLmxlZnQuY29udGFpbmVyLnN0eWxlLm1hcmdpbkxlZnQgPSBgJHtyaWdodFdpZHRoIC1cbiAgICAgICAgICAgIGxlZnRXaWR0aH1weGA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3ByZWFkLnJpZ2h0LmNvbnRhaW5lci5zdHlsZS5tYXJnaW5SaWdodCA9IGAke2xlZnRXaWR0aCAtXG4gICAgICAgICAgICByaWdodFdpZHRofXB4YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3ByZWFkLmxlZnQpIHtcbiAgICAgIHRoaXMuc2hvd1NpbmdsZVBhZ2Uoc3ByZWFkLmxlZnQpO1xuICAgICAgaWYgKCFzcHJlYWQucmlnaHQpIHtcbiAgICAgICAgc3ByZWFkLmxlZnQuY29udGFpbmVyLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICBcImRhdGEtdml2bGlvc3R5bGUtdW5wYWlyZWQtcGFnZVwiLFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcHJlYWQubGVmdC5jb250YWluZXIucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS12aXZsaW9zdHlsZS11bnBhaXJlZC1wYWdlXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3ByZWFkLnJpZ2h0KSB7XG4gICAgICB0aGlzLnNob3dTaW5nbGVQYWdlKHNwcmVhZC5yaWdodCk7XG4gICAgICBpZiAoIXNwcmVhZC5sZWZ0KSB7XG4gICAgICAgIHNwcmVhZC5yaWdodC5jb250YWluZXIuc2V0QXR0cmlidXRlKFxuICAgICAgICAgIFwiZGF0YS12aXZsaW9zdHlsZS11bnBhaXJlZC1wYWdlXCIsXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNwcmVhZC5yaWdodC5jb250YWluZXIucmVtb3ZlQXR0cmlidXRlKFxuICAgICAgICAgIFwiZGF0YS12aXZsaW9zdHlsZS11bnBhaXJlZC1wYWdlXCIsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZXBvcnRQb3NpdGlvbigpOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwicmVwb3J0UG9zaXRpb25cIik7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgQXNzZXJ0cy5hc3NlcnQoc2VsZi5wYWdlUG9zaXRpb24pO1xuICAgIHNlbGYub3BmXG4gICAgICAuZ2V0Q0ZJKHRoaXMucGFnZVBvc2l0aW9uLnNwaW5lSW5kZXgsIHRoaXMucGFnZVBvc2l0aW9uLm9mZnNldEluSXRlbSlcbiAgICAgIC50aGVuKChjZmkpID0+IHtcbiAgICAgICAgY29uc3QgcGFnZSA9IHNlbGYuY3VycmVudFBhZ2U7XG4gICAgICAgIGNvbnN0IHIgPVxuICAgICAgICAgIHNlbGYud2FpdEZvckxvYWRpbmcgJiYgcGFnZS5mZXRjaGVycy5sZW5ndGggPiAwXG4gICAgICAgICAgICA/IFRhc2tVdGlsLndhaXRGb3JGZXRjaGVycyhwYWdlLmZldGNoZXJzKVxuICAgICAgICAgICAgOiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgci50aGVuKCgpID0+IHtcbiAgICAgICAgICBzZWxmLnNlbmRMb2NhdGlvbk5vdGlmaWNhdGlvbihwYWdlLCBjZmkpLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlVmlld3BvcnQoKTogVmdlbi5WaWV3cG9ydCB7XG4gICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gdGhpcy52aWV3cG9ydEVsZW1lbnQ7XG4gICAgaWYgKHRoaXMudmlld3BvcnRTaXplKSB7XG4gICAgICBjb25zdCB2cyA9IHRoaXMudmlld3BvcnRTaXplO1xuICAgICAgdmlld3BvcnRFbGVtZW50LnN0eWxlLm1hcmdpbkxlZnQgPSBgJHt2cy5tYXJnaW5MZWZ0fXB4YDtcbiAgICAgIHZpZXdwb3J0RWxlbWVudC5zdHlsZS5tYXJnaW5SaWdodCA9IGAke3ZzLm1hcmdpblJpZ2h0fXB4YDtcbiAgICAgIHZpZXdwb3J0RWxlbWVudC5zdHlsZS5tYXJnaW5Ub3AgPSBgJHt2cy5tYXJnaW5Ub3B9cHhgO1xuICAgICAgdmlld3BvcnRFbGVtZW50LnN0eWxlLm1hcmdpbkJvdHRvbSA9IGAke3ZzLm1hcmdpbkJvdHRvbX1weGA7XG4gICAgICByZXR1cm4gbmV3IFZnZW4uVmlld3BvcnQoXG4gICAgICAgIHRoaXMud2luZG93LFxuICAgICAgICB0aGlzLmZvbnRTaXplLFxuICAgICAgICB2aWV3cG9ydEVsZW1lbnQsXG4gICAgICAgIHZzLndpZHRoLFxuICAgICAgICB2cy5oZWlnaHQsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFZnZW4uVmlld3BvcnQodGhpcy53aW5kb3csIHRoaXMuZm9udFNpemUsIHZpZXdwb3J0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZXNvbHZlU3ByZWFkVmlldyh2aWV3cG9ydDogVmdlbi5WaWV3cG9ydCk6IGJvb2xlYW4ge1xuICAgIHN3aXRjaCAodGhpcy5wYWdlVmlld01vZGUpIHtcbiAgICAgIGNhc2UgUGFnZVZpZXdNb2RlLlNJTkdMRV9QQUdFOlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICBjYXNlIFBhZ2VWaWV3TW9kZS5TUFJFQUQ6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBQYWdlVmlld01vZGUuQVVUT19TUFJFQUQ6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyB3aWRlIGVub3VnaCBmb3IgYSBwYWlyIG9mIHBhZ2VzIG9mIEEvQiBwYXBlciBzaXplcywgYnV0IG5vdCB0b29cbiAgICAgICAgLy8gbmFycm93XG4gICAgICAgIHJldHVybiB2aWV3cG9ydC53aWR0aCAvIHZpZXdwb3J0LmhlaWdodCA+PSAxLjQ1ICYmIHZpZXdwb3J0LndpZHRoID4gODAwO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlU3ByZWFkVmlldyhzcHJlYWRWaWV3OiBib29sZWFuKSB7XG4gICAgdGhpcy5wcmVmLnNwcmVhZFZpZXcgPSBzcHJlYWRWaWV3O1xuICAgIHRoaXMudmlld3BvcnRFbGVtZW50LnNldEF0dHJpYnV0ZShcbiAgICAgIFZJRVdQT1JUX1NQUkVBRF9WSUVXX0FUVFJJQlVURSxcbiAgICAgIHNwcmVhZFZpZXcudG9TdHJpbmcoKSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzaXplSXNHb29kKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy5jcmVhdGVWaWV3cG9ydCgpO1xuICAgIGNvbnN0IHNwcmVhZFZpZXcgPSB0aGlzLnJlc29sdmVTcHJlYWRWaWV3KHZpZXdwb3J0KTtcbiAgICBjb25zdCBzcHJlYWRWaWV3Q2hhbmdlZCA9IHRoaXMucHJlZi5zcHJlYWRWaWV3ICE9PSBzcHJlYWRWaWV3O1xuICAgIHRoaXMudXBkYXRlU3ByZWFkVmlldyhzcHJlYWRWaWV3KTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnZpZXdwb3J0U2l6ZSB8fFxuICAgICAgIXRoaXMudmlld3BvcnQgfHxcbiAgICAgIHRoaXMudmlld3BvcnQuZm9udFNpemUgIT0gdGhpcy5mb250U2l6ZVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAhc3ByZWFkVmlld0NoYW5nZWQgJiZcbiAgICAgIHZpZXdwb3J0LndpZHRoID09IHRoaXMudmlld3BvcnQud2lkdGggJiZcbiAgICAgIHZpZXdwb3J0LmhlaWdodCA9PSB0aGlzLnZpZXdwb3J0LmhlaWdodFxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgIXNwcmVhZFZpZXdDaGFuZ2VkICYmXG4gICAgICB2aWV3cG9ydC53aWR0aCA9PSB0aGlzLnZpZXdwb3J0LndpZHRoICYmXG4gICAgICB2aWV3cG9ydC5oZWlnaHQgIT0gdGhpcy52aWV3cG9ydC5oZWlnaHQgJiZcbiAgICAgIC9BbmRyb2lkfGlQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgICApIHtcbiAgICAgIC8vIE9uIG1vYmlsZSBicm93c2VycywgdGhlIHZpZXdwb3J0IGhlaWdodCBtYXkgY2hhbmdlIHVuZXhwZWN0ZWRseVxuICAgICAgLy8gd2hlbiBzb2Z0IGtleWJvYXJkIGFwcGVhcnMgb3IgdGFiL2FkZHJlc3MgYmFyIGF1dG8taGlkZSBvY2N1cnMsXG4gICAgICAvLyBzbyBpZ25vcmUgcmVzaXppbmcgaW4gdGhpcyBjb25kaXRpb24uXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLm9wZlZpZXcgJiZcbiAgICAgIHRoaXMub3BmVmlldy5oYXNQYWdlcygpICYmXG4gICAgICAhdGhpcy5vcGZWaWV3Lmhhc0F1dG9TaXplZFBhZ2VzKClcbiAgICApIHtcbiAgICAgIHRoaXMudmlld3BvcnQud2lkdGggPSB2aWV3cG9ydC53aWR0aDtcbiAgICAgIHRoaXMudmlld3BvcnQuaGVpZ2h0ID0gdmlld3BvcnQuaGVpZ2h0O1xuICAgICAgdGhpcy5uZWVkUmVmcmVzaCA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRQYWdlU2l6ZShcbiAgICBwYWdlU2l6ZTogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9LFxuICAgIHBhZ2VTaGVldFNpemU6IHsgW2tleTogc3RyaW5nXTogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9IH0sXG4gICAgc3BpbmVJbmRleDogbnVtYmVyLFxuICAgIHBhZ2VJbmRleDogbnVtYmVyLFxuICApIHtcbiAgICB0aGlzLnBhZ2VTaXplc1twYWdlSW5kZXhdID0gcGFnZVNpemU7XG4gICAgdGhpcy5zZXRQYWdlU2l6ZVBhZ2VSdWxlcyhwYWdlU2hlZXRTaXplLCBzcGluZUluZGV4LCBwYWdlSW5kZXgpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRQYWdlU2l6ZVBhZ2VSdWxlcyhcbiAgICBwYWdlU2hlZXRTaXplOiB7IFtrZXk6IHN0cmluZ106IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSB9LFxuICAgIHNwaW5lSW5kZXg6IG51bWJlcixcbiAgICBwYWdlSW5kZXg6IG51bWJlcixcbiAgKSB7XG4gICAgaWYgKCF0aGlzLnBhZ2VTaGVldFNpemVBbHJlYWR5U2V0ICYmIHRoaXMucGFnZVJ1bGVTdHlsZUVsZW1lbnQpIHtcbiAgICAgIGxldCBzdHlsZVRleHQgPSBcIlwiO1xuICAgICAgT2JqZWN0LmtleXMocGFnZVNoZWV0U2l6ZSkuZm9yRWFjaCgoc2VsZWN0b3IpID0+IHtcbiAgICAgICAgc3R5bGVUZXh0ICs9IGBAcGFnZSAke3NlbGVjdG9yfXttYXJnaW46MDtzaXplOmA7XG4gICAgICAgIGNvbnN0IHNpemUgPSBwYWdlU2hlZXRTaXplW3NlbGVjdG9yXTtcbiAgICAgICAgc3R5bGVUZXh0ICs9IGAke3NpemUud2lkdGh9cHggJHtzaXplLmhlaWdodH1weDt9YDtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5wYWdlUnVsZVN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9IHN0eWxlVGV4dDtcbiAgICAgIHRoaXMucGFnZVNoZWV0U2l6ZUFscmVhZHlTZXQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZVBhZ2VTaXplUGFnZVJ1bGVzKCkge1xuICAgIGlmICh0aGlzLnBhZ2VSdWxlU3R5bGVFbGVtZW50KSB7XG4gICAgICB0aGlzLnBhZ2VSdWxlU3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgIHRoaXMucGFnZVNoZWV0U2l6ZUFscmVhZHlTZXQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlc2V0KCk6IHZvaWQge1xuICAgIGxldCB0b2NWaXNpYmxlID0gZmFsc2U7XG4gICAgbGV0IHRvY0F1dG9oaWRlID0gZmFsc2U7XG4gICAgaWYgKHRoaXMub3BmVmlldykge1xuICAgICAgdG9jVmlzaWJsZSA9IHRoaXMub3BmVmlldy5pc1RPQ1Zpc2libGUoKTtcbiAgICAgIHRvY0F1dG9oaWRlID0gdGhpcy5vcGZWaWV3LnRvY0F1dG9oaWRlO1xuICAgICAgdGhpcy5vcGZWaWV3LmhpZGVUT0MoKTtcbiAgICAgIHRoaXMub3BmVmlldy5yZW1vdmVSZW5kZXJlZFBhZ2VzKCk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlUGFnZVNpemVQYWdlUnVsZXMoKTtcbiAgICB0aGlzLnZpZXdwb3J0ID0gdGhpcy5jcmVhdGVWaWV3cG9ydCgpO1xuICAgIHRoaXMudmlld3BvcnQucmVzZXRab29tKCk7XG4gICAgdGhpcy5vcGZWaWV3ID0gbmV3IEVwdWIuT1BGVmlldyhcbiAgICAgIHRoaXMub3BmLFxuICAgICAgdGhpcy52aWV3cG9ydCxcbiAgICAgIHRoaXMuZm9udE1hcHBlcixcbiAgICAgIHRoaXMucHJlZixcbiAgICAgIHRoaXMuc2V0UGFnZVNpemUuYmluZCh0aGlzKSxcbiAgICApO1xuICAgIGlmICh0b2NWaXNpYmxlKSB7XG4gICAgICB0aGlzLnNlbmRDb21tYW5kKHsgYTogXCJ0b2NcIiwgdjogXCJzaG93XCIsIGF1dG9oaWRlOiB0b2NBdXRvaGlkZSB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2hvdyBjdXJyZW50IHBhZ2Ugb3Igc3ByZWFkIGRlcGVuZGluZyBvbiB0aGUgc2V0dGluZ1xuICAgKiAodGhpcy5wcmVmLnNwcmVhZFZpZXcpLlxuICAgKiBAcGFyYW0gc3luYyBJZiB0cnVlLCBnZXQgdGhlIG5lY2Vzc2FyeSBwYWdlIHN5bmNocm9ub3VzbHkgKG5vdCB3YWl0aW5nXG4gICAqICAgICBhbm90aGVyIHJlbmRlcmluZyB0YXNrKVxuICAgKi9cbiAgcHJpdmF0ZSBzaG93Q3VycmVudChwYWdlOiBWdHJlZS5QYWdlLCBzeW5jPzogYm9vbGVhbik6IFRhc2suUmVzdWx0PG51bGw+IHtcbiAgICB0aGlzLm5lZWRSZWZyZXNoID0gZmFsc2U7XG4gICAgdGhpcy5yZW1vdmVQYWdlTGlzdGVuZXJzKCk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKHRoaXMucHJlZi5zcHJlYWRWaWV3KSB7XG4gICAgICByZXR1cm4gdGhpcy5vcGZWaWV3XG4gICAgICAgIC5nZXRTcHJlYWQodGhpcy5wYWdlUG9zaXRpb24sIHN5bmMpXG4gICAgICAgIC50aGVuQXN5bmMoKHNwcmVhZCkgPT4ge1xuICAgICAgICAgIHNlbGYuc2hvd1NwcmVhZChzcHJlYWQpO1xuICAgICAgICAgIHNlbGYuc2V0U3ByZWFkWm9vbShzcHJlYWQpO1xuICAgICAgICAgIHNlbGYuY3VycmVudFBhZ2UgPSBwYWdlO1xuICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsKTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2hvd1BhZ2UocGFnZSk7XG4gICAgICB0aGlzLnNldFBhZ2Vab29tKHBhZ2UpO1xuICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhZ2U7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCk7XG4gICAgfVxuICB9XG5cbiAgc2V0UGFnZVpvb20ocGFnZTogVnRyZWUuUGFnZSkge1xuICAgIGNvbnN0IHpvb20gPSB0aGlzLmdldEFkanVzdGVkWm9vbUZhY3RvcihwYWdlLmRpbWVuc2lvbnMpO1xuICAgIHRoaXMudmlld3BvcnQuem9vbShwYWdlLmRpbWVuc2lvbnMud2lkdGgsIHBhZ2UuZGltZW5zaW9ucy5oZWlnaHQsIHpvb20pO1xuICB9XG5cbiAgc2V0U3ByZWFkWm9vbShzcHJlYWQ6IFZ0cmVlLlNwcmVhZCkge1xuICAgIGNvbnN0IGRpbSA9IHRoaXMuZ2V0U3ByZWFkRGltZW5zaW9ucyhzcHJlYWQpO1xuICAgIHRoaXMudmlld3BvcnQuem9vbShkaW0ud2lkdGgsIGRpbS5oZWlnaHQsIHRoaXMuZ2V0QWRqdXN0ZWRab29tRmFjdG9yKGRpbSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIGFkanVzdGVkIHpvb20gZmFjdG9yXG4gICAqL1xuICBnZXRBZGp1c3RlZFpvb21GYWN0b3IocGFnZURpbWVuc2lvbjoge1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gIH0pOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmZpdFRvU2NyZWVuXG4gICAgICA/IHRoaXMuY2FsY3VsYXRlWm9vbUZhY3RvclRvRml0SW5zaWRlVmlld1BvcnQocGFnZURpbWVuc2lvbilcbiAgICAgIDogdGhpcy56b29tO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgc3ByZWFkLCBpbmNsdWRpbmcgdGhlIG1hcmdpbiBiZXR3ZWVuIHBhZ2VzLlxuICAgKi9cbiAgZ2V0U3ByZWFkRGltZW5zaW9ucyhzcHJlYWQ6IFZ0cmVlLlNwcmVhZCk6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSB7XG4gICAgbGV0IHdpZHRoID0gMDtcbiAgICBsZXQgaGVpZ2h0ID0gMDtcbiAgICBpZiAoc3ByZWFkLmxlZnQpIHtcbiAgICAgIHdpZHRoICs9IHNwcmVhZC5sZWZ0LmRpbWVuc2lvbnMud2lkdGg7XG4gICAgICBoZWlnaHQgPSBzcHJlYWQubGVmdC5kaW1lbnNpb25zLmhlaWdodDtcbiAgICB9XG4gICAgaWYgKHNwcmVhZC5yaWdodCkge1xuICAgICAgd2lkdGggKz0gc3ByZWFkLnJpZ2h0LmRpbWVuc2lvbnMud2lkdGg7XG4gICAgICBoZWlnaHQgPSBNYXRoLm1heChoZWlnaHQsIHNwcmVhZC5yaWdodC5kaW1lbnNpb25zLmhlaWdodCk7XG4gICAgfVxuICAgIGlmIChzcHJlYWQubGVmdCAmJiBzcHJlYWQucmlnaHQpIHtcbiAgICAgIHdpZHRoICs9IHRoaXMucHJlZi5wYWdlQm9yZGVyICogMjtcbiAgICAgIC8vIEFkanVzdCBzcHJlYWQgaG9yaXpvbnRhbCBhbGlnbm1lbnQgd2hlbiBsZWZ0L3JpZ2h0IHBhZ2Ugd2lkdGhzIGRpZmZlclxuICAgICAgd2lkdGggKz0gTWF0aC5hYnMoXG4gICAgICAgIHNwcmVhZC5sZWZ0LmRpbWVuc2lvbnMud2lkdGggLSBzcHJlYWQucmlnaHQuZGltZW5zaW9ucy53aWR0aCxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7IHdpZHRoLCBoZWlnaHQgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHpvb20gZmFjdG9yIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHNwZWNpZmllZCB6b29tIHR5cGUuXG4gICAqL1xuICBxdWVyeVpvb21GYWN0b3IodHlwZTogWm9vbVR5cGUpOiBudW1iZXIge1xuICAgIGlmICghdGhpcy5jdXJyZW50UGFnZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm8gcGFnZSBleGlzdHMuXCIpO1xuICAgIH1cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgWm9vbVR5cGUuRklUX0lOU0lERV9WSUVXUE9SVDoge1xuICAgICAgICBsZXQgcGFnZURpbTogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9O1xuICAgICAgICBpZiAodGhpcy5wcmVmLnNwcmVhZFZpZXcpIHtcbiAgICAgICAgICBBc3NlcnRzLmFzc2VydCh0aGlzLmN1cnJlbnRTcHJlYWQpO1xuICAgICAgICAgIHBhZ2VEaW0gPSB0aGlzLmdldFNwcmVhZERpbWVuc2lvbnModGhpcy5jdXJyZW50U3ByZWFkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYWdlRGltID0gdGhpcy5jdXJyZW50UGFnZS5kaW1lbnNpb25zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGN1bGF0ZVpvb21GYWN0b3JUb0ZpdEluc2lkZVZpZXdQb3J0KHBhZ2VEaW0pO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIHpvb20gdHlwZTogJHt0eXBlfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB6b29tIGZhY3RvciB0byBmaXQgaW5zaWRlIHZpZXdwb3J0XG4gICAqL1xuICBjYWxjdWxhdGVab29tRmFjdG9yVG9GaXRJbnNpZGVWaWV3UG9ydChwYWdlRGltZW5zaW9uOiB7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgfSk6IG51bWJlciB7XG4gICAgY29uc3Qgd2lkdGhab29tID0gdGhpcy52aWV3cG9ydC53aWR0aCAvIHBhZ2VEaW1lbnNpb24ud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0Wm9vbSA9IHRoaXMudmlld3BvcnQuaGVpZ2h0IC8gcGFnZURpbWVuc2lvbi5oZWlnaHQ7XG4gICAgcmV0dXJuIE1hdGgubWluKHdpZHRoWm9vbSwgaGVpZ2h0Wm9vbSk7XG4gIH1cblxuICBwcml2YXRlIGNhbmNlbFJlbmRlcmluZ1Rhc2soKSB7XG4gICAgaWYgKHRoaXMucmVuZGVyVGFzaykge1xuICAgICAgdGhpcy5yZW5kZXJUYXNrLmludGVycnVwdChuZXcgUmVuZGVyaW5nQ2FuY2VsZWRFcnJvcigpKTtcbiAgICB9XG4gICAgdGhpcy5yZW5kZXJUYXNrID0gbnVsbDtcbiAgfVxuXG4gIHJlc2l6ZSgpOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgdGhpcy5uZWVkUmVzaXplID0gZmFsc2U7XG4gICAgdGhpcy5uZWVkUmVmcmVzaCA9IGZhbHNlO1xuICAgIGlmICh0aGlzLnNpemVJc0dvb2QoKSkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLnNldFJlYWR5U3RhdGUoQ29uc3RhbnRzLlJlYWR5U3RhdGUuTE9BRElORyk7XG4gICAgdGhpcy5jYW5jZWxSZW5kZXJpbmdUYXNrKCk7XG4gICAgY29uc3QgcmVzaXplVGFzayA9IFRhc2suY3VycmVudFRhc2soKVxuICAgICAgLmdldFNjaGVkdWxlcigpXG4gICAgICAucnVuKCgpID0+XG4gICAgICAgIFRhc2suaGFuZGxlKFxuICAgICAgICAgIFwicmVzaXplXCIsXG4gICAgICAgICAgKGZyYW1lKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXNlbGYub3BmKSB7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChmYWxzZSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYucmVuZGVyVGFzayA9IHJlc2l6ZVRhc2s7XG4gICAgICAgICAgICBQcm9maWxlLnByb2ZpbGVyLnJlZ2lzdGVyU3RhcnRUaW1pbmcoXCJyZW5kZXIgKHJlc2l6ZSlcIik7XG4gICAgICAgICAgICBzZWxmLnJlc2V0KCk7XG4gICAgICAgICAgICBpZiAoc2VsZi5wYWdlUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgLy8gV2hlbiByZXNpemluZywgZG8gbm90IHVzZSB0aGUgY3VycmVudCBwYWdlIGluZGV4LCBmb3IgYSBwYWdlXG4gICAgICAgICAgICAgIC8vIGluZGV4IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGN1cnJlbnQgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50XG4gICAgICAgICAgICAgIC8vIChvZmZzZXRJbkl0ZW0pIGNhbiBjaGFuZ2UgZHVlIHRvIGRpZmZlcmVudCBsYXlvdXQgY2F1c2VkIGJ5XG4gICAgICAgICAgICAgIC8vIGRpZmZlcmVudCB2aWV3cG9ydCBzaXplLlxuXG4gICAgICAgICAgICAgIC8vIFVwZGF0ZSgyMDE5LTAzKTogdG8gYXZvaWQgdW5leHBlY3RlZCBwYWdlIG1vdmUgKGZpcnN0IHBhZ2UgdG8gbmV4dCksXG4gICAgICAgICAgICAgIC8vIGtlZXAgcGFnZUluZGV4ID09IDAgd2hlbiBvZmZzZXRJbkl0ZW0gPT0gMFxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIShcbiAgICAgICAgICAgICAgICAgIHNlbGYucGFnZVBvc2l0aW9uLnBhZ2VJbmRleCA9PSAwICYmXG4gICAgICAgICAgICAgICAgICBzZWxmLnBhZ2VQb3NpdGlvbi5vZmZzZXRJbkl0ZW0gPT0gMFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5wYWdlUG9zaXRpb24ucGFnZUluZGV4ID0gLTE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZXBhZ2VDb3VudCBjb3VudGluZyBkZXBlbmRzIHJlbmRlckFsbFBhZ2VzIG1vZGVcbiAgICAgICAgICAgIHNlbGYub3BmLnNldEVQYWdlQ291bnRNb2RlKHNlbGYucmVuZGVyQWxsUGFnZXMpO1xuXG4gICAgICAgICAgICAvLyBXaXRoIHJlbmRlckFsbFBhZ2VzIG9wdGlvbiBzcGVjaWZpZWQsIHRoZSByZW5kZXJpbmcgaXNcbiAgICAgICAgICAgIC8vIHBlcmZvcm1lZCBhZnRlciB0aGUgaW5pdGlhbCBwYWdlIGRpc3BsYXksIG90aGVyd2lzZSB1c2VycyBhcmVcbiAgICAgICAgICAgIC8vIGZvcmNlZCB0byB3YWl0IHRoZSByZW5kZXJpbmcgZmluaXNoIGluIGZyb250IG9mIGEgYmxhbmsgcGFnZS5cbiAgICAgICAgICAgIHNlbGYub3BmVmlld1xuICAgICAgICAgICAgICAucmVuZGVyUGFnZXNVcHRvKHNlbGYucGFnZVBvc2l0aW9uLCAhc2VsZi5yZW5kZXJBbGxQYWdlcylcbiAgICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICBmcmFtZS5maW5pc2goZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWxmLnBhZ2VQb3NpdGlvbiA9IHJlc3VsdC5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICBzZWxmLnNob3dDdXJyZW50KHJlc3VsdC5wYWdlLCB0cnVlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNlbGYuc2V0UmVhZHlTdGF0ZShDb25zdGFudHMuUmVhZHlTdGF0ZS5JTlRFUkFDVElWRSk7XG5cbiAgICAgICAgICAgICAgICAgIHNlbGYub3BmXG4gICAgICAgICAgICAgICAgICAgIC5jb3VudEVQYWdlcygoZXBhZ2VDb3VudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQ6IFwibmF2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcGFnZUNvdW50OiBlcGFnZUNvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3Q6IHNlbGYuY3VycmVudFBhZ2UuaXNGaXJzdFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0OiBzZWxmLmN1cnJlbnRQYWdlLmlzTGFzdFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogc2VsZi5vcGYubWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NUaXRsZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vcGYuc3BpbmVbc2VsZi5wYWdlUG9zaXRpb24uc3BpbmVJbmRleF0udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRQYWdlLmlzRmlyc3RQYWdlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoc2VsZi5wYWdlUG9zaXRpb24ucGFnZUluZGV4ID09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vcGYuc3BpbmVbc2VsZi5wYWdlUG9zaXRpb24uc3BpbmVJbmRleF0uZXBhZ2UpXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25bXCJlcGFnZVwiXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub3BmLnNwaW5lW3NlbGYucGFnZVBvc2l0aW9uLnNwaW5lSW5kZXhdLmVwYWdlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbGxiYWNrKG5vdGlmaWNhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlcG9ydFBvc2l0aW9uKCkudGhlbigocCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IHNlbGYucmVuZGVyQWxsUGFnZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZWxmLm9wZlZpZXcucmVuZGVyQWxsUGFnZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IFRhc2submV3UmVzdWx0KG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgci50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYucmVuZGVyVGFzayA9PT0gcmVzaXplVGFzaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVuZGVyVGFzayA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZmlsZS5wcm9maWxlci5yZWdpc3RlckVuZFRpbWluZyhcInJlbmRlciAocmVzaXplKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYucmVuZGVyQWxsUGFnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNldFJlYWR5U3RhdGUoQ29uc3RhbnRzLlJlYWR5U3RhdGUuQ09NUExFVEUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FsbGJhY2soeyB0OiBcImxvYWRlZFwiIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFtZS5maW5pc2gocCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgKGZyYW1lLCBlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBSZW5kZXJpbmdDYW5jZWxlZEVycm9yKSB7XG4gICAgICAgICAgICAgIFByb2ZpbGUucHJvZmlsZXIucmVnaXN0ZXJFbmRUaW1pbmcoXCJyZW5kZXIgKHJlc2l6ZSlcIik7XG4gICAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmRlYnVnKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gIH1cblxuICBwcml2YXRlIHNlbmRMb2NhdGlvbk5vdGlmaWNhdGlvbihcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGNmaTogc3RyaW5nIHwgbnVsbCxcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwic2VuZExvY2F0aW9uTm90aWZpY2F0aW9uXCIsXG4gICAgKTtcbiAgICBjb25zdCBub3RpZmljYXRpb24gPSB7XG4gICAgICB0OiBcIm5hdlwiLFxuICAgICAgZmlyc3Q6IHBhZ2UuaXNGaXJzdFBhZ2UsXG4gICAgICBsYXN0OiBwYWdlLmlzTGFzdFBhZ2UsXG4gICAgICBtZXRhZGF0YTogdGhpcy5vcGYubWV0YWRhdGEsXG4gICAgICBkb2NUaXRsZTogdGhpcy5vcGYuc3BpbmVbcGFnZS5zcGluZUluZGV4XS50aXRsZSxcbiAgICB9O1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHRoaXMub3BmXG4gICAgICAuZ2V0RVBhZ2VGcm9tUG9zaXRpb24oc2VsZi5wYWdlUG9zaXRpb24gYXMgRXB1Yi5Qb3NpdGlvbilcbiAgICAgIC50aGVuKChlcGFnZSkgPT4ge1xuICAgICAgICBub3RpZmljYXRpb25bXCJlcGFnZVwiXSA9IGVwYWdlO1xuICAgICAgICBub3RpZmljYXRpb25bXCJlcGFnZUNvdW50XCJdID0gc2VsZi5vcGYuZXBhZ2VDb3VudDtcbiAgICAgICAgaWYgKGNmaSkge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImNmaVwiXSA9IGNmaTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmNhbGxiYWNrKG5vdGlmaWNhdGlvbik7XG4gICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGdldEN1cnJlbnRQYWdlUHJvZ3Jlc3Npb24oKTogQ29uc3RhbnRzLlBhZ2VQcm9ncmVzc2lvbiB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLm9wZlZpZXdcbiAgICAgID8gdGhpcy5vcGZWaWV3LmdldEN1cnJlbnRQYWdlUHJvZ3Jlc3Npb24odGhpcy5wYWdlUG9zaXRpb24pXG4gICAgICA6IG51bGw7XG4gIH1cblxuICBtb3ZlVG8oY29tbWFuZDogQmFzZS5KU09OKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGxldCBtZXRob2Q6ICgpID0+IFRhc2suUmVzdWx0PEVwdWIuUGFnZUFuZFBvc2l0aW9uPjtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoXG4gICAgICB0aGlzLnJlYWR5U3RhdGUgIT09IENvbnN0YW50cy5SZWFkeVN0YXRlLkNPTVBMRVRFICYmXG4gICAgICBjb21tYW5kW1wid2hlcmVcIl0gIT09IFwibmV4dFwiXG4gICAgKSB7XG4gICAgICB0aGlzLnNldFJlYWR5U3RhdGUoQ29uc3RhbnRzLlJlYWR5U3RhdGUuTE9BRElORyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcIndoZXJlXCJdID09IFwic3RyaW5nXCIpIHtcbiAgICAgIGxldCBtOiAoXG4gICAgICAgIHBvc2l0aW9uOiBFcHViLlBvc2l0aW9uLFxuICAgICAgICBzeW5jOiBib29sZWFuLFxuICAgICAgKSA9PiBUYXNrLlJlc3VsdDxFcHViLlBhZ2VBbmRQb3NpdGlvbj47XG4gICAgICBzd2l0Y2ggKGNvbW1hbmRbXCJ3aGVyZVwiXSkge1xuICAgICAgICBjYXNlIFwibmV4dFwiOlxuICAgICAgICAgIG0gPSB0aGlzLnByZWYuc3ByZWFkVmlld1xuICAgICAgICAgICAgPyB0aGlzLm9wZlZpZXcubmV4dFNwcmVhZFxuICAgICAgICAgICAgOiB0aGlzLm9wZlZpZXcubmV4dFBhZ2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwcmV2aW91c1wiOlxuICAgICAgICAgIG0gPSB0aGlzLnByZWYuc3ByZWFkVmlld1xuICAgICAgICAgICAgPyB0aGlzLm9wZlZpZXcucHJldmlvdXNTcHJlYWRcbiAgICAgICAgICAgIDogdGhpcy5vcGZWaWV3LnByZXZpb3VzUGFnZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImxhc3RcIjpcbiAgICAgICAgICBtID0gdGhpcy5vcGZWaWV3Lmxhc3RQYWdlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZmlyc3RcIjpcbiAgICAgICAgICBtID0gdGhpcy5vcGZWaWV3LmZpcnN0UGFnZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICB9XG4gICAgICBpZiAobSkge1xuICAgICAgICBtZXRob2QgPSAoKSA9PlxuICAgICAgICAgIG0uY2FsbChzZWxmLm9wZlZpZXcsIHNlbGYucGFnZVBvc2l0aW9uLCAhc2VsZi5yZW5kZXJBbGxQYWdlcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29tbWFuZFtcImVwYWdlXCJdID09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbnN0IGVwYWdlID0gY29tbWFuZFtcImVwYWdlXCJdIGFzIG51bWJlcjtcbiAgICAgIG1ldGhvZCA9ICgpID0+XG4gICAgICAgIHNlbGYub3BmVmlldy5uYXZpZ2F0ZVRvRVBhZ2UoXG4gICAgICAgICAgZXBhZ2UsXG4gICAgICAgICAgc2VsZi5wYWdlUG9zaXRpb24sXG4gICAgICAgICAgIXNlbGYucmVuZGVyQWxsUGFnZXMsXG4gICAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29tbWFuZFtcInVybFwiXSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb25zdCB1cmwgPSBjb21tYW5kW1widXJsXCJdIGFzIHN0cmluZztcbiAgICAgIG1ldGhvZCA9ICgpID0+XG4gICAgICAgIHNlbGYub3BmVmlldy5uYXZpZ2F0ZVRvKHVybCwgc2VsZi5wYWdlUG9zaXRpb24sICFzZWxmLnJlbmRlckFsbFBhZ2VzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJtb3ZlVG9cIik7XG4gICAgbWV0aG9kLmNhbGwoc2VsZi5vcGZWaWV3KS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGxldCBjb250OiBUYXNrLlJlc3VsdDxib29sZWFuPjtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgc2VsZi5wYWdlUG9zaXRpb24gPSByZXN1bHQucG9zaXRpb247XG4gICAgICAgIGNvbnN0IGlubmVyRnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgICAgIFwibW92ZVRvLnNob3dDdXJyZW50XCIsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnQgPSBpbm5lckZyYW1lLnJlc3VsdCgpO1xuICAgICAgICBzZWxmLnNob3dDdXJyZW50KHJlc3VsdC5wYWdlLCAhc2VsZi5yZW5kZXJBbGxQYWdlcykudGhlbigoKSA9PiB7XG4gICAgICAgICAgc2VsZi5yZXBvcnRQb3NpdGlvbigpLnRoZW5GaW5pc2goaW5uZXJGcmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udCA9IFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgfVxuICAgICAgY29udC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHNlbGYucmVhZHlTdGF0ZSA9PT0gQ29uc3RhbnRzLlJlYWR5U3RhdGUuTE9BRElORykge1xuICAgICAgICAgIHNlbGYuc2V0UmVhZHlTdGF0ZShDb25zdGFudHMuUmVhZHlTdGF0ZS5JTlRFUkFDVElWRSk7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKHJlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBzaG93VE9DKGNvbW1hbmQ6IEJhc2UuSlNPTik6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBhdXRvaGlkZSA9ICEhY29tbWFuZFtcImF1dG9oaWRlXCJdO1xuICAgIGNvbnN0IHZpc2liaWxpdHkgPSBjb21tYW5kW1widlwiXTtcbiAgICBjb25zdCBjdXJyZW50VmlzaWJpbGl0eSA9IHRoaXMub3BmVmlldy5pc1RPQ1Zpc2libGUoKTtcbiAgICBjb25zdCBjaGFuZ2VBdXRvaGlkZSA9XG4gICAgICBhdXRvaGlkZSAhPSB0aGlzLm9wZlZpZXcudG9jQXV0b2hpZGUgJiYgdmlzaWJpbGl0eSAhPSBcImhpZGVcIjtcbiAgICBpZiAoY3VycmVudFZpc2liaWxpdHkpIHtcbiAgICAgIGlmICh2aXNpYmlsaXR5ID09IFwic2hvd1wiICYmICFjaGFuZ2VBdXRvaGlkZSkge1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh2aXNpYmlsaXR5ID09IFwiaGlkZVwiKSB7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGN1cnJlbnRWaXNpYmlsaXR5ICYmIHZpc2liaWxpdHkgIT0gXCJzaG93XCIpIHtcbiAgICAgIHRoaXMub3BmVmlldy5oaWRlVE9DKCk7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwic2hvd1RPQ1wiKTtcbiAgICAgIHRoaXMub3BmVmlldy5zaG93VE9DKGF1dG9oaWRlKS50aGVuKChwYWdlKSA9PiB7XG4gICAgICAgIGlmIChwYWdlKSB7XG4gICAgICAgICAgaWYgKGNoYW5nZUF1dG9oaWRlKSB7XG4gICAgICAgICAgICBwYWdlLmxpc3RlbmVycyA9IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYXV0b2hpZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGhpZGVUT0MgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIHNlbGYub3BmVmlldy5oaWRlVE9DKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcGFnZS5hZGRFdmVudExpc3RlbmVyKFwiaHlwZXJsaW5rXCIsIGhpZGVUT0MsIGZhbHNlKTtcbiAgICAgICAgICAgIC8vIHBhZ2UuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoaWRlVE9DLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImh5cGVybGlua1wiLCBzZWxmLmh5cGVybGlua0xpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgcnVuQ29tbWFuZChjb21tYW5kOiBCYXNlLkpTT04pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgYWN0aW9uTmFtZSA9IGNvbW1hbmRbXCJhXCJdIHx8IFwiXCI7XG4gICAgcmV0dXJuIFRhc2suaGFuZGxlKFxuICAgICAgXCJydW5Db21tYW5kXCIsXG4gICAgICAoZnJhbWUpID0+IHtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gc2VsZi5hY3Rpb25zW2FjdGlvbk5hbWVdO1xuICAgICAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAgICAgYWN0aW9uLmNhbGwoc2VsZiwgY29tbWFuZCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBzZWxmLmNhbGxiYWNrKHsgdDogXCJkb25lXCIsIGE6IGFjdGlvbk5hbWUgfSk7XG4gICAgICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoXCJObyBzdWNoIGFjdGlvbjpcIiwgYWN0aW9uTmFtZSk7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgKGZyYW1lLCBlcnIpID0+IHtcbiAgICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoZXJyLCBcIkVycm9yIGR1cmluZyBhY3Rpb246XCIsIGFjdGlvbk5hbWUpO1xuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICB9LFxuICAgICk7XG4gIH1cblxuICBpbml0RW1iZWQoY21kOiBCYXNlLkpTT04gfCBzdHJpbmcpOiB2b2lkIHtcbiAgICBsZXQgY29tbWFuZCA9IG1heWJlUGFyc2UoY21kKTtcbiAgICBsZXQgY29udGludWF0aW9uOiBUYXNrLkNvbnRpbnVhdGlvbjxib29sZWFuPiB8IG51bGwgPSBudWxsO1xuICAgIGNvbnN0IHZpZXdlciA9IHRoaXM7XG4gICAgVGFzay5zdGFydCgoKSA9PiB7XG4gICAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJjb21tYW5kTG9vcFwiKTtcbiAgICAgIGNvbnN0IHNjaGVkdWxlciA9IFRhc2suY3VycmVudFRhc2soKS5nZXRTY2hlZHVsZXIoKTtcbiAgICAgIHZpZXdlci5oeXBlcmxpbmtMaXN0ZW5lciA9IChldnQpID0+IHtcbiAgICAgICAgY29uc3QgaHJlZkV2ZW50ID0gZXZ0IGFzIFZ0cmVlLlBhZ2VIeXBlcmxpbmtFdmVudDtcbiAgICAgICAgY29uc3QgaW50ZXJuYWwgPVxuICAgICAgICAgIGhyZWZFdmVudC5ocmVmLmNoYXJBdCgwKSA9PT0gXCIjXCIgfHxcbiAgICAgICAgICB2aWV3ZXIucGFja2FnZVVSTC5zb21lKFxuICAgICAgICAgICAgKHVybCkgPT4gaHJlZkV2ZW50LmhyZWYuc3Vic3RyKDAsIHVybC5sZW5ndGgpID09IHVybCxcbiAgICAgICAgICApO1xuICAgICAgICBpZiAoaW50ZXJuYWwpIHtcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBjb25zdCBtc2cgPSB7XG4gICAgICAgICAgICB0OiBcImh5cGVybGlua1wiLFxuICAgICAgICAgICAgaHJlZjogaHJlZkV2ZW50LmhyZWYsXG4gICAgICAgICAgICBpbnRlcm5hbDogaW50ZXJuYWwsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBzY2hlZHVsZXIucnVuKCgpID0+IHtcbiAgICAgICAgICAgIHZpZXdlci5jYWxsYmFjayhtc2cpO1xuICAgICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZnJhbWVcbiAgICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICAgIGlmICh2aWV3ZXIubmVlZFJlc2l6ZSkge1xuICAgICAgICAgICAgdmlld2VyLnJlc2l6ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZpZXdlci5uZWVkUmVmcmVzaCkge1xuICAgICAgICAgICAgaWYgKHZpZXdlci5jdXJyZW50UGFnZSkge1xuICAgICAgICAgICAgICB2aWV3ZXIuc2hvd0N1cnJlbnQodmlld2VyLmN1cnJlbnRQYWdlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoY29tbWFuZCkge1xuICAgICAgICAgICAgY29uc3QgY21kID0gY29tbWFuZDtcbiAgICAgICAgICAgIGNvbW1hbmQgPSBudWxsO1xuICAgICAgICAgICAgdmlld2VyLnJ1bkNvbW1hbmQoY21kKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lSW50ZXJuYWw6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgICAgICAgICBcIndhaXRGb3JDb21tYW5kXCIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29udGludWF0aW9uID0gZnJhbWVJbnRlcm5hbC5zdXNwZW5kKHNlbGYpO1xuICAgICAgICAgICAgZnJhbWVJbnRlcm5hbC5yZXN1bHQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gICAgfSk7XG4gICAgdmlld2VyLmtpY2sgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb250ID0gY29udGludWF0aW9uO1xuICAgICAgaWYgKGNvbnQpIHtcbiAgICAgICAgY29udGludWF0aW9uID0gbnVsbDtcbiAgICAgICAgY29udC5zY2hlZHVsZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZpZXdlci5zZW5kQ29tbWFuZCA9IChjbWQpID0+IHtcbiAgICAgIGlmIChjb21tYW5kKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbW1hbmQgPSBtYXliZVBhcnNlKGNtZCk7XG4gICAgICB2aWV3ZXIua2ljaygpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICB0aGlzLndpbmRvd1tcImFkYXB0X2NvbW1hbmRcIl0gPSB2aWV3ZXIuc2VuZENvbW1hbmQ7XG4gIH1cbn1cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBab29tVHlwZSB7XG4gIEZJVF9JTlNJREVfVklFV1BPUlQgPSBcImZpdCBpbnNpZGUgdmlld3BvcnRcIixcbn1cblxuLyoqXG4gKiBFcnJvciByZXByZXNlbnRpbmcgdGhhdCB0aGUgcmVuZGVyaW5nIGhhcyBiZWVuIGNhbmNlbGVkLlxuICovXG5jbGFzcyBSZW5kZXJpbmdDYW5jZWxlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBuYW1lOiBzdHJpbmcgPSBcIlJlbmRlcmluZ0NhbmNlbGVkRXJyb3JcIjtcbiAgbWVzc2FnZTogc3RyaW5nID0gXCJQYWdlIHJlbmRlcmluZyBoYXMgYmVlbiBjYW5jZWxlZFwiO1xuICBzdGFjazogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgLy8gU2V0IHRoZSBwcm90b3R5cGUgZXhwbGljaXRseS5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvd2lraS9CcmVha2luZy1DaGFuZ2VzI2V4dGVuZGluZy1idWlsdC1pbnMtbGlrZS1lcnJvci1hcnJheS1hbmQtbWFwLW1heS1uby1sb25nZXItd29ya1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSZW5kZXJpbmdDYW5jZWxlZEVycm9yLnByb3RvdHlwZSk7XG4gICAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXliZVBhcnNlKGNtZDogYW55KTogQmFzZS5KU09OIHtcbiAgaWYgKHR5cGVvZiBjbWQgPT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBCYXNlLnN0cmluZ1RvSlNPTihjbWQpO1xuICB9XG4gIHJldHVybiBjbWQ7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTggVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDb3JlVmlld2VyIC0gVml2bGlvc3R5bGUgQ29yZVZpZXdlciBjbGFzc1xuICovXG5pbXBvcnQgKiBhcyBBZGFwdGl2ZVZpZXdlciBmcm9tIFwiLi9hZGFwdGl2ZS12aWV3ZXJcIjtcbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0ICogYXMgUHJvZmlsZSBmcm9tIFwiLi9wcm9maWxlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5bG9hZCB7XG4gIHR5cGU6IHN0cmluZztcbiAgaW50ZXJuYWw6IGJvb2xlYW47XG4gIGhyZWY6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xuICBjZmk6IHN0cmluZztcbiAgZmlyc3Q6IGJvb2xlYW47XG4gIGxhc3Q6IGJvb2xlYW47XG4gIGVwYWdlOiB1bmtub3duO1xuICBlcGFnZUNvdW50OiBudW1iZXI7XG4gIG1ldGFkYXRhOiB1bmtub3duO1xuICBkb2NUaXRsZTogc3RyaW5nO1xufVxuXG5jb25zdCBQYWdlUHJvZ3Jlc3Npb24gPSBDb25zdGFudHMuUGFnZVByb2dyZXNzaW9uO1xuXG4vKipcbiAqIFZpZXdlciBzZXR0aW5ncyB0aGF0IG11c3QgYmUgcGFzc2VkIHRvIFZpZXdlcidzIGNvbnN0cnVjdG9yLlxuICogLSB1c2VyQWdlbnRSb290VVJMOiBVUkwgb2YgYSBkaXJlY3RvcnkgZnJvbSB3aGljaCB2aWV3ZXIgcmVzb3VyY2UgZmlsZXNcbiAqICAgKHVuZGVyIHJlc291cmNlcy8gZGlyZWN0b3J5IGluIHRoZSBzb3VyY2UgcmVwb3NpdG9yeSkgYXJlIHNlcnZlZC5cbiAqIC0gdmlld3BvcnRFbGVtZW50OiBBbiBlbGVtZW50IHVzZWQgYXMgdGhlIHZpZXdwb3J0IG9mIHRoZSBkaXNwbGF5ZWQgY29udGVudHMuXG4gKiAtIHdpbmRvdzogV2luZG93IG9iamVjdC4gSWYgb21pdHRlZCwgY3VycmVudCBgd2luZG93YCBpcyB1c2VkLlxuICogLSBkZWJ1ZzogRGVidWcgZmxhZy5cbiAqL1xuZXhwb3J0IHR5cGUgQ29yZVZpZXdlclNldHRpbmdzID0ge1xuICB1c2VyQWdlbnRSb290VVJMPzogc3RyaW5nO1xuICB2aWV3cG9ydEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICB3aW5kb3c/OiBXaW5kb3c7XG4gIGRlYnVnPzogYm9vbGVhbjtcbn07XG5cbi8qKlxuICogVmlld2VyIG9wdGlvbnMgdGhhdCBjYW4gYmUgc2V0IGFmdGVyIHRoZSBWaWV3ZXIgb2JqZWN0IGlzIGNvbnN0cnVjdGVkLlxuICogLSBhdXRvUmVzaXplOiBSdW4gbGF5b3V0IGFnYWluIHdoZW4gdGhlIHdpbmRvdyBpcyByZXNpemVkLiBkZWZhdWx0OiB0cnVlXG4gKiAtIGZvbnRTaXplOiBEZWZhdWx0IGZvbnQgc2l6ZSAocHgpLiBkZWZhdWx0OiAxNlxuICogLSBwYWdlQm9yZGVyV2lkdGg6IFdpZHRoIG9mIGEgYm9yZGVyIGJldHdlZW4gdHdvIHBhZ2VzIGluIGEgc2luZ2xlXG4gKiAgIHNwcmVhZCAocHgpLiBFZmZlY3RpdmUgb25seSBpbiBzcHJlYWQgdmlldyBtb2RlLiBkZWZhdWx0OiAxXG4gKiAtIHJlbmRlckFsbFBhZ2VzOiBSZW5kZXIgYWxsIHBhZ2VzIGF0IHRoZSBkb2N1bWVudCBsb2FkIHRpbWUuIGRlZmF1bHQ6IHRydWVcbiAqIC0gcGFnZVZpZXdNb2RlOiBQYWdlIHZpZXcgbW9kZSAoc2luZ2xlUGFnZSAvIHNwcmVhZCAvIGF1dG9TcHJlYWQpLlxuICogICBkZWZhdWx0OiBzaW5nbGVQYWdlXG4gKiAtIHpvb206IFpvb20gZmFjdG9yIHdpdGggd2hpY2ggcGFnZXMgYXJlIGRpc3BsYXllZC4gZGVmYXVsdDogMVxuICogLSBmaXRUb1NjcmVlbjogQXV0byBhZGp1c3Qgem9vbSBmYWN0b3IgdG8gZml0IHRoZSBzY3JlZW4uIGRlZmF1bHQ6IGZhbHNlXG4gKiAtIGRlZmF1bHRQYXBlclNpemU6IERlZmF1bHQgcGFwZXIgc2l6ZSBpbiBweC4gRWZmZWN0aXZlIHdoZW4gYEBwYWdlYCBzaXplXG4gKiAgIGlzIHNldCB0byBhdXRvLiBkZWZhdWx0OiB1bmRlZmluZWQgKG1lYW5zIHRoZSB3aW5kb3dzIHNpemUgaXMgdXNlZCBhc1xuICogICBwYXBlciBzaXplKS5cbiAqL1xuZXhwb3J0IHR5cGUgQ29yZVZpZXdlck9wdGlvbnMgPSB7XG4gIGF1dG9SZXNpemU/OiBib29sZWFuO1xuICBmb250U2l6ZT86IG51bWJlcjtcbiAgcGFnZUJvcmRlcldpZHRoPzogbnVtYmVyO1xuICByZW5kZXJBbGxQYWdlcz86IGJvb2xlYW47XG4gIHBhZ2VWaWV3TW9kZT86IEFkYXB0aXZlVmlld2VyLlBhZ2VWaWV3TW9kZTtcbiAgem9vbT86IG51bWJlcjtcbiAgZml0VG9TY3JlZW4/OiBib29sZWFuO1xuICBkZWZhdWx0UGFwZXJTaXplPzogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9O1xufTtcblxuZnVuY3Rpb24gZ2V0RGVmYXVsdFZpZXdlck9wdGlvbnMoKTogQ29yZVZpZXdlck9wdGlvbnMge1xuICByZXR1cm4ge1xuICAgIGF1dG9SZXNpemU6IHRydWUsXG4gICAgZm9udFNpemU6IDE2LFxuICAgIHBhZ2VCb3JkZXJXaWR0aDogMSxcbiAgICByZW5kZXJBbGxQYWdlczogdHJ1ZSxcbiAgICBwYWdlVmlld01vZGU6IEFkYXB0aXZlVmlld2VyLlBhZ2VWaWV3TW9kZS5BVVRPX1NQUkVBRCxcbiAgICB6b29tOiAxLFxuICAgIGZpdFRvU2NyZWVuOiBmYWxzZSxcbiAgICBkZWZhdWx0UGFwZXJTaXplOiB1bmRlZmluZWQsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRWaWV3ZXJPcHRpb25zKG9wdGlvbnM6IENvcmVWaWV3ZXJPcHRpb25zKTogb2JqZWN0IHtcbiAgY29uc3QgY29udmVydGVkID0ge307XG4gIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGNvbnN0IHYgPSBvcHRpb25zW2tleV07XG4gICAgc3dpdGNoIChrZXkpIHtcbiAgICAgIGNhc2UgXCJhdXRvUmVzaXplXCI6XG4gICAgICAgIGNvbnZlcnRlZFtcImF1dG9yZXNpemVcIl0gPSB2O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwYWdlQm9yZGVyV2lkdGhcIjpcbiAgICAgICAgY29udmVydGVkW1wicGFnZUJvcmRlclwiXSA9IHY7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29udmVydGVkW2tleV0gPSB2O1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjb252ZXJ0ZWQ7XG59XG5cbi8qKlxuICogT3B0aW9ucyBmb3IgdGhlIGRpc3BsYXllZCBkb2N1bWVudC5cbiAqIC0gZG9jdW1lbnRPYmplY3Q6IERvY3VtZW50IG9iamVjdCBmb3IgdGhlIGRvY3VtZW50LiBJZiBwcm92aWRlZCwgaXQgaXMgdXNlZFxuICogICBkaXJlY3RseSB3aXRob3V0IHBhcnNpbmcgdGhlIHNvdXJjZSBhZ2Fpbi5cbiAqIC0gZnJhZ21lbnQ6IEZyYWdtZW50YXRpb24gaWRlbnRpZmllciAoRVBVQiBDRkkpIG9mIHRoZSBsb2NhdGlvbiBpbiB0aGVcbiAqICAgZG9jdW1lbnQgd2hpY2ggaXMgdG8gYmUgZGlzcGxheWVkLlxuICogLSBhdXRob3JTdHlsZVNoZWV0OiBBbiBhcnJheSBvZiBhdXRob3Igc3R5bGUgc2hlZXRzIHRvIGJlIGluamVjdGVkIGFmdGVyIGFsbFxuICogICBhdXRob3Igc3R5bGUgc2hlZXRzIHJlZmVyZW5jZWQgZnJvbSB0aGUgZG9jdW1lbnQuIEEgc2luZ2xlIHN0eWxlc2hlZXQgbWF5XG4gKiAgIGJlIGEgVVJMIG9mIHRoZSBzdHlsZSBzaGVldCBvciBhIHRleHQgY29udGVudCBvZiB0aGUgc3R5bGUgc2hlZXQuXG4gKiAtIHVzZXJTdHlsZVNoZWV0OiBBbiBhcnJheSBvZiB1c2VyIHN0eWxlIHNoZWV0cyB0byBiZSBpbmplY3RlZC5cbiAqICAgQSBzaW5nbGUgc3R5bGVzaGVldCBtYXkgYmUgYSBVUkwgb2YgdGhlIHN0eWxlIHNoZWV0IG9yIGEgdGV4dCBjb250ZW50IG9mXG4gKiAgIHRoZSBzdHlsZSBzaGVldC5cbiAqL1xuZXhwb3J0IHR5cGUgRG9jdW1lbnRPcHRpb25zID0ge1xuICBkb2N1bWVudE9iamVjdD86IERvY3VtZW50O1xuICBmcmFnbWVudD86IHN0cmluZztcbiAgYXV0aG9yU3R5bGVTaGVldD86IHsgdXJsPzogc3RyaW5nOyB0ZXh0Pzogc3RyaW5nIH1bXTtcbiAgdXNlclN0eWxlU2hlZXQ/OiB7IHVybD86IHN0cmluZzsgdGV4dD86IHN0cmluZyB9W107XG59O1xuXG4vKipcbiAqIE9wdGlvbnMgZm9yIGEgc2luZ2xlIHNvdXJjZSBkb2N1bWVudC5cbiAqIC0gdXJsOiBVUkwgb2YgdGhlIGRvY3VtZW50LlxuICogLSBzdGFydFBhZ2U6IElmIHNwZWNpZmllZCwgdGhlIGBwYWdlYCBwYWdlLWJhc2VkIGNvdW50ZXIgaXMgc2V0IHRvIHRoZVxuICogICBzcGVjaWZpZWQgdmFsdWUgb24gdGhlIGZpcnN0IHBhZ2Ugb2YgdGhlIGRvY3VtZW50LiBJdCBpcyBlcXVpdmFsZW50IHRvXG4gKiAgIHNwZWNpZnlpbmcgYGNvdW50ZXItcmVzZXQ6IHBhZ2UgW3NwZWNpZmllZCB2YWx1ZSAtIDFdYCBvbiB0aGF0IHBhZ2UuXG4gKiAtIHNraXBQYWdlc0JlZm9yZTogSWYgc3BlY2lmaWVkLCB0aGUgYHBhZ2VgIHBhZ2UtYmFzZWQgY291bnRlciBpc1xuICogICBpbmNyZW1lbnRlZCBieSB0aGUgc3BlY2lmaWVkIHZhbHVlICpiZWZvcmUqIHVwZGF0aW5nIHBhZ2UtYmFzZWQgY291bnRlcnNcbiAqICAgb24gdGhlIGZpcnN0IHBhZ2Ugb2YgdGhlIGRvY3VtZW50LlxuICogICBUaGlzIG9wdGlvbiBpcyBpZ25vcmVkIGlmIGBzdGFydFBhZ2VOdW1iZXJgIG9wdGlvbiBpcyBhbHNvIHNwZWNpZmllZC5cbiAqL1xuZXhwb3J0IHR5cGUgU2luZ2xlRG9jdW1lbnRPcHRpb25zID1cbiAgfCBzdHJpbmdcbiAgfCB7XG4gICAgICB1cmw6IHN0cmluZztcbiAgICAgIHN0YXJ0UGFnZT86IG51bWJlcjtcbiAgICAgIHNraXBQYWdlc0JlZm9yZT86IG51bWJlcjtcbiAgICB9O1xuXG4vKipcbiAqIFZpdmxpb3N0eWxlIFZpZXdlciBjbGFzcy5cbiAqL1xuZXhwb3J0IGNsYXNzIENvcmVWaWV3ZXIge1xuICBwcml2YXRlIGluaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgYWRhcHRWaWV3ZXJfOiBBZGFwdGl2ZVZpZXdlci5BZGFwdGl2ZVZpZXdlcjtcbiAgcHJpdmF0ZSBvcHRpb25zOiBDb3JlVmlld2VyT3B0aW9ucztcbiAgcHJpdmF0ZSBldmVudFRhcmdldDogQmFzZS5TaW1wbGVFdmVudFRhcmdldDtcbiAgcmVhZHlTdGF0ZTogQ29uc3RhbnRzLlJlYWR5U3RhdGU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSBzZXR0aW5nczogQ29yZVZpZXdlclNldHRpbmdzLFxuICAgIG9wdF9vcHRpb25zPzogQ29yZVZpZXdlck9wdGlvbnMsXG4gICkge1xuICAgIENvbnN0YW50cy5zZXREZWJ1ZyhzZXR0aW5ncy5kZWJ1Zyk7XG4gICAgdGhpcy5hZGFwdFZpZXdlcl8gPSBuZXcgQWRhcHRpdmVWaWV3ZXIuQWRhcHRpdmVWaWV3ZXIoXG4gICAgICBzZXR0aW5nc1tcIndpbmRvd1wiXSB8fCB3aW5kb3csXG4gICAgICBzZXR0aW5nc1tcInZpZXdwb3J0RWxlbWVudFwiXSxcbiAgICAgIFwibWFpblwiLFxuICAgICAgdGhpcy5kaXNwYXRjaGVyLmJpbmQodGhpcyksXG4gICAgKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBnZXREZWZhdWx0Vmlld2VyT3B0aW9ucygpO1xuICAgIGlmIChvcHRfb3B0aW9ucykge1xuICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdF9vcHRpb25zKTtcbiAgICB9XG4gICAgdGhpcy5ldmVudFRhcmdldCA9IG5ldyBCYXNlLlNpbXBsZUV2ZW50VGFyZ2V0KCk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVhZHlTdGF0ZVwiLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkYXB0Vmlld2VyXy5yZWFkeVN0YXRlO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgVmlld2VyT3B0aW9ucyB0byB0aGUgdmlld2VyLlxuICAgKi9cbiAgc2V0T3B0aW9ucyhvcHRpb25zOiBDb3JlVmlld2VyT3B0aW9ucykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBPYmplY3QuYXNzaWduKFxuICAgICAgeyBhOiBcImNvbmZpZ3VyZVwiIH0sXG4gICAgICBjb252ZXJ0Vmlld2VyT3B0aW9ucyhvcHRpb25zKSxcbiAgICApO1xuICAgIHRoaXMuYWRhcHRWaWV3ZXJfLnNlbmRDb21tYW5kKGNvbW1hbmQpO1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgfVxuXG4gIHByaXZhdGUgZGlzcGF0Y2hlcihtc2c6IEJhc2UuSlNPTikge1xuICAgIC8qKiBAZGljdCAqL1xuICAgIGNvbnN0IGV2ZW50ID0geyB0eXBlOiBtc2dbXCJ0XCJdIH07XG4gICAgY29uc3QgbyA9IG1zZyBhcyBvYmplY3Q7XG4gICAgT2JqZWN0LmtleXMobykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBpZiAoa2V5ICE9PSBcInRcIikge1xuICAgICAgICBldmVudFtrZXldID0gb1trZXldO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZXZlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgbGlzdGVuZXIgZnVuY3Rpb24sIHdoaWNoIGlzIGludm9rZWQgd2hlbiB0aGUgc3BlY2lmaWVkIHR5cGUgb2YgZXZlbnRcbiAgICogaXMgZGlzcGF0Y2hlZC5cbiAgICogQHBhcmFtIHR5cGUgRXZlbnQgdHlwZS5cbiAgICogQHBhcmFtIGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgKi9cbiAgYWRkTGlzdGVuZXIodHlwZTogc3RyaW5nLCBsaXN0ZW5lcjogKHBheWxvYWQ6IFBheWxvYWQpID0+IHZvaWQpIHtcbiAgICB0aGlzLmV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICB0eXBlLFxuICAgICAgbGlzdGVuZXIgYXMgQmFzZS5FdmVudExpc3RlbmVyLFxuICAgICAgZmFsc2UsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gZXZlbnQgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSB0eXBlIEV2ZW50IHR5cGUuXG4gICAqIEBwYXJhbSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAgICovXG4gIHJlbW92ZUxpc3RlbmVyKHR5cGU6IHN0cmluZywgbGlzdGVuZXI6IChwYXlsb2FkOiBQYXlsb2FkKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5ldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgdHlwZSxcbiAgICAgIGxpc3RlbmVyIGFzIEJhc2UuRXZlbnRMaXN0ZW5lcixcbiAgICAgIGZhbHNlLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhbiBIVE1MIG9yIFhNTCBkb2N1bWVudChzKS5cbiAgICovXG4gIGxvYWREb2N1bWVudChcbiAgICBzaW5nbGVEb2N1bWVudE9wdGlvbnM6IFNpbmdsZURvY3VtZW50T3B0aW9ucyB8IFNpbmdsZURvY3VtZW50T3B0aW9uc1tdLFxuICAgIG9wdF9kb2N1bWVudE9wdGlvbnM/OiBEb2N1bWVudE9wdGlvbnMsXG4gICAgb3B0X3ZpZXdlck9wdGlvbnM/OiBDb3JlVmlld2VyT3B0aW9ucyxcbiAgKSB7XG4gICAgaWYgKCFzaW5nbGVEb2N1bWVudE9wdGlvbnMpIHtcbiAgICAgIHRoaXMuZXZlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIixcbiAgICAgICAgY29udGVudDogXCJObyBVUkwgc3BlY2lmaWVkXCIsXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5sb2FkRG9jdW1lbnRPclB1YmxpY2F0aW9uKFxuICAgICAgc2luZ2xlRG9jdW1lbnRPcHRpb25zLFxuICAgICAgbnVsbCxcbiAgICAgIG9wdF9kb2N1bWVudE9wdGlvbnMsXG4gICAgICBvcHRfdmlld2VyT3B0aW9ucyxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYW4gRVBVQi9XZWJQdWIgcHVibGljYXRpb24uXG4gICAqL1xuICBsb2FkUHVibGljYXRpb24oXG4gICAgcHViVXJsOiBzdHJpbmcsXG4gICAgb3B0X2RvY3VtZW50T3B0aW9ucz86IERvY3VtZW50T3B0aW9ucyxcbiAgICBvcHRfdmlld2VyT3B0aW9ucz86IENvcmVWaWV3ZXJPcHRpb25zLFxuICApIHtcbiAgICBpZiAoIXB1YlVybCkge1xuICAgICAgdGhpcy5ldmVudFRhcmdldC5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICBjb250ZW50OiBcIk5vIFVSTCBzcGVjaWZpZWRcIixcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLmxvYWREb2N1bWVudE9yUHVibGljYXRpb24oXG4gICAgICBudWxsLFxuICAgICAgcHViVXJsLFxuICAgICAgb3B0X2RvY3VtZW50T3B0aW9ucyxcbiAgICAgIG9wdF92aWV3ZXJPcHRpb25zLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhbiBIVE1MIG9yIFhNTCBkb2N1bWVudCwgb3IgYW4gRVBVQi9XZWJQdWIgcHVibGljYXRpb24uXG4gICAqL1xuICBwcml2YXRlIGxvYWREb2N1bWVudE9yUHVibGljYXRpb24oXG4gICAgc2luZ2xlRG9jdW1lbnRPcHRpb25zOlxuICAgICAgfCBTaW5nbGVEb2N1bWVudE9wdGlvbnNcbiAgICAgIHwgU2luZ2xlRG9jdW1lbnRPcHRpb25zW11cbiAgICAgIHwgbnVsbCxcbiAgICBwdWJVcmw6IHN0cmluZyB8IG51bGwsXG4gICAgb3B0X2RvY3VtZW50T3B0aW9ucz86IERvY3VtZW50T3B0aW9ucyxcbiAgICBvcHRfdmlld2VyT3B0aW9ucz86IENvcmVWaWV3ZXJPcHRpb25zLFxuICApIHtcbiAgICBjb25zdCBkb2N1bWVudE9wdGlvbnMgPSBvcHRfZG9jdW1lbnRPcHRpb25zIHx8IHt9O1xuXG4gICAgZnVuY3Rpb24gY29udmVydFN0eWxlU2hlZXRBcnJheShhcnIpIHtcbiAgICAgIGlmIChhcnIpIHtcbiAgICAgICAgcmV0dXJuIGFyci5tYXAoKHMpID0+ICh7IHVybDogcy51cmwgfHwgbnVsbCwgdGV4dDogcy50ZXh0IHx8IG51bGwgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYXV0aG9yU3R5bGVTaGVldCA9IGNvbnZlcnRTdHlsZVNoZWV0QXJyYXkoXG4gICAgICBkb2N1bWVudE9wdGlvbnNbXCJhdXRob3JTdHlsZVNoZWV0XCJdLFxuICAgICk7XG4gICAgY29uc3QgdXNlclN0eWxlU2hlZXQgPSBjb252ZXJ0U3R5bGVTaGVldEFycmF5KFxuICAgICAgZG9jdW1lbnRPcHRpb25zW1widXNlclN0eWxlU2hlZXRcIl0sXG4gICAgKTtcbiAgICBpZiAob3B0X3ZpZXdlck9wdGlvbnMpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5vcHRpb25zLCBvcHRfdmlld2VyT3B0aW9ucyk7XG4gICAgfVxuICAgIGNvbnN0IGNvbW1hbmQgPSBPYmplY3QuYXNzaWduKFxuICAgICAge1xuICAgICAgICBhOiBzaW5nbGVEb2N1bWVudE9wdGlvbnMgPyBcImxvYWRYTUxcIiA6IFwibG9hZFB1YmxpY2F0aW9uXCIsXG4gICAgICAgIHVzZXJBZ2VudFJvb3RVUkw6IHRoaXMuc2V0dGluZ3NbXCJ1c2VyQWdlbnRSb290VVJMXCJdLFxuICAgICAgICB1cmw6IGNvbnZlcnRTaW5nbGVEb2N1bWVudE9wdGlvbnMoc2luZ2xlRG9jdW1lbnRPcHRpb25zKSB8fCBwdWJVcmwsXG4gICAgICAgIGRvY3VtZW50OiBkb2N1bWVudE9wdGlvbnNbXCJkb2N1bWVudE9iamVjdFwiXSxcbiAgICAgICAgZnJhZ21lbnQ6IGRvY3VtZW50T3B0aW9uc1tcImZyYWdtZW50XCJdLFxuICAgICAgICBhdXRob3JTdHlsZVNoZWV0OiBhdXRob3JTdHlsZVNoZWV0LFxuICAgICAgICB1c2VyU3R5bGVTaGVldDogdXNlclN0eWxlU2hlZXQsXG4gICAgICB9LFxuICAgICAgY29udmVydFZpZXdlck9wdGlvbnModGhpcy5vcHRpb25zKSxcbiAgICApO1xuICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICB0aGlzLmFkYXB0Vmlld2VyXy5zZW5kQ29tbWFuZChjb21tYW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICB0aGlzLmFkYXB0Vmlld2VyXy5pbml0RW1iZWQoY29tbWFuZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgcGFnZSBwcm9ncmVzc2lvbiBvZiB0aGUgdmlld2VyLiBJZiBubyBkb2N1bWVudCBpc1xuICAgKiBsb2FkZWQsIHJldHVybnMgbnVsbC5cbiAgICovXG4gIGdldEN1cnJlbnRQYWdlUHJvZ3Jlc3Npb24oKTogQ29uc3RhbnRzLlBhZ2VQcm9ncmVzc2lvbiB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmFkYXB0Vmlld2VyXy5nZXRDdXJyZW50UGFnZVByb2dyZXNzaW9uKCk7XG4gIH1cblxuICBwcml2YXRlIHJlc29sdmVOYXZpZ2F0aW9uKG5hdjogTmF2aWdhdGlvbik6IE5hdmlnYXRpb24ge1xuICAgIHN3aXRjaCAobmF2KSB7XG4gICAgICBjYXNlIE5hdmlnYXRpb24uTEVGVDpcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFBhZ2VQcm9ncmVzc2lvbigpID09PSBQYWdlUHJvZ3Jlc3Npb24uTFRSXG4gICAgICAgICAgPyBOYXZpZ2F0aW9uLlBSRVZJT1VTXG4gICAgICAgICAgOiBOYXZpZ2F0aW9uLk5FWFQ7XG4gICAgICBjYXNlIE5hdmlnYXRpb24uUklHSFQ6XG4gICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRQYWdlUHJvZ3Jlc3Npb24oKSA9PT0gUGFnZVByb2dyZXNzaW9uLkxUUlxuICAgICAgICAgID8gTmF2aWdhdGlvbi5ORVhUXG4gICAgICAgICAgOiBOYXZpZ2F0aW9uLlBSRVZJT1VTO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG5hdjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTmF2aWdhdGUgdG8gdGhlIHNwZWNpZmllZCBwYWdlLlxuICAgKi9cbiAgbmF2aWdhdGVUb1BhZ2UobmF2OiBOYXZpZ2F0aW9uLCBvcHRfZXBhZ2U/OiBudW1iZXIpIHtcbiAgICBpZiAobmF2ID09PSBOYXZpZ2F0aW9uLkVQQUdFKSB7XG4gICAgICB0aGlzLmFkYXB0Vmlld2VyXy5zZW5kQ29tbWFuZCh7XG4gICAgICAgIGE6IFwibW92ZVRvXCIsXG4gICAgICAgIGVwYWdlOiBvcHRfZXBhZ2UsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGFwdFZpZXdlcl8uc2VuZENvbW1hbmQoe1xuICAgICAgICBhOiBcIm1vdmVUb1wiLFxuICAgICAgICB3aGVyZTogdGhpcy5yZXNvbHZlTmF2aWdhdGlvbihuYXYpLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE5hdmlnYXRlIHRvIHRoZSBzcGVjaWZpZWQgaW50ZXJuYWwgVVJMLlxuICAgKi9cbiAgbmF2aWdhdGVUb0ludGVybmFsVXJsKHVybDogc3RyaW5nKSB7XG4gICAgdGhpcy5hZGFwdFZpZXdlcl8uc2VuZENvbW1hbmQoeyBhOiBcIm1vdmVUb1wiLCB1cmw6IHVybCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBUcnVlIGlmIFRPQyBpcyB2aXNpYmxlLCBmYWxzZSBpZiBoaWRkZW4sIG51bGwgaWYgVE9DIGlzIHVuYXZhaWxhYmxlXG4gICAqL1xuICBpc1RPQ1Zpc2libGUoKTogYm9vbGVhbiB8IG51bGwge1xuICAgIGlmIChcbiAgICAgIHRoaXMuYWRhcHRWaWV3ZXJfLm9wZlZpZXcgJiZcbiAgICAgIHRoaXMuYWRhcHRWaWV3ZXJfLm9wZlZpZXcub3BmICYmXG4gICAgICAodGhpcy5hZGFwdFZpZXdlcl8ub3BmVmlldy5vcGYueGh0bWxUb2MgfHxcbiAgICAgICAgdGhpcy5hZGFwdFZpZXdlcl8ub3BmVmlldy5vcGYubmN4VG9jKVxuICAgICkge1xuICAgICAgcmV0dXJuICEhdGhpcy5hZGFwdFZpZXdlcl8ub3BmVmlldy5pc1RPQ1Zpc2libGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgb3IgaGlkZSBUT0MgYm94XG4gICAqIEBwYXJhbSBvcHRfYXV0b2hpZGUgSWYgdHJ1ZSwgYXV0b21hdGljYWxseSBoaWRlIHdoZW4gY2xpY2sgVE9DIGl0ZW1cbiAgICogQHBhcmFtIG9wdF9zaG93IElmIHRydWUgc2hvdyBUT0MsIGZhbHNlIGhpZGUgVE9DLiBJZiBudWxsIG9yIHVuZGVmaW5lZCB0b2dnbGUgVE9DLlxuICAgKi9cbiAgc2hvd1RPQyhvcHRfc2hvdz86IGJvb2xlYW4gfCBudWxsLCBvcHRfYXV0b2hpZGU/OiBib29sZWFuKSB7XG4gICAgY29uc3QgdmlzaWJpbGl0eSA9IG9wdF9zaG93ID09IG51bGwgPyBcInRvZ2dsZVwiIDogb3B0X3Nob3cgPyBcInNob3dcIiA6IFwiaGlkZVwiO1xuICAgIHRoaXMuYWRhcHRWaWV3ZXJfLnNlbmRDb21tYW5kKHtcbiAgICAgIGE6IFwidG9jXCIsXG4gICAgICB2OiB2aXNpYmlsaXR5LFxuICAgICAgYXV0b2hpZGU6IG9wdF9hdXRvaGlkZSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHpvb20gZmFjdG9yIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHNwZWNpZmllZCB6b29tIHR5cGUuXG4gICAqL1xuICBxdWVyeVpvb21GYWN0b3IodHlwZTogQWRhcHRpdmVWaWV3ZXIuWm9vbVR5cGUpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmFkYXB0Vmlld2VyXy5xdWVyeVpvb21GYWN0b3IodHlwZSk7XG4gIH1cblxuICBnZXRQYWdlU2l6ZXMoKTogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9W10ge1xuICAgIHJldHVybiB0aGlzLmFkYXB0Vmlld2VyXy5wYWdlU2l6ZXM7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29udmVydFNpbmdsZURvY3VtZW50T3B0aW9ucyhcbiAgc2luZ2xlRG9jdW1lbnRPcHRpb25zOiBTaW5nbGVEb2N1bWVudE9wdGlvbnMgfCBTaW5nbGVEb2N1bWVudE9wdGlvbnNbXSxcbik6IEFkYXB0aXZlVmlld2VyLlNpbmdsZURvY3VtZW50UGFyYW1bXSB8IG51bGwge1xuICBmdW5jdGlvbiB0b051bWJlck9yTnVsbChudW06IGFueSk6IG51bWJlciB8IG51bGwge1xuICAgIHJldHVybiB0eXBlb2YgbnVtID09PSBcIm51bWJlclwiID8gbnVtIDogbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnZlcnQob3B0KSB7XG4gICAgaWYgKHR5cGVvZiBvcHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVybDogb3B0LFxuICAgICAgICBzdGFydFBhZ2U6IG51bGwsXG4gICAgICAgIHNraXBQYWdlc0JlZm9yZTogbnVsbCxcbiAgICAgIH0gYXMgQWRhcHRpdmVWaWV3ZXIuU2luZ2xlRG9jdW1lbnRQYXJhbTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdXJsOiBvcHRbXCJ1cmxcIl0sXG4gICAgICAgIHN0YXJ0UGFnZTogdG9OdW1iZXJPck51bGwob3B0W1wic3RhcnRQYWdlXCJdKSxcbiAgICAgICAgc2tpcFBhZ2VzQmVmb3JlOiB0b051bWJlck9yTnVsbChvcHRbXCJza2lwUGFnZXNCZWZvcmVcIl0pLFxuICAgICAgfSBhcyBBZGFwdGl2ZVZpZXdlci5TaW5nbGVEb2N1bWVudFBhcmFtO1xuICAgIH1cbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShzaW5nbGVEb2N1bWVudE9wdGlvbnMpKSB7XG4gICAgcmV0dXJuIHNpbmdsZURvY3VtZW50T3B0aW9ucy5tYXAoY29udmVydCk7XG4gIH0gZWxzZSBpZiAoc2luZ2xlRG9jdW1lbnRPcHRpb25zKSB7XG4gICAgcmV0dXJuIFtjb252ZXJ0KHNpbmdsZURvY3VtZW50T3B0aW9ucyldO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gTmF2aWdhdGlvbiB7XG4gIFBSRVZJT1VTID0gXCJwcmV2aW91c1wiLFxuICBORVhUID0gXCJuZXh0XCIsXG4gIExFRlQgPSBcImxlZnRcIixcbiAgUklHSFQgPSBcInJpZ2h0XCIsXG4gIEZJUlNUID0gXCJmaXJzdFwiLFxuICBMQVNUID0gXCJsYXN0XCIsXG4gIEVQQUdFID0gXCJlcGFnZVwiLFxufVxuXG5leHBvcnQgdHlwZSBab29tVHlwZSA9IEFkYXB0aXZlVmlld2VyLlpvb21UeXBlO1xuZXhwb3J0IGNvbnN0IFpvb21UeXBlID0gQWRhcHRpdmVWaWV3ZXIuWm9vbVR5cGU7XG5cbmV4cG9ydCB0eXBlIFBhZ2VWaWV3TW9kZSA9IEFkYXB0aXZlVmlld2VyLlBhZ2VWaWV3TW9kZTtcbmV4cG9ydCBjb25zdCBQYWdlVmlld01vZGUgPSBBZGFwdGl2ZVZpZXdlci5QYWdlVmlld01vZGU7XG5cbmV4cG9ydCBjb25zdCB2aWV3ZXIgPSB7XG4gIENvcmVWaWV3ZXIsXG4gIFBhZ2VWaWV3TW9kZSxcbiAgWm9vbVR5cGUsXG59O1xuXG5Qcm9maWxlLnByb2ZpbGVyLmZvcmNlUmVnaXN0ZXJFbmRUaW1pbmcoXCJsb2FkX3Zpdmxpb3N0eWxlXCIpO1xuIiwiLy8gSm9oYW5uZXMgV2lsbVxuLy8gVml2bGlvc3R5bGUgRm91bmRhdGlvblxuXG5pbXBvcnQgeyBDb3JlVmlld2VyIH0gZnJvbSBcIi4vY29yZS12aWV3ZXJcIjtcbmltcG9ydCB2aWV3cG9ydENzcyBmcm9tIFwiLi4vLi4vcmVzb3VyY2VzL3Zpdmxpb3N0eWxlLXZpZXdwb3J0LmNzc1wiO1xuaW1wb3J0IHZpZXdwb3J0U2NyZWVuQ3NzIGZyb20gXCIuLi8uLi9yZXNvdXJjZXMvdml2bGlvc3R5bGUtdmlld3BvcnQtc2NyZWVuLmNzc1wiO1xuXG5pbnRlcmZhY2UgSUZyYW1lV2luZG93Rm9yUHJpbnQge1xuICBwcmludEluc3RhbmNlPzogVml2bGlvc3R5bGVQcmludDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcmludENvbmZpZyB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHByaW50Q2FsbGJhY2s6IChpZnJhbWVXaW46IFdpbmRvdykgPT4gdm9pZDtcbiAgaGlkZUlmcmFtZTogYm9vbGVhbjtcbiAgcmVtb3ZlSWZyYW1lOiBib29sZWFuO1xufVxuXG5jbGFzcyBWaXZsaW9zdHlsZVByaW50IHtcbiAgaHRtbERvYzogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBwcmludENhbGxiYWNrOiAoaWZyYW1lV2luOiBXaW5kb3cpID0+IHZvaWQ7XG4gIGhpZGVJZnJhbWU6IGJvb2xlYW47XG4gIHJlbW92ZUlmcmFtZTogYm9vbGVhbjtcbiAgaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudDtcbiAgaWZyYW1lV2luOiBXaW5kb3c7XG4gIHdpbmRvdzogV2luZG93ICYgdHlwZW9mIGdsb2JhbFRoaXMgJiBJRnJhbWVXaW5kb3dGb3JQcmludDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBodG1sRG9jOiBzdHJpbmcsXG4gICAge1xuICAgICAgdGl0bGUgPSBcIlwiLFxuICAgICAgcHJpbnRDYWxsYmFjayA9IChpZnJhbWVXaW46IFdpbmRvdykgPT4gaWZyYW1lV2luLnByaW50KCksXG4gICAgICBoaWRlSWZyYW1lID0gdHJ1ZSxcbiAgICAgIHJlbW92ZUlmcmFtZSA9IHRydWUsXG4gICAgfTogUHJpbnRDb25maWcsXG4gICkge1xuICAgIHRoaXMuaHRtbERvYyA9IGh0bWxEb2M7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMucHJpbnRDYWxsYmFjayA9IHByaW50Q2FsbGJhY2s7XG4gICAgdGhpcy5oaWRlSWZyYW1lID0gaGlkZUlmcmFtZTtcbiAgICB0aGlzLnJlbW92ZUlmcmFtZSA9IHJlbW92ZUlmcmFtZTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5pZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xuXG4gICAgaWYgKHRoaXMuaGlkZUlmcmFtZSkge1xuICAgICAgdGhpcy5pZnJhbWUuc3R5bGUud2lkdGggPSBcIjBcIjsgLy8gV2UgZG9uJ3Qgd2FudCB0aGUgaWZyYW1lIHRvIGJlIHNlZW4sIHNvIHdlIG1ha2UgaXQgemVybyBzaXplIHdpdGggemVybyBib3JkZXIuXG4gICAgICB0aGlzLmlmcmFtZS5zdHlsZS5oZWlnaHQgPSBcIjBcIjtcbiAgICAgIHRoaXMuaWZyYW1lLnN0eWxlLmJvcmRlcldpZHRoID0gXCIwXCI7XG4gICAgfVxuXG4gICAgdGhpcy53aW5kb3cgPSB3aW5kb3c7XG4gICAgdGhpcy53aW5kb3cucHJpbnRJbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5pZnJhbWUuc3JjZG9jID0gYFxuICAgICAgPCFET0NUWVBFIGh0bWw+XG4gICAgICA8aHRtbCBkYXRhLXZpdmxpb3N0eWxlLXBhZ2luYXRlZD1cInRydWVcIj5cbiAgICAgICAgPGhlYWQ+XG4gICAgICAgICAgPG1ldGEgY2hhcnNldD0ndXRmLTgnLz5cbiAgICAgICAgICA8bWV0YSBuYW1lPSd2aWV3cG9ydCcgY29udGVudD0nd2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCcvPlxuICAgICAgICAgIDx0aXRsZT4ke3RoaXMudGl0bGV9PC90aXRsZT5cbiAgICAgICAgICA8c3R5bGU+JHt2aWV3cG9ydENzc308L3N0eWxlPlxuICAgICAgICAgIDxzdHlsZT4ke3ZpZXdwb3J0U2NyZWVuQ3NzfTwvc3R5bGU+XG4gICAgICAgICAgPHN0eWxlPlxuICAgICAgICAgICAgaHRtbFtkYXRhLXZpdmxpb3N0eWxlLXBhZ2luYXRlZF0ge1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHRtbFtkYXRhLXZpdmxpb3N0eWxlLXBhZ2luYXRlZF0gYm9keSxcbiAgICAgICAgICAgIGh0bWxbZGF0YS12aXZsaW9zdHlsZS1wYWdpbmF0ZWRdIFtkYXRhLXZpdmxpb3N0eWxlLXZpZXdlci12aWV3cG9ydF0ge1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGh0bWxbZGF0YS12aXZsaW9zdHlsZS1wYWdpbmF0ZWRdLFxuICAgICAgICAgICAgaHRtbFtkYXRhLXZpdmxpb3N0eWxlLXBhZ2luYXRlZF0gYm9keSB7XG4gICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgIDxzdHlsZSBpZD0ndml2bGlvc3R5bGUtcGFnZS1ydWxlcyc+PC9zdHlsZT5cbiAgICAgICAgPC9oZWFkPlxuICAgICAgICA8Ym9keSBvbmxvYWQ9J3BhcmVudC5wcmludEluc3RhbmNlLnJ1bkluSWZyYW1lKHdpbmRvdyknPlxuICAgICAgICAgIDxkaXYgaWQ9XCJ2aXZsaW9zdHlsZS12aWV3ZXItdmlld3BvcnRcIj48L2Rpdj5cbiAgICAgICAgPC9ib2R5PlxuICAgICAgPC9odG1sPmA7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuaWZyYW1lKTtcbiAgfVxuXG4gIHJ1bkluSWZyYW1lKGlmcmFtZVdpbjogV2luZG93KSB7XG4gICAgdGhpcy5pZnJhbWVXaW4gPSBpZnJhbWVXaW47XG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVByaW50KClcbiAgICAgIC50aGVuKCgpID0+IHRoaXMuYnJvd3NlclByaW50KCkpXG4gICAgICAudGhlbigoKSA9PiB0aGlzLmNsZWFuVXAoKSk7XG4gIH1cblxuICBwcmVwYXJlUHJpbnQoKSB7XG4gICAgdGhpcy5pZnJhbWVXaW4uZG9jdW1lbnQudGl0bGUgPSB0aGlzLnRpdGxlO1xuICAgIGNvbnN0IGRvY0Jsb2IgPSBuZXcgQmxvYihbdGhpcy5odG1sRG9jXSwge1xuICAgICAgICB0eXBlOiBcInRleHQvaHRtbFwiLFxuICAgICAgfSksXG4gICAgICBkb2NVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGRvY0Jsb2IpLFxuICAgICAgVmlld2VyID0gbmV3IENvcmVWaWV3ZXIoXG4gICAgICAgIHtcbiAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQ6IHRoaXMuaWZyYW1lV2luLmRvY3VtZW50LmJvZHlcbiAgICAgICAgICAgIC5maXJzdEVsZW1lbnRDaGlsZCBhcyBIVE1MRWxlbWVudCxcbiAgICAgICAgICB3aW5kb3c6IHRoaXMuaWZyYW1lV2luLFxuICAgICAgICAgIGRlYnVnOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZGVmYXVsdFBhcGVyU2l6ZToge1xuICAgICAgICAgICAgd2lkdGg6IDc5NCwgLy8gVGhlc2UgbnVtYmVycyBnaXZlIHdlaXJkIG91dHB1dCwgYnV0IG5vdCBzZXR0aW5nIHRoZW0gY3Jhc2hlcyB0aGUgYnJvd3NlciB3aGVuIHRoZXJlIGlzIG5vIENTUy5cbiAgICAgICAgICAgIGhlaWdodDogMTEyMixcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIFZpZXdlci5hZGRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICBpZiAoVmlld2VyLnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIikge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIFZpZXdlci5sb2FkRG9jdW1lbnQoe1xuICAgICAgICB1cmw6IGRvY1VSTCxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgYnJvd3NlclByaW50KCkge1xuICAgIHRoaXMucHJpbnRDYWxsYmFjayh0aGlzLmlmcmFtZVdpbik7XG4gIH1cblxuICBjbGVhblVwKCkge1xuICAgIGRlbGV0ZSB0aGlzLndpbmRvdy5wcmludEluc3RhbmNlO1xuICAgIGlmICh0aGlzLnJlbW92ZUlmcmFtZSkge1xuICAgICAgdGhpcy5pZnJhbWUucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmlmcmFtZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmludEhUTUwoaHRtbERvYzogc3RyaW5nLCBjb25maWc6IFByaW50Q29uZmlnKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gbmV3IFZpdmxpb3N0eWxlUHJpbnQoaHRtbERvYywgY29uZmlnKTtcbiAgaW5zdGFuY2UuaW5pdCgpO1xufVxuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQge1xuICBlc2NhcGVVbmljb2RlQ2hhcihjaCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBcXFxcdSR7KDB4MTAwMDAgfCBjaC5jaGFyQ29kZUF0KDApKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpfWA7XG4gIH0sXG4gIGVzY2FwZVVuaWNvZGVTdHJpbmcoc3RyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1teLWEtekEtWjAtOV9dL2csIHRoaXMuZXNjYXBlVW5pY29kZUNoYXIpO1xuICB9LFxuICBwZXJjZW50RW5jb2RlQW1wZXJzYW5kQW5kVW5lbmNvZGVkUGVyY2VudChzdHIpOiBzdHJpbmcge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvJSg/IVswLTlBLUZhLWZdezJ9KS9nLCBcIiUyNVwiKS5yZXBsYWNlKC8mL2csIFwiJTI2XCIpO1xuICB9LFxuICBwZXJjZW50RW5jb2RlQW1wZXJzYW5kQW5kUGVyY2VudChzdHIpOiBzdHJpbmcge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvJS9nLCBcIiUyNVwiKS5yZXBsYWNlKC8mL2csIFwiJTI2XCIpO1xuICB9LFxuICBwZXJjZW50RGVjb2RlQW1wZXJzYW5kQW5kUGVyY2VudChzdHIpOiBzdHJpbmcge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvJTI2L2csIFwiJlwiKS5yZXBsYWNlKC8lMjUvZywgXCIlXCIpO1xuICB9LFxuICBwZXJjZW50RW5jb2RlRm9yRGF0YVVSSShzdHIpOiBzdHJpbmcge1xuICAgIHJldHVybiBlbmNvZGVVUkkoc3RyKVxuICAgICAgLnJlcGxhY2UoLyMvZywgXCIlMjNcIilcbiAgICAgIC5yZXBsYWNlKC8mL2csIFwiJTI2XCIpO1xuICB9LFxufTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBzdHJpbmdVdGlsIGZyb20gXCIuLi91dGlscy9zdHJpbmctdXRpbFwiO1xuXG5mdW5jdGlvbiBnZXRSZWdFeHBGb3JQYXJhbWV0ZXIobmFtZTogc3RyaW5nKTogUmVnRXhwIHtcbiAgcmV0dXJuIG5ldyBSZWdFeHAoYFsjJl0ke3N0cmluZ1V0aWwuZXNjYXBlVW5pY29kZVN0cmluZyhuYW1lKX09KFteJl0qKWAsIFwiZ1wiKTtcbn1cblxuY2xhc3MgVVJMUGFyYW1ldGVyU3RvcmUge1xuICBoaXN0b3J5OiBIaXN0b3J5IHwgbnVsbDtcbiAgbG9jYXRpb246IExvY2F0aW9uIHwgeyBocmVmOiBcIlwiIH07XG4gIHN0b3JlZFVybDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaGlzdG9yeSA9IHdpbmRvdyA/IHdpbmRvdy5oaXN0b3J5IDogbnVsbDtcbiAgICB0aGlzLmxvY2F0aW9uID0gd2luZG93ID8gd2luZG93LmxvY2F0aW9uIDogeyBocmVmOiBcIlwiIH07XG4gICAgdGhpcy5zdG9yZWRVcmwgPSB0aGlzLmxvY2F0aW9uLmhyZWY7XG4gIH1cblxuICBnZXRCYXNlVVJMKCk6IHN0cmluZyB7XG4gICAgbGV0IHVybCA9IHRoaXMubG9jYXRpb24uaHJlZjtcbiAgICB1cmwgPSB1cmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpO1xuICAgIHJldHVybiB1cmwucmVwbGFjZSgvXFwvW14vXSokLywgXCIvXCIpO1xuICB9XG5cbiAgaGFzUGFyYW1ldGVyKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHVybCA9IHRoaXMubG9jYXRpb24uaHJlZjtcbiAgICBjb25zdCByZWdleHAgPSBnZXRSZWdFeHBGb3JQYXJhbWV0ZXIobmFtZSk7XG4gICAgcmV0dXJuIHJlZ2V4cC50ZXN0KHVybCk7XG4gIH1cblxuICBnZXRQYXJhbWV0ZXIobmFtZTogc3RyaW5nKTogQXJyYXk8c3RyaW5nPiB7XG4gICAgY29uc3QgdXJsID0gdGhpcy5sb2NhdGlvbi5ocmVmO1xuICAgIGNvbnN0IHJlZ2V4cCA9IGdldFJlZ0V4cEZvclBhcmFtZXRlcihuYW1lKTtcbiAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgbGV0IHI7XG4gICAgd2hpbGUgKChyID0gcmVnZXhwLmV4ZWModXJsKSkpIHtcbiAgICAgIHJlc3VsdHMucHVzaChyWzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gaW5kZXggc3BlY2lmaWVzIGluZGV4IGluIG11bHRpcGxlIHBhcmFtZXRlcnMgd2l0aCBzYW1lIG5hbWUuXG4gICAqL1xuICBzZXRQYXJhbWV0ZXIobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBpbmRleD86IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHVybCA9IHRoaXMubG9jYXRpb24uaHJlZjtcbiAgICBsZXQgdXBkYXRlZDtcbiAgICBjb25zdCByZWdleHAgPSBnZXRSZWdFeHBGb3JQYXJhbWV0ZXIobmFtZSk7XG4gICAgbGV0IHIgPSByZWdleHAuZXhlYyh1cmwpO1xuICAgIGlmIChyICYmIGluZGV4KSB7XG4gICAgICB3aGlsZSAoaW5kZXgtLSA+PSAxKSB7XG4gICAgICAgIHIgPSByZWdleHAuZXhlYyh1cmwpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocikge1xuICAgICAgY29uc3QgbCA9IHJbMV0ubGVuZ3RoO1xuICAgICAgY29uc3Qgc3RhcnQgPSByLmluZGV4ICsgclswXS5sZW5ndGggLSBsO1xuICAgICAgdXBkYXRlZCA9IHVybC5zdWJzdHJpbmcoMCwgc3RhcnQpICsgdmFsdWUgKyB1cmwuc3Vic3RyaW5nKHN0YXJ0ICsgbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZWQgPSBgJHt1cmwgK1xuICAgICAgICAodXJsLm1hdGNoKC9bIyZdJC8pID8gXCJcIiA6IHVybC5tYXRjaCgvIy8pID8gXCImXCIgOiBcIiNcIikgK1xuICAgICAgICBuYW1lfT0ke3ZhbHVlfWA7XG4gICAgICBpZiAobmFtZSA9PT0gXCJzcmNcIikge1xuICAgICAgICAvLyBcInNyY1wiIHNob3VsZCBiZSB0aGUgZmlyc3QgcGFyYW1ldGVyXG4gICAgICAgIHVwZGF0ZWQgPSB1cGRhdGVkLnJlcGxhY2UoLyMoPyFzcmMpKC4qPykmKHNyYz1bXiZdKikvLCBcIiMkMiYkMVwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuaGlzdG9yeSAhPT0gbnVsbCAmJiB0aGlzLmhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICB0aGlzLmhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIFwiXCIsIHVwZGF0ZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxvY2F0aW9uLmhyZWYgPSB1cGRhdGVkO1xuICAgIH1cbiAgICB0aGlzLnN0b3JlZFVybCA9IHVwZGF0ZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHtib29sZWFuPX0ga2VlcEZpcnN0IElmIHRydWUsIG5vdCByZW1vdmUgdGhlIGZpcnN0IG9uZSBpbiBtdWx0aXBsZSBwYXJhbWV0ZXJzIHdpdGggc2FtZSBuYW1lLlxuICAgKi9cbiAgcmVtb3ZlUGFyYW1ldGVyKG5hbWU6IHN0cmluZywga2VlcEZpcnN0PzogYm9vbGVhbik6IHZvaWQge1xuICAgIGNvbnN0IHVybCA9IHRoaXMubG9jYXRpb24uaHJlZjtcbiAgICBsZXQgdXBkYXRlZDtcbiAgICBjb25zdCByZWdleHAgPSBnZXRSZWdFeHBGb3JQYXJhbWV0ZXIobmFtZSk7XG4gICAgbGV0IHIgPSByZWdleHAuZXhlYyh1cmwpO1xuICAgIGlmIChyICYmIGtlZXBGaXJzdCkge1xuICAgICAgciA9IHJlZ2V4cC5leGVjKHVybCk7XG4gICAgfVxuICAgIGlmIChyKSB7XG4gICAgICB1cGRhdGVkID0gdXJsO1xuICAgICAgZm9yICg7IHI7IHIgPSByZWdleHAuZXhlYyh1cGRhdGVkKSkge1xuICAgICAgICBjb25zdCBlbmQgPSByLmluZGV4ICsgclswXS5sZW5ndGg7XG4gICAgICAgIGlmIChyWzBdLmNoYXJBdCgwKSA9PSBcIiNcIikge1xuICAgICAgICAgIHVwZGF0ZWQgPVxuICAgICAgICAgICAgdXBkYXRlZC5zdWJzdHJpbmcoMCwgci5pbmRleCArIDEpICsgdXBkYXRlZC5zdWJzdHJpbmcoZW5kICsgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXBkYXRlZCA9IHVwZGF0ZWQuc3Vic3RyaW5nKDAsIHIuaW5kZXgpICsgdXBkYXRlZC5zdWJzdHJpbmcoZW5kKTtcbiAgICAgICAgfVxuICAgICAgICByZWdleHAubGFzdEluZGV4IC09IHJbMF0ubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdXBkYXRlZCA9IHVwZGF0ZWQucmVwbGFjZSgvXiguKj8pWyMmXSQvLCBcIiQxXCIpO1xuICAgICAgaWYgKHRoaXMuaGlzdG9yeSAhPT0gbnVsbCAmJiB0aGlzLmhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICAgIHRoaXMuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgXCJcIiwgdXBkYXRlZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvY2F0aW9uLmhyZWYgPSB1cGRhdGVkO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnN0b3JlZFVybCA9IHVwZGF0ZWQ7XG4gIH1cbn1cblxuY29uc3QgaW5zdGFuY2UgPSBuZXcgVVJMUGFyYW1ldGVyU3RvcmUoKTtcbmV4cG9ydCBkZWZhdWx0IGluc3RhbmNlO1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGtvLCB7IE9ic2VydmFibGUgfSBmcm9tIFwia25vY2tvdXRcIjtcblxuaW1wb3J0IFBhZ2VTdHlsZSBmcm9tIFwiLi9wYWdlLXN0eWxlXCI7XG5pbXBvcnQgdXJsUGFyYW1ldGVycyBmcm9tIFwiLi4vc3RvcmVzL3VybC1wYXJhbWV0ZXJzXCI7XG5pbXBvcnQgc3RyaW5nVXRpbCBmcm9tIFwiLi4vdXRpbHMvc3RyaW5nLXV0aWxcIjtcblxuZnVuY3Rpb24gZ2V0RG9jdW1lbnRPcHRpb25zRnJvbVVSTCgpOiBEb2N1bWVudE9wdGlvbnNUeXBlIHtcbiAgY29uc3Qgc3JjVXJscyA9IHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwic3JjXCIpO1xuICBjb25zdCBiVXJscyA9IHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwiYlwiKTsgLy8gKGRlcHJlY2F0ZWQpID0+IHNyYyAmIGJvb2tNb2RlPXRydWVcbiAgY29uc3QgeFVybHMgPSB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcInhcIik7IC8vIChkZXByZWNhdGVkKSA9PiBzcmNcbiAgY29uc3QgYm9va01vZGUgPSB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcImJvb2tNb2RlXCIpWzBdO1xuICBjb25zdCBmcmFnbWVudCA9IHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwiZlwiKVswXTtcbiAgY29uc3Qgc3R5bGUgPSB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcInN0eWxlXCIpO1xuICBjb25zdCB1c2VyU3R5bGUgPSB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcInVzZXJTdHlsZVwiKTtcbiAgcmV0dXJuIHtcbiAgICBzcmNVcmxzOiBzcmNVcmxzLmxlbmd0aFxuICAgICAgPyBzcmNVcmxzXG4gICAgICA6IGJVcmxzLmxlbmd0aFxuICAgICAgPyBiVXJsc1xuICAgICAgOiB4VXJscy5sZW5ndGhcbiAgICAgID8geFVybHNcbiAgICAgIDogbnVsbCxcbiAgICBib29rTW9kZTpcbiAgICAgIGJvb2tNb2RlID09PSBcInRydWVcIlxuICAgICAgICA/IHRydWVcbiAgICAgICAgOiBib29rTW9kZSA9PT0gXCJmYWxzZVwiXG4gICAgICAgID8gZmFsc2VcbiAgICAgICAgOiBiVXJscy5sZW5ndGhcbiAgICAgICAgPyB0cnVlXG4gICAgICAgIDogZmFsc2UsXG4gICAgZnJhZ21lbnQ6IGZyYWdtZW50IHx8IG51bGwsXG4gICAgYXV0aG9yU3R5bGVTaGVldDogc3R5bGUubGVuZ3RoID8gc3R5bGUgOiBbXSxcbiAgICB1c2VyU3R5bGVTaGVldDogdXNlclN0eWxlLmxlbmd0aCA/IHVzZXJTdHlsZSA6IFtdLFxuICB9O1xufVxuXG5pbnRlcmZhY2UgRG9jdW1lbnRPcHRpb25zVHlwZSB7XG4gIHBhZ2VTdHlsZT86IFBhZ2VTdHlsZTtcbiAgZGF0YVVzZXJTdHlsZUluZGV4PzogbnVtYmVyO1xuICBzcmNVcmxzPzogQXJyYXk8c3RyaW5nPjtcbiAgYm9va01vZGU/OiBib29sZWFuO1xuICBmcmFnbWVudD86IHN0cmluZztcbiAgYXV0aG9yU3R5bGVTaGVldD86IEFycmF5PHVua25vd24+O1xuICB1c2VyU3R5bGVTaGVldD86IEFycmF5PHVua25vd24+O1xufVxuXG5jbGFzcyBEb2N1bWVudE9wdGlvbnMge1xuICBwYWdlU3R5bGU6IFBhZ2VTdHlsZTtcbiAgZGF0YVVzZXJTdHlsZUluZGV4OiBudW1iZXI7XG4gIHNyY1VybHM/OiBPYnNlcnZhYmxlPEFycmF5PHN0cmluZz4gfCBudWxsPjtcbiAgYm9va01vZGU6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGZyYWdtZW50PzogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICBhdXRob3JTdHlsZVNoZWV0PzogT2JzZXJ2YWJsZTxBcnJheTx1bmtub3duPj47XG4gIHVzZXJTdHlsZVNoZWV0PzogT2JzZXJ2YWJsZTxBcnJheTx1bmtub3duPj47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc3QgdXJsT3B0aW9ucyA9IGdldERvY3VtZW50T3B0aW9uc0Zyb21VUkwoKTtcbiAgICB0aGlzLnNyY1VybHMgPSBrby5vYnNlcnZhYmxlKHVybE9wdGlvbnMuc3JjVXJscyB8fCBudWxsKTtcbiAgICB0aGlzLmJvb2tNb2RlID0ga28ub2JzZXJ2YWJsZSh1cmxPcHRpb25zLmJvb2tNb2RlKTtcbiAgICB0aGlzLmZyYWdtZW50ID0ga28ub2JzZXJ2YWJsZSh1cmxPcHRpb25zLmZyYWdtZW50IHx8IFwiXCIpO1xuICAgIHRoaXMuYXV0aG9yU3R5bGVTaGVldCA9IGtvLm9ic2VydmFibGUodXJsT3B0aW9ucy5hdXRob3JTdHlsZVNoZWV0KTtcbiAgICB0aGlzLnVzZXJTdHlsZVNoZWV0ID0ga28ub2JzZXJ2YWJsZSh1cmxPcHRpb25zLnVzZXJTdHlsZVNoZWV0KTtcbiAgICB0aGlzLnBhZ2VTdHlsZSA9IG5ldyBQYWdlU3R5bGUoKTtcbiAgICB0aGlzLmRhdGFVc2VyU3R5bGVJbmRleCA9IC0xO1xuXG4gICAgdGhpcy5ib29rTW9kZS5zdWJzY3JpYmUoKGJvb2tNb2RlKSA9PiB7XG4gICAgICBpZiAoIWJvb2tNb2RlKSB7XG4gICAgICAgIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwiYm9va01vZGVcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cmxQYXJhbWV0ZXJzLnNldFBhcmFtZXRlcihcImJvb2tNb2RlXCIsIGJvb2tNb2RlLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gd3JpdGUgZnJhZ21lbnQgYmFjayB0byBVUkwgd2hlbiB1cGRhdGVkXG4gICAgdGhpcy5mcmFnbWVudC5zdWJzY3JpYmUoKGZyYWdtZW50KSA9PiB7XG4gICAgICBpZiAoL15lcHViY2ZpXFwoXFwvKFsyNDZdXFwvKT8yIVxcKS8udGVzdChmcmFnbWVudCkpIHtcbiAgICAgICAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJmXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZW5jb2RlZCA9IGZyYWdtZW50LnJlcGxhY2UoXG4gICAgICAgICAgL1tcXHMrJj89I1xcdTAwN0YtXFx1RkZGRl0rL2csXG4gICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50LFxuICAgICAgICApO1xuICAgICAgICB1cmxQYXJhbWV0ZXJzLnNldFBhcmFtZXRlcihcImZcIiwgZW5jb2RlZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyByZWFkIHVzZXJTdHlsZT1kYXRhOi48Y3NzVGV4dD4gVVJMIHBhcmFtZXRlclxuICAgIHVybE9wdGlvbnMudXNlclN0eWxlU2hlZXQuZmluZCgodXNlclN0eWxlOiBzdHJpbmcsIGluZGV4KSA9PiB7XG4gICAgICAvLyBGaW5kIHVzZXJTdHlsZSBwYXJhbWV0ZXIgdGhhdCBzdGFydHMgd2l0aCBcImRhdGE6XCIgYW5kIGNvbnRhaW5zIFwiLyo8dmlld2VyPiovXCIuXG4gICAgICBpZiAoL15kYXRhOiwuKj9cXC9cXCooPzo8fCUzQyl2aWV3ZXIoPzo+fCUzRSlcXCpcXC8vLnRlc3QodXNlclN0eWxlKSkge1xuICAgICAgICB0aGlzLmRhdGFVc2VyU3R5bGVJbmRleCA9IGluZGV4O1xuICAgICAgICBjb25zdCBkYXRhID0gdXNlclN0eWxlXG4gICAgICAgICAgLnJlcGxhY2UoL15kYXRhOiwvLCBcIlwiKVxuICAgICAgICAgIC8vIEVzY2FwZSB1bmVzY2FwZWQgXCIlXCIgdGhhdCBjYXVzZXMgZXJyb3IgaW4gZGVjb2RlVVJJQ29tcG9uZW50KClcbiAgICAgICAgICAucmVwbGFjZSgvJSg/IVswLTlBLUZhLWZdezJ9KS9nLCBcIiUyNVwiKTtcbiAgICAgICAgY29uc3QgY3NzVGV4dCA9IGRlY29kZVVSSUNvbXBvbmVudChkYXRhKTtcbiAgICAgICAgdGhpcy5wYWdlU3R5bGUuY3NzVGV4dChjc3NUZXh0KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyB3cml0ZSBjc3NUZXh0IGJhY2sgdG8gVVJMIHBhcmFtZXRlciB1c2VyU3R5bGU9IHdoZW4gdXBkYXRlZFxuICAgIHRoaXMucGFnZVN0eWxlLmNzc1RleHQuc3Vic2NyaWJlKChjc3NUZXh0KSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZVVzZXJTdHlsZVNoZWV0RnJvbUNTU1RleHQoY3NzVGV4dCk7XG4gICAgfSk7XG4gIH1cblxuICB0b09iamVjdCgpOiBEb2N1bWVudE9wdGlvbnNUeXBlIHtcbiAgICBmdW5jdGlvbiBjb252ZXJ0U3R5bGVTaGVldEFycmF5KGFycik6IHsgdXJsPzogc3RyaW5nOyB0ZXh0OiBzdHJpbmcgfVtdIHtcbiAgICAgIHJldHVybiBhcnIubWFwKCh1cmwpID0+ICh7XG4gICAgICAgIHVybCxcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgY29uc3QgdXNlclN0eWxlU2hlZXRBcnJheSA9IGNvbnZlcnRTdHlsZVNoZWV0QXJyYXkodGhpcy51c2VyU3R5bGVTaGVldCgpKTtcbiAgICBpZiAodGhpcy5wYWdlU3R5bGUucGFnZVNpemVNb2RlKCkgPT0gUGFnZVN0eWxlLk1vZGUuRGVmYXVsdCkge1xuICAgICAgLy8gUHV0IGRlZmF1bHQgcGFnZSBzaXplIGF1dG8uIFRoaXMgaXMgbmVlZGVkIHRvIG91dHB1dCBhdXRvIHNpemUgUERGLlxuICAgICAgdXNlclN0eWxlU2hlZXRBcnJheS51bnNoaWZ0KHsgdGV4dDogXCJAcGFnZXtzaXplOmF1dG99XCIgfSk7XG4gICAgfVxuICAgIC8vIERvIG5vdCBpbmNsdWRlIHVybFxuICAgIC8vICh1cmwgaXMgYSByZXF1aXJlZCBhcmd1bWVudCB0byBWaWV3ZXIubG9hZERvY3VtZW50LCBzZXBhcmF0ZWQgZnJvbSBvdGhlciBvcHRpb25zKVxuICAgIHJldHVybiB7XG4gICAgICBmcmFnbWVudDogdGhpcy5mcmFnbWVudCgpLFxuICAgICAgYXV0aG9yU3R5bGVTaGVldDogY29udmVydFN0eWxlU2hlZXRBcnJheSh0aGlzLmF1dGhvclN0eWxlU2hlZXQoKSksXG4gICAgICB1c2VyU3R5bGVTaGVldDogdXNlclN0eWxlU2hlZXRBcnJheSxcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlVXNlclN0eWxlU2hlZXRGcm9tQ1NTVGV4dChjc3NUZXh0Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKGNzc1RleHQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjc3NUZXh0ID0gdGhpcy5wYWdlU3R5bGUudG9DU1NUZXh0KCk7XG4gICAgfVxuICAgIGNvbnN0IHVzZXJTdHlsZVNoZWV0ID0gdGhpcy51c2VyU3R5bGVTaGVldCgpO1xuICAgIGlmICghY3NzVGV4dCB8fCAvXlxccyooXFwvXFwqLio/XFwqXFwvXFxzKikqJC8udGVzdChjc3NUZXh0KSkge1xuICAgICAgaWYgKHVzZXJTdHlsZVNoZWV0Lmxlbmd0aCA8PSAodGhpcy5kYXRhVXNlclN0eWxlSW5kZXggPT0gLTEgPyAwIDogMSkpIHtcbiAgICAgICAgdXNlclN0eWxlU2hlZXQucG9wKCk7XG4gICAgICAgIHRoaXMuZGF0YVVzZXJTdHlsZUluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMudXNlclN0eWxlU2hlZXQodXNlclN0eWxlU2hlZXQpO1xuICAgICAgICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcInVzZXJTdHlsZVwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBkYXRhVXNlclN0eWxlID1cbiAgICAgIFwiZGF0YTosXCIgKyBzdHJpbmdVdGlsLnBlcmNlbnRFbmNvZGVGb3JEYXRhVVJJKGNzc1RleHQudHJpbSgpKTtcbiAgICBpZiAodGhpcy5kYXRhVXNlclN0eWxlSW5kZXggPT0gLTEpIHtcbiAgICAgIHVzZXJTdHlsZVNoZWV0LnB1c2goZGF0YVVzZXJTdHlsZSk7XG4gICAgICB0aGlzLmRhdGFVc2VyU3R5bGVJbmRleCA9IHVzZXJTdHlsZVNoZWV0Lmxlbmd0aCAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZXJTdHlsZVNoZWV0W3RoaXMuZGF0YVVzZXJTdHlsZUluZGV4XSA9IGRhdGFVc2VyU3R5bGU7XG4gICAgfVxuICAgIHRoaXMudXNlclN0eWxlU2hlZXQodXNlclN0eWxlU2hlZXQpO1xuICAgIHVybFBhcmFtZXRlcnMuc2V0UGFyYW1ldGVyKFxuICAgICAgXCJ1c2VyU3R5bGVcIixcbiAgICAgIGRhdGFVc2VyU3R5bGUsXG4gICAgICB0aGlzLmRhdGFVc2VyU3R5bGVJbmRleCxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERvY3VtZW50T3B0aW9ucztcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCB7IFBhZ2VWaWV3TW9kZSBhcyBDb3JlUGFnZVZpZXdNb2RlIH0gZnJvbSBcIkB2aXZsaW9zdHlsZS9jb3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBQYWdlVmlld01vZGVJbnN0YW5jZSB7XG4gIHRvU3ByZWFkVmlld1N0cmluZygpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodGhpcykge1xuICAgICAgLy8gRklYTUU6IFdlIHdhbnQgdG8gc3RvcCBkaXNhYmxpbmcgdGhpcyBydWxlIHRvIGZ1dHVyZVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgY2FzZSBQYWdlVmlld01vZGUuU1BSRUFEOlxuICAgICAgICByZXR1cm4gXCJ0cnVlXCI7XG4gICAgICAvLyBGSVhNRTogV2Ugd2FudCB0byBzdG9wIGRpc2FibGluZyB0aGlzIHJ1bGUgdG8gZnV0dXJlXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICBjYXNlIFBhZ2VWaWV3TW9kZS5TSU5HTEVfUEFHRTpcbiAgICAgICAgcmV0dXJuIFwiZmFsc2VcIjtcbiAgICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIGNhc2UgUGFnZVZpZXdNb2RlLkFVVE9fU1BSRUFEOlxuICAgICAgICByZXR1cm4gXCJhdXRvXCI7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFBhZ2VWaWV3TW9kZVwiKTtcbiAgICB9XG4gIH1cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHRoaXMpIHtcbiAgICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIGNhc2UgUGFnZVZpZXdNb2RlLlNQUkVBRDpcbiAgICAgICAgcmV0dXJuIFwic3ByZWFkXCI7IC8vIHZpdmxpb3N0eWxlLnZpZXdlci5QYWdlVmlld01vZGUuU1BSRUFEO1xuICAgICAgLy8gRklYTUU6IFdlIHdhbnQgdG8gc3RvcCBkaXNhYmxpbmcgdGhpcyBydWxlIHRvIGZ1dHVyZVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgY2FzZSBQYWdlVmlld01vZGUuU0lOR0xFX1BBR0U6XG4gICAgICAgIHJldHVybiBcInNpbmdsZVBhZ2VcIjsgLy8gdml2bGlvc3R5bGUudmlld2VyLlBhZ2VWaWV3TW9kZS5TSU5HTEVfUEFHRTtcbiAgICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIGNhc2UgUGFnZVZpZXdNb2RlLkFVVE9fU1BSRUFEOlxuICAgICAgICByZXR1cm4gXCJhdXRvU3ByZWFkXCI7IC8vIHZpdmxpb3N0eWxlLnZpZXdlci5QYWdlVmlld01vZGUuQVVUT19TUFJFQUQ7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFBhZ2VWaWV3TW9kZVwiKTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgUGFnZVZpZXdNb2RlID0ge1xuICBBVVRPX1NQUkVBRDogbmV3IFBhZ2VWaWV3TW9kZUluc3RhbmNlKCksXG4gIFNJTkdMRV9QQUdFOiBuZXcgUGFnZVZpZXdNb2RlSW5zdGFuY2UoKSxcbiAgU1BSRUFEOiBuZXcgUGFnZVZpZXdNb2RlSW5zdGFuY2UoKSxcbiAgZGVmYXVsdE1vZGUoKTogQ29yZVBhZ2VWaWV3TW9kZSB7XG4gICAgcmV0dXJuIHRoaXMuQVVUT19TUFJFQUQ7XG4gIH0sXG4gIGZyb21TcHJlYWRWaWV3U3RyaW5nKHN0cjogc3RyaW5nKTogQ29yZVBhZ2VWaWV3TW9kZSB7XG4gICAgc3dpdGNoIChzdHIpIHtcbiAgICAgIGNhc2UgXCJ0cnVlXCI6XG4gICAgICAgIHJldHVybiB0aGlzLlNQUkVBRDtcbiAgICAgIGNhc2UgXCJmYWxzZVwiOlxuICAgICAgICByZXR1cm4gdGhpcy5TSU5HTEVfUEFHRTtcbiAgICAgIGNhc2UgXCJhdXRvXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdGhpcy5BVVRPX1NQUkVBRDtcbiAgICB9XG4gIH0sXG4gIG9mKG5hbWU6IHN0cmluZyk6IENvcmVQYWdlVmlld01vZGUge1xuICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgY2FzZSBDb3JlUGFnZVZpZXdNb2RlLlNQUkVBRDpcbiAgICAgICAgcmV0dXJuIHRoaXMuU1BSRUFEO1xuICAgICAgY2FzZSBDb3JlUGFnZVZpZXdNb2RlLlNJTkdMRV9QQUdFOlxuICAgICAgICByZXR1cm4gdGhpcy5TSU5HTEVfUEFHRTtcbiAgICAgIGNhc2UgQ29yZVBhZ2VWaWV3TW9kZS5BVVRPX1NQUkVBRDpcbiAgICAgICAgcmV0dXJuIHRoaXMuQVVUT19TUFJFQUQ7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgUGFnZVZpZXdNb2RlIG5hbWU6ICR7bmFtZX1gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBQYWdlVmlld01vZGU7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTYgVHJpbS1tYXJrcyBJbmMuXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQgeyBDb3JlVmlld2VyLCBab29tVHlwZSB9IGZyb20gXCJAdml2bGlvc3R5bGUvY29yZVwiO1xuXG5jbGFzcyBab29tT3B0aW9ucyB7XG4gIHpvb206IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcih6b29tKSB7XG4gICAgdGhpcy56b29tID0gem9vbTtcbiAgfVxuICBnZXQgZml0VG9TY3JlZW4oKTogbnVsbCB8IGJvb2xlYW4ge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgZ2V0Q3VycmVudFpvb21GYWN0b3IoX3ZpZXdlcj86IENvcmVWaWV3ZXIpOiBudW1iZXIge1xuICAgIHJldHVybiAxO1xuICB9XG4gIHRvZ2dsZUZpdFRvU2NyZWVuKCk6IFpvb21PcHRpb25zIHtcbiAgICByZXR1cm4gbmV3IFpvb21PcHRpb25zKDEpO1xuICB9XG4gIHpvb21Jbih2aWV3ZXI6IENvcmVWaWV3ZXIpOiBGaXhlZFpvb21GYWN0b3Ige1xuICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgcmV0dXJuIG5ldyBGaXhlZFpvb21GYWN0b3IodGhpcy5nZXRDdXJyZW50Wm9vbUZhY3Rvcih2aWV3ZXIpICogMS4yNSk7XG4gIH1cbiAgem9vbU91dCh2aWV3ZXI6IENvcmVWaWV3ZXIpOiBGaXhlZFpvb21GYWN0b3Ige1xuICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgcmV0dXJuIG5ldyBGaXhlZFpvb21GYWN0b3IodGhpcy5nZXRDdXJyZW50Wm9vbUZhY3Rvcih2aWV3ZXIpICogMC44KTtcbiAgfVxuICB6b29tVG9BY3R1YWxTaXplKCk6IEZpeGVkWm9vbUZhY3RvciB7XG4gICAgLy8gRklYTUU6IFdlIHdhbnQgdG8gc3RvcCBkaXNhYmxpbmcgdGhpcyBydWxlIHRvIGZ1dHVyZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICByZXR1cm4gbmV3IEZpeGVkWm9vbUZhY3RvcigxKTtcbiAgfVxuICBzdGF0aWMgY3JlYXRlRGVmYXVsdE9wdGlvbnMoKTogRml0VG9TY3JlZW4ge1xuICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgcmV0dXJuIG5ldyBGaXRUb1NjcmVlbigpO1xuICB9XG4gIHN0YXRpYyBjcmVhdGVGcm9tWm9vbUZhY3Rvcih6b29tKTogRml4ZWRab29tRmFjdG9yIHtcbiAgICAvLyBGSVhNRTogV2Ugd2FudCB0byBzdG9wIGRpc2FibGluZyB0aGlzIHJ1bGUgdG8gZnV0dXJlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgIHJldHVybiBuZXcgRml4ZWRab29tRmFjdG9yKHpvb20pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaXRUb1NjcmVlbiBleHRlbmRzIFpvb21PcHRpb25zIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoMSk7XG4gIH1cbiAgZ2V0IGZpdFRvU2NyZWVuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHRvZ2dsZUZpdFRvU2NyZWVuKCk6IEZpeGVkWm9vbUZhY3RvciB7XG4gICAgLy8gRklYTUU6IFdlIHdhbnQgdG8gc3RvcCBkaXNhYmxpbmcgdGhpcyBydWxlIHRvIGZ1dHVyZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICByZXR1cm4gbmV3IEZpeGVkWm9vbUZhY3RvcigxKTtcbiAgfVxuICBnZXRDdXJyZW50Wm9vbUZhY3Rvcih2aWV3ZXI6IENvcmVWaWV3ZXIpOiBudW1iZXIge1xuICAgIHJldHVybiB2aWV3ZXIucXVlcnlab29tRmFjdG9yKFpvb21UeXBlLkZJVF9JTlNJREVfVklFV1BPUlQpO1xuICB9XG59XG5jbGFzcyBGaXhlZFpvb21GYWN0b3IgZXh0ZW5kcyBab29tT3B0aW9ucyB7XG4gIGdldCBmaXRUb1NjcmVlbigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdG9nZ2xlRml0VG9TY3JlZW4oKTogRml0VG9TY3JlZW4ge1xuICAgIHJldHVybiBuZXcgRml0VG9TY3JlZW4oKTtcbiAgfVxuICBnZXRDdXJyZW50Wm9vbUZhY3RvcigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnpvb207XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgWm9vbU9wdGlvbnM7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQge1xuICBDb3JlVmlld2VyT3B0aW9ucyxcbiAgUGFnZVZpZXdNb2RlIGFzIENvcmVQYWdlVmlld01vZGUsXG59IGZyb20gXCJAdml2bGlvc3R5bGUvY29yZVwiO1xuaW1wb3J0IGtvLCB7IE9ic2VydmFibGUgfSBmcm9tIFwia25vY2tvdXRcIjtcblxuaW1wb3J0IHVybFBhcmFtZXRlcnMgZnJvbSBcIi4uL3N0b3Jlcy91cmwtcGFyYW1ldGVyc1wiO1xuaW1wb3J0IFBhZ2VWaWV3TW9kZSwgeyBQYWdlVmlld01vZGVJbnN0YW5jZSB9IGZyb20gXCIuL3BhZ2Utdmlldy1tb2RlXCI7XG5pbXBvcnQgWm9vbU9wdGlvbnMsIHsgRml0VG9TY3JlZW4gfSBmcm9tIFwiLi96b29tLW9wdGlvbnNcIjtcblxudHlwZSBPcHRpb25zID0ge1xuICByZW5kZXJBbGxQYWdlczogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgZm9udFNpemU6IE9ic2VydmFibGU8bnVtYmVyIHwgc3RyaW5nPjtcbiAgcHJvZmlsZTogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgcGFnZVZpZXdNb2RlOiBPYnNlcnZhYmxlPFBhZ2VWaWV3TW9kZUluc3RhbmNlPjtcbiAgem9vbTogT2JzZXJ2YWJsZTxab29tT3B0aW9ucz47XG59O1xuXG5pbnRlcmZhY2UgVmlld2VyT3B0aW9uc1R5cGUge1xuICByZW5kZXJBbGxQYWdlczogYm9vbGVhbjtcbiAgZm9udFNpemU6IG51bWJlcjtcbiAgcHJvZmlsZTogYm9vbGVhbjtcbiAgcGFnZVZpZXdNb2RlOiBQYWdlVmlld01vZGVJbnN0YW5jZTtcbiAgem9vbTogRml0VG9TY3JlZW4gfCB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGdldFZpZXdlck9wdGlvbnNGcm9tVVJMKCk6IFZpZXdlck9wdGlvbnNUeXBlIHtcbiAgY29uc3QgcmVuZGVyQWxsUGFnZXMgPSB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcInJlbmRlckFsbFBhZ2VzXCIpWzBdO1xuICBjb25zdCBmb250U2l6ZVN0ciA9IHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwiZm9udFNpemVcIilbMF07XG4gIGNvbnN0IHIgPSAvXihbXFxkLl0rKSg/OiglMjV8JSl8XFwvKFtcXGQuXSspKT8kLy5leGVjKGZvbnRTaXplU3RyKTtcbiAgbGV0IGZvbnRTaXplOiBudWxsIHwgbnVtYmVyID0gbnVsbDtcbiAgaWYgKHIpIHtcbiAgICBjb25zdCBbLCBudW0sIHBlcmNlbnQsIGRlbm9tXSA9IHI7XG4gICAgZm9udFNpemUgPSBwYXJzZUZsb2F0KG51bSk7XG4gICAgaWYgKHBlcmNlbnQgfHwgZGVub20pIHtcbiAgICAgIGZvbnRTaXplID0gKDE2ICogZm9udFNpemUpIC8gKHBlcmNlbnQgPyAxMDAgOiBwYXJzZUZsb2F0KGRlbm9tKSk7XG4gICAgfVxuICAgIGlmIChmb250U2l6ZSA8IDUpIGZvbnRTaXplID0gNTtcbiAgICBpZiAoZm9udFNpemUgPiA3MikgZm9udFNpemUgPSA3MjtcbiAgfVxuICByZXR1cm4ge1xuICAgIHJlbmRlckFsbFBhZ2VzOlxuICAgICAgcmVuZGVyQWxsUGFnZXMgPT09IFwidHJ1ZVwiXG4gICAgICAgID8gdHJ1ZVxuICAgICAgICA6IHJlbmRlckFsbFBhZ2VzID09PSBcImZhbHNlXCJcbiAgICAgICAgPyBmYWxzZVxuICAgICAgICA6IHVybFBhcmFtZXRlcnMuaGFzUGFyYW1ldGVyKFwiYlwiKVxuICAgICAgICA/IGZhbHNlXG4gICAgICAgIDogbnVsbCxcbiAgICBmb250U2l6ZSxcbiAgICBwcm9maWxlOiB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcInByb2ZpbGVcIilbMF0gPT09IFwidHJ1ZVwiLFxuICAgIHBhZ2VWaWV3TW9kZTogUGFnZVZpZXdNb2RlLmZyb21TcHJlYWRWaWV3U3RyaW5nKFxuICAgICAgdXJsUGFyYW1ldGVycy5nZXRQYXJhbWV0ZXIoXCJzcHJlYWRcIilbMF0sXG4gICAgKSxcbiAgICB6b29tOiB1bmRlZmluZWQsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRWYWx1ZXMoKTogVmlld2VyT3B0aW9uc1R5cGUge1xuICByZXR1cm4ge1xuICAgIHJlbmRlckFsbFBhZ2VzOiB0cnVlLFxuICAgIGZvbnRTaXplOiAxNixcbiAgICBwcm9maWxlOiBmYWxzZSxcbiAgICBwYWdlVmlld01vZGU6IFBhZ2VWaWV3TW9kZS5kZWZhdWx0TW9kZSgpLFxuICAgIHpvb206IFpvb21PcHRpb25zLmNyZWF0ZURlZmF1bHRPcHRpb25zKCksXG4gIH07XG59XG5cbmNsYXNzIFZpZXdlck9wdGlvbnMge1xuICByZW5kZXJBbGxQYWdlczogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgZm9udFNpemU6IE9ic2VydmFibGU8bnVtYmVyIHwgc3RyaW5nPjtcbiAgcHJvZmlsZTogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgcGFnZVZpZXdNb2RlOiBPYnNlcnZhYmxlPFBhZ2VWaWV3TW9kZUluc3RhbmNlPjtcbiAgem9vbTogT2JzZXJ2YWJsZTxab29tT3B0aW9ucz47XG5cbiAgc3RhdGljIGdldERlZmF1bHRWYWx1ZXM6ICgpID0+IHtcbiAgICByZW5kZXJBbGxQYWdlczogYm9vbGVhbjtcbiAgICBmb250U2l6ZTogbnVtYmVyO1xuICAgIHByb2ZpbGU6IGJvb2xlYW47XG4gICAgcGFnZVZpZXdNb2RlOiBQYWdlVmlld01vZGVJbnN0YW5jZTtcbiAgICB6b29tOiBGaXRUb1NjcmVlbjtcbiAgfTtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zPzogT3B0aW9ucykge1xuICAgIHRoaXMucmVuZGVyQWxsUGFnZXMgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5mb250U2l6ZSA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLnByb2ZpbGUgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5wYWdlVmlld01vZGUgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgdGhpcy56b29tID0ga28ub2JzZXJ2YWJsZSgpO1xuXG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuY29weUZyb20ob3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZXMgPSBnZXREZWZhdWx0VmFsdWVzKCk7XG4gICAgICBjb25zdCB1cmxPcHRpb25zID0gZ2V0Vmlld2VyT3B0aW9uc0Zyb21VUkwoKTtcbiAgICAgIHRoaXMucmVuZGVyQWxsUGFnZXMoXG4gICAgICAgIHVybE9wdGlvbnMucmVuZGVyQWxsUGFnZXMgIT09IG51bGxcbiAgICAgICAgICA/IHVybE9wdGlvbnMucmVuZGVyQWxsUGFnZXNcbiAgICAgICAgICA6IGRlZmF1bHRWYWx1ZXMucmVuZGVyQWxsUGFnZXMsXG4gICAgICApO1xuICAgICAgdGhpcy5mb250U2l6ZSh1cmxPcHRpb25zLmZvbnRTaXplIHx8IGRlZmF1bHRWYWx1ZXMuZm9udFNpemUpO1xuICAgICAgdGhpcy5wcm9maWxlKHVybE9wdGlvbnMucHJvZmlsZSB8fCBkZWZhdWx0VmFsdWVzLnByb2ZpbGUpO1xuICAgICAgdGhpcy5wYWdlVmlld01vZGUodXJsT3B0aW9ucy5wYWdlVmlld01vZGUgfHwgZGVmYXVsdFZhbHVlcy5wYWdlVmlld01vZGUpO1xuICAgICAgdGhpcy56b29tKGRlZmF1bHRWYWx1ZXMuem9vbSk7XG5cbiAgICAgIC8vIHdyaXRlIHNwcmVhZCBwYXJhbWV0ZXIgYmFjayB0byBVUkwgd2hlbiB1cGRhdGVkXG4gICAgICB0aGlzLnBhZ2VWaWV3TW9kZS5zdWJzY3JpYmUoKHBhZ2VWaWV3TW9kZSkgPT4ge1xuICAgICAgICBpZiAocGFnZVZpZXdNb2RlID09PSBkZWZhdWx0VmFsdWVzLnBhZ2VWaWV3TW9kZSkge1xuICAgICAgICAgIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwic3ByZWFkXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVybFBhcmFtZXRlcnMuc2V0UGFyYW1ldGVyKFxuICAgICAgICAgICAgXCJzcHJlYWRcIixcbiAgICAgICAgICAgIHBhZ2VWaWV3TW9kZS50b1NwcmVhZFZpZXdTdHJpbmcoKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMucmVuZGVyQWxsUGFnZXMuc3Vic2NyaWJlKChyZW5kZXJBbGxQYWdlcykgPT4ge1xuICAgICAgICBpZiAocmVuZGVyQWxsUGFnZXMgPT09IGRlZmF1bHRWYWx1ZXMucmVuZGVyQWxsUGFnZXMpIHtcbiAgICAgICAgICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcInJlbmRlckFsbFBhZ2VzXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVybFBhcmFtZXRlcnMuc2V0UGFyYW1ldGVyKFxuICAgICAgICAgICAgXCJyZW5kZXJBbGxQYWdlc1wiLFxuICAgICAgICAgICAgcmVuZGVyQWxsUGFnZXMudG9TdHJpbmcoKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZm9udFNpemUuc3Vic2NyaWJlKChmb250U2l6ZSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGZvbnRTaXplID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICBmb250U2l6ZSA9IGZvbnRTaXplXG4gICAgICAgICAgICAudG9QcmVjaXNpb24oMTApXG4gICAgICAgICAgICAucmVwbGFjZSgvKD86XFwuMCp8KFxcLlxcZCo/KTArKSQvLCBcIiQxXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOdW1iZXIoZm9udFNpemUpID09IGRlZmF1bHRWYWx1ZXMuZm9udFNpemUpIHtcbiAgICAgICAgICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcImZvbnRTaXplXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVybFBhcmFtZXRlcnMuc2V0UGFyYW1ldGVyKFxuICAgICAgICAgICAgXCJmb250U2l6ZVwiLFxuICAgICAgICAgICAgYCR7Zm9udFNpemV9LyR7ZGVmYXVsdFZhbHVlcy5mb250U2l6ZX1gLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvcHlGcm9tKG90aGVyOiBPcHRpb25zKTogdm9pZCB7XG4gICAgdGhpcy5yZW5kZXJBbGxQYWdlcyhvdGhlci5yZW5kZXJBbGxQYWdlcygpKTtcbiAgICB0aGlzLmZvbnRTaXplKG90aGVyLmZvbnRTaXplKCkpO1xuICAgIHRoaXMucHJvZmlsZShvdGhlci5wcm9maWxlKCkpO1xuICAgIHRoaXMucGFnZVZpZXdNb2RlKG90aGVyLnBhZ2VWaWV3TW9kZSgpKTtcbiAgICB0aGlzLnpvb20ob3RoZXIuem9vbSgpKTtcbiAgfVxuXG4gIHRvT2JqZWN0KCk6IENvcmVWaWV3ZXJPcHRpb25zIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVuZGVyQWxsUGFnZXM6IHRoaXMucmVuZGVyQWxsUGFnZXMoKSBhcyBib29sZWFuLFxuICAgICAgZm9udFNpemU6IE51bWJlcih0aGlzLmZvbnRTaXplKCkpLFxuICAgICAgcGFnZVZpZXdNb2RlOiB0aGlzLnBhZ2VWaWV3TW9kZSgpLnRvU3RyaW5nKCkgYXMgQ29yZVBhZ2VWaWV3TW9kZSxcbiAgICAgIGZpdFRvU2NyZWVuOiB0aGlzLnpvb20oKS5maXRUb1NjcmVlbixcbiAgICAgIHpvb206IHRoaXMuem9vbSgpLnpvb20sXG4gICAgfTtcbiAgfVxufVxuXG5WaWV3ZXJPcHRpb25zLmdldERlZmF1bHRWYWx1ZXMgPSBnZXREZWZhdWx0VmFsdWVzO1xuXG5leHBvcnQgZGVmYXVsdCBWaWV3ZXJPcHRpb25zO1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IG1lc3NhZ2VRdWV1ZSBmcm9tIFwiLi4vbW9kZWxzL21lc3NhZ2UtcXVldWVcIjtcblxuZW51bSBMb2dMZXZlbCB7XG4gIERlYnVnID0gXCJkZWJ1Z1wiLFxuICBJbmZvID0gXCJpbmZvXCIsXG4gIFdhcm4gPSBcIndhcm5cIixcbiAgRXJyb3IgPSBcImVycm9yXCIsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvZ2dlciB7XG4gIGxvZ0xldmVsOiBMb2dMZXZlbDtcblxuICBzdGF0aWMgZ2V0TG9nZ2VyKCk6IExvZ2dlciB7XG4gICAgcmV0dXJuIG5ldyBMb2dnZXIoKTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubG9nTGV2ZWwgPSBMb2dMZXZlbC5FcnJvcjtcbiAgfVxuXG4gIHNldExvZ0xldmVsKGxvZ0xldmVsKTogdm9pZCB7XG4gICAgdGhpcy5sb2dMZXZlbCA9IGxvZ0xldmVsO1xuICB9XG5cbiAgZGVidWcoY29udGVudCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmxvZ0xldmVsID09PSBMb2dMZXZlbC5EZWJ1Zykge1xuICAgICAgbWVzc2FnZVF1ZXVlLnB1c2goe1xuICAgICAgICB0eXBlOiBcImRlYnVnXCIsXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpbmZvKGNvbnRlbnQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5sb2dMZXZlbCA9PT0gTG9nTGV2ZWwuRGVidWcgfHwgdGhpcy5sb2dMZXZlbCA9PT0gTG9nTGV2ZWwuSW5mbykge1xuICAgICAgbWVzc2FnZVF1ZXVlLnB1c2goe1xuICAgICAgICB0eXBlOiBcImluZm9cIixcbiAgICAgICAgY29udGVudCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHdhcm4oY29udGVudCk6IHZvaWQge1xuICAgIGlmIChcbiAgICAgIHRoaXMubG9nTGV2ZWwgPT09IExvZ0xldmVsLkRlYnVnIHx8XG4gICAgICB0aGlzLmxvZ0xldmVsID09PSBMb2dMZXZlbC5JbmZvIHx8XG4gICAgICB0aGlzLmxvZ0xldmVsID09PSBMb2dMZXZlbC5XYXJuXG4gICAgKSB7XG4gICAgICBtZXNzYWdlUXVldWUucHVzaCh7XG4gICAgICAgIHR5cGU6IFwid2FyblwiLFxuICAgICAgICBjb250ZW50LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZXJyb3IoY29udGVudCk6IHZvaWQge1xuICAgIGlmIChcbiAgICAgIHRoaXMubG9nTGV2ZWwgPT09IExvZ0xldmVsLkRlYnVnIHx8XG4gICAgICB0aGlzLmxvZ0xldmVsID09PSBMb2dMZXZlbC5JbmZvIHx8XG4gICAgICB0aGlzLmxvZ0xldmVsID09PSBMb2dMZXZlbC5XYXJuIHx8XG4gICAgICB0aGlzLmxvZ0xldmVsID09PSBMb2dMZXZlbC5FcnJvclxuICAgICkge1xuICAgICAgbWVzc2FnZVF1ZXVlLnB1c2goe1xuICAgICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBrbywgeyBPYnNlcnZhYmxlQXJyYXkgfSBmcm9tIFwia25vY2tvdXRcIjtcblxuZXhwb3J0IHR5cGUgTWVzc2FnZVF1ZXVlID0gT2JzZXJ2YWJsZUFycmF5PHVua25vd24+O1xuXG5mdW5jdGlvbiBtZXNzYWdlUXVldWUoKTogTWVzc2FnZVF1ZXVlIHtcbiAgcmV0dXJuIGtvLm9ic2VydmFibGVBcnJheSgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtZXNzYWdlUXVldWUoKTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBrbywgeyBQdXJlQ29tcHV0ZWQsIE9ic2VydmFibGUgfSBmcm9tIFwia25vY2tvdXRcIjtcblxuZXhwb3J0IHR5cGUgUmVhZG9ubHlPYnNlcnZhYmxlPFQ+ID0ge1xuICBnZXR0ZXI6IFB1cmVDb21wdXRlZDxUPjtcbiAgdmFsdWU6IE9ic2VydmFibGU8VD47XG59O1xuXG5jb25zdCB1dGlsID0ge1xuICByZWFkb25seU9ic2VydmFibGU8VD4odmFsdWU6IFQpOiBSZWFkb25seU9ic2VydmFibGU8VD4ge1xuICAgIGNvbnN0IG9icyA9IGtvLm9ic2VydmFibGUodmFsdWUpO1xuICAgIHJldHVybiB7XG4gICAgICBnZXR0ZXI6IGtvLnB1cmVDb21wdXRlZCgoKSA9PiBvYnMoKSksXG4gICAgICB2YWx1ZTogb2JzLFxuICAgIH07XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCB1dGlsO1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTggVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IHtcbiAgQ29yZVZpZXdlcixcbiAgTmF2aWdhdGlvbixcbiAgUmVhZHlTdGF0ZSxcbiAgUGFnZVByb2dyZXNzaW9uLFxuICBwcm9maWxlcixcbn0gZnJvbSBcIkB2aXZsaW9zdHlsZS9jb3JlXCI7XG5pbXBvcnQga28sIHsgT2JzZXJ2YWJsZSwgUHVyZUNvbXB1dGVkIH0gZnJvbSBcImtub2Nrb3V0XCI7XG5cbmltcG9ydCBEb2N1bWVudE9wdGlvbnMgZnJvbSBcIi4uL21vZGVscy9kb2N1bWVudC1vcHRpb25zXCI7XG5pbXBvcnQgVmlld2VyT3B0aW9ucyBmcm9tIFwiLi4vbW9kZWxzL3ZpZXdlci1vcHRpb25zXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnaW5nL2xvZ2dlclwiO1xuaW1wb3J0IG9icywgeyBSZWFkb25seU9ic2VydmFibGUgfSBmcm9tIFwiLi4vdXRpbHMvb2JzZXJ2YWJsZS11dGlsXCI7XG5cbnR5cGUgU3RhdGUgPSB7XG4gIHN0YXR1czogUHVyZUNvbXB1dGVkPHVua25vd24+O1xuICBwYWdlUHJvZ3Jlc3Npb246IFB1cmVDb21wdXRlZDx1bmtub3duPjtcbiAgbmF2aWdhdGFibGU/OiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG59O1xuXG50eXBlIFByaXZhdGVTdGF0ZSA9IHtcbiAgc3RhdHVzOiBSZWFkb25seU9ic2VydmFibGU8dW5rbm93bj47XG4gIHBhZ2VQcm9ncmVzc2lvbjogUmVhZG9ubHlPYnNlcnZhYmxlPHVua25vd24+O1xufTtcblxuZXhwb3J0IHR5cGUgVmlld2VyU2V0dGluZ3MgPSB7XG4gIHVzZXJBZ2VudFJvb3RVUkw6IHN0cmluZztcbiAgdmlld3BvcnRFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgZGVidWc6IGJvb2xlYW47XG59O1xuXG5jbGFzcyBWaWV3ZXIge1xuICBwcml2YXRlIHZpZXdlck9wdGlvbnNfOiBWaWV3ZXJPcHRpb25zO1xuICBwcml2YXRlIGNvcmVWaWV3ZXJfOiBDb3JlVmlld2VyO1xuICBwcml2YXRlIHN0YXRlXzogUHJpdmF0ZVN0YXRlO1xuXG4gIC8vIEZJWE1FOiBJbiB1c2VkIGluIHZpZXdtb2RlbHMvbmF2aWdhdGlvbi4gVGhpcyBwcm9wZXJ0eSBpcyBkZXNpcmFibGUgcHJpdmF0ZSBhY2Nlc3MuXG4gIGRvY3VtZW50T3B0aW9uc186IG51bGwgfCBEb2N1bWVudE9wdGlvbnM7XG5cbiAgZXBhZ2U6IE9ic2VydmFibGU8dW5rbm93bj47XG4gIGVwYWdlQ291bnQ6IE9ic2VydmFibGU8bnVtYmVyPjtcbiAgZmlyc3RQYWdlOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBpbnB1dFVybDogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICBzdGF0ZTogU3RhdGU7XG4gIGxhc3RQYWdlOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICB0b2NWaXNpYmxlOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICB0b2NQaW5uZWQ6IE9ic2VydmFibGU8dW5rbm93bj47XG5cbiAgY29uc3RydWN0b3Iodmlld2VyU2V0dGluZ3M/OiBWaWV3ZXJTZXR0aW5ncywgdmlld2VyT3B0aW9ucz86IFZpZXdlck9wdGlvbnMpIHtcbiAgICB0aGlzLnZpZXdlck9wdGlvbnNfID0gdmlld2VyT3B0aW9ucztcbiAgICB0aGlzLmRvY3VtZW50T3B0aW9uc18gPSBudWxsO1xuICAgIHRoaXMuY29yZVZpZXdlcl8gPSBuZXcgQ29yZVZpZXdlcih2aWV3ZXJTZXR0aW5ncywgdmlld2VyT3B0aW9ucy50b09iamVjdCgpKTtcbiAgICBjb25zdCBzdGF0ZV8gPSAodGhpcy5zdGF0ZV8gPSB7XG4gICAgICBzdGF0dXM6IG9icy5yZWFkb25seU9ic2VydmFibGUoUmVhZHlTdGF0ZS5MT0FESU5HKSxcbiAgICAgIHBhZ2VQcm9ncmVzc2lvbjogb2JzLnJlYWRvbmx5T2JzZXJ2YWJsZShQYWdlUHJvZ3Jlc3Npb24uTFRSKSxcbiAgICB9KTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc3RhdHVzOiBzdGF0ZV8uc3RhdHVzLmdldHRlci5leHRlbmQoe1xuICAgICAgICByYXRlTGltaXQ6IHsgdGltZW91dDogMTAwLCBtZXRob2Q6IFwibm90aWZ5V2hlbkNoYW5nZXNTdG9wXCIgfSxcbiAgICAgICAgbm90aWZ5OiBcImFsd2F5c1wiLFxuICAgICAgfSksXG4gICAgICBuYXZpZ2F0YWJsZToga28ucHVyZUNvbXB1dGVkKFxuICAgICAgICAoKSA9PlxuICAgICAgICAgIHN0YXRlXy5zdGF0dXMudmFsdWUoKSAmJiBzdGF0ZV8uc3RhdHVzLnZhbHVlKCkgIT09IFJlYWR5U3RhdGUuTE9BRElORyxcbiAgICAgICksXG4gICAgICBwYWdlUHJvZ3Jlc3Npb246IHN0YXRlXy5wYWdlUHJvZ3Jlc3Npb24uZ2V0dGVyLFxuICAgIH07XG5cbiAgICB0aGlzLmVwYWdlID0ga28ub2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuZXBhZ2VDb3VudCA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLmZpcnN0UGFnZSA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLmxhc3RQYWdlID0ga28ub2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMudG9jVmlzaWJsZSA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLnRvY1Bpbm5lZCA9IGtvLm9ic2VydmFibGUoKTtcblxuICAgIHRoaXMuaW5wdXRVcmwgPSBrby5vYnNlcnZhYmxlKFwiXCIpO1xuXG4gICAgdGhpcy5zZXR1cFZpZXdlckV2ZW50SGFuZGxlcigpO1xuICAgIHRoaXMuc2V0dXBWaWV3ZXJPcHRpb25TdWJzY3JpcHRpb25zKCk7XG4gIH1cblxuICBzZXR1cFZpZXdlckV2ZW50SGFuZGxlcigpOiB2b2lkIHtcbiAgICBjb25zdCBsb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKCk7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5hZGRMaXN0ZW5lcihcImRlYnVnXCIsIChwYXlsb2FkKSA9PiB7XG4gICAgICBsb2dnZXIuZGVidWcocGF5bG9hZC5jb250ZW50KTtcbiAgICB9KTtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLmFkZExpc3RlbmVyKFwiaW5mb1wiLCAocGF5bG9hZCkgPT4ge1xuICAgICAgbG9nZ2VyLmluZm8ocGF5bG9hZC5jb250ZW50KTtcbiAgICB9KTtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLmFkZExpc3RlbmVyKFwid2FyblwiLCAocGF5bG9hZCkgPT4ge1xuICAgICAgbG9nZ2VyLndhcm4ocGF5bG9hZC5jb250ZW50KTtcbiAgICB9KTtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLmFkZExpc3RlbmVyKFwiZXJyb3JcIiwgKHBheWxvYWQpID0+IHtcbiAgICAgIGxvZ2dlci5lcnJvcihwYXlsb2FkLmNvbnRlbnQpO1xuICAgIH0pO1xuICAgIHRoaXMuY29yZVZpZXdlcl8uYWRkTGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlYWR5U3RhdGUgPSB0aGlzLmNvcmVWaWV3ZXJfLnJlYWR5U3RhdGU7XG4gICAgICBpZiAoXG4gICAgICAgIHJlYWR5U3RhdGUgPT09IFJlYWR5U3RhdGUuSU5URVJBQ1RJVkUgfHxcbiAgICAgICAgcmVhZHlTdGF0ZSA9PT0gUmVhZHlTdGF0ZS5DT01QTEVURVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuc3RhdGVfLnBhZ2VQcm9ncmVzc2lvbi52YWx1ZShcbiAgICAgICAgICB0aGlzLmNvcmVWaWV3ZXJfLmdldEN1cnJlbnRQYWdlUHJvZ3Jlc3Npb24oKSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhdGVfLnN0YXR1cy52YWx1ZShyZWFkeVN0YXRlKTtcbiAgICB9KTtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLmFkZExpc3RlbmVyKFwibG9hZGVkXCIsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLnZpZXdlck9wdGlvbnNfLnByb2ZpbGUoKSkge1xuICAgICAgICBwcm9maWxlci5wcmludFRpbWluZ3MoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLmFkZExpc3RlbmVyKFwibmF2XCIsIChwYXlsb2FkKSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNmaSxcbiAgICAgICAgZmlyc3QsXG4gICAgICAgIGxhc3QsXG4gICAgICAgIGVwYWdlLFxuICAgICAgICBlcGFnZUNvdW50LFxuICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgZG9jVGl0bGUsXG4gICAgICB9ID0gcGF5bG9hZDtcblxuICAgICAgaWYgKGNmaSkge1xuICAgICAgICB0aGlzLmRvY3VtZW50T3B0aW9uc18uZnJhZ21lbnQoY2ZpKTtcbiAgICAgIH1cbiAgICAgIGlmIChmaXJzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuZmlyc3RQYWdlKGZpcnN0KTtcbiAgICAgIH1cbiAgICAgIGlmIChsYXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5sYXN0UGFnZShsYXN0KTtcbiAgICAgIH1cbiAgICAgIGlmIChlcGFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuZXBhZ2UoZXBhZ2UpO1xuICAgICAgfVxuICAgICAgaWYgKGVwYWdlQ291bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmVwYWdlQ291bnQoZXBhZ2VDb3VudCk7XG4gICAgICB9XG4gICAgICBpZiAobWV0YWRhdGEgfHwgZG9jVGl0bGUpIHtcbiAgICAgICAgY29uc3QgcHViVGl0bGVzID1cbiAgICAgICAgICBtZXRhZGF0YSAmJiBtZXRhZGF0YVtcImh0dHA6Ly9wdXJsLm9yZy9kYy90ZXJtcy90aXRsZVwiXTtcbiAgICAgICAgY29uc3QgcHViVGl0bGUgPSBwdWJUaXRsZXMgJiYgcHViVGl0bGVzWzBdICYmIHB1YlRpdGxlc1swXVtcInZcIl07XG4gICAgICAgIGlmICghcHViVGl0bGUpIHtcbiAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IGRvY1RpdGxlID8gZG9jVGl0bGUgOiBcIlZpdmxpb3N0eWxlIFZpZXdlclwiO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICFkb2NUaXRsZSB8fFxuICAgICAgICAgIGRvY1RpdGxlID09PSBwdWJUaXRsZSB8fFxuICAgICAgICAgIHRoaXMuZmlyc3RQYWdlKCkgfHxcbiAgICAgICAgICAvXFwueGh0bWwkLy50ZXN0KGRvY1RpdGxlKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBpZ25vcmUgdWdseSB0aXRsZXMgY29waWVkIGZyb20gKi54aHRtbCBmaWxlIG5hbWVcbiAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IHB1YlRpdGxlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gYCR7ZG9jVGl0bGV9IHwgJHtwdWJUaXRsZX1gO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRvY1Zpc2libGVPbGQgPSB0aGlzLnRvY1Zpc2libGUoKTtcbiAgICAgIGNvbnN0IHRvY1Zpc2libGVOZXcgPSB0aGlzLmNvcmVWaWV3ZXJfLmlzVE9DVmlzaWJsZSgpO1xuICAgICAgaWYgKHRvY1Zpc2libGVPbGQgJiYgIXRvY1Zpc2libGVOZXcpIHtcbiAgICAgICAgLy8gV2hlbiByZXNpemUsIFRPQyBib3ggd2lsbCBiZSByZWdlbmVyYXRlZCBhbmQgaGlkZGVuIHRlbXBvcmFyaWx5LlxuICAgICAgICAvLyBTbyBrZWVwIFRPQyB0b2dnbGUgYnV0dG9uIHN0YXR1cyBvbi5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudG9jVmlzaWJsZSh0b2NWaXNpYmxlTmV3KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLmFkZExpc3RlbmVyKFwiaHlwZXJsaW5rXCIsIChwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAocGF5bG9hZC5pbnRlcm5hbCkge1xuICAgICAgICB0aGlzLm5hdmlnYXRlVG9JbnRlcm5hbFVybChwYXlsb2FkLmhyZWYpO1xuXG4gICAgICAgIC8vIFdoZW4gbmF2aWdhdGUgZnJvbSBUT0MsIFRPQyBib3ggbWF5IG9yIG1heSBub3QgYmVjb21lIGhpZGRlbiBieSBhdXRvaGlkZS5cbiAgICAgICAgLy8gSGVyZSBzZXQgdG9jVmlzaWJsZSBmYWxzZSBhbmQgaXQgbWF5IGJlY29tZSB0cnVlIGFnYWluIGluIFwibmF2XCIgZXZlbnQuXG4gICAgICAgIGlmICh0aGlzLnRvY1Zpc2libGUoKSkge1xuICAgICAgICAgIHRoaXMudG9jVmlzaWJsZShmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpdmxpb3N0eWxlLXZpZXdlci12aWV3cG9ydFwiKS5mb2N1cygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBwYXlsb2FkLmhyZWY7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzZXR1cFZpZXdlck9wdGlvblN1YnNjcmlwdGlvbnMoKTogdm9pZCB7XG4gICAga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCB2aWV3ZXJPcHRpb25zID0gdGhpcy52aWV3ZXJPcHRpb25zXy50b09iamVjdCgpO1xuICAgICAgdGhpcy5jb3JlVmlld2VyXy5zZXRPcHRpb25zKHZpZXdlck9wdGlvbnMpO1xuICAgIH0sIHRoaXMpLmV4dGVuZCh7IHJhdGVMaW1pdDogMCB9KTtcbiAgfVxuXG4gIGxvYWREb2N1bWVudChcbiAgICBkb2N1bWVudE9wdGlvbnM6IERvY3VtZW50T3B0aW9ucyxcbiAgICB2aWV3ZXJPcHRpb25zOiBWaWV3ZXJPcHRpb25zLFxuICApOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlXy5zdGF0dXMudmFsdWUoUmVhZHlTdGF0ZS5MT0FESU5HKTtcbiAgICBpZiAodmlld2VyT3B0aW9ucykge1xuICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXy5jb3B5RnJvbSh2aWV3ZXJPcHRpb25zKTtcbiAgICB9XG4gICAgdGhpcy5kb2N1bWVudE9wdGlvbnNfID0gZG9jdW1lbnRPcHRpb25zO1xuXG4gICAgaWYgKGRvY3VtZW50T3B0aW9ucy5zcmNVcmxzKCkpIHtcbiAgICAgIGlmICghZG9jdW1lbnRPcHRpb25zLmJvb2tNb2RlKCkpIHtcbiAgICAgICAgdGhpcy5jb3JlVmlld2VyXy5sb2FkRG9jdW1lbnQoXG4gICAgICAgICAgZG9jdW1lbnRPcHRpb25zLnNyY1VybHMoKSxcbiAgICAgICAgICBkb2N1bWVudE9wdGlvbnMudG9PYmplY3QoKSxcbiAgICAgICAgICB0aGlzLnZpZXdlck9wdGlvbnNfLnRvT2JqZWN0KCksXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvcmVWaWV3ZXJfLmxvYWRQdWJsaWNhdGlvbihcbiAgICAgICAgICBkb2N1bWVudE9wdGlvbnMuc3JjVXJscygpWzBdLFxuICAgICAgICAgIGRvY3VtZW50T3B0aW9ucy50b09iamVjdCgpLFxuICAgICAgICAgIHRoaXMudmlld2VyT3B0aW9uc18udG9PYmplY3QoKSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm8gZG9jdW1lbnQgc3BlY2lmaWVkLCBzaG93IHdlbGNvbWUgcGFnZVxuICAgICAgdGhpcy5zdGF0ZV8uc3RhdHVzLnZhbHVlKFwiXCIpO1xuICAgIH1cbiAgfVxuXG4gIG5hdmlnYXRlVG9QcmV2aW91cygpOiB2b2lkIHtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLm5hdmlnYXRlVG9QYWdlKE5hdmlnYXRpb24uUFJFVklPVVMpO1xuICB9XG5cbiAgbmF2aWdhdGVUb05leHQoKTogdm9pZCB7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5uYXZpZ2F0ZVRvUGFnZShOYXZpZ2F0aW9uLk5FWFQpO1xuICB9XG5cbiAgbmF2aWdhdGVUb0xlZnQoKTogdm9pZCB7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5uYXZpZ2F0ZVRvUGFnZShOYXZpZ2F0aW9uLkxFRlQpO1xuICB9XG5cbiAgbmF2aWdhdGVUb1JpZ2h0KCk6IHZvaWQge1xuICAgIHRoaXMuY29yZVZpZXdlcl8ubmF2aWdhdGVUb1BhZ2UoTmF2aWdhdGlvbi5SSUdIVCk7XG4gIH1cblxuICBuYXZpZ2F0ZVRvRmlyc3QoKTogdm9pZCB7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5uYXZpZ2F0ZVRvUGFnZShOYXZpZ2F0aW9uLkZJUlNUKTtcbiAgfVxuXG4gIG5hdmlnYXRlVG9MYXN0KCk6IHZvaWQge1xuICAgIHRoaXMuY29yZVZpZXdlcl8ubmF2aWdhdGVUb1BhZ2UoTmF2aWdhdGlvbi5MQVNUKTtcbiAgfVxuXG4gIG5hdmlnYXRlVG9FUGFnZShlcGFnZSk6IHZvaWQge1xuICAgIHRoaXMuY29yZVZpZXdlcl8ubmF2aWdhdGVUb1BhZ2UoTmF2aWdhdGlvbi5FUEFHRSwgZXBhZ2UpO1xuICB9XG5cbiAgbmF2aWdhdGVUb0ludGVybmFsVXJsKGhyZWYpOiB2b2lkIHtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLm5hdmlnYXRlVG9JbnRlcm5hbFVybChocmVmKTtcbiAgfVxuXG4gIHF1ZXJ5Wm9vbUZhY3Rvcih0eXBlKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jb3JlVmlld2VyXy5xdWVyeVpvb21GYWN0b3IodHlwZSk7XG4gIH1cblxuICBlcGFnZVRvUGFnZU51bWJlcihlcGFnZSk6IG51bWJlciB7XG4gICAgaWYgKCFlcGFnZSAmJiBlcGFnZSAhPSAwKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBwYWdlTnVtYmVyID0gTWF0aC5yb3VuZChlcGFnZSArIDEpO1xuICAgIHJldHVybiBwYWdlTnVtYmVyO1xuICB9XG4gIGVwYWdlRnJvbVBhZ2VOdW1iZXIocGFnZU51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKCFwYWdlTnVtYmVyICYmIHBhZ2VOdW1iZXIgIT0gMCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgZXBhZ2UgPSBwYWdlTnVtYmVyIC0gMTtcbiAgICByZXR1cm4gZXBhZ2U7XG4gIH1cblxuICBzaG93VE9DKHNob3duPzogYm9vbGVhbiwgYXV0b0hpZGU/OiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY29yZVZpZXdlcl8uaXNUT0NWaXNpYmxlKCkgPT0gbnVsbCkge1xuICAgICAgLy8gVE9DIGlzIHVuYXZhaWxhYmxlXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNob3cgPSBzaG93biA9PSBudWxsID8gIXRoaXMudG9jVmlzaWJsZSgpIDogc2hvd247XG4gICAgdGhpcy50b2NWaXNpYmxlKHNob3cpO1xuICAgIHRoaXMudG9jUGlubmVkKHNob3cgPyAhYXV0b0hpZGUgOiBmYWxzZSk7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5zaG93VE9DKHNob3csIGF1dG9IaWRlKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3ZXI7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG4vLyBjZi4gaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLWtleS9cbmNvbnN0IEtleXMgPSB7XG4gIFVuaWRlbnRpZmllZDogXCJVbmlkZW50aWZpZWRcIixcbiAgQXJyb3dEb3duOiBcIkFycm93RG93blwiLFxuICBBcnJvd0xlZnQ6IFwiQXJyb3dMZWZ0XCIsXG4gIEFycm93UmlnaHQ6IFwiQXJyb3dSaWdodFwiLFxuICBBcnJvd1VwOiBcIkFycm93VXBcIixcbiAgSG9tZTogXCJIb21lXCIsXG4gIEVuZDogXCJFbmRcIixcbiAgUGFnZURvd246IFwiUGFnZURvd25cIixcbiAgUGFnZVVwOiBcIlBhZ2VVcFwiLFxuICBFc2NhcGU6IFwiRXNjYXBlXCIsXG4gIEVudGVyOiBcIkVudGVyXCIsXG4gIFNwYWNlOiBcIiBcIixcbn07XG5cbi8vIENBVVRJT046IFRoaXMgZnVuY3Rpb24gY292ZXJzIG9ubHkgcGFydCBvZiBjb21tb24ga2V5cyBvbiBhIGtleWJvYXJkLiBLZXlzIG5vdCBjb3ZlcmVkIGJ5IHRoZSBpbXBsZW1lbnRhdGlvbiBhcmUgaWRlbnRpZmllZCBhcyBLZXlib2FyZEV2ZW50LmtleSwgS2V5Ym9hcmRFdmVudC5rZXlJZGVudGlmaWVyLCBvciBcIlVuaWRlbnRpZmllZFwiLlxuZnVuY3Rpb24gaWRlbnRpZnlLZXlGcm9tRXZlbnQoZXZlbnQpOiB0eXBlb2YgS2V5c1trZXlvZiB0eXBlb2YgS2V5c10ge1xuICBjb25zdCBrZXkgPSBldmVudC5rZXk7XG4gIGNvbnN0IGtleUlkZW50aWZpZXIgPSBldmVudC5rZXlJZGVudGlmaWVyO1xuICBjb25zdCBsb2NhdGlvbiA9IGV2ZW50LmxvY2F0aW9uO1xuICBpZiAoa2V5ID09PSBLZXlzLkFycm93RG93biB8fCBrZXkgPT09IFwiRG93blwiIHx8IGtleUlkZW50aWZpZXIgPT09IFwiRG93blwiKSB7XG4gICAgaWYgKGV2ZW50Lm1ldGFLZXkpIHtcbiAgICAgIC8vIE1hYyBDbWQrRG93biAtPiBFbmRcbiAgICAgIHJldHVybiBLZXlzLkVuZDtcbiAgICB9XG4gICAgcmV0dXJuIEtleXMuQXJyb3dEb3duO1xuICB9IGVsc2UgaWYgKFxuICAgIGtleSA9PT0gS2V5cy5BcnJvd0xlZnQgfHxcbiAgICBrZXkgPT09IFwiTGVmdFwiIHx8XG4gICAga2V5SWRlbnRpZmllciA9PT0gXCJMZWZ0XCJcbiAgKSB7XG4gICAgcmV0dXJuIEtleXMuQXJyb3dMZWZ0O1xuICB9IGVsc2UgaWYgKFxuICAgIGtleSA9PT0gS2V5cy5BcnJvd1JpZ2h0IHx8XG4gICAga2V5ID09PSBcIlJpZ2h0XCIgfHxcbiAgICBrZXlJZGVudGlmaWVyID09PSBcIlJpZ2h0XCJcbiAgKSB7XG4gICAgcmV0dXJuIEtleXMuQXJyb3dSaWdodDtcbiAgfSBlbHNlIGlmIChrZXkgPT09IEtleXMuQXJyb3dVcCB8fCBrZXkgPT09IFwiVXBcIiB8fCBrZXlJZGVudGlmaWVyID09PSBcIlVwXCIpIHtcbiAgICBpZiAoZXZlbnQubWV0YUtleSkge1xuICAgICAgLy8gTWFjIENtZCtVcCAtPiBIb21lXG4gICAgICByZXR1cm4gS2V5cy5Ib21lO1xuICAgIH1cbiAgICByZXR1cm4gS2V5cy5BcnJvd1VwO1xuICB9IGVsc2UgaWYgKFxuICAgIGtleSA9PT0gS2V5cy5Fc2NhcGUgfHxcbiAgICBrZXkgPT09IFwiRXNjXCIgfHxcbiAgICBrZXlJZGVudGlmaWVyID09PSBcIlUrMDAxQlwiXG4gICkge1xuICAgIHJldHVybiBLZXlzLkVzY2FwZTtcbiAgfSBlbHNlIGlmIChrZXkgPT09IEtleXMuRW50ZXIgfHwga2V5SWRlbnRpZmllciA9PT0gXCJFbnRlclwiKSB7XG4gICAgcmV0dXJuIEtleXMuRW50ZXI7XG4gIH0gZWxzZSBpZiAoa2V5ID09PSBLZXlzLlNwYWNlIHx8IGtleUlkZW50aWZpZXIgPT09IFwiVSswMDIwXCIpIHtcbiAgICByZXR1cm4gS2V5cy5TcGFjZTtcbiAgfSBlbHNlIGlmIChrZXkgPT09IFwiMFwiIHx8IGtleUlkZW50aWZpZXIgPT09IFwiVSswMDMwXCIpIHtcbiAgICByZXR1cm4gXCIwXCI7XG4gIH0gZWxzZSBpZiAoXG4gICAga2V5ID09PSBcIitcIiB8fFxuICAgIGtleSA9PT0gXCJBZGRcIiB8fFxuICAgIGtleUlkZW50aWZpZXIgPT09IFwiVSswMDJCXCIgfHxcbiAgICBrZXlJZGVudGlmaWVyID09PSBcIlUrMDBCQlwiIHx8XG4gICAgKGtleUlkZW50aWZpZXIgPT09IFwiVSswMDRCXCIgJiZcbiAgICAgIGxvY2F0aW9uID09PVxuICAgICAgICBLZXlib2FyZEV2ZW50LkRPTV9LRVlfTE9DQVRJT05fTlVNUEFEKSAvKiB3b3JrYXJvdW5kIGZvciBDaHJvbWUgZm9yIFdpbmRvd3MgKi9cbiAgKSB7XG4gICAgcmV0dXJuIFwiK1wiO1xuICB9IGVsc2UgaWYgKFxuICAgIGtleSA9PT0gXCItXCIgfHxcbiAgICBrZXkgPT09IFwiU3VidHJhY3RcIiB8fFxuICAgIGtleUlkZW50aWZpZXIgPT09IFwiVSswMDJEXCIgfHxcbiAgICBrZXlJZGVudGlmaWVyID09PSBcIlUrMDBCRFwiIHx8XG4gICAgKGtleUlkZW50aWZpZXIgPT09IFwiVSswMDREXCIgJiZcbiAgICAgIGxvY2F0aW9uID09PVxuICAgICAgICBLZXlib2FyZEV2ZW50LkRPTV9LRVlfTE9DQVRJT05fTlVNUEFEKSAvKiB3b3JrYXJvdW5kIGZvciBDaHJvbWUgZm9yIFdpbmRvd3MgKi9cbiAgKSB7XG4gICAgcmV0dXJuIFwiLVwiO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBrZXkgfHwga2V5SWRlbnRpZmllciB8fCBLZXlzLlVuaWRlbnRpZmllZDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIEtleXMsXG4gIGlkZW50aWZ5S2V5RnJvbUV2ZW50LFxufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyAqL1xuLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTggVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgdW5rbm93biBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCB7IENvcmVWaWV3ZXIsIFJlYWR5U3RhdGUsIFBhZ2VQcm9ncmVzc2lvbiB9IGZyb20gXCJAdml2bGlvc3R5bGUvY29yZVwiO1xuaW1wb3J0IGtvLCB7IFB1cmVDb21wdXRlZCB9IGZyb20gXCJrbm9ja291dFwiO1xuXG5pbXBvcnQgVmlld2VyT3B0aW9ucyBmcm9tIFwiLi4vbW9kZWxzL3ZpZXdlci1vcHRpb25zXCI7XG5pbXBvcnQga2V5VXRpbCBmcm9tIFwiLi4vdXRpbHMva2V5LXV0aWxcIjtcbmltcG9ydCBTZXR0aW5nc1BhbmVsIGZyb20gXCIuL3NldHRpbmdzLXBhbmVsXCI7XG5pbXBvcnQgVmlld2VyIGZyb20gXCIuL3ZpZXdlclwiO1xuXG5jb25zdCB7IEtleXMgfSA9IGtleVV0aWw7XG5cbmV4cG9ydCB0eXBlIE5hdmlnYXRpb25PcHRpb25zID0ge1xuICBkaXNhYmxlVE9DTmF2aWdhdGlvbjogYm9vbGVhbjtcbiAgZGlzYWJsZVBhZ2VOYXZpZ2F0aW9uOiBib29sZWFuO1xuICBkaXNhYmxlWm9vbTogYm9vbGVhbjtcbiAgZGlzYWJsZUZvbnRTaXplQ2hhbmdlOiBib29sZWFuO1xufTtcblxuY2xhc3MgTmF2aWdhdGlvbiB7XG4gIHN0YXRpYyBQUkVWSU9VUyhQUkVWSU9VUzogdW5rbm93bik6IHZvaWQge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIHN0YXRpYyBORVhUKE5FWFQ6IHVua25vd24pOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICBzdGF0aWMgTEVGVChMRUZUOiB1bmtub3duKTogdm9pZCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgc3RhdGljIFJJR0hUKFJJR0hUOiB1bmtub3duKTogdm9pZCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgc3RhdGljIEZJUlNUKEZJUlNUOiB1bmtub3duKTogdm9pZCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgc3RhdGljIExBU1QoTEFTVDogdW5rbm93bik6IHZvaWQge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIHN0YXRpYyBFUEFHRShFUEFHRTogdW5rbm93biwgZXBhZ2U6IHVua25vd24pOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICBwcml2YXRlIHZpZXdlck9wdGlvbnNfOiBWaWV3ZXJPcHRpb25zO1xuICBwcml2YXRlIHZpZXdlcl86IFZpZXdlcjtcbiAgcHJpdmF0ZSBzZXR0aW5nc1BhbmVsXzogU2V0dGluZ3NQYW5lbDtcblxuICBmaXRUb1NjcmVlbjogUHVyZUNvbXB1dGVkPHVua25vd24+O1xuICBpc0RlY3JlYXNlRm9udFNpemVEaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc0RlZmF1bHRGb250U2l6ZURpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIGlzRGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNJbmNyZWFzZUZvbnRTaXplRGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNOYXZpZ2F0ZVRvTmV4dERpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIGlzTmF2aWdhdGVUb1ByZXZpb3VzRGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNOYXZpZ2F0ZVRvTGVmdERpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIGlzTmF2aWdhdGVUb1JpZ2h0RGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNOYXZpZ2F0ZVRvRmlyc3REaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc05hdmlnYXRlVG9MYXN0RGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNQYWdlTnVtYmVyRGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNUT0NUb2dnbGVEaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc1RvZ2dsZUZpdFRvU2NyZWVuRGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNab29tT3V0RGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNab29tSW5EaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc1pvb21Ub0FjdHVhbFNpemVEaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBwYWdlTnVtYmVyOiBQdXJlQ29tcHV0ZWQ8bnVtYmVyIHwgc3RyaW5nPjtcbiAgdG90YWxQYWdlczogUHVyZUNvbXB1dGVkPHVua25vd24+O1xuICBoaWRlRm9udFNpemVDaGFuZ2U6IGJvb2xlYW47XG4gIGhpZGVQYWdlTmF2aWdhdGlvbjogYm9vbGVhbjtcbiAgaGlkZVRPQ05hdmlnYXRpb246IGJvb2xlYW47XG4gIGhpZGVab29tOiBib29sZWFuO1xuICBqdXN0Q2xpY2tlZDogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICB2aWV3ZXJPcHRpb25zOiBWaWV3ZXJPcHRpb25zLFxuICAgIHZpZXdlcjogVmlld2VyLFxuICAgIHNldHRpbmdzUGFuZWw6IFNldHRpbmdzUGFuZWwsXG4gICAgbmF2aWdhdGlvbk9wdGlvbnM6IE5hdmlnYXRpb25PcHRpb25zLFxuICApIHtcbiAgICB0aGlzLnZpZXdlck9wdGlvbnNfID0gdmlld2VyT3B0aW9ucztcbiAgICB0aGlzLnZpZXdlcl8gPSB2aWV3ZXI7XG4gICAgdGhpcy5zZXR0aW5nc1BhbmVsXyA9IHNldHRpbmdzUGFuZWw7XG4gICAgdGhpcy5qdXN0Q2xpY2tlZCA9IGZhbHNlOyAvLyBkb3VibGUgY2xpY2sgY2hlY2tcblxuICAgIHRoaXMuaXNEaXNhYmxlZCA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAodGhpcy5zZXR0aW5nc1BhbmVsXy5vcGVuZWQoKSAmJiAhdGhpcy5zZXR0aW5nc1BhbmVsXy5waW5uZWQoKSkgfHxcbiAgICAgICAgIXRoaXMudmlld2VyXy5zdGF0ZS5uYXZpZ2F0YWJsZSgpXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgY29uc3QgbmF2aWdhdGlvbkRpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIHJldHVybiBuYXZpZ2F0aW9uT3B0aW9ucy5kaXNhYmxlUGFnZU5hdmlnYXRpb24gfHwgdGhpcy5pc0Rpc2FibGVkKCk7XG4gICAgfSk7XG5cbiAgICBuYXZpZ2F0aW9uRGlzYWJsZWQuc3Vic2NyaWJlKChkaXNhYmxlZCkgPT4ge1xuICAgICAgY29uc3QgcGFnZU51bWJlckVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgXCJ2aXZsaW9zdHlsZS1wYWdlLW51bWJlclwiLFxuICAgICAgKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgaWYgKHBhZ2VOdW1iZXJFbGVtKSB7XG4gICAgICAgIHBhZ2VOdW1iZXJFbGVtLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmlzUGFnZU51bWJlckRpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIHJldHVybiBuYXZpZ2F0aW9uRGlzYWJsZWQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuaXNOYXZpZ2F0ZVRvUHJldmlvdXNEaXNhYmxlZCA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICBpZiAobmF2aWdhdGlvbkRpc2FibGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy52aWV3ZXJfLnN0YXRlLnN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gbmVlZGVkIGZvciB0ZXN0L3NwZWMvdmlld21vZGVscy9uYXZpZ2F0aW9uLXNwZWMuanNcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnZpZXdlcl8uZmlyc3RQYWdlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmlzTmF2aWdhdGVUb05leHREaXNhYmxlZCA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICBpZiAobmF2aWdhdGlvbkRpc2FibGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy52aWV3ZXJfLnN0YXRlLnN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gbmVlZGVkIGZvciB0ZXN0L3NwZWMvdmlld21vZGVscy9uYXZpZ2F0aW9uLXNwZWMuanNcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXy5yZW5kZXJBbGxQYWdlcygpICYmXG4gICAgICAgIHRoaXMudmlld2VyXy5zdGF0ZS5zdGF0dXMoKSAhPSBSZWFkeVN0YXRlLkNPTVBMRVRFXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudmlld2VyXy5sYXN0UGFnZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5pc05hdmlnYXRlVG9MZWZ0RGlzYWJsZWQgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgaWYgKG5hdmlnYXRpb25EaXNhYmxlZCgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudmlld2VyXy5zdGF0ZS5wYWdlUHJvZ3Jlc3Npb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG5lZWRlZCBmb3IgdGVzdC9zcGVjL3ZpZXdtb2RlbHMvbmF2aWdhdGlvbi1zcGVjLmpzXG4gICAgICB9XG4gICAgICBpZiAodGhpcy52aWV3ZXJfLnN0YXRlLnBhZ2VQcm9ncmVzc2lvbigpID09PSBQYWdlUHJvZ3Jlc3Npb24uTFRSKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzTmF2aWdhdGVUb1ByZXZpb3VzRGlzYWJsZWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzTmF2aWdhdGVUb05leHREaXNhYmxlZCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5pc05hdmlnYXRlVG9SaWdodERpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGlmIChuYXZpZ2F0aW9uRGlzYWJsZWQoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnZpZXdlcl8uc3RhdGUucGFnZVByb2dyZXNzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBuZWVkZWQgZm9yIHRlc3Qvc3BlYy92aWV3bW9kZWxzL25hdmlnYXRpb24tc3BlYy5qc1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudmlld2VyXy5zdGF0ZS5wYWdlUHJvZ3Jlc3Npb24oKSA9PT0gUGFnZVByb2dyZXNzaW9uLkxUUikge1xuICAgICAgICByZXR1cm4gdGhpcy5pc05hdmlnYXRlVG9OZXh0RGlzYWJsZWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzTmF2aWdhdGVUb1ByZXZpb3VzRGlzYWJsZWQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuaXNOYXZpZ2F0ZVRvRmlyc3REaXNhYmxlZCA9IHRoaXMuaXNOYXZpZ2F0ZVRvUHJldmlvdXNEaXNhYmxlZDtcblxuICAgIHRoaXMuaXNOYXZpZ2F0ZVRvTGFzdERpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGlmIChuYXZpZ2F0aW9uRGlzYWJsZWQoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnZpZXdlcl8uc3RhdGUuc3RhdHVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBuZWVkZWQgZm9yIHRlc3Qvc3BlYy92aWV3bW9kZWxzL25hdmlnYXRpb24tc3BlYy5qc1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnZpZXdlck9wdGlvbnNfLnJlbmRlckFsbFBhZ2VzKCkgJiZcbiAgICAgICAgdGhpcy52aWV3ZXJfLnN0YXRlLnN0YXR1cygpICE9IFJlYWR5U3RhdGUuQ09NUExFVEVcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnZpZXdlcl8ubGFzdFBhZ2UoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuaGlkZVBhZ2VOYXZpZ2F0aW9uID0gISFuYXZpZ2F0aW9uT3B0aW9ucy5kaXNhYmxlUGFnZU5hdmlnYXRpb247XG5cbiAgICBjb25zdCB6b29tRGlzYWJsZWQgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgcmV0dXJuIG5hdmlnYXRpb25PcHRpb25zLmRpc2FibGVab29tIHx8IHRoaXMuaXNEaXNhYmxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5pc1pvb21PdXREaXNhYmxlZCA9IHpvb21EaXNhYmxlZDtcbiAgICB0aGlzLmlzWm9vbUluRGlzYWJsZWQgPSB6b29tRGlzYWJsZWQ7XG4gICAgdGhpcy5pc1pvb21Ub0FjdHVhbFNpemVEaXNhYmxlZCA9IHpvb21EaXNhYmxlZDtcbiAgICB0aGlzLmlzVG9nZ2xlRml0VG9TY3JlZW5EaXNhYmxlZCA9IHpvb21EaXNhYmxlZDtcbiAgICB0aGlzLmhpZGVab29tID0gISFuYXZpZ2F0aW9uT3B0aW9ucy5kaXNhYmxlWm9vbTtcblxuICAgIHRoaXMuZml0VG9TY3JlZW4gPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4gdmlld2VyT3B0aW9ucy56b29tKCkuZml0VG9TY3JlZW4pO1xuXG4gICAgY29uc3QgZm9udFNpemVDaGFuZ2VEaXNhYmxlZCA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICByZXR1cm4gbmF2aWdhdGlvbk9wdGlvbnMuZGlzYWJsZUZvbnRTaXplQ2hhbmdlIHx8IHRoaXMuaXNEaXNhYmxlZCgpO1xuICAgIH0pO1xuXG4gICAgLy8gRm9udCBzaXplIGxpbWl0IChtYXg6NzIsIG1pbjo1KSBpcyBoYXJkIGNvZGVkIGluIHZpdmxpb3N0eWxlLmpzL3NyYy9hZGFwdC92aWV3ZXIuanMuXG4gICAgdGhpcy5pc0luY3JlYXNlRm9udFNpemVEaXNhYmxlZCA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICBpZiAoZm9udFNpemVDaGFuZ2VEaXNhYmxlZCgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudmlld2VyT3B0aW9uc18uZm9udFNpemUoKSA+PSA3Mikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgICB0aGlzLmlzRGVjcmVhc2VGb250U2l6ZURpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGlmIChmb250U2l6ZUNoYW5nZURpc2FibGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy52aWV3ZXJPcHRpb25zXy5mb250U2l6ZSgpIDw9IDUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gICAgdGhpcy5pc0RlZmF1bHRGb250U2l6ZURpc2FibGVkID0gZm9udFNpemVDaGFuZ2VEaXNhYmxlZDtcbiAgICB0aGlzLmhpZGVGb250U2l6ZUNoYW5nZSA9ICEhbmF2aWdhdGlvbk9wdGlvbnMuZGlzYWJsZUZvbnRTaXplQ2hhbmdlO1xuXG4gICAgdGhpcy5pc1RPQ1RvZ2dsZURpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIG5hdmlnYXRpb25PcHRpb25zLmRpc2FibGVUT0NOYXZpZ2F0aW9uIHx8XG4gICAgICAgIHRoaXMuaXNEaXNhYmxlZCgpIHx8XG4gICAgICAgIHRoaXMudmlld2VyXy50b2NWaXNpYmxlKCkgPT0gbnVsbFxuICAgICAgKTtcbiAgICB9KTtcbiAgICB0aGlzLmhpZGVUT0NOYXZpZ2F0aW9uID0gISFuYXZpZ2F0aW9uT3B0aW9ucy5kaXNhYmxlVE9DTmF2aWdhdGlvbjtcblxuICAgIHRoaXMucGFnZU51bWJlciA9IGtvLnB1cmVDb21wdXRlZCh7XG4gICAgICByZWFkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJfLmVwYWdlVG9QYWdlTnVtYmVyKHRoaXMudmlld2VyXy5lcGFnZSgpKTtcbiAgICAgIH0sXG4gICAgICB3cml0ZShwYWdlTnVtYmVyVGV4dDogbnVtYmVyIHwgc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGVwYWdlT2xkID0gdGhpcy52aWV3ZXJfLmVwYWdlKCk7XG4gICAgICAgIGNvbnN0IHBhZ2VOdW1iZXJPbGQgPSB0aGlzLnZpZXdlcl8uZXBhZ2VUb1BhZ2VOdW1iZXIoZXBhZ2VPbGQpO1xuXG4gICAgICAgIC8vIEFjY2VwdCBub24taW50ZWdlciwgY29udmVydCBmdWxsd2lkdGggdG8gYXNjaWlcbiAgICAgICAgbGV0IHBhZ2VOdW1iZXIgPVxuICAgICAgICAgIHBhcnNlRmxvYXQoXG4gICAgICAgICAgICBwYWdlTnVtYmVyVGV4dFxuICAgICAgICAgICAgICAudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAucmVwbGFjZSgvW++8kC3vvJldL2csIChzKSA9PlxuICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUocy5jaGFyQ29kZUF0KDApIC0gMHhmZWUwKSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICApIHx8IDA7XG4gICAgICAgIGlmICgvXlstK10vLnRlc3QocGFnZU51bWJlclRleHQudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgICAvLyBcIitudW1iZXJcIiBhbmQgXCItbnVtYmVyXCIgdG8gcmVsYXRpdmUgbW92ZS5cbiAgICAgICAgICBwYWdlTnVtYmVyID0gcGFnZU51bWJlck9sZCArIHBhZ2VOdW1iZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhZ2VOdW1iZXIgPCAxKSB7XG4gICAgICAgICAgcGFnZU51bWJlciA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZXBhZ2VDb3VudCA9IHRoaXMudmlld2VyXy5lcGFnZUNvdW50KCk7XG4gICAgICAgICAgaWYgKHRoaXMudmlld2VyT3B0aW9uc18ucmVuZGVyQWxsUGFnZXMoKSkge1xuICAgICAgICAgICAgaWYgKHBhZ2VOdW1iZXIgPiBlcGFnZUNvdW50KSB7XG4gICAgICAgICAgICAgIHBhZ2VOdW1iZXIgPSBlcGFnZUNvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAocGFnZU51bWJlciA+IGVwYWdlQ291bnQgKyAxKSB7XG4gICAgICAgICAgICAvLyBBY2NlcHQgXCJlcGFnZUNvdW50ICsgMVwiIGJlY2F1c2UgdGhlIGxhc3QgZXBhZ2UgbWF5IGVxdWFsIGVwYWdlQ291bnQuXG4gICAgICAgICAgICBwYWdlTnVtYmVyID0gZXBhZ2VDb3VudCArIDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVwYWdlTmF2ID0gdGhpcy52aWV3ZXJfLmVwYWdlRnJvbVBhZ2VOdW1iZXIocGFnZU51bWJlcik7XG4gICAgICAgIGNvbnN0IHBhZ2VOdW1iZXJFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgXCJ2aXZsaW9zdHlsZS1wYWdlLW51bWJlclwiLFxuICAgICAgICApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIHBhZ2VOdW1iZXJFbGVtLnZhbHVlID0gcGFnZU51bWJlci50b1N0cmluZygpO1xuICAgICAgICB0aGlzLnZpZXdlcl8ubmF2aWdhdGVUb0VQYWdlKGVwYWdlTmF2KTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLnZpZXdlcl8uc3RhdGUuc3RhdHVzKCkgIT0gUmVhZHlTdGF0ZS5MT0FESU5HICYmXG4gICAgICAgICAgICB0aGlzLnZpZXdlcl8uZXBhZ2UoKSA9PT0gZXBhZ2VPbGRcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHBhZ2VOdW1iZXJFbGVtLnZhbHVlID0gcGFnZU51bWJlck9sZC50b1N0cmluZygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpdmxpb3N0eWxlLXZpZXdlci12aWV3cG9ydFwiKS5mb2N1cygpO1xuICAgICAgICB9LCAxMCk7XG4gICAgICB9LFxuICAgICAgb3duZXI6IHRoaXMsXG4gICAgfSk7XG5cbiAgICB0aGlzLnRvdGFsUGFnZXMgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgbGV0IHRvdGFsUGFnZXMgPSB0aGlzLnZpZXdlcl8uZXBhZ2VDb3VudCgpO1xuICAgICAgaWYgKCF0b3RhbFBhZ2VzKSB7XG4gICAgICAgIHJldHVybiB0b3RhbFBhZ2VzO1xuICAgICAgfVxuICAgICAgY29uc3QgcGFnZU51bWJlciA9IE51bWJlcih0aGlzLnBhZ2VOdW1iZXIoKSk7XG4gICAgICBpZiAodGhpcy52aWV3ZXJfLmxhc3RQYWdlKCkpIHtcbiAgICAgICAgdG90YWxQYWdlcyA9IHBhZ2VOdW1iZXI7XG4gICAgICB9IGVsc2UgaWYgKHBhZ2VOdW1iZXIgPj0gdG90YWxQYWdlcykge1xuICAgICAgICB0b3RhbFBhZ2VzKys7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG90YWxQYWdlcztcbiAgICB9KTtcblxuICAgIFtcbiAgICAgIFwibmF2aWdhdGVUb1ByZXZpb3VzXCIsXG4gICAgICBcIm5hdmlnYXRlVG9OZXh0XCIsXG4gICAgICBcIm5hdmlnYXRlVG9MZWZ0XCIsXG4gICAgICBcIm5hdmlnYXRlVG9SaWdodFwiLFxuICAgICAgXCJuYXZpZ2F0ZVRvRmlyc3RcIixcbiAgICAgIFwibmF2aWdhdGVUb0xhc3RcIixcbiAgICAgIFwiem9vbUluXCIsXG4gICAgICBcInpvb21PdXRcIixcbiAgICAgIFwiem9vbVRvQWN0dWFsU2l6ZVwiLFxuICAgICAgXCJ0b2dnbGVGaXRUb1NjcmVlblwiLFxuICAgICAgXCJpbmNyZWFzZUZvbnRTaXplXCIsXG4gICAgICBcImRlY3JlYXNlRm9udFNpemVcIixcbiAgICAgIFwiZGVmYXVsdEZvbnRTaXplXCIsXG4gICAgICBcIm9uY2xpY2tWaWV3cG9ydFwiLFxuICAgICAgXCJ0b2dnbGVUT0NcIixcbiAgICBdLmZvckVhY2goKG1ldGhvZE5hbWUpID0+IHtcbiAgICAgIHRoaXNbbWV0aG9kTmFtZV0gPSB0aGlzW21ldGhvZE5hbWVdLmJpbmQodGhpcyk7XG4gICAgfSk7XG4gIH1cblxuICBuYXZpZ2F0ZVRvUHJldmlvdXMoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzTmF2aWdhdGVUb1ByZXZpb3VzRGlzYWJsZWQoKSkge1xuICAgICAgdGhpcy52aWV3ZXJfLm5hdmlnYXRlVG9QcmV2aW91cygpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBuYXZpZ2F0ZVRvTmV4dCgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNOYXZpZ2F0ZVRvTmV4dERpc2FibGVkKCkpIHtcbiAgICAgIHRoaXMudmlld2VyXy5uYXZpZ2F0ZVRvTmV4dCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBuYXZpZ2F0ZVRvTGVmdCgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNOYXZpZ2F0ZVRvTGVmdERpc2FibGVkKCkpIHtcbiAgICAgIHRoaXMudmlld2VyXy5uYXZpZ2F0ZVRvTGVmdCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBuYXZpZ2F0ZVRvUmlnaHQoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzTmF2aWdhdGVUb1JpZ2h0RGlzYWJsZWQoKSkge1xuICAgICAgdGhpcy52aWV3ZXJfLm5hdmlnYXRlVG9SaWdodCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBuYXZpZ2F0ZVRvRmlyc3QoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzTmF2aWdhdGVUb0ZpcnN0RGlzYWJsZWQoKSkge1xuICAgICAgdGhpcy52aWV3ZXJfLm5hdmlnYXRlVG9GaXJzdCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBuYXZpZ2F0ZVRvTGFzdCgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNOYXZpZ2F0ZVRvTGFzdERpc2FibGVkKCkpIHtcbiAgICAgIHRoaXMudmlld2VyXy5uYXZpZ2F0ZVRvTGFzdCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB6b29tSW4oKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzWm9vbUluRGlzYWJsZWQoKSkge1xuICAgICAgY29uc3Qgem9vbSA9IHRoaXMudmlld2VyT3B0aW9uc18uem9vbSgpO1xuICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXy56b29tKFxuICAgICAgICB6b29tLnpvb21JbigodGhpcy52aWV3ZXJfIGFzIHVua25vd24pIGFzIENvcmVWaWV3ZXIpLFxuICAgICAgKTsgLy8gVE9ETzogdGVzdCBpZiBpdCdzIG9rIHRvIHRyZWF0IHZpZXdlcl8gYXMgQ29yZVZpZXdlclxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB6b29tT3V0KCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc1pvb21PdXREaXNhYmxlZCgpKSB7XG4gICAgICBjb25zdCB6b29tID0gdGhpcy52aWV3ZXJPcHRpb25zXy56b29tKCk7XG4gICAgICB0aGlzLnZpZXdlck9wdGlvbnNfLnpvb20oXG4gICAgICAgIHpvb20uem9vbU91dCgodGhpcy52aWV3ZXJfIGFzIHVua25vd24pIGFzIENvcmVWaWV3ZXIpLFxuICAgICAgKTsgLy8gVE9ETzogdGVzdCBpZiBpdCdzIG9rIHRvIHRyZWF0IHZpZXdlcl8gYXMgQ29yZVZpZXdlclxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB6b29tVG9BY3R1YWxTaXplKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc1pvb21Ub0FjdHVhbFNpemVEaXNhYmxlZCgpKSB7XG4gICAgICBjb25zdCB6b29tID0gdGhpcy52aWV3ZXJPcHRpb25zXy56b29tKCk7XG4gICAgICB0aGlzLnZpZXdlck9wdGlvbnNfLnpvb20oem9vbS56b29tVG9BY3R1YWxTaXplKCkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB0b2dnbGVGaXRUb1NjcmVlbigpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNUb2dnbGVGaXRUb1NjcmVlbkRpc2FibGVkKCkpIHtcbiAgICAgIGNvbnN0IHpvb20gPSB0aGlzLnZpZXdlck9wdGlvbnNfLnpvb20oKTtcbiAgICAgIHRoaXMudmlld2VyT3B0aW9uc18uem9vbSh6b29tLnRvZ2dsZUZpdFRvU2NyZWVuKCkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBpbmNyZWFzZUZvbnRTaXplKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc0luY3JlYXNlRm9udFNpemVEaXNhYmxlZCgpKSB7XG4gICAgICBsZXQgZm9udFNpemUgPSBOdW1iZXIodGhpcy52aWV3ZXJPcHRpb25zXy5mb250U2l6ZSgpKTtcbiAgICAgIC8vIGZvbnRTaXplICo9IDEuMjU7XG4gICAgICBpZiAoZm9udFNpemUgPCAxMCkge1xuICAgICAgICBmb250U2l6ZSA9IE1hdGguZmxvb3IoZm9udFNpemUpICsgMTtcbiAgICAgIH0gZWxzZSBpZiAoZm9udFNpemUgPCAyMCkge1xuICAgICAgICBmb250U2l6ZSA9IChNYXRoLmZsb29yKGZvbnRTaXplIC8gMikgKyAxKSAqIDI7XG4gICAgICB9IGVsc2UgaWYgKGZvbnRTaXplIDwgNDApIHtcbiAgICAgICAgZm9udFNpemUgPSAoTWF0aC5mbG9vcihmb250U2l6ZSAvIDQpICsgMSkgKiA0O1xuICAgICAgfSBlbHNlIGlmIChmb250U2l6ZSA8IDcyKSB7XG4gICAgICAgIGZvbnRTaXplID0gKE1hdGguZmxvb3IoZm9udFNpemUgLyA4KSArIDEpICogODtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvbnRTaXplID0gNzI7XG4gICAgICB9XG4gICAgICB0aGlzLnZpZXdlck9wdGlvbnNfLmZvbnRTaXplKGZvbnRTaXplKTtcbiAgICAgIHRoaXMudXBkYXRlRm9udFNpemVTZXR0aW5ncygpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBkZWNyZWFzZUZvbnRTaXplKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc0RlY3JlYXNlRm9udFNpemVEaXNhYmxlZCgpKSB7XG4gICAgICBsZXQgZm9udFNpemUgPSBOdW1iZXIodGhpcy52aWV3ZXJPcHRpb25zXy5mb250U2l6ZSgpKTtcbiAgICAgIC8vIGZvbnRTaXplICo9IDAuODtcbiAgICAgIGlmIChmb250U2l6ZSA+IDQwKSB7XG4gICAgICAgIGZvbnRTaXplID0gKE1hdGguY2VpbChmb250U2l6ZSAvIDgpIC0gMSkgKiA4O1xuICAgICAgfSBlbHNlIGlmIChmb250U2l6ZSA+IDIwKSB7XG4gICAgICAgIGZvbnRTaXplID0gKE1hdGguY2VpbChmb250U2l6ZSAvIDQpIC0gMSkgKiA0O1xuICAgICAgfSBlbHNlIGlmIChmb250U2l6ZSA+IDEwKSB7XG4gICAgICAgIGZvbnRTaXplID0gKE1hdGguY2VpbChmb250U2l6ZSAvIDIpIC0gMSkgKiAyO1xuICAgICAgfSBlbHNlIGlmIChmb250U2l6ZSA+IDUpIHtcbiAgICAgICAgZm9udFNpemUgPSBNYXRoLmNlaWwoZm9udFNpemUpIC0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvbnRTaXplID0gNTtcbiAgICAgIH1cbiAgICAgIHRoaXMudmlld2VyT3B0aW9uc18uZm9udFNpemUoZm9udFNpemUpO1xuICAgICAgdGhpcy51cGRhdGVGb250U2l6ZVNldHRpbmdzKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGRlZmF1bHRGb250U2l6ZSgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNEZWZhdWx0Rm9udFNpemVEaXNhYmxlZCgpKSB7XG4gICAgICBjb25zdCBmb250U2l6ZSA9IFZpZXdlck9wdGlvbnMuZ2V0RGVmYXVsdFZhbHVlcygpLmZvbnRTaXplO1xuICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXy5mb250U2l6ZShmb250U2l6ZSk7XG4gICAgICB0aGlzLnVwZGF0ZUZvbnRTaXplU2V0dGluZ3MoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlRm9udFNpemVTZXR0aW5ncygpOiB2b2lkIHtcbiAgICAvLyBVcGRhdGUgc2V0dGluZyBwYW5lbCBcIkZvbnQgU2l6ZVwiLlxuICAgIHRoaXMuc2V0dGluZ3NQYW5lbF8uc3RhdGUudmlld2VyT3B0aW9ucy5mb250U2l6ZShcbiAgICAgIHRoaXMudmlld2VyT3B0aW9uc18uZm9udFNpemUoKSxcbiAgICApO1xuXG4gICAgaWYgKHRoaXMudmlld2VyXy5kb2N1bWVudE9wdGlvbnNfLnBhZ2VTdHlsZS5iYXNlRm9udFNpemVTcGVjaWZpZWQoKSkge1xuICAgICAgLy8gVXBkYXRlIHVzZXJTdHlsZXNoZWV0IHdoZW4gYmFzZSBmb250LXNpemUgaXMgc3BlY2lmaWVkXG4gICAgICB0aGlzLnZpZXdlcl8uZG9jdW1lbnRPcHRpb25zXy51cGRhdGVVc2VyU3R5bGVTaGVldEZyb21DU1NUZXh0KCk7XG4gICAgICB0aGlzLnZpZXdlcl8ubG9hZERvY3VtZW50KFxuICAgICAgICB0aGlzLnZpZXdlcl8uZG9jdW1lbnRPcHRpb25zXyxcbiAgICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgb25jbGlja1ZpZXdwb3J0KCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnNldHRpbmdzUGFuZWxfLmp1c3RDbGlja2VkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMudmlld2VyXy50b2NWaXNpYmxlKCkgJiYgIXRoaXMudmlld2VyXy50b2NQaW5uZWQoKSkge1xuICAgICAgY29uc3QgdG9jQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLXZpdmxpb3N0eWxlLXRvYy1ib3hdXCIpO1xuICAgICAgaWYgKHRvY0JveCAmJiAhdG9jQm94LmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlVE9DKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnNldHRpbmdzUGFuZWxfLm9wZW5lZCgpICYmICF0aGlzLnNldHRpbmdzUGFuZWxfLnBpbm5lZCgpKSB7XG4gICAgICB0aGlzLnNldHRpbmdzUGFuZWxfLmNsb3NlKCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdG9nZ2xlVE9DKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc1RPQ1RvZ2dsZURpc2FibGVkKCkpIHtcbiAgICAgIGxldCBpbnRlcnZhbElEOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuXG4gICAgICBpZiAoIXRoaXMudmlld2VyXy50b2NWaXNpYmxlKCkpIHtcbiAgICAgICAgaWYgKHRoaXMuanVzdENsaWNrZWQpIHtcbiAgICAgICAgICB0aGlzLnZpZXdlcl8uc2hvd1RPQyh0cnVlLCBmYWxzZSk7IC8vIGF1dG9oaWRlPWZhbHNlXG4gICAgICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudmlld2VyXy5zaG93VE9DKHRydWUsIHRydWUpOyAvLyBhdXRvaGlkZT10cnVlXG4gICAgICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGVyZSB1c2UgdGltZXIgZm9yIHR3byBwdXJwb3NlczpcbiAgICAgICAgLy8gLSBDaGVjayBkb3VibGUgY2xpY2sgdG8gbWFrZSBUT0MgYm94IHBpbm5lZC5cbiAgICAgICAgLy8gLSBNb3ZlIGZvY3VzIHRvIFRPQyBib3ggd2hlbiBUT0MgYm94IGJlY29tZXMgdmlzaWJsZS5cbiAgICAgICAgaW50ZXJ2YWxJRCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICBjb25zdCB0b2NCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgXCJbZGF0YS12aXZsaW9zdHlsZS10b2MtYm94XVwiLFxuICAgICAgICAgICkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgaWYgKHRvY0JveCAmJiB0b2NCb3guc3R5bGUudmlzaWJpbGl0eSA9PT0gXCJ2aXNpYmxlXCIpIHtcbiAgICAgICAgICAgIHRvY0JveC50YWJJbmRleCA9IDA7XG4gICAgICAgICAgICB0b2NCb3guZm9jdXMoKTtcblxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElEKTtcbiAgICAgICAgICAgIGludGVydmFsSUQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmp1c3RDbGlja2VkID0gZmFsc2U7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuanVzdENsaWNrZWQpIHtcbiAgICAgICAgLy8gRG91YmxlIGNsaWNrIHRvIGtlZXAgVE9DIGJveCB2aXNpYmxlIGR1cmluZyBUT0MgbmF2aWdhdGlvblxuICAgICAgICB0aGlzLnZpZXdlcl8uc2hvd1RPQyh0cnVlLCBmYWxzZSk7IC8vIGF1dG9oaWRlPWZhbHNlXG4gICAgICAgIHRoaXMuanVzdENsaWNrZWQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpbnRlcnZhbElEICE9PSBudWxsKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElEKTtcbiAgICAgICAgICBpbnRlcnZhbElEID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdlcl8uc2hvd1RPQyhmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmp1c3RDbGlja2VkKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpdmxpb3N0eWxlLXZpZXdlci12aWV3cG9ydFwiKS5mb2N1cygpO1xuICAgICAgICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgMzAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgbmF2aWdhdGVUT0Moa2V5KTogYm9vbGVhbiB7XG4gICAgY29uc3Qgc2VsZWN0ZXIgPVxuICAgICAgXCJbZGF0YS12aXZsaW9zdHlsZS10b2MtYm94XT4qPio+Kj4qPio6bm90KFtoaWRkZW5dKSBbdGFiaW5kZXg9JzAnXSxcIiArXG4gICAgICBcIltkYXRhLXZpdmxpb3N0eWxlLXRvYy1ib3hdPio+Kj4qPio+Kjpub3QoW2hpZGRlbl0pIGFbaHJlZl06bm90KFt0YWJpbmRleD0nLTEnXSlcIjtcbiAgICBjb25zdCBub2RlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RlcikpO1xuICAgIGxldCBpbmRleCA9IG5vZGVzLmluZGV4T2YoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG5cbiAgICBjb25zdCBpc0J1dHRvbiA9IChpbmRleCk6IGJvb2xlYW4gPT4ge1xuICAgICAgcmV0dXJuIG5vZGVzW2luZGV4XSAmJiBub2Rlc1tpbmRleF0uZ2V0QXR0cmlidXRlKFwicm9sZVwiKSA9PT0gXCJidXR0b25cIjtcbiAgICB9O1xuICAgIGNvbnN0IGlzRXhwYW5kZWQgPSAoaW5kZXgpOiBib29sZWFuID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIG5vZGVzW2luZGV4XSAmJiBub2Rlc1tpbmRleF0uZ2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiKSA9PT0gXCJ0cnVlXCJcbiAgICAgICk7XG4gICAgfTtcblxuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlIEtleXMuQXJyb3dMZWZ0OlxuICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHtcbiAgICAgICAgICBpbmRleCA9IG5vZGVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0J1dHRvbihpbmRleCkgJiYgaXNCdXR0b24oaW5kZXggLSAxKSkge1xuICAgICAgICAgIGluZGV4LS07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQnV0dG9uKGluZGV4KSAmJiBpc0V4cGFuZGVkKGluZGV4KSkge1xuICAgICAgICAgIChub2Rlc1tpbmRleF0gYXMgSFRNTEVsZW1lbnQpLmNsaWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IGluZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmIChpc0J1dHRvbihpKSAmJiBub2Rlc1tpXS5wYXJlbnRFbGVtZW50LmNvbnRhaW5zKG5vZGVzW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEtleXMuQXJyb3dSaWdodDpcbiAgICAgICAgaWYgKGluZGV4ID09IC0xKSB7XG4gICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNCdXR0b24oaW5kZXgpICYmIGlzQnV0dG9uKGluZGV4IC0gMSkpIHtcbiAgICAgICAgICBpbmRleC0tO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0J1dHRvbihpbmRleCkpIHtcbiAgICAgICAgICBpZiAoaXNFeHBhbmRlZChpbmRleCkpIHtcbiAgICAgICAgICAgIGluZGV4ICs9IDI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIChub2Rlc1tpbmRleF0gYXMgSFRNTEVsZW1lbnQpLmNsaWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBLZXlzLkFycm93RG93bjpcbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEtleXMuQXJyb3dVcDpcbiAgICAgICAgaWYgKGluZGV4ID09IC0xKSB7XG4gICAgICAgICAgaW5kZXggPSBub2Rlcy5sZW5ndGggLSAxO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICBpZiAoaXNCdXR0b24oLS1pbmRleCkpIHtcbiAgICAgICAgICAgIGluZGV4LS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBLZXlzLkhvbWU6XG4gICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEtleXMuRW5kOlxuICAgICAgICBpbmRleCA9IG5vZGVzLmxlbmd0aCAtIDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBLZXlzLlNwYWNlOlxuICAgICAgICBpZiAoIWlzQnV0dG9uKGluZGV4KSAmJiBpc0J1dHRvbihpbmRleCAtIDEpKSB7XG4gICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNCdXR0b24oaW5kZXgpKSB7XG4gICAgICAgICAgKG5vZGVzW2luZGV4XSBhcyBIVE1MRWxlbWVudCkuY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoaXNCdXR0b24oaW5kZXgpKSB7XG4gICAgICBpbmRleCsrO1xuICAgIH1cblxuICAgIGlmIChub2Rlc1tpbmRleF0pIHtcbiAgICAgIChub2Rlc1tpbmRleF0gYXMgSFRNTEVsZW1lbnQpLmZvY3VzKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBoYW5kbGVLZXkoa2V5KTogYm9vbGVhbiB7XG4gICAgY29uc3QgaXNTZXR0aW5nc0FjdGl2ZSA9XG4gICAgICB0aGlzLnNldHRpbmdzUGFuZWxfLm9wZW5lZCgpICYmXG4gICAgICB0aGlzLnNldHRpbmdzUGFuZWxfLnNldHRpbmdzVG9nZ2xlLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuXG4gICAgaWYgKGlzU2V0dGluZ3NBY3RpdmUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHBhZ2VOdW1iZXJFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS1wYWdlLW51bWJlclwiKTtcbiAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgIFwidml2bGlvc3R5bGUtdmlld2VyLXZpZXdwb3J0XCIsXG4gICAgKTtcbiAgICBjb25zdCBob3Jpem9udGFsU2Nyb2xsYWJsZSA9XG4gICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsV2lkdGggPiB2aWV3cG9ydEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgY29uc3QgdmVydGljYWxTY3JvbGxhYmxlID1cbiAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxIZWlnaHQgPiB2aWV3cG9ydEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgIGNvbnN0IGlzUGFnZU51bWJlcklucHV0ID0gcGFnZU51bWJlckVsZW0gPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgY29uc3QgaXNUT0NBY3RpdmUgPVxuICAgICAgdGhpcy52aWV3ZXJfLnRvY1Zpc2libGUoKSAmJlxuICAgICAgIWlzUGFnZU51bWJlcklucHV0ICYmXG4gICAgICB2aWV3cG9ydEVsZW1lbnQgIT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlIFwiK1wiOlxuICAgICAgICByZXR1cm4gaXNQYWdlTnVtYmVySW5wdXQgfHwgIXRoaXMuaW5jcmVhc2VGb250U2l6ZSgpO1xuICAgICAgY2FzZSBcIi1cIjpcbiAgICAgICAgcmV0dXJuIGlzUGFnZU51bWJlcklucHV0IHx8ICF0aGlzLmRlY3JlYXNlRm9udFNpemUoKTtcbiAgICAgIGNhc2UgXCIwXCI6XG4gICAgICAgIHJldHVybiBpc1BhZ2VOdW1iZXJJbnB1dCB8fCAhdGhpcy5kZWZhdWx0Rm9udFNpemUoKTtcbiAgICAgIGNhc2UgXCIxXCI6XG4gICAgICAgIHJldHVybiBpc1BhZ2VOdW1iZXJJbnB1dCB8fCAhdGhpcy56b29tVG9BY3R1YWxTaXplKCk7XG4gICAgICBjYXNlIEtleXMuQXJyb3dMZWZ0OlxuICAgICAgICBpZiAoaXNUT0NBY3RpdmUpIHJldHVybiAhdGhpcy5uYXZpZ2F0ZVRPQyhrZXkpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGlzUGFnZU51bWJlcklucHV0IHx8IGhvcml6b250YWxTY3JvbGxhYmxlIHx8ICF0aGlzLm5hdmlnYXRlVG9MZWZ0KClcbiAgICAgICAgKTtcbiAgICAgIGNhc2UgS2V5cy5BcnJvd1JpZ2h0OlxuICAgICAgICBpZiAoaXNUT0NBY3RpdmUpIHJldHVybiAhdGhpcy5uYXZpZ2F0ZVRPQyhrZXkpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGlzUGFnZU51bWJlcklucHV0IHx8IGhvcml6b250YWxTY3JvbGxhYmxlIHx8ICF0aGlzLm5hdmlnYXRlVG9SaWdodCgpXG4gICAgICAgICk7XG4gICAgICBjYXNlIEtleXMuQXJyb3dEb3duOlxuICAgICAgICBpZiAoaXNUT0NBY3RpdmUpIHJldHVybiAhdGhpcy5uYXZpZ2F0ZVRPQyhrZXkpO1xuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuIHZlcnRpY2FsU2Nyb2xsYWJsZSB8fCAhdGhpcy5uYXZpZ2F0ZVRvTmV4dCgpO1xuICAgICAgY2FzZSBLZXlzLkFycm93VXA6XG4gICAgICAgIGlmIChpc1RPQ0FjdGl2ZSkgcmV0dXJuICF0aGlzLm5hdmlnYXRlVE9DKGtleSk7XG4gICAgICAgIHZpZXdwb3J0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gdmVydGljYWxTY3JvbGxhYmxlIHx8ICF0aGlzLm5hdmlnYXRlVG9QcmV2aW91cygpO1xuICAgICAgY2FzZSBLZXlzLlBhZ2VEb3duOlxuICAgICAgICBpZiAoaXNUT0NBY3RpdmUpIHJldHVybiB0cnVlO1xuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLm5hdmlnYXRlVG9OZXh0KCk7XG4gICAgICBjYXNlIEtleXMuUGFnZVVwOlxuICAgICAgICBpZiAoaXNUT0NBY3RpdmUpIHJldHVybiB0cnVlO1xuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLm5hdmlnYXRlVG9QcmV2aW91cygpO1xuICAgICAgY2FzZSBLZXlzLkhvbWU6XG4gICAgICAgIGlmIChpc1RPQ0FjdGl2ZSkgcmV0dXJuICF0aGlzLm5hdmlnYXRlVE9DKGtleSk7XG4gICAgICAgIHZpZXdwb3J0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gIXRoaXMubmF2aWdhdGVUb0ZpcnN0KCk7XG4gICAgICBjYXNlIEtleXMuRW5kOlxuICAgICAgICBpZiAoaXNUT0NBY3RpdmUpIHJldHVybiAhdGhpcy5uYXZpZ2F0ZVRPQyhrZXkpO1xuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLm5hdmlnYXRlVG9MYXN0KCk7XG4gICAgICBjYXNlIFwib1wiOlxuICAgICAgY2FzZSBcIk9cIjpcbiAgICAgICAgdmlld3BvcnRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiAhdGhpcy56b29tT3V0KCk7XG4gICAgICBjYXNlIFwiaVwiOlxuICAgICAgY2FzZSBcIklcIjpcbiAgICAgICAgdmlld3BvcnRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiAhdGhpcy56b29tSW4oKTtcbiAgICAgIGNhc2UgXCJmXCI6XG4gICAgICBjYXNlIFwiRlwiOlxuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLnRvZ2dsZUZpdFRvU2NyZWVuKCk7XG4gICAgICBjYXNlIFwiZ1wiOlxuICAgICAgY2FzZSBcIkdcIjpcbiAgICAgICAgcGFnZU51bWJlckVsZW0uZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgY2FzZSBcInRcIjpcbiAgICAgIGNhc2UgXCJUXCI6XG4gICAgICAgIHZpZXdwb3J0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gIXRoaXMudG9nZ2xlVE9DKCk7XG4gICAgICBjYXNlIEtleXMuRXNjYXBlOlxuICAgICAgICBpZiAodGhpcy52aWV3ZXJfLnRvY1Zpc2libGUoKSkge1xuICAgICAgICAgIHJldHVybiAhdGhpcy50b2dnbGVUT0MoKTtcbiAgICAgICAgfVxuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIEtleXMuU3BhY2U6XG4gICAgICAgIGlmIChpc1RPQ0FjdGl2ZSkgcmV0dXJuICF0aGlzLm5hdmlnYXRlVE9DKGtleSk7XG4gICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50LmdldEF0dHJpYnV0ZShcInJvbGVcIikgPT09IFwiYnV0dG9uXCIpIHtcbiAgICAgICAgICAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCkuY2xpY2soKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmF2aWdhdGlvbjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBrbywgeyBPYnNlcnZhYmxlLCBQdXJlQ29tcHV0ZWQgfSBmcm9tIFwia25vY2tvdXRcIjtcblxuaW1wb3J0IFZpZXdlciBmcm9tIFwiLi92aWV3ZXJcIjtcbmltcG9ydCBQYWdlU3R5bGUgZnJvbSBcIi4uL21vZGVscy9wYWdlLXN0eWxlXCI7XG5pbXBvcnQgUGFnZVZpZXdNb2RlIGZyb20gXCIuLi9tb2RlbHMvcGFnZS12aWV3LW1vZGVcIjtcbmltcG9ydCBWaWV3ZXJPcHRpb25zIGZyb20gXCIuLi9tb2RlbHMvdmlld2VyLW9wdGlvbnNcIjtcbmltcG9ydCBEb2N1bWVudE9wdGlvbnMgZnJvbSBcIi4uL21vZGVscy9kb2N1bWVudC1vcHRpb25zXCI7XG5pbXBvcnQga2V5VXRpbCBmcm9tIFwiLi4vdXRpbHMva2V5LXV0aWxcIjtcblxudHlwZSBTdGF0ZSA9IHtcbiAgdmlld2VyT3B0aW9uczogVmlld2VyT3B0aW9ucztcbiAgcGFnZVN0eWxlOiBQYWdlU3R5bGU7XG4gIHBhZ2VWaWV3TW9kZTogUHVyZUNvbXB1dGVkPHN0cmluZz47XG4gIGJvb2tNb2RlOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICByZW5kZXJBbGxQYWdlczogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xufTtcblxuY29uc3QgeyBLZXlzIH0gPSBrZXlVdGlsO1xuXG5jbGFzcyBTZXR0aW5nc1BhbmVsIHtcbiAgcHJpdmF0ZSB2aWV3ZXJPcHRpb25zXzogVmlld2VyT3B0aW9ucztcbiAgcHJpdmF0ZSBkb2N1bWVudE9wdGlvbnNfOiBEb2N1bWVudE9wdGlvbnM7XG4gIHByaXZhdGUgdmlld2VyXzogVmlld2VyO1xuXG4gIGlzUGFnZVN0eWxlQ2hhbmdlRGlzYWJsZWQ6IGJvb2xlYW47XG4gIGlzT3ZlcnJpZGVEb2N1bWVudFN0eWxlU2hlZXREaXNhYmxlZDogYm9vbGVhbjtcbiAgaXNQYWdlVmlld01vZGVDaGFuZ2VEaXNhYmxlZDogYm9vbGVhbjtcbiAgaXNCb29rTW9kZUNoYW5nZURpc2FibGVkOiBib29sZWFuO1xuICBpc1JlbmRlckFsbFBhZ2VzQ2hhbmdlRGlzYWJsZWQ6IGJvb2xlYW47XG4gIGp1c3RDbGlja2VkOiBib29sZWFuOyAvLyBkb3VibGUgY2xpY2sgY2hlY2tcbiAgc2V0dGluZ3NUb2dnbGU6IEhUTUxFbGVtZW50O1xuICBzdGF0ZTogU3RhdGU7XG4gIG9wZW5lZDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgcGlubmVkOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBkZWZhdWx0UGFnZVN0eWxlOiBQYWdlU3R5bGU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgdmlld2VyT3B0aW9uczogVmlld2VyT3B0aW9ucyxcbiAgICBkb2N1bWVudE9wdGlvbnM6IERvY3VtZW50T3B0aW9ucyxcbiAgICB2aWV3ZXI6IFZpZXdlcixcbiAgICBtZXNzYWdlRGlhbG9nLFxuICAgIHNldHRpbmdzUGFuZWxPcHRpb25zLFxuICApIHtcbiAgICB0aGlzLnZpZXdlck9wdGlvbnNfID0gdmlld2VyT3B0aW9ucztcbiAgICB0aGlzLmRvY3VtZW50T3B0aW9uc18gPSBkb2N1bWVudE9wdGlvbnM7XG4gICAgdGhpcy52aWV3ZXJfID0gdmlld2VyO1xuXG4gICAgdGhpcy5pc1BhZ2VTdHlsZUNoYW5nZURpc2FibGVkID0gISFzZXR0aW5nc1BhbmVsT3B0aW9ucy5kaXNhYmxlUGFnZVN0eWxlQ2hhbmdlO1xuICAgIHRoaXMuaXNPdmVycmlkZURvY3VtZW50U3R5bGVTaGVldERpc2FibGVkID0gdGhpcy5pc1BhZ2VTdHlsZUNoYW5nZURpc2FibGVkO1xuICAgIHRoaXMuaXNQYWdlVmlld01vZGVDaGFuZ2VEaXNhYmxlZCA9ICEhc2V0dGluZ3NQYW5lbE9wdGlvbnMuZGlzYWJsZVBhZ2VWaWV3TW9kZUNoYW5nZTtcbiAgICB0aGlzLmlzQm9va01vZGVDaGFuZ2VEaXNhYmxlZCA9ICEhc2V0dGluZ3NQYW5lbE9wdGlvbnMuZGlzYWJsZUJvb2tNb2RlQ2hhbmdlO1xuICAgIHRoaXMuaXNSZW5kZXJBbGxQYWdlc0NoYW5nZURpc2FibGVkID0gISFzZXR0aW5nc1BhbmVsT3B0aW9ucy5kaXNhYmxlUmVuZGVyQWxsUGFnZXNDaGFuZ2U7XG5cbiAgICB0aGlzLmp1c3RDbGlja2VkID0gZmFsc2U7XG4gICAgdGhpcy5zZXR0aW5nc1RvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgXCJ2aXZsaW9zdHlsZS1tZW51LWl0ZW1fc2V0dGluZ3MtdG9nZ2xlXCIsXG4gICAgKTtcblxuICAgIHRoaXMub3BlbmVkID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gICAgdGhpcy5waW5uZWQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB2aWV3ZXJPcHRpb25zOiBuZXcgVmlld2VyT3B0aW9ucyh2aWV3ZXJPcHRpb25zKSxcbiAgICAgIHBhZ2VTdHlsZTogbmV3IFBhZ2VTdHlsZShkb2N1bWVudE9wdGlvbnMucGFnZVN0eWxlKSxcbiAgICAgIHBhZ2VWaWV3TW9kZToga28ucHVyZUNvbXB1dGVkKHtcbiAgICAgICAgcmVhZDogKCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnZpZXdlck9wdGlvbnMucGFnZVZpZXdNb2RlKCkudG9TdHJpbmcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgd3JpdGU6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHRoaXMuc3RhdGUudmlld2VyT3B0aW9ucy5wYWdlVmlld01vZGUoUGFnZVZpZXdNb2RlLm9mKHZhbHVlKSk7XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICAgIGJvb2tNb2RlOiBrby5vYnNlcnZhYmxlKGRvY3VtZW50T3B0aW9ucy5ib29rTW9kZSgpKSxcbiAgICAgIHJlbmRlckFsbFBhZ2VzOiBrby5wdXJlQ29tcHV0ZWQoe1xuICAgICAgICByZWFkOiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUudmlld2VyT3B0aW9ucy5yZW5kZXJBbGxQYWdlcygpO1xuICAgICAgICB9LFxuICAgICAgICB3cml0ZTogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS52aWV3ZXJPcHRpb25zLnJlbmRlckFsbFBhZ2VzKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgIH07XG5cbiAgICB0aGlzLnN0YXRlLnBhZ2VTdHlsZS5zZXRWaWV3ZXJGb250U2l6ZU9ic2VydmFibGUoXG4gICAgICB0aGlzLnN0YXRlLnZpZXdlck9wdGlvbnMuZm9udFNpemUsXG4gICAgKTtcblxuICAgIHRoaXMuZGVmYXVsdFBhZ2VTdHlsZSA9IG5ldyBQYWdlU3R5bGUoKTtcblxuICAgIFtcImNsb3NlXCIsIFwidG9nZ2xlXCIsIFwiYXBwbHlcIiwgXCJjYW5jZWxcIiwgXCJyZXNldFVzZXJTdHlsZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKFxuICAgICAgbWV0aG9kTmFtZSxcbiAgICApIHtcbiAgICAgIHRoaXNbbWV0aG9kTmFtZV0gPSB0aGlzW21ldGhvZE5hbWVdLmJpbmQodGhpcyk7XG4gICAgfSxcbiAgICB0aGlzKTtcblxuICAgIG1lc3NhZ2VEaWFsb2cudmlzaWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24odmlzaWJsZSkge1xuICAgICAgaWYgKHZpc2libGUpIHRoaXMuY2xvc2UoKTtcbiAgICB9LCB0aGlzKTtcblxuICAgIHRoaXMuc3RhdGUuYm9va01vZGUuc3Vic2NyaWJlKChib29rTW9kZSkgPT4ge1xuICAgICAgZG9jdW1lbnRPcHRpb25zLmJvb2tNb2RlKGJvb2tNb2RlKTtcbiAgICB9KTtcbiAgICB0aGlzLnN0YXRlLnJlbmRlckFsbFBhZ2VzLnN1YnNjcmliZSgocmVuZGVyQWxsUGFnZXMpID0+IHtcbiAgICAgIHZpZXdlck9wdGlvbnMucmVuZGVyQWxsUGFnZXMocmVuZGVyQWxsUGFnZXMpO1xuICAgIH0pO1xuICB9XG5cbiAgY2xvc2UoKTogYm9vbGVhbiB7XG4gICAgdGhpcy5vcGVuZWQoZmFsc2UpO1xuICAgIHRoaXMucGlubmVkKGZhbHNlKTtcbiAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgIFwidml2bGlvc3R5bGUtdmlld2VyLXZpZXdwb3J0XCIsXG4gICAgKTtcbiAgICBpZiAodmlld3BvcnRFbGVtZW50KSB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHRvZ2dsZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMub3BlbmVkKCkpIHtcbiAgICAgIGlmICghdGhpcy52aWV3ZXJfLnRvY1Bpbm5lZCgpKSB7XG4gICAgICAgIHRoaXMudmlld2VyXy5zaG93VE9DKGZhbHNlKTsgLy8gSGlkZSBUT0MgYm94XG4gICAgICB9XG4gICAgICB0aGlzLm9wZW5lZCh0cnVlKTtcblxuICAgICAgaWYgKHRoaXMuanVzdENsaWNrZWQpIHtcbiAgICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBpbm5lZCh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGlubmVkKGZhbHNlKTtcbiAgICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbSgpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmp1c3RDbGlja2VkID0gZmFsc2U7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLmp1c3RDbGlja2VkKSB7XG4gICAgICAvLyBEb3VibGUgY2xpY2sgdG8ga2VlcCBTZXR0aW5ncyBwYW5lbCBvcGVuIHdoZW4gQXBwbHkgaXMgY2xpY2tlZC5cbiAgICAgIHRoaXMuanVzdENsaWNrZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMucGlubmVkKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG5cbiAgICAgIHRoaXMuanVzdENsaWNrZWQgPSB0cnVlO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuanVzdENsaWNrZWQgPSBmYWxzZTtcbiAgICAgIH0sIDMwMCk7XG4gICAgfVxuICB9XG5cbiAgYXBwbHkoKTogdm9pZCB7XG4gICAgdGhpcy5kb2N1bWVudE9wdGlvbnNfLnBhZ2VTdHlsZS5jb3B5RnJvbSh0aGlzLnN0YXRlLnBhZ2VTdHlsZSk7XG4gICAgaWYgKHRoaXMuZG9jdW1lbnRPcHRpb25zXy5wYWdlU3R5bGUuYmFzZUZvbnRTaXplU3BlY2lmaWVkKCkpIHtcbiAgICAgIC8vIFVwZGF0ZSB1c2VyU3R5bGVzaGVldCB3aGVuIGJhc2UgZm9udC1zaXplIGlzIHNwZWNpZmllZFxuICAgICAgdGhpcy5kb2N1bWVudE9wdGlvbnNfLnVwZGF0ZVVzZXJTdHlsZVNoZWV0RnJvbUNTU1RleHQoKTtcbiAgICB9XG4gICAgdGhpcy52aWV3ZXJfLmxvYWREb2N1bWVudCh0aGlzLmRvY3VtZW50T3B0aW9uc18sIHRoaXMuc3RhdGUudmlld2VyT3B0aW9ucyk7XG4gICAgaWYgKHRoaXMucGlubmVkKCkpIHtcbiAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgY2FuY2VsKCk6IHZvaWQge1xuICAgIHRoaXMuc3RhdGUudmlld2VyT3B0aW9ucy5jb3B5RnJvbSh0aGlzLnZpZXdlck9wdGlvbnNfKTtcbiAgICB0aGlzLnN0YXRlLnBhZ2VTdHlsZS5jb3B5RnJvbSh0aGlzLmRvY3VtZW50T3B0aW9uc18ucGFnZVN0eWxlKTtcbiAgICB0aGlzLmNsb3NlKCk7XG4gIH1cblxuICByZXNldFVzZXJTdHlsZSgpOiBib29sZWFuIHtcbiAgICB0aGlzLnN0YXRlLnBhZ2VTdHlsZS5jb3B5RnJvbSh0aGlzLmRlZmF1bHRQYWdlU3R5bGUpO1xuICAgIHRoaXMuc3RhdGUudmlld2VyT3B0aW9ucy5mb250U2l6ZShcbiAgICAgIFZpZXdlck9wdGlvbnMuZ2V0RGVmYXVsdFZhbHVlcygpLmZvbnRTaXplLFxuICAgICk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoXG4gICAgICAgIFwidml2bGlvc3R5bGUtc2V0dGluZ3NfcmVzZXQtdXNlci1zdHlsZVwiLFxuICAgICAgKVswXSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgZWxlbS5jaGVja2VkID0gZmFsc2U7XG4gICAgfSwgMjAwKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZvY3VzVG9GaXJzdEl0ZW0ob3V0ZXJFbGVtUGFyYW0/OiBFbGVtZW50KTogdm9pZCB7XG4gICAgY29uc3Qgb3V0ZXJFbGVtID0gb3V0ZXJFbGVtUGFyYW0gfHwgdGhpcy5zZXR0aW5nc1RvZ2dsZTtcbiAgICBjb25zdCBpbnB1dEVsZW0gPSBbXCJpbnB1dFwiLCBcInRleHRhcmVhXCIsIFwic3VtbWFyeVwiXS5pbmNsdWRlcyhcbiAgICAgIG91dGVyRWxlbS5sb2NhbE5hbWUsXG4gICAgKVxuICAgICAgPyBvdXRlckVsZW1cbiAgICAgIDogQXJyYXkuZnJvbShvdXRlckVsZW0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbnB1dFwiKSkuZmluZChcbiAgICAgICAgICAoZTogSFRNTElucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICFlLmRpc2FibGVkICYmIChlLnR5cGUgIT0gXCJyYWRpb1wiIHx8IGUuY2hlY2tlZCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICBpZiAoaW5wdXRFbGVtKSB7XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgZSA9IGlucHV0RWxlbS5wYXJlbnRFbGVtZW50O1xuICAgICAgICBlICYmIGUgIT0gdGhpcy5zZXR0aW5nc1RvZ2dsZTtcbiAgICAgICAgZSA9IGUucGFyZW50RWxlbWVudFxuICAgICAgKSB7XG4gICAgICAgIGlmIChlLmxvY2FsTmFtZSA9PSBcImRldGFpbHNcIikge1xuICAgICAgICAgIC8vIEZJWE1FOiBSZW1vdmUgdHMtaWdub3JlIGNvbW1lbnRcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgZS5vcGVuID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKGlucHV0RWxlbSBhcyBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFRleHRBcmVhRWxlbWVudCkuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVLZXkoa2V5KTogYm9vbGVhbiB7XG4gICAgY29uc3QgaXNTZXR0aW5nc0FjdGl2ZSA9XG4gICAgICB0aGlzLm9wZW5lZCgpICYmIHRoaXMuc2V0dGluZ3NUb2dnbGUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG4gICAgY29uc3QgaXNJbklucHV0ID1cbiAgICAgIGlzU2V0dGluZ3NBY3RpdmUgJiZcbiAgICAgICgoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50KS50eXBlID09IFwidGV4dFwiIHx8XG4gICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubG9jYWxOYW1lID09IFwic2VsZWN0XCIpO1xuICAgIGNvbnN0IGlzSW5UZXh0QXJlYSA9XG4gICAgICBpc1NldHRpbmdzQWN0aXZlICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubG9jYWxOYW1lID09IFwidGV4dGFyZWFcIjtcbiAgICBjb25zdCBpc0hvdEtleUVuYWJsZWQgPSBpc1NldHRpbmdzQWN0aXZlICYmICFpc0luSW5wdXQgJiYgIWlzSW5UZXh0QXJlYTtcblxuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlIEtleXMuRXNjYXBlOlxuICAgICAgICBpZiAodGhpcy5vcGVuZWQoKSkge1xuICAgICAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBcInNcIjpcbiAgICAgIGNhc2UgXCJTXCI6XG4gICAgICAgIGlmICghdGhpcy5vcGVuZWQoKSB8fCBpc0hvdEtleUVuYWJsZWQgfHwgIWlzU2V0dGluZ3NBY3RpdmUpIHtcbiAgICAgICAgICB0aGlzLnRvZ2dsZSgpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJwXCI6XG4gICAgICBjYXNlIFwiUFwiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgIFwidml2bGlvc3R5bGUtc2V0dGluZ3NfcGFnZS12aWV3LWFuZC1yZW5kZXJpbmdcIixcbiAgICAgICAgICAgICkuZmlyc3RFbGVtZW50Q2hpbGQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwidlwiOlxuICAgICAgY2FzZSBcIlZcIjpcbiAgICAgICAgaWYgKGlzSG90S2V5RW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbShcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidml2bGlvc3R5bGUtc2V0dGluZ3NfcGFnZS12aWV3LW1vZGVcIiksXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwiYlwiOlxuICAgICAgY2FzZSBcIkJcIjpcbiAgICAgICAgaWYgKGlzSG90S2V5RW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbShcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFwidml2bGlvc3R5bGUtc2V0dGluZ3NfYm9vay1tb2RlXCIpWzBdLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBcImFcIjpcbiAgICAgIGNhc2UgXCJBXCI6XG4gICAgICAgIGlmIChpc0hvdEtleUVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmZvY3VzVG9GaXJzdEl0ZW0oXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcbiAgICAgICAgICAgICAgXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19yZW5kZXItYWxsLXBhZ2VzXCIsXG4gICAgICAgICAgICApWzBdLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBcInVcIjpcbiAgICAgIGNhc2UgXCJVXCI6XG4gICAgICAgIGlmIChpc0hvdEtleUVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmZvY3VzVG9GaXJzdEl0ZW0oXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpdmxpb3N0eWxlLXNldHRpbmdzX3VzZXItc3R5bGVcIilcbiAgICAgICAgICAgICAgLmZpcnN0RWxlbWVudENoaWxkLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBcInpcIjpcbiAgICAgIGNhc2UgXCJaXCI6XG4gICAgICAgIGlmIChpc0hvdEtleUVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmZvY3VzVG9GaXJzdEl0ZW0oXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpdmxpb3N0eWxlLXNldHRpbmdzX3BhZ2Utc2l6ZVwiKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJtXCI6XG4gICAgICBjYXNlIFwiTVwiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19wYWdlLW1hcmdpblwiKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJrXCI6XG4gICAgICBjYXNlIFwiS1wiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19wYWdlLWJyZWFrc1wiKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJpXCI6XG4gICAgICBjYXNlIFwiSVwiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19pbWFnZXNcIiksXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwidFwiOlxuICAgICAgY2FzZSBcIlRcIjpcbiAgICAgICAgaWYgKGlzSG90S2V5RW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbShcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidml2bGlvc3R5bGUtc2V0dGluZ3NfdGV4dFwiKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJvXCI6XG4gICAgICBjYXNlIFwiT1wiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoXG4gICAgICAgICAgICAgIFwidml2bGlvc3R5bGUtc2V0dGluZ3Nfb3ZlcnJpZGUtZG9jdW1lbnQtc3R5bGVzaGVldHNcIixcbiAgICAgICAgICAgIClbMF0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwiY1wiOlxuICAgICAgY2FzZSBcIkNcIjpcbiAgICAgICAgaWYgKGlzSG90S2V5RW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbShcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFwidml2bGlvc3R5bGUtc2V0dGluZ3NfY3NzLWRldGFpbHNcIilbMF0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwiclwiOlxuICAgICAgY2FzZSBcIlJcIjpcbiAgICAgICAgaWYgKGlzSG90S2V5RW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbShcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFxuICAgICAgICAgICAgICBcInZpdmxpb3N0eWxlLXNldHRpbmdzX3Jlc2V0LXVzZXItc3R5bGVcIixcbiAgICAgICAgICAgIClbMF0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIEtleXMuRW50ZXI6XG4gICAgICAgIGlmIChcbiAgICAgICAgICBpc0luSW5wdXQgfHxcbiAgICAgICAgICAoaXNIb3RLZXlFbmFibGVkICYmXG4gICAgICAgICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmlkICE9PSBcInZpdmxpb3N0eWxlLW1lbnUtYnV0dG9uX2FwcGx5XCIgJiZcbiAgICAgICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuaWQgIT09IFwidml2bGlvc3R5bGUtbWVudS1idXR0b25fcmVzZXRcIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS1tZW51LWJ1dHRvbl9hcHBseVwiKS5mb2N1cygpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTZXR0aW5nc1BhbmVsO1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGtvLCB7IFB1cmVDb21wdXRlZCB9IGZyb20gXCJrbm9ja291dFwiO1xuXG5pbXBvcnQgeyBNZXNzYWdlUXVldWUgfSBmcm9tIFwiLi4vbW9kZWxzL21lc3NhZ2UtcXVldWVcIjtcblxudHlwZSBFcnJvckluZm8gPSB7XG4gIGVycm9yOiB7XG4gICAgZnJhbWVUcmFjZTogc3RyaW5nO1xuICAgIHN0YWNrOiBzdHJpbmc7XG4gIH07XG4gIG1lc3NhZ2VzOiBBcnJheTxzdHJpbmc+O1xufTtcblxuY2xhc3MgTWVzc2FnZURpYWxvZyB7XG4gIGxpc3Q6IE1lc3NhZ2VRdWV1ZTtcbiAgdmlzaWJsZTogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuXG4gIGNvbnN0cnVjdG9yKHF1ZXVlOiBNZXNzYWdlUXVldWUpIHtcbiAgICB0aGlzLmxpc3QgPSBxdWV1ZTtcbiAgICB0aGlzLnZpc2libGUgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4gcXVldWUoKS5sZW5ndGggPiAwKTtcbiAgfVxuXG4gIGdldERpc3BsYXlNZXNzYWdlKGVycm9ySW5mbzogRXJyb3JJbmZvKTogc3RyaW5nIHtcbiAgICBjb25zdCBlID0gZXJyb3JJbmZvLmVycm9yO1xuICAgIGxldCBtc2cgPSBlICYmIChlLnRvU3RyaW5nKCkgfHwgZS5mcmFtZVRyYWNlIHx8IGUuc3RhY2spO1xuICAgIGlmIChtc2cpIHtcbiAgICAgIG1zZyA9IG1zZy5zcGxpdChcIlxcblwiLCAxKVswXTtcbiAgICB9XG4gICAgaWYgKCFtc2cpIHtcbiAgICAgIG1zZyA9IGVycm9ySW5mby5tZXNzYWdlcy5qb2luKFwiXFxuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbXNnO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1lc3NhZ2VEaWFsb2c7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQgVml2bGlvc3R5bGUgZnJvbSBcIi4uL3Zpdmxpb3N0eWxlXCI7XG5cbmltcG9ydCBEb2N1bWVudE9wdGlvbnMgZnJvbSBcIi4uL21vZGVscy9kb2N1bWVudC1vcHRpb25zXCI7XG5pbXBvcnQgVmlld2VyT3B0aW9ucyBmcm9tIFwiLi4vbW9kZWxzL3ZpZXdlci1vcHRpb25zXCI7XG5pbXBvcnQgbWVzc2FnZVF1ZXVlIGZyb20gXCIuLi9tb2RlbHMvbWVzc2FnZS1xdWV1ZVwiO1xuaW1wb3J0IFZpZXdlclVJIGZyb20gXCIuL3ZpZXdlclwiO1xuaW1wb3J0IE5hdmlnYXRpb24gZnJvbSBcIi4vbmF2aWdhdGlvblwiO1xuaW1wb3J0IFNldHRpbmdzUGFuZWwgZnJvbSBcIi4vc2V0dGluZ3MtcGFuZWxcIjtcbmltcG9ydCBNZXNzYWdlRGlhbG9nIGZyb20gXCIuL21lc3NhZ2UtZGlhbG9nXCI7XG5pbXBvcnQgdXJsUGFyYW1ldGVycyBmcm9tIFwiLi4vc3RvcmVzL3VybC1wYXJhbWV0ZXJzXCI7XG5pbXBvcnQga2V5VXRpbCBmcm9tIFwiLi4vdXRpbHMva2V5LXV0aWxcIjtcbmltcG9ydCBzdHJpbmdVdGlsIGZyb20gXCIuLi91dGlscy9zdHJpbmctdXRpbFwiO1xuXG5mdW5jdGlvbiBWaWV3ZXJBcHAoKTogdm9pZCB7XG4gIHRoaXMuZG9jdW1lbnRPcHRpb25zID0gbmV3IERvY3VtZW50T3B0aW9ucygpO1xuICB0aGlzLnZpZXdlck9wdGlvbnMgPSBuZXcgVmlld2VyT3B0aW9ucygpO1xuXG4gIHRoaXMuZG9jdW1lbnRPcHRpb25zLnBhZ2VTdHlsZS5zZXRWaWV3ZXJGb250U2l6ZU9ic2VydmFibGUoXG4gICAgdGhpcy52aWV3ZXJPcHRpb25zLmZvbnRTaXplLFxuICApO1xuXG4gIGlmICh0aGlzLnZpZXdlck9wdGlvbnMucHJvZmlsZSgpKSB7XG4gICAgVml2bGlvc3R5bGUucHJvZmlsZXIuZW5hYmxlKCk7XG4gIH1cbiAgdGhpcy5pc0RlYnVnID0gdXJsUGFyYW1ldGVycy5nZXRQYXJhbWV0ZXIoXCJkZWJ1Z1wiKVswXSA9PT0gXCJ0cnVlXCI7XG4gIHRoaXMudmlld2VyU2V0dGluZ3MgPSB7XG4gICAgdXNlckFnZW50Um9vdFVSTDogYCR7dXJsUGFyYW1ldGVycy5nZXRCYXNlVVJMKCl9cmVzb3VyY2VzL2AsXG4gICAgdmlld3BvcnRFbGVtZW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpdmxpb3N0eWxlLXZpZXdlci12aWV3cG9ydFwiKSxcbiAgICBkZWJ1ZzogdGhpcy5pc0RlYnVnLFxuICB9O1xuXG4gIC8vIFJlcGxhY2UgZGVwcmVjYXRlZCBcImJcIiBhbmQgXCJ4XCIgdG8gXCJzcmNcIiAmIFwiYm9va01vZGVcIlxuICBjb25zdCBzcmNVcmxzID0gdXJsUGFyYW1ldGVycy5nZXRQYXJhbWV0ZXIoXCJzcmNcIik7XG4gIGNvbnN0IGJVcmxzID0gdXJsUGFyYW1ldGVycy5nZXRQYXJhbWV0ZXIoXCJiXCIpOyAvLyAoZGVwcmVjYXRlZCkgPT4gc3JjICYgYm9va01vZGU9dHJ1ZSAmIHJlbmRlckFsbFBhZ2VzPWZhbHNlXG4gIGNvbnN0IHhVcmxzID0gdXJsUGFyYW1ldGVycy5nZXRQYXJhbWV0ZXIoXCJ4XCIpOyAvLyAoZGVwcmVjYXRlZCkgPT4gc3JjXG4gIGlmICghc3JjVXJscy5sZW5ndGgpIHtcbiAgICBpZiAoYlVybHMubGVuZ3RoKSB7XG4gICAgICB1cmxQYXJhbWV0ZXJzLnNldFBhcmFtZXRlcihcInNyY1wiLCBiVXJsc1swXSk7XG4gICAgICB1cmxQYXJhbWV0ZXJzLnNldFBhcmFtZXRlcihcImJvb2tNb2RlXCIsIFwidHJ1ZVwiKTtcbiAgICAgIGlmICghdXJsUGFyYW1ldGVycy5oYXNQYXJhbWV0ZXIoXCJyZW5kZXJBbGxQYWdlc1wiKSkge1xuICAgICAgICB1cmxQYXJhbWV0ZXJzLnNldFBhcmFtZXRlcihcInJlbmRlckFsbFBhZ2VzXCIsIFwiZmFsc2VcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh4VXJscy5sZW5ndGgpIHtcbiAgICAgIHhVcmxzLmZvckVhY2goKHgsIGkpID0+IHtcbiAgICAgICAgdXJsUGFyYW1ldGVycy5zZXRQYXJhbWV0ZXIoXCJzcmNcIiwgeCwgaSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgLy8gUmVtb3ZlIHJlZHVuZGFudCBvciBpbmVmZmVjdGl2ZSBVUkwgcGFyYW1ldGVyc1xuICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcImJcIik7XG4gIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwieFwiKTtcbiAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJmXCIsIHRydWUpOyAvLyBvbmx5IGZpcnN0IG9uZSBpcyBlZmZlY3RpdmVcbiAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJzcHJlYWRcIiwgdHJ1ZSk7XG4gIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwiYm9va01vZGVcIiwgdHJ1ZSk7XG4gIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwicmVuZGVyQWxsUGFnZXNcIiwgdHJ1ZSk7XG4gIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwiZm9udFNpemVcIiwgdHJ1ZSk7XG4gIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwicHJvZmlsZVwiLCB0cnVlKTtcbiAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJkZWJ1Z1wiLCB0cnVlKTtcblxuICB0aGlzLnZpZXdlciA9IG5ldyBWaWV3ZXJVSSh0aGlzLnZpZXdlclNldHRpbmdzLCB0aGlzLnZpZXdlck9wdGlvbnMpO1xuXG4gIHRoaXMudmlld2VyLmlucHV0VXJsLnN1YnNjcmliZSgoaW5wdXRVcmw6IHN0cmluZykgPT4ge1xuICAgIGlmIChpbnB1dFVybCAhPSBcIlwiKSB7XG4gICAgICBpZiAoIXVybFBhcmFtZXRlcnMuaGFzUGFyYW1ldGVyKFwic3JjXCIpKSB7XG4gICAgICAgIC8vIFB1c2ggY3VycmVudCBVUkwgdG8gYnJvd3NlciBoaXN0b3J5IHRvIGVuYWJsZSB0byBnbyBiYWNrIGhlcmUgd2hlbiBicm93c2VyIEJhY2sgYnV0dG9uIGlzIGNsaWNrZWQuXG4gICAgICAgIGlmICh1cmxQYXJhbWV0ZXJzLmhpc3RvcnkucHVzaFN0YXRlKVxuICAgICAgICAgIHVybFBhcmFtZXRlcnMuaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgXCJcIik7XG4gICAgICB9XG4gICAgICBpZiAoaW5wdXRVcmwuc3RhcnRzV2l0aChcIjxcIikpIHtcbiAgICAgICAgLy8gc2VlbXMgc3RhcnQgdGFnLCBzbyBjb252ZXJ0IHRvIGRhdGEgdXJsXG4gICAgICAgIGlucHV0VXJsID0gXCJkYXRhOixcIiArIHN0cmluZ1V0aWwucGVyY2VudEVuY29kZUZvckRhdGFVUkkoaW5wdXRVcmwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXRVcmwgPSBzdHJpbmdVdGlsLnBlcmNlbnRFbmNvZGVBbXBlcnNhbmRBbmRVbmVuY29kZWRQZXJjZW50KFxuICAgICAgICAgIGlucHV0VXJsLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdXJsUGFyYW1ldGVycy5zZXRQYXJhbWV0ZXIoXCJzcmNcIiwgaW5wdXRVcmwpO1xuICAgICAgdGhpcy5kb2N1bWVudE9wdGlvbnMuc3JjVXJscyh1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcInNyY1wiKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwic3JjXCIpO1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy5tZXNzYWdlRGlhbG9nID0gbmV3IE1lc3NhZ2VEaWFsb2cobWVzc2FnZVF1ZXVlKTtcblxuICBjb25zdCBzZXR0aW5nc1BhbmVsT3B0aW9ucyA9IHtcbiAgICBkaXNhYmxlUGFnZVN0eWxlQ2hhbmdlOiBmYWxzZSxcbiAgICBkaXNhYmxlUGFnZVZpZXdNb2RlQ2hhbmdlOiBmYWxzZSxcbiAgICBkaXNhYmxlQm9va01vZGVDaGFuZ2U6IGZhbHNlLFxuICAgIGRpc2FibGVSZW5kZXJBbGxQYWdlc0NoYW5nZTogZmFsc2UsXG4gIH07XG5cbiAgdGhpcy5zZXR0aW5nc1BhbmVsID0gbmV3IFNldHRpbmdzUGFuZWwoXG4gICAgdGhpcy52aWV3ZXJPcHRpb25zLFxuICAgIHRoaXMuZG9jdW1lbnRPcHRpb25zLFxuICAgIHRoaXMudmlld2VyLFxuICAgIHRoaXMubWVzc2FnZURpYWxvZyxcbiAgICBzZXR0aW5nc1BhbmVsT3B0aW9ucyxcbiAgKTtcblxuICBjb25zdCBuYXZpZ2F0aW9uT3B0aW9ucyA9IHtcbiAgICBkaXNhYmxlVE9DTmF2aWdhdGlvbjogZmFsc2UsXG4gICAgZGlzYWJsZVBhZ2VOYXZpZ2F0aW9uOiBmYWxzZSxcbiAgICBkaXNhYmxlWm9vbTogZmFsc2UsXG4gICAgZGlzYWJsZUZvbnRTaXplQ2hhbmdlOiBmYWxzZSxcbiAgfTtcblxuICB0aGlzLm5hdmlnYXRpb24gPSBuZXcgTmF2aWdhdGlvbihcbiAgICB0aGlzLnZpZXdlck9wdGlvbnMsXG4gICAgdGhpcy52aWV3ZXIsXG4gICAgdGhpcy5zZXR0aW5nc1BhbmVsLFxuICAgIG5hdmlnYXRpb25PcHRpb25zLFxuICApO1xuXG4gIHRoaXMuaGFuZGxlS2V5ID0gKGRhdGEsIGV2ZW50KTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3Qga2V5ID0ga2V5VXRpbC5pZGVudGlmeUtleUZyb21FdmVudChldmVudCk7XG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuaWQgPT09IFwidml2bGlvc3R5bGUtaW5wdXQtdXJsXCIpIHtcbiAgICAgIGlmIChrZXkgPT09IFwiRW50ZXJcIiAmJiBldmVudC5rZXlDb2RlID09PSAxMykge1xuICAgICAgICB0aGlzLnZpZXdlci5sb2FkRG9jdW1lbnQodGhpcy5kb2N1bWVudE9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgKCEoa2V5ID09PSBcIkhvbWVcIiB8fCBrZXkgPT09IFwiRW5kXCIpICYmXG4gICAgICAgIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpKSB8fFxuICAgICAgZXZlbnQuYWx0S2V5IHx8XG4gICAgICBldmVudC5zaGlmdEtleVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCByZXQgPSB0aGlzLnNldHRpbmdzUGFuZWwuaGFuZGxlS2V5KGtleSk7XG4gICAgaWYgKHJldCkge1xuICAgICAgcmV0ID0gdGhpcy5uYXZpZ2F0aW9uLmhhbmRsZUtleShrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9O1xuXG4gIHRoaXMudmlld2VyLmxvYWREb2N1bWVudCh0aGlzLmRvY3VtZW50T3B0aW9ucyk7XG5cbiAgd2luZG93Lm9uaGFzaGNoYW5nZSA9ICgpOiB2b2lkID0+IHtcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYgIT0gdXJsUGFyYW1ldGVycy5zdG9yZWRVcmwpIHtcbiAgICAgIC8vIFJlbG9hZCB3aGVuIGFkZHJlc3MgYmFyIGNoYW5nZSBpcyBkZXRlY3RlZFxuICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlld2VyQXBwO1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGtvIGZyb20gXCJrbm9ja291dFwiO1xuXG5jb25zdCBzdXBwb3J0VG91Y2hFdmVudHMgPSBcIm9udG91Y2hzdGFydFwiIGluIHdpbmRvdztcblxua28uYmluZGluZ0hhbmRsZXJzLm1lbnVCdXR0b24gPSB7XG4gIGluaXQoZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcik6IHZvaWQge1xuICAgIGlmIChrby51bndyYXAodmFsdWVBY2Nlc3NvcigpKSkge1xuICAgICAgaWYgKHN1cHBvcnRUb3VjaEV2ZW50cykge1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsICgpID0+IHtcbiAgICAgICAgICBrby51dGlscy50b2dnbGVEb21Ob2RlQ3NzQ2xhc3MoZWxlbWVudCwgXCJob3ZlciBhY3RpdmVcIiwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCAoKSA9PiB7XG4gICAgICAgICAga28udXRpbHMudG9nZ2xlRG9tTm9kZUNzc0NsYXNzKGVsZW1lbnQsIFwiaG92ZXIgYWN0aXZlXCIsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKCkgPT4ge1xuICAgICAgICAgIGtvLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhlbGVtZW50LCBcImhvdmVyXCIsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsICgpID0+IHtcbiAgICAgICAgICBrby51dGlscy50b2dnbGVEb21Ob2RlQ3NzQ2xhc3MoZWxlbWVudCwgXCJhY3RpdmVcIiwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsICgpID0+IHtcbiAgICAgICAgICBrby51dGlscy50b2dnbGVEb21Ob2RlQ3NzQ2xhc3MoZWxlbWVudCwgXCJhY3RpdmVcIiwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgKCkgPT4ge1xuICAgICAgICAgIGtvLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhlbGVtZW50LCBcImhvdmVyXCIsIGZhbHNlKTtcbiAgICAgICAgICBrby51dGlscy50b2dnbGVEb21Ob2RlQ3NzQ2xhc3MoZWxlbWVudCwgXCJhY3RpdmVcIiwgZmFsc2UpO1xuICAgICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTsgLy8gcHJldmVudCB1bndhbnRlZCB0ZXh0IHNlbGVjdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG59O1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE4IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBrbyBmcm9tIFwia25vY2tvdXRcIjtcblxuY29uc3Qgc3VwcG9ydFRvdWNoRXZlbnRzID0gXCJvbnRvdWNoc3RhcnRcIiBpbiB3aW5kb3c7XG5cbmxldCB4U3RhcnQgPSBudWxsO1xubGV0IHlTdGFydCA9IG51bGw7XG5sZXQgYXJyb3dCdXR0b24gPSBudWxsO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIHZpc3VhbFZpZXdwb3J0Pzoge1xuICAgICAgb2Zmc2V0TGVmdDogUmVhZG9ubHk8bnVtYmVyPjtcbiAgICAgIG9mZnNldFRvcDogUmVhZG9ubHk8bnVtYmVyPjtcbiAgICAgIHBhZ2VMZWZ0OiBSZWFkb25seTxudW1iZXI+O1xuICAgICAgcGFnZVRvcDogUmVhZG9ubHk8bnVtYmVyPjtcbiAgICAgIHdpZHRoOiBSZWFkb25seTxudW1iZXI+O1xuICAgICAgaGVpZ2h0OiBSZWFkb25seTxudW1iZXI+O1xuICAgICAgc2NhbGU6IFJlYWRvbmx5PG51bWJlcj47XG4gICAgfTtcbiAgfVxufVxuXG5rby5iaW5kaW5nSGFuZGxlcnMuc3dpcGVQYWdlcyA9IHtcbiAgaW5pdChlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKTogdm9pZCB7XG4gICAgaWYgKHN1cHBvcnRUb3VjaEV2ZW50cyAmJiBrby51bndyYXAodmFsdWVBY2Nlc3NvcigpKSkge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHJldHVybjsgLy8gbXVsdGktdG91Y2ggaXMgbm90IGZvciBwYWdlIHN3aXBlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpbmRvdy52aXN1YWxWaWV3cG9ydCAmJiB3aW5kb3cudmlzdWFsVmlld3BvcnQuc2NhbGUgPiAxKSB7XG4gICAgICAgICAgcmV0dXJuOyAvLyBkaXNhYmxlIHBhZ2Ugc3dpcGUgd2hlbiBwaW5jaC16b29tZWRcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICBcInZpdmxpb3N0eWxlLXZpZXdlci12aWV3cG9ydFwiLFxuICAgICAgICApO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdmlld3BvcnRFbGVtZW50ICYmXG4gICAgICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbFdpZHRoID4gdmlld3BvcnRFbGVtZW50LmNsaWVudFdpZHRoXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybjsgLy8gZGlzYWJsZSBwYWdlIHN3aXBlIHdoZW4gaG9yaXpvbnRhbCBzY3JvbGxhYmxlXG4gICAgICAgIH1cbiAgICAgICAgeFN0YXJ0ID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgICB5U3RhcnQgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICB9KTtcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeFN0YXJ0ICE9PSBudWxsICYmIHlTdGFydCAhPT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IHhEaWZmID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYIC0geFN0YXJ0O1xuICAgICAgICAgIGNvbnN0IHlEaWZmID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZIC0geVN0YXJ0O1xuICAgICAgICAgIGlmIChNYXRoLmFicyh4RGlmZikgPiBNYXRoLmFicyh5RGlmZikpIHtcbiAgICAgICAgICAgIGlmICh4RGlmZiA8IDApIHtcbiAgICAgICAgICAgICAgLy8gc3dpcGUgdG8gbGVmdCA9IGdvIHRvIHJpZ2h0XG4gICAgICAgICAgICAgIGFycm93QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgICAgXCJ2aXZsaW9zdHlsZS1wYWdlLW5hdmlnYXRpb24tcmlnaHRcIixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIHN3aXBlIHRvIHJpZ2h0ID0gZ28gdG8gbGVmdFxuICAgICAgICAgICAgICBhcnJvd0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgICAgICAgIFwidml2bGlvc3R5bGUtcGFnZS1uYXZpZ2F0aW9uLWxlZnRcIixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKE1hdGguYWJzKHhEaWZmKSArIE1hdGguYWJzKHlEaWZmKSA+PSAxNikge1xuICAgICAgICAgICAgaWYgKGFycm93QnV0dG9uKSB7XG4gICAgICAgICAgICAgIGFycm93QnV0dG9uLmNsaWNrKCk7XG4gICAgICAgICAgICAgIGtvLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhhcnJvd0J1dHRvbiwgXCJhY3RpdmVcIiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4U3RhcnQgPSBudWxsO1xuICAgICAgICAgICAgeVN0YXJ0ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgKCkgPT4ge1xuICAgICAgICBpZiAoYXJyb3dCdXR0b24pIHtcbiAgICAgICAgICBrby51dGlscy50b2dnbGVEb21Ob2RlQ3NzQ2xhc3MoYXJyb3dCdXR0b24sIFwiYWN0aXZlXCIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBhcnJvd0J1dHRvbiA9IG51bGw7XG4gICAgICAgIHhTdGFydCA9IG51bGw7XG4gICAgICAgIHlTdGFydCA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG59O1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGtvIGZyb20gXCJrbm9ja291dFwiO1xuXG5pbXBvcnQgVmlld2VyQXBwIGZyb20gXCIuL3ZpZXdtb2RlbHMvdmlld2VyLWFwcFwiO1xuXG5pbXBvcnQgXCIuL2JpbmRpbmdzL21lbnVCdXR0b25cIjtcbmltcG9ydCBcIi4vYmluZGluZ3Mvc3dpcGVQYWdlc1wiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHN0YXJ0KCk6IHZvaWQge1xuICAgIGZ1bmN0aW9uIHN0YXJ0Vmlld2VyKCk6IHZvaWQge1xuICAgICAga28uYXBwbHlCaW5kaW5ncyhuZXcgVmlld2VyQXBwKCkpO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3dbXCJfX2xvYWRlZFwiXSkgc3RhcnRWaWV3ZXIoKTtcbiAgICBlbHNlIHdpbmRvdy5vbmxvYWQgPSBzdGFydFZpZXdlcjtcbiAgfSxcbn07XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQgdml2bGlvc3R5bGVWaWV3ZXIgZnJvbSBcIi4vdml2bGlvc3R5bGUtdmlld2VyXCI7XG5cbnZpdmxpb3N0eWxlVmlld2VyLnN0YXJ0KCk7XG4iXSwibmFtZXMiOlsiTW9kZSIsIm4iLCJBIiwidGhpcyIsImV2YWwiLCJ3IiwiZG9jdW1lbnQiLCJSIiwibmF2aWdhdG9yIiwidiIsImpRdWVyeSIsIkgiLCJKU09OIiwibW9kdWxlIiwiZXhwb3J0cyIsIlMiLCJUIiwiSyIsImEiLCJjIiwiVyIsIlgiLCJiIiwiZCIsInNldFRpbWVvdXQiLCJZIiwiY2xlYXJUaW1lb3V0IiwiWiIsInBjIiwiZ2IiLCJxYyIsImFhIiwicyIsImJhIiwicWQiLCJlIiwiciIsInJhIiwiUWIiLCJtYiIsInVjIiwiSSIsIkoiLCJkYSIsIiRjIiwiSmEiLCJnZCIsImYiLCJnIiwic3BsaXQiLCJsZW5ndGgiLCJMIiwidmVyc2lvbiIsIm9wdGlvbnMiLCJkZWZlclVwZGF0ZXMiLCJ1c2VPbmx5TmF0aXZlRXZlbnRzIiwiZm9yZWFjaEhpZGVzRGVzdHJveWVkIiwiY2FsbCIsIl9fcHJvdG9fXyIsImwiLCJtYXRjaCIsInEiLCJEIiwiTmEiLCJqb2luIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJBcnJheSIsImgiLCJTeW1ib2wiLCJtIiwiayIsInRlc3QiLCJ1c2VyQWdlbnQiLCJNb3VzZUV2ZW50cyIsInQiLCJwcm9wZXJ0eWNoYW5nZSIsInAiLCJjcmVhdGVFbGVtZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpbm5lckhUTUwiLCJKYyIsImluZGV4T2YiLCJMYiIsIlBhIiwic3BsaWNlIiwic2hpZnQiLCJ3YyIsInB1c2giLCJNYiIsImpiIiwiTmIiLCJhcHBseSIsImJjIiwiQmEiLCJleHRlbmQiLCJzZXRQcm90b3R5cGVPZiIsIkFiIiwiUCIsIkdhIiwiVGIiLCJmaXJzdENoaWxkIiwicmVtb3ZlTm9kZSIsIlliIiwibGEiLCJvd25lckRvY3VtZW50IiwiYXBwZW5kQ2hpbGQiLCJvYSIsIkNhIiwiY2xvbmVOb2RlIiwidmEiLCJYYyIsIm5vZGVUeXBlIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsIlVhIiwibmV4dFNpYmxpbmciLCJaYyIsInNldEF0dHJpYnV0ZSIsInNlbGVjdGVkIiwiRGIiLCJ0cmltIiwidG9TdHJpbmciLCJyZXBsYWNlIiwiVWQiLCJzdWJzdHJpbmciLCJ2ZCIsImNvbnRhaW5zIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJTYiIsImRvY3VtZW50RWxlbWVudCIsImtkIiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwiQWMiLCJvbkVycm9yIiwiYXJndW1lbnRzIiwiR2MiLCJCIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwiRXJyb3IiLCJ6YSIsImRldGFjaEV2ZW50Iiwib24iLCJGYiIsInR5cGUiLCJjcmVhdGVFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJpbml0RXZlbnQiLCJjbGljayIsImZpcmVFdmVudCIsInRyaWdnZXIiLCJPIiwiRWIiLCJjbGFzc0xpc3QiLCJjbGFzc05hbWUiLCJiYXNlVmFsIiwiQmIiLCJjcmVhdGVUZXh0Tm9kZSIsImRhdGEiLCJBZCIsIlljIiwibmFtZSIsImNoYXJDb2RlQXQiLCJtZXJnZUF0dHJpYnV0ZXMiLCJzdHlsZSIsInpvb20iLCJ3ZCIsIndpZHRoIiwiUGQiLCJEYSIsIlpkIiwiJGQiLCJMYyIsImNvbmNhdCIsIk5kIiwicGFyc2UiLCJGdW5jdGlvbiIsImhjIiwic3RyaW5naWZ5IiwiT2QiLCJwYXJhbXMiLCJpbmNsdWRlRmllbGRzIiwiYWN0aW9uIiwidmFsdWUiLCJkaXNwbGF5IiwibWV0aG9kIiwiYm9keSIsInN1Ym1pdHRlciIsInN1Ym1pdCIsInJlbW92ZUNoaWxkIiwiYmluZCIsInNsaWNlIiwiRGF0ZSIsImdldFRpbWUiLCJnZXQiLCJzZXQiLCJVYiIsImNsZWFyIiwiY2xlYW5FeHRlcm5hbERhdGEiLCJjaGlsZE5vZGVzIiwieWIiLCJ1IiwiRyIsImNsZWFuRGF0YSIsInRoZWFkIiwidGJvZHkiLCJ0Zm9vdCIsInRyIiwidGQiLCJ0aCIsIm9wdGlvbiIsIm9wdGdyb3VwIiwidWEiLCJwYXJzZUhUTUwiLCJjbGVhbiIsInBhcmVudFdpbmRvdyIsImRlZmF1bHRWaWV3IiwiaW5uZXJTaGl2IiwibGFzdENoaWxkIiwiTWQiLCJwYXJlbnRFbGVtZW50IiwiZmMiLCJodG1sIiwiWGIiLCJNYXRoIiwicmFuZG9tIiwiYmQiLCJjZCIsIlVjIiwibm9kZVZhbHVlIiwidWQiLCJLZCIsIm5hIiwic2NoZWR1bGVyIiwiTXV0YXRpb25PYnNlcnZlciIsIm9ic2VydmUiLCJhdHRyaWJ1dGVzIiwidG9nZ2xlIiwib25yZWFkeXN0YXRlY2hhbmdlIiwiemIiLCJjYW5jZWwiLCJyZXNldEZvclRlc3RpbmciLCJTZCIsIlRhIiwidGhyb3R0bGUiLCJ0aHJvdHRsZUV2YWx1YXRpb24iLCIkIiwicmVhZCIsIndyaXRlIiwicmF0ZUxpbWl0IiwidGltZW91dCIsIkhiIiwidWIiLCJkZWZlcnJlZCIsIm5vdGlmeVN1YnNjcmliZXJzIiwibm90aWZ5IiwiZXF1YWxpdHlDb21wYXJlciIsInVuZGVmaW5lZCIsIm51bWJlciIsInN0cmluZyIsImljIiwibGMiLCJtYyIsIkliIiwiZmIiLCJKYiIsInFiIiwiVSIsImNoYW5nZSIsInNjIiwic3Vic2NyaWJlIiwiaGIiLCJRYSIsIkdiIiwiV2EiLCJlZCIsInhjIiwiZW5kIiwib2IiLCJEZCIsIm5jIiwic2IiLCJyYyIsIkJkIiwiZm4iLCJRYyIsInBvcCIsImNjIiwib2QiLCJwZCIsImZkIiwicWEiLCJvIiwiVmEiLCJZYSIsIllkIiwidGEiLCJ5YSIsInhhIiwiRiIsIk1hIiwiWmEiLCJOYyIsIkhhIiwidHJhY2tBcnJheUNoYW5nZXMiLCJyZW1vdmUiLCJyZW1vdmVBbGwiLCJkZXN0cm95IiwiX2Rlc3Ryb3kiLCJkZXN0cm95QWxsIiwic29ydGVkIiwic29ydCIsInJldmVyc2VkIiwicmV2ZXJzZSIsInpjIiwiUGMiLCJQYiIsIk9iIiwic3BhcnNlIiwic3RhdHVzIiwiaW5kZXgiLCJtaW4iLCJtYXgiLCJLYyIsIm5iIiwia2EiLCJYYSIsImhhIiwic2EiLCJyYiIsImpjIiwid2IiLCJXYyIsIm93bmVyIiwiZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkIiwiU2EiLCJkaXNwb3NlV2hlbiIsIlJiIiwiViIsIkljIiwiQyIsInB1cmUiLCJkZWZlckV2YWx1YXRpb24iLCJlYSIsImphIiwiS2EiLCJWYiIsIkxhIiwiSWEiLCJKZCIsIlJkIiwiSGMiLCJ6ZCIsInlkIiwiTiIsIk9jIiwiRmQiLCJ4YiIsIlJlZ0V4cCIsIlN0cmluZyIsIk51bWJlciIsIkJvb2xlYW4iLCJzYXZlIiwidG9KU09OIiwia2V5cyIsInZhbHVlcyIsImFkIiwiY29uc3RydWN0b3IiLCJXZCIsIm1hIiwiUHJvbWlzZSIsIk0iLCJfX2tvX19oYXNEb21EYXRhT3B0aW9uVmFsdWVfXyIsIiRiIiwiZ2V0QXR0cmlidXRlTm9kZSIsInNwZWNpZmllZCIsInRleHQiLCJzZWxlY3RlZEluZGV4IiwiY2IiLCJzaXplIiwieCIsImtleSIsInVua25vd24iLCJzdWJzdHIiLCJSYSIsIndhIiwiYWMiLCJ2YiIsImdldEJpbmRpbmdIYW5kbGVyIiwicHJlcHJvY2VzcyIsInZhbHVlQWNjZXNzb3JzIiwiYmluZGluZ1BhcmFtcyIsIklkIiwiZWIiLCJjcmVhdGVDb21tZW50IiwidWwiLCJvbCIsIkVhIiwiVmMiLCJXYiIsIkNkIiwiVmQiLCJTYyIsImdhIiwibmQiLCJub2RlSGFzQmluZGluZ3MiLCJnZXRBdHRyaWJ1dGUiLCJqIiwiZ2V0Q29tcG9uZW50TmFtZUZvck5vZGUiLCJnZXRCaW5kaW5ncyIsImdldEJpbmRpbmdzU3RyaW5nIiwicGFyc2VCaW5kaW5nc1N0cmluZyIsInRjIiwiZ2V0QmluZGluZ0FjY2Vzc29ycyIsIm1lc3NhZ2UiLCJpbnN0YW5jZSIsInoiLCJUYyIsIm5vZGUiLCJ5YyIsImtiIiwiS2IiLCJwcmVwcm9jZXNzTm9kZSIsImkiLCJiaW5kaW5nQ29udGV4dEZvckRlc2NlbmRhbnRzIiwiaGQiLCJjb250ZXh0IiwiWmIiLCJoYXMiLCJFYyIsInBhIiwiQ2IiLCJjYSIsImFmdGVyIiwiTWMiLCJpbml0IiwidXBkYXRlIiwiJGRhdGEiLCJjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5ncyIsInNob3VsZEJpbmREZXNjZW5kYW50cyIsImZhIiwic2NyaXB0IiwidGV4dGFyZWEiLCJ0ZW1wbGF0ZSIsIiRwYXJlbnRzIiwiJHJvb3QiLCJrbyIsIiRyYXdEYXRhIiwiZGF0YURlcGVuZGVuY3kiLCJleHBvcnREZXBlbmRlbmNpZXMiLCJjcmVhdGVDaGlsZENvbnRleHQiLCJhcyIsIm5vQ2hpbGRDb250ZXh0IiwiJHBhcmVudENvbnRleHQiLCIkcGFyZW50IiwidW5zaGlmdCIsInNkIiwiQ2MiLCJGYSIsIm5vdGlmeUltbWVkaWF0ZWx5IiwiVGQiLCJpYiIsImxkIiwiT2EiLCJ2YyIsIkRjIiwic3luY2hyb25vdXMiLCJkZWZpbml0aW9uIiwiR2QiLCJsb2FkZXJzIiwic3VwcHJlc3NMb2FkZXJFeGNlcHRpb25zIiwiQmMiLCJvYyIsInZpZXdNb2RlbCIsImNvbnRlbnQiLCJEb2N1bWVudEZyYWdtZW50IiwicmVxdWlyZSIsIlhkIiwicmVnaXN0ZXIiLCJ0YiIsInVucmVnaXN0ZXIiLCJGYyIsImdldENvbmZpZyIsImxvYWRDb21wb25lbnQiLCJsb2FkVGVtcGxhdGUiLCJlbGVtZW50IiwiSFRNTEVsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImxvYWRWaWV3TW9kZWwiLCJkZCIsIiRyYXciLCJjb21wb25lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiZGlzcG9zZSIsImNyZWF0ZVZpZXdNb2RlbCIsInRlbXBsYXRlTm9kZXMiLCIkY29tcG9uZW50IiwiJGNvbXBvbmVudFRlbXBsYXRlTm9kZXMiLCJrb0Rlc2NlbmRhbnRzQ29tcGxldGUiLCJhdHRyIiwibG9va3VwTmFtZXNwYWNlVVJJIiwicmVtb3ZlQXR0cmlidXRlTlMiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGVOUyIsImNoZWNrZWQiLCJ1bmlxdWVOYW1lIiwiY2hlY2tlZFZhbHVlIiwiX19rb19fY3NzVmFsdWUiLCJjc3MiLCJlbmFibGUiLCJkaXNhYmxlZCIsImRpc2FibGUiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwicmV0dXJuVmFsdWUiLCJjYW5jZWxCdWJibGUiLCJzdG9wUHJvcGFnYXRpb24iLCJmb3JlYWNoIiwiUmMiLCJpbmNsdWRlRGVzdHJveWVkIiwiYWZ0ZXJBZGQiLCJiZWZvcmVSZW1vdmUiLCJhZnRlclJlbmRlciIsImJlZm9yZU1vdmUiLCJhZnRlck1vdmUiLCJ0ZW1wbGF0ZUVuZ2luZSIsImhhc2ZvY3VzIiwiX19rb19oYXNmb2N1c1VwZGF0aW5nIiwiYWN0aXZlRWxlbWVudCIsIl9fa29faGFzZm9jdXNMYXN0VmFsdWUiLCJmb2N1cyIsImJsdXIiLCJoYXNGb2N1cyIsImxldCIsIlEiLCJtdWx0aXBsZSIsInNjcm9sbFRvcCIsImVjIiwiYWJzIiwic2VsZWN0ZWRPcHRpb25zIiwic2V0UHJvcGVydHkiLCJ0b1VwcGVyQ2FzZSIsImlzTmFOIiwicGFyc2VGbG9hdCIsIm9wZXJhIiwicGFyc2VJbnQiLCJ0ZXh0SW5wdXQiLCJ5IiwicHJvcGVydHlOYW1lIiwidGV4dGlucHV0IiwicmQiLCJ1c2luZyIsImF1dG9jb21wbGV0ZSIsImZvcm0iLCJ2aXNpYmxlIiwiaGlkZGVuIiwicmVuZGVyVGVtcGxhdGVTb3VyY2UiLCJjcmVhdGVKYXZhU2NyaXB0RXZhbHVhdG9yQmxvY2siLCJtYWtlVGVtcGxhdGVTb3VyY2UiLCJpYSIsInJlbmRlclRlbXBsYXRlIiwiaXNUZW1wbGF0ZVJld3JpdHRlbiIsImFsbG93VGVtcGxhdGVSZXdyaXRpbmciLCJyZXdyaXRlVGVtcGxhdGUiLCJrYyIsInhkIiwiTGQiLCJtZCIsIm5vZGVOYW1lIiwiYWIiLCJub2RlcyIsImxiIiwiamQiLCJiYiIsInByZXZpb3VzU2libGluZyIsImdjIiwiZGMiLCJRZCIsIiRpbmRleCIsImlmbm90IiwibW92ZWQiLCJkb250TGltaXRNb3ZlcyIsIkFhIiwicGIiLCJfY291bnRXYWl0aW5nRm9yUmVtb3ZlIiwiRSIsIkVkIiwiJGEiLCJIZCIsInRtcGwiLCJ0YWciLCJvcGVuIiwia29CaW5kaW5nQ29udGV4dCIsInRlbXBsYXRlT3B0aW9ucyIsImFwcGVuZFRvIiwiZnJhZ21lbnRzIiwiYWRkVGVtcGxhdGUiLCJrb19jb2RlIiwia29fd2l0aCIsImNsb3NlIiwic2V0RGVidWciLCJpc0RlYnVnIiwicGFnZVByb2dyZXNzaW9uT2YiLCJzdHIiLCJQYWdlUHJvZ3Jlc3Npb24iLCJMVFIiLCJSVEwiLCJQYWdlU2lkZSIsIlJlYWR5U3RhdGUiLCJjb25zdGFudHMiLCJMb2dMZXZlbCIsImFyZ3VtZW50c1RvRXJyb3JJbmZvIiwiYXJncyIsImZyb20iLCJlcnJvciIsIm1lc3NhZ2VzIiwiYnVpbGRNZXNzYWdlQW5kU3RhY2tUcmFjZSIsInN0YWNrIiwiZnJhbWVUcmFjZSIsImxvZ2dlciIsIltvYmplY3QgT2JqZWN0XSIsIm9wdF9jb25zb2xlIiwibXNnIiwiZGVidWciLCJsb2ciLCJjb25zb2xlIiwiaW5mbyIsIndhcm4iLCJsZXZlbCIsImxpc3RlbmVycyIsImZvckVhY2giLCJsaXN0ZW5lciIsInZhcl9hcmdzIiwiY29uc29sZURlYnVnIiwidHJpZ2dlckxpc3RlbmVycyIsIkRFQlVHIiwiY29uc29sZUluZm8iLCJJTkZPIiwiY29uc29sZVdhcm4iLCJXQVJOIiwiY29uc29sZUVycm9yIiwiRVJST1IiLCJIT09LUyIsImhvb2tzIiwicmVnaXN0ZXJIb29rIiwiaG9va3NGb3JOYW1lIiwiTG9nZ2luZy5sb2dnZXIiLCJyZW1vdmVIb29rIiwiZ2V0SG9va3NGb3JOYW1lIiwicGx1Z2luIiwiUHJvZmlsZXIiLCJwZXJmb3JtYW5jZUluc3RhbmNlIiwicmVnaXN0ZXJUaW1pbmciLCJub29wIiwicmVnaXN0ZXJTdGFydFRpbWluZyIsInJlZ2lzdGVyRW5kVGltaW5nIiwidGltZXN0YW1wIiwidGltZXN0YW1wcyIsInN0Iiwic3RhbXBzIiwic3RhcnQiLCJzdGFydEVuZCIsIm5vdyIsImZhbGxiYWNrUGVyZm9ybWFuY2VJbnN0YW5jZSIsInByb2ZpbGVyIiwid2luZG93IiwicGVyZm9ybWFuY2UiLCJmb3JjZVJlZ2lzdGVyU3RhcnRUaW1pbmciLCJwcm9maWxlIiwicHJpbnRUaW1pbmdzIiwiZW1wdHlPYmoiLCJzdHJpbmdUb0pTT04iLCJzdHJpcEZyYWdtZW50IiwidXJsIiwiYmFzZVVSTCIsImxvY2F0aW9uIiwiaHJlZiIsInNldEJhc2VVUkwiLCJyZXNvdXJjZUJhc2VVUkwiLCJzZXRSZXNvdXJjZUJhc2VVUkwiLCJyZXNvbHZlVVJMIiwicmVsVVJMIiwic3RyaXBGcmFnbWVudEFuZFF1ZXJ5IiwibGFzdEluZGV4T2YiLCJ1cmxPcHRpb24iLCJjb252ZXJ0U3BlY2lhbFVSTCIsImV4ZWMiLCJOUyIsImFzU3RyaW5nIiwiUHJpb3JpdHlRdWV1ZSIsInF1ZXVlIiwiaXRlbSIsInBhcmVudEluZGV4IiwiZmxvb3IiLCJwYXJlbnQiLCJjb21wYXJlIiwicmVzdWx0IiwiY3VyciIsImNoaWxkSW5kZXgiLCJrbm93blByZWZpeGVzIiwicHJvcE5hbWVNYXAiLCJjaGVja0lmUHJvcGVydHlTdXBwb3J0ZWQiLCJwcmVmaXgiLCJwcm9wIiwicHJvYmUiLCJjc3NQcm9wTmFtZSIsInR4dCIsImNzc1RvSlNQcm9wIiwiZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWVzIiwicHJlZml4ZWQiLCJzZXRDU1NQcm9wZXJ0eSIsImVsZW0iLCJwcmVmaXhlZFByb3BlcnR5TmFtZXMiLCJlcnIiLCJnZXRDU1NQcm9wZXJ0eSIsIm9wdF92YWx1ZSIsInByb3BlcnR5TmFtZXMiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiZ2V0TGFuZ0F0dHJpYnV0ZSIsImxhbmciLCJnZXRBdHRyaWJ1dGVOUyIsIlhNTCIsIm5hbWVzcGFjZVVSSSIsIlhIVE1MIiwiU3RyaW5nQnVmZmVyIiwibGlzdCIsImVzY2FwZUNoYXIiLCJlc2NhcGVDU1NJZGVudCIsImVzY2FwZUNTU1N0ciIsImxpZ2h0VVJMRW5jb2RlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaXNMZXR0ZXIiLCJjaCIsImVzY2FwZU5hbWVTdHJUb0hleCIsImVzY2FwZUNoYXJUb0hleCIsImVzY2FwZVJlZ0V4cCIsInVuZXNjYXBlU3RyRnJvbUhleCIsInJlZ2V4cCIsImZyb21DaGFyQ29kZSIsInVuZXNjYXBlQ2hhckZyb21IZXgiLCJiaW5hcnlTZWFyY2giLCJoaWdoIiwiZ29vZCIsIm51bWJlckNvbXBhcmUiLCJpbmRleEFycmF5IiwiYXJyIiwibWFwIiwibXVsdGlJbmRleEFycmF5IiwiU2ltcGxlRXZlbnRUYXJnZXQiLCJldnQiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiY2FwdHVyZSIsImhhc1ZlcnRpY2FsQkJveEJ1ZyIsImhhc0lubGluZUJsb2NrSnVzdGlmaWNhdGlvbkJ1ZyIsImhhc1NvZnRXcmFwT3Bwb3J0dW5pdHlBZnRlckh5cGhlbkJ1ZyIsImhhc1NvZnRXcmFwT3Bwb3J0dW5pdHlCeVdickJ1ZyIsImdldElkIiwiaWR0eHQiLCJlc2NhcGUiLCJ1bmVzY2FwZUNoYXIiLCJ1bmVzY2FwZSIsInBhcnNlRXh0VmFsIiwiZXh0c3RyIiwicGFyc2VFeHQiLCJleHQiLCJSZWZTdGVwIiwiYXBwZW5kIiwicG9zIiwiQ2hpbGRTdGVwIiwiaWQiLCJzaWRlQmlhcyIsImNoaWxkRWxlbWVudHMiLCJjaGlsZHJlbiIsImNoaWxkRWxlbWVudENvdW50IiwiY2hpbGQiLCJuZXh0IiwiT2Zmc2V0U3RlcCIsIm9mZnNldCIsInRleHRCZWZvcmUiLCJ0ZXh0QWZ0ZXIiLCJ0ZXh0TGVuZ3RoIiwidGV4dENvbnRlbnQiLCJGcmFnbWVudCIsImZyYWdzdHIiLCJzdGVwcyIsImNoYXJBdCIsIkJhc2UuYXNTdHJpbmciLCJkb2MiLCJyZWYiLCJhcHBseVRvIiwiQmFzZS5TdHJpbmdCdWZmZXIiLCJjbG9uZVByZWZlcmVuY2VzIiwicHJlZiIsImZvbnRGYW1pbHkiLCJsaW5lSGVpZ2h0IiwibWFyZ2luIiwiaHlwaGVuYXRlIiwiY29sdW1uV2lkdGgiLCJob3Jpem9udGFsIiwibmlnaHRNb2RlIiwic3ByZWFkVmlldyIsInBhZ2VCb3JkZXIiLCJlbmFibGVkTWVkaWFUeXBlcyIsImFzc2lnbiIsImRlZmF1bHRQYXBlclNpemUiLCJkZWZhdWx0UHJlZmVyZW5jZXNJbnN0YW5jZSIsInZpdmxpb3N0eWxlIiwicHJpbnQiLCJTcGVjaWFsIiwiUEVORElORyIsImxldHRlcmJveCIsInZpZXdXIiwidmlld0giLCJvYmpXIiwib2JqSCIsInNjYWxlIiwiY3NzU3RyaW5nIiwiQmFzZS5lc2NhcGVDU1NTdHIiLCJjc3NJZGVudCIsIkJhc2UuZXNjYXBlQ1NTSWRlbnQiLCJtYWtlUXVhbGlmaWVkTmFtZSIsIm9iak5hbWUiLCJtZW1iZXJOYW1lIiwibmV4dEtleUluZGV4IiwiTGV4aWNhbFNjb3BlIiwicmVzb2x2ZXIiLCJzY29wZUtleSIsInplcm8iLCJDb25zdCIsIm9uZSIsIl90cnVlIiwiX2ZhbHNlIiwiYnVpbHRJbnMiLCJjZWlsIiwicm91bmQiLCJzcXJ0IiwidHlwZW9mIiwiZGVmaW5lQnVpbHRJbk5hbWUiLCJwYWdlV2lkdGgiLCJwYWdlSGVpZ2h0IiwiZm9udFNpemUiLCJwdWJUaXRsZSIsImRvY1RpdGxlIiwiTmF0aXZlIiwicXVhbGlmaWVkTmFtZSIsInZhbCIsImZ1bmNzIiwiaXNWaWV3cG9ydFJlbGF0aXZlTGVuZ3RoVW5pdCIsInVuaXQiLCJkZWZhdWx0VW5pdFNpemVzIiwicHgiLCJpbiIsInB0IiwiY20iLCJtbSIsImVtIiwicmVtIiwiZXgiLCJkcHB4IiwiZHBpIiwiZHBjbSIsIm5lZWRVbml0Q29udmVyc2lvbiIsIkNvbnRleHQiLCJyb290U2NvcGUiLCJ2aWV3cG9ydFdpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJhY3R1YWxQYWdlV2lkdGgiLCJhY3R1YWxQYWdlSGVpZ2h0IiwiaW5pdGlhbEZvbnRTaXplIiwicm9vdEZvbnRTaXplIiwic2NvcGUiLCJzY29wZXMiLCJjbGVhclNjb3BlIiwiaXNSb290IiwicHZ3IiwicHZoIiwidnciLCJwYWdlQXJlYVdpZHRoIiwidmgiLCJwYWdlQXJlYUhlaWdodCIsInBhZ2VWZXJ0aWNhbCIsIm5vQnVpbHRJbkV2YWwiLCJldmFsdWF0ZSIsIm5vdCIsImVuYWJsZWQiLCJmZWF0dXJlIiwicmVxIiwiYWN0dWFsIiwic2NyZWVuIiwiYXZhaWxXaWR0aCIsImF2YWlsSGVpZ2h0IiwicGl4ZWxEZXB0aCIsImdldFNjb3BlQ29udGV4dCIsIlZhbCIsImJ1ZiIsInByaW9yaXR5Iiwib3RoZXIiLCJkZXBlbmRlbmN5Q2FjaGUiLCJjYWNoZWQiLCJkZXBlbmRDb3JlIiwiZGVwZW5kT3V0ZXIiLCJxdWVyeVZhbCIsImV2YWx1YXRlQ29yZSIsInN0b3JlVmFsIiwiUHJlZml4Iiwic3VwZXIiLCJldmFsUHJlZml4IiwiZ2V0T3AiLCJleHBhbmQiLCJJbmZpeCIsImxocyIsInJocyIsImV2YWxJbmZpeCIsInRoaXNQcmlvcml0eSIsImdldFByaW9yaXR5IiwiTG9naWNhbCIsIkNvbXBhcmlzb24iLCJBZGRpdGl2ZSIsIk11bHRpcGxpY2F0aXZlIiwiTm90IiwiTmVnYXRlIiwiQW5kIiwiQW5kTWVkaWEiLCJPciIsIk9yTWVkaWEiLCJMdCIsIkxlIiwiR3QiLCJHZSIsIkVxIiwiTmUiLCJBZGQiLCJTdWJ0cmFjdCIsIk11bHRpcGx5IiwiRGl2aWRlIiwiTW9kdWxvIiwiTnVtZXJpYyIsIm51bSIsInF1ZXJ5VW5pdFNpemUiLCJOYW1lZCIsImV2YWxOYW1lIiwiTWVkaWFOYW1lIiwiZXZhbE1lZGlhTmFtZSIsIkNhbGwiLCJhcHBlbmRWYWxBcnJheSIsImV2YWxDYWxsIiwiZXhwYW5kZWRQYXJhbXMiLCJleHBhbmRlZCIsImV4cGFuZFZhbEFycmF5IiwiQ29uZCIsImNvbmQiLCJpZlRydWUiLCJpZkZhbHNlIiwiTWVkaWFUZXN0IiwiZXZhbE1lZGlhVGVzdCIsIlBhcmFtIiwiYW5kIiwidjEiLCJ2MiIsImFkZCIsInN1YiIsIm11bCIsImRpdiIsIlZpc2l0b3IiLCJ2aXNpdCIsImVtcHR5Iiwic2xhc2giLCJpZGVudCIsIm51bWVyaWMiLCJ2aXNpdE51bSIsImNvbG9yIiwiZnVuYyIsImV4cHIiLCJGaWx0ZXJWaXNpdG9yIiwiYmVmb3JlIiwidmlzaXRWYWx1ZXMiLCJTcGFjZUxpc3QiLCJDb21tYUxpc3QiLCJGdW5jIiwidmlzaXRvciIsIkVtcHR5IiwiRXhwcnMuQ29uc3QiLCJ2aXNpdEVtcHR5IiwiU2xhc2giLCJ2aXNpdFNsYXNoIiwiU3RyIiwidmlzaXRTdHIiLCJuYW1lVGFibGUiLCJJZGVudCIsInZpc2l0SWRlbnQiLCJnZXROYW1lIiwiRXhwcnMuTXVsdGlwbHkiLCJFeHBycy5OdW1lcmljIiwidmlzaXROdW1lcmljIiwiTnVtIiwiSW50IiwidmlzaXRJbnQiLCJDb2xvciIsInJnYiIsInZpc2l0Q29sb3IiLCJVUkwiLCJ2aXNpdFVSTCIsImFwcGVuZExpc3QiLCJzZXBhcmF0b3IiLCJ2aXNpdFNwYWNlTGlzdCIsInZpc2l0Q29tbWFMaXN0IiwidmlzaXRGdW5jIiwiRXhwciIsInZpc2l0RXhwciIsInRvTnVtYmVyIiwiaXNOdW1lcmljIiwiaXNOdW0iLCJjb252ZXJ0TnVtZXJpY1RvUHgiLCJhYnNvbHV0ZSIsImFsbCIsImFsd2F5cyIsImF1dG8iLCJhdm9pZCIsImJhbGFuY2UiLCJiYWxhbmNlX2FsbCIsImJsb2NrIiwiYmxvY2tfZW5kIiwiYmxvY2tfc3RhcnQiLCJib3RoIiwiYm90dG9tIiwiYm9yZGVyX2JveCIsImJyZWFrX2FsbCIsImJyZWFrX3dvcmQiLCJjcm9wIiwiY3Jvc3MiLCJjb2x1bW4iLCJleGNsdXNpdmUiLCJmaXhlZCIsImZsZXgiLCJmb290bm90ZSIsImZvb3RlciIsImhlYWRlciIsImhvcml6b250YWxfdGIiLCJpbmhlcml0IiwiaW5saW5lIiwiaW5saW5lX2Jsb2NrIiwiaW5saW5lX2VuZCIsImlubGluZV9zdGFydCIsImxhbmRzY2FwZSIsImxlZnQiLCJsaW5lIiwibGlzdF9pdGVtIiwibHRyIiwibWFudWFsIiwibm9uZSIsIm5vcm1hbCIsIm9lYl9wYWdlX2Zvb3QiLCJvZWJfcGFnZV9oZWFkIiwicGFnZSIsInJlbGF0aXZlIiwicmlnaHQiLCJzYW1lIiwic25hcF9ibG9jayIsInNwcmVhZCIsIl9zdGF0aWMiLCJydGwiLCJ0YWJsZSIsInRhYmxlX2NhcHRpb24iLCJ0YWJsZV9jZWxsIiwidGFibGVfZm9vdGVyX2dyb3VwIiwidGFibGVfaGVhZGVyX2dyb3VwIiwidGFibGVfcm93IiwidG9wIiwidHJhbnNwYXJlbnQiLCJ2ZXJ0aWNhbF9sciIsInZlcnRpY2FsX3JsIiwiaHVuZHJlZFBlcmNlbnQiLCJmdWxsV2lkdGgiLCJmdWxsSGVpZ2h0IiwibnVtZXJpY1plcm8iLCJwcm9jZXNzaW5nT3JkZXIiLCJmb250LXNpemUiLCJwcm9jZXNzaW5nT3JkZXJGbiIsIm5hbWUxIiwibmFtZTIiLCJNQVhfVkFMVUUiLCJSZWN0IiwieDEiLCJ5MSIsIngyIiwieTIiLCJQb2ludCIsIkluc2V0cyIsIlNlZ21lbnQiLCJsb3ciLCJ3aW5kaW5nIiwic2hhcGVJZCIsIkJhbmQiLCJzZWdtZW50Q29tcGFyZSIsInMxIiwiczIiLCJTaGFwZSIsInBvaW50cyIsInByZXYiLCJvZmZzZXRYIiwib2Zmc2V0WSIsInNoYXBlRm9yRWxsaXBzZSIsImN4IiwiY3kiLCJyeCIsInJ5IiwiUEkiLCJzaW4iLCJjb3MiLCJzaGFwZUZvclJlY3QiLCJCYW5kSW50ZXJzZWN0aW9uIiwibG93T3JIaWdoIiwiaW50ZXJzZWN0WSIsImFkZEJhbmRJbnRlcnNlY3Rpb25zIiwiaW50ZXJzZWN0aW9ucyIsIncxIiwidzIiLCJtZXJnZUludGVyc2VjdGlvbnMiLCJpbmNsdWRlQ291bnQiLCJleGNsdWRlQ291bnQiLCJzaGFwZUNvdW50Iiwid2luZGluZ3MxIiwid2luZGluZ3MyIiwieHJhbmdlcyIsImluc2lkZSIsImludGVyc2VjdGlvbkNvdW50IiwiaW50ZXJzZWN0aW9uIiwic3RpbGxJbnNpZGUiLCJyb3RhdGVCb3giLCJib3giLCJ1bnJvdGF0ZUJveCIsInJvdGF0ZVNoYXBlIiwic2hhcGUiLCJwb2ludCIsInJvdGF0ZVBvaW50Iiwibm9ybWFsaXplIiwiYmFuZHMiLCJjdXJyQmFuZCIsInByZXZCYW5kIiwiZmluZEJhbmQiLCJtaWQiLCJmaW5kVXBwZXJtb3N0RnVsbHlPcGVuUmVjdCIsInJlY3QiLCJiYW5kIiwidG9wRWRnZSIsImJvdHRvbUVkZ2UiLCJmaW5kQm90dG9tbW9zdEZ1bGx5T3BlblJlY3QiLCJTZXRWaXNpdG9yIiwiQ3NzLlZpc2l0b3IiLCJwcm9wU2V0IiwiSW50VmlzaXRvciIsInRvSW50IiwiZGVmIiwiU2hhcGVWaXNpdG9yIiwiY29sbGVjdCIsImNvb3JkcyIsIkNzcy5OdW1lcmljIiwiaGVpZ2h0IiwibnVtYmVycyIsImNvb3JkIiwiR2VvbWV0cnlVdGlsLlBvaW50IiwiR2VvbWV0cnlVdGlsLlNoYXBlIiwiR2VvbWV0cnlVdGlsLnNoYXBlRm9yUmVjdCIsIkdlb21ldHJ5VXRpbC5zaGFwZUZvckVsbGlwc2UiLCJ0b1NoYXBlIiwiZ2V0U2hhcGUiLCJDb3VudGVyc1Zpc2l0b3IiLCJyZXNldCIsImNvdW50ZXJzIiwidG9Db3VudGVycyIsIlVybFRyYW5zZm9ybVZpc2l0b3IiLCJDc3MuRmlsdGVyVmlzaXRvciIsImJhc2VVcmwiLCJ0cmFuc2Zvcm1lciIsIkNzcy5VUkwiLCJ0cmFuc2Zvcm1VUkwiLCJjbG9uZUNvdW50ZXJWYWx1ZXMiLCJUYXJnZXRDb3VudGVyUmVmZXJlbmNlIiwidGFyZ2V0SWQiLCJyZXNvbHZlZCIsInNwaW5lSW5kZXgiLCJwYWdlSW5kZXgiLCJDb3VudGVyTGlzdGVuZXIiLCJjb3VudGVyU3RvcmUiLCJkb2N1bWVudFVSTFRyYW5zZm9ybWVyIiwidHJhbnNmb3JtRnJhZ21lbnQiLCJjb3VudGVyc0J5SWQiLCJnZXRFeHByQ29udGVudExpc3RlbmVyIiwiQ291bnRlclJlc29sdmVyIiwicGFnZVNjb3BlIiwic3R5bGVyIiwidHJhbnNmb3JtZWRJZCIsIkJhc2UucmVzb2x2ZVVSTCIsImZvcm1hdCIsInNlbGYiLCJFeHBycy5OYXRpdmUiLCJjdXJyZW50UGFnZUNvdW50ZXJzIiwicmVnaXN0ZXJQYWdlQ291bnRlckV4cHIiLCJsb29rRm9yRWxlbWVudCIsInRhcmdldENvdW50ZXJzIiwic3R5bGVVbnRpbElkSXNSZWFjaGVkIiwiY3VycmVudFBhZ2UiLCJlbGVtZW50c0J5SWQiLCJwYWdlQ291bnRlcnNCeUlkIiwiZ2V0RnJhZ21lbnQiLCJnZXRUcmFuc2Zvcm1lZElkIiwiZ2V0VGFyZ2V0Q291bnRlcnMiLCJjb3VudGVyc09mTmFtZSIsInBhZ2VDb3VudGVycyIsImdldFRhcmdldFBhZ2VDb3VudGVycyIsInJlc29sdmVSZWZlcmVuY2UiLCJwYWdlQ291bnRlcnNPZk5hbWUiLCJzYXZlUmVmZXJlbmNlT2ZDdXJyZW50UGFnZSIsImVsZW1lbnRDb3VudGVyc09mTmFtZSIsIkNvdW50ZXJTdG9yZSIsImNvdW50ZXJOYW1lIiwicGFnZU51bWJlciIsImNhc2NhZGVkUGFnZVN0eWxlIiwicmVzZXRNYXAiLCJwcmV2aW91c1BhZ2VDb3VudGVycyIsInJlc2V0VmFsIiwiQ3NzUHJvcC50b0NvdW50ZXJzIiwicmVzZXRDb3VudGVyTmFtZSIsImRlZmluZVBhZ2VDb3VudGVyIiwiaW5jcmVtZW50TWFwIiwiaW5jcmVtZW50IiwiaW5jcmVtZW50VmFsIiwiaW5jcmVtZW50Q291bnRlck5hbWUiLCJjb3VudGVyVmFsdWVzIiwiY3VycmVudFBhZ2VDb3VudGVyc1N0YWNrIiwidW5yZXNvbHZlZFJlZnMiLCJ1bnJlc29sdmVkUmVmZXJlbmNlcyIsInJlc29sdmVkUmVmcyIsInJlc29sdmVkUmVmZXJlbmNlcyIsInB1c2hlZCIsInJlZmVyZW5jZXNUb1NvbHZlIiwicmVzb2x2ZSIsIm5ld1JlZmVyZW5jZXNPZkN1cnJlbnRQYWdlIiwic29tZSIsImlkcyIsIm9sZFBhZ2VJbmRleCIsInBhZ2VJbmRpY2VzQnlJZCIsInVucmVzb2x2ZSIsInByZXZQYWdlQ291bnRlcnMiLCJpc1Jlc29sdmVkIiwiZXZlcnkiLCJlcXVhbHMiLCJyZWZzIiwiaWRSZWZzIiwicjEiLCJyMiIsInJlZmVyZW5jZXNUb1NvbHZlU3RhY2siLCJwYWdlc0NvdW50ZXJFeHBycyIsImV4cHJDb250ZW50TGlzdGVuZXIiLCJmaW5kSW5kZXgiLCJQQUdFU19DT1VOVEVSX0FUVFIiLCJ2aWV3cG9ydCIsInJvb3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwicGFnZXMiLCJMYXlvdXRDb25zdHJhaW50Iiwibm9kZUNvbnRleHQiLCJ2aWV3Tm9kZSIsImVzY2FwZVBhcnNlU2luZ2xlIiwiY29kZSIsImVzY2FwZVBhcnNlIiwiVG9rZW5UeXBlIiwiQWN0aW9uIiwiVG9rZW4iLCJFT0YiLCJtYWtlQWN0aW9ucyIsInNwZWMiLCJOYU4iLCJFTkQiLCJJTlZBTElEIiwiYWN0aW9uc05vcm1hbCIsIlNQQUNFIiwiQkFORyIsIlNUUjIiLCJIQVNIIiwiRE9MTEFSIiwiUEVSQ0VOVCIsIkFNUCIsIlNUUjEiLCJPX1BBUiIsIkNfUEFSIiwiU1RBUiIsIlBMVVMiLCJDT01NQSIsIk1JTlVTIiwiRE9UIiwiU0xBU0giLCJJTlQiLCJDT0xPTiIsIlNFTUlDT0wiLCJMVCIsIkVRIiwiR1QiLCJRTUFSSyIsIkFUIiwiSURFTlQiLCJPX0JSSyIsIkJTTEFTSCIsIkNfQlJLIiwiSEFUIiwiT19CUkMiLCJCQVIiLCJDX0JSQyIsIlRJTERFIiwiYWN0aW9uc0lkZW50IiwiRU5ESUROVCIsIkZVTkMiLCJDT05UIiwiSUROVEVTQyIsImFjdGlvbnNOdW1PckNsYXNzIiwiVE9DTEFTUyIsIlRPTlVNIiwiVE9JREVTIiwiYWN0aW9uc01pbnVzIiwiTUlOTUlOIiwiVE9JTlQiLCJUT0lERU5UIiwiYWN0aW9uc0lkZW50RXNjIiwiRU5ESURFUyIsIkNIS1BPU1MiLCJGVU5DRVMiLCJhY3Rpb25zSW50IiwiRU5ESU5UIiwiUENVTklUIiwiTlVNQkVSIiwiVU5JVCIsImFjdGlvbnNOdW1iZXIiLCJFTkROVU0iLCJhY3Rpb25zQ2hlY2tFcSIsIkVRVEFJTCIsImFjdGlvbnNDb2xvbiIsIkNPTF9DT0wiLCJhY3Rpb25zQmFyIiwiQkFSX0JBUiIsImFjdGlvbnNBbXAiLCJBTVBfQU1QIiwiYWN0aW9uc1NsYXNoIiwiQ09NTUVOVCIsImFjdGlvbnNDb21tZW50IiwiQ09NTVNUIiwiYWN0aW9uc0NvbW1lbnRTdGFyIiwiRU5ETk9USyIsImFjdGlvbnNNaW51c01pbnVzIiwiS0lMTDEiLCJhY3Rpb25zTHQiLCJMVF9CRyIsImFjdGlvbnNMdEJhbmciLCJMVF9CR19NIiwiYWN0aW9uc0x0QmFuZ01pbnVzIiwiS0lMTDIiLCJhY3Rpb25zSWRlbnRFc2NDaHIiLCJJREVTQ0giLCJhY3Rpb25zU3RyMSIsIkVORFNUUiIsIlNUUjFFU0MiLCJhY3Rpb25zU3RyMiIsIlNUUjJFU0MiLCJhY3Rpb25zU3RyMUVzYyIsIkVOREVTVFIiLCJDSEtQT1NOIiwiYWN0aW9uc1N0cjJFc2MiLCJhY3Rpb25zVVJMIiwiVVJMMiIsIlVSTDEiLCJhY3Rpb25zVVJMSW5zaWRlIiwiRU5EVVJMIiwiQ0hLU1AiLCJVUkxFU0MiLCJhY3Rpb25zVVJMSW5zaWRlMSIsIlRFUk1VUkwiLCJhY3Rpb25zVVJMSW5zaWRlMiIsImFjdGlvbnNVUkxUYWlsIiwiRklOVVJMIiwiSU5JVElBTF9JTkRFWF9NQVNLIiwiVG9rZW5pemVyIiwiaW5wdXQiLCJoYW5kbGVyIiwiaW5kZXhNYXNrIiwiYnVmZmVyIiwidGFpbCIsImZpbGxCdWZmZXIiLCJoZWFkIiwibmV3SW5kZXhNYXNrIiwibmV3QnVmZmVyIiwib2xkSW5kZXgiLCJuZXdJbmRleCIsInBvc2l0aW9uIiwidG9rZW4iLCJtbmVtb25pY3MiLCJyZWFsbG9jYXRlIiwiYWN0aW9ucyIsInRva2VuVHlwZSIsInRva2VuUG9zaXRpb24iLCJ0b2tlblRleHQiLCJ0b2tlbk51bSIsInNlZW5TcGFjZSIsImJhY2tzbGFzaFBvcyIsImNoYXJDb2RlIiwiU1RSIiwiQ0xBU1MiLCJCQU5HX0VRIiwiTlVNIiwiTlVNRVJJQyIsInByZWNlZGVkQnlTcGFjZSIsInByaXZhdGVDdXJyZW50VGFzayIsInByaW1hcnlTY2hlZHVsZXIiLCJjdXJyZW50VGFzayIsIm5ld0ZyYW1lIiwidGFzayIsImZyYW1lIiwiRnJhbWUiLCJzdGF0ZSIsIkZyYW1lU3RhdGUiLCJBQ1RJVkUiLCJuZXdSZXN1bHQiLCJTeW5jUmVzdWx0SW1wbCIsImhhbmRsZSIsIm9uRXJyIiwicmFpc2UiLCJvcHRfbmFtZSIsImdldFNjaGVkdWxlciIsIm9wdF90aW1lciIsIlNjaGVkdWxlciIsIlRpbWVySW1wbCIsIm5ld1NjaGVkdWxlciIsInJ1biIsInZhbHVlT2YiLCJkZWxheSIsInRpbWVyIiwiQmFzZS5Qcmlvcml0eVF1ZXVlIiwiY3VycmVudFRpbWUiLCJzbGljZU92ZXJUaW1lIiwiaW5UaW1lU2xpY2UiLCJuZXdUaW1lIiwicGVlayIsInNjaGVkdWxlZFRpbWUiLCJ0aW1lb3V0VG9rZW4iLCJ3YWtldXBUaW1lIiwiZG9UaW1lU2xpY2UiLCJjb250aW51YXRpb24iLCJvcHRfZGVsYXkiLCJvcmRlciIsImFybSIsImNhbmNlbGVkIiwicmVzdW1lSW50ZXJuYWwiLCJUYXNrIiwidGhlbiIsImRvbmUiLCJydW5uaW5nIiwiY2FsbGJhY2siLCJjYWxsYmFja3MiLCJzYXZlZFRhc2siLCJzY2hlZHVsZSIsInN1c3BlbmQiLCJDb250aW51YXRpb24iLCJvdGhlckNvbXAiLCJmaW5pc2giLCJ3YWl0VGFyZ2V0Iiwid2hlbkRvbmUiLCJleGNlcHRpb24iLCJvcHRfZnJhbWUiLCJmaWxsU3RhY2siLCJ1bndpbmQiLCJvdXQiLCJSZXN1bHRJbXBsIiwiaXNQZW5kaW5nIiwicmVzMSIsInJlczIiLCJyZXMiLCJ0aGVuQXN5bmMiLCJJTklUIiwiY2hlY2tFbnZpcm9ubWVudCIsIkZJTklTSEVEIiwiREVBRCIsImlzVGltZVNsaWNlT3ZlciIsInN0ZXAiLCJtb3JlIiwibG9vcCIsIkxvb3BCb2R5RnJhbWUiLCJvcHRfd2FpdFRhcmdldCIsIkZldGNoZXIiLCJmZXRjaCIsIlRhc2suY3VycmVudFRhc2siLCJUYXNrLm5ld0ZyYW1lIiwicmVzb3VyY2UiLCJwaWdnaWJhY2tzIiwicGlnZ3liYWNrcyIsImFycml2ZWQiLCJUYXNrLm5ld1Jlc3VsdCIsIndhaXRGb3JGZXRjaGVycyIsImZldGNoZXJzIiwidGhlblJldHVybiIsImZldGNoZXIiLCJoYXNBcnJpdmVkIiwibG9hZEVsZW1lbnQiLCJzcmMiLCJsb2NhbE5hbWUiLCJCYXNlLk5TIiwiU1ZHIiwiWExJTksiLCJYTUxIdHRwUmVxdWVzdFJlc3BvbnNlVHlwZSIsImFqYXgiLCJvcHRfdHlwZSIsIm9wdF9tZXRob2QiLCJvcHRfZGF0YSIsIm9wdF9jb250ZW50VHlwZSIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsInJlc3BvbnNlIiwic3RhdHVzVGV4dCIsImNvbnRlbnRUeXBlIiwicmVzcG9uc2VUZXh0IiwicmVzcG9uc2VYTUwiLCJyZXNwb25zZUJsb2IiLCJyZXNwb25zZVR5cGUiLCJyZWFkeVN0YXRlIiwiRE9DVU1FTlQiLCJIVE1MRG9jdW1lbnQiLCJURVhUIiwibWFrZUJsb2IiLCJjb250ZW50VHlwZUhlYWRlciIsImdldFJlc3BvbnNlSGVhZGVyIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJvdmVycmlkZU1pbWVUeXBlIiwicGFydHMiLCJidWlsZGVyQ3RyIiwiV2ViS2l0QmxvYkJ1aWxkZXIiLCJNU0Jsb2JCdWlsZGVyIiwiYnVpbGRlciIsImdldEJsb2IiLCJCbG9iIiwiUmVzb3VyY2VTdG9yZSIsInBhcnNlciIsIm9wdF9yZXF1aXJlZCIsIm9wdF9tZXNzYWdlIiwiQmFzZS5zdHJpcEZyYWdtZW50IiwicmVzb3VyY2VzIiwiaXNUb2NCb3giLCJlbmRzV2l0aCIsInVzZXJBZ2VudFhtbFVybCIsIkJhc2UucmVzb3VyY2VCYXNlVVJMIiwiaXNVc2VyQWdlbnRYbWwiLCJVc2VyQWdlbnRYbWwiLCJUYXNrVXRpbC5GZXRjaGVyIiwiZmV0Y2hJbm5lciIsInBhcnNlSlNPTlJlc291cmNlIiwic3RvcmUiLCJCYXNlLnN0cmluZ1RvSlNPTiIsIlNQRUNJRklDSVRZX1VTRVJfQUdFTlQiLCJTUEVDSUZJQ0lUWV9VU0VSIiwiU1BFQ0lGSUNJVFlfQVVUSE9SIiwiU1BFQ0lGSUNJVFlfU1RZTEUiLCJTUEVDSUZJQ0lUWV9TVFlMRV9JTVBPUlRBTlQiLCJTUEVDSUZJQ0lUWV9BVVRIT1JfSU1QT1JUQU5UIiwiU1BFQ0lGSUNJVFlfVVNFUl9JTVBPUlRBTlQiLCJTdHlsZXNoZWV0Rmxhdm9yIiwiY29sb3JGcm9tSGFzaCIsIkNzcy5Db2xvciIsIlBhcnNlckhhbmRsZXIiLCJmbGF2b3IiLCJBVVRIT1IiLCJucyIsIm9wIiwicHNldWRvZWxlbSIsInN0YXJ0V2hlblJ1bGUiLCJmbG93TmFtZSIsInBzZXVkb05hbWUiLCJjbGFzc2VzIiwiaW1wb3J0YW50IiwiZnVuY05hbWUiLCJVU0VSX0FHRU5UIiwiVVNFUiIsIkRpc3BhdGNoUGFyc2VySGFuZGxlciIsInNsYXZlIiwidG9rZW5pemVyIiwiZ2V0U2NvcGUiLCJzdGFydFN0eWxlc2hlZXQiLCJ0YWdTZWxlY3RvciIsImNsYXNzU2VsZWN0b3IiLCJwc2V1ZG9jbGFzc1NlbGVjdG9yIiwicHNldWRvZWxlbWVudFNlbGVjdG9yIiwiaWRTZWxlY3RvciIsImF0dHJpYnV0ZVNlbGVjdG9yIiwiZGVzY2VuZGFudFNlbGVjdG9yIiwiY2hpbGRTZWxlY3RvciIsImFkamFjZW50U2libGluZ1NlbGVjdG9yIiwiZm9sbG93aW5nU2libGluZ1NlbGVjdG9yIiwibmV4dFNlbGVjdG9yIiwic3RhcnRTZWxlY3RvclJ1bGUiLCJzdGFydEZvbnRGYWNlUnVsZSIsInN0YXJ0Rm9vdG5vdGVSdWxlIiwic3RhcnRWaWV3cG9ydFJ1bGUiLCJzdGFydERlZmluZVJ1bGUiLCJzdGFydFJlZ2lvblJ1bGUiLCJzdGFydFBhZ2VSdWxlIiwic3RhcnRQYWdlTWFyZ2luQm94UnVsZSIsInN0YXJ0Rmxvd1J1bGUiLCJzdGFydFBhZ2VUZW1wbGF0ZVJ1bGUiLCJzdGFydFBhZ2VNYXN0ZXJSdWxlIiwic3RhcnRQYXJ0aXRpb25SdWxlIiwic3RhcnRQYXJ0aXRpb25Hcm91cFJ1bGUiLCJzdGFydFJ1bGVCb2R5IiwicHJvcGVydHkiLCJlbmRSdWxlIiwic3RhcnRGdW5jV2l0aFNlbGVjdG9yIiwiZW5kRnVuY1dpdGhTZWxlY3RvciIsIlNraXBwaW5nUGFyc2VySGFuZGxlciIsInRvcExldmVsIiwiZ2V0Q3VycmVudFRva2VuIiwiZXJyb3JNc2ciLCJkZXB0aCIsInBvcEhhbmRsZXIiLCJTbGF2ZVBhcnNlckhhbmRsZXIiLCJyZXBvcnQiLCJwdXNoSGFuZGxlciIsInJlcG9ydEFuZFNraXAiLCJhY3Rpb25zQmFzZSIsImFjdGlvbnNTdHlsZUF0dHJpYnV0ZSIsImFjdGlvbnNTZWxlY3RvciIsImFjdGlvbnNTZWxlY3RvckluRnVuYyIsImFjdGlvbnNTZWxlY3RvckNvbnQiLCJhY3Rpb25zU2VsZWN0b3JTdGFydCIsImFjdGlvbnNQcm9wVmFsIiwiYWN0aW9uc0V4cHJWYWwiLCJhY3Rpb25zRXhwck9wIiwiYWN0aW9uc0Vycm9yIiwiYWN0aW9uc0Vycm9yRGVjbCIsImFjdGlvbnNFcnJvclNlbGVjdG9yIiwiT1BfTUVESUFfQU5EIiwiQ3NzVG9rZW5pemVyLlRva2VuVHlwZSIsIkxBU1QiLCJFeHByQ29udGV4dCIsIlNFTEVDVE9SX1NUQVJUIiwiUlVMRV9FTkQiLCJET05FIiwiUFJPUCIsIlNFTEVDVE9SX05BTUUiLCJTRUxFQ1RPUl9BTlkiLCJTRUxFQ1RPUl9JRCIsIlNFTEVDVE9SX0NMQVNTIiwiU0VMRUNUT1JfQVRUUiIsIlNFTEVDVE9SX1BTRVVET0NMQVNTIiwiU0VMRUNUT1JfQ0hJTEQiLCJTRUxFQ1RPUl9TSUJMSU5HIiwiU0VMRUNUT1JfRk9MTE9XSU5HX1NJQkxJTkciLCJTRUxFQ1RPUl9OQU1FXzEiLCJTRUxFQ1RPUl9BTllfMSIsIlNFTEVDVE9SX0lEXzEiLCJTRUxFQ1RPUl9DTEFTU18xIiwiU0VMRUNUT1JfQVRUUl8xIiwiU0VMRUNUT1JfQk9EWSIsIlNFTEVDVE9SX1BTRVVET0NMQVNTXzEiLCJTRUxFQ1RPUl9QU0VVRE9FTEVNIiwiU0VMRUNUT1JfTkVYVCIsIlZBTF9JREVOVCIsIlZBTF9IQVNIIiwiVkFMX05VTSIsIlZBTF9JTlQiLCJWQUxfTlVNRVJJQyIsIlZBTF9TVFIiLCJWQUxfVVJMIiwiVkFMX0NPTU1BIiwiVkFMX1NMQVNIIiwiVkFMX0ZVTkMiLCJWQUxfQ19QQVIiLCJWQUxfRU5EIiwiVkFMX0JSQyIsIlZBTF9CQU5HIiwiVkFMX1BMVVMiLCJWQUxfRklOSVNIIiwiRVhQUl9JREVOVCIsIkVYUFJfTlVNIiwiRVhQUl9OVU1FUklDIiwiRVhQUl9TVFIiLCJFWFBSX09fUEFSIiwiRVhQUl9GVU5DIiwiRVhQUl9QUkVGSVgiLCJFWFBSX1BBUkFNIiwiRVhQUl9JTkZJWF9OQU1FIiwiRVhQUl9JTkZJWCIsIkdUX0VRIiwiTFRfRVEiLCJFUV9FUSIsIkVYUFJfQ19QQVIiLCJFWFBSX09fQlJDIiwiRVhQUl9TRU1JQ09MIiwiRVJST1JfUFVTSCIsIkVSUk9SX1BPUCIsIkVSUk9SX1NFTUlDT0wiLCJFUlJPUl9QT1BfREVDTCIsIlBhcnNlciIsImV4cHJDb250ZXh0IiwiTUVESUEiLCJzZXAiLCJ2YWxTdGFjayIsImNvdW50IiwiQ3NzLlNwYWNlTGlzdCIsIkNzcy5GdW5jIiwiZXh0cmFjdFZhbHMiLCJDc3MuQ29tbWFMaXN0IiwicHJvcE5hbWUiLCJ2YWwyIiwidG9rIiwiZTEiLCJlMiIsImVyIiwiRXhwcnMuT3JNZWRpYSIsIkNzcy5FeHByIiwiRXhwcnMuQ2FsbCIsIkV4cHJzLm1ha2VRdWFsaWZpZWROYW1lIiwiaXNNZWRpYU5hbWUiLCJFeHBycy5NZWRpYVRlc3QiLCJFeHBycy5Ob3QiLCJleHByRXJyb3IiLCJFeHBycy5OZWdhdGUiLCJFeHBycy5BbmQiLCJFeHBycy5BbmRNZWRpYSIsIkV4cHJzLk9yIiwiRXhwcnMuTHQiLCJFeHBycy5HdCIsIkV4cHJzLkxlIiwiRXhwcnMuR2UiLCJFeHBycy5FcSIsIkV4cHJzLk5lIiwiRXhwcnMuQWRkIiwiRXhwcnMuU3VidHJhY3QiLCJFeHBycy5EaXZpZGUiLCJFeHBycy5Nb2R1bG8iLCJFeHBycy5Db25kIiwiY29uc3VtZSIsImhhc0xlYWRpbmdQbHVzIiwiaGFzTWludXNTaWduIiwiaGFzU2lnbiIsImNvbmRpdGlvbiIsIkV4cHJzLmFuZCIsIkV4cHJzLk5hbWVkIiwicnVsZVN0YWNrIiwicGFyc2luZ1ZhbHVlIiwicGFyc2luZ1N0eWxlQXR0ciIsInBhcnNpbmdNZWRpYVF1ZXJ5IiwicGFyc2luZ0Z1bmN0aW9uUGFyYW0iLCJ0b2tlbjEiLCJwYXJzZXJMb29wIiwibnRoVG9rZW4iLCJpc0luc2lkZVByb3BlcnR5T25seVJ1bGUiLCJtYXJrIiwicHJvcEltcG9ydGFudCIsIm5hbWVzcGFjZVByZWZpeFRvVVJJIiwiZGVmYXVsdE5hbWVzcGFjZVVSSSIsInBzZXVkb2NsYXNzVHlwZSIsInJ1blBhcnNlciIsIlBPU0lUSVZFX0lORklOSVRZIiwicmVhZE50aFBzZXVkb1BhcmFtcyIsInJlYWRQc2V1ZG9QYXJhbXMiLCJUSUxERV9FUSIsIkJBUl9FUSIsIkhBVF9FUSIsIkRPTExBUl9FUSIsIlNUQVJfRVEiLCJyZWdpb25SdWxlIiwicGFnZVJ1bGUiLCJDc3MuZ2V0TmFtZSIsIkNzcy5OdW0iLCJDc3MuSW50IiwiRXhwcnMuaXNWaWV3cG9ydFJlbGF0aXZlTGVuZ3RoVW5pdCIsIkNzcy5TdHIiLCJ2YWxTdGFja1JlZHVjZSIsIkNzcy5zbGFzaCIsImhhc01hcmsiLCJ1bm1hcmsiLCJJTVBPUlQiLCJFeHBycy5NZWRpYU5hbWUiLCJFeHBycy5QYXJhbSIsImV4cHJTdGFja1JlZHVjZSIsIldIRU4iLCJzdGFydE1lZGlhUnVsZSIsImltcG9ydENvbmRpdGlvbiIsImltcG9ydFJlYWR5IiwiaW1wb3J0VVJMIiwicnVsZU5hbWUiLCJydWxlUHNldWRvTmFtZSIsImVycm9yQnJhY2tldHMiLCJFcnJvckhhbmRsZXIiLCJwYXJzZVN0eWxlc2hlZXQiLCJtZWRpYSIsInBhcnNlTWVkaWFRdWVyeSIsIkNzc1Rva2VuaXplci5Ub2tlbml6ZXIiLCJtYWtlQ29uZGl0aW9uIiwidG9FeHByIiwicmVzb2x2ZWRVUkwiLCJpbm5lckZyYW1lIiwicGFyc2VTdHlsZXNoZWV0RnJvbVVSTCIsInRpbWVTbGljZSIsInBhcnNlU3R5bGVzaGVldEZyb21UZXh0IiwiVGFzay5oYW5kbGUiLCJ0aGVuRmluaXNoIiwiTmV0LmFqYXgiLCJ4aHIiLCJwYXJzZVZhbHVlIiwibnVtUHJvcCIsInotaW5kZXgiLCJjb2x1bW4tY291bnQiLCJmbG93LWxpbmdlciIsIm9wYWNpdHkiLCJmbG93LXByaW9yaXR5IiwidXRpbGl6YXRpb24iLCJldmFsdWF0ZUV4cHJUb0NTUyIsInRha2VzT25seU51bSIsIkNzcy5lbXB0eSIsIkNzcy5pZGVudCIsImV2YWx1YXRlQ1NTVG9DU1MiLCJpc0V4cHIiLCJtYXRjaEFOUGx1c0IiLCJBbnlNYXRjaGVyIiwibWF0Y2hlcnMiLCJtYXRjaGVyIiwibWF0Y2hlcyIsIkFsbE1hdGNoZXIiLCJOdGhGcmFnbWVudE1hdGNoZXIiLCJlbGVtZW50T2Zmc2V0IiwiZnJhZ21lbnRJbmRleCIsImluZGljZXMiLCJmcmFnbWVudEluZGljZXMiLCJlbnRyeSIsIk1hdGNoZXJCdWlsZGVyIiwidmlld0NvbmRpdGlvbiIsInN0cnMiLCJpbmhlcml0ZWRQcm9wcyIsImF6aW11dGgiLCJib3JkZXItY29sbGFwc2UiLCJib3JkZXItc3BhY2luZyIsImNhcHRpb24tc2lkZSIsImNsaXAtcnVsZSIsImNvbG9yLWludGVycG9sYXRpb24iLCJjb2xvci1yZW5kZXJpbmciLCJjdXJzb3IiLCJkaXJlY3Rpb24iLCJlbGV2YXRpb24iLCJlbXB0eS1jZWxscyIsImZpbGwiLCJmaWxsLW9wYWNpdHkiLCJmaWxsLXJ1bGUiLCJmb250LWtlcm5pbmciLCJmb250LXNpemUtYWRqdXN0IiwiZm9udC1mYW1pbHkiLCJmb250LWZlYXR1cmUtc2V0dGluZ3MiLCJmb250LXN0eWxlIiwiZm9udC1zdHJldGNoIiwiZm9udC12YXJpYW50IiwiZm9udC13ZWlnaHQiLCJnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCIsImh5cGhlbnMiLCJoeXBoZW5hdGUtY2hhcmFjdGVyIiwiaHlwaGVuYXRlLWxpbWl0LWNoYXJzIiwiaHlwaGVuYXRlLWxpbWl0LWxhc3QiLCJpbWFnZS1yZW5kZXJpbmciLCJpbWFnZS1yZXNvbHV0aW9uIiwibGV0dGVyLXNwYWNpbmciLCJsaW5lLWJyZWFrIiwibGluZS1oZWlnaHQiLCJsaXN0LXN0eWxlLWltYWdlIiwibGlzdC1zdHlsZS1wb3NpdGlvbiIsImxpc3Qtc3R5bGUtdHlwZSIsIm1hcmtlciIsIm1hcmtlci1lbmQiLCJtYXJrZXItbWlkIiwibWFya2VyLXN0YXJ0Iiwib3JwaGFucyIsIm92ZXJmbG93LXdyYXAiLCJwYWludC1vcmRlciIsInBvaW50ZXItZXZlbnRzIiwicGl0Y2gtcmFuZ2UiLCJxdW90ZXMiLCJyaWNobmVzcyIsInJ1YnktYWxpZ24iLCJydWJ5LXBvc2l0aW9uIiwic3BlYWstaGVhZGVyIiwic3BlYWstbnVtZXJhbCIsInNwZWFrLXB1bmN0dWF0aW9uIiwic3BlZWNoLXJhdGUiLCJzaGFwZS1yZW5kZXJpbmciLCJzdHJlc3MiLCJzdHJva2UiLCJzdHJva2UtZGFzaGFycmF5Iiwic3Ryb2tlLWRhc2hvZmZzZXQiLCJzdHJva2UtbGluZWNhcCIsInN0cm9rZS1saW5lam9pbiIsInN0cm9rZS1taXRlcmxpbWl0Iiwic3Ryb2tlLW9wYWNpdHkiLCJzdHJva2Utd2lkdGgiLCJ0YWItc2l6ZSIsInRleHQtYWxpZ24iLCJ0ZXh0LWFsaWduLWxhc3QiLCJ0ZXh0LWFuY2hvciIsInRleHQtZGVjb3JhdGlvbi1za2lwIiwidGV4dC1lbXBoYXNpcy1jb2xvciIsInRleHQtZW1waGFzaXMtcG9zaXRpb24iLCJ0ZXh0LWVtcGhhc2lzLXN0eWxlIiwidGV4dC1jb21iaW5lLXVwcmlnaHQiLCJ0ZXh0LWluZGVudCIsInRleHQtanVzdGlmeSIsInRleHQtcmVuZGVyaW5nIiwidGV4dC1zaXplLWFkanVzdCIsInRleHQtdHJhbnNmb3JtIiwidGV4dC11bmRlcmxpbmUtcG9zaXRpb24iLCJ2aXNpYmlsaXR5Iiwidm9pY2UtZmFtaWx5Iiwidm9sdW1lIiwid2hpdGUtc3BhY2UiLCJ3aWRvd3MiLCJ3b3JkLWJyZWFrIiwid29yZC1zcGFjaW5nIiwid29yZC13cmFwIiwid3JpdGluZy1tb2RlIiwicG9seWZpbGxlZEluaGVyaXRlZFByb3BzIiwic3VwcG9ydGVkTmFtZXNwYWNlcyIsImh0dHA6Ly93d3cuaWRwZi5vcmcvMjAwNy9vcHMiLCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJjb3VwbGVkUGF0dGVybnMiLCJjb3VwbGVkRXh0ZW50UGF0dGVybnMiLCJnZW9tTmFtZXMiLCJzaWRlcyIsIm5hbWVzIiwibWF4LXdpZHRoIiwibWF4LWhlaWdodCIsIm1pbi13aWR0aCIsIm1pbi1oZWlnaHQiLCJidWlsZENvdXBsaW5nTWFwIiwic2lkZU1hcCIsImV4dGVudE1hcCIsInBhdHRlcm4iLCJzaWRlIiwiZXh0ZW50UGF0dGVybiIsImV4dGVudCIsImNvdXBsaW5nTWFwVmVydCIsImJsb2NrLXN0YXJ0IiwiYmxvY2stZW5kIiwiaW5saW5lLXN0YXJ0IiwiaW5saW5lLWVuZCIsImJsb2NrLXNpemUiLCJpbmxpbmUtc2l6ZSIsImNvdXBsaW5nTWFwSG9yIiwiY291cGxpbmdNYXBWZXJ0UnRsIiwiY291cGxpbmdNYXBIb3JSdGwiLCJDYXNjYWRlVmFsdWUiLCJzcGVjaWZpY2l0eSIsIkNzc1BhcnNlci5ldmFsdWF0ZUNTU1RvQ1NTIiwiQ29uZGl0aW9uYWxDYXNjYWRlVmFsdWUiLCJjYXNjYWRlVmFsdWVzIiwidHYiLCJhdiIsImlzRW5hYmxlZCIsImdldEJhc2VWYWx1ZSIsIlNQRUNJQUxTIiwicmVnaW9uLWlkIiwiZnJhZ21lbnQtc2VsZWN0b3ItaWQiLCJpc1NwZWNpYWxOYW1lIiwiaXNNYXBOYW1lIiwiaXNQcm9wTmFtZSIsImlzSW5oZXJpdGVkIiwiZ2V0UHJvcCIsInNldFByb3AiLCJnZXRTdHlsZU1hcCIsImdldE11dGFibGVTdHlsZU1hcCIsImdldFZpZXdDb25kaXRpb25hbFN0eWxlTWFwIiwiX3ZpZXdDb25kaXRpb25hbFN0eWxlcyIsImdldFNwZWNpYWwiLCJnZXRNdXRhYmxlU3BlY2lhbCIsIm1lcmdlSW4iLCJwc2V1ZG9lbGVtZW50IiwicmVnaW9uSWQiLCJ2aWV3Q29uZGl0aW9uTWF0Y2hlciIsInN0eWxlS2V5Iiwic3R5bGVNYXAiLCJzdHlsZXMiLCJ0cyIsImluY3JlYXNlU3BlY2lmaWNpdHkiLCJjaGFpbkFjdGlvbnMiLCJjaGFpbiIsImNoYWluZWQiLCJJbmhlcml0YW5jZVZpc2l0b3IiLCJwcm9wcyIsIkV4cHJzLmlzQWJzb2x1dGVMZW5ndGhVbml0IiwiRXhwcnMuZGVmYXVsdFVuaXRTaXplcyIsInBhcmVudEZvbnRTaXplIiwiY29udmVydEZvbnRSZWxhdGl2ZUxlbmd0aFRvUHgiLCJjb252ZXJ0Rm9udFNpemVUb1B4IiwiZ2V0Rm9udFNpemUiLCJiYXNlRm9udFNpemUiLCJyYXRpbyIsIkNhc2NhZGVBY3Rpb24iLCJjYXNjYWRlSW5zdGFuY2UiLCJDb21wb3VuZEFjdGlvbiIsIkNvbmRpdGlvbkl0ZW1BY3Rpb24iLCJjb25kaXRpb25JdGVtIiwicHVzaENvbmRpdGlvbkl0ZW0iLCJmcmVzaCIsIkFwcGx5UnVsZUFjdGlvbiIsInZpZXdDb25kaXRpb25JZCIsImN1cnJlbnRTdHlsZSIsImJ1aWxkVmlld0NvbmRpdGlvbk1hdGNoZXIiLCJDaGFpbmVkQWN0aW9uIiwiY2FzY2FkZSIsIkNoZWNrQ2xhc3NBY3Rpb24iLCJjdXJyZW50Q2xhc3NOYW1lcyIsImluY2x1ZGVzIiwiaW5zZXJ0SW5UYWJsZSIsIkNoZWNrSWRBY3Rpb24iLCJjdXJyZW50SWQiLCJjdXJyZW50WG1sSWQiLCJDaGVja0xvY2FsTmFtZUFjdGlvbiIsImN1cnJlbnRMb2NhbE5hbWUiLCJ0YWdzIiwiQ2hlY2tOU1RhZ0FjdGlvbiIsImN1cnJlbnROYW1lc3BhY2UiLCJuc1ByZWZpeCIsIm5zQ291bnQiLCJuc1RhZyIsIm5zdGFncyIsIkNoZWNrVGFyZ2V0RXB1YlR5cGVBY3Rpb24iLCJlcHViVHlwZVBhdHQiLCJjdXJyZW50RWxlbWVudCIsImVwdWJUeXBlIiwiZXB1YiIsIkNoZWNrTmFtZXNwYWNlQWN0aW9uIiwiQ2hlY2tBdHRyaWJ1dGVQcmVzZW50QWN0aW9uIiwiaGFzQXR0cmlidXRlTlMiLCJDaGVja0F0dHJpYnV0ZUVxQWN0aW9uIiwiZXB1YnR5cGVzIiwiQ2hlY2tOYW1lc3BhY2VTdXBwb3J0ZWRBY3Rpb24iLCJDaGVja0F0dHJpYnV0ZVJlZ0V4cEFjdGlvbiIsIkNoZWNrTGFuZ0FjdGlvbiIsImxhbmdSZWdFeHAiLCJJc0ZpcnN0QWN0aW9uIiwiaXNGaXJzdCIsIklzUm9vdEFjdGlvbiIsIklzTnRoQWN0aW9uIiwiTWF0Y2hlcnMubWF0Y2hBTlBsdXNCIiwiSXNOdGhTaWJsaW5nT2ZUeXBlQWN0aW9uIiwiY3VycmVudFNpYmxpbmdUeXBlQ291bnRzIiwiSXNOdGhMYXN0U2libGluZ0FjdGlvbiIsImN1cnJlbnRGb2xsb3dpbmdTaWJsaW5nT3JkZXIiLCJjdXJyZW50U2libGluZ09yZGVyIiwiSXNOdGhMYXN0U2libGluZ09mVHlwZUFjdGlvbiIsImNvdW50cyIsImN1cnJlbnRGb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50cyIsIm5zQ291bnRzIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiSXNFbXB0eUFjdGlvbiIsIk5vZGUiLCJFTEVNRU5UX05PREUiLCJURVhUX05PREUiLCJJc0VuYWJsZWRBY3Rpb24iLCJJc0Rpc2FibGVkQWN0aW9uIiwiSXNDaGVja2VkQWN0aW9uIiwiQ2hlY2tDb25kaXRpb25BY3Rpb24iLCJjb25kaXRpb25zIiwiZGVwZW5kZW50Q29uZGl0aW9ucyIsIkNoZWNrQXBwbGllZEFjdGlvbiIsImFwcGxpZWQiLCJjbG9uZWQiLCJOZWdhdGVBY3Rpb25zU2V0IiwiY2hlY2tBcHBsaWVkQWN0aW9uIiwiZmlyc3RBY3Rpb24iLCJBYnN0cmFjdENvbmRpdGlvbkl0ZW0iLCJkZWNyZW1lbnQiLCJEZXNjZW5kYW50Q29uZGl0aW9uSXRlbSIsIkNoaWxkQ29uZGl0aW9uSXRlbSIsIkFkamFjZW50U2libGluZ0NvbmRpdGlvbkl0ZW0iLCJmaXJlZCIsIkZvbGxvd2luZ1NpYmxpbmdDb25kaXRpb25JdGVtIiwiQWZ0ZXJQc2V1ZG9lbGVtZW50SXRlbSIsImFmdGVycHJvcCIsInByb2Nlc3NQc2V1ZG9lbGVtZW50UHJvcHMiLCJSZXN0b3JlTGFuZ0l0ZW0iLCJRdW90ZXNTY29wZUl0ZW0iLCJvbGRRdW90ZXMiLCJBdHRyVmFsdWVGaWx0ZXJWaXNpdG9yIiwiYXR0cmlidXRlTmFtZSIsImRlZmF1bHRWYWx1ZSIsInN0cmluZ1ZhbHVlIiwiY3JlYXRlVmFsdWVGcm9tU3RyaW5nIiwiaGFzQXR0cmlidXRlIiwiQ29udGVudFByb3BWaXNpdG9yIiwiY291bnRlclJlc29sdmVyIiwibWF4RGVwdGgiLCJxdW90ZURlcHRoIiwidXBwZXIiLCJsb3dlciIsImFkZGl0aXZlTnVtYmVyaW5nIiwiZW50cmllcyIsImFkZGl0aXZlRm9ybWF0IiwiYWxwaGFiZXRpY051bWJlcmluZyIsImFscGhhYmV0U3RyIiwiYWxwaGFiZXQiLCJmaXJzdCIsImxhc3QiLCJleHBhbmRBbHBoYWJldCIsImRpZ2l0IiwiYWxwaGFiZXRpY0Zvcm1hdCIsIm51bWJlcmluZyIsImRpZ2l0cyIsIm5lZ2F0aXZlIiwiZm9ybWFsIiwibWFya2VycyIsInRob3VzYW5kcyIsImh1bmRyZWRzIiwidGVucyIsIm9uZXMiLCJjaGluZXNlQ291bnRlciIsImNoaW5lc2VUcmFkSW5mb3JtYWwiLCJudW12YWwiLCJnZXRQYWdlQ291bnRlclZhbCIsImdldFBhZ2VDb3VudGVyc1ZhbCIsIm51bXZhbHMiLCJlbGVtZW50Q291bnRlcnMiLCJ0YXJnZXRVcmwiLCJ0YXJnZXRVcmxTdHIiLCJnZXRUYXJnZXRDb3VudGVyVmFsIiwiZ2V0VGFyZ2V0Q291bnRlcnNWYWwiLCJ2aXNpdEZ1bmNDb3VudGVyIiwidmlzaXRGdW5jQ291bnRlcnMiLCJ2aXNpdEZ1bmNUYXJnZXRDb3VudGVyIiwidmlzaXRGdW5jVGFyZ2V0Q291bnRlcnMiLCJyb21hbiIsImFybWVuaWFuIiwiZ2VvcmdpYW4iLCJoZWJyZXciLCJsYXRpbiIsImFscGhhIiwiZ3JlZWsiLCJydXNzaWFuIiwic3F1YXJlIiwiZGlzYyIsImNpcmNsZSIsIk9SREVSX0lOQ1JFTUVOVCIsImNvcHlUYWJsZSIsImRzdCIsImNsb25lIiwiQ2FzY2FkZSIsInBhZ2V0eXBlcyIsIm1lcmdlV2l0aCIsImNvdW50ZXJMaXN0ZW5lciIsIkNhc2NhZGVJbnN0YW5jZSIsInNpYmxpbmdUeXBlQ291bnRzU3RhY2siLCJmb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFjayIsInZpZXdDb25kaXRpb25zIiwiZmlsdGVyIiwiY3VycmVudEVsZW1lbnRPZmZzZXQiLCJNYXRjaGVycy5NYXRjaGVyQnVpbGRlciIsImRlcGVuZGVudENvbmRpdGlvbk1hdGNoZXJzIiwiY29uZGl0aW9uSWQiLCJidWlsZEFueU1hdGNoZXIiLCJidWlsZEFsbE1hdGNoZXIiLCJwYWdlVHlwZSIsImJhc2VTdHlsZSIsImN1cnJlbnROU1RhZyIsImN1cnJlbnRFcHViVHlwZXMiLCJFTVBUWSIsImN1cnJlbnRQYWdlVHlwZSIsImFwcGx5QWN0aW9ucyIsInNjb3BpbmciLCJjb3VudGVyU2NvcGluZyIsImRpc3BsYXlWYWwiLCJzZXRNYXAiLCJzZXRWYWwiLCJkZWZpbmVDb3VudGVyIiwic2V0Q291bnRlck5hbWUiLCJsaXN0SXRlbUNvdW50cyIsImxpc3RJdGVtQ291bnQiLCJwc2V1ZG9wcm9wcyIsInB1c2hDb3VudGVycyIsImZpbHRlclZhbHVlIiwicG9wQ291bnRlcnMiLCJ0eXBlcyIsIkZCMiIsIkJhc2UuZ2V0TGFuZ0F0dHJpYnV0ZSIsInNpYmxpbmdPcmRlclN0YWNrIiwiY3VycmVudE5hbWVzcGFjZVR5cGVDb3VudHMiLCJmb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50c1N0YWNrIiwiYXBwbHlBdHRyRmlsdGVyIiwicXVvdGVzQ2FzYyIsIml0ZW1Ub1B1c2hMYXN0IiwicXVvdGVzVmFsIiwiY291bnRlcnNPZklkIiwicHNldWRvcyIsInBzZXVkb05hbWVzIiwicHNldWRvUHJvcHMiLCJlbGVtZW50U3R5bGUiLCJwc2V1ZG9NYXAiLCJhcHBseUF0dHJGaWx0ZXJJbm5lciIsImFwcGx5QWN0aW9uIiwiY3VycmVudERvYyIsIlBhcnNlU3RhdGUiLCJ1YUJhc2VDYXNjYWRlIiwiQ2FzY2FkZVBhcnNlckhhbmRsZXIiLCJDc3NQYXJzZXIuU2xhdmVQYXJzZXJIYW5kbGVyIiwidmFsaWRhdG9yU2V0IiwiVE9QIiwibWFrZVByaW1hcnkiLCJpbnNlcnROb25QcmltYXJ5IiwicGF0dCIsIkJhc2UuZXNjYXBlUmVnRXhwIiwiZm9vdG5vdGVDb250ZW50IiwibGFuZ1ZhbHVlIiwiQWN0aW9uQ2xhc3MiLCJudGhTZWxlY3RvckFjdGlvbkNsYXNzZXMiLCJjb25kaXRpb25Db3VudCIsInByb2Nlc3NDaGFpbiIsImZpbmlzaENoYWluIiwiaXNJbnNpZGVTZWxlY3RvclJ1bGUiLCJTRUxFQ1RPUiIsImluc2lkZVNlbGVjdG9yUnVsZSIsIm5leHRPcmRlciIsIm1ha2VBcHBseVJ1bGVBY3Rpb24iLCJ2YWxpZGF0ZVByb3BlcnR5QW5kSGFuZGxlU2hvcnRoYW5kIiwic2ltcGxlUHJvcGVydHkiLCJQbHVnaW4uZ2V0SG9va3NGb3JOYW1lIiwiaG9vayIsImNvbnZlcnRlZCIsImdldEltcG9ydGFudFNwZWNpZmljaXR5IiwiZ2V0QmFzZVNwZWNpZmljaXR5IiwiY2FzY3ZhbCIsIm5vdFBhcnNlckhhbmRsZXIiLCJOb3RQYXJhbWV0ZXJQYXJzZXJIYW5kbGVyIiwibnRoLWNoaWxkIiwibnRoLW9mLXR5cGUiLCJudGgtbGFzdC1jaGlsZCIsIm50aC1sYXN0LW9mLXR5cGUiLCJwYXJlbnRDaGFpbiIsIkRlZmluZVBhcnNlckhhbmRsZXIiLCJkaW0iLCJkZWZpbmVOYW1lIiwiUHJvcFNldFBhcnNlckhhbmRsZXIiLCJQcm9wZXJ0eVBhcnNlckhhbmRsZXIiLCJDc3NQYXJzZXIuRXJyb3JIYW5kbGVyIiwiQ3NzUGFyc2VyLlNQRUNJRklDSVRZX1NUWUxFX0lNUE9SVEFOVCIsIkNzc1BhcnNlci5TUEVDSUZJQ0lUWV9TVFlMRSIsImZvckVhY2hWaWV3Q29uZGl0aW9uYWxTdHlsZXMiLCJ2aWV3Q29uZGl0aW9uYWxTdHlsZXMiLCJtZXJnZVZpZXdDb25kaXRpb25hbFN0eWxlcyIsImNhc2NNYXAiLCJtZXJnZVN0eWxlIiwicGFyc2VTdHlsZUF0dHJpYnV0ZSIsInN0eWxlQXR0clZhbHVlIiwiQ3NzUGFyc2VyLnBhcnNlU3R5bGVBdHRyaWJ1dGUiLCJpc1ZlcnRpY2FsIiwiY2FzY2FkZWQiLCJ2ZXJ0aWNhbCIsIndyaXRpbmdNb2RlQ2FzYyIsIndyaXRpbmdNb2RlIiwiaXNSdGwiLCJkaXJlY3Rpb25DYXNjIiwiZmxhdHRlbkNhc2NhZGVkU3R5bGUiLCJyZWdpb25JZHMiLCJpc0Zvb3Rub3RlIiwiZm9yRWFjaFN0eWxlc0luUmVnaW9uIiwicmVnaW9uU3R5bGUiLCJyZWdpb25zIiwiZm9vdG5vdGVSZWdpb24iLCJ0byIsIm5ld1ZhbCIsIm9sZFZhbCIsImNvbnZlcnRUb1BoeXNpY2FsIiwiZGVzdCIsInRyYW5zZm9ybSIsImNvdXBsaW5nTWFwIiwiY2FzY1ZhbCIsImNvdXBsZWROYW1lIiwidGFyZ2V0TmFtZSIsImNvdXBsZWRDYXNjVmFsIiwiY3JlYXRlUmVnRXhwTWFwIiwidmFsdWVNYXBzIiwidG9QaHlzaWNhbCIsImxvZ2ljYWwiLCJwaHlzaWNhbCIsImNvbnZlcnQiLCJtYXBzIiwibWFwczIiLCJyZXBsYWNlZCIsImhvcml6b250YWwtdGIiLCJ2ZXJ0aWNhbC1ybCIsInZlcnRpY2FsLWxyIiwidG9QaHlzaWNhbE1hcHMiLCJ0b0xvZ2ljYWxNYXBzIiwiU2l6ZSIsImdldFNpemUiLCJjbGllbnRMYXlvdXQiLCJzaXplcyIsIm9yaWdpbmFsIiwibWF4V2lkdGgiLCJtaW5XaWR0aCIsIm1heEhlaWdodCIsIm1pbkhlaWdodCIsImNvbnRhaW5lciIsImdldENvbXB1dGVkVmFsdWUiLCJnZXRFbGVtZW50Q29tcHV0ZWRTdHlsZSIsIkJhc2Uuc2V0Q1NTUHJvcGVydHkiLCJ3cml0aW5nTW9kZVByb3BlcnR5IiwiQmFzZS5nZXRQcmVmaXhlZFByb3BlcnR5TmFtZXMiLCJ3cml0aW5nTW9kZVZhbHVlIiwiaW5saW5lU2l6ZU5hbWUiLCJibG9ja1NpemVOYW1lIiwiZ2V0RmlsbEF2YWlsYWJsZUlubGluZSIsImdldE1heENvbnRlbnRJbmxpbmUiLCJnZXRNaW5Db250ZW50SW5saW5lIiwiZ2V0Rml0Q29udGVudElubGluZSIsImZpbGxBdmFpbGFibGVJbmxpbmUiLCJtaW5Db250ZW50SW5saW5lIiwicGFyc2VkRmlsbEF2YWlsYWJsZSIsIm1heENvbnRlbnRJbmxpbmUiLCJnZXRJZGVhbEJsb2NrIiwiZ2V0RmlsbEF2YWlsYWJsZUJsb2NrIiwiRklMTF9BVkFJTEFCTEVfSU5MSU5FX1NJWkUiLCJNQVhfQ09OVEVOVF9JTkxJTkVfU0laRSIsIk1JTl9DT05URU5UX0lOTElORV9TSVpFIiwiRklUX0NPTlRFTlRfSU5MSU5FX1NJWkUiLCJGSUxMX0FWQUlMQUJMRV9CTE9DS19TSVpFIiwiTUFYX0NPTlRFTlRfQkxPQ0tfU0laRSIsIk1JTl9DT05URU5UX0JMT0NLX1NJWkUiLCJGSVRfQ09OVEVOVF9CTE9DS19TSVpFIiwiRklMTF9BVkFJTEFCTEVfV0lEVEgiLCJGSUxMX0FWQUlMQUJMRV9IRUlHSFQiLCJNQVhfQ09OVEVOVF9XSURUSCIsIk1BWF9DT05URU5UX0hFSUdIVCIsIk1JTl9DT05URU5UX1dJRFRIIiwiTUlOX0NPTlRFTlRfSEVJR0hUIiwiRklUX0NPTlRFTlRfV0lEVEgiLCJGSVRfQ09OVEVOVF9IRUlHSFQiLCJESUZGX0RFTEVURSIsIkRJRkZfSU5TRVJUIiwiRElGRl9FUVVBTCIsImRpZmZfbWFpbiIsInRleHQxIiwidGV4dDIiLCJjdXJzb3JfcG9zIiwiX2ZpeF91bmljb2RlIiwiZWRpdGRpZmYiLCJvbGRUZXh0IiwibmV3VGV4dCIsIm9sZFJhbmdlIiwibmV3UmFuZ2UiLCJvbGRMZW5ndGgiLCJuZXdMZW5ndGgiLCJvbGRDdXJzb3IiLCJvbGRCZWZvcmUiLCJvbGRBZnRlciIsIm1heWJlTmV3Q3Vyc29yIiwibmV3Q3Vyc29yIiwibmV3QmVmb3JlIiwibmV3QWZ0ZXIiLCJwcmVmaXhMZW5ndGgiLCJvbGRQcmVmaXgiLCJuZXdQcmVmaXgiLCJtYWtlX2VkaXRfc3BsaWNlIiwic3VmZml4TGVuZ3RoIiwib2xkU3VmZml4IiwibmV3U3VmZml4IiwiZmluZF9jdXJzb3JfZWRpdF9kaWZmIiwiY29tbW9ubGVuZ3RoIiwiZGlmZl9jb21tb25QcmVmaXgiLCJjb21tb25wcmVmaXgiLCJkaWZmX2NvbW1vblN1ZmZpeCIsImNvbW1vbnN1ZmZpeCIsImRpZmZzIiwibG9uZ3RleHQiLCJzaG9ydHRleHQiLCJobSIsImRpZmZfaGFsZk1hdGNoSV8iLCJiZXN0X2xvbmd0ZXh0X2EiLCJiZXN0X2xvbmd0ZXh0X2IiLCJiZXN0X3Nob3J0dGV4dF9hIiwiYmVzdF9zaG9ydHRleHRfYiIsInNlZWQiLCJiZXN0X2NvbW1vbiIsInRleHQxX2EiLCJ0ZXh0MV9iIiwidGV4dDJfYSIsInRleHQyX2IiLCJobTEiLCJobTIiLCJkaWZmX2hhbGZNYXRjaF8iLCJtaWRfY29tbW9uIiwiZGlmZnNfYSIsImRpZmZzX2IiLCJ0ZXh0MV9sZW5ndGgiLCJ0ZXh0Ml9sZW5ndGgiLCJtYXhfZCIsInZfb2Zmc2V0Iiwidl9sZW5ndGgiLCJkZWx0YSIsImZyb250IiwiazFzdGFydCIsImsxZW5kIiwiazJzdGFydCIsImsyZW5kIiwiazEiLCJrMV9vZmZzZXQiLCJrMl9vZmZzZXQiLCJkaWZmX2Jpc2VjdFNwbGl0XyIsImsyIiwiZGlmZl9iaXNlY3RfIiwiZGlmZl9jb21wdXRlXyIsImRpZmZfY2xlYW51cE1lcmdlIiwiZml4X3VuaWNvZGUiLCJwb2ludGVyIiwiY291bnRfZGVsZXRlIiwiY291bnRfaW5zZXJ0IiwidGV4dF9kZWxldGUiLCJ0ZXh0X2luc2VydCIsInByZXZpb3VzX2VxdWFsaXR5IiwiZW5kc193aXRoX3BhaXJfc3RhcnQiLCJzdHJheSIsInN0YXJ0c193aXRoX3BhaXJfZW5kIiwiY2hhbmdlcyIsInRleHQxYSIsInRleHQyYSIsInRleHQxYiIsInRleHQyYiIsImRpZmZzYiIsInBvaW50ZXJtaW4iLCJwb2ludGVybWF4IiwicG9pbnRlcm1pZCIsInBvaW50ZXJzdGFydCIsImlzX3N1cnJvZ2F0ZV9wYWlyX3N0YXJ0IiwicG9pbnRlcmVuZCIsImlzX3N1cnJvZ2F0ZV9wYWlyX2VuZCIsIm9sZE1pZGRsZSIsIm5ld01pZGRsZSIsInR1cGxlcyIsInJldCIsInJlbW92ZV9lbXB0eV90dXBsZXMiLCJkaWZmIiwiSU5TRVJUIiwiREVMRVRFIiwiRVFVQUwiLCJMYXlvdXRQcm9jZXNzb3IiLCJQYWdlRmxvYXRzIiwiU2VsZWN0b3JzIiwiUmVwZXRpdGl2ZUVsZW1lbnQiLCJUYWJsZSIsIlZ0cmVlIiwicmVzdG9yZU5ld1RleHQiLCJyZWR1Y2UiLCJmYXN0ZGlmZiIsInJlc29sdmVPcmlnaW5hbEluZGV4IiwicmVzb2x2ZUluZGV4IiwiY29lZiIsImN1cnJlbnQiLCJvYmplY3QiLCJmb3JtYXR0aW5nQ29udGV4dFR5cGUiLCJGbG9hdFJlZmVyZW5jZSIsImZsYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUiLCJpc0luc3RhbmNlT2ZUYWJsZUZvcm1hdHRpbmdDb250ZXh0IiwiaXNJbnN0YW5jZU9mVGFibGVSb3dMYXlvdXRDb25zdHJhaW50IiwiV2hpdGVzcGFjZSIsIlNoYWRvd1R5cGUiLCJkZWxheWVkUHJvcHMiLCJ0cmFuc2Zvcm0tb3JpZ2luIiwiZGVsYXllZFByb3BzSWZSZWxhdGl2ZVBvc2l0aW9uZWQiLCJEZWxheWVkSXRlbSIsInNob3ciLCJvYmoiLCJoaWRlIiwicGxheSIsInBhdXNlIiwicmVzdW1lIiwibXV0ZSIsIm11dGVkIiwidW5tdXRlIiwibWFrZUxpc3RlbmVyIiwiYWN0aW9uRm4iLCJQYWdlIiwiQmFzZS5TaW1wbGVFdmVudFRhcmdldCIsImJsZWVkQm94IiwiaHJlZkhhbmRsZXIiLCJhbmNob3JFbGVtZW50IiwiaXNBdXRvIiwiaXNBdXRvUGFnZVdpZHRoIiwiQVVUT19QQUdFX1dJRFRIX0FUVFJJQlVURSIsImlzQXV0b1BhZ2VIZWlnaHQiLCJBVVRPX1BBR0VfSEVJR0hUX0FUVFJJQlVURSIsInRyaWdnZXJzIiwiZWxlbXMiLCJkZWxheWVkSXRlbXMiLCJnZXRFbGVtZW50Q2xpZW50UmVjdCIsImRpbWVuc2lvbnMiLCJvYnNlcnZlcnMiLCJvYnNlcnZlciIsInBhZ2VBcmVhRWxlbWVudCIsIlNQRUNJQUxfQVRUUiIsIndoaXRlc3BhY2VGcm9tUHJvcGVydHlWYWx1ZSIsIndoaXRlc3BhY2UiLCJJR05PUkUiLCJORVdMSU5FIiwiUFJFU0VSVkUiLCJjYW5JZ25vcmUiLCJGbG93IiwicGFyZW50Rmxvd05hbWUiLCJGbG93Q2h1bmsiLCJzdGFydE9mZnNldCIsImxpbmdlciIsInJlcGVhdGVkIiwiYnJlYWtCZWZvcmUiLCJjbGllbnRyZWN0SW5jcmVhc2luZ1RvcCIsImNsaWVudHJlY3REZWNyZWFzaW5nUmlnaHQiLCJpc1NhbWVOb2RlUG9zaXRpb25TdGVwIiwibnBzMSIsIm5wczIiLCJzaGFkb3dUeXBlIiwiaXNTYW1lU2hhZG93Q29udGV4dCIsInNoYWRvd0NvbnRleHQiLCJub2RlU2hhZG93Iiwic2hhZG93U2libGluZyIsImlzU2FtZU5vZGVQb3NpdGlvbiIsIm5wMSIsIm5wMiIsIm9mZnNldEluTm9kZSIsIm5ld05vZGVQb3NpdGlvbkZyb21Ob2RlQ29udGV4dCIsImluaXRpYWxGcmFnbWVudEluZGV4Iiwic291cmNlTm9kZSIsIk5PTkUiLCJmb3JtYXR0aW5nQ29udGV4dCIsInByZXByb2Nlc3NlZFRleHRDb250ZW50IiwibWFrZU5vZGVDb250ZXh0RnJvbU5vZGVQb3NpdGlvblN0ZXAiLCJOb2RlQ29udGV4dCIsImNvcHkiLCJTaGFkb3dDb250ZXh0IiwieG1sZG9jIiwicGFyZW50U2hhZG93Iiwic3VwZXJTaGFkb3ciLCJzdWJTaGFkb3ciLCJzYzEiLCJzYzIiLCJGaXJzdFBzZXVkbyIsIm91dGVyIiwiYm94T2Zmc2V0IiwiYnJlYWtQZW5hbHR5IiwiZmxvYXRSZWZlcmVuY2UiLCJJTkxJTkUiLCJoeXBoZW5hdGVDaGFyYWN0ZXIiLCJicmVha1dvcmQiLCJmaXJzdFBzZXVkbyIsImNsZWFyU3BhY2VyIiwiZmxvYXRTaWRlIiwiY2xlYXJTaWRlIiwiZmxvYXRNaW5XcmFwQmxvY2siLCJjb2x1bW5TcGFuIiwidmVydGljYWxBbGlnbiIsImZsZXhDb250YWluZXIiLCJicmVha0FmdGVyIiwiZXN0YWJsaXNoZXNCRkMiLCJjb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSIsInJlcGVhdE9uQnJlYWsiLCJwbHVnaW5Qcm9wcyIsImFmdGVySWZDb250aW51ZXMiLCJmb290bm90ZVBvbGljeSIsIm5wIiwiY2FwdGlvblNpZGUiLCJpbmxpbmVCb3JkZXJTcGFjaW5nIiwiYmxvY2tCb3JkZXJTcGFjaW5nIiwib3ZlcmZsb3ciLCJjcmVhdGUiLCJzaGFyZWQiLCJjbG9uZUl0ZW0iLCJucHAiLCJucGMiLCJ0b05vZGVQb3NpdGlvblN0ZXAiLCJEaWZmLnJlc29sdmVPcmlnaW5hbEluZGV4IiwiQ2h1bmtQb3NpdGlvbiIsInByaW1hcnkiLCJmbG9hdHMiLCJGbG93Q2h1bmtQb3NpdGlvbiIsImNodW5rUG9zaXRpb24iLCJmbG93Q2h1bmsiLCJpc1NhbWVQb3NpdGlvbiIsIkZsb3dQb3NpdGlvbiIsIm5ld2ZwIiwicG9zaXRpb25zIiwibmV3YXJyIiwic3RhcnRTaWRlIiwiTGF5b3V0UG9zaXRpb24iLCJuZXdjcCIsImhpZ2hlc3RTZWVuTm9kZSIsImhpZ2hlc3RTZWVuT2Zmc2V0IiwibG9va3VwUG9zaXRpb25PZmZzZXQiLCJmbG93cyIsImZsb3dQb3NpdGlvbnMiLCJ0aGlzRmxvd05hbWVzIiwib3RoZXJGbG93TmFtZXMiLCJmbG93UG9zIiwiaGFzQ29udGVudCIsImZsb3dDaHVua1Bvc2l0aW9uIiwiQ29udGFpbmVyIiwibWFyZ2luVG9wIiwiYm9yZGVyVG9wIiwicGFkZGluZ1RvcCIsIm1hcmdpbkJvdHRvbSIsImJvcmRlckJvdHRvbSIsInBhZGRpbmdCb3R0b20iLCJtYXJnaW5MZWZ0IiwiYm9yZGVyTGVmdCIsInBhZGRpbmdMZWZ0IiwibWFyZ2luUmlnaHQiLCJib3JkZXJSaWdodCIsInBhZGRpbmdSaWdodCIsImdldEluc2V0UmlnaHQiLCJnZXRJbnNldFRvcCIsImdldEluc2V0TGVmdCIsImdldEluc2V0Qm90dG9tIiwib3JpZ2luWCIsIm9yaWdpblkiLCJpbm5lclNoYXBlIiwiZXhjbHVzaW9ucyIsImNvbXB1dGVkQmxvY2tTaXplIiwic25hcFdpZHRoIiwic25hcEhlaWdodCIsInNldEhvcml6b250YWxQb3NpdGlvbiIsImdldEJveERpciIsInNldFZlcnRpY2FsUG9zaXRpb24iLCJnZXRJbm5lclJlY3QiLCJ3aXRoT2Zmc2V0IiwiR2VvbWV0cnlVdGlsLlJlY3QiLCJwYWRkaW5nWCIsInBhZGRpbmdZIiwicGFkZGluZ1dpZHRoIiwicGFkZGluZ0hlaWdodCIsIm91dGVyU2hhcGVQcm9wIiwiZ2V0T3V0ZXJSZWN0IiwiQ3NzUHJvcC50b1NoYXBlIiwib3V0ZXJYIiwib3V0ZXJZIiwib3V0ZXJXaWR0aCIsIm91dGVySGVpZ2h0IiwiQ29udGVudFByb3BlcnR5SGFuZGxlciIsInJvb3RDb250ZW50VmFsdWUiLCJ2aXNpdFN0cklubmVyIiwiaW1nIiwiY3JlYXRlRWxlbWVudE5TIiwiQ3NzUGFyc2VyLnBhcnNlVmFsdWUiLCJub25Ucml2aWFsQ29udGVudCIsImlzUGFnZUZsb2F0IiwiQ09MVU1OIiwiUkVHSU9OIiwiUEFHRSIsIlBhZ2VGbG9hdCIsIm5vZGVQb3NpdGlvbiIsInBhZ2VGbG9hdExheW91dENvbnRleHQiLCJpc0FuY2hvckFscmVhZHlBcHBlYXJlZCIsIlBhZ2VGbG9hdFN0b3JlIiwibmV4dFBhZ2VGbG9hdEluZGV4IiwiZmxvYXQiLCJWdHJlZUltcGwuaXNTYW1lTm9kZVBvc2l0aW9uIiwiY3JlYXRlUGFnZUZsb2F0SWQiLCJQYWdlRmxvYXRGcmFnbWVudCIsImNvbnRpbnVhdGlvbnMiLCJhcmVhIiwiY29udGludWVzIiwiaXNBbGxvd2VkT25Db250ZXh0IiwiZ2V0T3V0ZXJTaGFwZSIsImdldE9yZGVyIiwiUGFnZUZsb2F0Q29udGludWF0aW9uIiwiUGFnZUZsb2F0TGF5b3V0Q29udGV4dCIsImdlbmVyYXRpbmdOb2RlUG9zaXRpb24iLCJmbG9hdFN0b3JlIiwiZ2V0UHJldmlvdXNTaWJsaW5nIiwiZmxvYXRzRGVmZXJyZWRGcm9tUHJldmlvdXMiLCJmbG9hdHNEZWZlcnJlZFRvTmV4dCIsImdldFByZXZpb3VzU2libGluZ09mIiwiZ2V0UGFyZW50IiwiZ2V0Q29udGFpbmVyIiwicmVhdHRhY2hGbG9hdEZyYWdtZW50cyIsImFkZFBhZ2VGbG9hdCIsImdldFBhZ2VGbG9hdExheW91dENvbnRleHQiLCJmaW5kUGFnZUZsb2F0QnlOb2RlUG9zaXRpb24iLCJmb3JiaWRkZW5GbG9hdHMiLCJQYWdlRmxvYXRMYXlvdXRTdHJhdGVneVJlc29sdmVyIiwiZmluZEJ5RmxvYXQiLCJmb3JiaWQiLCJpc0ZvcmJpZGRlbiIsImZsb2F0RnJhZ21lbnQiLCJkb250SW52YWxpZGF0ZSIsImFkZFBhZ2VGbG9hdEZyYWdtZW50IiwiZmxvYXRGcmFnbWVudHMiLCJmcjEiLCJmcjIiLCJpbnZhbGlkYXRlIiwicmVtb3ZlUGFnZUZsb2F0RnJhZ21lbnQiLCJmcmFnbWVudCIsImZpbmRQYWdlRmxvYXRGcmFnbWVudCIsImhhc0Zsb2F0IiwiaGFzRmxvYXRGcmFnbWVudHMiLCJnZXRGbG93TmFtZSIsImFuY2hvclZpZXdOb2RlIiwiZmxvYXRBbmNob3JzIiwiYW5jaG9ycyIsImNvbGxlY3RQYWdlRmxvYXRBbmNob3JzIiwiZmxvYXRJZCIsImdldERlZmVycmVkUGFnZUZsb2F0Q29udGludWF0aW9ucyIsImNvbnQiLCJkZWZlclBhZ2VGbG9hdCIsImlnbm9yZVJlZmVyZW5jZSIsImhhc1ByZWNlZGluZ0Zsb2F0c0RlZmVycmVkVG9OZXh0IiwiaXNBbGxvd2VkVG9QcmVjZWRlIiwibGFzdEZvbGxvd2luZyIsImxhc3RGb2xsb3dpbmdPZlBhcmVudCIsImdldExhc3RGb2xsb3dpbmdGbG9hdEluRnJhZ21lbnRzIiwiYzEiLCJjMiIsImdldFBhZ2VGbG9hdENvbnRpbnVhdGlvbnNEZWZlcnJlZFRvTmV4dCIsImdldEZsb2F0c0RlZmVycmVkVG9OZXh0SW5DaGlsZENvbnRleHRzIiwiY2hlY2tBbmRGb3JiaWRGbG9hdEZvbGxvd2luZ0RlZmVycmVkRmxvYXQiLCJub3RBbGxvd2VkRmxvYXQiLCJmaW5kTm90QWxsb3dlZEZsb2F0IiwibG9ja2VkIiwicmVtb3ZlRW5kRmxvYXRGcmFnbWVudHMiLCJjaGVja0FuZEZvcmJpZE5vdEFsbG93ZWRGbG9hdCIsImRlZmVycmVkRmxvYXRzIiwiZmxvYXRzSW5GcmFnbWVudHMiLCJmciIsImYxIiwiZjIiLCJpbnZhbGlkYXRlZCIsImhhc1NhbWVDb250YWluZXJBcyIsImxheW91dENvbnN0cmFpbnRzIiwiaXNJbnZhbGlkYXRlZCIsIkNzc0xvZ2ljYWxVdGlsLnRvTG9naWNhbCIsIkNzc0xvZ2ljYWxVdGlsLnRvUGh5c2ljYWwiLCJsb2dpY2FsRmxvYXRTaWRlIiwidG9Mb2dpY2FsIiwic3Rhc2hFbmRGbG9hdEZyYWdtZW50cyIsImZyYWdtZW50RmxvYXRTaWRlIiwic2hvdWxkQmVTdGFzaGVkQmVmb3JlIiwic3Rhc2hlZEZsb2F0RnJhZ21lbnRzIiwic3Rhc2hlZCIsInJlc3RvcmVTdGFzaGVkRnJhZ21lbnRzIiwiZGlzY2FyZFN0YXNoZWRGcmFnbWVudHMiLCJnZXRTdGFzaGVkRmxvYXRGcmFnbWVudHMiLCJsYXlvdXRDb250ZXh0IiwibG9naWNhbFNpZGUiLCJwaHlzaWNhbFNpZGUiLCJsaW1pdCIsImdldExpbWl0VmFsdWVJbm5lciIsInBhcmVudExpbWl0IiwiZ2V0TGltaXRWYWx1ZSIsImxpbWl0cyIsImdldExpbWl0VmFsdWVzSW5uZXIiLCJwYWRkaW5nUmVjdCIsImdldFBhZGRpbmdSZWN0IiwiZmxvYXRNaW5XcmFwQmxvY2tTdGFydCIsImZsb2F0TWluV3JhcEJsb2NrRW5kIiwicmVzb2x2ZUxlbmd0aFBlcmNlbnRhZ2UiLCJjb250YWluZXJMZW5ndGgiLCJjb252ZXJ0TGVuZ3RoVG9QeCIsInJvb3RWaWV3Tm9kZXMiLCJhbmNob3JFZGdlIiwiZm9yY2UiLCJzZXRGbG9hdEFyZWFEaW1lbnNpb25zIiwiYmxvY2tTdGFydCIsImJsb2NrRW5kIiwiaW5saW5lU3RhcnQiLCJpbmxpbmVFbmQiLCJibG9ja09mZnNldCIsImlubGluZU9mZnNldCIsImxpbWl0QmxvY2tTdGFydEVuZFZhbHVlV2l0aE9wZW5SZWN0IiwiZ2V0UmVjdCIsIm9wZW5SZWN0IiwiR2VvbWV0cnlVdGlsLnVucm90YXRlQm94IiwiYmxvY2tTaXplIiwiaW5saW5lU2l6ZSIsIm91dGVyQmxvY2tTaXplIiwib3V0ZXJJbmxpbmVTaXplIiwiR2VvbWV0cnlVdGlsLnJvdGF0ZUJveCIsIkdlb21ldHJ5VXRpbC5maW5kVXBwZXJtb3N0RnVsbHlPcGVuUmVjdCIsIkdlb21ldHJ5VXRpbC5maW5kQm90dG9tbW9zdEZ1bGx5T3BlblJlY3QiLCJnZXRJbnNldEJlZm9yZSIsImdldEluc2V0QWZ0ZXIiLCJnZXRJbnNldFN0YXJ0IiwiZ2V0SW5zZXRFbmQiLCJhdmFpbGFibGVCbG9ja1NpemUiLCJjb250YWluZXJSZWN0IiwiU2l6aW5nLmdldFNpemUiLCJTaXppbmcuU2l6ZSIsImFkanVzdENvbnRlbnRSZWxhdGl2ZVNpemUiLCJnZXRDb250ZW50SW5saW5lU2l6ZSIsImF2YWlsYWJsZUlubGluZVNpemUiLCJzZXRJbmxpbmVQb3NpdGlvbiIsInNldEJsb2NrUG9zaXRpb24iLCJnZXRGbG9hdEZyYWdtZW50RXhjbHVzaW9ucyIsImVkZ2UiLCJJbmZpbml0eSIsImlzQ29udGludWF0aW9uT2ZBbHJlYWR5QXBwZWFyZWRGbG9hdCIsImlzRnJhZ21lbnRXaXRoQWxyZWFkeUFwcGVhcmVkRmxvYXQiLCJjb2x1bW5SZWN0IiwiY29sdW1uQmxvY2tFbmQiLCJibG9ja1N0YXJ0TGltaXQiLCJnZXRQYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24iLCJsb2dpY2FsQ2xlYXJTaWRlIiwibG9naWNhbFNpZGVzIiwiZmxvYXRPcmRlciIsImlzUHJlY2VkaW5nRnJhZ21lbnQiLCJoYXNQcmVjZWRpbmdGcmFnbWVudEluQ2hpbGRyZW4iLCJoYXNQcmVjZWRpbmdGcmFnbWVudEluUGFyZW50cyIsImdldExheW91dENvbnN0cmFpbnRzIiwibGF5b3V0Q29uc3RyYWludCIsImFkZExheW91dENvbnN0cmFpbnQiLCJwYWdlRmxvYXRMYXlvdXRTdHJhdGVnaWVzIiwic3RyYXRlZ3kiLCJhcHBsaWVzVG9Ob2RlQ29udGV4dCIsImFwcGxpZXNUb0Zsb2F0IiwidG9Ob2RlUG9zaXRpb24iLCJyZXNvbHZlRmxvYXRSZWZlcmVuY2VGcm9tQ29sdW1uU3BhbiIsImZsb2F0QXJlYSIsImZsb2F0Q29udGFpbmVyIiwiUGFnZUZsb2F0cy5QYWdlRmxvYXRGcmFnbWVudCIsIkZvb3Rub3RlIiwiUGFnZUZsb2F0cy5QYWdlRmxvYXQiLCJGb290bm90ZUZyYWdtZW50IiwiTGluZUZvb3Rub3RlUG9saWN5TGF5b3V0Q29uc3RyYWludCIsIlZ0cmVlLmlzU2FtZU5vZGVQb3NpdGlvbiIsIlBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3lSZXNvbHZlciIsIlBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UiLCJyZWdpb25Db250ZXh0IiwiYXBwbHlGb290bm90ZVN0eWxlIiwiY29udmVydFBlcmNlbnRhZ2VTaXplc1RvUHgiLCJzZXRDb21wdXRlZEluc2V0cyIsInNldENvbXB1dGVkV2lkdGhBbmRIZWlnaHQiLCJjb25zdHJhaW50IiwiZm9yY2VkQnJlYWtWYWx1ZXMiLCJyZWN0byIsInZlcnNvIiwicmVnaW9uIiwiaXNGb3JjZWRCcmVha1ZhbHVlIiwiYXZvaWRCcmVha1ZhbHVlcyIsImF2b2lkLXBhZ2UiLCJhdm9pZC1jb2x1bW4iLCJhdm9pZC1yZWdpb24iLCJpc0F2b2lkQnJlYWtWYWx1ZSIsInJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlIiwic2Vjb25kIiwiZmlyc3RJc0ZvcmNlZEJyZWFrVmFsdWUiLCJzZWNvbmRJc0ZvcmNlZEJyZWFrVmFsdWUiLCJicmVha1ZhbHVlVG9TdGFydFNpZGVWYWx1ZSIsImJyZWFrVmFsdWUiLCJzdGFydFNpZGVWYWx1ZVRvQnJlYWtWYWx1ZSIsInN0YXJ0U2lkZVZhbHVlIiwiY2FsY3VsYXRlRWRnZSIsImV4dHJhT2Zmc2V0IiwiY2JveCIsInJhbmdlIiwiY3JlYXRlUmFuZ2UiLCJzZXRTdGFydCIsInNldEVuZCIsImJveGVzIiwiZ2V0UmFuZ2VDbGllbnRSZWN0cyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIkJhc2UuY2hlY2tWZXJ0aWNhbEJCb3hCdWciLCJmdWxsUmFuZ2UiLCJmdWxsQm94ZXMiLCJmdWxsQm94IiwiZml4Qm94ZXNGb3JOb2RlIiwibWF4U2l6ZSIsImJveFNpemUiLCJnZXRFbGVtZW50SGVpZ2h0IiwiZ2V0Q29tcHV0ZWRNYXJnaW4iLCJpc09ycGhhbiIsInJlbW92ZUZvbGxvd2luZ1NpYmxpbmdzIiwiaXNTcGVjaWFsIiwiVnRyZWVJbXBsLlNQRUNJQUxfQVRUUiIsImlzU3BlY2lhbE5vZGVDb250ZXh0IiwiUGx1Z2luLnJlZ2lzdGVySG9vayIsIkFic3RyYWN0QnJlYWtQb3NpdGlvbiIsImNhbGN1bGF0ZU9mZnNldCIsImdldE5vZGVDb250ZXh0IiwiY29sbGVjdEVsZW1lbnRzT2Zmc2V0IiwiZWxlbWVudHNPZmZzZXRzIiwicmVwZXRpdGl2ZUVsZW1lbnQiLCJtaW5pbXVtIiwiY2FsY3VsYXRlTWluaW11bU9mZnNldCIsIkVkZ2VCcmVha1Bvc2l0aW9uIiwiYnJlYWtPbkVkZ2UiLCJvdmVyZmxvd3MiLCJvdmVyZmxvd0lmUmVwZXRpdGl2ZUVsZW1lbnRzRHJvcHBlZCIsInBlbmFsdHkiLCJ1cGRhdGVPdmVyZmxvd3MiLCJnZXRNaW5CcmVha1BlbmFsdHkiLCJmaW5kRWRnZUJyZWFrUG9zaXRpb24iLCJpc0VkZ2VVcGRhdGVkIiwicHJlZmVyRHJvcHBpbmciLCJpc0ZpcnN0Q29udGVudE9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXIiLCJCcmVhay5pc0F2b2lkQnJlYWtWYWx1ZSIsImNsb25lZFBhZGRpbmdCb3JkZXIiLCJjYWxjdWxhdGVDbG9uZWRQYWRkaW5nQm9yZGVyIiwiTGF5b3V0SGVscGVyLmNhbGN1bGF0ZUVkZ2UiLCJ1cGRhdGVFZGdlIiwib2Zmc2V0cyIsImlzT3ZlcmZsb3duIiwiaXNJbnN0YW5jZU9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCIsInJlcGV0aXRpdmVFbGVtZW50cyIsImdldFJlcGV0aXRpdmVFbGVtZW50cyIsImlzRmlyc3RDb250ZW50Tm9kZSIsIkZMT1dfUk9PVF9BVFRSIiwiYmxvY2tpZnkiLCJkaXNwbGF5U3RyIiwiYmxvY2tpZmllZFN0ciIsImlzQWJzb2x1dGVseVBvc2l0aW9uZWQiLCJnZXRDb21wdXRlZERpc2xheVZhbHVlIiwiaXNCbG9jayIsImlzSW5saW5lTGV2ZWwiLCJMYXlvdXRQcm9jZXNzb3JSZXNvbHZlciIsIlBsdWdpbi5IT09LUyIsIlJFU09MVkVfTEFZT1VUX1BST0NFU1NPUiIsInByb2Nlc3NvciIsIkJsb2NrTGF5b3V0UHJvY2Vzc29yIiwibGVhZGluZ0VkZ2UiLCJpc0Zsb2F0Tm9kZUNvbnRleHQiLCJsYXlvdXRGbG9hdE9yRm9vdG5vdGUiLCJpc0JyZWFrYWJsZSIsImxheW91dEJyZWFrYWJsZUJsb2NrIiwibGF5b3V0VW5icmVha2FibGUiLCJjb2x1bW5CbG9ja1NpemUiLCJCcmVha1Bvc2l0aW9uLkVkZ2VCcmVha1Bvc2l0aW9uIiwic3RvcEF0T3ZlcmZsb3ciLCJwYXJlbnROb2RlQ29udGV4dCIsInJlbW92ZVNlbGYiLCJMYXlvdXRIZWxwZXIucmVtb3ZlRm9sbG93aW5nU2libGluZ3MiLCJmb3JjZVJlbW92ZVNlbGYiLCJlbmRPZkNvbHVtbiIsImNsZWFyT3ZlcmZsb3duVmlld05vZGVzIiwiZml4SnVzdGlmaWNhdGlvbklmTmVlZGVkIiwicHJvY2Vzc0ZyYWdtZW50ZWRCbG9ja0VkZ2UiLCJCbG9ja0Zvcm1hdHRpbmdDb250ZXh0IiwiZmlyc3RUaW1lIiwiYmxvY2tMYXlvdXRQcm9jZXNzb3IiLCJpc0luc3RhbmNlT2ZCbG9ja0Zvcm1hdHRpbmdDb250ZXh0IiwiUkVTT0xWRV9GT1JNQVRUSU5HX0NPTlRFWFQiLCJEaXNwbGF5LmlzQmxvY2siLCJBYnN0cmFjdExheW91dFJldHJ5ZXIiLCJwcmVwYXJlTGF5b3V0IiwidHJ5TGF5b3V0Iiwic2F2ZVN0YXRlIiwibW9kZSIsInJlc29sdmVMYXlvdXRNb2RlIiwiZG9MYXlvdXQiLCJwb3NpdGlvbkFmdGVyIiwiYWNjZXB0ZWQiLCJhY2NlcHQiLCJwb3N0TGF5b3V0IiwiaW5pdGlhbFBvc2l0aW9uIiwiY2xlYXJOb2RlcyIsInJlc3RvcmVTdGF0ZSIsInNpYmxpbmciLCJpbml0aWFsQnJlYWtQb3NpdGlvbnMiLCJicmVha1Bvc2l0aW9ucyIsImluaXRpYWxGcmFnbWVudExheW91dENvbnN0cmFpbnRzIiwiZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyIsImluaXRpYWxTdGF0ZU9mRm9ybWF0dGluZ0NvbnRleHQiLCJMYXlvdXRJdGVyYXRvclN0cmF0ZWd5IiwiaW5pdGlhbE5vZGVDb250ZXh0IiwiYXRVbmZvcmNlZEJyZWFrIiwiYnJlYWsiLCJMYXlvdXRJdGVyYXRvciIsImluaXRpYWxTdGF0ZSIsImxvb3BXaXRoRnJhbWUiLCJsb29wRnJhbWUiLCJWdHJlZUltcGwuY2FuSWdub3JlIiwiYWZ0ZXJJZ25vcmVkVGV4dE5vZGUiLCJzdGFydElnbm9yZWRUZXh0Tm9kZSIsImFmdGVyTm9uRWxlbWVudE5vZGUiLCJzdGFydE5vbkVsZW1lbnROb2RlIiwiYWZ0ZXJJbmxpbmVFbGVtZW50Tm9kZSIsInN0YXJ0SW5saW5lRWxlbWVudE5vZGUiLCJhZnRlck5vbklubGluZUVsZW1lbnROb2RlIiwic3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZSIsImFmdGVyTm9uRGlzcGxheWFibGVOb2RlIiwic3RhcnROb25EaXNwbGF5YWJsZU5vZGUiLCJuZXh0UmVzdWx0IiwibmV4dEluVHJlZSIsIm5leHROb2RlQ29udGV4dCIsImJyZWFrTG9vcCIsImNvbnRpbnVlTG9vcCIsIkVkZ2VTa2lwcGVyIiwiYnJlYWtBdFRoZUVkZ2UiLCJvblN0YXJ0RWRnZXMiLCJsZWFkaW5nRWRnZUNvbnRleHRzIiwibGFzdEFmdGVyTm9kZUNvbnRleHQiLCJuZWVkRm9yY2VkQnJlYWsiLCJCcmVhay5pc0ZvcmNlZEJyZWFrVmFsdWUiLCJwYWdlQnJlYWtUeXBlIiwiY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlQW5kQnJlYWtQb3NpdGlvbiIsIm1vZGlmeSIsInZpb2xhdGVDb25zdHJhaW50IiwiYWxsb3dMYXlvdXQiLCJCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZSIsInN0YXJ0Tm9uSW5saW5lQm94IiwiZW5kRW1wdHlOb25JbmxpbmVCb3giLCJlbmROb25JbmxpbmVCb3giLCJyZXBldGl0aXZlRWxlbWVudHNDYWNoZSIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsIlNIQURPVyIsIlBTRVVET19BVFRSIiwiZ2V0UHNldWRvTmFtZSIsInNldFBzZXVkb05hbWUiLCJQc2V1ZG9lbGVtZW50U3R5bGVyIiwiZGVlcCIsImdldFN0eWxlIiwiQ3NzQ2FzY2FkZS5nZXRTdHlsZU1hcCIsIm5lc3QiLCJDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZSIsImNvbnRlbnRQcm9jZXNzZWQiLCJjb250ZW50VmFsIiwiVnRyZWUubm9uVHJpdmlhbENvbnRlbnQiLCJWdHJlZS5Db250ZW50UHJvcGVydHlIYW5kbGVyIiwiaXNJbnN0YW5jZU9mQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQiLCJyZWdpc3RlckZyYWdtZW50SW5kZXgiLCJNYXRjaGVycy5OdGhGcmFnbWVudE1hdGNoZXIiLCJBZnRlcklmQ29udGludWVzIiwidmlld1Jvb3QiLCJwc2V1ZG9Db2x1bW4iLCJQc2V1ZG9Db2x1bW4iLCJpbml0aWFsUGFnZUJyZWFrVHlwZSIsImdldENvbHVtbiIsImxheW91dCIsImNyZWF0ZU5vZGVQb3NpdGlvbkZvclBzZXVkb0VsZW1lbnQiLCJwc2V1ZG9FbGVtZW50IiwiUHNldWRvRWxlbWVudC5kb2N1bWVudCIsIlBzZXVkb0VsZW1lbnQuc2V0UHNldWRvTmFtZSIsImNyZWF0ZVNoYWRvd0NvbnRleHQiLCJWdHJlZUltcGwuQ2h1bmtQb3NpdGlvbiIsIlZ0cmVlSW1wbC5TaGFkb3dDb250ZXh0IiwiUk9PVEVEIiwiQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQiLCJwc2V1ZG9FbGVtZW50SGVpZ2h0Iiwib3ZlcmZsb3duTm9kZUNvbnRleHQiLCJhbGxvd2VkIiwiYWZmZWN0VG8iLCJBZnRlcklmQ29udGludWVzRWxlbWVudHNPZmZzZXQiLCJwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlc09mTm9kZUNvbnRleHQiLCJMYXlvdXRIZWxwZXIuZ2V0RWxlbWVudEhlaWdodCIsImNhbGN1bGF0ZVBzZXVkb0VsZW1lbnRIZWlnaHQiLCJwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlcyIsIm1lZGlhVGFncyIsInN2ZyIsImF1ZGlvIiwidmlkZW8iLCJBbGxMYXlvdXRDb25zdHJhaW50IiwiY29uc3RyYWludHMiLCJCb3hCcmVha1Bvc2l0aW9uIiwiQnJlYWtQb3NpdGlvbi5BYnN0cmFjdEJyZWFrUG9zaXRpb24iLCJjaGVja1BvaW50cyIsImFscmVhZHlFdmFsdWF0ZWQiLCJicmVha05vZGVDb250ZXh0IiwiZmluZEJveEJyZWFrUG9zaXRpb24iLCJpc1NwZWNpYWxJbmxpbmVEaXNwbGF5IiwiQ29sdW1uIiwiVnRyZWVJbXBsLkNvbnRhaW5lciIsInZpZXdEb2N1bWVudCIsInNldENvbnRhaW5lciIsInN0YXJ0RWRnZSIsImJlZm9yZUVkZ2UiLCJlbmRFZGdlIiwiYWZ0ZXJFZGdlIiwiaXNGbG9hdCIsImZvb3Rub3RlRWRnZSIsInBhZ2VGbG9hdEV4Y2x1c2lvbnMiLCJzZXRWaWV3Um9vdCIsInN0ZXBJbmRleCIsInByZXZDb250ZXh0IiwiVnRyZWVJbXBsLm1ha2VOb2RlQ29udGV4dEZyb21Ob2RlUG9zaXRpb25TdGVwIiwiZmxvd1Jvb3RGb3JtYXR0aW5nQ29udGV4dCIsImNhbGN1bGF0ZU9mZnNldEluTm9kZUZvck5vZGVDb250ZXh0Iiwic2V0Q3VycmVudCIsIkRpZmYucmVzb2x2ZU5ld0luZGV4IiwiZmlyc3RDaGFyUGF0dGVybiIsInBlZWxPZmYiLCJib2R5RnJhbWUiLCJMYXlvdXRIZWxwZXIuaXNTcGVjaWFsTm9kZUNvbnRleHQiLCJtYXliZVBlZWxPZmYiLCJwb3NpdGlvbjFQYXJhbSIsInBvc2l0aW9uUGFyYW0iLCJwb3N0TGF5b3V0QmxvY2siLCJwb3NpdGlvbjEiLCJjc3NGbG9hdCIsImdldFRvcEVkZ2UiLCJnZXRMZWZ0RWRnZSIsImdldEJvdHRvbUVkZ2UiLCJnZXRSaWdodEVkZ2UiLCJjcmVhdGVGbG9hdCIsIkxheW91dEhlbHBlci5pc09ycGhhbiIsImluc2V0cyIsIkdlb21ldHJ5VXRpbC5JbnNldHMiLCJwYXJzZUNvbXB1dGVkTGVuZ3RoIiwiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyVG9wV2lkdGgiLCJib3JkZXJSaWdodFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJib3hTaXppbmciLCJub2RlQ29udGV4dEluIiwiYnVpbGREZWVwRWxlbWVudFZpZXciLCJub2RlQ29udGV4dEFmdGVyIiwiZmxvYXRCQm94IiwiZmxvYXRCb3giLCJwYXJlbnRCb3giLCJnZXRTdGFydEVkZ2UiLCJnZXRFbmRFZGdlIiwiZmxvYXRCb3hNZWFzdXJlIiwiZmxvYXRIb3JCb3giLCJkaXIiLCJib3R0b21tb3N0RmxvYXRUb3AiLCJib3hFeHRlbnQiLCJmbG9hdFdpZHRoIiwiZmxvYXRIZWlnaHQiLCJmbG9hdEJvdHRvbSIsIkdlb21ldHJ5VXRpbC5wb3NpdGlvbkZsb2F0IiwiZ2V0Q29tcHV0ZWRJbnNldHMiLCJnZXRDb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSIsImZsb2F0Qm94RWRnZSIsImZsb2F0Qm94VG9wIiwia2lsbEZsb2F0cyIsImZsb2F0QmFuZHMiLCJsYXN0WSIsImZsb2F0QmFuZCIsIkdlb21ldHJ5VXRpbC5hZGRGbG9hdFRvQmFuZHMiLCJjcmVhdGVGbG9hdHMiLCJsZWZ0RmxvYXRFZGdlIiwicmlnaHRGbG9hdEVkZ2UiLCJ1cGRhdGVNYXhSZWFjaGVkQWZ0ZXJFZGdlIiwiZmxvYXRMYXlvdXRDb250ZXh0IiwiZm9yY2VOb25maXR0aW5nIiwiY29udGFpbmluZ0Jsb2NrUmVjdCIsImFkanVzdFBhZ2VGbG9hdEFyZWEiLCJmaXRXaXRoaW5Db250YWluZXIiLCJmbG9hdEFyZWFFbGVtZW50IiwicGFyZW50UGFnZUZsb2F0TGF5b3V0Q29udGV4dCIsIlBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCIsInBhcmVudENvbnRhaW5lciIsIlBhZ2VGbG9hdEFyZWEiLCJzZXR1cEZsb2F0QXJlYSIsImFsbG93RnJhZ21lbnRlZCIsInBhZ2VGbG9hdEZyYWdtZW50Iiwib3JpZ2luYWxDb250aW51YXRpb25zIiwiZmlyc3RGbG9hdCIsImNyZWF0ZVBhZ2VGbG9hdEFyZWEiLCJuZXdQb3NpdGlvbiIsImZhaWxlZCIsImZsb2F0Q2h1bmtQb3NpdGlvbiIsIm5ld0ZyYWdtZW50IiwiY3JlYXRlUGFnZUZsb2F0RnJhZ21lbnQiLCJjYW5jZWxMYXlvdXQiLCJsYXlvdXRTaW5nbGVQYWdlRmxvYXRGcmFnbWVudCIsImxheW91dFN0YXNoZWRQYWdlRmxvYXRzIiwic3VjY2VzcyIsIlBhZ2VGbG9hdHMuUGFnZUZsb2F0Q29udGludWF0aW9uIiwiZXhjbHVkZWQiLCJuZXdGbG9hdEFyZWFzIiwibmV3RnJhZ21lbnRzIiwic3Rhc2hlZEZyYWdtZW50IiwiYW5jaG9yIiwiYXBwbHlQc2V1ZG9lbGVtZW50U3R5bGUiLCJjb2x1bW5Db250ZXh0IiwiZmluZEJ5Tm9kZUNvbnRleHQiLCJjcmVhdGVQYWdlRmxvYXQiLCJWdHJlZUltcGwubmV3Tm9kZVBvc2l0aW9uRnJvbU5vZGVDb250ZXh0Iiwic2V0RmxvYXRBbmNob3JWaWV3Tm9kZSIsInJlZ2lzdGVyUGFnZUZsb2F0QW5jaG9yIiwibm9kZUNvbnRleHRPdmVyZmxvd2luZ0R1ZVRvUmVwZXRpdGl2ZUVsZW1lbnRzIiwibGF5b3V0UGFnZUZsb2F0SW5uZXIiLCJpbnNlcnRpb25Qb2ludCIsInNwYW4iLCJpbm5lciIsInRleHRJbmRlbnQiLCJ0ZXh0QWxpZ24iLCJsZWZ0UG9zIiwicmlnaHRQb3MiLCJpbmxpbmVCbG9jayIsIkJhc2UuY2hlY2tJbmxpbmVCbG9ja0p1c3RpZmljYXRpb25CdWciLCJwYWRkaW5nIiwicGFkZGluZ1N0ciIsImluc2VydEFmdGVyIiwiQmFzZS5jaGVja1NvZnRXcmFwT3Bwb3J0dW5pdHlBZnRlckh5cGhlbkJ1ZyIsImh5cGhlbkNoYXIiLCJyZXNvbHZlSHlwaGVuYXRlQ2hhcmFjdGVyIiwicHJldlNpYmxpbmciLCJwcmV2VGV4dCIsIkJhc2UuY2hlY2tTb2Z0V3JhcE9wcG9ydHVuaXR5QnlXYnJCdWciLCJmaXhKdXN0aWZpY2F0aW9uT25IeXBoZW4iLCJjcmVhdGVKdXN0aWZpY2F0aW9uQWRqdXN0bWVudEVsZW1lbnQiLCJiciIsInNwYW5SZWN0IiwiYnJSZWN0IiwiYWRkQW5kQWRqdXN0SnVzdGlmaWNhdGlvbkVsZW1lbnQiLCJjb21wZW5zYXRlSnVzdGlmaWNhdGlvbkxpbmVIZWlnaHQiLCJyZXNOb2RlQ29udGV4dCIsImxhc3RDaGVja1BvaW50cyIsInRvdGFsTGluZUNvdW50IiwibGluZVBvc2l0aW9ucyIsImZpbmRMaW5lUG9zaXRpb25zIiwibGluZUJyZWFrIiwiZmluZEFjY2VwdGFibGVCcmVha0luc2lkZSIsImZpbmlzaEJyZWFrIiwicmVzTm9kZUNvbnRleHRQYXJhbSIsImJ1aWxkVmlld1RvTmV4dEJsb2NrRWRnZSIsInRyYWlsaW5nRWRnZUNvbnRleHRzIiwibWF4UG9zIiwibWluTmVnIiwiY2hlY2tQb2ludEluZGV4IiwibGluZUNvbnQiLCJvdmVyZmxvd24iLCJCcmVha1Bvc2l0aW9uLmNhbGN1bGF0ZU9mZnNldCIsImdldFRyYWlsaW5nTWFyZ2luRWRnZUFkanVzdG1lbnQiLCJwcm9jZXNzTGluZVN0eWxpbmciLCJzYXZlQm94QnJlYWtQb3NpdGlvbiIsImlzTG9uZUltYWdlIiwiUE9TVF9MQVlPVVRfQkxPQ0siLCJsaW5lUG9zaXRpb24iLCJpc1VwZGF0ZU1heFJlYWNoZWRBZnRlckVkZ2UiLCJlZmZlY3RpdmVMaW5lUG9zaXRpb24iLCJsb3dDUCIsImxvdzEiLCJoaWdoQ1AiLCJoaWdoMSIsIm1pZDEiLCJlZGdlUG9zaXRpb24iLCJmaW5kRW5kT2ZMaW5lIiwidGV4dE5vZGUiLCJyZXNvbHZlVGV4dE5vZGVCcmVha2VyIiwiYnJlYWtUZXh0Tm9kZSIsIlJFU09MVkVfVEVYVF9OT0RFX0JSRUFLRVIiLCJUZXh0Tm9kZUJyZWFrZXIiLCJ3ZW50VXAiLCJsYXN0R29vZCIsImhhdmVTdGFydCIsImVuZE5vdFJlYWNoZWQiLCJzZWVrUmFuZ2UiLCJzZXRTdGFydEJlZm9yZSIsIkxheW91dEhlbHBlci5pc1NwZWNpYWwiLCJzZXRFbmRBZnRlciIsImJveExpc3QiLCJnZXRSYW5nZUJveGVzIiwiVnRyZWVJbXBsLmNsaWVudHJlY3REZWNyZWFzaW5nUmlnaHQiLCJWdHJlZUltcGwuY2xpZW50cmVjdEluY3JlYXNpbmdUb3AiLCJsaW5lQmVmb3JlIiwibGluZUFmdGVyIiwibGluZUVuZCIsImxpbmVMZW5ndGgiLCJvdmVybGFwIiwiZ2V0Qm94U2l6ZSIsImdldEJlZm9yZUVkZ2UiLCJnZXRBZnRlckVkZ2UiLCJCYXNlLm51bWJlckNvbXBhcmUiLCJ3YWxrVXBCbG9ja3MiLCJFbGVtZW50IiwicGFkZGluZ0JvcmRlcnMiLCJnZXRDb21wdXRlZFBhZGRpbmdCb3JkZXIiLCJicCIsInJlcGV0aXRpdmVFbGVtZW50c09mZnNldCIsImdldE9mZnNldEJ5UmVwZXRpdGl2ZUVsZW1lbnRzIiwiZmlyc3RPdmVyZmxvd2luZyIsImZpbmRGaXJzdE92ZXJmbG93aW5nRWRnZUFuZENoZWNrUG9pbnQiLCJsaW5lSW5kZXgiLCJCYXNlLmJpbmFyeVNlYXJjaCIsImZvcmNlQ3V0QmVmb3JlT3ZlcmZsb3dpbmciLCJjaGVja1BvaW50IiwiYmxvY2tFZGdlIiwiZ2V0QWZ0ZXJFZGdlT2ZCbG9ja0NvbnRhaW5lciIsImJsb2NrUGFyZW50IiwiY3AiLCJMYXlvdXRQcm9jZXNzb3IuTGF5b3V0UHJvY2Vzc29yUmVzb2x2ZXIiLCJmaW5kIiwiTGF5b3V0UHJvY2Vzc29yLmJsb2NrTGF5b3V0UHJvY2Vzc29yIiwibmV4dFBlbmFsdHkiLCJmaW5kQWNjZXB0YWJsZUJyZWFrIiwibWluUGVuYWx0eSIsImJyZWFrUG9zaXRpb24iLCJpbml0aWFsQ29tcHV0ZWRCbG9ja1NpemUiLCJza2lwVGFpbEVkZ2VzIiwiZmxvd1Bvc2l0aW9uIiwibWFyZ2luRWRnZSIsInNhdmVFdmVuT3ZlcmZsb3duIiwiY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlIiwic2F2ZUVkZ2VCcmVha1Bvc2l0aW9uIiwic3BhY2VyIiwic3BhY2VyQm94IiwiY2xlYXJFZGdlIiwiZ2V0UGFnZUZsb2F0Q2xlYXJFZGdlIiwid0FkaiIsImhBZGoiLCJMYXlvdXRQcm9jZXNzb3IuaXNJbnN0YW5jZU9mQmxvY2tGb3JtYXR0aW5nQ29udGV4dCIsImZvcmNlZEJyZWFrVmFsdWUiLCJpc0JGQyIsInByb2Nlc3NGb3JjZWRCcmVhayIsImxheW91dFByb2Nlc3NvciIsImFwcGx5Q2xlYXJhbmNlIiwiemVyb0luZGVudCIsInZpZXdUYWciLCJub2RlQ29udGV4dFBhcmFtIiwibGFzdEFmdGVyUG9zaXRpb24iLCJyZXN1bHROb2RlQ29udGV4dCIsIlBhZ2VGbG9hdHMuaXNQYWdlRmxvYXQiLCJsYXlvdXRQYWdlRmxvYXQiLCJsYXlvdXRGbG9hdCIsInNraXBFZGdlcyIsInN0b3BCeU92ZXJmbG93IiwiY29sdW1uQkJveCIsImluY2x1ZGUiLCJleGNsdWRlIiwiZ3JhbnVsYXJpdHkiLCJzZWdtZW50cyIsInNlZ21lbnQiLCJhZGRTZWdtZW50cyIsInNlZ21lbnRDb3VudCIsImxvd2VzdEluY2x1ZGVJbmRleCIsInNlZ21lbnRJbmRleCIsImFjdGl2ZVNlZ21lbnRzIiwieTJtaW4iLCJ5biIsImJhbmRJbnRlcnNlY3Rpb25zIiwiYmkxIiwiYmkyIiwicnciLCJHZW9tZXRyeVV0aWwuc2hhcGVzVG9CYW5kcyIsImdldElubmVyU2hhcGUiLCJnZXRFeGNsdXNpb25zIiwiY2h1bmtQb3NpdGlvbnMiLCJpbml0R2VvbSIsImJyZWFrQXRFZGdlIiwiY3JlYXRlRWRnZUJyZWFrUG9zaXRpb24iLCJpc0Z1bGxXaXRoUGFnZUZsb2F0cyIsIm9wZW5BbGxWaWV3cyIsIm5leHRJblRyZWVMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZXRyeWVyIiwiQ29sdW1uTGF5b3V0UmV0cnllciIsImRvRmluaXNoQnJlYWsiLCJwc2V1ZG9QYXJlbnQiLCJkb0ZpbmlzaEJyZWFrT2ZGcmFnbWVudExheW91dENvbnN0cmFpbnRzIiwiaXNDb2x1bW5GdWxsV2l0aFBhZ2VGbG9hdHMiLCJnZXRNYXhCbG9ja1NpemVPZlBhZ2VGbG9hdHMiLCJzb3J0ZWRGcmFnbWVudExheW91dENvbnN0cmFpbnRzIiwiZ2V0UHJpb3JpdHlPZkZpbmlzaEJyZWFrIiwicGVuZGluZyIsImxheW91dE5leHQiLCJmaW5kQWNjZXB0YWJsZUJyZWFrUG9zaXRpb24iLCJicmVha1Bvc2l0aW9uQ2hvc2VuIiwiaXNQc2V1ZG9lbGVtZW50IiwiYmxvY2tTdGFydEVkZ2VPZkJsb2NrRW5kRmxvYXRzIiwiZ2V0QmxvY2tTdGFydEVkZ2VPZkJsb2NrRW5kRmxvYXRzIiwiaXNGaW5pdGUiLCJibG9ja0Rpc3RhbmNlVG9CbG9ja0VuZEZsb2F0cyIsImlzSW5zdGFuY2VPZlJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludCIsImdldEVsZW1lbnRzT2Zmc2V0c0ZvclRhYmxlQ2VsbCIsInBhcmVudENsb25lZFBhZGRpbmdCb3JkZXIiLCJzdGFydE5vZGVDb250ZXh0cyIsImFsbG93QnJlYWtBdFN0YXJ0UG9zaXRpb24iLCJzdGFydE5vZGVDb250ZXh0IiwiY2hlY2twb2ludEluZGV4Iiwidmlld0luZGV4IiwiYnJlYWtBZnRlclNvZnRIeXBoZW4iLCJicmVha0FmdGVyT3RoZXJDaGFyYWN0ZXIiLCJ1cGRhdGVOb2RlQ29udGV4dCIsInJlcGxhY2VEYXRhIiwiY2gwIiwiY2gxIiwiQmFzZS5pc0xldHRlciIsIkxheW91dFJldHJ5ZXJzLkFic3RyYWN0TGF5b3V0UmV0cnllciIsIkRlZmF1bHRMYXlvdXRNb2RlIiwiaW5pdGlhbE92ZXJmbG93biIsInByb2Nlc3NBZnRlcklmQ29udGludWVzT2ZBbmNlc3RvcnMiLCJoYXNOZXh0Q2FuZGlkYXRlIiwibmV4dENhbmRpZGF0ZSIsImZpeEZsb2F0U2l6ZUFuZFBvc2l0aW9uIiwicmVmV2lkdGgiLCJyZWZIZWlnaHQiLCJjb252ZXJ0UGVyY2VudGFnZVRvUHgiLCJyZWZWYWx1ZSIsInZhbHVlU3RyaW5nIiwiQmFzZS5nZXRDU1NQcm9wZXJ0eSIsInBlcmNlbnRhZ2VWYWx1ZSIsInJvb3RWaWV3Tm9kZSIsImZsb2F0TWFyZ2lucyIsIlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQiLCJyb290U291cmNlTm9kZSIsImdldFJvb3ROb2RlQ29udGV4dCIsImJlbG9uZ3NUbyIsIlNoYXJlZC5yZXBldGl0aXZlRWxlbWVudHNDYWNoZSIsImVsZW1lbnRzIiwiUmVwZXRpdGl2ZUVsZW1lbnRzIiwib3duZXJTb3VyY2VOb2RlIiwiaGVhZGVyTm9kZVBvc2l0aW9uIiwiaGVhZGVyU291cmNlTm9kZSIsImhlYWRlclZpZXdOb2RlIiwiZm9vdGVyTm9kZVBvc2l0aW9uIiwiZm9vdGVyU291cmNlTm9kZSIsImZvb3RlclZpZXdOb2RlIiwiaGVhZGVySGVpZ2h0IiwiZm9vdGVySGVpZ2h0IiwiaXNTa2lwSGVhZGVyIiwiaXNTa2lwRm9vdGVyIiwiZW5hYmxlU2tpcHBpbmdGb290ZXIiLCJlbmFibGVTa2lwcGluZ0hlYWRlciIsInJvb3ROb2RlQ29udGV4dCIsImFwcGVuZEVsZW1lbnRUb0ZyYWdtZW50IiwiTGF5b3V0LlBzZXVkb0NvbHVtbiIsImFsbG93SW5zZXJ0UmVwZWF0aXRpdmVFbGVtZW50cyIsIm1vdmVDaGlsZHJlbiIsImlzQWZ0ZXJMYXN0Q29udGVudCIsImZpbmRSZXN1bHRGcm9tQ2FjaGUiLCJhZnRlckxhc3RDb250ZW50Tm9kZUNhY2hlIiwiaXNBZnRlck5vZGVDb250ZXh0T2YiLCJsYXN0Q29udGVudFNvdXJjZU5vZGUiLCJhZmZlY3RlZE5vZGVDYWNoZSIsImNhY2hlIiwiY2FsY3VsYXRvciIsImNhY2hlRW50cnkiLCJpbmNsdWRlQ2hpbGRyZW4iLCJwYXJlbnRzT2ZOb2RlIiwiY3VycmVudFBhcmVudCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJmaXJzdENvbnRlbnRTb3VyY2VOb2RlIiwiTGF5b3V0RW50aXJlQmxvY2siLCJkb25lSW5pdGlhbExheW91dCIsInVwZGF0ZUhlaWdodCIsIkxheW91dEZyYWdtZW50ZWRCbG9jayIsIkxheW91dEVudGlyZU93bmVyQmxvY2siLCJkb0luaXRpYWxMYXlvdXQiLCJMYXlvdXRGcmFnbWVudGVkT3duZXJCbG9jayIsIlJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludCIsImlzRW5hYmxlVG9VcGRhdGVTdGF0ZSIsInVwZGF0ZVN0YXRlIiwicHJldmVudFNraXBwaW5nRm9vdGVyIiwiYXBwZW5kSGVhZGVyVG9GcmFnbWVudCIsImFwcGVuZEhlYWRlciIsImFwcGVuZEZvb3RlclRvRnJhZ21lbnQiLCJhcHBlbmRGb290ZXIiLCJwcmVwYXJlTGF5b3V0RnJhZ21lbnQiLCJSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFJldHJ5ZXIiLCJwcmV2ZW50U2tpcHBpbmdIZWFkZXIiLCJFbnRpcmVCbG9ja0xheW91dFN0cmF0ZWd5IiwiTGF5b3V0VXRpbC5FZGdlU2tpcHBlciIsImlzSGVhZGVyUmVnaXN0ZXJlZCIsInNldEhlYWRlck5vZGVDb250ZXh0IiwiaXNGb290ZXJSZWdpc3RlcmVkIiwic2V0Rm9vdGVyTm9kZUNvbnRleHQiLCJhcHBlbmRIZWFkZXJUb0FuY2VzdG9ycyIsImVhY2hBbmNlc3Rvck5vZGVDb250ZXh0IiwicmVwZXRpdGl2ZUxheW91dFByb2Nlc3NvciIsIkxheW91dFByb2Nlc3Nvci5CbG9ja0xheW91dFByb2Nlc3NvciIsImdldFJvb3RWaWV3Tm9kZSIsImdldFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHRPck51bGwiLCJpc0hlYWRlclNvdXJjZU5vZGUiLCJpc0Zvb3RlclNvdXJjZU5vZGUiLCJsYXlvdXRFbnRpcmVCbG9jayIsIkxheW91dFV0aWwuTGF5b3V0SXRlcmF0b3IiLCJpdGVyYXRlIiwiTGF5b3V0LnByb2Nlc3NBZnRlcklmQ29udGludWVzIiwiVGFibGVSb3ciLCJyb3dJbmRleCIsImNlbGwiLCJjZWxscyIsIlRhYmxlQ2VsbCIsImNvbHVtbkluZGV4Iiwidmlld0VsZW1lbnQiLCJjb2xTcGFuIiwicm93U3BhbiIsInNsb3QiLCJhbmNob3JTbG90IiwiVGFibGVTbG90IiwiVGFibGVDZWxsRnJhZ21lbnQiLCJwc2V1ZG9Db2x1bW5Db250YWluZXIiLCJjZWxsTm9kZUNvbnRleHQiLCJUYWJsZUNhcHRpb25WaWV3IiwiQmV0d2VlblRhYmxlUm93QnJlYWtQb3NpdGlvbiIsImdldEFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMiLCJhY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zIiwiY2VsbEZyYWdtZW50cyIsImdldENlbGxGcmFnbWVudHMiLCJjZWxsRnJhZ21lbnQiLCJmaW5kUm93SW5kZXhCeVNvdXJjZU5vZGUiLCJnZXRSb3dTcGFubmluZ0NlbGxzT3ZlcmZsb3dpbmdUaGVSb3ciLCJnZXRSb3dJbmRleCIsImdldENlbGxGcmFnbWVudE9mQ2VsbCIsIkluc2lkZVRhYmxlUm93QnJlYWtQb3NpdGlvbiIsImJlZm9yZU5vZGVDb250ZXh0IiwiYWxsQ2VsbHNCcmVha2FibGUiLCJpc1N0YXJ0Tm9kZUNvbnRleHQiLCJpc0xhc3RBZnRlck5vZGVDb250ZXh0Iiwicm93IiwiZ2V0Um93QnlJbmRleCIsImlzRnJlZWx5RnJhZ21lbnRhYmxlUm93IiwiZ2V0Q2VsbHNGYWxsaW5nT25Sb3ciLCJUYWJsZUZvcm1hdHRpbmdDb250ZXh0IiwiUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQiLCJ0YWJsZVNvdXJjZU5vZGUiLCJjZWxsQnJlYWtQb3NpdGlvbnMiLCJjZWxsTm9kZVBvc2l0aW9uIiwicm93cyIsInJvd1Nsb3RzIiwic2xvdHMiLCJhZGRSb3ciLCJhZGRDZWxsIiwicm93VXBwZXIiLCJnZXRSb3dTbG90cyIsInN0YXJ0Q29sSW5kZXgiLCJzZXRBbmNob3JTbG90IiwidW5pcXVlQ2VsbHMiLCJnZXRNaW5pbXVtSGVpZ2h0IiwidGFibGVXaWR0aCIsImNvbHVtbkNvdW50Iiwic3VtIiwic2V0SGVpZ2h0IiwidGFibGVDZWxsIiwiY29sIiwiY29sbGVjdGVkIiwiY29sbGVjdEVsZW1lbnRzT2Zmc2V0RnJvbUNvbHVtbiIsImVsZW1lbnRzSW5Db2x1bW4iLCJFbGVtZW50c09mZnNldE9mVGFibGVDZWxsIiwicmVwZWF0aXRpdmVFbGVtZW50c0luQ29sdW1ucyIsImNhbGN1bGF0ZU1heE9mZnNldE9mQ29sdW1uIiwibWF4T2Zmc2V0IiwiaXNWYWxpZFBhcmVudE9mVGFibGVSb3ciLCJpc1RhYmxlUm93R3JvdXBpbmciLCJpc1RhYmxlUm9vdCIsInNraXBOZXN0ZWRUYWJsZSIsInBhcmVudERpc3BsYXkiLCJpc05lc3RlZElubGluZVRhYmxlIiwiRW50aXJlVGFibGVMYXlvdXRTdHJhdGVneSIsInBvc3RMYXlvdXRCbG9ja0NvbnRlbnRzIiwiY2FwdGlvblZpZXciLCJjYXB0aW9ucyIsImluSGVhZGVyT3JGb290ZXIiLCJpblJvdyIsImNvbXB1dGVkU3R5bGUiLCJsYXN0Um93Vmlld05vZGUiLCJyZWdpc3RlckNoZWNrUG9pbnQiLCJUYWJsZUxheW91dFN0cmF0ZWd5Iiwib3JpZ2luYWxTdG9wQXRPdmVyZmxvdyIsImNvbFdpZHRocyIsInN0YXJ0Q2h1bmtQb3NpdGlvbiIsImNlbGxWaWV3Tm9kZSIsImdldENvbFNwYW5uaW5nQ2VsbFdpZHRoIiwiYWRkQ2VsbEZyYWdtZW50Iiwic2xvdEluZGV4IiwiY2VsbEJyZWFrUG9zaXRpb24iLCJyb3dTcGFubmluZ0NlbGxCcmVha1Bvc2l0aW9ucyIsImN1cnJlbnRSb3dJbmRleCIsImV4dHJhY3RSb3dTcGFubmluZ0NlbGxCcmVha1Bvc2l0aW9ucyIsInJvd0NvdW50IiwiY3VycmVudFJvdyIsInNwYW5uaW5nQ2VsbFJvd0luZGV4Iiwib2NjdXBpZWRTbG90SW5kaWNlcyIsInJvd0NlbGxCcmVha1Bvc2l0aW9ucyIsInJvd05vZGVDb250ZXh0IiwiY29udDEiLCJhZGREdW1teUNlbGxVbnRpbCIsInVwcGVyQ29sdW1uSW5kZXgiLCJkdW1teSIsImJyZWFrQ2h1bmtQb3NpdGlvbiIsImxheW91dENlbGwiLCJnZXRDb2x1bW5Db3VudCIsImluSGVhZGVyIiwiaW5Gb290ZXIiLCJjdXJyZW50Q29sdW1uSW5kZXgiLCJsYXlvdXRSb3dTcGFubmluZ0NlbGxzRnJvbVByZXZpb3VzRnJhZ21lbnQiLCJyZWdpc3RlckNlbGxGcmFnbWVudEluZGV4IiwicmVzZXRDb2x1bW4iLCJ0ZE5vZGVTdGVwIiwiZ2V0RWxlbWVudE9mZnNldCIsIkxheW91dC5yZWdpc3RlckZyYWdtZW50SW5kZXgiLCJhZnRlck5vZGVDb250ZXh0IiwiaGFzQnJva2VuQ2VsbEF0U2xvdCIsInN0YXJ0Tm9kZVBvc2l0aW9uIiwic3RhcnRUYWJsZVJvdyIsInN0YXJ0VGFibGVDZWxsIiwiaWdub3JlTGlzdCIsInRhYmxlLWNhcHRpb24iLCJ0YWJsZS1jb2x1bW4tZ3JvdXAiLCJ0YWJsZS1jb2x1bW4iLCJ0YWJsZUxheW91dE9wdGlvbkNhY2hlIiwiVGFibGVMYXlvdXRQcm9jZXNzb3IiLCJsYXN0Um93IiwiZHVtbXlSb3ciLCJkdW1teUNlbGxzIiwidGFibGVFbGVtZW50IiwiY29sR3JvdXBzIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjb2xzIiwiY29sR3JvdXAiLCJnZXRDb2x1bW5XaWR0aHMiLCJnZXRDb2xHcm91cEVsZW1lbnRzIiwibm9ybWFsaXplQW5kR2V0Q29sRWxlbWVudHMiLCJhZGRNaXNzaW5nQ29sRWxlbWVudHMiLCJpbml0aWFsaXplUmVwZXRpdGl2ZUVsZW1lbnRzIiwidGFibGVMYXlvdXRPcHRpb24iLCJ0YWJsZVJvb3RTb3VyY2VOb2RlIiwicGFpciIsImdldFRhYmxlTGF5b3V0T3B0aW9uIiwiY2xlYXJUYWJsZUxheW91dE9wdGlvbkNhY2hlIiwibGF5b3V0RW50aXJlVGFibGUiLCJ0YWJsZUJCb3giLCJjYWxjdWxhdGVCcmVha1Bvc2l0aW9uc0luc2lkZSIsIkVudGlyZVRhYmxlQnJlYWtQb3NpdGlvbiIsIm5vcm1hbGl6ZUNvbEdyb3VwcyIsInVwZGF0ZUNlbGxTaXplcyIsImNhcHRpb24iLCJhZGRDYXB0aW9ucyIsImFkZENvbEdyb3VwcyIsIml0ZXJhdG9yIiwiUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLmFwcGVuZEhlYWRlclRvQW5jZXN0b3JzIiwiTGF5b3V0UmV0cnllciIsImNlbGxDb250ZW50RWxlbWVudCIsImdldENvbHVtbkVsZW1lbnQiLCJjZWxsRWxlbWVudCIsImNlbGxFbGVtZW50UmVjdCIsImFkanVzdENlbGxIZWlnaHQiLCJmaW5pc2hGcmFnbWVudCIsInRhYmxlRm9ybWF0dGluZ0NvbnRleHQiLCJMYXlvdXRGcmFnbWVudGVkVGFibGUiLCJMYXlvdXRFbnRpcmVUYWJsZSIsInJlbW92ZUNvbEdyb3VwcyIsIlJlcGV0aXRpdmVFbGVtZW50SW1wbC5MYXlvdXRFbnRpcmVCbG9jayIsInRhYmxlTm9kZUNvbnRleHQiLCJFbnRpcmVUYWJsZUxheW91dENvbnN0cmFpbnQiLCJ0YWJsZVJvb3ROb2RlIiwiUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLkxheW91dEZyYWdtZW50ZWRCbG9jayIsIlRhYmxlUm93TGF5b3V0Q29uc3RyYWludCIsImVxdWFsc1RvIiwiUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLlJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludCIsImNvbGxlY3RDZWxsRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyIsImNlbGxGcmFnbWVudExheW91dENvbnN0cmFpbnRzIiwicmVtb3ZlRHVtbXlSb3dOb2RlcyIsImFycmF5IiwiZHVtbXlOb2RlIiwiZ2V0Q2VsbEZyYWdlbW50cyIsImZpbmRDZWxsRnJvbUNvbHVtbiIsImNvbGxlY3RFbGVtZW50c09mZnNldE9mVXBwZXJDZWxscyIsImNvbGxlY3RFbGVtZW50c09mZnNldE9mSGlnaGVzdENvbHVtbiIsInRhYmxlTGF5b3V0UHJvY2Vzc29yIiwibWVhbiIsIkNvbHVtbkJhbGFuY2luZ1RyaWFsUmVzdWx0IiwibGF5b3V0UmVzdWx0IiwiZ2V0QmxvY2tTaXplIiwic2V0QmxvY2tTaXplIiwiQ29sdW1uQmFsYW5jZXIiLCJsYXlvdXRDb250YWluZXIiLCJjb2x1bW5HZW5lcmF0b3IiLCJyZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0Iiwib3JpZ2luYWxDb250YWluZXJCbG9ja1NpemUiLCJwcmVCYWxhbmNlIiwic2F2ZVBhZ2VGbG9hdExheW91dENvbnRleHRzIiwiY2FuZGlkYXRlcyIsImNyZWF0ZVRyaWFsUmVzdWx0IiwidXBkYXRlQ29uZGl0aW9uIiwicmVzdG9yZUNvbnRlbnRzIiwicG9zdEJhbGFuY2UiLCJjYWxjdWxhdGVQZW5hbHR5IiwiZGV0YWNoQ2hpbGRyZW4iLCJjb2x1bW5QYWdlRmxvYXRMYXlvdXRDb250ZXh0cyIsIm5ld0xheW91dFJlc3VsdCIsImNvbHVtbnMiLCJhdHRhY2hDaGlsZHJlbiIsIkNPTFVNTl9MRU5HVEhfU1RFUCIsImNhblJlZHVjZUNvbnRhaW5lclNpemUiLCJsYXN0Q2FuZGlkYXRlIiwic2Vjb25kTGFzdENhbmRpZGF0ZSIsInJlZHVjZUNvbnRhaW5lclNpemUiLCJuZXdFZGdlIiwiQmFsYW5jZUxhc3RDb2x1bW5CYWxhbmNlciIsInRvdGFsQmxvY2tTaXplIiwib3JpZ2luYWxQb3NpdGlvbiIsImNoZWNrUG9zaXRpb24iLCJpc0xhc3RDb2x1bW5Mb25nZXJUaGFuQW55T3RoZXJDb2x1bW4iLCJmb3VuZFVwcGVyQm91bmQiLCJsYXN0Q29sdW1uQmxvY2tTaXplIiwiQmFsYW5jZU5vbkxhc3RDb2x1bW5CYWxhbmNlciIsIm1lYW5WYWx1ZSIsIk1hdGhVdGlsLnZhcmlhbmNlIiwiU2xpcFJhbmdlIiwiZW5kU3R1Y2tGaXhlZCIsImVuZEZpeGVkIiwiZW5kU2xpcHBlZCIsIlNsaXBNYXAiLCJzbGlwcGVkIiwiQm94IiwiYXRCbG9ja1N0YXJ0IiwiYXRGbG93U3RhcnQiLCJpc1BhcmVudEJveERpc3BsYXllZCIsImhhc0JveCIsIl9wc2V1ZG9zIiwiYmVmb3JlQm94Iiwic3R5bGVWYWx1ZSIsImdldEJyZWFrVmFsdWUiLCJhZnRlckJveCIsInN0eWxlVmFsdWVzIiwiY3YiLCJpc0Jsb2NrVmFsdWUiLCJkaXNwbGF5VmFsdWUiLCJoYXNCb3hWYWx1ZSIsIkJveFN0YWNrIiwibGFzdEJveCIsIm5ld0Zsb3dDaHVuayIsImF0U3RhcnRTdGFjayIsImlzQXRGbG93U3RhcnQiLCJpc0N1cnJlbnRCb3hEaXNwbGF5ZWQiLCJWdHJlZS5jYW5JZ25vcmUiLCJWdHJlZS53aGl0ZXNwYWNlRnJvbVByb3BlcnR5VmFsdWUiLCJidWlsZEFmdGVyUHNldWRvRWxlbWVudEJveCIsImF0U3RhcnQiLCJTdHlsZXIiLCJwcmltYXJ5Rmxvd3MiLCJjYXNjYWRlSG9sZGVyIiwiY3JlYXRlSW5zdGFuY2UiLCJvZmZzZXRNYXAiLCJyb290T2Zmc2V0IiwibGFzdE9mZnNldCIsImJveFN0YWNrIiwiYWRkU3R1Y2tSYW5nZSIsImdldEF0dHJTdHlsZSIsInB1c2hFbGVtZW50IiwicG9zdHByb2Nlc3NUb3BTdHlsZSIsImJvZHlSZWFjaGVkIiwicHJpbWFyeVN0YWNrIiwicmVwbGF5Rmxvd0VsZW1lbnRzRnJvbU9mZnNldCIsInNyY1N0eWxlIiwicG5hbWUiLCJyb290U3R5bGUiLCJDc3NQYXJzZXIuU1BFQ0lGSUNJVFlfQVVUSE9SIiwiZWxlbVN0eWxlIiwiaXNCb2R5Iiwicm9vdEJhY2tncm91bmRBc3NpZ25lZCIsImJhY2tncm91bmRDb2xvciIsImhhc1Byb3AiLCJiYWNrZ3JvdW5kUHJvcHMiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJ0cmFuc2ZlclByb3BzVG9Sb290Iiwicm9vdExheW91dEFzc2lnbmVkIiwiY29sdW1uUHJvcHMiLCJsYXlvdXRQcm9wcyIsInVuaXRTaXplIiwic3R5bGVVbnRpbCIsIkNTU1N0eWxlRGVjbGFyYXRpb24iLCJDc3NDYXNjYWRlLnBhcnNlU3R5bGVBdHRyaWJ1dGUiLCJDc3NDYXNjYWRlLmdldFByb3AiLCJmbG93TmFtZVN0ciIsImVuY291bnRlcmVkRmxvd0VsZW1lbnQiLCJnZXROb2RlQnlPZmZzZXQiLCJub2RlT2Zmc2V0IiwiZ2V0Tm9kZU9mZnNldCIsImZsb3dMaXN0ZW5lciIsImZsb3dDaHVua3MiLCJlbmNvdW50ZXJlZEZsb3dDaHVuayIsImZsb3dUb1JlYWNoIiwiaWRUb1JlYWNoIiwib3B0aW9uc0NWIiwiQ3NzUHJvcC50b1NldCIsInN0YXRpYyIsImxpbmdlckNWIiwiQ3NzUHJvcC50b0ludCIsInByaW9yaXR5Q1YiLCJicmVha0JlZm9yZVZhbHVlcyIsImZsb3ciLCJsYXN0Rmxvd05hbWUiLCJWdHJlZS5GbG93IiwiVnRyZWUuRmxvd0NodW5rIiwiZm9yY2VkQnJlYWtPZmZzZXRzIiwicHJldmlvdXNWYWx1ZSIsImxvb2t1cCIsInNsaXBwZWRPZmZzZXQiLCJ0YXJnZXRTbGlwcGVkT2Zmc2V0Iiwic2xpcHBlZEJ5Rml4ZWQiLCJnZXRNYXhTbGlwcGVkIiwiZml4ZWRCeVNsaXBwZWQiLCJwb3BFbGVtZW50IiwiYWZ0ZXJQc2V1ZG9CcmVha0JlZm9yZSIsInJlZ2lzdGVyRm9yY2VkQnJlYWtPZmZzZXQiLCJuZWFyZXN0QmxvY2tTdGFydE9mZnNldCIsImVuY291bnRlcmVkVGV4dE5vZGUiLCJhZGRTbGlwcGVkUmFuZ2UiLCJibG9ja1N0YXJ0T2Zmc2V0IiwiYmVmb3JlUHNldWRvQnJlYWtBZnRlciIsInZhbGlkYXRvciIsIkNvbm5lY3Rpb24iLCJ3aGVyZSIsIlZhbGlkYXRpbmdHcm91cCIsIm5vZGVJbmRleCIsImNvbm5lY3Rpb25zIiwid2hhdCIsImdyb3VwIiwiY2xvbmVkTm9kZSIsImNvbm5lY3Rpb24iLCJncm91cENvbm5lY3Rpb24iLCJub21hdGNoIiwiY2xhdXNlIiwiQUxXQVlTX0ZBSUwiLCJtYXJrQXNTdGFydEFsdGVybmF0ZSIsIm1hcmtBc0VuZEFsdGVybmF0ZSIsIm1hcmtBc1N0YXJ0R3JvdXAiLCJtYXJrQXNFbmRHcm91cCIsImNvbm5lY3QiLCJmYWlsdXJlIiwiYXJycyIsImFkZFNwZWNpYWxUb0FyciIsImVtcHR5SGVhZCIsImlzU2ltcGxlIiwiUHJpbWl0aXZlVmFsaWRhdG9yIiwiaG93IiwiQUxURVJOQVRFIiwiaXNQcmltaXRpdmUiLCJjb21iaW5lIiwiY29ubmVjdGlvbkluZGV4IiwiUkVQRUFURUQiLCJPUFRJT05BTCIsInN1Y2Nlc3NUZXJtaW5hbCIsImZhaWxUZXJtaW5hbCIsIkFMTE9XX0VNUFRZIiwiQUxMT1dfU1RSIiwiQUxMT1dfSURFTlQiLCJBTExPV19QT1NfTlVNRVJJQyIsIkFMTE9XX1BPU19OVU0iLCJBTExPV19QT1NfSU5UIiwiQUxMT1dfQ09MT1IiLCJBTExPV19VUkwiLCJBTExPV19ORUdBVElWRSIsIkFMTE9XX1pFUk8iLCJBTExPV19aRVJPX1BFUkNFTlQiLCJBTExPV19TTEFTSCIsIlByb3BlcnR5VmFsaWRhdG9yIiwicnZhbCIsImlkZW50cyIsInVuaXRzIiwiTk9fSURFTlRTIiwiTGlzdFZhbGlkYXRvciIsImZhaWx1cmVUZXJtaW5hbCIsInN0YXJ0SW5kZXgiLCJhbHRlcm5hdGl2ZVN0YWNrIiwiYWx0ZXJuYXRpdmVzIiwiaW52YWwiLCJvdXR2YWwiLCJpc1N0YXJ0R3JvdXAiLCJpc0VuZEdyb3VwIiwiaXNFbmRBbHRlcm5hdGUiLCJnZXRBbHRlcm5hdGUiLCJTcGFjZUxpc3RWYWxpZGF0b3IiLCJDb21tYUxpc3RWYWxpZGF0b3IiLCJ2YWxpZGF0ZVNpbmdsZSIsInZhbGlkYXRlTGlzdCIsImhhc0NvbW1hTGlzdFZhbGlkYXRvciIsInZhbGlkYXRlRm9yU2hvcnRoYW5kIiwiRnVuY1ZhbGlkYXRvciIsIlNob3J0aGFuZFN5bnRheE5vZGUiLCJzaG9ydGhhbmRWYWxpZGF0b3IiLCJTaG9ydGhhbmRTeW50YXhQcm9wZXJ0eSIsInZhbGlkYXRvcnMiLCJydmFscyIsImxlbiIsIlNob3J0aGFuZFN5bnRheFByb3BlcnR5TiIsIlNob3J0aGFuZFN5bnRheENvbXBvdW5kIiwiaW5kZXgwIiwidHJ5UGFyc2UiLCJTaG9ydGhhbmRWYWxpZGF0b3IiLCJzeW50YXgiLCJwcm9wTGlzdCIsInJlY2VpdmVyIiwiZGVmYXVsdFZhbHVlcyIsIlNpbXBsZVNob3J0aGFuZFZhbGlkYXRvciIsIkluc2V0c1Nob3J0aGFuZFZhbGlkYXRvciIsInNob3J0aGFuZFZhbGlkYXRvcnMiLCJTSU1QTEUiLCJJTlNFVFMiLCJJTlNFVFNfU0xBU0giLCJzbGFzaEluZGV4IiwiaW5kZXgxIiwidmFscyIsImFjYyIsIkZPTlQiLCJmYW1pbHlMaXN0IiwiZmFtaWx5Iiwic3lzdGVtRm9udHMiLCJWYWxpZGF0b3JTZXQiLCJjc3N2YWwiLCJDc3NQYXJzZXIuY29sb3JGcm9tSGFzaCIsInN1Ymdyb3VwIiwic3RhcnRDbGF1c2UiLCJhZGRHcm91cCIsIkZPTExPVyIsImVuZENsYXVzZSIsInN0YXJ0U3BlY2lhbEdyb3VwIiwiZW5kU3BlY2lhbEdyb3VwIiwiYWRkUHJpbWl0aXZlIiwicHJpbWl0aXZlIiwibmFtZWRWYWxpZGF0b3JzIiwiSEFTSENPTE9SIiwiUE9TX0lOVCIsIlBPU19OVU0iLCJQT1NfUEVSQ0VOVEFHRSIsIiUiLCJORUdBVElWRSIsIlpFUk8iLCJaRVJPX1BFUkNFTlRBR0UiLCJQT1NfTEVOR1RIIiwidmkiLCJ2bWluIiwidm1heCIsInB2aSIsInB2YiIsInB2bWluIiwicHZtYXgiLCJQT1NfQU5HTEUiLCJkZWciLCJncmFkIiwicmFkIiwidHVybiIsIlBPU19USU1FIiwibXMiLCJGUkVRVUVOQ1kiLCJIeiIsImtIeiIsIlJFU09MVVRJT04iLCJVUkkiLCJTVFJJTkciLCJzdGRmb250IiwiaWNvbiIsIm1lbnUiLCJzZWN0aW9uIiwicnVsZVByZWZpeGVzIiwiaXNCdWlsdEluIiwicHJlZml4ZXMiLCJyZWFkTmFtZUFuZFByZWZpeGVzIiwiZXhwZWN0dmFsIiwibmV3R3JvdXAiLCJzZXRvcCIsImN1cnJvcCIsImJ1aWx0SW4iLCJuZXdGdW5jIiwiYWRkUmVwbGFjZW1lbnQiLCJhZGRDb3VudHMiLCJzZXRPd25lciIsInN5bnRheE5vZGVGb3JQcm9wZXJ0eSIsInNob3J0aGFuZHMiLCJpbnNldFNob3J0aGFuZCIsImNyZWF0ZVN5bnRheE5vZGUiLCJjb21wb3VuZCIsInBhcnNlVmFsaWRhdG9ycyIsInBhcnNlRGVmYXVsdHMiLCJwYXJzZVNob3J0aGFuZHMiLCJtYWtlUHJvcFNldCIsInNob3J0aGFuZCIsInB2YWwiLCJvcmlnTmFtZSIsInVua25vd25Qcm9wZXJ0eSIsInJ2YWx1ZSIsImludmFsaWRQcm9wZXJ0eVZhbHVlIiwicHJvcGFnYXRlSW5oZXJpdCIsImJhc2VWYWxpZGF0b3JTZXQiLCJpbml0QnVpbHRJblZhbGlkYXRvcnMiLCJWYWxpZGF0aW9uVHh0IiwidHJhaXRQcm9wcyIsImJvZ3VzRm9udERhdGEiLCJib2d1c0ZvbnRDb3VudGVyIiwicHJlcGFyZVByb3BlcnRpZXMiLCJwcm9wZXJ0aWVzIiwiZmlsbERlZmF1bHRzIiwiRmFjZSIsImZvbnRUcmFpdEtleSIsIm1ha2VGb250VHJhaXRLZXkiLCJmb250Qnl0ZXMiLCJibG9iVVJMIiwiYmxvYiIsIndlYmtpdFVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIk5ldC5jcmVhdGVPYmplY3RVUkwiLCJibG9iVVJMcyIsImJsb2JzIiwiRG9jdW1lbnRGYWNlcyIsImRlb2JmdXNjYXRvciIsInNyY0ZhY2UiLCJ2aWV3RmFjZSIsInNyY0ZhbWlseSIsInZpZXdGYW1pbHlGcm9tU3JjIiwiZmFtaWx5TWFwIiwidmlld0ZhbWlseUZyb21WaWV3IiwibmV3VmFsdWVzIiwicmYiLCJNYXBwZXIiLCJvcHRfZmFtaWx5UHJlZml4IiwiZmFtaWx5UHJlZml4IiwiZG9jdW1lbnRGYWNlcyIsInZpZXdGYW1pbHkiLCJmYW1pbHlDb3VudGVyIiwiZ2V0Vmlld0ZvbnRGYW1pbHkiLCJ2aWV3Rm9udEZhY2UiLCJraWxsVGltZSIsImJvZ3VzRGF0YSIsIm1ha2VBdFJ1bGUiLCJOZXQubWFrZUJsb2IiLCJpbml0V2lkdGgiLCJpbml0SGVpZ2h0IiwibG9hZGVkIiwiY3VycldpZHRoIiwiY3VyckhlaWdodCIsInNsZWVwIiwic3JjVVJMTWFwIiwicGlnZ3liYWNrIiwidmlld0ZhY2VQYXJhbSIsInRyYWl0c0VxdWFsIiwicmVnaXN0ZXJGYW1pbHkiLCJOZXQuWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGUiLCJCTE9CIiwiaW5pdEZvbnQiLCJzcmNGYWNlcyIsImxvYWRGb250IiwiVGFza1V0aWwud2FpdEZvckZldGNoZXJzIiwia2V5Q291bnQiLCJQYWdlQm94IiwiX3Njb3BlIiwicGFyZW50SW5zdGFuY2UiLCJwYXJhbSIsImRlc3RTcGVjaWZpZWQiLCJSb290UGFnZUJveCIsIkNzcy5mdWxsV2lkdGgiLCJDc3MuZnVsbEhlaWdodCIsIlBhZ2VNYXN0ZXJTY29wZSIsIkV4cHJzLkxleGljYWxTY29wZSIsInBhZ2VNYXN0ZXIiLCJpc0Z1bmMiLCJrZXlNYXAiLCJib3hJbnN0YW5jZSIsImxvb2t1cEluc3RhbmNlIiwicmVzb2x2ZUZ1bmMiLCJyZXNvbHZlTmFtZSIsIlBhZ2VNYXN0ZXIiLCJQYWdlTWFzdGVySW5zdGFuY2UiLCJjb3B5U3BlY2lmaWVkIiwiY2xvbmVDaGlsZHJlbiIsIlBhcnRpdGlvbkdyb3VwIiwiUGFydGl0aW9uR3JvdXBJbnN0YW5jZSIsIlBhcnRpdGlvbiIsIlBhcnRpdGlvbkluc3RhbmNlIiwidG9FeHByQXV0byIsInRvRXhwclplcm8iLCJ0b0V4cHJaZXJvQXV0byIsInRvRXhwclplcm9Cb3JkZXIiLCJzdHlsZVZhbCIsInRvRXhwckJvb2wiLCJQYWdlQm94SW5zdGFuY2UiLCJwYWdlQm94IiwiY2FsY3VsYXRlZFdpZHRoIiwiY2FsY3VsYXRlZEhlaWdodCIsIkV4cHJzLmFkZCIsIm5hbWVkVmFsdWVzIiwiYWRkTmFtZWRWYWx1ZXMiLCJhbHROYW1lIiwiQ3NzQ2FzY2FkZS5jb3VwbGluZ01hcFZlcnQiLCJDc3NDYXNjYWRlLmNvdXBsaW5nTWFwSG9yIiwibmFtZWRGdW5jcyIsImNvbHVtbkdhcCIsIkV4cHJzLnN1YiIsIkV4cHJzLm11bCIsIm1pblBhZ2VXaWR0aCIsIm1pblBhZ2VIZWlnaHQiLCJib3hTcGVjaWZpY0VuYWJsZWQiLCJwYXJlbnRXaWR0aCIsImxlZnRCUCIsInJpZ2h0QlAiLCJleHRyYSIsImF1dG9XaWR0aCIsImlzQXV0b1dpZHRoIiwicmVtYWlucyIsInBhcmVudEhlaWdodCIsInRvcEJQIiwiYm90dG9tQlAiLCJhdXRvSGVpZ2h0IiwiaXNBdXRvSGVpZ2h0IiwidG9FeHByTm9ybWFsIiwiRXhwcnMuZGl2IiwiZGVwZW5kIiwicmVnaXN0ZXJJbnN0YW5jZSIsImdldEFjdGl2ZVJlZ2lvbnMiLCJDc3NDYXNjYWRlLmZsYXR0ZW5DYXNjYWRlZFN0eWxlIiwiQ3NzQ2FzY2FkZS5pc1ZlcnRpY2FsIiwiQ3NzQ2FzY2FkZS5pc1J0bCIsIkNzc0Nhc2NhZGUuY29udmVydFRvUGh5c2ljYWwiLCJpbml0SG9yaXpvbnRhbCIsImluaXRWZXJ0aWNhbCIsImluaXRDb2x1bW5zIiwiaW5pdEVuYWJsZWQiLCJDc3MudG9OdW1iZXIiLCJDc3NDYXNjYWRlLmdldFNwZWNpYWwiLCJkb2NGYWNlcyIsInByb3BhZ2F0ZVByb3BlcnR5VG9FbGVtZW50IiwiRXhwcnMubmVlZFVuaXRDb252ZXJzaW9uIiwiQ3NzLmNvbnZlcnROdW1lcmljVG9QeCIsImZpbHRlckZvbnRGYW1pbHkiLCJWdHJlZS5EZWxheWVkSXRlbSIsImdldFByb3BBc051bWJlciIsInhwb3MiLCJzbmFwT2Zmc2V0WCIsInlwb3MiLCJzbmFwT2Zmc2V0WSIsImFzc2lnblJpZ2h0UG9zaXRpb24iLCJhc3NpZ25Ub3BQb3NpdGlvbiIsImFzc2lnbkxlZnRQb3NpdGlvbiIsImFzc2lnbkJvdHRvbVBvc2l0aW9uIiwiaXNUb3BEZXBlbmRlbnRPbkF1dG9IZWlnaHQiLCJpc1JpZ2h0RGVwZW5kZW50T25BdXRvV2lkdGgiLCJzaXplV2l0aE1heFdpZHRoIiwic2l6ZVdpdGhNYXhIZWlnaHQiLCJhc3NpZ25CZWZvcmVQb3NpdGlvbiIsImFzc2lnbkFmdGVyUG9zaXRpb24iLCJhc3NpZ25TdGFydEVuZFBvc2l0aW9uIiwicGFzc1ByZVByb3BlcnRpZXMiLCJwcm9wYWdhdGVQcm9wZXJ0eSIsInBhc3NDb250ZW50UHJvcGVydGllcyIsInBhc3NTaW5nbGVVcmlDb250ZW50UHJvcGVydGllcyIsInJlYWRIZWlnaHQiLCJyZWFkV2lkdGgiLCJiYm94IiwicnVsZVdpZHRoIiwicnVsZVN0eWxlIiwicnVsZUNvbG9yIiwiY29udGFpbmVyU2l6ZSIsImJvcmRlciIsInJ1bGUiLCJwYXNzUG9zdFByb3BlcnRpZXMiLCJkZWxheWVkUHJvcGVydGllcyIsInByb3BhZ2F0ZURlbGF5ZWRQcm9wZXJ0eSIsImRvY0VsZW1lbnRTdHlsZSIsIkNzc0Nhc2NhZGUuaXNQcm9wTmFtZSIsIkNzc0Nhc2NhZGUuc2V0UHJvcCIsInVzZXJBZ2VudFBhZ2VNYXN0ZXJQc2V1ZG8iLCJwdXNoUnVsZSIsIkNzc0Nhc2NhZGUuQ29udGVudFByb3BWaXNpdG9yIiwiYXBwbHlDYXNjYWRlQW5kSW5pdCIsInBvcFJ1bGUiLCJkZXBlbmRzIiwiY2hpbGRJbnN0YW5jZSIsInJlc29sdmVBdXRvU2l6aW5nIiwiUm9vdFBhZ2VCb3hJbnN0YW5jZSIsInBhZ2VNYXN0ZXJJbnN0YW5jZSIsImxpc3RWYWwiLCJjb25mbGljdGluZyIsIkNzcy5JZGVudCIsInFuYW1lIiwidGVybSIsInJlcXVpcmVkIiwidG9FeHBySWRlbnQiLCJwcm9jZXNzUGFydGl0aW9uTGlzdCIsInBtRW5hYmxlZFZhbCIsInBtRW5hYmxlZCIsInByZXBhcmVDb250YWluZXIiLCJQYWdlQm94UGFyc2VySGFuZGxlciIsIlBhcnRpdGlvblBhcnNlckhhbmRsZXIiLCJQYXJ0aXRpb25Hcm91cFBhcnNlckhhbmRsZXIiLCJDc3MuaHVuZHJlZFBlcmNlbnQiLCJwYXJ0aXRpb24iLCJwYXJ0aXRpb25Hcm91cCIsIlBhZ2VNYXN0ZXJQYXJzZXJIYW5kbGVyIiwicmVzb2x2ZVBhZ2VQcm9ncmVzc2lvbiIsIkNvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24iLCJwYWdlU2l6ZXMiLCJhNSIsImE0IiwiYTMiLCJiNSIsImI0IiwiamlzLWI1IiwiamlzLWI0IiwibGV0dGVyIiwibGVnYWwiLCJsZWRnZXIiLCJkZWZhdWx0UHJpbnRlck1hcmtMaW5lV2lkdGgiLCJkZWZhdWx0UHJpbnRlck1hcmtPZmZzZXQiLCJkZWZhdWx0UHJpbnRlck1hcmtMaW5lTGVuZ3RoIiwiZGVmYXVsdEJsZWVkT2Zmc2V0IiwicmVzb2x2ZVBhZ2VTaXplQW5kQmxlZWQiLCJwYWdlU2l6ZUFuZEJsZWVkIiwiYmxlZWQiLCJDc3MubnVtZXJpY1plcm8iLCJibGVlZE9mZnNldCIsInZhbDEiLCJpc1NwYWNlTGlzdCIsIm1hcmtzIiwiaGFzQ3JvcCIsImV2YWx1YXRlUGFnZVNpemVBbmRCbGVlZCIsImV2YWx1YXRlZCIsImNyb3BPZmZzZXQiLCJjcmVhdGVQcmludGVyTWFya1N2ZyIsImNyZWF0ZVByaW50ZXJNYXJrRWxlbWVudCIsImxpbmVXaWR0aCIsImVsZW1lbnRUeXBlIiwiQ29ybmVyTWFya1Bvc2l0aW9uIiwiQ3Jvc3NNYXJrUG9zaXRpb24iLCJhZGRQcmludGVyTWFya3MiLCJldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkIiwicHJpbnRlck1hcmtPZmZzZXQiLCJiZ2NvbG9yIiwiY3JvcE1hcmtMaW5lTGVuZ3RoIiwiYmxlZWRNYXJrTGluZUxlbmd0aCIsIm1heExpbmVMZW5ndGgiLCJzdmdXaWR0aCIsInBvaW50czEiLCJwb2ludHMyIiwiVE9QX1JJR0hUIiwiQk9UVE9NX1JJR0hUIiwiQk9UVE9NX0xFRlQiLCJsaW5lMSIsImxpbmUyIiwiY3JlYXRlQ29ybmVyTWFyayIsImxvbmdMaW5lTGVuZ3RoIiwiQk9UVE9NIiwiaG9yaXpvbnRhbExpbmUiLCJ2ZXJ0aWNhbExpbmUiLCJvcHBvc2l0ZSIsIkxFRlQiLCJSSUdIVCIsImNyZWF0ZUNyb3NzTWFyayIsInByb3BlcnRpZXNBcHBsaWVkVG9QYXJ0aXRpb24iLCJvdXRsaW5lIiwib3V0bGluZS13aWR0aCIsIm91dGxpbmUtc3R5bGUiLCJvdXRsaW5lLWNvbG9yIiwiTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uIiwicGFnZU1hcmdpbkJveGVzIiwidG9wLWxlZnQtY29ybmVyIiwiaXNJblRvcFJvdyIsImlzSW5Cb3R0b21Sb3ciLCJpc0luTGVmdENvbHVtbiIsImlzSW5SaWdodENvbHVtbiIsInBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbiIsInRvcC1sZWZ0IiwiU1RBUlQiLCJ0b3AtY2VudGVyIiwiQ0VOVEVSIiwidG9wLXJpZ2h0IiwidG9wLXJpZ2h0LWNvcm5lciIsInJpZ2h0LXRvcCIsInJpZ2h0LW1pZGRsZSIsInJpZ2h0LWJvdHRvbSIsImJvdHRvbS1yaWdodC1jb3JuZXIiLCJib3R0b20tcmlnaHQiLCJib3R0b20tY2VudGVyIiwiYm90dG9tLWxlZnQiLCJib3R0b20tbGVmdC1jb3JuZXIiLCJsZWZ0LWJvdHRvbSIsImxlZnQtbWlkZGxlIiwibGVmdC10b3AiLCJwYWdlTWFyZ2luQm94TmFtZXMiLCJwYWdlUnVsZU1hc3RlclBzZXVkb05hbWUiLCJtYXJnaW5Cb3hlc0tleSIsIlBhZ2VSdWxlTWFzdGVyIiwiUGFnZU1hc3Rlci5QYWdlTWFzdGVyIiwicGFnZVNpemUiLCJQYWdlUnVsZVBhcnRpdGlvbiIsImJvZHlQYXJ0aXRpb25LZXkiLCJjcmVhdGVQYWdlTWFyZ2luQm94ZXMiLCJhcHBseVNwZWNpZmllZCIsIm1hcmdpbkJveGVzTWFwIiwiUGFnZU1hcmdpbkJveFBhcnRpdGlvbiIsIlBhZ2VSdWxlTWFzdGVySW5zdGFuY2UiLCJQYWdlTWFzdGVyLlBhcnRpdGlvbiIsIlBhZ2VSdWxlUGFydGl0aW9uSW5zdGFuY2UiLCJtYXJnaW5Cb3hOYW1lIiwib3duU3R5bGUiLCJvd25WYWwiLCJDc3NDYXNjYWRlLmluaGVyaXRlZFByb3BzIiwiUGFnZU1hcmdpbkJveFBhcnRpdGlvbkluc3RhbmNlIiwiUGFnZU1hc3Rlci5QYWdlTWFzdGVySW5zdGFuY2UiLCJwYWdlUnVsZU1hc3RlciIsInBhZ2VBcmVhRGltZW5zaW9uIiwiYm9yZGVyQm94V2lkdGgiLCJib3JkZXJCb3hIZWlnaHQiLCJtYXJnaW5Cb3hDb250YWluZXJzIiwibWFyZ2luQm94ZXMiLCJob3Jpem9udGFsRGltZW5zaW9ucyIsInZlcnRpY2FsRGltZW5zaW9ucyIsInNpemVNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24iLCJpc0hvcml6b250YWwiLCJjb250YWluZXJzIiwiYm94SW5zdGFuY2VzIiwiYm94UGFyYW1zIiwiYm94SW5mbyIsInBhZ2VNYXJnaW5Cb3hJbnN0YW5jZXMiLCJib3hQYXJhbSIsIlNpbmdsZUJveE1hcmdpbkJveFNpemluZ1BhcmFtIiwiZXZhbHVhdGVkRGltIiwiZ2V0U2l6ZXNPZk1hcmdpbkJveGVzQWxvbmdWYXJpYWJsZURpbWVuc2lvbiIsIm5lZWRSZWNhbGN1bGF0ZSIsIm1heE91dGVyU2l6ZXMiLCJQYWdlTWFzdGVyLnRvRXhwckF1dG8iLCJldmFsdWF0ZWRNYXhTaXplIiwiRml4ZWRTaXplTWFyZ2luQm94U2l6aW5nUGFyYW0iLCJnZXRPdXRlclNpemUiLCJtaW5PdXRlclNpemVzIiwibWluU2l6ZSIsImV2YWx1YXRlZE1pblNpemUiLCJzdGFydEVuZFN1bSIsIm91dGVyU2l6ZSIsImF2YWlsYWJsZVNpemUiLCJzdGFydEJveFBhcmFtIiwiY2VudGVyQm94UGFyYW0iLCJlbmRCb3hQYXJhbSIsInN0YXJ0RW5kQm94UGFyYW0iLCJNdWx0aXBsZUJveGVzTWFyZ2luQm94U2l6aW5nUGFyYW0iLCJjZW50ZXJTaXplcyIsImRpc3RyaWJ1dGVBdXRvTWFyZ2luQm94U2l6ZXMiLCJ4U2l6ZSIsInN0YXJ0RW5kQXV0b1NpemUiLCJoYXNBdXRvU2l6ZSIsInN0YXJ0RW5kU2l6ZXMiLCJ5U2l6ZSIsInhPdXRlck1heENvbnRlbnRTaXplIiwiZ2V0T3V0ZXJNYXhDb250ZW50U2l6ZSIsInlPdXRlck1heENvbnRlbnRTaXplIiwibWF4Q29udGVudFNpemVTdW0iLCJ4T3V0ZXJNaW5Db250ZW50U2l6ZSIsImdldE91dGVyTWluQ29udGVudFNpemUiLCJtaW5Db250ZW50U2l6ZVN1bSIsImhhc0F1dG9TaXplXyIsImZpeGVkU2l6ZSIsIlBhZ2VNYXN0ZXIuUGFydGl0aW9uSW5zdGFuY2UiLCJwYWdlUnVsZVBhcnRpdGlvbiIsInNldFBhZ2VBcmVhRGltZW5zaW9uIiwicmVzb2x2ZVBhZ2VCb3hEaW1lbnNpb25zIiwiYm9yZGVyQm94RXh0ZW50IiwibWFyZ2luU3RhcnQiLCJtYXJnaW5FbmQiLCJlbmRTaWRlIiwiZXh0ZW50TmFtZSIsInBhZ2VFeHRlbnQiLCJwYWRkaW5nU3RhcnQiLCJQYWdlTWFzdGVyLnRvRXhwclplcm8iLCJwYWRkaW5nRW5kIiwiYm9yZGVyU3RhcnRXaWR0aCIsIlBhZ2VNYXN0ZXIudG9FeHByWmVyb0JvcmRlciIsImJvcmRlckVuZFdpZHRoIiwicGFnZU1hcmdpbkJveFBhcnRpdGlvbiIsImFwcGx5VmVydGljYWxBbGlnbiIsImZsZXhBbGlnbiIsImF2YWlsYWJsZUV4dGVudCIsIm91dGVyRXh0ZW50IiwiaW5zaWRlTmFtZSIsIm91dHNpZGVOYW1lIiwib3V0c2lkZSIsInBhZ2VNYXJnaW4iLCJtYXJnaW5JbnNpZGUiLCJQYWdlTWFzdGVyLnRvRXhwclplcm9BdXRvIiwibWFyZ2luT3V0c2lkZSIsInBhZGRpbmdJbnNpZGUiLCJwYWRkaW5nT3V0c2lkZSIsImJvcmRlckluc2lkZVdpZHRoIiwiYm9yZGVyT3V0c2lkZVdpZHRoIiwiZ2V0Q29tcHV0ZWRWYWx1ZXMiLCJwYWdlTWFyZ2luVmFsdWUiLCJib3JkZXJBbmRQYWRkaW5nIiwicG9zaXRpb25BbmRTaXplQWxvbmdGaXhlZERpbWVuc2lvbiIsImZpbmlzaENvbnRhaW5lciIsIlBhZ2VNYW5hZ2VyIiwicm9vdFBhZ2VCb3hJbnN0YW5jZSIsImRlZmluZVBhZ2VQcm9ncmVzc2lvbiIsImlzRXZlblBhZ2UiLCJwYWdlUHJvZ3Jlc3Npb24iLCJyZXNldFNjb3BlIiwibWFrZUNhY2hlS2V5IiwicGFnZU1hc3RlckNhY2hlIiwiUGFnZU1hc3Rlci51c2VyQWdlbnRQYWdlTWFzdGVyUHNldWRvIiwiZ2VuZXJhdGVQYWdlUnVsZU1hc3RlciIsImdlbmVyYXRlQ2FzY2FkZWRQYWdlTWFzdGVyIiwicHJvcHNTdHIiLCJtYWtlQ2FzY2FkZVZhbHVlT2JqZWN0S2V5IiwibmV3UGFnZU1hc3RlciIsInBhZ2VNYXN0ZXJTdHlsZSIsIkNzc0Nhc2NhZGUuY2FzY2FkZVZhbHVlcyIsIkNoZWNrUGFnZVR5cGVBY3Rpb24iLCJDc3NDYXNjYWRlLkNoYWluZWRBY3Rpb24iLCJJc0ZpcnN0UGFnZUFjdGlvbiIsIklzTGVmdFBhZ2VBY3Rpb24iLCJJc1JpZ2h0UGFnZUFjdGlvbiIsIklzUmVjdG9QYWdlQWN0aW9uIiwiSXNWZXJzb1BhZ2VBY3Rpb24iLCJBcHBseVBhZ2VSdWxlQWN0aW9uIiwiQ3NzQ2FzY2FkZS5BcHBseVJ1bGVBY3Rpb24iLCJDc3NDYXNjYWRlLm1lcmdlSW4iLCJ0YXJnZXRNYXAiLCJDc3NDYXNjYWRlLmdldE11dGFibGVTdHlsZU1hcCIsImJveE5hbWUiLCJ0YXJnZXRCb3giLCJtZXJnZUluUGFnZVJ1bGUiLCJQYWdlUGFyc2VySGFuZGxlciIsIkNzc0Nhc2NhZGUuQ2FzY2FkZVBhcnNlckhhbmRsZXIiLCJwYWdlUHJvcHMiLCJjdXJyZW50TmFtZWRQYWdlU2VsZWN0b3IiLCJjdXJyZW50UHNldWRvUGFnZUNsYXNzU2VsZWN0b3JzIiwic2VsZWN0b3JzIiwiY3VycmVudFBhZ2VTZWxlY3RvcnMiLCJmaW5pc2hTZWxlY3RvciIsInNlbGVjdG9yIiwibm9QYWdlU2VsZWN0b3JQcm9wcyIsInByZXZDYXNjVmFsIiwibWFyZ2luQm94TWFwIiwiYm94U3R5bGUiLCJQYWdlTWFyZ2luQm94UGFyc2VySGFuZGxlciIsInRyYW5zZm9ybVVSSXMiLCJhdHRyaWJ1dGVWYWx1ZSIsIm0xIiwibmFtZXNwYWNlUHJlZml4TWFwIiwiZnJvbnRFZGdlQmxhY2tMaXN0SG9yIiwibWFyZ2luLXRvcCIsInBhZGRpbmctdG9wIiwiYm9yZGVyLXRvcC13aWR0aCIsImJvcmRlci10b3Atc3R5bGUiLCJib3JkZXItdG9wLWNvbG9yIiwiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1cyIsImJvcmRlci10b3AtcmlnaHQtcmFkaXVzIiwiZnJvbnRFZGdlQmxhY2tMaXN0VmVydCIsIm1hcmdpbi1yaWdodCIsInBhZGRpbmctcmlnaHQiLCJib3JkZXItcmlnaHQtd2lkdGgiLCJib3JkZXItcmlnaHQtc3R5bGUiLCJib3JkZXItcmlnaHQtY29sb3IiLCJib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1cyIsImZyb250RWRnZVVuZm9yY2VkQnJlYWtCbGFja0xpc3RIb3IiLCJmcm9udEVkZ2VVbmZvcmNlZEJyZWFrQmxhY2tMaXN0VmVydCIsIlZpZXdGYWN0b3J5IiwiZm9vdG5vdGVTdHlsZSIsInN0eWxlclByb2R1Y2VyIiwiY3VzdG9tUmVuZGVyZXIiLCJmYWxsYmFja01hcCIsImNhc2NTdHlsZSIsImdldFBzZXVkb01hcCIsImFkZGVkTmFtZXMiLCJhdHQiLCJQc2V1ZG9FbGVtZW50LnBzZXVkb05hbWVzIiwic2hhZG93U3R5bGVyIiwiUHNldWRvRWxlbWVudC5Qc2V1ZG9lbGVtZW50U3R5bGVyIiwiVnRyZWUuU2hhZG93Q29udGV4dCIsIlZ0cmVlLlNoYWRvd1R5cGUiLCJST09UTEVTUyIsImNvbXB1dGVkUHNldWRvU3R5bGVNYXAiLCJjb21wdXRlZFBzZXVkb1N0eWxlIiwiQ3NzQ2FzY2FkZS5tZXJnZVN0eWxlIiwiQ3NzQ2FzY2FkZS5tZXJnZVZpZXdDb25kaXRpb25hbFN0eWxlcyIsIkNzc0Nhc2NhZGUuZm9yRWFjaFN0eWxlc0luUmVnaW9uIiwiQ3NzQ2FzY2FkZS5mb3JFYWNoVmlld0NvbmRpdGlvbmFsU3R5bGVzIiwibG9hZCIsInJlZkRvY1BhcmFtIiwicmVmRG9jIiwicmVmRWxlbWVudCIsImdldEVsZW1lbnQiLCJyZWZTdHlsZXIiLCJnZXRTdHlsZXJGb3JEb2MiLCJ0ZW1wbGF0ZVVSTFZhbCIsImNyZWF0ZVJlZlNoYWRvdyIsInNoYWRvdyIsImNvbnQyIiwiY3JlYXRlUHNldWRvZWxlbWVudFNoYWRvdyIsImRpc3BsYXlWYWx1ZXMiLCJEaXNwbGF5LmdldENvbXB1dGVkRGlzbGF5VmFsdWUiLCJzaGFkb3dSb290Iiwibm9kZVN0eWxlIiwiaW5oZXJpdGFuY2VWaXNpdG9yIiwiQ3NzQ2FzY2FkZS5Jbmhlcml0YW5jZVZpc2l0b3IiLCJDc3NDYXNjYWRlLmlzSW5oZXJpdGVkIiwiQ3NzLnByb2Nlc3NpbmdPcmRlckZuIiwic2V0UHJvcE5hbWUiLCJzbmFtZSIsIlBPTFlGSUxMRURfSU5IRVJJVEVEX1BST1BTIiwibnVtZXJpY1ZhbCIsIm5lZWRUb1Byb2Nlc3NDaGlsZHJlbiIsImluaGVyaXRlZFZhbHVlcyIsImluaGVyaXRGcm9tU291cmNlUGFyZW50IiwiUGFnZUZsb2F0cy5mbG9hdFJlZmVyZW5jZU9mIiwiY29tcHV0ZVN0eWxlIiwicHJvY2Vzc0NvbnRlbnQiLCJ0cmFuc2ZlclBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wcyIsImluaGVyaXRMYW5nQXR0cmlidXRlIiwiY3JlYXRlU2hhZG93cyIsInNoYWRvd1BhcmFtIiwicGFyZW50V3JpdGluZ01vZGUiLCJpc0Zsb3dSb290IiwiRGlzcGxheS5pc0Zsb3dSb290IiwiRGlzcGxheS5lc3RhYmxpc2hlc0JGQyIsIkRpc3BsYXkuZXN0YWJsaXNoZXNDQkZvckFic29sdXRlIiwiaXNJbnNpZGVCRkMiLCJmbG9hdGluZyIsImxpc3RJdGVtIiwiRGlzcGxheS5pc0lubGluZUxldmVsIiwiRGlzcGxheS5pc1J1YnlJbnRlcm5hbERpc3BsYXkiLCJib3JkZXJDb2xsYXBzZSIsImJvcmRlclNwYWNpbmciLCJvdXRlclBzZXVkbyIsIlZ0cmVlLkZpcnN0UHNldWRvIiwicHJvY2Vzc0FmdGVySWZjb250aW51ZXMiLCJ3aGl0ZXNwYWNlVmFsdWUiLCJ3b3JkQnJlYWsiLCJvdmVyZmxvd1dyYXAiLCJyZXNvbHZlRm9ybWF0dGluZ0NvbnRleHQiLCJpc0ZpcnN0VGltZSIsInByb2Nlc3NSZXBlYXRPbkJyZWFrIiwiZmluZEFuZFByb2Nlc3NSZXBlYXRpbmdFbGVtZW50cyIsImN1c3RvbSIsImVsZW1SZXN1bHQiLCJQc2V1ZG9FbGVtZW50LlBTRVVET19BVFRSIiwiaW1hZ2VSZWYiLCJpbWFnZUJpbmFyeSIsImlubmVyU3JjIiwiVGFza1V0aWwubG9hZEVsZW1lbnQiLCJmYjJSZW1hcCIsIk5DWCIsIm5hdlBhcmVudCIsImNoaWxkRWxlbWVudCIsImhwIiwiYmVoYXZpb3IiLCJkYXRhc2V0IiwiaWZyYW1lIiwiY29udGVudFdpbmRvdyIsImVwdWJSZWFkaW5nU3lzdGVtIiwibGF5b3V0U3R5bGUiLCJoYXNGZWF0dXJlIiwiaW5pdElGcmFtZSIsImltYWdlUmVzb2x1dGlvbiIsImltYWdlcyIsImNzc1dpZHRoIiwiY3NzSGVpZ2h0IiwiYXR0cldpZHRoIiwiYXR0ckhlaWdodCIsImhhc0F1dG9XaWR0aCIsImhhc0F1dG9IZWlnaHQiLCJhdHRyaWJ1dGVDb3VudCIsImRlbGF5ZWRTcmMiLCJhdHRyaWJ1dGUiLCJhdHRyaWJ1dGVOUyIsInJlZ2lzdGVyRWxlbWVudFdpdGhJZCIsImltYWdlIiwiSW1hZ2UiLCJpc1NWR1VybEF0dHJpYnV0ZSIsIlVybHMudHJhbnNmb3JtVVJJcyIsImF0dHJpYnV0ZVByZWZpeCIsImltYWdlRmV0Y2hlciIsImxpc3RTdHlsZUltYWdlIiwibGlzdFN0eWxlVVJMIiwicHJlcHJvY2Vzc0VsZW1lbnRTdHlsZSIsImFwcGx5Q29tcHV0ZWRTdHlsZXMiLCJibGFja0xpc3QiLCJtb2RpZnlFbGVtRGltZW5zaW9uV2l0aEltYWdlUmVzb2x1dGlvbiIsIkxheW91dC5BZnRlcklmQ29udGludWVzIiwiU1ZHX1VSTF9BVFRSSUJVVEVTIiwic2NhbGVkV2lkdGgiLCJzY2FsZWRIZWlnaHQiLCJudW1lcmljTWF4V2lkdGgiLCJudW1lcmljTWF4SGVpZ2h0IiwibnVtZXJpY01pbldpZHRoIiwibnVtZXJpY01pbkhlaWdodCIsIlBSRVBST0NFU1NfRUxFTUVOVF9TVFlMRSIsIlJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQiLCJwYXJlbnRGb3JtYXR0aW5nQ29udGV4dCIsInByZXByb2Nlc3NUZXh0Q29udGVudCIsIkRpZmYucmVzdG9yZU5ld1RleHQiLCJvcmlnaW5sIiwiUFJFUFJPQ0VTU19URVhUX0NPTlRFTlQiLCJwcm9jZXNzZWRUZXh0Iiwib3JpZ2luYWxUZXh0IiwiRGlmZi5kaWZmQ2hhcnMiLCJjcmVhdGVFbGVtZW50VmlldyIsImNyZWF0ZVRleHROb2RlVmlldyIsInByb2Nlc3NDaGlsZHJlbiIsImNyZWF0ZU5vZGVWaWV3IiwiY29udGVudE5vZGUiLCJjb250ZW50U2hhZG93VHlwZSIsImNvbnRlbnRTaGFkb3ciLCJyZXNldFZpZXciLCJWdHJlZS5Ob2RlQ29udGV4dCIsInByb2Nlc3NTaGFkb3dDb250ZW50Iiwic2hhZG93Tm9kZSIsInNyIiwidHJhbnNjbHVzaW9uVHlwZSIsInByb2MiLCJuZXh0UG9zaXRpb25JblRyZWUiLCJiZyIsImFkZEltYWdlRmV0Y2hlcnMiLCJpc1JlbGF0aXZlUG9zaXRpb25lZCIsInByb3BlcnRpZXNOb3RQYXNzZWRUb0RPTSIsIkNzc1Byb3AuVXJsVHJhbnNmb3JtVmlzaXRvciIsIlZ0cmVlLmRlbGF5ZWRQcm9wcyIsIlZ0cmVlLmRlbGF5ZWRQcm9wc0lmUmVsYXRpdmVQb3NpdGlvbmVkIiwicG4iLCJjaGlsZENvbXB1dGVkU3R5bGUiLCJib3hEZWNvcmF0aW9uQnJlYWsiLCJFeHBycy5pc0ZvbnRSZWxhdGl2ZUxlbmd0aFVuaXQiLCJDc3NDYXNjYWRlLmNvbnZlcnRGb250UmVsYXRpdmVMZW5ndGhUb1B4Iiwic3RlcDEiLCJzdGVwMiIsImVsZW0xIiwiZWxlbTIiLCJQc2V1ZG9FbGVtZW50LmdldFBzZXVkb05hbWUiLCJub2RlUG9zaXRpb24xIiwibm9kZVBvc2l0aW9uMiIsInN1cCIsImRhdGUiLCJlbXBoYXNpcyIsInN0cm9uZyIsInN0cmlrZXRocm91Z2giLCJib3gtZGVjb3JhdGlvbi1icmVhayIsImZsb2F0LW1pbi13cmFwLWJsb2NrIiwiZmxvYXQtcmVmZXJlbmNlIiwiZmxvdy1pbnRvIiwiZmxvdy1vcHRpb25zIiwiZm9vdG5vdGUtcG9saWN5IiwiRGVmYXVsdENsaWVudExheW91dCIsImxheW91dEJveCIsIm9yaWdpblJlY3QiLCJ2aWV3cG9ydExlZnQiLCJ2aWV3cG9ydFRvcCIsInJlY3RzIiwiZ2V0Q2xpZW50UmVjdHMiLCJsYXlvdXRCb3hSZWN0Iiwic3VidHJhY3RPZmZzZXRzIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIlZpZXdwb3J0Iiwib3B0X3Jvb3QiLCJvcHRfd2lkdGgiLCJvcHRfaGVpZ2h0Iiwib3V0ZXJab29tQm94IiwiY29udGVudENvbnRhaW5lciIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsIkVMRU1FTlRfT0ZGU0VUX0FUVFIiLCJYTUxEb2NIb2xkZXIiLCJsYW5ncyIsIlNTRSIsIk5vZGVMaXN0Iiwib2Zmc2V0U3RyIiwic3JjTm9kZSIsInRvdGFsT2Zmc2V0IiwiaWRNYXAiLCJ4bWxpZCIsImJ1aWxkSWRNYXAiLCJnZXRFbGVtZW50c0J5TmFtZSIsIkRPTVBhcnNlclN1cHBvcnRlZFR5cGUiLCJwYXJzZUFuZFJldHVybk51bGxJZkVycm9yIiwib3B0X3BhcnNlciIsImRvY0VsZW1lbnQiLCJlcnJvclRhZ05hbWUiLCJwYXJzZVhNTFJlc291cmNlIiwic3VwcG9ydGVkS2V5cyIsIkFQUExJQ0FUSU9OX1hNTCIsIlRFWFRfSFRNTCIsIkFQUExJQ0FUSU9OX1hIVE1MX1hNTCIsIklNQUdFX1NWR19YTUwiLCJyZXNvbHZlQ29udGVudFR5cGUiLCJQcmVkaWNhdGUiLCJjaGVjayIsIm9wdF9jaGlsZFByZWRpY2F0ZSIsInByZWRpY2F0ZSIsInByIiwiZm9yRWFjaE5vZGUiLCJmb3JFYWNoTm9uTnVsbCIsInVhU3R5bGVzaGVldEJhc2VGZXRjaGVyIiwiQ3NzVmFsaWRhdG9yLmJhc2VWYWxpZGF0b3JTZXQiLCJDc3NQYXJzZXIuU3R5bGVzaGVldEZsYXZvciIsIkNzc0Nhc2NhZGUuc2V0VUFCYXNlQ2FzY2FkZSIsIkNzc1BhcnNlci5wYXJzZVN0eWxlc2hlZXRGcm9tVGV4dCIsIlN0eWxlIiwicm9vdEJveCIsImZvbnRGYWNlcyIsImZvb3Rub3RlUHJvcHMiLCJmbG93UHJvcHMiLCJ2aWV3cG9ydFByb3BzIiwiZm9udERlb2JmdXNjYXRvciIsImRlZmluZUJ1aWx0SW4iLCJjdXJyZW50TGF5b3V0UG9zaXRpb24iLCJmaXJzdEZsb3dDaHVua09mRmxvdyIsIm1hdGNoUGFnZVNpZGUiLCJzdGFydFNpZGVPZkZsb3ciLCJsb29rdXBPZmZzZXQiLCJmbG93Q2h1bmtJc0FmdGVyUGFyZW50Rmxvd0ZvcmNlZEJyZWFrIiwicGFnZU51bWJlck9mZnNldCIsIkV4cHJzLkNvbnRleHQiLCJDc3NDYXNjYWRlLm1lcmdlQWxsIiwidGV4dFpvb20iLCJzY2FsZUZhY3RvciIsImRlZmF1bHRGb250U2l6ZSIsIndpZHRoVmFsIiwiaGVpZ2h0VmFsIiwiU3R5bGVJbnN0YW5jZSIsImRlZmF1bHRMYW5nIiwiZm9udE1hcHBlciIsImZhY2VzIiwiRm9udC5Eb2N1bWVudEZhY2VzIiwicm9vdFBhZ2VGbG9hdExheW91dENvbnRleHQiLCJjcmVhdGVDb3VudGVyTGlzdGVuZXIiLCJjcmVhdGVDb3VudGVyUmVzb2x2ZXIiLCJDc3NTdHlsZXIuU3R5bGVyIiwic2V0U3R5bGVyIiwicmVzZXRGbG93Q2h1bmtTdHJlYW0iLCJzdHlsZXJNYXAiLCJnZXRUb3BDb250YWluZXJTdHlsZSIsIkNzc1BhZ2UucmVzb2x2ZVBhZ2VQcm9ncmVzc2lvbiIsIlBhZ2VNYXN0ZXIuUm9vdFBhZ2VCb3hJbnN0YW5jZSIsInBhZ2VNYW5hZ2VyIiwiQ3NzUGFnZS5QYWdlTWFuYWdlciIsImZvbnRGYWNlIiwiRm9udC5wcmVwYXJlUHJvcGVydGllcyIsIkZvbnQuRmFjZSIsImZpbmRPckxvYWRGb250cyIsIkNzc1BhZ2UuZXZhbHVhdGVQYWdlU2l6ZUFuZEJsZWVkIiwiQ3NzUGFnZS5yZXNvbHZlUGFnZVNpemVBbmRCbGVlZCIsInBhZ2VTaGVldFNpemUiLCJnZXRTdHlsZUZvckRvYyIsInBhZ2VCb3hJbnN0YW5jZXMiLCJWdHJlZS5GbG93UG9zaXRpb24iLCJWdHJlZS5uZXdOb2RlUG9zaXRpb25Gcm9tTm9kZSIsIlZ0cmVlLkNodW5rUG9zaXRpb24iLCJWdHJlZS5GbG93Q2h1bmtQb3NpdGlvbiIsImNodW5rT2Zmc2V0IiwibGF5b3V0UG9zaXRpb24iLCJub0xvb2tBaGVhZCIsImN1cnJlbnRQb3NpdGlvbiIsInN0eWxlVW50aWxGbG93SXNSZWFjaGVkIiwiY29uc3VtZWRPZmZzZXQiLCJnZXRDb25zdW1lZE9mZnNldCIsImZsb3dDaHVua0JyZWFrQmVmb3JlIiwiZmxvd0JyZWFrQWZ0ZXIiLCJCcmVhay5zdGFydFNpZGVWYWx1ZVRvQnJlYWtWYWx1ZSIsIkJyZWFrLmJyZWFrVmFsdWVUb1N0YXJ0U2lkZVZhbHVlIiwiZ2V0UG9zaXRpb24iLCJwYWdlTWFzdGVycyIsIkNzc1BhZ2UucGFnZVJ1bGVNYXN0ZXJQc2V1ZG9OYW1lIiwiY29lZmYiLCJwYWdlQXJlYSIsInVwZGF0ZVN0YXJ0U2lkZSIsImxheW91dFBvc2l0aW9uQXRQYWdlU3RhcnQiLCJpbml0TGluZ2VyaW5nIiwiZ2V0UGFnZVJ1bGVQYWdlTWFzdGVyIiwiYnJlYWtPZmZzZXRCZWZvcmVTdGFydEluZGV4IiwiYnJlYWtPZmZzZXRCZWZvcmVTdGFydCIsInBhcmVudEZsb3dQb3NpdGlvbiIsInBhcmVudFN0YXJ0T2Zmc2V0IiwiTGF5b3V0UHJvY2Vzc29yLkJsb2NrRm9ybWF0dGluZ0NvbnRleHQiLCJwYXJlbnRJbnZhbGlkYXRlZCIsInZhbGlkYXRlIiwic2V0Rm9ybWF0dGluZ0NvbnRleHRUb0NvbHVtbiIsImxheW91dERlZmVycmVkUGFnZUZsb2F0cyIsInJlcGVhdGVkSW5kaWNlcyIsInJlbW92ZWRJbmRpY2VzIiwiaGFzQ29udGludWluZ0Zsb2F0RnJhZ21lbnRzSW5GbG93IiwiYWx0IiwiaXNCZXR0ZXIiLCJnZXRMYXN0QWZ0ZXJQb3NpdGlvbklmRGVmZXJyZWRGbG9hdHNFeGlzdHMiLCJzYXZlRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzIiwiZ2V0TWF4UmVhY2hlZEFmdGVyRWRnZSIsImNvdW50ZXJDb25zdHJhaW50IiwiY3JlYXRlTGF5b3V0Q29uc3RyYWludCIsIkxheW91dC5BbGxMYXlvdXRDb25zdHJhaW50IiwiZm9yY2VOb25GaXR0aW5nIiwiZG9udEFwcGx5RXhjbHVzaW9ucyIsImJveENvbnRhaW5lciIsImNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHQiLCJwb3NpdGlvbkF0Q29sdW1uU3RhcnQiLCJjb2x1bW5Db250YWluZXIiLCJMYXlvdXQuQ29sdW1uIiwiY29sdW1uWSIsImNvbHVtblgiLCJjb3B5RnJvbSIsImxheW91dENvbHVtbiIsInBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0IiwiQ3NzUGFnZS5QYWdlUnVsZVBhcnRpdGlvbkluc3RhbmNlIiwiQ3NzUGFnZS5QYWdlUnVsZU1hc3Rlckluc3RhbmNlIiwicG9zaXRpb25BdENvbnRhaW5lclN0YXJ0IiwiZ2V0UmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCIsImxheW91dENvbHVtbnMiLCJsYXlvdXRGbG93Q29sdW1ucyIsImdlbmVyYXRvclJlc3VsdCIsImNvbHVtbkZpbGwiLCJjb2x1bW5CYWxhbmNlciIsIm5vTW9yZUNvbnRlbnQiLCJsYXN0Q29sdW1uIiwiaXNMYXN0Q29sdW1uRm9yY2VCcm9rZW4iLCJDb2x1bW5zLmNyZWF0ZUNvbHVtbkJhbGFuY2VyIiwibG9jayIsImJhbGFuY2VDb2x1bW5zIiwidW5sb2NrIiwiVmdlbi5WaWV3RmFjdG9yeSIsImNyZWF0ZUFuZExheW91dENvbHVtbiIsImlzTG9ja2VkIiwicGFnZUJyZWFrcyIsImRvbnRFeGNsdWRlIiwiVnRyZWUuQ29udGFpbmVyIiwic2V0UGFnZVBhZ2VGbG9hdExheW91dENvbnRleHRDb250YWluZXIiLCJyZW1vdmVkIiwiaXNJZGVudCIsImxheW91dEZsb3dDb2x1bW5zV2l0aEJhbGFuY2luZyIsImlubmVyQ29udGFpbmVyVGFnIiwiaW5uZXJDb250YWluZXIiLCJ0cmFuc2ZlclNpbmdsVXJpQ29udGVudFByb3BzIiwidHJhbnNmZXJDb250ZW50UHJvcHMiLCJzdXBwcmVzc0VtcHR5Qm94R2VuZXJhdGlvbiIsIm91dGVyU2hhcGUiLCJzdGFydFBhZ2UiLCJWdHJlZS5MYXlvdXRQb3NpdGlvbiIsImdldENhc2NhZGVkUGFnZVN0eWxlIiwic2VsZWN0UGFnZU1hc3RlciIsImJsZWVkQm94UGFkZGluZ0VkZ2UiLCJzZXRBdXRvUGFnZVdpZHRoIiwic2V0QXV0b1BhZ2VIZWlnaHQiLCJzZXRDdXJyZW50UGFnZSIsInVwZGF0ZVBhZ2VDb3VudGVycyIsInNldFBhZ2VTaXplQW5kQmxlZWQiLCJDc3NQYWdlLmFkZFByaW50ZXJNYXJrcyIsImFkanVzdFBhZ2VMYXlvdXQiLCJpc0xlZnRQYWdlIiwiQ29uc3RhbnRzLlBhZ2VTaWRlIiwicHJvY2Vzc0xpbmdlciIsImdldFJlYWNoZWRPZmZzZXQiLCJnZXRUcmlnZ2Vyc0ZvckRvYyIsIm5vTW9yZVByaW1hcnlGbG93cyIsInBhZ2VTaGVldFdpZHRoIiwicGFnZVNoZWV0SGVpZ2h0IiwiQmFzZVBhcnNlckhhbmRsZXIiLCJtYXN0ZXJIYW5kbGVyIiwiUGFnZU1hc3Rlci5QYWdlTWFzdGVyUGFyc2VySGFuZGxlciIsIkNzc0Nhc2NhZGUuRGVmaW5lUGFyc2VySGFuZGxlciIsIkNzc0Nhc2NhZGUuUHJvcFNldFBhcnNlckhhbmRsZXIiLCJpbnNpZGVSZWdpb24iLCJwYWdlSGFuZGxlciIsIkNzc1BhZ2UuUGFnZVBhcnNlckhhbmRsZXIiLCJyZWdpb25Db3VudCIsInNwZWNpYWwiLCJyZWdpb25IYW5kbGVyIiwicHJvY2Vzc1ZpZXdwb3J0TWV0YSIsIm1ldGEiLCJTdHlsZVBhcnNlckhhbmRsZXIiLCJDc3NQYXJzZXIuRGlzcGF0Y2hQYXJzZXJIYW5kbGVyIiwiUGFnZU1hc3Rlci5Sb290UGFnZUJveCIsImNhc2NhZGVQYXJzZXJIYW5kbGVyIiwicGFyc2VPUFNSZXNvdXJjZSIsIk9QU0RvY1N0b3JlIiwiTmV0LlJlc291cmNlU3RvcmUiLCJhdXRob3JTdHlsZVNoZWV0cyIsInVzZXJTdHlsZVNoZWV0cyIsInNldFN0eWxlU2hlZXRzIiwidXNlckFnZW50WE1MIiwidHJpZ2dlclNpbmdsZURvY3VtZW50UHJlcHJvY2Vzc2luZyIsInN0eWxlQnlEb2NVUkwiLCJ0cmlnZ2Vyc0J5RG9jVVJMIiwiY2xlYXJTdHlsZVNoZWV0cyIsImFkZEF1dGhvclN0eWxlU2hlZXQiLCJhZGRVc2VyU3R5bGVTaGVldCIsInN0eWxlU2hlZXRzIiwic3R5bGVzaGVldCIsIkJhc2UuY29udmVydFNwZWNpYWxVUkwiLCJCYXNlLmJhc2VVUkwiLCJYbWxEb2MucGFyc2VYTUxSZXNvdXJjZSIsIlBSRVBST0NFU1NfU0lOR0xFX0RPQ1VNRU5UIiwidHJpZ2dlckxpc3QiLCJnZXRFbGVtZW50c0J5VGFnTmFtZU5TIiwidHJpZ2dlckVsZW0iLCJFViIsInNvdXJjZXMiLCJ1c2VyQWdlbnRVUkwiLCJVc2VyQWdlbnRQYWdlQ3NzIiwidGl0bGUiLCJyZWwiLCJzdHlsZUJ5S2V5Iiwic3R5bGVGZXRjaGVyQnlLZXkiLCJzcGgiLCJzb3VyY2UiLCJDc3NQYXJzZXIucGFyc2VTdHlsZXNoZWV0RnJvbVVSTCIsImVuY29kZTMyIiwiZGVjb2RlMzIiLCJieXRlcyIsImJ5dGVzVG9TSEExSW50MzIiLCJhcHBlbmRDb3VudCIsImJpIiwiYnl0ZXNUb1NIQTFIZXgiLCJzaGExIiwiYnl0ZXNUb1NIQTFCeXRlcyIsImJ1bGxldENsb3NlZCIsImJ1bGxldE9wZW4iLCJidWxsZXRFbXB0eSIsIlRPQ1ZpZXciLCJyZW5kZXJlckZhY3RvcnkiLCJFeHBycy5jbG9uZVByZWZlcmVuY2VzIiwic2V0QXV0b0hlaWdodCIsInJlbmRlcmVyIiwibWFrZUN1c3RvbVJlbmRlcmVyIiwic3JjRWxlbSIsInZpZXdQYXJlbnQiLCJxdWVyeVNlbGVjdG9yIiwicmVwbGFjZUNoaWxkIiwiYWRhcHRQYXJlbnRDbGFzcyIsImJ1dHRvbiIsInRvZ2dsZU5vZGVFeHBhbnNpb24iLCJ0YWJJbmRleCIsImFuY2hvckVsZW0iLCJWdHJlZS5QYWdlIiwidG9jQm94VXJsIiwibm9uVG9jQm94RG9jIiwidmlld3BvcnRTaXplIiwic2l6ZVZpZXdwb3J0IiwiVmdlbi5WaWV3cG9ydCIsIk9QUy5TdHlsZUluc3RhbmNlIiwibGF5b3V0TmV4dFBhZ2UiLCJib2R5Q2hpbGRFbGVtIiwidG9jTm9kZUVsZW0iLCJjZSIsImFkYXB0Q2xhc3MiLCJFUFVCRG9jU3RvcmUiLCJPUFMuT1BTRG9jU3RvcmUiLCJtYWtlRGVvYmZ1c2NhdG9yRmFjdG9yeSIsInBsYWluWE1MU3RvcmUiLCJqc29uU3RvcmUiLCJkZW9iZnVzY2F0b3JzIiwiaGF2ZVppcE1ldGFkYXRhIiwibG9hZEVQVUJEb2MiLCJvcGYiLCJwdWJVUkwiLCJsb2FkT1BGIiwibG9hZEFzSlNPTiIsIm1hbmlmZXN0T2JqIiwiT1BGRG9jIiwiaW5pdFdpdGhXZWJQdWJNYW5pZmVzdCIsImxvYWRXZWJQdWIiLCJzdGFydExvYWRpbmdBc0pTT04iLCJzdGFydExvYWRpbmdBc1BsYWluWE1MIiwiY29udGFpbmVyVVJMIiwibG9hZEFzUGxhaW5YTUwiLCJjb250YWluZXJYTUwiLCJyb290cyIsIm9wZkJ5VVJMIiwib3BmWE1MIiwiZW5jWE1MIiwiemlwTWV0YWRhdGEiLCJpbml0V2l0aFhNTERvYyIsInByaW1hcnlPUEZCeUVQdWJVUkwiLCJtYW5pZmVzdExpbmsiLCJ4aHRtbFRvYyIsImRvY1VSTCIsImRvY3VtZW50cyIsInN0YXJ0c1dpdGgiLCJPUEZJdGVtIiwiaXRlbVByb3BlcnRpZXMiLCJCYXNlLmVtcHR5T2JqIiwiaXRlbUVsZW0iLCJvcGZVUkwiLCJtZWRpYVR5cGUiLCJwcm9wU3RyIiwiQmFzZS5hcnJheVRvU2V0Iiwic2tpcFBhZ2VzQmVmb3JlIiwiZ2V0T1BGSXRlbUlkIiwibWFrZURlb2JmdXNjYXRvciIsInVpZCIsInNoYTFTdW0iLCJTSEExLmJ5dGVzVG9TSEExSW50OCIsIndlYmtpdFNsaWNlIiwiZmlsZVJlYWRlciIsIkZpbGVSZWFkZXIiLCJyZWFkQXNBcnJheUJ1ZmZlciIsIk5ldC5yZWFkQmxvYiIsImRhdGFWaWV3IiwiRGF0YVZpZXciLCJieXRlTGVuZ3RoIiwiZ2V0VWludDgiLCJzZXRVaW50OCIsInByZWRlZmluZWRQcmVmaXhlcyIsImRjdGVybXMiLCJtYXJjIiwicmVuZGl0aW9uIiwib25peCIsInhzZCIsImRlZmF1bHRJUkkiLCJtZXRhVGVybXMiLCJsYW5ndWFnZSIsImNyZWF0b3IiLCJ0aXRsZVR5cGUiLCJkaXNwbGF5U2VxIiwiYWx0ZXJuYXRlU2NyaXB0IiwiZ2V0TWV0YWRhdGFDb21wYXJhdG9yIiwiaXRlbTEiLCJpdGVtMiIsIm0yIiwiaTEiLCJpMiIsImdldE1hdGhKYXhIdWIiLCJtYXRoIiwiTWF0aEpheCIsIkh1YiIsInN1cHBvcnRlZE1lZGlhVHlwZXMiLCJhcHBsaWNhdGlvbi94aHRtbCt4bWwiLCJpbWFnZS9qcGVnIiwiaW1hZ2UvcG5nIiwiaW1hZ2Uvc3ZnK3htbCIsImltYWdlL2dpZiIsImF1ZGlvL21wMyIsInRyYW5zZm9ybWVkSWRQcmVmaXgiLCJjcmVhdGVEb2N1bWVudFVSTFRyYW5zZm9ybWVyIiwiQ3NzQ2FzY2FkZS5zdXBwb3J0ZWROYW1lc3BhY2VzIiwiTUFUSE1MIiwiQmFzZS5lc2NhcGVOYW1lU3RyVG9IZXgiLCJwYXRoIiwiaXRlbXMiLCJlbmNvZGVkIiwiQmFzZS51bmVzY2FwZVN0ckZyb21IZXgiLCJtZXRhZGF0YSIsImVwdWJCYXNlVVJMIiwiZGVjb2RlVVJJIiwibWFuaWZlc3RVUkwiLCJwa2ciLCJ1aWRyZWYiLCJ1aWRFbGVtIiwic3JjVG9GYWxsYmFja0lkIiwiYXNBcnJheSIsImluaXRXaXRoRWxlbWVudCIsImZhbGxiYWNrIiwibmF2IiwiY292ZXIiLCJpdGVtTWFwIiwiQmFzZS5pbmRleEFycmF5IiwiaXRlbU1hcEJ5UGF0aCIsImdldFBhdGhGcm9tVVJMIiwiZmFsbGJhY2tTcmMiLCJzcGluZSIsIml0ZW1SZWZFbGVtZW50IiwidG9jQXR0ciIsIm5jeFRvYyIsInBhZ2VQcm9ncmVzc2lvbkF0dHIiLCJDb25zdGFudHMucGFnZVByb2dyZXNzaW9uT2YiLCJpZHBmT2JmVVJMcyIsIlhtbERvYy5wcmVkaWNhdGUiLCJ3aXRoQ2hpbGQiLCJ3aXRoQXR0cmlidXRlIiwibWVkaWFUeXBlRWxlbXMiLCJoYW5kbGVySWQiLCJiaW5kaW5ncyIsIm1yb290IiwicHJlZml4TWFwIiwicmVzb2x2ZVByb3BlcnR5IiwiaXJpIiwicmF3SXRlbXMiLCJyZWZpbmVzIiwic2NoZW1lIiwiREMiLCJyYXdJdGVtc0J5VGFyZ2V0IiwiQmFzZS5tdWx0aUluZGV4QXJyYXkiLCJyYXdJdGVtIiwibWFrZU1ldGFkYXRhIiwiQmFzZS5tYXBPYmoiLCJyYXdJdGVtQXJyIiwiaXRlbU5hbWUiLCJzY2hlbWEiLCJsYW5nSXRlbSIsImVudHJ5TWFwIiwic29ydE1ldGFkYXRhIiwicmVhZE1ldGFkYXRhIiwicHJlUGFnaW5hdGVkIiwiYXNzaWduQXV0b1BhZ2VzIiwibWFuaWZlc3RUZXh0Iiwib2JmdXNjYXRpb25zIiwib2JmdXNjYXRpb25LZXkiLCJTSEExLmJ5dGVzVG9TSEExSGV4IiwibWFrZU9iZnVzY2F0aW9uS2V5IiwiZW5jb2RlZFBhdGgiLCJjb21wcmVzc2VkIiwiY29tcHJlc3NlZFNpemUiLCJvYmZ1c2NhdGlvbiIsIkRFRkFVTFQiLCJlcGFnZSIsImVwYWdlQ291bnQiLCJlcGFnZUNvdW50Q2FsbGJhY2siLCJlcGFnZUlzUmVuZGVyZWRQYWdlIiwib2Zmc2V0UGVyRVBhZ2UiLCJnZXRUb3RhbE9mZnNldCIsIlhtbERvYy5YTUxEb2NIb2xkZXIiLCJpbml0V2l0aFBhcmFtIiwiaXRlbXJlZiIsImFkZERvY3VtZW50IiwicmVhZGluZ1Byb2dyZXNzaW9uIiwicHJpbWFyeUVudHJ5UGF0aCIsInJlYWRpbmdPcmRlciIsImVuY29kZVVSSSIsImhyZWZOb0ZyYWdtZW50IiwiaXRlbUNvdW50IiwidG9jRm91bmQiLCJyZWFkaW5nT3JkZXJPclJlc291cmNlcyIsIml0ZW1PYmoiLCJpc0luUmVhZGluZ09yZGVyIiwiZW5jb2RpbmdGb3JtYXQiLCJpbml0V2l0aENoYXB0ZXJzIiwib2Zmc2V0SW5JdGVtIiwiY2ZpIiwiQ0ZJLkZyYWdtZW50IiwicHJlcGVuZFBhdGhGcm9tTm9kZSIsImZyb21TdHJpbmciLCJvcGZOYXYiLCJuYXZpZ2F0ZSIsImlkcmVmIiwibm9kZU5hdiIsIm1ha2VQYWdlQW5kUG9zaXRpb24iLCJPUEZWaWV3IiwicGFnZVNoZWV0U2l6ZVJlcG9ydGVyIiwiVmdlbi5EZWZhdWx0Q2xpZW50TGF5b3V0IiwiQ291bnRlcnMuQ291bnRlclN0b3JlIiwidmlld0l0ZW0iLCJzcGluZUl0ZW1zIiwib2xkUGFnZSIsImlzRmlyc3RQYWdlIiwicHJldkl0ZW0iLCJuZXdQYWdlIiwiaW5zZXJ0UG9zIiwibWFrZVBhZ2UiLCJwb3NQYXJhbSIsImxheW91dFBvc2l0aW9ucyIsImZpbmlzaFBhZ2VDb250YWluZXIiLCJmaW5pc2hQYWdlIiwicHJldlBvcyIsInJlbmRlclNpbmdsZVBhZ2UiLCJnZXRVbnJlc29sdmVkUmVmc1RvUGFnZSIsImdldFBhZ2VWaWV3SXRlbSIsInB1c2hQYWdlQ291bnRlcnMiLCJwdXNoUmVmZXJlbmNlc1RvU29sdmUiLCJwb3BQYWdlQ291bnRlcnMiLCJwb3BSZWZlcmVuY2VzVG9Tb2x2ZSIsInJlc3VsdFBvc2l0aW9uIiwicGFnZUFuZFBvc2l0aW9uIiwiaXNMYXN0UGFnZSIsImZpbmlzaExhc3RQYWdlIiwibmV4dExheW91dFBvc2l0aW9uIiwic2Vla09mZnNldCIsInNlZWtPZmZzZXRQYWdlSW5kZXgiLCJjb21wbGV0ZSIsInN5bmMiLCJyZXN1bHRQYWdlIiwibm9ybWFsaXplZFBvc2l0aW9uIiwibm9ybWFsaXplU2Vla1Bvc2l0aW9uIiwicmVuZGVyUGFnZSIsInJlbmRlclBhZ2VzVXB0byIsIm5vdEFsbFBhZ2VzIiwibGFzdFJlc3VsdCIsImZpbmRQYWdlIiwibmV4dFZpZXdJdGVtIiwibmV4dFBhZ2UiLCJzcGluZUl0ZW1Mb2FkaW5nQ29udGludWF0aW9ucyIsImlzTGVmdCIsImlzTFRSIiwiZ2V0Q3VycmVudFBhZ2VQcm9ncmVzc2lvbiIsImdldFBhZ2UiLCJpc1JlY3RvUGFnZSIsInByZXZpb3VzUGFnZSIsIm90aGVyUGFnZUFuZFBvc2l0aW9uIiwidGhpc1BhZ2UiLCJvdGhlclBhZ2UiLCJpc1JlY3RvIiwibmV4dDIiLCJyZXN1bHQyIiwib2xkUHJldlBhZ2VDb250IiwicmVzb2x2ZUVQYWdlIiwicmVzb2x2ZUZyYWdtZW50IiwicmVzdG9yZWQiLCJyZXN0b3JlVVJMIiwibmF2aWdhdGVUb0ZyYWdtZW50IiwicGFnZUNvbnQiLCJDb25zdGFudHMuaXNEZWJ1ZyIsIm1hdHJpeCIsIkV4cHJzLmxldHRlcmJveCIsImNzc01hdHJpeCIsImhhbmRsZXJTcmMiLCJzcmNQYXJhbSIsIkJhc2UubGlnaHRVUkxFbmNvZGUiLCJ0eXBlUGFyYW0iLCJwdmFsdWUiLCJodWIiLCJjbG9uZWRNYXRoIiwiaW1wb3J0Tm9kZSIsInJlc29sdmVVUkxzSW5NYXRoTUwiLCJQdXNoIiwiYXR0cnMiLCJuZXdVcmwiLCJzcmNUYWdOYW1lIiwibWFrZU9iamVjdFZpZXciLCJtYWtlTWF0aEpheFZpZXciLCJtYWtlU1NFVmlldyIsIm1hdGhUeXBlc2V0IiwibG9hZGluZ0NvbnRpbnVhdGlvbnMiLCJwcmV2aW91c1ZpZXdJdGVtIiwiZm9yY2VTZXRQYWdlQ291bnRlciIsInB1YlRpdGxlcyIsImF1dG9oaWRlIiwidG9jIiwidG9jQXV0b2hpZGUiLCJ0b2NWaWV3IiwiVG9jLlRPQ1ZpZXciLCJ0b2NXaWR0aCIsInRvY0hlaWdodCIsInNob3dUT0MiLCJoaWRlVE9DIiwiaXNUT0NWaXNpYmxlIiwiVklFV1BPUlRfU1RBVFVTX0FUVFJJQlVURSIsIlZJRVdQT1JUX1NQUkVBRF9WSUVXX0FUVFJJQlVURSIsIlBhZ2VWaWV3TW9kZSIsIlpvb21UeXBlIiwiQWRhcHRpdmVWaWV3ZXIiLCJ2aWV3cG9ydEVsZW1lbnQiLCJpbnN0YW5jZUlkIiwiY2FsbGJhY2tGbiIsIkZvbnQuTWFwcGVyIiwia2ljayIsInNlbmRDb21tYW5kIiwicmVzaXplTGlzdGVuZXIiLCJuZWVkUmVzaXplIiwicGFnZVJlcGxhY2VkTGlzdGVuZXIiLCJoeXBlcmxpbmtMaXN0ZW5lciIsInBhZ2VSdWxlU3R5bGVFbGVtZW50IiwibG9hZFB1YmxpY2F0aW9uIiwibG9hZFhNTCIsImNvbmZpZ3VyZSIsIm1vdmVUbyIsImFkZExvZ0xpc3RlbmVycyIsIkNvbnN0YW50cy5SZWFkeVN0YXRlIiwiTE9BRElORyIsInBhY2thZ2VVUkwiLCJ0b3VjaEFjdGl2ZSIsInRvdWNoWCIsInRvdWNoWSIsIm5lZWRSZWZyZXNoIiwiY3VycmVudFNwcmVhZCIsInBhZ2VQb3NpdGlvbiIsImZpdFRvU2NyZWVuIiwicGFnZVZpZXdNb2RlIiwiU0lOR0xFX1BBR0UiLCJ3YWl0Rm9yTG9hZGluZyIsInJlbmRlckFsbFBhZ2VzIiwibG9nTGV2ZWwiLCJMb2dnaW5nLkxvZ0xldmVsIiwiYWRkTGlzdGVuZXIiLCJjb21tYW5kIiwiUHJvZmlsZS5wcm9maWxlciIsInNldFJlYWR5U3RhdGUiLCJ6aXBtZXRhIiwiYXV0aG9yU3R5bGVTaGVldCIsInVzZXJTdHlsZVNoZWV0IiwiRXB1Yi5FUFVCRG9jU3RvcmUiLCJsb2FkUHViRG9jIiwicmVuZGVyIiwicmVzb2x2ZWRQYXJhbXMiLCJFcHViLk9QRkRvYyIsImNhbmNlbFJlbmRlcmluZ1Rhc2siLCJyZXNpemUiLCJtYXRjaGVkIiwiYXV0b3Jlc2l6ZSIsInZwIiwicmVzb2x2ZUxlbmd0aCIsInVzZXJBZ2VudFJvb3RVUkwiLCJCYXNlLnNldEJhc2VVUkwiLCJCYXNlLnNldFJlc291cmNlQmFzZVVSTCIsInJvb3RVUkwiLCJjb25maWd1cmVQbHVnaW5zIiwiQ09ORklHVVJBVElPTiIsInNob3dDdXJyZW50IiwiZm9yQ3VycmVudFBhZ2VzIiwicmVtb3ZlUGFnZUxpc3RlbmVycyIsImhpZGVQYWdlcyIsInNob3dTaW5nbGVQYWdlIiwibGVmdFdpZHRoIiwicmlnaHRXaWR0aCIsImdldENGSSIsInNlbmRMb2NhdGlvbk5vdGlmaWNhdGlvbiIsInZzIiwiU1BSRUFEIiwiQVVUT19TUFJFQUQiLCJjcmVhdGVWaWV3cG9ydCIsInJlc29sdmVTcHJlYWRWaWV3Iiwic3ByZWFkVmlld0NoYW5nZWQiLCJ1cGRhdGVTcHJlYWRWaWV3Iiwib3BmVmlldyIsImhhc1BhZ2VzIiwiaGFzQXV0b1NpemVkUGFnZXMiLCJzZXRQYWdlU2l6ZVBhZ2VSdWxlcyIsInBhZ2VTaGVldFNpemVBbHJlYWR5U2V0Iiwic3R5bGVUZXh0IiwidG9jVmlzaWJsZSIsInJlbW92ZVJlbmRlcmVkUGFnZXMiLCJyZW1vdmVQYWdlU2l6ZVBhZ2VSdWxlcyIsInJlc2V0Wm9vbSIsIkVwdWIuT1BGVmlldyIsInNldFBhZ2VTaXplIiwiZ2V0U3ByZWFkIiwic2hvd1NwcmVhZCIsInNldFNwcmVhZFpvb20iLCJzaG93UGFnZSIsInNldFBhZ2Vab29tIiwiZ2V0QWRqdXN0ZWRab29tRmFjdG9yIiwiZ2V0U3ByZWFkRGltZW5zaW9ucyIsInBhZ2VEaW1lbnNpb24iLCJjYWxjdWxhdGVab29tRmFjdG9yVG9GaXRJbnNpZGVWaWV3UG9ydCIsIkZJVF9JTlNJREVfVklFV1BPUlQiLCJwYWdlRGltIiwid2lkdGhab29tIiwiaGVpZ2h0Wm9vbSIsInJlbmRlclRhc2siLCJpbnRlcnJ1cHQiLCJSZW5kZXJpbmdDYW5jZWxlZEVycm9yIiwic2l6ZUlzR29vZCIsInJlc2l6ZVRhc2siLCJzZXRFUGFnZUNvdW50TW9kZSIsIklOVEVSQUNUSVZFIiwiY291bnRFUGFnZXMiLCJub3RpZmljYXRpb24iLCJyZXBvcnRQb3NpdGlvbiIsIkNPTVBMRVRFIiwiZ2V0RVBhZ2VGcm9tUG9zaXRpb24iLCJuZXh0U3ByZWFkIiwicHJldmlvdXNTcHJlYWQiLCJsYXN0UGFnZSIsImZpcnN0UGFnZSIsIm5hdmlnYXRlVG9FUGFnZSIsIm5hdmlnYXRlVG8iLCJjdXJyZW50VmlzaWJpbGl0eSIsImNoYW5nZUF1dG9oaWRlIiwiYWN0aW9uTmFtZSIsImNtZCIsIm1heWJlUGFyc2UiLCJ2aWV3ZXIiLCJUYXNrLnN0YXJ0IiwiaHJlZkV2ZW50IiwiaW50ZXJuYWwiLCJydW5Db21tYW5kIiwiZnJhbWVJbnRlcm5hbCIsImFkYXB0X2NvbW1hbmQiLCJjb252ZXJ0Vmlld2VyT3B0aW9ucyIsIkNvcmVWaWV3ZXIiLCJzZXR0aW5ncyIsIm9wdF9vcHRpb25zIiwiQ29uc3RhbnRzLnNldERlYnVnIiwiYWRhcHRWaWV3ZXJfIiwiQWRhcHRpdmVWaWV3ZXIuQWRhcHRpdmVWaWV3ZXIiLCJkaXNwYXRjaGVyIiwiYXV0b1Jlc2l6ZSIsInBhZ2VCb3JkZXJXaWR0aCIsIkFkYXB0aXZlVmlld2VyLlBhZ2VWaWV3TW9kZSIsInNldE9wdGlvbnMiLCJldmVudFRhcmdldCIsImRlZmluZVByb3BlcnR5Iiwic2luZ2xlRG9jdW1lbnRPcHRpb25zIiwib3B0X2RvY3VtZW50T3B0aW9ucyIsIm9wdF92aWV3ZXJPcHRpb25zIiwibG9hZERvY3VtZW50T3JQdWJsaWNhdGlvbiIsInB1YlVybCIsImRvY3VtZW50T3B0aW9ucyIsImNvbnZlcnRTdHlsZVNoZWV0QXJyYXkiLCJjb252ZXJ0U2luZ2xlRG9jdW1lbnRPcHRpb25zIiwiZG9jdW1lbnRPYmplY3QiLCJpbml0aWFsaXplZCIsImluaXRFbWJlZCIsIk5hdmlnYXRpb24iLCJQUkVWSU9VUyIsIk5FWFQiLCJvcHRfZXBhZ2UiLCJFUEFHRSIsInJlc29sdmVOYXZpZ2F0aW9uIiwib3B0X3Nob3ciLCJvcHRfYXV0b2hpZGUiLCJxdWVyeVpvb21GYWN0b3IiLCJ0b051bWJlck9yTnVsbCIsIm9wdCIsImlzQXJyYXkiLCJBZGFwdGl2ZVZpZXdlci5ab29tVHlwZSIsImZvcmNlUmVnaXN0ZXJFbmRUaW1pbmciLCJWaXZsaW9zdHlsZVByaW50IiwiaHRtbERvYyIsInByaW50Q2FsbGJhY2siLCJpZnJhbWVXaW4iLCJoaWRlSWZyYW1lIiwicmVtb3ZlSWZyYW1lIiwiYm9yZGVyV2lkdGgiLCJwcmludEluc3RhbmNlIiwic3JjZG9jIiwidmlld3BvcnRDc3MiLCJ2aWV3cG9ydFNjcmVlbkNzcyIsInByZXBhcmVQcmludCIsImJyb3dzZXJQcmludCIsImNsZWFuVXAiLCJkb2NCbG9iIiwiVmlld2VyIiwibG9hZERvY3VtZW50IiwiY29uZmlnIiwiUFJFU0VUX1NJWkUiLCJkZXNjcmlwdGlvbiIsIkNPTlNUQU5UUyIsImN1c3RvbVdpZHRoIiwiY3VzdG9tSGVpZ2h0IiwiY3VzdG9tTWFyZ2luIiwiYmFzZUxpbmVIZWlnaHQiLCJiYXNlRm9udEZhbWlseSIsInZpZXdlckZvbnRTaXplIiwiUGFnZVN0eWxlIiwicGFnZVN0eWxlIiwiUHJlc2V0U2l6ZSIsInBhZ2VTaXplTW9kZSIsIm9ic2VydmFibGUiLCJEZWZhdWx0IiwicHJlc2V0U2l6ZSIsImlzTGFuZHNjYXBlIiwicGFnZVNpemVJbXBvcnRhbnQiLCJwYWdlTWFyZ2luTW9kZSIsInBhZ2VNYXJnaW5JbXBvcnRhbnQiLCJmaXJzdFBhZ2VNYXJnaW5aZXJvIiwiZmlyc3RQYWdlTWFyZ2luWmVyb0ltcG9ydGFudCIsImZvcmNlSHRtbEJvZHlNYXJnaW5aZXJvIiwid2lkb3dzT3JwaGFucyIsIndpZG93c09ycGhhbnNJbXBvcnRhbnQiLCJpbWFnZU1heFNpemVUb0ZpdFBhZ2UiLCJpbWFnZU1heFNpemVUb0ZpdFBhZ2VJbXBvcnRhbnQiLCJpbWFnZUtlZXBBc3BlY3RSYXRpbyIsImltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50IiwiYmFzZUZvbnRTaXplU3BlY2lmaWVkIiwiYmFzZUZvbnRTaXplSW1wb3J0YW50IiwiYmFzZUxpbmVIZWlnaHRTcGVjaWZpZWQiLCJiYXNlTGluZUhlaWdodEltcG9ydGFudCIsImJhc2VGb250RmFtaWx5U3BlY2lmaWVkIiwiYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQiLCJhbGxJbXBvcnRhbnQiLCJwYWdlT3RoZXJTdHlsZSIsImZpcnN0UGFnZU90aGVyU3R5bGUiLCJyb290T3RoZXJTdHlsZSIsImJlZm9yZU90aGVyU3R5bGUiLCJhZnRlck90aGVyU3R5bGUiLCJzZXRWaWV3ZXJGb250U2l6ZU9ic2VydmFibGUiLCJ2aWV3ZXJGb250U2l6ZU9ic2VydmFibGUiLCJmb250U2l6ZVB4VG9QZXJjZW50Iiwidmlld2VyRm9udFNpemVQZXJjZW50IiwicHVyZUNvbXB1dGVkIiwicGVyY2VudCIsImZvbnRTaXplUGVyY2VudFRvUHgiLCJjc3NUZXh0IiwidG9DU1NUZXh0IiwiZnJvbUNTU1RleHQiLCJwYWdlU3R5bGVSZWdFeHAiLCJjZW50IiwicHJlY2lzaW9uIiwidG9QcmVjaXNpb24iLCJzaXplV18iLCJzaXplSF8iLCJzaXplSW1wb3J0YW50IiwicGFnZU90aGVyU3R5bGVfIiwiZmlyc3RQYWdlT3RoZXJTdHlsZV8iLCJiYXNlRm9udFNpemVfIiwiYmFzZUZvbnRGYW1pbHlfIiwicm9vdE90aGVyU3R5bGVfIiwiYWZ0ZXJPdGhlclN0eWxlXyIsInNpemVXIiwic2l6ZUgiLCJjb3VudEltcG9ydGFudCIsImNvdW50Tm90SW1wb3J0YW50IiwiQXV0byIsIlByZXNldCIsIkN1c3RvbSIsIlplcm8iLCJpbXAiLCJlc2NhcGVVbmljb2RlQ2hhciIsInBlcmNlbnRFbmNvZGVBbXBlcnNhbmRBbmRVbmVuY29kZWRQZXJjZW50IiwicGVyY2VudEVuY29kZUFtcGVyc2FuZEFuZFBlcmNlbnQiLCJwZXJjZW50RGVjb2RlQW1wZXJzYW5kQW5kUGVyY2VudCIsInBlcmNlbnRFbmNvZGVGb3JEYXRhVVJJIiwiZ2V0UmVnRXhwRm9yUGFyYW1ldGVyIiwic3RyaW5nVXRpbCIsImVzY2FwZVVuaWNvZGVTdHJpbmciLCJoaXN0b3J5Iiwic3RvcmVkVXJsIiwicmVzdWx0cyIsInVwZGF0ZWQiLCJyZXBsYWNlU3RhdGUiLCJrZWVwRmlyc3QiLCJsYXN0SW5kZXgiLCJEb2N1bWVudE9wdGlvbnMiLCJ1cmxPcHRpb25zIiwic3JjVXJscyIsInVybFBhcmFtZXRlcnMiLCJnZXRQYXJhbWV0ZXIiLCJiVXJscyIsInhVcmxzIiwiYm9va01vZGUiLCJ1c2VyU3R5bGUiLCJnZXREb2N1bWVudE9wdGlvbnNGcm9tVVJMIiwiZGF0YVVzZXJTdHlsZUluZGV4Iiwic2V0UGFyYW1ldGVyIiwicmVtb3ZlUGFyYW1ldGVyIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwidXBkYXRlVXNlclN0eWxlU2hlZXRGcm9tQ1NTVGV4dCIsInVzZXJTdHlsZVNoZWV0QXJyYXkiLCJkYXRhVXNlclN0eWxlIiwiUGFnZVZpZXdNb2RlSW5zdGFuY2UiLCJDb3JlUGFnZVZpZXdNb2RlIiwiWm9vbU9wdGlvbnMiLCJfdmlld2VyIiwiRml4ZWRab29tRmFjdG9yIiwiZ2V0Q3VycmVudFpvb21GYWN0b3IiLCJGaXRUb1NjcmVlbiIsImdldERlZmF1bHRWYWx1ZXMiLCJkZWZhdWx0TW9kZSIsImNyZWF0ZURlZmF1bHRPcHRpb25zIiwiVmlld2VyT3B0aW9ucyIsImZvbnRTaXplU3RyIiwiZGVub20iLCJoYXNQYXJhbWV0ZXIiLCJmcm9tU3ByZWFkVmlld1N0cmluZyIsImdldFZpZXdlck9wdGlvbnNGcm9tVVJMIiwidG9TcHJlYWRWaWV3U3RyaW5nIiwib2JzZXJ2YWJsZUFycmF5IiwiTG9nZ2VyIiwiRGVidWciLCJtZXNzYWdlUXVldWUiLCJJbmZvIiwiV2FybiIsInV0aWwiLCJvYnMiLCJnZXR0ZXIiLCJ2aWV3ZXJTZXR0aW5ncyIsInZpZXdlck9wdGlvbnMiLCJ2aWV3ZXJPcHRpb25zXyIsImRvY3VtZW50T3B0aW9uc18iLCJjb3JlVmlld2VyXyIsInRvT2JqZWN0Iiwic3RhdGVfIiwicmVhZG9ubHlPYnNlcnZhYmxlIiwibmF2aWdhdGFibGUiLCJ0b2NQaW5uZWQiLCJpbnB1dFVybCIsInNldHVwVmlld2VyRXZlbnRIYW5kbGVyIiwic2V0dXBWaWV3ZXJPcHRpb25TdWJzY3JpcHRpb25zIiwiZ2V0TG9nZ2VyIiwicGF5bG9hZCIsInRvY1Zpc2libGVPbGQiLCJ0b2NWaXNpYmxlTmV3IiwibmF2aWdhdGVUb0ludGVybmFsVXJsIiwiY29tcHV0ZWQiLCJuYXZpZ2F0ZVRvUGFnZSIsIkZJUlNUIiwic2hvd24iLCJhdXRvSGlkZSIsIktleXMiLCJVbmlkZW50aWZpZWQiLCJBcnJvd0Rvd24iLCJBcnJvd0xlZnQiLCJBcnJvd1JpZ2h0IiwiQXJyb3dVcCIsIkhvbWUiLCJFbmQiLCJQYWdlRG93biIsIlBhZ2VVcCIsIkVzY2FwZSIsIkVudGVyIiwiU3BhY2UiLCJpZGVudGlmeUtleUZyb21FdmVudCIsImtleUlkZW50aWZpZXIiLCJtZXRhS2V5IiwiS2V5Ym9hcmRFdmVudCIsIkRPTV9LRVlfTE9DQVRJT05fTlVNUEFEIiwia2V5VXRpbCIsInNldHRpbmdzUGFuZWwiLCJuYXZpZ2F0aW9uT3B0aW9ucyIsInZpZXdlcl8iLCJzZXR0aW5nc1BhbmVsXyIsImp1c3RDbGlja2VkIiwiaXNEaXNhYmxlZCIsIm9wZW5lZCIsInBpbm5lZCIsIm5hdmlnYXRpb25EaXNhYmxlZCIsImRpc2FibGVQYWdlTmF2aWdhdGlvbiIsInBhZ2VOdW1iZXJFbGVtIiwiaXNQYWdlTnVtYmVyRGlzYWJsZWQiLCJpc05hdmlnYXRlVG9QcmV2aW91c0Rpc2FibGVkIiwiaXNOYXZpZ2F0ZVRvTmV4dERpc2FibGVkIiwiaXNOYXZpZ2F0ZVRvTGVmdERpc2FibGVkIiwiaXNOYXZpZ2F0ZVRvUmlnaHREaXNhYmxlZCIsImlzTmF2aWdhdGVUb0ZpcnN0RGlzYWJsZWQiLCJpc05hdmlnYXRlVG9MYXN0RGlzYWJsZWQiLCJoaWRlUGFnZU5hdmlnYXRpb24iLCJ6b29tRGlzYWJsZWQiLCJkaXNhYmxlWm9vbSIsImlzWm9vbU91dERpc2FibGVkIiwiaXNab29tSW5EaXNhYmxlZCIsImlzWm9vbVRvQWN0dWFsU2l6ZURpc2FibGVkIiwiaXNUb2dnbGVGaXRUb1NjcmVlbkRpc2FibGVkIiwiaGlkZVpvb20iLCJmb250U2l6ZUNoYW5nZURpc2FibGVkIiwiZGlzYWJsZUZvbnRTaXplQ2hhbmdlIiwiaXNJbmNyZWFzZUZvbnRTaXplRGlzYWJsZWQiLCJpc0RlY3JlYXNlRm9udFNpemVEaXNhYmxlZCIsImlzRGVmYXVsdEZvbnRTaXplRGlzYWJsZWQiLCJoaWRlRm9udFNpemVDaGFuZ2UiLCJpc1RPQ1RvZ2dsZURpc2FibGVkIiwiZGlzYWJsZVRPQ05hdmlnYXRpb24iLCJoaWRlVE9DTmF2aWdhdGlvbiIsImVwYWdlVG9QYWdlTnVtYmVyIiwicGFnZU51bWJlclRleHQiLCJlcGFnZU9sZCIsInBhZ2VOdW1iZXJPbGQiLCJlcGFnZU5hdiIsImVwYWdlRnJvbVBhZ2VOdW1iZXIiLCJ0b3RhbFBhZ2VzIiwibWV0aG9kTmFtZSIsIm5hdmlnYXRlVG9QcmV2aW91cyIsIm5hdmlnYXRlVG9OZXh0IiwibmF2aWdhdGVUb0xlZnQiLCJuYXZpZ2F0ZVRvUmlnaHQiLCJuYXZpZ2F0ZVRvRmlyc3QiLCJuYXZpZ2F0ZVRvTGFzdCIsInpvb21JbiIsInpvb21PdXQiLCJ6b29tVG9BY3R1YWxTaXplIiwidG9nZ2xlRml0VG9TY3JlZW4iLCJ1cGRhdGVGb250U2l6ZVNldHRpbmdzIiwidG9jQm94IiwidG9nZ2xlVE9DIiwiaW50ZXJ2YWxJRCIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImlzQnV0dG9uIiwiaXNFeHBhbmRlZCIsInNldHRpbmdzVG9nZ2xlIiwiaG9yaXpvbnRhbFNjcm9sbGFibGUiLCJzY3JvbGxXaWR0aCIsImNsaWVudFdpZHRoIiwidmVydGljYWxTY3JvbGxhYmxlIiwic2Nyb2xsSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiaXNQYWdlTnVtYmVySW5wdXQiLCJpc1RPQ0FjdGl2ZSIsImluY3JlYXNlRm9udFNpemUiLCJkZWNyZWFzZUZvbnRTaXplIiwibmF2aWdhdGVUT0MiLCJTZXR0aW5nc1BhbmVsIiwibWVzc2FnZURpYWxvZyIsInNldHRpbmdzUGFuZWxPcHRpb25zIiwiaXNQYWdlU3R5bGVDaGFuZ2VEaXNhYmxlZCIsImRpc2FibGVQYWdlU3R5bGVDaGFuZ2UiLCJpc092ZXJyaWRlRG9jdW1lbnRTdHlsZVNoZWV0RGlzYWJsZWQiLCJpc1BhZ2VWaWV3TW9kZUNoYW5nZURpc2FibGVkIiwiZGlzYWJsZVBhZ2VWaWV3TW9kZUNoYW5nZSIsImlzQm9va01vZGVDaGFuZ2VEaXNhYmxlZCIsImRpc2FibGVCb29rTW9kZUNoYW5nZSIsImlzUmVuZGVyQWxsUGFnZXNDaGFuZ2VEaXNhYmxlZCIsImRpc2FibGVSZW5kZXJBbGxQYWdlc0NoYW5nZSIsIm9mIiwiZGVmYXVsdFBhZ2VTdHlsZSIsImZvY3VzVG9GaXJzdEl0ZW0iLCJvdXRlckVsZW1QYXJhbSIsIm91dGVyRWxlbSIsImlucHV0RWxlbSIsImlzU2V0dGluZ3NBY3RpdmUiLCJpc0luSW5wdXQiLCJpc0luVGV4dEFyZWEiLCJpc0hvdEtleUVuYWJsZWQiLCJNZXNzYWdlRGlhbG9nIiwiZXJyb3JJbmZvIiwiVmlld2VyQXBwIiwiVml2bGlvc3R5bGUiLCJnZXRCYXNlVVJMIiwiVmlld2VyVUkiLCJwdXNoU3RhdGUiLCJuYXZpZ2F0aW9uIiwiaGFuZGxlS2V5Iiwia2V5Q29kZSIsImN0cmxLZXkiLCJhbHRLZXkiLCJzaGlmdEtleSIsIm9uaGFzaGNoYW5nZSIsInJlbG9hZCIsInN1cHBvcnRUb3VjaEV2ZW50cyIsImJpbmRpbmdIYW5kbGVycyIsIm1lbnVCdXR0b24iLCJ2YWx1ZUFjY2Vzc29yIiwidW53cmFwIiwidXRpbHMiLCJ0b2dnbGVEb21Ob2RlQ3NzQ2xhc3MiLCJnZXRTZWxlY3Rpb24iLCJyZW1vdmVBbGxSYW5nZXMiLCJ4U3RhcnQiLCJ5U3RhcnQiLCJhcnJvd0J1dHRvbiIsInN3aXBlUGFnZXMiLCJ0b3VjaGVzIiwidmlzdWFsVmlld3BvcnQiLCJjbGllbnRYIiwiY2xpZW50WSIsInhEaWZmIiwieURpZmYiLCJzdGFydFZpZXdlciIsImFwcGx5QmluZGluZ3MiLCJvbmxvYWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OzhKQWlDS0E7Ozs7OztVQzNCa0JDLE9BQU9DLEVBQUVDLE9BQU0sRUFBR0MsTUFBTSxRQUFRQyxFQUFFSCxFQUFFSSxTQUFTQyxFQUFFTCxFQUFFTSxVQUFVQyxFQUFFUCxFQUFFUSxPQUFPQyxFQUFFVCxFQUFFVSxLQUFLSCxHQUFHLG9CQUFxQkMsU0FBU0QsRUFBRUMsaUJBQWtCVCxHQUE4SEEs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MkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPNEMsS0FDUDVDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzZDLEtBQ1A3QyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPMkMsUUFDUDNDLEdBQU84QyxRQUNQOUMsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU82QyxLQUNQN0MsR0FBTzJDLFFBQ1AzQyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsU0FHVEQsR0FBZ0JyQyxJQUFJTCxHQUFPMkMsUUFLM0IsTUFBYUksR0FBOEIsQ0FDekMvQyxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPZ0QsUUFDUGhELEdBQU9pRCxNQUNQakQsR0FBT08sUUFDUFAsR0FBT2lELE1BQ1BqRCxHQUFPaUQsTUFDUGpELEdBQU9pRCxNQUNQakQsR0FBT2lELE1BQ1BqRCxHQUFPaUQsTUFDUGpELEdBQU9pRCxNQUNQakQsR0FBT2lELE1BQ1BqRCxHQUFPaUQsTUFDUGpELEdBQU9pRCxNQUNQakQsR0FBT2lELE1BQ1BqRCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT08sUUFDUFAsR0FBT2tELE9BQ1BsRCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPZ0QsUUFDUGhELEdBQU9PLFFBQ1BQLEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxRQUNQUCxHQUFPTyxTQUdUbUMsR0FBZ0JyQyxJQUFJTCxHQUFPMkMsUUFLM0IsTUFBYVEsR0FBeUIsQ0FDcENuRCxHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPb0QsT0FDUHBELEdBQU9pRCxNQUNQakQsR0FBT00sSUFDUE4sR0FBT3FELE1BQ1ByRCxHQUFPcUQsTUFDUHJELEdBQU9xRCxNQUNQckQsR0FBT3FELE1BQ1ByRCxHQUFPcUQsTUFDUHJELEdBQU9xRCxNQUNQckQsR0FBT3FELE1BQ1ByRCxHQUFPcUQsTUFDUHJELEdBQU9xRCxNQUNQckQsR0FBT3FELE1BQ1ByRCxHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT00sSUFDUE4sR0FBT2tELE9BQ1BsRCxHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPc0QsUUFDUHRELEdBQU9NLElBQ1BOLEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxJQUNQTixHQUFPTSxLQUdUNkMsR0FBZ0I5QyxJQUFJTCxHQUFPTSxJQUszQixNQUFhaUQsR0FBNEIsQ0FDdkN2RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPeUQsUUFDUHpELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3lELFFBQ1B6RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU8wRCxPQUNQMUQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU93RCxRQUNQeEQsR0FBTzhDLFFBQ1A5QyxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBTzZDLEtBQ1A3QyxHQUFPd0QsUUFDUHhELEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxTQUdURCxHQUFtQmxELElBQUlMLEdBQU93RCxRQUs5QixNQUFhRyxHQUF1QixDQUNsQzNELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzZELE9BQ1A3RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzhELE9BQ1A5RCxHQUFPNEQsT0FDUDVELEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPK0QsS0FDUC9ELEdBQU80RCxPQUNQNUQsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELFFBR1RELEdBQWN0RCxJQUFJTCxHQUFPNEQsT0FLekIsTUFBYUksR0FBMEIsQ0FDckNoRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU82RCxPQUNQN0QsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0Qs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
